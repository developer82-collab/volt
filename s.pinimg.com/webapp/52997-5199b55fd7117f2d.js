"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["52997"],{654471:function(e,t,r){r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};n.hash="b5b71fb4390c1d3835e468a25f687669",t.default=n},176923:function(e,t,r){r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};n.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7",t.default=n},424367:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(501010),o=r(774838),i=r(739405);function a(){var e=(0,o.B)().isAuthenticated,t=(0,i.ml)(),r=(0,n.Z)().checkExperiment;return{mWebCloseupRedesignEnabled:e&&t&&r("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:r("mweb_closeup_redesign").group}}},400962:function(e,t,r){r.d(t,{aX:function(){return b},nK:function(){return w},ou:function(){return y}});var n=r(387784),o=r(653551),i=r(213491),a=r(520803),u=r(680811);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return d(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=(0,i.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),m=h.Provider,y=h.get,v=function(e){return e&&e.pathname?e.pathname+(e.search||""):""};function g(e,t){var r,n={action:t.type,location:t.location,match:t.match};if(t.location===(null==(r=e.current)?void 0:r.location))return e;switch(t.type){case"POP":if(e.forward.length>0&&v(e.forward[0].location)===v(n.location))return p(p({},e),{},{forward:e.forward.slice(1),current:p(p({},e.forward[0]),{},{action:t.type}),previous:e.current?[].concat(c(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});return p(p({},e),{},{forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match}].concat(c(e.forward)):e.forward,current:p(p({},e.previous.slice(-1)[0]),{},{action:t.type}),previous:e.previous.slice(0,-1)});case"PUSH":return p(p({},e),{},{forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[].concat(c(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});case"REPLACE":return p(p({},e),{},{current:n});default:return e}}function b(){var e=y(),t=e.current,r=e.previous;return(0,n.useMemo)(function(){return t?r.concat(t):r},[t,r])}function w(e){var t,r=e.children,i=(0,o.ur)(),l=(0,o.TH)(),c=(0,a.Z)(),d=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(g,{forward:[],current:{action:i,location:l,match:c},previous:[]}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{for(i=(r=r.call(e)).next;!(l=(n=i.call(r)).done)&&(u.push(n.value),2!==u.length);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,2)||s(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],p=d[1],h=(0,n.useRef)(l),y=(0,n.useRef)(c);return(h.current!==l||y.current!==c)&&(p({type:i,location:l,match:c}),h.current=l,y.current=c),(0,u.jsx)(m,{value:f,children:r})}},28031:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(387784);function o(e){return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}function i(){return window.innerWidth}function a(){return window.innerHeight}function u(){return null}function l(){var e=(0,n.useSyncExternalStore)(o,a,u),t=(0,n.useSyncExternalStore)(o,i,u);return null!==e&&null!==t?{height:e,width:t}:null}},758714:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{DW:function(){return c},I:function(){return l},Rn:function(){return p},e3:function(){return y},oo:function(){return u},rk:function(){return m},t7:function(){return h},zI:function(){return s}});var u=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},l=.18,c=function(e,t,r){return .2126*Math.pow(e/255,2.2)+.7151*Math.pow(t/255,2.2)+.0721*Math.pow(r/255,2.2)},s=function(e){var t=e.replace("#","");return(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155},d=function(e,t,r){var n=Math.max(e/=255,t/=255,r/=255),o=n-Math.min(e,t,r),i=0;return 0!==o&&(i=(n===e?(t-r)/o+6*(t<r):n===t?(r-e)/o+2:(e-t)/o+4)*60)<0&&(i+=360),{h:i,s:0===n?0:o/n,b:n}},f=function(e){var t=e.h,r=e.s,n=e.b,o=n*r,i=o*(1-Math.abs(t/60%2-1)),a=n-o,u=0,l=0,c=0;return t<60?(u=o,l=i):t<120?(u=i,l=o):t<180?(l=o,c=i):t<240?(l=i,c=o):t<300?(u=i,c=o):(u=o,c=i),{r:Math.round((u+a)*255),g:Math.round((l+a)*255),b:Math.round((c+a)*255)}},p=function(e){var t,r=e.hexColor,l=e.saturationMultiplier,c=e.brightnessMultiplier,s=e.minSaturationClamp,p=e.mixVal,h=void 0===p?1:p,m=e.minBrightnessClamp,y=u(r);null===y&&(y=[229,229,224]);var v=d.apply(void 0,function(e){if(Array.isArray(e))return a(e)}(t=y)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||i(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=function(e,t,r){return Math.max(t,Math.min(e,r))};v.s=g(v.s*(1+l),s,1),v.b=g(v.b*(1+c),void 0===m?0:m,1);var b=f(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var o,i;o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},v)),w=function(e){return{r:Math.round(b.r*h+e*(1-h)),g:Math.round(b.g*h+e*(1-h)),b:Math.round(b.b*h+e*(1-h))}},x=w(0),S=w(255);return[[x.r,x.g,x.b],[S.r,S.g,S.b]]};function h(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};var t=e.trim(),r="rgba"===t.slice(0,4).toLowerCase(),n=!r&&"rgb"===t.slice(0,3).toLowerCase();if(!r&&!n)return{r:0,g:0,b:0,a:0};var o=t.indexOf("("),a=t.indexOf(")",o);if(-1===o||-1===a)return{r:0,g:0,b:0,a:0};var u=t.slice(o+1,a).split(",").map(function(e){return e.trim()});if(r&&4!==u.length||n&&3!==u.length)return{r:0,g:0,b:0,a:0};var l=function(e){if(Array.isArray(e))return e}(u)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{for(i=(r=r.call(e)).next;!(l=(n=i.call(r)).done)&&(u.push(n.value),4!==u.length);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(u,4)||i(u,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],s=l[1],d=l[2],f=l[3],p=Number(c),h=Number(s),m=Number(d),y=r?Number(f):1;return[p,h,m].some(function(e){return Number.isNaN(e)})||r&&Number.isNaN(y)?{r:0,g:0,b:0,a:0}:{r:p,g:h,b:m,a:y}}function m(e,t){var r=e.a+t.a*(1-e.a);return 0===r?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/r),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/r),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/r),a:r}}var y=function(e){return"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")")}},171556:function(e,t,r){var n=r(387784);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}t.Z=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),e&&i(f,e);var t,r,d=(t=u(),function(){var e,r=l(f);return e=t?Reflect.construct(r,arguments,l(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return a(e)}(this,e)});function f(){var e;if(!(this instanceof f))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return c(a(e=d.call.apply(d,[this].concat(r))),"ref",(0,n.createRef)()),c(a(e),"observer",null),c(a(e),"handleVisibilityChanged",function(t,r){e.props.onVisibilityChange(t,r)}),e}return r=[{key:"componentDidMount",value:function(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}},{key:"render",value:function(){return this.props.children(this.ref)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}(f.prototype,r),Object.defineProperty(f,"prototype",{writable:!1}),f}(n.Component)},623222:function(e,t,r){r.d(t,{$:function(){return o},a:function(){return i}});var n=(0,r(213491).Z)("timeSpentContext"),o=n.Provider,i=n.getMaybe},141483:function(e,t,r){r.d(t,{h:function(){return l}});var n,o=r(347564),i=r(402164);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return Math.floor((window.performance.timeOrigin+window.performance.now())*1e6)}:function(){return 1e6*Date.now()};Object.defineProperty(n=function e(t){var r=this;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");u(this,"start",function(){return r.startTime=l(),r.startTime}),u(this,"end",function(){return r.endTime=l(),r.duration=r.startTime?r.endTime-r.startTime:null,r.duration});try{this.uuid=(0,o.Z)()}catch(e){this.uuid=(0,i.Z)()}t&&Object.assign(this,t)},"prototype",{writable:!1}),t.Z=n},610142:function(e,t,r){r.d(t,{Zt:function(){return ec},iK:function(){return ed},ZP:function(){return eh}});var n=r(387784),o=r(581722),i=r(653551),a=r(20256),u=r(367683),l=r(261954),c=r(309947),s=r(806513),d=r(24246),f=r(906127),p=r(774838),h=r(619481),m=r(661376),y=r(70625),v=r(739405),g=r(662911);function b(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var x=new Map,S=function(e){var t=x.get(e);if(t)return t;var r=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:"BREAK_IN_".concat(e)});return x.set(e,r),r},j=function(e){var t=e.breakIn.index,r=e.items;return r.length<t?r:[].concat(b(r.slice(0,t)),[S(t)],b(r.slice(t)))},P=r(31425),O=r(267288),_=r(596663),I=r(471310),T=r(989045),C=r(966039),E=r(759302),A=r(285676),F=r(956701),k=r(914253),R=r(836643),L=r(633101),N=r(734802),B=r(589247),D=r(384296),M=r(9065),Z=r(680811);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var z=["feedItems","pagination"],U=["isAtEnd","isFetching","fetchMore","refresh"],W=["resource"],K=["resourceConfig"],V=["resourceRef","fetchMore","refresh"],G=["resourceConfig","resourceRef","fetchMore","refresh"];function q(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(t){et(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function J(e,t){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(X=function(){return!!e})()}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t,r){return(t=er(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function er(e){var t=function(e,t){if("object"!=H(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=H(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H(t)?t:t+""}function en(e,t){if(e){if("string"==typeof e)return eo(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eo(e,t):void 0}}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ei=(0,M.Z)(function(){return r.e("65300").then(r.bind(r,827555))},void 0,function(e){return 827555},"app-www-businessNux-BizNuxHomefeedLoader",function(e){return ["65300"]}),ea=(0,M.Z)(function(){return r.e("68443").then(r.bind(r,173842))},void 0,function(e){return 173842},"app-www-save-board-MoreIdeasFeed-MoreIdeasFeed",function(e){return ["68443"]}),eu=function(){var e,t=(function(e){if(Array.isArray(e))return e}(e=(0,C.HW)().plpImageRenderData)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{for(i=(r=r.call(e)).next;!(l=(n=i.call(r)).done)&&(u.push(n.value),1!==u.length);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,1)||en(e,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return t?t.pin_id:null},el=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&J(i,e);var t,r,o=(t=X(),function(){var e,r=ee(i);return e=t?Reflect.construct(r,arguments,ee(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==H(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return Q(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return et(Q(e=o.call.apply(o,[this].concat(r))),"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:e.props.authHomefeedComponentDidUpdate?{pinId:eu(),feedItem:null}:null}),et(Q(e),"backOnlineAutoFetchResource",function(){e.props.pagination.loadNext()}),et(Q(e),"handlePullToRefresh",function(){e.props.pagination.refetch(),e.setState({refreshing:!0})}),et(Q(e),"gridContainerRef",(0,n.createRef)()),et(Q(e),"renderFeedPin",function(t,r){var n=e.props,o=n.feedItemProps,i=n.location,a=n.performanceOptimization,u=n.showSeoMetadata,l=n.surface,c=n.trafficSource,s=o||{},d=s.auxData,f=s.componentType,p=s.feedback,h=s.imageOnly,m=s.impressionData,y=s.objectIdStr,v=s.oneTapSave,g=s.onFeedItemClick,b=s.onPinLinkClick,w=s.shouldAllowProductPriceIndicator,x=s.showSeoMetadata,S=s.viewData,j=s.viewParameter,P=s.viewType,O=(i.search||"").includes("force_seo"),_=!!(null!=a&&a.lazyLoadBelowFoldIndex)&&r>a.lazyLoadBelowFoldIndex,I=!!(null!=a&&a.priorityFetchAboveFoldIndex)&&r<=a.priorityFetchAboveFoldIndex;return(0,Z.jsx)(A.Z,{auxData:d,componentType:f||0,duploFeedItemProps:{onPinClick:g,onPinLinkClick:b,showSeoMetadata:u||O||x},duploLazyLoadImage:_,duploOneTapSave:v,duploPriorityFetchImage:I,duploQueryRef:null,duploShouldAllowProductPriceIndicator:w,feedback:p,imageOnlyOption:h?"image-only":"default",impressionData:m,isUnauthBoardUpsellWithOverlay:e.props.isUnauthBoardUpsellWithOverlay,objectIdStr:y,pinId:t.id,seoDrawerPinType:e.props.seoDrawerPinType,shouldShowSeoDrawerNewfields:e.props.shouldShowSeoDrawerNewfields,shouldShowSeoDrawerOption:e.props.shouldShowSeoDrawerOption,slotIndex:r,surface:l,trackingParams:t.trackingParams,trafficSource:c,unauthBoardUpsellsEnabled:e.props.unauthBoardUpsellsEnabled,viewData:S,viewParameter:j,viewType:P||1})}),et(Q(e),"getBoardId",function(){var t,r=null==(t=e.props.feedKey)?void 0:t.split(":");return r&&r.length>1&&"boardfeed"===r[0]?r[1]:null}),et(Q(e),"hideMoreIdeas",function(){var t,r=e.props,n=r.getReduxBoard,o=r.surface,i=r.trafficSource,a=e.getBoardId(),u="board"===i&&["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(null!=o?o:"")&&a?n(a):null;return(null==u||null==(t=u.featured_board_metadata)?void 0:t.more_ideas)===!1}),e}return r=[{key:"componentDidMount",value:function(){window.addEventListener("online",this.backOnlineAutoFetchResource),(0,P.IA)(this.props.feedKey,this)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.backOnlineAutoFetchResource),(0,P.do)(this.props.feedKey)}},{key:"componentDidUpdate",value:function(e){var t=this.state,r=t.refreshing,n=t.unauthLandingPinStateForAuthHomefeed,o=this.props,i=o.feedItems,a=o.authHomefeedComponentDidUpdate,u=r&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(u&&this.setState({refreshing:!1}),a&&n){var l=a({feedItems:i,prevFeedItems:e.feedItems,finishedRefresh:u,unauthLandingPinStateForAuthHomefeed:n});l&&this.setState({unauthLandingPinStateForAuthHomefeed:l})}}},{key:"render",value:function(){var e=this,t=this.props,r=t.deviceType,o=t.emptyState,i=t.experimentalColumnWidth,c=t.experimentalGutter,d=t.feedItemProps,p=t.feedItems,h=t.feedItemsAdjustment,m=t.feedKey,v=t.feedStoryId,b=t.getColumnSpanConfig,w=t.gridConfig,x=t.i18n,S=t.pageSize,j=t.pagination,P=t.pullToRefresh,C=t.renderFeedItem,A=t.serverRender,F=t.showBizNuxHomefeedLoader,k=t.trafficSource,R=t.visuallyCompleteProfilerOptions,M=t.isLoadingStateEnabled,H=t.initialLoadingStatePinCount,z=t.isLoadingAccessibilityLabel,U=t.isLoadedAccessibilityLabel,W=this.state.unauthLandingPinStateForAuthHomefeed,K=null!=W&&W.feedItem&&p.length?[W.feedItem].concat(function(e){if(Array.isArray(e))return eo(e)}(p)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(p)||en(p)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):p,V=d||{},G=V.viewParameter,q=V.viewType,$=(w||{}).gridMeasurementKey,J=m+($?"|".concat($):""),Q="user_search"===k,X=Q?window.innerWidth-16:void 0,ee=K.some(function(e){return"board"===e.type}),et=Y({columnWidth:(0,_.SY)({deviceType:r,customMWebColumnWidth:X,experimentalColumnWidth:ee?236:i}),renderItem:function(t){var r=t.data,n=t.itemIdx;if(C){var o=C(r,n);if("FALLBACK_TO_DEFAULT"!==o)return o}switch(r.type){case"pin":return(0,Z.jsx)(O.default,{children:e.renderFeedPin(r,n)});case"user":return(0,Z.jsx)(D.Z,{truncateName:!0,userId:r.id,userSearchRepStyle:Q,viewParameter:G,viewType:q});case"board":var i=e.props.getReduxBoard(r.id);return(0,Z.jsx)(g.default,{boardKey:i?{type:"Legacy",data:i}:null,type:"grid",viewParameter:G,viewType:q});case"topic":return(0,Z.jsx)(N.Z,{id:r.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:G,viewType:q});case"story":if("number"==typeof G)return(0,Z.jsx)(L.Z,{slotIndex:n,storyId:r.id,viewParameter:G,viewType:q||1});return null;case"FEED_BREAK_IN":return h&&"breakIn"===h.type&&h.value.content;default:return null}},gutterWidth:(0,_.s)({experimentalGutter:c,trafficSource:k,deviceType:r}),loadItems:j.loadNext,minCols:Q?1:2},w),er=!F&&j.isLoadingNext&&0===K.length&&!this.state.refreshing&&!M,eu=S&&25>parseInt(S,10),el=(null==h?void 0:h.type)==="fullWidthBreakIn"?[{type:"feed",id:"".concat(J,"_feed_0"),item:K.slice(0,h.value.index)},{type:"fullWidthBreakIn",id:"".concat(J,"_break_in_0"),item:h.value.content},{type:"feed",id:"".concat(J,"_feed_1"),item:K.slice(h.value.index)}]:[{type:"feed",id:J,item:K}],ec="desktop"===r,es=ec&&"flashlight"===k,ed=es?0:s.qG;return(0,Z.jsxs)(a.xu,{"data-test-id":"MobileFeed",children:[(0,Z.jsx)(I.Z,{auxData:(null==d?void 0:d.auxData)||null,enabled:!!P,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing,viewParameter:(null==d?void 0:d.viewParameter)||null}),(0,Z.jsxs)(a.xu,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:ed,marginStart:ed,opacity:this.state.refreshing?.5:1,children:[(0,Z.jsxs)(f.Z,{includeBackgroundImages:null==R?void 0:R.includeBackgroundImages,includeVideos:null==R?void 0:R.includeVideos,isAtEndOfFeed:!j.hasNext,isPlaceholderGrid:M&&j.isLoadingNext&&!K.length,itemCount:K.length,pinData:null==R?void 0:R.pins,children:[K.length||M&&j.isLoadingNext?(0,Z.jsx)(a.xu,{"data-test-id":"feed",marginTop:(0,_.kk)({isDesktop:ec}),children:(0,Z.jsx)(y.Z.Consumer,{children:function(e){return(0,Z.jsx)(n.Fragment,{children:(0,Z.jsx)(B.Z,{children:el.map(function(t){return"feed"===t.type?(0,Z.jsx)(l.default,Y({cacheKey:J,getColumnSpanConfig:b,id:A?m:void 0,initialLoadingStatePinCount:H,isFetching:j.isLoadingNext,isLoadedAccessibilityLabel:null!=U?U:"",isLoadingAccessibilityLabel:null!=z?z:"",isLoadingStateEnabled:!!M,items:t.item,scrollContainerRef:e,serverRender:A},et),t.id):"fullWidthBreakIn"===t.type?(0,Z.jsx)(a.xu,{children:t.item},t.id):null})})})}})}):j.isLoadingNext?(0,Z.jsx)(T.Z,{}):null!=o?o:null,j.isLoadingNext&&"board"===k&&eu&&!M&&(0,Z.jsx)(a.xH,{accessibilityLabel:x._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})]}),er&&(0,Z.jsx)(a.xu,{column:12,paddingY:2,children:(0,Z.jsx)(E.Z,{partialViewportWidth:es})}),F&&(0,Z.jsx)(ei,{gridContainerRef:this.gridContainerRef,homefeedLoading:j.isLoadingNext}),!ec&&!j.hasNext&&(0,Z.jsx)(u.b9,{placementId:1000251}),v&&!this.hideMoreIdeas()&&(0,Z.jsx)(a.xu,{marginBottom:6,children:(0,Z.jsx)(ea,{storyId:v})})]})]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,er(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent);function ec(e){var t=e.feedItems,r=e.pagination,n=q(e,z),a=n.feedItemsAdjustment,u=(0,i.TH)(),l=(0,v.ZP)(),s=(0,d.Z)(),f=(0,p.B)(),h=f.isAuthenticated,m=f.isBot,y=(0,o.v9)(function(e){return e.session}).isBizNuxHomefeedLoadShown,g=t;(null==a?void 0:a.type)==="breakIn"&&(g=j({items:t,breakIn:a.value}));var b=(0,c.Z)(),w=b.experimentalColumnWidth,x=b.experimentalGutter,S=(0,k.gC)();return(0,Z.jsx)(el,Y(Y({},n),{},{deviceType:l,experimentalColumnWidth:w,experimentalGutter:x,feedItems:g,getReduxBoard:S,i18n:s,isAuthenticated:h,location:u,pagination:r,showBizNuxHomefeedLoader:!!y,showSeoMetadata:m||!h}))}function es(e){var t=e.isAtEnd,r=e.isFetching,n=e.fetchMore,i=e.refresh,a=q(e,U),u=(0,o.v9)(function(e){var t;return null!=(t=e.feeds[a.feedKey])?t:[]}),l=(0,o.v9)(function(e){return e.desktopStories}),c=(0,R.Z)(u,l),s=c.featuredBoardStoryId,d=c.feedStoryId,f=(0,o.v9)(function(e){return e.session.firstHomeFeedRequestAfterNux}),p=(0,o.I0)();return(0,Z.jsx)(ec,Y(Y({},a),{},{featuredBoardStoryId:s,feedItems:u,feedStoryId:d,pagination:{hasNext:!t,isLoadingNext:r,loadNext:function(){return n()},refetch:function(){f?p((0,F.H5)(!1)):i()}}}))}function ed(e){var t=e.resource,r=t.isAtEnd,n=t.isFetching,o=t.fetchMore,i=t.refresh,a=q(e,W);return(0,Z.jsx)(es,Y(Y({},a),{},{fetchMore:o,isAtEnd:r,isFetching:n,refresh:i}))}function ef(e){var t=e.resourceConfig,r=q(e,K),n=(0,m.Z)(t);return(0,Z.jsx)(ed,Y(Y({},r),{},{resource:n}))}function ep(e){var t=e.resourceRef,r=e.fetchMore,n=e.refresh,o=q(e,V),i=(0,h.Z)(t).isAtEnd;return(0,Z.jsx)(es,Y(Y({},o),{},{fetchMore:r,isAtEnd:i,isFetching:!1,refresh:n}))}function eh(e){var t=e.resourceConfig,r=e.resourceRef,n=e.fetchMore,o=e.refresh,i=q(e,G);return r?(0,Z.jsx)(ep,Y(Y({},i),{},{fetchMore:null!=n?n:function(){},refresh:null!=o?o:function(){},resourceRef:r})):(0,Z.jsx)(ef,Y(Y({},i),{},{resourceConfig:t}))}},31425:function(e,t,r){r.d(t,{IA:function(){return i},cV:function(){return o},do:function(){return a}});var n={},o=function(e){n[e]&&n[e].handlePullToRefresh()},i=function(e,t){n[e]=t},a=function(e){delete n[e]}},267288:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var n=r(49254),o=r(310758),i=r(680811),a=new Set(["pin-card-hover-overlay","pin-card-hover-overlay-open-legend-wrapper"]);function u(e){var t=e.children,r=e.headerHeightModifier,u=(0,n.t)();return(0,i.jsx)(o.Z,{dataTestId:"feed-item-pin-rep-wrapper",onTouch:function(e){var t,n=e.target;if(n instanceof HTMLElement&&("IMG"===n.tagName||a.has(null!=(t=n.getAttribute("data-test-id"))?t:""))){var o=n.getBoundingClientRect().top+window.scrollY-u-(null!=r?r:0);window.scrollTo(window.scrollX,o)}},pressState:"none",children:t})}},49254:function(e,t,r){r.d(t,{c:function(){return o},t:function(){return i}});var n=r(380108);function o(e){return(0,e.children)((0,n.Z)().height)}function i(){return(0,n.Z)().height}},380108:function(e,t,r){r.d(t,{C:function(){return o}});var n=(0,r(213491).Z)("Header"),o=n.Provider;t.Z=n.get},716848:function(e,t,r){r.d(t,{H:function(){return o},J:function(){return i}});var n=(0,r(213491).Z)("PinCreateDeleteContext"),o=n.Provider,i=n.getMaybe},966039:function(e,t,r){r.d(t,{Es:function(){return h},HW:function(){return p},er:function(){return y},rQ:function(){return m}});var n=r(4533),o=r(34550),i=r(767415);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,r){var n;return(n=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==a(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return c(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=function(e){return e>=Date.now()-72e5},d=function(e,t){var r=[];if(e){var n,o=l(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;(!t||i.is_shared)&&s(i.ts)&&r.push(i)}}catch(e){o.e(e)}finally{o.f()}}return r},f=function(e){var t={};if(e){var r,n=l(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.is_shared&&s(o.ts)&&o.pin_id&&(t[o.pin_id]={inviteCode:o.pin_invite_code})}}catch(e){n.e(e)}finally{n.f()}}return t},p=function(){var e,t,r=null!=(e=(0,o.M0)().getItem(n.uc))?e:[],i=d(r,!1),a=d(r,!0),u=i.map(function(e){return e.first_pin_image_signature}),l=a.map(function(e){return e.first_pin_image_signature}),c=f(r);return{extraPlpImages:u,plpImageRenderData:i,extraBlpImages:d(null!=(t=(0,o.M0)().getItem(n.hI))?t:[],!0).map(function(e){return e.first_pin_image_signature}),extraSharedImages:l,sharedPinData:c}},h=function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(e[r].id!==t[r].id)return!1;return!0},m=function(e,t){return e.map(function(e){var r;return u(r={},1,e),u(r,2,(t[e]||[]).map(function(e){var t;return u(t={},1,e),u(t,2,"pin"),t})),r})},y=function(e,t,r,n){var o={};return e.forEach(function(e){var a,u=e.id,l=null!=(a=e.pins.length)?a:0;o[u]=l,(0,i.QX)("webapp.log.nux.pin.picker.step.pin.number.of.pins",l,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:u,gender:r,age:n,use_case_display_name:e.display_name}}),(0,i.S0)("gauge.webapp.log.nux.pin.picker.step.pin.number.of.pins",l,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:u,gender:r,age:n,use_case_display_name:e.display_name}})}),o}},775907:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(20256),o=r(351736),i=r(680811);function a(e){var t,r,a=e.color,u=e.image,l=e.isSelected,c=e.title,s=(0,o.vs)();return(0,i.jsxs)(n.xu,{alignItems:"center","aria-selected":l,dangerouslySetInlineStyle:{__style:{backgroundColor:s?l?"#fff":"#767676":l?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,i.jsx)(n.zd,{height:48,rounding:"circle",width:48,children:u.url&&(0,i.jsx)(n.Ee,{alt:"",color:a,fit:"cover",naturalHeight:null!=(t=u.height)?t:1,naturalWidth:null!=(r=u.width)?r:1,src:u.url})}),(0,i.jsx)(n.xu,{marginEnd:3,marginStart:2,children:(0,i.jsx)(n.xv,{color:l?"inverse":s?"light":"dark",weight:"bold",children:c})})]})}},773382:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(233597);function o(e,t){return function(r){return r((0,n.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}}},148266:function(e,t,r){function n(e){return{type:"PIN_BETTER_SAVE",payload:e}}function o(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function i(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function a(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function u(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function l(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function c(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}r.d(t,{ND:function(){return c},Vp:function(){return u},a1:function(){return n},b6:function(){return l},jg:function(){return i},o4:function(){return o},ti:function(){return a}})},199024:function(e,t,r){r.d(t,{ZN:function(){return l},fv:function(){return c},hr:function(){return u},lD:function(){return s}});var n=r(27399);function o(e,t,r,n,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function u(e){o(a,n,i,u,l,"next",e)}function l(e){o(a,n,i,u,l,"throw",e)}u(void 0)})}}function a(e,t){return n.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}var u=function(e,t){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t}}},l=function(e,t,r){var n;return n=i(regeneratorRuntime.mark(function n(o){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o(u(e,!0)),n.prev=1,n.next=4,a(e,r).callCreate();case 4:t({event_type:601,object_id_str:e}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),o(u(e,!1));case 10:case"end":return n.stop()}},n,null,[[1,7]])})),function(e){return n.apply(this,arguments)}},c=function(e,t,r){var n;return n=i(regeneratorRuntime.mark(function n(o){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o(u(e,!1)),n.prev=1,n.next=4,a(e,r).callDelete();case 4:t({event_type:602,object_id_str:e}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),o(u(e,!0));case 10:case"end":return n.stop()}},n,null,[[1,7]])})),function(e){return n.apply(this,arguments)}},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(r){return n.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then(function(){Object.keys(e).forEach(function(t){var n=e[t];r(u(t,n))})})}}},734802:function(e,t,r){r.d(t,{Z:function(){return A}});var n,o,i=r(581722),a=r(115821),u=r(20256),l=r(104999),c=r(774838),s=r(338065),d=r(199024),f=r(24246),p=r(720459),h=r(775907),m=r(680811);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=["topicRef"],g=["topic","topicBlob","topicInfoForContextualExp"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function x(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var S=function(e){var t=e.backgroundColor,r=e.decreaseNamePadding,n=e.isHomefeedTuner,o=e.isLego,i=e.isSelected,a=e.locale,l=e.nameTextSize,c=e.renderAsPill,s=e.showFollowerCount,d=e.topicName,y=e.followerCount,v=e.image,g=(0,f.Z)(),b=(0,p.Z)(),w=(0,m.jsx)(u.JO,{accessibilityLabel:g._('Selected', ' - ', ' -- '),color:"light",icon:o?"check":"check-circle",size:o?12:24});return c?(0,m.jsx)(h.Z,{color:t||"#767676",image:v,isSelected:null!=i&&i,title:d}):(0,m.jsxs)(u.xu,{"aria-selected":i,position:"relative",children:[(0,m.jsx)(u.zd,{rounding:o||n?4:2,children:(0,m.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,m.jsx)(u.xu,{bottom:!0,left:!0,padding:o&&i?1:0,position:"absolute",right:!0,rounding:o&&i?4:0,top:!0,children:v.url&&(0,m.jsx)(u.Ee,{alt:d,color:t||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:v.url})}),(0,m.jsx)(u.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:o&&i?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:o?4:void 0,top:!0}),o&&i&&(0,m.jsx)(u.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),n?(0,m.jsx)(u.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(u.xv,{align:"center",color:"light",size:l,weight:"bold",children:d})}):(0,m.jsxs)(u.xu,{bottom:!0,left:!0,padding:r?1:2,position:"absolute",right:!0,children:[(0,m.jsx)(u.xv,{color:"light",size:l,weight:"bold",children:d}),s&&y>=0&&(0,m.jsx)(u.xu,{paddingY:1,children:(0,m.jsxs)(u.xv,{color:"inverse",size:"100",children:[(0,m.jsx)(u.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:b(a,y,{shortform:!0,shortform_maximum_fraction_digits:1})}),g._('followers', ' - ', ' -- ')]})})]}),i&&(0,m.jsx)(u.xu,{margin:2,position:"absolute",right:!0,top:!0,children:o?(0,m.jsx)(u.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:w}):w})]})},j=(void 0!==n||(n=r(654471)).hash&&"b5b71fb4390c1d3835e468a25f687669"!==n.hash&&console.error("The definition of 'TopicImageWithText_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),P=function(e){var t,r,n,o,i,u,l=e.topicRef,c=x(e,v),s=(0,a.useFragment)(j,l),d=s.images?{url:null!=(t=s.images.url)?t:"",width:null!=(r=s.images.width)?r:0,height:null!=(n=s.images.height)?n:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,m.jsx)(S,w({backgroundColor:null!=(o=s.background_color)?o:"",followerCount:null!=(i=s.follower_count)?i:0,image:d,topicName:null!=(u=s.name)?u:""},c))},O=function(e){var t,r,n,o,i=e.topic,a=e.topicBlob,u=e.topicInfoForContextualExp,l=x(e,g),c=u||i||a,s=(null==c||null==(t=c.images)?void 0:t["236x"])||(null==c||null==(r=c.images)?void 0:r["400x"])||(null==c||null==(n=c.images)?void 0:n["474x"])||(null==c||null==(o=c.images)?void 0:o.orig)||{height:1,url:"",width:1},d=c&&"follower_count"in c&&void 0!==c.follower_count?c.follower_count:-1;return(0,m.jsx)(S,w({backgroundColor:(null==c?void 0:c.background_color)||"",followerCount:d,image:s,topicName:(null==c?void 0:c.name)||""},l))},_=["decreaseNamePadding","isHomefeedTuner","isLego","isSelected","nameTextSize","onTouch","padding","renderAsPill","showFollowButton","showFollowerCount","shouldClickthrough","viewParameter","viewType"],I=function(e){var t=e.decreaseNamePadding,r=void 0!==t&&t,n=e.isHomefeedTuner,o=e.isLego,a=e.isSelected,f=void 0!==a&&a,p=e.nameTextSize,h=void 0===p?"lg":p,y=e.onTouch,v=e.padding,g=e.renderAsPill,b=e.showFollowButton,w=e.showFollowerCount,x=void 0!==w&&w,S=e.shouldClickthrough,j=e.topic,_=e.viewParameter,I=e.viewType,T=(0,i.I0)(),C=(0,l.Z)(),E=(0,c.B)().locale,A=(0,m.jsxs)(u.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==j.type?(0,m.jsx)(O,{decreaseNamePadding:r,isHomefeedTuner:n,isLego:o,isSelected:f,locale:E,nameTextSize:h,renderAsPill:g,showFollowerCount:x,topic:j.topic,topicBlob:j.topicBlob,topicInfoForContextualExp:j.topicInfoForContextualExp}):(0,m.jsx)(P,{decreaseNamePadding:r,isHomefeedTuner:n,isLego:o,isSelected:f,locale:E,nameTextSize:h,renderAsPill:g,showFollowerCount:x,topicRef:j.topicRef}),!!j&&void 0!==b&&b&&(0,m.jsx)(u.xu,{paddingY:2,children:(0,m.jsx)(s.Z,{followEventType:601,id:j.id,inline:n,invertColors:n,isFollowed:j.is_followed,onFollow:function(e){return T((0,d.ZN)(e,C))},onUnfollow:function(e){return T((0,d.fv)(e,C))},pinKey:null,size:"md",textType:n?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:_||void 0,viewType:I||void 0})})]}),F="/";return j&&(F="/topics/".concat(j.id)),void 0!==S&&S&&j.slug?(0,m.jsx)(u.Tg,{href:F,onTap:function(e){var t=e.event;null==y||y(t)},rounding:2,tapStyle:"compress",children:(0,m.jsx)(u.xu,{padding:void 0===v?2:v,children:A})}):A},T=(void 0!==o||(o=r(176923)).hash&&"e5a0b7dce2aa2313e4cf2c9871cbedf7"!==o.hash&&console.error("The definition of 'TopicRepFragment_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),C=function(e){var t,r,n=e.topicRef,o=e.decreaseNamePadding,i=e.isHomefeedTuner,u=e.isLego,l=e.isSelected,c=e.nameTextSize,s=e.onTouch,d=e.padding,f=e.renderAsPill,p=e.showFollowButton,h=e.showFollowerCount,y=e.shouldClickthrough,v=e.viewParameter,g=e.viewType,b=(0,a.useFragment)(T,n);return(0,m.jsx)(I,{decreaseNamePadding:void 0!==o&&o,isHomefeedTuner:i,isLego:u,isSelected:void 0!==l&&l,nameTextSize:void 0===c?"lg":c,onTouch:s,padding:void 0===d?2:d,renderAsPill:f,shouldClickthrough:void 0!==y&&y,showFollowButton:void 0!==p&&p,showFollowerCount:void 0!==h&&h,topic:{id:null!=(t=b.entityId)?t:"",type:"graphql",is_followed:null!=(r=b.is_followed)&&r,topicRef:b},viewParameter:v,viewType:g})},E=function(e){var t=e.id,r=e.topic,n=e.topicBlob,o=e.topicInfoForContextualExp,a=e.decreaseNamePadding,u=e.isHomefeedTuner,l=e.isLego,c=e.isSelected,s=e.nameTextSize,d=e.onTouch,f=e.padding,p=e.renderAsPill,h=e.showFollowButton,y=e.showFollowerCount,v=e.shouldClickthrough,g=e.viewParameter,b=e.viewType,w=(0,i.v9)(function(e){return e.topics[t]}),x=null!=r?r:w;return(0,m.jsx)(I,{decreaseNamePadding:void 0!==a&&a,isHomefeedTuner:u,isLego:l,isSelected:void 0!==c&&c,nameTextSize:void 0===s?"lg":s,onTouch:d,padding:void 0===f?2:f,renderAsPill:p,shouldClickthrough:void 0!==v&&v,showFollowButton:void 0!==h&&h,showFollowerCount:void 0!==y&&y,topic:{id:t,is_followed:!!(null!=x&&x.is_followed),topic:x,topicBlob:n,topicInfoForContextualExp:o,type:"resource"},viewParameter:g,viewType:b})},A=function(e){var t=e.decreaseNamePadding,r=void 0!==t&&t,n=e.isHomefeedTuner,o=e.isLego,i=e.isSelected,a=void 0!==i&&i,u=e.nameTextSize,l=void 0===u?"lg":u,c=e.onTouch,s=e.padding,d=void 0===s?2:s,f=e.renderAsPill,p=e.showFollowButton,h=void 0!==p&&p,y=e.showFollowerCount,v=void 0!==y&&y,g=e.shouldClickthrough,b=void 0!==g&&g,w=e.viewParameter,x=e.viewType,S=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,_);return S.topicRef?(0,m.jsx)(C,{decreaseNamePadding:r,isHomefeedTuner:n,isLego:o,isSelected:a,nameTextSize:l,onTouch:c,padding:d,renderAsPill:f,shouldClickthrough:b,showFollowButton:h,showFollowerCount:v,topicRef:S.topicRef,viewParameter:w,viewType:x}):(0,m.jsx)(E,{decreaseNamePadding:r,id:S.id,isHomefeedTuner:n,isLego:o,isSelected:a,nameTextSize:l,onTouch:c,padding:d,renderAsPill:f,shouldClickthrough:b,showFollowButton:h,showFollowerCount:v,topic:S.topic,topicBlob:S.topicBlob,topicInfoForContextualExp:S.topicInfoForContextualExp,viewParameter:w,viewType:x})}},402164:function(e,t,r){var n,o,i=r(803035),a=r(554307),u=0,l=0;t.Z=function(e,t,r){var c=t&&r||0,s=t||Array(16),d=(e=e||{}).node||n,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=e.random||(e.rng||i.Z)();null==d&&(d=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=(p[6]<<8|p[7])&16383)}var h=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:l+1,y=h-u+(m-l)/1e4;if(y<0&&void 0===e.clockseq&&(f=f+1&16383),(y<0||h>u)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,l=m,o=f;var v=((0xfffffff&(h+=122192928e5))*1e4+m)%0x100000000;s[c++]=v>>>24&255,s[c++]=v>>>16&255,s[c++]=v>>>8&255,s[c++]=255&v;var g=h/0x100000000*1e4&0xfffffff;s[c++]=g>>>8&255,s[c++]=255&g,s[c++]=g>>>24&15|16,s[c++]=g>>>16&255,s[c++]=f>>>8|128,s[c++]=255&f;for(var b=0;b<6;++b)s[c+b]=d[b];return t||(0,a.Z)(s)}}}]);