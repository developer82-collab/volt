"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["70740"],{978547:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(387784),i=n(20256),o=n(104999),a=n(283661),l=n(941607),s=n(680811);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=function(e){var t=e.graphData,n=e.graphProps,r=e.graphGranularity,c=e.objectiveTypes,u=(0,o.Z)();return t.hasError?(0,s.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,s.jsx)(l.Iq,{})}):(n.yAxes||[]).some(function(e){return(e&&e.series||[]).some(function(e){return(e&&e.data||[]).some(function(e){return 0!==e.y})})})?(0,s.jsx)(a.Z,d(d({graphGranularity:r,height:248,logContextEvent:u,objectiveTypes:c},n),{},{yAxes:n.yAxes||[]})):(0,s.jsx)(i.kC,{alignItems:"center",height:248,justifyContent:"center",children:(0,s.jsx)(l.H6,{})})},f=n(24246),m=n(134301),h=n(442986),y=n(690933),v=n(163225),g=function(e){var t,n=(0,f.Z)(),o=e.objectiveTypes,a=e.graphData,c=e.metricOptions,u=e.selectedMetrics,d=void 0===u?[v.Ox,v.Ox]:u,g=e.setMetric,b=e.seriesControls,_=e.graphGranularity,x=e.hasConversionColumns,j=e.graphProps,O=e.showObjectiveBreakoutSwitch,w=e.isGraphObjectiveBreakoutActive,P=(t=(0,m.UM)(n,b),d.some(function(e){return e.startsWith("CUSTOM_COLUMN_")})?(a.total.graph_data.invalidColumns||[]).map(function(e){var n=t.find(function(t){return t.value===e});return n?n.label:e}):[]);return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,s.jsx)(i.kC.Item,{flex:"grow",children:(0,s.jsxs)(i.xu,{maxWidth:"60%",children:[(0,s.jsx)(i.xu,{height:17}),(0,s.jsx)(h.Z,{componentType:13399,elementType:11358,isGraphObjectiveBreakoutActive:w,metricOptions:c||[[],[]],objectiveTypes:o,selectedMetrics:d||[],setMetric:g}),(0,s.jsx)(i.xu,{height:17})]})}),(0,s.jsx)(i.kC.Item,{flex:"none",children:O&&(0,s.jsx)(y.Z,{})})]}),(0,s.jsx)(p,{graphData:a,graphGranularity:_,graphProps:j,objectiveTypes:o}),(0,s.jsx)(i.xu,{height:10}),P.length>0&&!w&&(0,s.jsx)(l.Ls,{invalidColumns:P}),"hourly"===_&&x&&(0,s.jsx)(i.xu,{children:(0,s.jsx)(l.jf,{})})]})}},576321:function(e,t,n){n.d(t,{Z:function(){return o}});var r=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"symbol",o={maximumFractionDigits:e,minimumFractionDigits:t};return n&&(o.style=n,"currency"===n&&(o.currency=r,o.currencyDisplay=i)),o},i=function(e){try{0..toLocaleString([e])}catch(e){return!1}return!0};function o(e,t,n,o,a,l,s){var c=r(n,o,a,l,s);return t.toLocaleString([i(e)?e:"en-US"],c)}},747185:function(e,t,n){var r=n(387784),i=n(20256),o=n(562400),a=n(680811);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n=e.children,s=(0,r.useRef)(null),c=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],d=c[1],p=(0,o.Z)(function(){s.current&&d(s.current.offsetWidth)},50);return(0,r.useEffect)(function(){return p(),window&&window.addEventListener("resize",p),function(){window&&window.removeEventListener("resize",p)}},[p]),(0,a.jsx)(i.xu,{ref:s,children:n(u)})}},712655:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(547314),i=null;function o(e){(0,r.El)({eventName:"perf.not_supported.".concat(e)})}function a(){if(i)return i;try{if(!window.performance||!performance)return o("window_performance"),i=!1,!1;if(!window.PerformanceObserver||!PerformanceObserver)return o("window_PerformanceObserver"),i=!1,!1;if(!PerformanceObserver.supportedEntryTypes)return o("window_PerformanceObserver_supportedEntryTypes"),i=!1,!1;if(!PerformanceObserver.supportedEntryTypes.includes("mark"))return o("window_PerformanceObserver_supportedEntryTypes_mark"),i=!1,!1;i=["mark","measure","now","setResourceTimingBufferSize"].reduce(function(e,t){return window.performance[t]&&performance[t]||(o("window_performance_".concat(t)),e=!1),e},!0)}catch(e){(0,r.jn)({errorName:e})}return i}},417394:function(e,t,n){n.d(t,{Eq:function(){return F},yh:function(){return B},XJ:function(){return q},Lg:function(){return Q},cB:function(){return J},Ly:function(){return H},JG:function(){return K},P9:function(){return V},ZP:function(){return et},ep:function(){return ee},$e:function(){return Y}});var r,i,o,a=n(426035),l=n(267398),s=n(381571),c=n(217472),u=n(970414),d=n(617120),p=!1;function f(){if(!p){var e=window.innerHeight,t=window.innerWidth;window.addEventListener("resize",function n(){var r=(0,d.bC)(),i=Math.abs(window.innerHeight-e),o=window.innerHeight!==e,a=window.innerWidth!==t;if("phone"===r.deviceType&&(!a&&o&&i<=150||!o&&!a)||"desktop"===r.deviceType&&!o&&!a){window.removeEventListener("resize",n),p=!1;return}K("windowResized"),window.removeEventListener("resize",n),p=!1}),p=!0}}var m=n(712655),h=[{handler:"sterling/advertiser/[advertiserId]/audiences.js",config:{dWeb:{auth:{clientNavigation:{name:"STERLING_AUDIENCES_PAGE_USER_NAV",id:224,constraints:["NavigationCompletev4","audiencesTableRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/edit.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSEDIT_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","editFlowRendered"]},clientNavigation:{name:"STERLING_EDIT_FLOW_USER_NAV",id:225,constraints:["NavigationCompletev4","editFlowRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/create.js","sterling/advertiser/[advertiserId]/ads/duplicate.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSCREATE_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","createFlowRendered"]},clientNavigation:{name:"STERLING_ADSCREATE_USER_NAV",id:233,constraints:["NavigationCompletev4","createFlowRendered"]}}}}},{handler:"sterling/advertiser/[advertiserId]/reporting/[entityType].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_DETAILS_PAGELOAD",id:218,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]},clientNavigation:{name:"STERLING_REPORTING_DETAILS_USER_NAV",id:227,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]}}}}},{handler:"sterling/advertiser/[advertiserId].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_OVERVIEW_PAGELOAD",id:219,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]},clientNavigation:{name:"STERLING_REPORTING_OVERVIEW_USER_NAV",id:226,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/bulk_editor/[page].js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_BULKEDITOR_HISTORY_PAGELOAD",id:231,constraints:["NavigationCompletev4","bulkHistoryRendered"]},clientNavigation:{name:"STERLING_BULKEDITOR_HISTORY_USER_NAV",id:232,constraints:["NavigationCompletev4","bulkHistoryRendered"]}}}}}],y=[{handler:["www/pin/[id]/sent.js","www/pin/[id].js"],config:{mWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["ReduxStoreInitialized","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["ReduxStoreInitialized","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page"]},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page","closeup_dweb_side_by_side_redesign_fast_follow"]}}},dWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["ReduxStoreInitialized","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["ReduxStoreInitialized","image","resource","button"],segments:{product_detail_page:"PRODUCT_DETAILS_INTERACTIVE",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_INTERACTIVE"}},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["button","video","description","shopButton","thumbnailsLoaded","image","resource"],segments:{story_pin:"STORY_PIN_CLOSEUP",product_detail_page:"PRODUCT_DETAILS_RENDER",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_RENDER"}}}}}},{handler:["www/index.js","www/homefeed.js"],config:{unified:{auth:{initialPageLoad:{name:"HOME_FEED_PINTERACTIVE",id:19,constraints:["ReduxStoreInitialized","VisuallyComplete"],annotateExperiments:["web_sw_with_early_hydration","web_install_sw_on_unauth_landing"]},clientNavigation:{name:"HOME_FEED_RENDER",id:2,constraints:["VisuallyComplete"]}}}}},{handler:"www/search/[scope].js",config:{unified:{auth:{clientNavigation:{name:"SEARCH_FEED_RENDER",id:3,constraints:["VisuallyComplete"]}}}}},{handler:"www/search.js",config:{mWeb:{auth:{clientNavigation:{name:"SEARCH_TAB_RENDER",id:25,constraints:["RenderSearchLandingPageBubbles"]}}}}},{handler:"www/[username]/[slug].js",config:{unified:{unauth:{initialPageLoad:{name:"BOARD_PAGE_INTERACTIVE",id:114,constraints:["ReduxStoreInitialized","VisuallyComplete"]}},auth:{initialPageLoad:{name:"initial_app_load_auth_board",id:null,constraints:["ReduxStoreInitialized","VisuallyComplete"]},clientNavigation:{name:"client_route_push_auth_board",id:null,constraints:["VisuallyComplete"]}}}}},{handler:"www/for-you/[boardId].js",config:{unified:{auth:{initialPageLoad:{name:"AUTOMAGICAL_BOARD_PAGE_INTERACTIVE",id:129,constraints:["ReduxStoreInitialized","VisuallyComplete"]}}}}},{handler:"www/ideas/[interest]/[id].js",config:{unified:{unauth:{initialPageLoad:{name:"TOPIC_PAGE_INTERACTIVE",id:119,constraints:["ReduxStoreInitialized","idea_module_loaded"]}}}}},{handler:"www/business/hub.js",config:{dWeb:{auth:{initialPageLoad:{name:"BIZHUB_PINTERACTIVE",id:607,constraints:["ReduxStoreInitialized"]},clientNavigation:{name:"BIZHUB_PAGE_RENDER",id:608,constraints:["NavigationCompletev4"]}}}}},{handler:"www/pin/[id]/visual-search.js",config:{dWeb:{auth:{clientNavigation:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["VisuallyComplete","visualSearchMainPinImageRender"]}}}}},{handler:["www/[username].js","www/[username]/_boards.js","www/[username]/_created.js","www/[username]/_saved.js","www/[username]/_pins.js","www/[username]/_profile.js"],config:{unified:{auth:{initialPageLoad:{name:"OTHER_PROFILE_PAGE_LOAD",id:122,constraints:["ReduxStoreInitialized","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE_PAGE_LOAD",other_profile_no_pins:"OTHER_PROFILE_NO_PINS_PAGE_LOAD",own_profile_no_pins:"OWN_PROFILE_NO_PINS_PAGE_LOAD",own_profile:"OWN_PROFILE_PAGE_LOAD"}},clientNavigation:{name:"OTHER_PROFILE",id:15,constraints:["VisuallyComplete"],segments:{self_profile:"SELF_PROFILE",own_profile:"OWN_PROFILE",own_profile_no_pins:"OWN_PROFILE_NO_PINS",other_profile_no_pins:"OTHER_PROFILE_NO_PINS"}}},unauth:{initialPageLoad:{name:"USER_PAGE_INTERACTIVE",id:115,constraints:["ReduxStoreInitialized","VisuallyComplete"]}}}}},{handler:"www/business/catalogs/[catalog_id]/data-sources.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_DATA_SOURCES_USER_NAV",id:228,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/product-groups.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_PRODUCT_GROUPS_USER_NAV",id:229,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/listings.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/products.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/collage-creation-tool.js",config:{dWeb:{auth:{initialPageLoad:{name:"COLLAGE_CREATION_PAGE_LOAD",id:130,constraints:["ReduxStoreInitialized","VisuallyComplete"]},clientNavigation:{name:"COLLAGE_CREATION_USER_NAV",id:53,constraints:["VisuallyComplete"]}}}}}],v=n(547314),g=n(178355);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w=[].concat(j(y),j(h));function P(e){var t=e.isAuthenticated,n=e.isInitialPageLoad,r=e.isMobile,i=(0,g.H)(),o=w.find(function(e){return Array.isArray(e.handler)?e.handler.includes(i):i===e.handler}),a=null==o?void 0:o.config,l=null==a?void 0:a.unified;if(l||(l=r?null==a?void 0:a.mWeb:null==a?void 0:a.dWeb),l){var s=t?l.auth:l.unauth;if(s){if(n&&s.initialPageLoad)return(0,v.qu)("Found isInitialPageLoad config"),(0,v.qu)(s.initialPageLoad),x({},s.initialPageLoad);else if(!n&&s.clientNavigation)return(0,v.qu)("Found clientNavigation config"),(0,v.qu)(s.clientNavigation),x({},s.clientNavigation)}}return(0,v.qu)("No config found for ".concat(i," :(")),null}var T=function(e){var t,n,r=e.isAuthenticated,i=e.isInitialPageLoad,o=e.isMobile,a=e.segment,l=P({isAuthenticated:r,isInitialPageLoad:i,isMobile:o});return null!=(t=null==l||null==(n=l.segments)?void 0:n[a])?t:null},E=n(23641);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return S(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){R(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R(e,t,n){var r;return(r=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==C(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N={},D=[],k=[],M={},G={},z=[],Z=0,U=0,W=[],X=["webpack_react_profiler","web_early_hydration","web_ngjs_related_modules_response_remove_nulls","web_ngjs_homefeed_response_remove_nulls","web_ngjs_search_response_remove_nulls","ap_dweb_res_user_simplified_grid_overflow_menu_entrypoint","www_isolated_build"];function B(e){e&&K(e),(0,v.qu)("Reset PWT configs"),N={},D=[],k=[],M={},G={},z=[],r=null,Z=0,U=0,o="",W=[]}function F(){return r?U:0}function H(){return r?r.name:"unknown"}function V(){return r?U:null}function q(e,t,n){var r;if((0,m.Z)()){switch(n){case"BOOL":r={type:"BOOL",value:"boolean"==typeof t?t:null};break;case"STRING":r={type:"STRING",value:"string"==typeof t?t:null};break;case"I16":case"I32":case"I64":r={type:n,value:"number"==typeof t?t:null};break;default:(0,v.qu)("Invalid binary annotation type");return}if(null===r.value)return void(0,v.qu)("Invalid binary annotation value");G=L(L({},G),{},R({},e,r)),(0,v.qu)("Add binary annotation: { ".concat(e,": ").concat(r.value," }"))}}function Y(e){if((0,m.Z)())if(r){var t=k.indexOf(e);if(t>-1){if(k.splice(t,1),(0,v.qu)("Remove constraint: ".concat(e,". Remaining constraints: [").concat(k.join(", "),"]")),0===k.length){var n=Z-U,s=[].concat(X,A(r.annotateExperiments||[]));(0,v.fv)({pwtName:r.name,annotateExperiments:s}),(0,v.$v)({eventName:r.name,value:n}),(0,v.$v)({eventName:"complete",value:n,tags:{handler:(0,g.H)()}});var u=(0,d.bC)(),p={type:"surface",surface:r.name,id:r.id,navigationType:i,isAuthenticated:u.isAuthenticated};(0,a.L8)("Report_PWT_Complete_".concat(r.name),U,Z);var f=(0,l.W)({annotateExperiments:s,annotations:{},binaryAnnotations:G,constraintMap:M,endTime:Z,imageTimings:z,isV4Logger:!0,metricId:p,pwtStaticContext:u,startTime:U,traceId:o,spans:[]});(0,v.qu)("All constraints complete. ".concat(r.name," PWT completed at ").concat(Math.floor(Z),"ms. PWT duration: ").concat(Math.floor(n),"ms")),(0,v.qu)("Result:",f),(0,c.Z)({metricId:p,pwtStaticContext:u,result:f,isV4Logger:!0,annotateExperiments:s}),B()}}else(0,v.jn)({errorName:"constraint_completed_not_in_PWT_constraint_list",pwtName:r.name,errorDetailsTag:e})}else(0,v.jn)({errorName:"remove_constraint_while_no_PWT_in_progress",errorDetailsTag:e}),D.push(e)}function $(e,t){if((0,m.Z)())if(r){var n,i,o=k.indexOf(e);o>-1&&(Z<t&&(Z=t),M[e]=t,(0,v.eR)(k[o],null==(n=r)?void 0:n.name),(0,v.$v)({eventName:"".concat(null==(i=r)?void 0:i.name,".constraint.").concat(e),value:t}),(0,v.$v)({eventName:"constraint.".concat(e),value:t,tags:{handler:(0,g.H)()}}),(0,v.qu)("Complete constraint: ".concat(e," at ").concat(Math.floor(t),"ms")),Y(e))}else N[e]||(N[e]=t)}function K(e){if((0,m.Z)()&&r){var t=[].concat(X,A(r.annotateExperiments||[]));(0,v.T0)({abortReason:e,pwtName:r.name,annotateExperiments:t}),k.forEach(function(e){var t;(0,v.yi)(e,null==(t=r)?void 0:t.name)});var n=(0,d.bC)(),a={type:"surface",surface:r.name,id:r.id,navigationType:i,isAuthenticated:n.isAuthenticated},s=(0,l.N)({reason:e,annotateExperiments:t,annotations:{},binaryAnnotations:G,constraintMap:M,endTime:performance.now(),imageTimings:z,isV4Logger:!0,metricId:a,pwtStaticContext:n,startTime:U,traceId:o,spans:[]});(0,v.qu)("Abort ".concat(r.name," PWT. Abort reason: ").concat(e)),(0,v.qu)("Result:",s),(0,c.Z)({metricId:a,pwtStaticContext:n,result:s,isV4Logger:!0,annotateExperiments:t}),B()}}function J(e){if((0,m.Z)()&&r&&k.includes("VisuallyComplete"))if((0,v.qu)("Set visually complete result"),(0,v.qu)("Image resource timings: ",e),0===(z=e).length)K("visuallyComplete_noImages");else{var t=Math.max.apply(Math,A(z.map(function(e){return e.responseEnd||0})));(0,E.Nx)("VisuallyComplete",t)}}function Q(e){if((0,m.Z)())if(r&&r.name.toLowerCase()!==e.toLowerCase()){var t=[].concat(X,A(r.annotateExperiments||[])),n=(0,d.bC)(),o=n.isAuthenticated,a=n.deviceType,l=T({isAuthenticated:o,isInitialPageLoad:"initial_app_load"===i,isMobile:"phone"===a,segment:e});if(!l)return void(0,v.jn)({errorName:"segment_action_name_not_found",errorDetailsTag:e});(0,v.T0)({abortReason:"segmentChange",pwtName:r.name,annotateExperiments:t}),r.name=l,(0,v.qu)("Set segment to ".concat(e,". PWT action name: ").concat(l)),(0,v.sd)({pwtName:r.name,annotateExperiments:[].concat(X,A(r.annotateExperiments||[]))})}else(0,v.jn)({errorName:"set_segment_while_no_PWT_in_progress",errorDetailsTag:e})}function ee(e,t,n){if((0,m.Z)())if(r&&K("routeChange"),"POP"===e&&!1===n);else{f();var a,l=(0,d.bC)(),c=l.isAuthenticated,u=l.deviceType,p=l.serverData;if(r=P({isAuthenticated:c,isInitialPageLoad:n,isMobile:"phone"===u})){if(U=t,n)i="initial_app_load";else switch(e){case"PUSH":i="client_route_push";break;case"REPLACE":i="client_route_replace"}(0,v.sd)({pwtName:r.name,annotateExperiments:[].concat(X,A(r.annotateExperiments||[]))}),(0,v.qu)("Start ".concat(r.name," PWT")),null==(a=r)||a.constraints.forEach(function(e){(0,m.Z)()&&(r?((0,v.DM)(e,r.name),k.includes(e)||(k.push(e),(0,v.qu)("Add constraint: ".concat(e)))):(0,v.jn)({errorName:"add_constraint_while_no_PWT_in_progress",errorDetailsTag:e}))}),k.forEach(function(e){N[e]?$(e,N[e]):D.includes(e)&&Y(e)}),o=(0,s.vc)()||(0,s.ZP)("initial_app_load"===i,null==p?void 0:p.trace_id)}}}function et(e){var t=e.traceLoggerData;try{if((0,d._A)({serverData:t}),!(0,m.Z)())return void(0,v.El)({eventName:"unsupportedPWTBrowser"});(0,v.El)({eventName:"supportedPWTBrowser"}),f(),u.Z.onSessionPause(K);var n=new PerformanceObserver(function(e){e&&e.getEntries&&e.getEntries().forEach(function(e){e&&e.name&&!e.name.startsWith("--")&&e.name.includes("complete_constraint__")&&$(e.name.split("complete_constraint__")[1]||"",e.startTime)})});n.observe&&n.observe({type:"mark",buffered:!0});var r=new PerformanceObserver(function(e){e.getEntries().forEach(function(e){var t=(window.navigator.connection||{}).rtt;if(t&&"number"==typeof t){var n=e.responseEnd-t/2;n>0&&(0,a.ZP)("client_chunkEndTime",n)}(0,a.L8)("dom_complete",e.startTime,e.domComplete),(0,a.L8)("dom_interactive",e.startTime,e.domInteractive),(0,a.L8)("dom_content_loaded_event_end",e.startTime,e.domContentLoadedEventEnd),(0,a.L8)("load_event_end",e.startTime,e.loadEventEnd),(0,a.L8)("response_start",e.startTime,e.responseStart),(0,a.L8)("response_duration",e.responseStart,e.responseEnd)})});r.observe&&r.observe({type:"navigation",buffered:!0});var i=new PerformanceObserver(function(e){e.getEntries().forEach(function(e){e.identifier.includes("MainPinImage")&&!W.includes(e.identifier)&&W.push(e.identifier)})});i.observe({type:"element",buffered:!0}),window.addEventListener("beforeunload",function(){n.disconnect(),r.disconnect(),i.disconnect()})}catch(e){(0,v.jn)({errorName:e})}}},23641:function(e,t,n){n.d(t,{Nx:function(){return l},Yl:function(){return u},l7:function(){return c},qS:function(){return d},rt:function(){return p},sX:function(){return s}});var r=n(387784),i=n(426035),o=n(712655),a=n(417394),l=function(e,t){(0,o.Z)()&&(t?performance.mark("complete_constraint__".concat(e),{startTime:t}):performance.mark("complete_constraint__".concat(e)),(0,i.L8)("constraint__".concat(e),(0,a.Eq)(),null!=t?t:performance.now()))},s=function(e){(0,a.JG)(e)},c=function(e){(0,a.$e)(e)},u=function(e){(0,a.Lg)(e)},d=function(e){(0,r.useEffect)(function(){(0,a.Lg)(e)},[e])},p=function(e,t,n){(0,a.XJ)(e,t,n)}},280940:function(e,t,n){var r=n(387784),i=n(955491),o=n(680811);function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return s(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n,s=e.x,c=e.datum,u=e.showTooltip,d=e.hideTooltip,p=e.setXOffset,f=e.setXValue,m=e.scale,h=function(e){if(Array.isArray(e))return e}(t=(0,r.useTransition)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||l(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=(h[0],h[1]);(0,r.useEffect)(function(){return y(function(){u()}),y(function(){p(s||0)}),y(function(){f(c?c.x:0)}),function(){y(function(){d()})}},[u,d,p,f,s,c]);var v=null==m||null==(n=m.y)?void 0:n.range();return(0,o.jsx)("line",{style:{strokeWidth:1,stroke:i.qA.darkGray},x1:s,x2:s,y1:v?Math.max.apply(Math,a(v)):0,y2:v?Math.min.apply(Math,a(v)):0})}},283661:function(e,t,n){var r=n(387784),i=n(25290),o=n(561001),a=n(670988),l=n(533775),s=n(667993),c=n(136008),u=n(121044),d=n(21493),p=n(296969),f=n(172677),m=n(592991),h=n(20256),y=n(562400),v=n(53596),g=n(747185),b=n(280940),_=n(680811);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var j=["xAxis"];function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(P=function(){return!!e})()}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){A(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}var I=function(e){return e.values.map(function(t,n){return e.values&&1===e.values.length?0:n*(1/(e.values.length-1))})},L=function(e,t,n,r){var i=e.values[n];return e.dataFormatter(i,!!r)},R=function(e,t){return isNaN(t)||isNaN(e)||!(t>0)?0:e/t},N=function(e){var t=e.xAxis.boldedValues,n=e.index,r="number"==typeof n&&(void 0===t?[]:t)[n];e.xAxis;var o=C(C({},function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,j)),{},{index:n,style:{fontFamily:v.Z,padding:4,fontWeight:r?"bold":"normal"}});return(0,_.jsx)(i.X,C(C({},o),{},{className:"xAxislabelText"}))},D=(0,y.Z)(function(e,t,n){e({event_type:105,component:13399,aux_data:{interaction_time:t,campaign_objectives:n.toString()}})},3e3),k=function(e,t){return(e||0)<t?t:e||0};t.Z=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");y.prototype=Object.create(e&&e.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),e&&O(y,e);var t,n,r=(t=P(),function(){var e,n=T(y);return e=t?Reflect.construct(n,arguments,T(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==x(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return w(e)}(this,e)});function y(){var e;if(!(this instanceof y))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return A(w(e=r.call.apply(r,[this].concat(n))),"state",{isHovering:!1,tooltipXOffset:0,hoverXValue:0,totalTooltipHover:0,tooltipHoverStart:0}),A(w(e),"yMaxima",[]),A(w(e),"xLabelWidthMaxima",0),A(w(e),"handleShowTooltip",function(){e.setState({isHovering:!0,tooltipHoverStart:Date.now()})}),A(w(e),"handleHideTooltip",function(){e.setState(function(e){var t=e.tooltipHoverStart;return{isHovering:!1,totalTooltipHover:e.totalTooltipHover+(Date.now()-t)}},function(){return D(e.props.logContextEvent,e.state.totalTooltipHover,e.props.objectiveTypes)})}),A(w(e),"handleGetXLabelMaxima",function(){e.container&&Array.from(e.container.querySelectorAll(".xAxislabelText")).forEach(function(t){if(t){var n=null==t?void 0:t.getBoundingClientRect();e.xLabelWidthMaxima=Math.max(e.xLabelWidthMaxima,(null==n?void 0:n.width)||0)}})}),e}return n=[{key:"renderXAxis",value:function(e){return(0,_.jsx)(o.E,{style:{axis:{stroke:"#efefef"},tickLabels:{fontFamily:v.Z,padding:4}},tickFormat:function(t){var n="string"==typeof t?parseInt(t,10):t;return e.dataFormatter(n)},tickLabelComponent:(0,_.jsx)(N,{xAxis:e}),tickValues:e.values})}},{key:"renderYAxis",value:function(e,t,n){if(!e)return null;var r={axis:{stroke:"none"},axisLabel:{fill:e.labelColor,fontFamily:v.Z,fontWeight:"bold",fontSize:"14px",textAnchor:"start"},grid:{stroke:"#cccccc",strokeWidth:.5},tickLabels:{fill:e.labelColor,fontFamily:v.Z,fontWeight:"bold",textAnchor:"start"}};return 0===t?(0,_.jsx)(o.E,{axisLabelComponent:(0,_.jsx)(i.X,{angle:0,x:0,y:15}),crossAxis:!1,dependentAxis:!0,gridComponent:(0,_.jsx)(a.c,{x1:0,x2:n}),label:e.label,offsetX:50,style:r,tickFormat:function(t,n){return L(e,t,n,!0)},tickLabelComponent:(0,_.jsx)(i.X,{dx:-40,dy:-15}),tickValues:I(e)},t):1===t?(0,_.jsx)(o.E,{axisLabelComponent:(0,_.jsx)(i.X,{angle:0,x:n,y:15}),crossAxis:!1,dependentAxis:!0,gridComponent:(0,_.jsx)(a.c,{x1:0,x2:n}),label:e.label,offsetX:n,style:C(C({},r),{},{axisLabel:C(C({},r.axisLabel),{},{textAnchor:"end"}),tickLabels:C(C({},r.tickLabels),{},{textAnchor:"end"})}),tickFormat:function(t,n){return L(e,t,n,!0)},tickLabelComponent:(0,_.jsx)(i.X,{dx:10,dy:-15}),tickValues:I(e)},t):null}},{key:"renderBar",value:function(e,t){var n=this,r=e.data&&e.data.length,i=this.getBarWidth(r),o=this.getBarCornerRadius(r),a=e.data.map(function(e){return{x:"number"==typeof e.x?String(e.x):e.x,y:e.y}});return(0,_.jsx)(l.u,{barWidth:i,cornerRadius:e.rounded?{top:o}:void 0,data:a,style:{data:{fill:e.color}},y:function(e){return R(e.y,n.yMaxima[t])}},e.key)}},{key:"renderLine",value:function(e,t,n,r){var i=this,o=(e&&e.data||[]).map(function(e){return{x:"number"==typeof e.x?String(e.x):e.x,y:e.y}}),a=function(t){var i;return r&&(null==(i=t.datum)?void 0:i.xName)===n||e&&e.data&&1===e.data.length};return e?(0,_.jsxs)(s.G,{children:[(0,_.jsx)(c.V,{children:(0,_.jsx)(u.C,{data:o,size:4,style:{data:{fill:e.color,fillOpacity:function(e){return+!!a(e)}}},y:function(e){return R(e.y,i.yMaxima[t])}},e.key)}),(0,_.jsx)(d.j,{data:o,standalone:!1,style:{data:{stroke:e.color,strokeLinecap:"round",strokeWidth:2}},y:function(e){return R(e.y,i.yMaxima[t])}},e.key)]}):null}},{key:"renderSeries",value:function(e,t,n,r){var i=this;if(!e)return null;var o=e.series.map(function(e){return e&&"bar"===e.type?i.renderBar(e,t):i.renderLine(e,t,n,r)});return e.stacked?(0,_.jsx)(p.N,{children:o},t):o}},{key:"getBarWidth",value:function(e){return!isNaN(e)&&e<=45?16:8}},{key:"getBarPadding",value:function(e){return!isNaN(e)&&e<=45?8:4}},{key:"getBarCornerRadius",value:function(e){return!isNaN(e)&&e<=45?4:2}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,r=t.renderTooltip,i=t.xAxis,o=t.yAxes,a=t.graphGranularity,l=this.state,s=l.isHovering,c=l.tooltipXOffset,u=l.hoverXValue,d=i.values&&i.values.length,p=this.getBarWidth(d),y=this.getBarPadding(d),v=c-window.pageXOffset,x=o&&o.some(function(e){return e&&e.series.some(function(e){return(null==e?void 0:e.type)==="bar"})}),j=0;if(i&&i.values)if(x){var O=i.values.length*p+(i.values.length-1)*y;"weekly"===a?(0===this.xLabelWidthMaxima&&this.handleGetXLabelMaxima(),j=1e3-(i.boldedValues?i.boldedValues.filter(Boolean).length*this.xLabelWidthMaxima:0)):"hourly"===a?(0===this.xLabelWidthMaxima&&this.handleGetXLabelMaxima(),j=1e3-Math.max(O,i.values.length/4*this.xLabelWidthMaxima)):j=document.body.clientWidth<1600?Math.min(600,1e3-O):1e3-O,j=Math.max(j,0)}else j=150;var w={x:[j/2,j/2],y:0};this.yMaxima=[].concat(o?o.map(function(e){return e&&e.values?Math.max.apply(null,e.values):0}):[]);var P="string"==typeof u?parseInt(u,10):u;return(0,_.jsx)(g.Z,{children:function(t){return t&&(0,_.jsxs)(h.xu,{ref:function(t){e.container=t},"data-test-id":"lineBarGraph",children:[s&&r&&null!=u?(0,_.jsx)("div",{className:"lineGraphTooltip",children:(0,_.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{top:0,left:v,zIndex:99999}},position:"absolute",children:r(P)})}):null,(0,_.jsxs)(f.k,{containerComponent:(0,_.jsx)(m.i,{labelComponent:(0,_.jsx)(b.Z,{hideTooltip:e.handleHideTooltip,setXOffset:function(t){return e.setState({tooltipXOffset:t})},setXValue:function(t){return e.setState({hoverXValue:t})},showTooltip:e.handleShowTooltip}),labels:function(){return" "},responsive:!1,voronoiBlacklist:["parent"],voronoiDimension:"x"}),"data-test-id":"lineBarGraphContainer",domainPadding:w,height:n,padding:{top:44,bottom:44,left:50,right:50},singleQuadrantDomainPadding:!1,width:k(t,450),children:[e.renderXAxis(i),o&&o.map(function(n,r){return n&&e.renderYAxis(n,r,k(t,450))}),o&&o.map(function(t,n){return t&&e.renderSeries(t,n,u,s)})]})]})}})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}(y.prototype,n),Object.defineProperty(y,"prototype",{writable:!1}),y}(r.Component)},411670:function(e,t,n){var r=n(20256),i=n(680811);t.Z=function(e){return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e.color}},height:10,rounding:"circle",width:10})}},442986:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(387784),i=n(20256),o=n(104999),a=n(562400),l=n(24246),s=n(501667),c=n(134301),u=n(411670),d=n(680811),p=function(e){return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e.color}},height:5,width:10})};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g=function(){return!!e})()}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}var j=new i.Ry(1e3),O=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&y(o,e);var t,n,r=(t=g(),function(){var e,n=b(o);return e=t?Reflect.construct(n,arguments,b(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return _(v(e=r.call.apply(r,[this].concat(n))),"state",{isDropdownOpen:!1}),_(v(e),"onToggleDropdown",function(){e.setState(function(e){return{isDropdownOpen:!e.isDropdownOpen}})}),_(v(e),"onDismissDropdown",function(){e.setState({isDropdownOpen:!1})}),e}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.color,r=t.value,o=t.onChange,a=t.options,l=t.icon,s=t.id,c=a.find(function(e){return e.value===r});return(0,d.jsxs)(i.xu,{"data-test-id":s,zIndex:new i.Ry(1),children:[(0,d.jsx)(i.iP,{fullWidth:!1,onTap:this.onToggleDropdown,rounding:"pill",children:(0,d.jsxs)(i.xu,{alignItems:"center",display:"flex",padding:0,children:[n?(0,d.jsxs)(i.xu,{marginEnd:2,children:["dot"===l&&(0,d.jsx)(u.Z,{color:n}),"line"===l&&(0,d.jsx)(p,{color:n})]}):null,(0,d.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(i.xu,{marginEnd:2,children:(0,d.jsx)(i.xv,{color:"default",lineClamp:1,children:c?c.label:""})}),(0,d.jsx)(i.xu,{ref:function(t){e.anchor=t},children:(0,d.jsx)(i.JO,{accessibilityLabel:this.props.i18n._('Open the metrics dropdown', '[m10n] Label for opening the metrics dropdown', '[m10n] Label for opening the metrics dropdown'),color:"default",icon:"arrow-down"})})]})]})}),this.state.isDropdownOpen&&(0,d.jsx)(i.Lt,{anchor:this.anchor,disableMobileUI:!0,id:"dropdown-impressions",idealDirection:"down",onDismiss:this.onDismissDropdown,zIndex:j,children:a.map(function(e){var t=e.label,n=e.value;return(0,d.jsx)(i.Lt.Item,{onSelect:function(){o(n)},option:{label:t,value:n},children:(0,d.jsx)(i.xu,{"data-test-id":n,children:(0,d.jsx)(i.xv,{color:n===r?"default":"subtle",size:"200",children:t})})},n)})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component),w=function(e){var t=(0,l.Z)();return(0,d.jsx)(O,h(h({},e),{},{i18n:t}))},P=function(e){var t=e.color,n=e.text;return(0,d.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(i.xu,{marginEnd:2,children:(0,d.jsx)(u.Z,{color:t})}),(0,d.jsx)(i.xv,{overflow:"noWrap",size:"200",children:n})]})},T=function(){return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid lightGray"}},marginEnd:4,marginStart:4})},E=(0,a.Z)(function(e,t,n,r,i){r&&i&&t({event_type:101,component:r,element:i,aux_data:{metrics:JSON.stringify(e),campaign_objectives:n.toString()}})},5e3),C=function(e){var t=(0,l.Z)(),n=(0,o.Z)(),a=e.metricOptions,u=e.objectiveTypes,p=e.selectedMetrics,f=e.setMetric,m=e.isGraphObjectiveBreakoutActive,h=e.componentType,y=e.elementType;return(0,d.jsx)(i.xu,{alignSelf:"start",borderStyle:"sm",dangerouslySetInlineStyle:{__style:{display:"inline-flex"}},flex:"none",paddingX:4,rounding:"pill",children:m?(0,d.jsxs)(i.xu,{alignItems:"center",display:"flex",paddingY:1,children:[u.map(function(e,n){return(0,d.jsx)(i.xu,{marginEnd:4,children:(0,d.jsx)(P,{color:(0,c.uo)(n),text:(0,s.l3)(t)[e].label})},e)}),(0,d.jsx)(w,{id:"graphMetricOne",onChange:function(e){h&&y&&n({event_type:101,component:h,element:y,aux_data:{metric:e,campaign_objectives:u.toString()}}),f({index:0,value:e})},options:a[0],value:p[0]})]}):(0,d.jsxs)(r.Fragment,{children:[a[0].length>0&&(0,d.jsx)(i.xu,{display:"flex",paddingY:1,children:(0,d.jsx)(w,{color:(0,c.uo)(0),icon:"line",id:"graphMetricOne",onChange:function(e){E([e,p[1]],n,u,h,y),f({index:0,value:e})},options:a[0],value:p[0]})}),a[0].length>0&&a[1].length>0&&(0,d.jsx)(T,{}),a[1].length>0&&(0,d.jsx)(i.xu,{display:"flex",paddingY:1,children:(0,d.jsx)(w,{color:(0,c.uo)(1),icon:"line",id:"graphMetricTwo",onChange:function(e){E([p[0],e],n,u,h,y),f({index:1,value:e})},options:a[1],value:p[1]})})]})})}},690933:function(e,t,n){var r=n(387784),i=n(581722),o=n(20256),a=n(104999),l=n(24246),s=n(234012),c=n(680811);t.Z=function(){var e=(0,i.I0)(),t=(0,l.Z)(),n=(0,a.Z)(),u=(0,i.v9)(function(e){return e.metricsGraph.isGraphObjectiveBreakoutActive});return(0,c.jsx)(r.Fragment,{children:(0,c.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(o.rs,{id:"graph-type-switch",onChange:function(){e((0,s.Xt)(!u)),n({event_type:101,component:13399,element:14339,aux_data:{breakout_objective:!u}})},switched:u}),(0,c.jsx)(o.xu,{marginStart:2,children:(0,c.jsx)(o.__,{htmlFor:"graph-type-switch",children:(0,c.jsx)(o.xv,{children:t._('Show objective breakout', '[m10n] multiObjectiveGraphContainer.switch.labelText.showObjectiveBreakout', 'Switch label text for showing objective breakout')})})})]})})}},213432:function(e,t,n){n.r(t),n.d(t,{ReportingMetricsGraph:function(){return e4},DEFAULT_SELECTED_METRICS:function(){return eQ},default:function(){return e9}});var r=n(387784),i=n(581722),o=n(20256),a=n(104999),l=n(360033),s=n(470205),c=n(24246),u=n(625346),d=n(501010),p=n(774838),f=n(696749),m=n(203603),h=n(846090),y=n(589162),v=n(999049),g=n(134301),b=n(234012),_=n(596232),x=n(627816),j=n(174929),O=n(682699),w=n(623736),P=n(977316),T=n(53151),E=n(787128),C=n(16533),A=n(86678),S=n(830031),I=n(23641),L=n(971013),R=n(501667),N=n(978547),D=n(367683),k=n(293772),M=n(720459),G=n(166810),z=n(959707),Z=n(833477),U=n(283661),W=n(680811),X=function(e){return(0,W.jsx)(o.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,.18)",outline:"none",stroke:"rgb(239, 239, 239)",pointerEvents:"none"}},"data-test-id":"lineBarGraphTooltip",display:"inlineBlock",marginStart:8,padding:4,rounding:2,children:e.children})},B=n(411670),F=n(442986),H=n(657811),V=n(183888),q=n(81221),Y=n(180483),$=n(564770),K=n(483357),J=n(47348),Q=n(656120),ee=n(307407);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach(function(t){eu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ei(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ea(e,t){return(ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function el(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function es(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(es=function(){return!!e})()}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e,t,n){return(t=ed(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ed(e){var t=function(e,t){if("object"!=et(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=et(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==et(t)?t:t+""}var ep=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&ea(i,e);var t,n,r=(t=es(),function(){var e,n=ec(i);return e=t?Reflect.construct(n,arguments,ec(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==et(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return el(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return eu(el(e=r.call.apply(r,[this].concat(n))),"getTimerangeLabel",function(){var t=e.props,n=t.dateRange,r=n.startTime,i=n.endTime,o=n.granularity,a=n.presetId,l=t.locale,s=(0,Q.mh)(l),c=(0,Q.vs)((0,v.Z)(r),{format:s}),u=(0,Q.vs)((0,v.Z)(i),{format:s});return"daily"===o&&"last30Days"===a?(0,Y.Z)(e.props.i18n._('Last 30 days ({{ formattedStartTime }} - {{ formattedEndTime }})', '[m10n] Date range label for the last 30 days', '[m10n] Date range label for the last 30 days'),{formattedStartTime:c,formattedEndTime:u}):"daily"===o&&"lastTwoWeeks"===a?(0,Y.Z)(e.props.i18n._('Last 14 days ({{ formattedStartTime }} - {{ formattedEndTime }})', '[m10n] Date range label for the last two weeks', '[m10n] Date range label for the last two weeks'),{formattedStartTime:c,formattedEndTime:u}):"daily"===o&&"lastWeek"===a?(0,Y.Z)(e.props.i18n._('Last 7 days ({{ formattedStartTime }} - {{ formattedEndTime }})', '[m10n] Date range label for the last week', '[m10n] Date range label for the last week'),{formattedStartTime:c,formattedEndTime:u}):"hourly"===o&&"today"===a?(0,Y.Z)(e.props.i18n._('Today ({{ formattedStartTime }})', '[m10n] Date range label for today', '[m10n] Date range label for today'),{formattedStartTime:c}):"hourly"===o&&"yesterday"===a?(0,Y.Z)(e.props.i18n._('Yesterday ({{ formattedStartTime }})', '[m10n] Date range label for yesterday', '[m10n] Date range label for yesterday'),{formattedStartTime:c}):"hourly"===o&&"last48Hours"===a?e.props.i18n._('Hourly (last 48 hours)', '[m10n] Date range label for last 48 hours', '[m10n] Date range label for last 48 hours'):"hourly"===o&&"lastThreeDaysHourly"===a?e.props.i18n._('Hourly (last 72 hours)', '[m10n]MultiObjectiveGraphTitle.getTimerangeLabel.lastThreeDaysHourly', 'Date range label for hourly during last 3 days'):"daily"===o&&"thisMonth"===a?(0,Y.Z)(e.props.i18n._('This month ({{ formattedStartTime }} - {{ formattedEndTime }})', '[m10n]MultiObjectiveGraphTitle.getTimerangeLabel.thisMonth', 'Date range label for current month, formattedStartTime: start time for the date range in mm/dd/yyyy format, formattedEndTime: end time for the date range in mm/dd/yyyy format'),{formattedStartTime:c,formattedEndTime:u}):"daily"===o&&"thisQuarter"===a?(0,Y.Z)(e.props.i18n._('This quarter ({{ formattedStartTime }} - {{ formattedEndTime }})', '[m10n]MultiObjectiveGraphTitle.getTimerangeLabel.thisQuarter', 'Date range label for current quarter, formattedStartTime: start time for the date range in mm/dd/yyyy format, formattedEndTime: end time for the date range in mm/dd/yyyy format'),{formattedStartTime:c,formattedEndTime:u}):"daily"===o&&"thisYear"===a?(0,Y.Z)(e.props.i18n._('This year ({{ formattedStartTime }} - {{ formattedEndTime }})', '[m10n]MultiObjectiveGraphTitle.getTimerangeLabel.thisYear', 'Date range label for current year, formattedStartTime: start time for the date range in mm/dd/yyyy format, formattedEndTime: end time for the date range in mm/dd/yyyy format'),{formattedStartTime:c,formattedEndTime:u}):(0,Y.Z)(e.props.i18n._('Custom ({{ formattedStartTime }} - {{ formattedEndTime }})', '[m10n] Date range label for custom time range', '[m10n] Date range label for custom time range'),{formattedStartTime:c,formattedEndTime:u})}),e}return n=[{key:"getParentEntityTitle",value:function(e){var t=e.entityType,n=e.parentEntityName;if(t===$.eX.campaign||!n)return"";var r="";switch(t){case $.eX.adGroup:r=this.props.i18n._('Campaign', '[m10n] Ad Campaign', '[m10n] Ad Campaign');break;case $.eX.pinPromotion:case $.eX.productGroup:case $.eX.adGroupPositiveKeyword:r=this.props.i18n._('Ad Group', '[m10n] Ad Campaign', '[m10n] Ad Campaign');break;default:return""}return"".concat(r,": ").concat(n,": ")}},{key:"getTranslatedTitleLabel",value:function(e){var t=e.entityType,n=e.count,r=e.selected,i=e.objectiveTypeLabel,o=void 0===i?"":i,a=e.parentEntityName,l=Number.isNaN(n)?"":n.toString(),s=this.getParentEntityTitle({entityType:t,parentEntityName:void 0===a?"":a});switch(t){case $.eX.campaign:if(r)if(o)return(0,Y.Z)(this.props.i18n.ngettext('{{ count }} selected {{ objective }} campaign', '{{ count }} selected {{ objective }} campaigns', n, '[m10n] Label for number of selected campaigns of a certain objective type', '[m10n] Label for number of selected campaigns of a certain objective type'),{count:l,objective:o});else return(0,Y.Z)(this.props.i18n.ngettext('{{ count }} selected campaign', '{{ count }} selected campaigns', n, '[m10n] Label for number of selected campaigns', '[m10n] Label for number of selected campaigns'),{count:l});if(o)return(0,Y.Z)(this.props.i18n.ngettext('{{ count }} {{ objective }} campaign', '{{ count }} {{ objective }} campaigns', n, '[m10n] Label for total number of campaigns of a certain objective type', '[m10n] Label for total number of campaigns of a certain objective type'),{count:l,objective:o});return(0,Y.Z)(this.props.i18n.ngettext('{{ count }} campaign', '{{ count }} campaigns', n, '[m10n] Label for total number of campaigns', '[m10n] Label for total number of campaigns'),{count:l});case $.eX.adGroup:if(r)return(0,Y.Z)(this.props.i18n.ngettext('{{ parentEntity }}{{ count }} selected ad group', '{{ parentEntity }}{{ count }} selected ad groups', n, '[m10n] Label for number of selected ad groups', '[m10n] Label for number of selected ad groups'),{count:l,parentEntity:s});return(0,Y.Z)(this.props.i18n.ngettext('{{ parentEntity }}{{ count }} ad group', '{{ parentEntity }}{{ count }} ad groups', n, '[m10n] Label for total number of ad groups', '[m10n] Label for total number of ad groups'),{count:l,parentEntity:s});case $.eX.pinPromotion:if(r)return(0,Y.Z)(this.props.i18n.ngettext('{{ parentEntity }}{{ count }} selected ad', '{{ parentEntity }}{{ count }} selected ads', n, '[m10n] Label for number of selected ads', '[m10n] Label for number of selected ads'),{count:l,parentEntity:s});return(0,Y.Z)(this.props.i18n.ngettext('{{ parentEntity }}{{ count }} ad', '{{ parentEntity }}{{ count }} ads', n, '[m10n] Label for total number of ads', '[m10n] Label for total number of ads'),{count:l,parentEntity:s});case $.eX.productGroup:if(r)return(0,Y.Z)(this.props.i18n.ngettext('{{ parentEntity }}{{ count }} selected product group', '{{ parentEntity }}{{ count }} selected product groups', n, '[m10n] Label for number of selected product groups', '[m10n] Label for number of selected product groups'),{count:l,parentEntity:s});return(0,Y.Z)(this.props.i18n.ngettext('{{ parentEntity }}{{ count }} product group', '{{ parentEntity }}{{ count }} product groups', n, '[m10n] Label for total number of product groups', '[m10n] Label for total number of product groups'),{count:l,parentEntity:s});case $.eX.adGroupPositiveKeyword:if(r)return(0,Y.Z)(this.props.i18n.ngettext('{{ parentEntity }}{{ count }} selected keyword', '{{ parentEntity }}{{ count }} selected keywords', n, '[m10n] Label for number of selected keywords', '[m10n] Label for number of selected keywords'),{count:l,parentEntity:s});return(0,Y.Z)(this.props.i18n.ngettext('{{ parentEntity }}{{ count }} keyword', '{{ parentEntity }}{{ count }} keywords', n, '[m10n] Label for total number of keywords', '[m10n] Label for total number of keywords'),{count:l,parentEntity:s});default:return""}}},{key:"getTitleLabel",value:function(){var e=this.props,t=e.entityType,n=e.reportingTable,r=e.selectedCampaignIds,i=e.selectedAdGroupIds,o=e.selectedPinPromotionIds,a=e.selectedProductGroupIds,l=e.selectedKeywordIds,s=e.objectiveTypes,c=e.entityData,u=e.title||"";c&&c.dataReady&&c.data&&c.data.name&&(u=c.data.name);var d=s.length>1,p="";if(!d){var f=(0,R.l3)(this.props.i18n)[s[0]];p=f&&f.label&&f.label.toLowerCase()}var m=r.length,h=m>0,y=i.length,v=y>0,g=o.length,b=g>0,_=a.length,x=_>0,j=l.length,O=j>0;if(t===$.eX.campaign){var w=n&&n.totalResultCount||0;return this.getTranslatedTitleLabel({entityType:t,count:h?m:w,selected:h,objectiveTypeLabel:d?"":p})}if(t===$.eX.adGroup){var P=n&&n.totalResultCount||0;return this.getTranslatedTitleLabel({entityType:t,count:v?y:P,selected:v,parentEntityName:1===m?u:""})}if(t===$.eX.pinPromotion){var T=n&&n.totalResultCount||0;return this.getTranslatedTitleLabel({entityType:t,count:b?g:T,selected:b,parentEntityName:1===y?u:""})}if(t===$.eX.productGroup||t===$.eX.productItem){var E=n&&n.totalResultCount||0;return this.getTranslatedTitleLabel({entityType:$.eX.productGroup,count:x?_:E,selected:x,parentEntityName:1===y?u:""})}if(t===$.eX.adGroupPositiveKeyword){var C=n&&n.totalResultCount||0;return this.getTranslatedTitleLabel({entityType:t,count:O?j:C,selected:O,parentEntityName:1===y?u:""})}return""}},{key:"getEditUrl",value:function(){var e=this.props,t=e.entityType,n=e.selectedCampaignIds,r=e.selectedAdGroupIds;if(t===$.eX.adGroup&&1===n.length){var i=n[0];return this.props.getSterlingURL("editCampaign",{id:i})}if((t===$.eX.pinPromotion||t===$.eX.productGroup)&&1===r.length){var o=r[0];return this.props.getSterlingURL("editAdGroup",{id:o})}return""}},{key:"getEditIcon",value:function(){var e=this.getEditUrl();return e?(0,W.jsx)(o.xu,{"data-component":"button","data-test-id":"editEntityButton",paddingX:1,children:(0,W.jsx)(o.rU,{href:e,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,W.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Edit', '[m10n] edit icon', '[m10n] edit icon'),bgColor:"lightGray",icon:"edit",iconColor:"gray",size:"sm"})})}):null}},{key:"getActiveEntities",value:function(){var e=this.getActiveEntitiesCount(),t=e>=0&&this.shouldDisplayActiveEntities(),n=e.toString(),r=(0,Y.Z)(this.props.i18n._('{{ activeEntitiesCountString }} currently being served', 'multiObjectiveGraphTitle.activeEntities.servedEntityCount', 'The number of an advertiser\'s currently served entities (campaigns, ad groups, or pin promotions)'),{activeEntitiesCountString:n}),i=this.getActiveEntitiesTooltipText(),a=new o.Ry(10);return t?(0,W.jsxs)(o.xu,{alignSelf:"end",direction:"row",display:"flex",paddingX:3,children:[(0,W.jsx)(o.xv,{color:"subtle",size:"200",children:r}),(0,W.jsx)(o.xu,{alignSelf:"center","data-test-id":"tooltip-box-container",display:"flex",paddingX:1,children:(0,W.jsx)(o.u,{text:i,zIndex:a,children:(0,W.jsx)(o.JO,{accessibilityLabel:"Info",color:"subtle",icon:"info-circle",size:"12"})})})]}):null}},{key:"getActiveEntitiesCount",value:function(){switch(this.props.entityType){case $.eX.campaign:return this.props.filteredEntities.activeCampaign.activeEntitiesCount;case $.eX.adGroup:return this.props.filteredEntities.activeAdgroup.activeEntitiesCount;case $.eX.pinPromotion:return this.props.filteredEntities.activePinPromotion.activeEntitiesCount;default:return -1}}},{key:"getActiveEntitiesTooltipText",value:function(){switch(this.props.entityType){case $.eX.campaign:return this.props.i18n._('Total number of all active campaigns that are being served in this advertiser account. This figure is not affected by any selected data filter.', 'multiObjectiveGraphTitle.activeEntities.activeCampaignsTooltip', 'Tooltip to clarify the active campaigns text');case $.eX.adGroup:return this.props.i18n._('Total number of all active ad groups that are being served in this advertiser account. This figure is not affected by any selected data filter.', 'multiObjectiveGraphTitle.activeEntities.activeAdGroupsTooltip', 'Tooltip to clarify the active ad groups text');case $.eX.pinPromotion:return this.props.i18n._('Total number of all active ads that are being served in this advertiser account. This figure is not affected by any selected data filter.', 'multiObjectiveGraphTitle.activeEntities.activePinPromotionsTooltip', 'Tooltip to clarify the active pin promotions text');default:return""}}},{key:"shouldDisplayActiveEntities",value:function(){var e=this.props.entityType;return[$.eX.campaign,$.eX.adGroup,$.eX.pinPromotion].includes(e)}},{key:"render",value:function(){var e=this.props,t=e.isActionPermitted,n=e.isCollapsed;return(0,W.jsxs)(o.kC,{direction:"column",minWidth:0,children:[(0,W.jsxs)(o.xu,{alignItems:"center","data-test-id":"entityName",display:"flex",children:[t(10)&&this.getEditIcon(),(0,W.jsx)(o.mg,{lineClamp:1,size:"300",children:(0,W.jsx)(o.xu,{"data-test-id":"entityNameTitle",children:this.getTitleLabel()})}),this.getActiveEntities()]}),!n&&(0,W.jsx)(o.xv,{size:"100",children:this.getTimerangeLabel()})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ed(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component);function ef(e){var t,n=(0,c.Z)(),o=(0,q.Z)(),a=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eo(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eo(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],s=a[1],u=(0,i.v9)(function(e){return e.dateRange}),d=(0,i.v9)(function(e){return e.locale}),p=(0,i.v9)(w.xC),f=(0,i.v9)(ee.Fp)||{},m=(0,i.v9)(w.JH),h=(0,i.v9)(w.vj),y=(0,i.v9)(w.vX),v=(0,i.v9)(function(e){return e.filters}),g=(0,i.v9)(w.Fp),b=(0,i.v9)(w.L8),_=(0,i.v9)(w.Cb),x=(0,i.v9)(w.iC),j=(0,i.v9)(Z.Mm),O=(0,r.useContext)(K.hj).isActionPermitted;return(0,r.useEffect)(function(){function e(){var t;return t=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g!==$.eX.adGroup||1!==_.length){e.next=8;break}return t=_[0],e.next=4,(0,V.Z)({advertiser_id:x,campaign_id:t});case 4:s(e.sent.name),e.next=14;break;case 8:if(g!==$.eX.pinPromotion&&g!==$.eX.productGroup&&g!==$.eX.adGroupPositiveKeyword||1!==b.length){e.next=14;break}return n=b[0],e.next=12,(0,H.Z)({advertiser_id:x,ad_group_id:n});case 12:s(e.sent.name);case 14:case"end":return e.stop()}},e)}),(e=function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(e){ei(o,r,i,a,l,"next",e)}function l(e){ei(o,r,i,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[x,g,b,_]),(0,W.jsx)(ep,er(er({},e),{},{advertiserId:x,dateRange:u,entityType:g,filteredEntities:v,getSterlingURL:o,i18n:n,isActionPermitted:O,isCollapsed:j,locale:d,objectiveTypes:p,reportingTable:f,selectedAdGroupIds:b,selectedCampaignIds:_,selectedKeywordIds:y,selectedPinPromotionIds:m,selectedProductGroupIds:h,title:l}))}function em(){var e=(0,i.v9)(w.Fp),t=(0,i.v9)(w.L8),n=(0,i.v9)(w.Cb),r=(0,i.v9)(w.iC),o=null;e===$.eX.adGroup&&1===n.length?o="/ads/v4/advertisers/".concat(r,"/campaigns/").concat(n[0],"/"):(e===$.eX.pinPromotion||e===$.eX.productGroup||e===$.eX.adGroupPositiveKeyword)&&1===t.length&&(o="/ads/v4/advertisers/".concat(r,"/ad_groups/").concat(t[0],"/"));var a=(0,J.Z)({key:"entityData",url:o});return(0,W.jsx)(ef,{entityData:a})}var eh=function(){var e=(0,c.Z)(),t=(0,i.v9)(Z.Mm),n=(0,r.useRef)(null),a=e._('Toggle Graph', '[m10n] ReportingGraph.ReportingGraphCollapseToggle.accessibilityLabel', 'accessibility label for reporting graph collapse toggle button'),l=e._('Show graph', '[m10n] ReportingGraph.ReportingGraphCollapseToggle', 'label for reporting graph collapse toggle on button'),s=e._('Hide graph', '[m10n] ReportingGraph.ReportingGraphCollapseToggle', 'label for reporting graph collapse toggle off button');return(0,W.jsx)(o.xu,{ref:n,alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",height:36,padding:3,children:(0,W.jsx)(k.zx,{accessibilityLabel:a,color:"transparent",dataTestId:"reporting-graph-collapse-toggle",iconEnd:t?"arrow-down":"arrow-up",iconStart:"graph-bar",logEventProps:{},text:t?l:s,type:"button"})})},ey=n(690933),ev=n(941607),eg=n(965782),eb=n(163225);function e_(e){return(e_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ex(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||eT(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(t){ew(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ew(e,t,n){return(t=eC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eP(e){return function(e){if(Array.isArray(e))return eE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eT(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eT(e,t){if(e){if("string"==typeof e)return eE(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eE(e,t):void 0}}function eE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eC(e){var t=function(e,t){if("object"!=e_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e_(t)?t:t+""}function eA(e,t){return(eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eS=function(){return!!e})()}function eI(e){return(eI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eL=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&eA(a,e);var t,n,i=(t=eS(),function(){var e,n=eI(a);return e=t?Reflect.construct(n,arguments,eI(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==e_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function a(){if(!(this instanceof a))throw TypeError("Cannot call a class as a function");return i.apply(this,arguments)}return n=[{key:"componentDidUpdate",value:function(e){var t,n,r,i,o=this.props,a=o.isGraphObjectiveBreakoutActive,l=o.selectedMetrics,s=o.setMetric;a||(null==l?void 0:l[1])===(null==(t=e.selectedMetrics)?void 0:t[1])||((null==l?void 0:l[0])!==(null==(r=e.selectedMetrics)?void 0:r[0])&&s({index:0,value:(null==l?void 0:l[0])||eb.Ox}),(null==l?void 0:l[1])!==(null==(i=e.selectedMetrics)?void 0:i[1])&&s({index:1,value:(null==l?void 0:l[1])||eb.Ox})),a&&(null==l?void 0:l[0])!==(null==(n=e.selectedMetrics)?void 0:n[0])&&s({index:0,value:(null==l?void 0:l[0])||eb.Ox})}},{key:"getSingleObjectiveGraphTooltip",value:function(e,t,n,r,i,a){var l=this.props,s=l.timeZoneMode,c=l.timeZone,u=(0,g.r2)(r,i,e,t,n,s,c);return(0,W.jsxs)(X,{children:[u&&(0,W.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},marginBottom:2,children:(0,W.jsx)(o.xv,{size:"200",children:u})}),(a||[]).map(function(t,n){var r=(0,g.uo)(n);if(t&&t.series&&t.series[0]){var i=t.series[0].data.find(function(t){return t.x===e});return(0,W.jsxs)(o.xu,{marginBottom:2,children:[(0,W.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[r&&(0,W.jsx)(o.xu,{marginEnd:2,children:(0,W.jsx)(B.Z,{color:r})}),t.label&&(0,W.jsx)(o.xv,{size:"200",children:t.label})]}),i&&(0,W.jsx)(o.X6,{size:"400",children:t.dataFormatter?t.dataFormatter(i.y,!1):i.y})]},t.label)}return null})]})}},{key:"getMultiObjectiveGraphTooltip",value:function(e,t,n,r,i,a,l,s){var c=this,u=this.props,d=u.objectiveTypes,p=u.timeZoneMode,m=u.timeZone,h=(0,g.r2)(r,i,e,t,n,p,m),y=a[0],v=(l&&l.values||[]).indexOf(e),b=v>-1&&s[v];return(0,W.jsxs)(X,{children:[h&&(0,W.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},marginBottom:2,children:(0,W.jsx)(o.xv,{size:"200",children:h})}),b?(0,W.jsxs)(o.xu,{marginBottom:2,children:[(0,W.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,W.jsx)(o.xv,{size:"200",children:(0,f.Z)(this.props.i18n._('Total {{metric}}', '[m10n] Total label for a specific metric', '[m10n] Total label for a specific metric'),{metric:y.label})})}),!isNaN(b)&&(0,W.jsx)(o.X6,{size:"400",children:y.dataFormatter?y.dataFormatter(b):b})]}):null,d.map(function(t,n){var r=y&&y.series&&y.series[n],i=r&&r.data.find(function(t){return t.x===e}),a=(0,g.uo)(n),l=(0,R.l3)(c.props.i18n),s=l[t]&&l[t].label;return i?(0,W.jsxs)(o.xu,{marginBottom:2,children:[(0,W.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[a&&(0,W.jsx)(o.xu,{marginEnd:2,children:(0,W.jsx)(B.Z,{color:a})}),s&&(0,W.jsx)(o.xv,{size:"200",children:s})]}),i&&(0,W.jsx)(o.xv,{size:"200",weight:"bold",children:y.dataFormatter?y.dataFormatter(i.y||0):i.y})]},t):null})]})}},{key:"getSingleObjectiveGraphProps",value:function(){var e=this,t=this.props,n=t.currencyCode,r=t.dateRange.endTime,i=t.graphData,o=t.graphGranularity,a=t.objectiveTypes,l=t.requestContext.locale,s=t.selectedMetrics,c=void 0===s?[eb.Ox,eb.Ox]:s,u=t.seriesControls,d=t.prettyNumberFormat,p=t.isGraphObjectiveBreakoutActive,f=new Date(r).getTime(),m=a[0],h=i.total.graph_data.metrics.timestamp,y=i.total.graph_data.invalidColumns||[],v=(0,g._j)(h,o),b={values:v,dataFormatter:function(e){return(0,g.N)(o,l,e,v,f)},boldedValues:(0,g.LV)(h,o)};if(m){var _=c.map(function(e,t){if(e===eb.Ox||y.includes(e))return null;var r,o=a.length>1||p?i.total.graph_data.metrics:null==(r=i.perObjective[m])?void 0:r.graph_data.metrics;if(!o)return null;var s=v.map(function(t){var n=h.indexOf(t);return o[e]&&o[e][n]}),c=(0,g.Ew)(u,e),f=(0,g.uo)(t),b=c&&c.units||"integer";return{label:c&&c.value||"",labelColor:f,values:[0].concat(eP((0,g.ey)(s,b))),dataFormatter:function(e,t){return(0,g.jP)(e,b,l,n,d,t)},series:[{key:e,type:p?"bar":"line",data:v.map(function(e,t){return{x:e,y:s[t]}}),color:f}]}});return{renderTooltip:function(t){return e.getSingleObjectiveGraphTooltip(t,v,f,o,l,_)},yAxes:_,xAxis:b}}return{xAxis:b}}},{key:"getMultiObjectiveGraphProps",value:function(){var e=this,t=this.props,n=t.currencyCode,r=t.dateRange.endTime,i=t.graphData,o=t.graphGranularity,a=t.objectiveTypes,l=t.requestContext.locale,s=t.selectedMetrics,c=void 0===s?[eb.Ox,eb.Ox]:s,u=t.seriesControls,d=new Date(r).getTime(),p=i.total.graph_data.metrics.timestamp,f=(0,g._j)(p,o),m={values:f,dataFormatter:function(e){return(0,g.N)(o,l,e,f,d)},boldedValues:(0,g.LV)(p,o)},h=c[0],y=(0,g.Ew)(u,h),v=y&&y.units||"integer";if(a&&h!==eb.Ox){var b=i.total.graph_data.metrics,_=a.map(function(e,t){if(h===eb.Ox)return null;var n,r=null==(n=i.perObjective[e])?void 0:n.graph_data.metrics,o=f.map(function(e){var t=p.indexOf(e);return r&&r[h]?r[h][t]:0});return{key:e,type:"bar",rounded:t===a.length-1,data:f.map(function(e,t){return{x:e,y:o[t]}}),color:(0,g.uo)(t)}}),x=f.map(function(e){var t,n=p.indexOf(e);return null==(t=b[h])?void 0:t[n]}),j=[{label:y&&y.value||"",labelColor:"#333333",stacked:!0,values:[0].concat(eP((0,g.ey)(x,v))),dataFormatter:function(e){return(0,g.jP)(e,v,l,n)},series:_}];return{renderTooltip:function(t){return e.getMultiObjectiveGraphTooltip(t,f,d,o,l,j,m,x)},yAxes:j,xAxis:m}}return{xAxis:m}}},{key:"hasData",value:function(e){var t=!0;return(e.yAxes||[]).forEach(function(e){return(e&&e.series||[]).forEach(function(e){return(e&&e.data||[]).forEach(function(e){0!==e.y&&(t=!1)})})}),!t}},{key:"getSelectedInvalidColumns",value:function(e,t,n){return n.some(function(e){return e.startsWith("CUSTOM_COLUMN_")})?(e.total.graph_data.invalidColumns||[]).map(function(e){var n=t.find(function(t){return t.value===e});return n?n.label:e}):[]}},{key:"getGraphProps",value:function(){var e=this.props,t=e.isGraphObjectiveBreakoutActive;return e.graphData.dataReady?t?this.getMultiObjectiveGraphProps():this.getSingleObjectiveGraphProps():{xAxis:{values:[],dataFormatter:function(){return""}}}}},{key:"render",value:function(){var e=this.props,t=e.objectiveTypes,n=e.graphData,i=e.metricOptions,a=e.selectedMetrics,l=void 0===a?[eb.Ox,eb.Ox]:a,s=e.setMetric,c=e.logContextEvent,u=e.isGraphCollapsed,d=e.seriesControls,p=e.i18n,f=e.graphGranularity,m=e.hasConversionColumns,h=e.dispatch,y=e.anchorRef,v=e.isGraphObjectiveBreakoutActive,_=e.experimentsClient.checkExperiment("show_reporting_dashboard_graph_v2").anyEnabled,x=y&&(0,W.jsx)(D.N,{anchors:ew({},5001,y.current),idealDirection:"up",placementId:1000444,scrollToDismiss:!0,zIndex:new o.H3([eg.wq])});if(u)return(0,W.jsx)(o.xu,{borderStyle:"shadow","data-test-id":"reportingGraph",rounding:4,children:(0,W.jsx)(o.kC,{direction:"row",children:(0,W.jsxs)(o.xu,{ref:y,padding:6,width:"100%",children:[(0,W.jsx)(k.iP,{accessibilityLabel:p._('Toggle Graph', '[m10n] ReportingGraph.ReportingGraphCollapseToggle.accessibilityLabel', 'accessibility label for reporting graph collapse toggle button'),logEventProps:{componentType:13399,elementType:14172,auxData:{collapse:!u}},onTap:function(){h((0,b.Ux)(!u))},children:(0,W.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,W.jsx)(o.kC.Item,{flex:"grow",children:(0,W.jsx)(em,{})}),(0,W.jsx)(o.kC.Item,{flex:"none",children:(0,W.jsx)(eh,{})})]})}),x]})})});var j=this.getSelectedInvalidColumns(n,(0,g.UM)(p,d),l),O=(0,W.jsx)(o.kC,{alignItems:"center",height:248,justifyContent:"center",children:(0,W.jsx)(ev.H6,{})});if(n.hasError)O=(0,W.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,W.jsx)(ev.Iq,{})});else{var w=this.getGraphProps();this.hasData(w)&&(O=(0,W.jsx)(U.Z,eO({graphGranularity:f,height:248,logContextEvent:c,objectiveTypes:t},w)))}return(0,W.jsx)(o.xu,{borderStyle:"shadow","data-test-id":"reportingGraph",rounding:4,children:(0,W.jsx)(o.kC,{direction:"row",children:(0,W.jsxs)(o.xu,{ref:y,padding:6,width:"100%",children:[(0,W.jsx)(k.iP,{accessibilityLabel:p._('Toggle Graph', '[m10n] ReportingGraph.ReportingGraphCollapseToggle.accessibilityLabel', 'accessibility label for reporting graph collapse toggle button'),logEventProps:{componentType:13399,elementType:14172,auxData:{collapse:!u}},onTap:function(){h((0,b.Ux)(!u))},children:(0,W.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,W.jsx)(o.kC.Item,{flex:"grow",children:(0,W.jsx)(em,{})}),(0,W.jsx)(o.kC.Item,{flex:"none",children:(0,W.jsx)(eh,{})})]})}),!_&&(0,W.jsxs)(r.Fragment,{children:[(0,W.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,W.jsx)(o.kC.Item,{flex:"grow",children:(0,W.jsxs)(o.xu,{maxWidth:"60%",children:[(0,W.jsx)(o.xu,{height:17}),(0,W.jsx)(F.Z,{componentType:13399,elementType:11358,isGraphObjectiveBreakoutActive:this.props.isGraphObjectiveBreakoutActive,metricOptions:i||[[],[]],objectiveTypes:t,selectedMetrics:l||[],setMetric:s}),(0,W.jsx)(o.xu,{height:17})]})}),(0,W.jsx)(o.kC.Item,{flex:"none",children:(0,W.jsx)(ey.Z,{})})]}),O,(0,W.jsx)(o.xu,{height:10}),j.length>0&&!this.props.isGraphObjectiveBreakoutActive&&(0,W.jsx)(ev.Ls,{invalidColumns:j}),"hourly"===f&&m&&(0,W.jsx)(o.xu,{children:(0,W.jsx)(ev.jf,{})})]}),!!_&&(0,W.jsx)(N.Z,{graphData:n,graphGranularity:f,graphProps:this.getGraphProps(),hasConversionColumns:m,isGraphObjectiveBreakoutActive:v,metricOptions:i,objectiveTypes:t,selectedMetrics:l,seriesControls:d,setMetric:s,showObjectiveBreakoutSwitch:!0}),x]})})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eC(r.key),r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component),eR=function(e,t,n,r,i,o,a,l,s,c,u){var d=(0,g.L8)(n,e,t,c,o,u),p=(0,g.XX)(r,e,t,c,i,o,u),f=(0,g.zR)(d,p);s&&(f=f.filter(function(e){return eb.vl.includes(e)}));var m=[l.lineOne,l.lineTwo],h=ex((0,g.p1)(m,f),2),y=h[0],v=h[1],b=(0,g.A8)(a,y||"");b=s&&b===eb.Ox?(0,g.A8)(a,v||""):b;var _=s?eb.Ox:(0,g.A8)(a,v||"");return _=_===b?eb.Ox:_,[b,_]},eN=function(e){var t=e.value;return eb.vl.includes(t)||t===eb.Ox},eD=function(e,t,n,r,i,o,a,l,s,c,u){var d=(0,g.L8)(n,e,t,c,o,u),p=(0,g.XX)(r,e,t,c,i,o,u),f=(0,g.zR)(d,p),m=ex((0,g.p1)([l.lineOne,l.lineTwo],f),2),h=m[0],y=m[1];return h===y&&h===eb.Ox&&(h="",y=""),h=s&&h===eb.Ox?(0,g.A8)(a,y):h,[s?(0,g.UM)(t,a).filter(eN):(0,g.UM)(t,a,y),s?[]:(0,g.UM)(t,a,h)]};function ek(e){(0,z.Z)(["lineone","linetwo"]);var t=(0,c.Z)(),n=(0,a.Z)(),o=(0,d.Z)(),l=(0,M.Z)(),s=(0,i.v9)(w.xC),u=(0,i.v9)(function(e){return e.dateRange}),f=o.checkExperiment("aid_exp_fix_outdated_reporting_date_range").anyEnabled,m=(0,i.v9)(function(e){return(0,O.iX)(e,f)}),y=(0,i.v9)(Z.Mm),v=(0,i.v9)(function(e){return e.metricsGraph.isGraphObjectiveBreakoutActive}),g=(0,i.v9)(function(e){return(0,x.W)(e)}),_=(0,i.v9)(function(e){return(0,j.ux)(e)})(t,o),P=_.columns,T=_.customColumns,E=(0,G.Z)().timeZone,A=(0,i.v9)(function(e){return(0,O.LU)(e)}),S=(0,i.v9)(function(e){return e.reporting.reportingPreference}).customColumns,I=(0,i.v9)(function(e){return e.metricsGraph}),L=(0,C.i2)(S,o,t),R=(0,h.cU)(P,T,o,t,L,g),N=(0,i.I0)(),D=(0,r.useRef)(null),k=eR(o,t,P,T,L,g,e.seriesControls,I,v,m,A),U=eD(o,t,P,T,L,g,e.seriesControls,I,v,m,A);return(0,W.jsx)(eL,eO(eO({},e),{},{anchorRef:D,dateRange:u,dispatch:N,experimentsClient:o,graphGranularity:m,hasConversionColumns:R,i18n:t,isGraphCollapsed:null!=y&&y,isGraphObjectiveBreakoutActive:null!=v&&v,logContextEvent:n,metricOptions:U,objectiveTypes:s,prettyNumberFormat:l,requestContext:(0,p.B)(),selectedMetrics:k,setMetric:function(e){var t=e.index,n=e.value;0===t&&N((0,b.ZP)({lineOne:n})),1===t&&N((0,b.ZP)({lineTwo:n}))},timeZone:E,timeZoneMode:A}))}var eM=function(){var e=(0,c.Z)();return(0,W.jsx)(L.Z,{zIndex:1,children:(0,W.jsxs)(o.xu,{alignItems:"center",color:"secondary",direction:"row",display:"flex",padding:4,rounding:"pill",children:[(0,W.jsx)(o.xH,{accessibilityLabel:e._('Loading', '[m10n] label for loading spinner', '[m10n] label for loading spinner'),show:!0}),(0,W.jsx)(o.xu,{marginStart:2,children:(0,W.jsx)(o.xv,{weight:"bold",children:e._('Retrieving data...', '[m10n] text displayed when loading data', '[m10n] text displayed when loading data')})})]})})},eG=function(e){var t=e.objectiveTypes,n=e.apiData,a=e.seriesControls,s=e.isLoading,c=(0,S.A)(),u=n.dataReady,d=(0,i.v9)(function(e){return e.metricsGraph.isGraphCollapsed});if((0,r.useEffect)(function(){s||!u||d?d&&((0,I.l7)("reportingMetricsGraphDataFetched"),null==c||c.removeConstraint("reportingMetricsGraphDataFetched")):((0,I.Nx)("reportingMetricsGraphDataFetched"),null==c||c.markConstraintComplete("reportingMetricsGraphDataFetched"))},[u,s,c,d]),n.data||n.total){var p={perObjective:{},total:{graph_data:{metrics:{}}},hasError:!1};return n.dataReady&&(0!==Object.keys(n.perObjective).length&&(0,l.ZP)(t,(0,R.WP)(Object.keys(n.perObjective)))&&t.forEach(function(e){(0,g.Iq)(a,n.perObjective[e].graph_data.metrics)}),n.total&&(0,g.Iq)(a,n.total.graph_data.metrics),p=n),(0,W.jsx)(r.Fragment,{children:(0,W.jsxs)(o.xu,{position:"relative",children:[s&&(0,W.jsx)(o.xu,{"data-test-id":"reportingMetricsGraphLoading",children:(0,W.jsx)(eM,{})}),(0,W.jsx)(ek,{currencyCode:e.advertiser.currency_code,graphData:p,objectiveTypes:t,seriesControls:a})]})})}return null};function ez(e){return(ez="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eZ(e){return function(e){if(Array.isArray(e))return eW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eU(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eU(e,t){if(e){if("string"==typeof e)return eW(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eW(e,t):void 0}}function eW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eX(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function eB(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){eX(o,r,i,a,l,"next",e)}function l(e){eX(o,r,i,a,l,"throw",e)}a(void 0)})}}function eF(e,t){return(eF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eH(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eV=function(){return!!e})()}function eq(e){return(eq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eY(Object(n),!0).forEach(function(t){eK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eK(e,t,n){return(t=eJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eJ(e){var t=function(e,t){if("object"!=ez(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ez(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ez(t)?t:t+""}var eQ=["SPEND_IN_DOLLAR","TOTAL_IMPRESSION"],e0=function(e,t,n){var r;return t?r=e._('Hourly shows up to 48 hours of history. Hourly metrics may be estimated and may not include all conversion data.', '[m10n] reportingMetricsGraph.hourlyDataCaveatText.hourlyInfo', 'Message displayed on reporting graph to show information on hourly data'):n&&(r=e._('Conversion metrics may be estimated and may not include all conversion data', '[m10n] reportingMetricsGraph.conversionsDataCaveatText.info', 'Message displayed on reporting graph to show information on conversion data')),r?(0,W.jsx)(o.xu,{paddingY:2,children:(0,W.jsx)(o.xv,{color:"default",size:"100",children:r})}):null},e1={campaign:"CAMPAIGN",adgroup:"AD_GROUP",pinPromotion:"PIN_PROMOTION",productGroup:"PRODUCT_GROUP",productItem:"PRODUCT_GROUP"},e2={campaign:"campaign",adgroup:"adgroup",pinPromotion:"pinPromotion",productGroup:"productGroup",productItem:"productGroup"},e8=function(e){var t=e.advertiser,n=e.columns,r=e.dateRange,i=e.entityId,o=e.entityType,a=e.graphGranularity,l=e.reportingProperties,s=e.selectedCustomColumns,c=e.requestContext,u=c.experimentsClient.checkExperiment("pacing_api_integration").anyEnabled,d=c.experimentsClient.checkExperiment("aid_exp_local_time_zone_alpha").anyEnabled||!1,p=e$(e$({advertiser_id:t.id,entity_id:i,entity_type:e1[o],start_date:r.startTime},d&&{reporting_time_zone:r.timeZoneMode}),{},{end_date:r.endTime,granularity:function(e){switch(e){case"hourly":return"HOUR";case"daily":default:return"DAY";case"weekly":return"WEEK";case"monthly":return"MONTH"}}(a),columns:n.filter(function(e){return!u||"SPEND_YESTERDAY_IN_DOLLAR"!==e.field}).map(function(e){return e.field}).join(","),conversion_report_time:l.conversionReportTimeType,conversion_tag_type:l.converstionTagType,view_window_days:y.Z.extractWindowComponents(l.attributionWindow||_.p.attributionWindow,!0).view,click_window_days:y.Z.extractWindowComponents(l.attributionWindow||_.p.attributionWindow,!0).click,engagement_window_days:y.Z.extractWindowComponents(l.attributionWindow||_.p.attributionWindow,!0).engagement});return p.custom_columns=s,p},e4=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&eF(s,e);var t,n,r,i,a,l=(t=eV(),function(){var e,n=eq(s);return e=t?Reflect.construct(n,arguments,eq(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==ez(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eH(e)}(this,e)});function s(){var e;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return eK(eH(e=l.call.apply(l,[this].concat(n))),"state",{apiData:{perObjective:{},total:{graph_data:{metrics:{}}},hasError:!1},isLoading:!1}),eK(eH(e),"setLoadingState",function(t){e.setState({isLoading:t})}),e}return a=[{key:"loadData",value:(n=eB(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=this.props).objectiveTypes,r=t.isGraphObjectiveBreakoutActive,this.state.isLoading||this.setLoadingState(!0),!(!r&&n.length>1)){e.next=8;break}return e.next=5,this.loadEntityDeliveryMetrics();case 5:i=e.sent,e.next=11;break;case 8:return e.next=10,this.loadAggregatedDeliveryMetrics();case 10:i=e.sent;case 11:this.setState({apiData:e$({dataReady:!0},i),isLoading:!1});case 12:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getInvalidColumns",value:function(e,t,n){var r=[];return e.forEach(function(e){e&&(!Object.prototype.hasOwnProperty.call(t,e)||t[e].length!==n)&&r.push(e)}),r}},{key:"loadEntityDeliveryMetrics",value:(r=eB(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a,l,s,c,d,p,f,m,h,y=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=e8(this.props),r=(n=this.props).filters,i=n.requestContext,o=n.entityType,a=n.i18n,l=i.experimentsClient,s=e2[o]||"",c=(0,E.Zj)(r,l,!0,!1),d=l.checkExperiment("aid_exp_multi_substring_search").anyEnabled,e.prev=6,e.next=9,(0,T.i$)((0,u.Z)(e$(e$(e$(e$({},t),{},{aggregate_report_rows:!0,bookmark:1,filters:c,page_size:100,sort:{columns:["DATE"],ascending:!0},should_zero_fill:!0},this.getRequestColumns()),(0,E.dk)(r,l,a)),d&&(0,E.Rw)(r)),["custom_columns"]),s,!1,i,!0,!1);case 9:return f=(p=e.sent.data).metrics.reduce(function(e,t){return Object.keys(t).forEach(function(n){if(n in e||(e[n]=[]),"DATE"===n&&"string"==typeof t.DATE){var r="string"==typeof t.HOUR?t.HOUR:void 0;e.timestamp=e.timestamp||[],e.timestamp.push(y.getDateAsTimestampUTC(t.DATE,r))}e[n].push(t[n])}),e},{timestamp:[]}),m=this.getSelectedMetricsClean(),h=this.getInvalidColumns(m,f,p.totalResultCount),e.abrupt("return",{perObjective:{},total:{graph_data:{invalidColumns:h,metrics:e$({},f)}},hasError:!1});case 17:return e.prev=17,e.t0=e.catch(6),e.abrupt("return",{perObjective:{},total:{graph_data:{metrics:{},invalidColumns:[]}},hasError:!0});case 20:case"end":return e.stop()}},e,this,[[6,17]])})),function(){return r.apply(this,arguments)})},{key:"getSelectedMetricsClean",value:function(){var e=this.props,t=e.columns,n=e.selectedCustomColumns,r=e.selectedMetrics;return(0,g.p1)(r,t.map(function(e){return e.field}).concat(n.map(function(e){return"".concat("CUSTOM_COLUMN_").concat(e)})),!0)}},{key:"getRequestColumns",value:function(){var e=this.props,t=e.columns,n=e.requestContext.experimentsClient,r=this.getSelectedMetricsClean(),i=r.reduce(function(e,t){return t&&t.startsWith("CUSTOM_COLUMN_")&&e.push(t.substring(14)),e},[]),o=r.filter(function(e){return e&&!e.startsWith("CUSTOM_COLUMN_")}),a=n.checkExperiment("aid_exp_reporting_ade_columns").anyEnabled,l=[];if(a){var s=new Set(t.filter(function(e){return void 0!==e.adeColumnType}).map(function(e){return e.field}));o=r.filter(function(e){return!s.has(e)}),l=r.filter(function(e){return s.has(e)})}return e$({columns:o,custom_column_ids:i},a&&{ade_columns:l})}},{key:"loadAggregatedDeliveryMetrics",value:(i=eB(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a,l,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=this.props).requestContext,r=t.filters,i=t.i18n,o=n.experimentsClient,a=e8(this.props),l=(0,E.Zj)(r,o,!0,!1),s=o.checkExperiment("aid_exp_multi_substring_search").anyEnabled,e.prev=5,e.next=8,(0,T.aX)((0,u.Z)(e$(e$(e$(e$({},a),{},{filters:l},this.getRequestColumns()),(0,E.dk)(r,o,i)),s&&(0,E.Rw)(r)),["custom_columns"]),n);case 8:return c=e.sent,e.abrupt("return",c.reduce(function(e,t){return t.isTotal?e.total.graph_data={metrics:t.metrics,invalidColumns:t.invalidColumns}:e.perObjective[t.objectiveType||""]={graph_data:{metrics:t.metrics}},e},{perObjective:{},total:{graph_data:{metrics:{},invalidColumns:[]}},hasError:!1}));case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",{perObjective:{},total:{graph_data:{metrics:{},invalidColumns:[]}},hasError:!0});case 15:case"end":return e.stop()}},e,this,[[5,12]])})),function(){return i.apply(this,arguments)})},{key:"componentDidMount",value:function(){if(!this.props.isGraphCollapsed){var e=this.props,t=e.selectedMetrics,n=e.replaceEmptyMetrics;(null==t||t[0]===eb.Ox||t[1]===eb.Ox)&&n(),this.loadData()}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.columns,r=t.dateRange,i=t.entityType,o=t.customColumns,a=t.requestContext;if(!this.props.isGraphCollapsed){var l=r.startTime&&r.endTime&&(n.length>0||o.length>0)&&e1[i];s.havePropsChanged(e,this.props,a.experimentsClient)&&l&&this.loadData()}}},{key:"getDateAsTimestampUTC",value:function(e,t){return(t?(0,v.Z)(e+"T"+t):(0,v.Z)(e)).getTime()}},{key:"getSeriesAndColumns",value:function(){var e=this,t=this.props,n=t.columns,r=t.selectedCustomColumns,i=t.customColumns,o=t.requestContext,a=t.i18n,l={},s=n.map(function(e){var t=e.headerName;return l[t]?l[t]+=1:l[t]=1,{key:e.field,groupName:(0,m.L5)(e.columnGrouping,a,o.experimentsClient),value:t,preciseLabel:e.headerFullName||e.headerName,units:void 0!==e.units?e.units:"integer"}}),c=i.reduce(function(t,n){if(!r.includes(n.gid||""))return t;var i=n.displayName||"";return l[i]?l[i]+=1:l[i]=1,[].concat(eZ(t),[{key:"".concat("CUSTOM_COLUMN_").concat(n.gid||""),groupName:e.props.i18n._('Custom Columns', '[m10n]ReportingMetricsGraph.labels.CustomColumns', 'Label for custom column group name'),value:i,preciseLabel:i,units:(0,C.jl)(n.unitType)}])},[]),u=[].concat(eZ(s),eZ(c));return u.forEach(function(t){var n=t.value,r=t.groupName;l[n]>1&&(t.preciseLabel?t.value=t.preciseLabel:t.value=(0,f.Z)(e.props.i18n._('{{lineName}} ({{lineGroupName}})', 'Line name label when we have to combine it with the line group name to resolve ambiguity', 'Line name label when we have to combine it with the line group name to resolve ambiguity'),{lineName:n,lineGroupName:r}))}),[{lines:u,value:"FakeSeriesValue"}]}},{key:"render",value:function(){var e=this.props,t=e.showHourlyDataCaveatText,n=e.i18n,r=e.hasConversionMetricSelected,i=this.getSeriesAndColumns();return(0,W.jsxs)(o.xu,{children:[(0,W.jsx)(eG,e$(e$({},this.props),{},{apiData:e$(e$({},this.props.apiData),this.state.apiData),isLoading:this.state.isLoading,seriesControls:i})),e0(n,t,r)]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eJ(r.key),r)}}(s.prototype,a),Object.defineProperty(s,"prototype",{writable:!1}),s}(r.Component);eK(e4,"havePropsChanged",function(e,t,n){return(0,A.Eq)().some(function(n){return"columns"===n?!(0,h.oZ)(e.columns,t.columns):!(0,l.ZP)(e[n],t[n])})||!(0,h.jS)(e.selectedCustomColumns,t.selectedCustomColumns)||!(0,l.ZP)(e.selectedMetrics,t.selectedMetrics)||!(0,l.ZP)(e.isGraphCollapsed,t.isGraphCollapsed)||!(0,l.ZP)(e.objectiveTypes,t.objectiveTypes)||!(0,l.ZP)(e.isGraphObjectiveBreakoutActive,t.isGraphObjectiveBreakoutActive)||!(0,l.ZP)(e.graphGranularity,t.graphGranularity)||!(0,l.ZP)(e.showHourlyDataCaveatText,t.showHourlyDataCaveatText)||!(0,l.ZP)(e.hasConversionMetricSelected,t.hasConversionMetricSelected)||!(0,l.ZP)((0,E.Zj)(e.filters,n,!0,!1),(0,E.Zj)(t.filters,n,!0,!1))||!(0,l.ZP)((0,E.dk)(e.filters,n,e.i18n),(0,E.dk)(t.filters,n,t.i18n))||!(0,l.ZP)((0,E.Rw)(e.filters),(0,E.Rw)(t.filters))||!(0,l.ZP)(e8(e),e8(t))});var e3=(0,r.memo)(function(e){return(0,W.jsx)(e4,e$({},e))},function(e,t){return!e4.havePropsChanged(e,t,t.requestContext.experimentsClient)});function e9(){var e,t=(0,d.Z)(),n=(0,c.Z)(),r=(0,p.B)(),o=(0,i.v9)(w.Fp),l=(0,i.v9)(w.YQ),u=null==l?void 0:l.entityId,f=(0,i.v9)(w.xC),h=(0,i.v9)(function(e){return(0,j.ux)(e)})(n,t),y=h.columns,v=h.customColumns,_=(0,i.v9)(P.a),T=(0,i.v9)(x.W),E=(0,C.i2)(_,t,n),A=t.checkExperiment("aid_exp_fix_outdated_reporting_date_range").anyEnabled,S=(0,i.v9)(function(e){return(0,O.iX)(e,A)}),I=(0,i.v9)(function(e){return(0,O.LU)(e)}),L=(0,g.L8)(y,t,n,S,T,I),R=(0,g.XX)(v,t,n,S,E,T,I),N=(0,g.zR)(L,R),D=(0,i.v9)(function(e){return e.reportingProperties}),k=(0,i.v9)(function(e){return e.metricsGraph}),M=k.lineOne,G=k.lineTwo,z=(0,i.v9)(function(e){return e.advertiser}),Z=function(e){if(Array.isArray(e))return e}(e=(0,g.p1)([M,G],N))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,2)||eU(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),U=Z[0],X=Z[1],B=(0,i.v9)(function(e){return e.dateRange}),F=(0,i.v9)(function(e){return e.filters}),H=[U,X].some(function(e){return e&&(0,m.Bn)(e,t,n,E,T)}),V=(0,a.Z)(),q=(0,i.I0)();return(0,W.jsx)(s.Z,{name:"ReportingMetricsGraph",children:(0,W.jsx)(e3,{advertiser:z,columns:L,customColumns:_,dateRange:B,entityId:u,entityType:o,filters:F,graphGranularity:S,hasConversionMetricSelected:H,i18n:n,isGraphCollapsed:k.isGraphCollapsed,isGraphObjectiveBreakoutActive:k.isGraphObjectiveBreakoutActive,logContextEvent:V,objectiveTypes:f,replaceEmptyMetrics:function(){var e=[U,X].reduce(function(e,t){return[].concat(eZ(e),[t===eb.Ox?(N.find(function(t){return!e.includes(t.toString())})||eb.Ox).toString():t])},[]);q((0,b.ZP)({lineOne:e[0],lineTwo:e[1]}))},reportingProperties:D,requestContext:r,selectedCustomColumns:R,selectedMetrics:[U,X],showHourlyDataCaveatText:"hourly"===S})})}},941607:function(e,t,n){n.d(t,{H6:function(){return c},Iq:function(){return s},Ls:function(){return u},jf:function(){return d}});var r=n(20256),i=n(24246),o=n(216975),a=n(680811),l=function(e){var t=e.color,n=e.text,i=e.icon,o=e.iconAccessibilityLabel,l=e.textSize,s=e.textWeight,c=e.iconSize,u=e.padding,d=e.justifyContent,p=e.marginTop,f=n.map(function(e,n){return(0,a.jsx)(r.xv,{color:t,size:l,weight:s,children:e},"messageText"+n)});return(0,a.jsx)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,a.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"inline-flex"}},direction:"row",justifyContent:d,marginBottom:4,marginTop:p,padding:u,children:[(0,a.jsx)(r.xu,{marginEnd:4,children:(0,a.jsx)(r.JO,{accessibilityLabel:o,color:t,icon:i,size:c})}),(0,a.jsx)(r.xu,{marginEnd:4,children:f})]})})},s=function(){var e=(0,i.Z)();return(0,a.jsx)(l,{color:"error",icon:"face-sad",iconAccessibilityLabel:e._('Sad Face Icon', '[m10n] Accessibility label for sad face icon', '[m10n] Accessibility label for sad face icon'),iconSize:32,justifyContent:"center",marginTop:6,padding:12,text:[e._('Could not load the graph.', '[m10n] multiObjectiveGraphContainer.WarningMessage.ErrorWarningMessage.headerMessage', '[m10n] reporting page error message when bar graph fails'),e._('Refresh the page or change the graph metrics to try again.', '[m10n] multiObjectiveGraphContainer.WarningMessage.ErrorWarningMessage.proposedSolutionMessage', '[m10n] reporting page error suggested solution message when bar graph fails')],textSize:"300",textWeight:"bold"})},c=function(){var e=(0,i.Z)();return(0,a.jsx)(l,{color:"default",icon:"graph-bar",iconAccessibilityLabel:e._('Graph Bars Icon', '[m10n] Accessibility label for graph bars icon', '[m10n] Accessibility label for graph bars icon'),iconSize:32,justifyContent:"center",marginTop:6,padding:12,text:[e._('No activity for your applied filters.', '[m10n] reporting page error message when bar graph has no data to display', '[m10n] reporting page error message when bar graph has no data to display')],textSize:"300",textWeight:"bold"})},u=function(e){var t=e.invalidColumns,n=(0,i.Z)();return(0,a.jsx)(l,{color:"error",icon:"workflow-status-problem",iconAccessibilityLabel:n._('Workflow status problem', '[m10n] multiObjectiveGraphContainer.WarningMessage.icon', '[m10n] Accessibility label for Workflow status problem icon'),iconSize:16,justifyContent:"start",marginTop:0,padding:0,text:[(0,o.Wc)(n.ngettext('{{ invalidColumn1 }} cannot be graphed because it contains undefined values (divide by zero).', '{{ invalidColumn1 }} and {{ invalidColumn2 }} cannot be graphed because they contain undefined values (divide by zero).', t.length, '[m10n] multiObjectiveGraphContainer.WarningMessage.InvalidColumnMessage', '[m10n] invalidColumn1: name for first invalid column, invalidColumn2: name for second invalid column, Reporting page error message when custom columns have undefined values (divide by zero).'),{invalidColumn1:t[0]||"",invalidColumn2:t[1]||""})],textSize:"200",textWeight:"normal"})},d=function(){var e=(0, i.Z)()._('Hourly data is unavailable for conversion metrics', '[m10n] multiObjectiveGraphContainer.WarningMessage.ConversionColumnWarningMessage', '[m10n] Warning message when conversion metrics and hourly granularity are selected ');return(0,a.jsx)(r.xv,{size:"200",children:e})}},163225:function(e,t,n){n.d(t,{Ox:function(){return r},gr:function(){return a},q$:function(){return i},vl:function(){return l},wO:function(){return o}});var r="EMPTY",i=5,o=["#71BAC2","#84174B","#FFAD5A","#FF5959","#913D88","#009FD4"],a="#EFEFEF",l=["SPEND_IN_DOLLAR","TOTAL_IMPRESSION","TOTAL_ENGAGEMENT","TOTAL_CONVERSIONS","TOTAL_CLICKTHROUGH","TOTAL_REPIN","TOTAL_OUTBOUND_CLICK","IMPRESSION_1","ENGAGEMENT_1","CLICKTHROUGH_1","REPIN_1","OUTBOUND_CLICK_1","IMPRESSION_2","ENGAGEMENT_2","CLICKTHROUGH_2","REPIN_2","OUTBOUND_CLICK_2"]},134301:function(e,t,n){n.d(t,{A8:function(){return Y},Ew:function(){return S},Iq:function(){return A},L8:function(){return K},LV:function(){return V},N:function(){return H},UM:function(){return $},XX:function(){return J},_j:function(){return k},ey:function(){return N},jP:function(){return M},p1:function(){return ee},r2:function(){return C},uo:function(){return q},zR:function(){return Q}});var r=n(467775),i=n(371183),o=n(754426),a=n(68213),l=n(450622),s=n(576321),c=n(210940),u=n(323394),d=n(656120),p=n(746882),f=n(178249),m=n(16533),h=n(213432),y=n(163225);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=void 0;function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return j(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O="dddd LL",w=["currency","integer","microcurrency","percent"],P=function(e,t,n){var r=t.indexOf(e);return r===t.length-1?n:t[r+1]},T=function(e,t,n,i){var o=new Date(t),a=(0,d.vs)(o,{locale:e,format:"dddd LL HH:mm"}),l=(0,d.vs)((0,r.Z)(o,1),{locale:e,format:"HH:mm"}),s=(0,f.nw)(n,i,e).tzAbbreviation;return"".concat(a,"-").concat(l," ").concat(s)},E=function(e,t,n,r){var l=P(t,n,r),s=new Date(t),c=new Date(l);if((0,i.Z)(s,c))return(0,d.vs)(s,{locale:e,format:O});(0,o.Z)(c,s)>1&&(c=(0,a.Z)(c,1));var u=(0,d.vs)(s,{locale:e,format:O}),p=(0,d.vs)(c,{locale:e,format:O});return"".concat(u,"―\n").concat(p)},C=function(e,t,n,r,i,o,a){return"hourly"===e?T(t,n,o,a):"daily"===e?(0,d.vs)(new Date(n),{locale:t,format:O}):"weekly"===e||"monthly"===e?E(t,n,r,i):""},A=function(e,t){e.forEach(function(e){e.lines&&e.lines.forEach(function(e){var n=t[e.key];if(("microcurrency"===e.units||"microcurrency"===e.originalUnits)&&n&&!n.adjusted){for(var r in n)n[r]=(0,c.$X)(n[r]);e.originalUnits="microcurrency",n.adjusted=!0,e.units="currency"}})},g)},S=function(e,t){return e[0].lines.find(function(e){return e.key===t})},I=function(e){var t=1;if(e<1)for(;e<1&&e>0;)e*=10,t-=1;else for(;e>=10;)e/=10,t+=1;return t},L=function(e,t){var n=e;if("percent"===t)n=Math.ceil(1e3*e)/1e3;else if(5e-324===e)n=0;else{e||(e=0);var r=e>=0?1:-1,i=Math.abs(e),o=I(i)-3,a=Math.pow(10,o),l=Math.ceil(o>0?i/a:1/a*i),s=l%10,c=s?10-s:0;c>=5&&(c-=5),n=l+c,n=(306===o&&n>179?Number.MAX_VALUE:o>0?n*a:n/Math.pow(10,Math.abs(o)))*r}return"integer"===t&&(n=Math.ceil(n)),n},R=function(e){var t={max:5e-324,min:Number.MAX_VALUE};return e&&e.forEach(function(e){t.max=Math.max(t.max,e),t.min=Math.min(t.min,e)}),t.min===Number.MAX_VALUE&&(t.min=0),5e-324===t.max&&(t.max=0),t},N=function(e,t){var n,r=L((n=R(e).max)+.05*n,t);if(0===r)return[];for(var i=L(r,t)/(y.q$-1),o=[],a=1;a<y.q$;a+=1){var l=i*a;"integer"===t&&(l=Math.ceil(l)),(0===o.length||l!==o[o.length-1])&&o.push(l)}return o},D=function(e,t){if(0===e.length)return[];var n=[],r=[3,3,3,6,6,6,9,9,9,12,12,12],i=new Date(e[0]),o=new Date(e[e.length-1]).getTime();if("daily"===t)n=x(e);else if("weekly"===t)for(n.push(i.getTime()),i.setTime((0,l.Z)((0,d.eR)((0,p.Z)(i))).getTime());i.getTime()<=o;)n.push(i.getTime()),i.setUTCDate(i.getUTCDate()+7);else if("monthly"===t)for(n.push(e[0]),i.setUTCMonth(i.getUTCMonth()+1,1);i.getTime()<=o;)n.push(i.getTime()),i.setUTCMonth(i.getUTCMonth()+1,1);else for(n.push(e[0]),i.setUTCMonth(r[i.getUTCMonth()],1);i.getTime()<=o;)n.push(i.getTime()),i.setUTCMonth(r[i.getUTCMonth()],1);return n},k=function(e,t){return"hourly"!==t?D(e,t):e},M=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"USD",i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(null==e)return"";var a=e.toString();if(o&&i&&t!==m.ev.PERCENT){var l={shortform:!0,shortform_maximum_fraction_digits:1};switch(t){case m.ev.NUMERIC:a=i(n,e,_({},l));break;case m.ev.CURRENCY:a=i(n,e,_(_({},l),{},{style:m.ev.CURRENCY,currency:r}))}}else switch(t){case m.ev.NUMERIC:a=(0,s.Z)(n,e);break;case m.ev.PERCENT:a=(0,s.Z)(n,e,2,0,m.ev.PERCENT);break;case m.ev.CURRENCY:a=(0,s.Z)(n,e,2,2,m.ev.CURRENCY,r)}return a},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null==e||null==t||new Date(e).getUTCMonth()!==new Date(t).getUTCMonth()},z=function(e,t){var n="daily"===t?14:10;return e.length<=n?1:Math.ceil(e.length/n)},Z=function(e,t,n){return t.indexOf(e)%n==0},U=function(e,t,n){var r=t.indexOf(e);return t[r-n]||null},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,p.Z)(new Date(e));return n?new Intl.DateTimeFormat(t,{day:"numeric"}).format(r):new Intl.DateTimeFormat(t,{month:"short",day:"numeric"}).format(r)},X=function(e,t,n,r,l){var s=z(n,l);if(!Z(t,n,s))return"";var c=P(t,n,r),u=W(t,e),d=new Date(t),p=new Date(c);if((0,i.Z)(d,p))return u;if((0,o.Z)(p,d)>1&&(c=(0,a.Z)(c,1).getTime()),G(t,c)){var f=W(c,e);return"".concat(u,"-").concat(f)}var m=W(c,e,!0);return"".concat(u,"-").concat(m)},B=function(e,t,n){var r=z(n,"daily");if(!Z(t,n,r))return"";var i=U(t,n,r);return G(t,i)?W(t,e):W(t,e,!0)},F=function(e,t){var n=new Date(t);return n.getUTCHours()%4!=0?"":(0,d.vs)(n,{format:0===n.getUTCHours()?"MMM D":"HH:mm",locale:e})},H=function(e,t,n,r,i){return"hourly"===e?F(t,n):"daily"===e?B(t,n,r):["weekly","monthly"].includes(e)&&i?X(t,n,r,i,e):""},V=function(e,t){if("hourly"===t)return e.map(function(e){return 0===new Date(e).getUTCHours()});if("daily"===t){var n=z(e,t);return e.map(function(t){var r=U(t,e,n);return Z(t,e,n)&&G(t,r)})}if(["weekly","monthly"].includes(t)){var r=z(e,t);return e.map(function(t){return Z(t,e,r)})}return[]},q=function(e){return y.wO&&y.wO[e]||y.gr},Y=function(e,t){if(e){var n=new Set;if(e.forEach(function(e){e.lines&&e.lines.forEach(function(e){n.add(e.key)})}),n.has(t))return t}return y.Ox},$=function(e,t,n){var r=e._('None', '[m10n] Option when no metric is selected', '[m10n] Option when no metric is selected'),i=n!==y.Ox?[{label:r,value:y.Ox}]:[];return t&&t.forEach(function(e){e.lines&&e.lines.forEach(function(e){e.key!==n&&i.push({label:e.value,value:e.key})})}),i};function K(e,t,n,r,i,o){var a=e.filter(function(e){return w.includes(e.units||"")&&!e.excludeFromGraph});return"hourly"===r||"AD_ACCOUNT_TIME_ZONE"===o?a.filter(function(e){return!(0,u.Bn)(e.field,t,n,[],i)||e.isUnavailableForHourlyConversionReporting}):a}var J=function(e,t,n,r,i,o,a){return"hourly"===r||"AD_ACCOUNT_TIME_ZONE"===a?e.filter(function(e){return!(0,u.Bn)("".concat("CUSTOM_COLUMN_").concat(e),t,n,i,o)}):e},Q=function(e,t){return e.map(function(e){return e.field}).concat(t.map(function(e){return"".concat("CUSTOM_COLUMN_").concat(e)}))};function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=x(null!=e?e:[]);return 2!==r.length&&(r=[y.Ox,y.Ox]),(r=r.map(function(e){return null==e?y.Ox:e}))[0]===r[1]&&(r[1]=y.Ox),r=r.map(function(e){return null==e?y.Ox:e}).reduce(function(e,n){var r=n;return t.includes(n)||(r=y.Ox),[].concat(x(e),[r])},[]),n&&(r=r.map(function(e){return null==e?y.Ox:e}).reduce(function(e,n){var r=n;return n===y.Ox&&(r=t.find(function(t){return!e.includes(t)})||y.Ox),[].concat(x(e),[r])},[]).reduce(function(e,t){var n=t;return t===y.Ox&&(n=h.DEFAULT_SELECTED_METRICS.find(function(t){return!e.includes(t)})||h.DEFAULT_SELECTED_METRICS["0"]),[].concat(x(e),[n])},[])),r}}}]);