"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["36751"],{360990:function(e,t,r){r.d(t,{Z:function(){return o}});function o(e){return{name:e.full_name||"",src:e.image_medium_url||e.image_small_url||"",href:"/".concat(e.username,"/")}}},324828:function(e,t,r){r.d(t,{F:function(){return m},O:function(){return u}});var o=r(216975),n=function(e){return e._('{{ first }}', 'getTranslatedList.oneItem', 'Generic message that lists 1 item (ex: car). first: the first item')},i=function(e){return e._('{{ first }} and {{ second }}', 'getTranslatedList.twoItems', 'Generic message that lists 2 items (ex: car and dog). first: the first item, second: the second item')},a=function(e){return e._('{{ first }}, {{ second }} and {{ third }}', 'getTranslatedList.threeItems', 'Generic message that lists 3 items (ex: car, dog and chair). first: the first item, second: the second item, third: the third item')},l=function(e){return e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'getTranslatedList.fourItems', 'Generic message that lists 4 items (ex: car, dog, chair and sofa). first: the first item, second: the second item, third: the third item, fourth: the fourth item')},s=function(e){return e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'getTranslatedList.fiveItems', 'Generic message that lists 5 Items (ex: car, dog, chair, sofa and bench). first: the first item, second: the second item, third: the third item, fourth: the fourth item, fifth: the fifth item')},c=function(e){return e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'getTranslatedList.sixItems', 'Generic message that lists 6 Items (ex: car, dog, chair, sofa, bench and flooring). first: the first item, second: the second item, third: the third item, fourth: the fourth item, fifth: the fifth item, sixth: the sixth item')},u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,u={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-(r-1)};if(6===r)switch(e.length){case 0:return[];case 1:return(0,o.nk)(n(t),u);case 2:return(0,o.nk)(i(t),u);case 3:return(0,o.nk)(a(t),u);case 4:return(0,o.nk)(l(t),u);case 5:return(0,o.nk)(s(t),u);case 6:return(0,o.nk)(c(t),u);default:return(0,o.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'getTranslatedList.moreThan6Items', 'Generic message that lists more than 6 Items (ex: car, dog, chair, sofa, bench and 2 others). first: the first item, second: the second item, third: the third item, fourth: the fourth item, fifth: the fifth item, remaining: the remaining items'),u)}switch(e.length){case 0:return[];case 1:return(0,o.nk)(n(t),u);case 2:return(0,o.nk)(i(t),u);case 3:return(0,o.nk)(a(t),u);case 4:return(0,o.nk)(l(t),u);case 5:return(0,o.nk)(s(t),u);case 6:return(0,o.nk)(c(t),u);case 7:return(0,o.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'getTranslatedList.sevenItems', 'Generic message that lists 7 Items (ex: car, dog, chair, sofa, bench, flooring and speakers). first: the first item, second: the second item, third: the third item, fourth: the fourth item, fifth: the fifth item, sixth: the sixth item, seventh: the seventh item'),u);default:return(0,o.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'getTranslatedList.moreThan7Items', 'Generic message that lists more than 7 Items (ex: car, dog, chair, sofa, bench, flooring and 2 others). first: the first item, second: the second item, third: the third item, fourth: the fourth item, fifth: the fifth item, sixth: the sixth item, remaining: the remaining items'),u)}},d=function(e){return e._('{{ first }}', 'getTranslatedList.onePerson', 'Generic message that lists 1 person (ex: Stevie). first: the first person')},h=function(e){return e._('{{ first }} and {{ second }}', 'getTranslatedList.twoPeople', 'Generic message that lists 2 people (ex: Stevie and Michael). first: the first person, second: the second person')},f=function(e){return e._('{{ first }}, {{ second }} and {{ third }}', 'getTranslatedList.threePeople', 'Generic message that lists 3 people (ex: Stevie, Michael and Alberto). first: the first person, second: the second person, third: the third person')},_=function(e){return e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'getTranslatedList.fourPeople', 'Generic message that lists 4 people (ex: Stevie, Michael, Alberto and Bob). first: the first person, second: the second person, third: the third person, fourth: the fourth person,')},b=function(e){return e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'getTranslatedList.fivePeople', 'Generic message that lists 5 people (ex: Stevie, Michael, Alberto, Bob and Juno). first: the first person, second: the second person, third: the third person, fourth: the fourth person, fifth: the fifth person')},p=function(e){return e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'getTranslatedList.sixPeople', 'Generic message that lists 6 people (ex: Stevie, Michael, Alberto, Bob, Juno and Lionel). first: the first person, second: the second person, third: the third person, fourth: the fourth person, fifth: the fifth person, sixth: the sixth person')},m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-(r-1)};if(6===r)switch(e.length){case 0:return[];case 1:return(0,o.nk)(d(t),n);case 2:return(0,o.nk)(h(t),n);case 3:return(0,o.nk)(f(t),n);case 4:return(0,o.nk)(_(t),n);case 5:return(0,o.nk)(b(t),n);case 6:return(0,o.nk)(p(t),n);default:return(0,o.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'getTranslatedList.moreThan6People', 'Generic message that lists more than 6 people (ex: Stevie, Michael, Alberto, Bob, Juno and 2 others). first: the first person, second: the second person, third: the third person, fourth: the fourth person, fifth: the fifth person, remaining: the remaining items'),n)}switch(e.length){case 0:return[];case 1:return(0,o.nk)(d(t),n);case 2:return(0,o.nk)(h(t),n);case 3:return(0,o.nk)(f(t),n);case 4:return(0,o.nk)(_(t),n);case 5:return(0,o.nk)(b(t),n);case 6:return(0,o.nk)(p(t),n);case 7:return(0,o.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'getTranslatedList.sevenPeople', 'Generic message that lists 7 people (ex: Stevie, Michael, Alberto, Bob, Juno, Lionel and Tina). first: the first person, second: the second person, third: the third person, fourth: the fourth person, fifth: the fifth person, sixth: the sixth person, seventh: the seventh person'),n);default:return(0,o.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'getTranslatedList.moreThan7People', 'Generic message that lists more than 7 people (ex: Stevie, Michael, Alberto, Bob, Juno, Lionel and 2 others). first: the first person, second: the second person, third: the third person, fourth: the fourth person, fifth: the fifth person, sixth: the sixth person, remaining: the remaining items'),n)}}},121614:function(e,t,r){r.r(t),r.d(t,{BoardCollabFlyout:function(){return B},default:function(){return I}});var o=r(387784),n=r(653551),i=r(20256),a=r(935059),l=r(24246),s=r(739405),c=r(727208),u=r(661376),d=r(836447),h=r(704472),f=r(129748),_=r(680811);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function p(e){var t,r=e.board,n=e.scrollInfo,a=(0,l.Z)(),s=(0,u.Z)({name:"ApiResource",options:{url:null==(t=(0,d.Z)({boardId:r.id}))?void 0:t.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});if(!s.isLoaded)return(0,_.jsx)(i.xH,{accessibilityLabel:a._('Loading', 'Loading spinner when rendering users', 'Loading spinner when rendering users'),show:!0});var c,p=r.owner,m=s.data,y=s.isAtEnd,v=s.isFetching,g=s.fetchMore,x=[p].concat(function(e){if(Array.isArray(e))return b(e)}(c=m||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,void 0):void 0}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return(0,_.jsxs)(o.Fragment,{children:[n?(0,_.jsx)(f.Z,{fetchMore:g,isAtEnd:y,isFetching:v,scrollBuffer:3*n.container.clientHeight,scrollHeight:n.container.scrollHeight,scrollTop:n.top}):null,x.map(function(e){var t=e.full_name,r=e.id,o=e.image_medium_url,n=e.username;return(0,_.jsx)(h.Z,{imageUrl:null!=o?o:"",linkURL:"/".concat(n,"/"),name:null!=t?t:"",subtitle:n,title:null!=t?t:""},r)})]})}var m=r(260510),y=r(355448),v=r(500602);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){S(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=g(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}var B=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&P(n,e);var t,r,o=(t=C(),function(){var e,r=w(n);return e=t?Reflect.construct(r,arguments,w(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return A(e)}(this,e)});function n(){var e;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return S(A(e=o.call.apply(o,[this].concat(r))),"state",{contentRef:null,scrollContainer:null,scrollTop:null}),S(A(e),"handleBoardLeave",function(){var t=e.props,r=t.navigate,o=t.viewer;r(o.isAuth?"/".concat(o.username):"/",{replace:!0})}),S(A(e),"handleContentRef",function(t){!e.state.contentRef&&t&&(e.setState({contentRef:t}),t.focus())}),S(A(e),"handleScrollContainer",function(t){!e.state.scrollContainer&&t&&e.setState({scrollContainer:t})}),S(A(e),"handleScroll",function(){var t=e.state.scrollContainer;t&&e.setState({scrollTop:t.scrollTop})}),e}return r=[{key:"renderInvite",value:function(e,t,r){if(!e.invited_user)return null;var o={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:r,useGestaltModal:!0,isDim:!1};return(0,_.jsx)(c.Z,j({},o))}},{key:"render",value:function(){var e=this.props,t=e.anchor,r=e.board,o=e.onDismiss,n=e.viewer,a=this.state,l=a.scrollContainer,s=a.scrollTop,c=n.isAuth&&n.username===r.owner.username,u=l?{container:l,top:s||0}:null,d=(r.access||[]).includes("write");return(0,_.jsx)(y.k,{viewerIsOwner:c,children:(0,_.jsx)(i.mh,{children:(0,_.jsx)(i.xu,{position:"absolute",top:!0,zIndex:v.BO,children:(0,_.jsx)(i.J2,{anchor:t,idealDirection:"down",onDismiss:o,positionRelativeToAnchor:!1,size:this.props.isDesktop?"xl":"lg",children:(0,_.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxHeight:500,minWidth:320,width:"100%",children:[(0,_.jsx)(i.Le,{top:0,children:(0,_.jsx)(i.xu,{alignItems:"center",display:"flex",height:64,justifyContent:"center",paddingX:4,paddingY:4,position:"relative",children:(0,_.jsx)("div",{ref:this.handleContentRef,tabIndex:0,children:(0,_.jsx)(i.xv,{size:"300",weight:"bold",children:this.props.i18n._('Group members', 'boardCollabFlyout.header', 'Heading for the group members flyout')})})})}),(0,_.jsx)(i.xu,{overflow:"scrollY",children:(0,_.jsx)(i.xu,{ref:this.handleScrollContainer,onScroll:this.handleScroll,children:d?(0,_.jsx)(m.Z,{board:r,onBoardLeave:this.handleBoardLeave,renderInvite:this.renderInvite,scrollInfo:u}):(0,_.jsx)(p,{board:r,scrollInfo:u})})})]})})})})})}}],function(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,O(o.key),o)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n}(o.Component);function I(e){var t=(0,l.Z)(),r=(0,a.Z)(),o=(0,n.s0)(),i=(0,s.HG)();return(0,_.jsx)(B,j(j({},e),{},{i18n:t,isDesktop:i,navigate:o,viewer:r}))}},271875:function(e,t,r){r.d(t,{k:function(){return n}});var o=(0,r(213491).Z)("Conversations"),n=o.Provider;t.Z=o.get},105435:function(e,t,r){r.d(t,{Z:function(){return f}});var o=r(387784),n=r(730448);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=i(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var h=function(e,t){var r=e.scrollTop,o=e.clientHeight,n=e.scrollHeight;return r+o+(t?t(o):2*o)>n},f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),e&&a(f,e);var t,r,o=(t=s(),function(){var e,r=c(f);return e=t?Reflect.construct(r,arguments,c(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function f(){var e;if(!(this instanceof f))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return u(l(e=o.call.apply(o,[this].concat(r))),"setContainerRef",function(t){e.containerRef=t}),u(l(e),"fetchMoreIfNecessary",(0,n.Z)(function(){var t=e.props,r=t.fetchMore,o=t.scrollBuffer;r&&e.containerRef&&h(e.containerRef,o)&&r()},200)),e}return r=[{key:"componentDidMount",value:function(){setTimeout(this.fetchMoreIfNecessary)}},{key:"componentDidUpdate",value:function(){this.fetchMoreIfNecessary()}},{key:"render",value:function(){return(0,this.props.children)({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}],function(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,d(o.key),o)}}(f.prototype,r),Object.defineProperty(f,"prototype",{writable:!1}),f}(o.PureComponent)},793160:function(e,t,r){t.Z=(0,r(387784).createContext)({inboxButton:null,setInboxButton:function(){},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:function(){},isUnblockToast:!1,setIsUnblockToast:function(){},setGroupBoardMessageButton:function(){}})},32602:function(e,t,r){r.d(t,{Z:function(){return i}});var o=r(387784),n=r(793160);function i(){var e=(0,o.useContext)(n.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},112782:function(e,t,r){r.d(t,{Z:function(){return E}});var o=r(387784),n=r(20256),i=r(470205),a=r(501010),l=r(619481),s=r(890678),c=r(718846),u=r(550759),d=r(653551),h=r(230201),f=r(367683),_=r(935059),b=r(774838),p=r(575820),m=r(893957),y=r(271875),v=r(32602),g=r(914253),x=r(551140),j=r(305375),P=r(680811);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t,r){var o;return(o=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=A(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==A(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return O(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}var B=function(e){switch(e){case 0:return 3003;case 1:return 3004;case 2:return 3005;default:return}},I=function(e){var t,r=e.boardTool,i=e.boardId,a=e.boardSectionId,l=e.iconSize,s=e.index,c=e.toolSize,u=void 0===c?88:c,A=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,l=[],s=!0,c=!1;try{for(i=(r=r.call(e)).next;!(s=(o=i.call(r)).done)&&(l.push(o.value),2!==l.length);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw n}}return l}}(t,2)||S(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=A[0],I=A[1],z=(0,x.$)(),k=r.icon,T=r.link,Z=r.text,E=r.tool,M=(0,j.Z)().section_slug,L=T.split("/").slice(0,3),R=T.split("/").slice(4),D=T.split("/")[3],H=6===E,N=D!==M&&a&&M&&!H?[].concat(w(L),[M],w(R)).join("/"):T,G=(0,b.B)().isRTL,U=(0,h.u)().logContextEvent,F=(0,g.gC)()(i)||{},q=F.owner,J=F.pin_count,W=F.section_count,Y=(0,_.Z)(),$=Y.isAuth?Y.id:"",X=(null==q?void 0:q.id)===$?3069:3070,K=0===E,V=function(e){1===E&&U({event_type:e,view_type:a?164:5,view_parameter:X,element:10600,aux_data:{board_id:i,board_pin_count:J,board_section_count:W,board_section_id:a,grid_index:s}}),K&&U({event_type:e,view_type:a?164:5,view_parameter:X,component:14926,element:11990,aux_data:{board_id:i,board_session_id:z}}),H&&101===e&&U({event_type:101,component:14926,view_type:a?164:5,view_parameter:X,element:12893,aux_data:{board_id:i,board_session_id:z,board_section_id:a}})};(0,m.Z)(function(){V(120),K&&V(13)});var Q=(0,o.useRef)(null),ee=(0,v.Z)().setGroupBoardMessageButton,et=(0,y.Z)(),er=et.conversations.showConversationsDropdown,eo=et.conversationOpen,en=et.dropdownOpen,ei=et.dropdownClose,ea=(0,d.TH)(),el=(0,p.mB)(ea.search),es=el.conversation_id,ec=el.tab,eu=4===E&&!!es&&"inbox"===ec;eu&&ee(Q.current);var ed=B(E);return(0,P.jsxs)(o.Fragment,{children:[(0,P.jsx)(n.Tg,{ref:Q,accessibilityLabel:Z,href:eu?"":N,onBlur:function(){return I(!1)},onFocus:function(){return I(!0)},onMouseEnter:function(){return I(!0)},onMouseLeave:function(){return I(!1)},onTap:function(){eu&&(V(102),er?ei():(en(),eo(es))),(K||H)&&V(101)},rounding:6,children:(0,P.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,P.jsx)(n.xu,{alignItems:"center",alignSelf:"center",color:O?"lightWash":"secondary",display:"flex",height:u,justifyContent:"center",rounding:6,width:u,children:(0,P.jsx)(n.JO,{accessibilityLabel:Z,color:"default",icon:"text-align-left"===k&&G?"text-align-right":k,size:void 0===l?30:l})}),(0,P.jsx)(n.xu,{paddingY:1,width:u,children:(0,P.jsx)(n.xv,{align:"center",lineClamp:2,size:"100",weight:"bold",children:Z})})]})}),ed&&(0,P.jsxs)(o.Fragment,{children:[(0,P.jsx)(f.cs,{anchors:C({},ed,Q.current),placementId:18,positionRelativeToAnchor:!1}),(0,P.jsx)(f.N,{anchors:C({},ed,Q.current),idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})]})};function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!=z(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=z(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Z(e){var t=e.boardId,r=e.sectionId,o=e.iconSize,i=e.isBoardEmpty,s=e.toolSize,u=e.boardOrSectionToolsRef,d=(0,c.Z)(),h=(0,a.Z)().checkExperiment,f=h("web_collage_creation").anyEnabled&&!i&&h("web_collage_navigate_from_own_board").anyEnabled,_=(0,l.Z)(u).data;if(!_||!_.length)return null;var b=_.filter(function(e){var t=e.tool;return!d||2===t}).filter(function(e){var t=e.tool;return!i||2!==t}).filter(function(e){var t=e.tool;return f||6!==t}).map(function(e){return 6===e.tool?T(T({},e),{},{link:"/collage-creation-tool/?boardId=".concat(t).concat(r?"&sectionId=".concat(r):"")}):e});return b.length?(0,P.jsx)(n.xu,{"data-test-id":"board-tools",children:(0,P.jsx)(n.kC,{alignItems:"start",justifyContent:"center",width:"100%",children:b.map(function(e,i){return(0,P.jsx)(n.xu,{"data-test-id":e.text,padding:1,children:(0,P.jsx)(I,{boardId:t,boardSectionId:r,boardTool:e,iconSize:o,index:i,toolSize:s})},e.id)})})}):null}function E(e){var t=e.sectionId,r=e.boardId,n=(0,c.Z)(),a=!!t,l=(0,s.Z)({name:a?"SectionToolsFeedResource":"BoardToolsFeedResource",options:a?{sectionId:t,orbacSubjectId:n}:{boardId:r,orbacSubjectId:n}}).ref;return(0,P.jsx)(i.Z,{name:"BoardToolsContainer_ResourceError",children:(0,P.jsx)(o.Suspense,{fallback:(0,P.jsx)(u.Z,{}),children:(0,P.jsx)(Z,T(T({},e),{},{boardOrSectionToolsRef:l}))})})}I.displayName="BoardTool"},635545:function(e,t,r){r.d(t,{Z:function(){return m}});var o=r(387784),n=r(20256),i=r(230201),a=r(367683),l=r(24246),s=r(510755),c=r(554365),u=r(36351),d=r(500602),h=r(680811);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,r){var o;return(o=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=f(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==f(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(o=i.call(r)).done)&&(l.push(o.value),l.length!==t);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function m(e){var t,r,f,p,m,y,v,g,x,j,P,A,C,w,S,O,B,I,z,k,T,Z=e.board,E=e.onArchiveClick,M=e.onCreatePincode,L=e.onEditBoardClick,R=e.onEditSectionClick,D=e.onMergeClick,H=e.onShowAbout,N=e.onUnarchiveClick,G=e.showArchiveOnly,U=e.showCreatePinCodeOption,F=e.surface,q=e.excludeShareOption,J=e.size,W=e.bgColor,Y=(0,l.Z)(),$=(0,o.useRef)(null),X=(0,i.u)().logContextEvent,K=b((0,o.useState)(!1),2),V=K[0],Q=K[1],ee=b((0,o.useState)("boardOptions"),2),et=ee[0],er=ee[1],eo="automagical"===Z.layout,en=function(){Q(!1),er("boardOptions")},ei={description:Z.description,id:Z.id,imageUrl:Z.image_cover_url,name:Z.name,type:"board",url:Z.url,ownerId:null==(T=Z.owner)?void 0:T.id},ea=function(){Q(function(e){return!e}),er("boardOptions")},el=!!Z.archived_by_me_at,es=["section"===F?(r=(t={handleClose:en,onEditClick:R,setMenuType:er}).handleClose,f=t.onEditClick,p=t.setMenuType,{items:[{dataTestId:"edit-section-button",text:Y._('Edit Section', 'BoardHeader.getSectionOptionsCategory.EditOption', 'Clickable text to enter board editing mode'),onClick:function(){f(),r()}},{text:Y._('Share', 'BoardHeader.getSectionOptionsCategory.ShareOption', 'Clickable text to show share options'),onClick:function(){(0,c.Z)(X),p("boardShare")}}],label:Y._('Section options', 'BoardHeader.getSectionOptionsCategory.OptionsCategory', 'Category of section options in section flyout')}):(m={handleClose:en,isArchived:el,isAutomagical:eo,onArchiveClick:E,onCreatePincode:M,onEditClick:L,onMergeClick:D,onShowAbout:H,onUnarchiveClick:N,setMenuType:er,showCreatePinCodeOption:U,isAdOnlyPins:Z.is_ads_only,excludeShareOption:q},y=void 0!==G&&G,v=m.handleClose,g=m.isArchived,x=m.isAutomagical,j=m.onArchiveClick,P=m.onCreatePincode,A=m.onEditClick,C=m.onMergeClick,w=m.onShowAbout,S=m.onUnarchiveClick,O=m.setMenuType,B=m.showCreatePinCodeOption,I=m.isAdOnlyPins,z=m.excludeShareOption,k=[],x?k.push({dataTestId:"aboutRecommendationsButton",text:Y._('About boards made for you', 'BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption', 'Clickable text to open about boards made for you modal'),onClick:function(){null==w||w(),v()}}):(y||k.push({dataTestId:"editBoardButton",text:Y._('Edit board', 'BoardHeader.BoardOptionsFlyout.EditOption', 'Clickable text to enter board editing mode'),onClick:function(){A(),v()}}),z||k.push({dataTestId:"shareBoardButton",text:Y._('Share', 'BoardHeader.BoardOptionsFlyout.ShareOption', 'Clickable text to show share options'),onClick:function(){(0,c.Z)(X),O("boardShare")}}),I||g||k.push({dataTestId:"mergeBoardButton",text:Y._('Merge', 'BoardHeader.BoardOptionsFlyout.MergeOption', 'Clickable text to open merge board modal'),onClick:function(){C(),v()}}),g?k.push({dataTestId:"unarchiveBoardButton",text:Y._('Unarchive', 'BoardHeader.BoardOptionsFlyout.UnarchiveOption', 'Clickable text to open unarchive modal'),onClick:function(){S(),v()}}):k.push({dataTestId:"archiveBoardButton",text:Y._('Archive', 'BoardHeader.BoardOptionsFlyout.ArchiveOption', 'Clickable text to open archive modal'),onClick:function(){j(),v()}}),B&&!y&&k.push({dataTestId:"createPinCodeBoardButton",text:Y._('Create Pincode', 'BoardHeader.BoardOptionsFlyout.PincodeOption', 'Clickable text to trigger Pincode modal'),onClick:function(){P(),v()}})),{items:k,label:Y._('Board options', 'BoardHeader.BoardOptionsFlyout.OptionsCategory', 'Category of board options in board flyout')})];return(0,h.jsxs)(n.xu,{position:"relative",zIndex:new n.Ry(s.fe-1),children:[(0,h.jsx)(n.xu,{ref:$,"data-test-id":"more-board-options",children:(0,h.jsx)(n.hU,{accessibilityLabel:Y._('More Board options', 'BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel', 'Accessibility label on icon button'),bgColor:void 0===W?"lightGray":W,icon:"ellipsis",iconColor:"darkGray",onClick:ea,selected:V,size:void 0===J?"sm":J})}),(0,h.jsx)(a.cs,{anchors:_({},3001,$.current),onCompleteByAnchor:_({},3001,ea),placementId:18}),(0,h.jsx)(a.N,{anchors:_({},3001,$.current),idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0}),V&&("boardOptions"===et?(0,h.jsx)(n.Lt,{anchor:$.current,disableMobileUI:!0,id:"board_options",onDismiss:en,zIndex:d.m6,children:es.map(function(e){var t=e.items,r=e.label;return(0,h.jsx)(n.Lt.Section,{label:r,children:t.map(function(e){var t=e.dataTestId,r=e.isSelected,o=e.onClick,i=e.text;return(0,h.jsx)(n.Lt.Item,{dataTestId:t,onSelect:o,option:{label:i,value:i},selected:r?{label:i,value:i}:null},i)})},r)})}):(0,h.jsx)(n.J2,{anchor:$.current,onDismiss:en,size:"flexible",children:(0,h.jsx)(u.Z,{component:13216,onCreatePincodeClick:M,onHide:en,sendType:"board",sharedObject:ei,viewType:5})}))]})}},411356:function(e,t,r){r.d(t,{Z:function(){return X}});var o=r(20256),n=r(501010),i=r(311752),a=r(564411),l=r(853930),s=r(387784),c=r(360990),u=r(24246),d=r(487002),h=r(653551),f=r(230201),_=r(470205),b=r(367683),p=r(935059),m=r(825605),y=r(200619),v=r(601871),g=r(263433),x=r(680811);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}var A=(0,s.lazy)(function(){return Promise.resolve().then(r.bind(r,121614))});function C(e){var t,r,n,i,a,l,c=e.avatarSize,u=e.board,d=e.displayedCollaborators,C=e.isBoardPreviewMode,w=e.nonDisplayedCollaboratorCount,S=e.handleShowCollabAndPermissionsModal,O=e.showPersonAddIconForInvite,B=function(e){if(Array.isArray(e))return e}(r=(0,s.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,l=[],s=!0,c=!1;try{for(i=(r=r.call(e)).next;!(s=(o=i.call(r)).done)&&(l.push(o.value),2!==l.length);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw n}}return l}}(r,2)||function(e,t){if(e){if("string"==typeof e)return P(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,2):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),I=B[0],z=B[1],k=(0,p.Z)(),T=(0,s.useRef)(null),Z=(0,s.useRef)(void 0),E=(0,h.s0)(),M=(0,y.Z)(),L=(0,f.u)().logContextEvent,R=(0,v.KY)(k,u,M),D=R&&!C,H=(D||u.collaborator_invites_enabled&&u.collaborated_by_me)&&!O,N=(n=function(){var e;return E(null!=(e=d[0].href)?e:"/")},d[0].is_ads_only_profile&&d[0].ads_only_profile_site&&(n=function(){L({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorAvatarGroup"}}),window.open(d[0].ads_only_profile_site,"_blank")}),d.length>1&&(n=function(){return z(!I)}),D&&(R||u.collaborated_by_me)&&(n=S),n),G=[501003];D&&u.is_collaborative&&G.push(502335);var U=d.map(function(e){var t=e.name,r=e.src;return t&&r?{name:t,src:r.endsWith("/default_75.png")?"":r}:{name:t,src:r}});return(0,x.jsxs)(s.Fragment,{children:[(0,x.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(g.Z,{ref:T,addButtonRef:Z,avatarSize:c,collaboratorCount:u.collaborator_count||0,displayedCollaborators:U,nonDisplayedCollaboratorCount:w,onClick:N,showAddButton:null!=H&&H}),(0,x.jsx)(b.cs,{anchors:(i={},a=3002,l=Z.current,(t=function(e,t){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=j(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),(a="symbol"==j(t)?t:t+"")in i)?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,i),placementId:18,positionRelativeToAnchor:!1}),(0,x.jsx)(b.Qp,{anchor:Z.current,customWrapper:function(e){var t=e.children;return(0,x.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:new o.Ry(2),children:t})},experienceIds:G,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})]}),I&&(0,x.jsx)(_.Z,{name:"SafeSuspense_CollaboratorAvatarGroup_BoardCollabFlyout",children:(0,x.jsx)(m.Z,{children:(0,x.jsx)(A,{anchor:T.current,board:u,onDismiss:function(){z(!1),T.current&&T.current.focus()}})})})]})}var w=r(112782),S=r(398419),O=r(998551),B=r(324828),I=r(216975),z=r(121614);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function T(e){var t,r=e.board,n=e.collaborators,i=e.overflowNumber,a=(0,u.Z)(),l=(0,s.useRef)(null),c=(0,f.u)().logContextEvent,d=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,l=[],s=!0,c=!1;try{for(i=(r=r.call(e)).next;!(s=(o=i.call(r)).done)&&(l.push(o.value),2!==l.length);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw n}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return k(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=d[0],_=d[1],b=n.map(function(e,t){if(e.isDim)return null;var r=e.is_ads_only_profile&&e.ads_only_profile_site,n=(r?e.ads_only_profile_site:e.href)||"",i=e.href?e.href:e.name+t;return(0,x.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,x.jsx)(o.rU,{display:"inlineBlock",href:n,onClick:function(){r&&c({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorNames"}})},rel:r?"nofollow":"none",target:r?"blank":null,underline:"none",children:e.name})},i)}).filter(Boolean);return i&&b.push((0,x.jsx)(o.xu,{ref:l,display:"inlineBlock",children:(0,x.jsx)(o.iP,{onTap:function(){return _(!0)},children:(0,x.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,I.nk)(a.ngettext('{{ overflowNumber }} other', '{{ overflowNumber }} others', i, 'legoBoardPageHeader.collaboratorNames.others', 'number of additional collaborators not listed, overflowNumber:number of collaborators'),{overflowNumber:i})})})},"overflowText")),(0,x.jsxs)(s.Fragment,{children:[(0,x.jsx)(o.xv,{inline:!0,children:(0,B.F)(b,a)}),h&&(0,x.jsx)(z.default,{anchor:l.current,board:r,onDismiss:function(){return _(!1)}})]})}var Z=r(581722),E=r(943152),M=r(577356),L=r(211731);function R(e){var t=(0,u.Z)(),r=e.onClick,n=e.requested,i=e.size,a=e.useAlternateText;return(0,x.jsx)(o.zx,{fullWidth:!0,onClick:r,size:i||"md",text:(n?function(e,t){return t?e._('Cancel', 'BoardPage.BoardJoinButton.cancel', '[Button] Cancel request to join a group board as a collaborator'):e._('Cancel request', '[Button] Cancel request to join a group board as a collaborator', '[Button] Cancel request to join a group board as a collaborator')}:function(e,t){return t?e._('Join', 'BoardPage.BoardJoinButton.join', '[Button] Request to join a group board as a collaborator'):e._('Request to join', '[Button] Request to join a group board as a collaborator', '[Button] Request to join a group board as a collaborator')})(t,a)})}var D=r(924591);function H(e){var t=(0,u.Z)(),r=e.boardImage,n=e.boardName,i=e.boardUrl,a=e.onHide,l=(0,x.jsx)(o.xv,{children:(0,I.nk)(t._('You\'ve cancelled the request to collaborate on {{ boardName }}', 'Board.JoinButton.CancelToast', 'Toast text stating that a user has cancelled a request to join a board'),{boardName:(0,x.jsx)(o.xv,{inline:!0,weight:"bold",children:n})})});return(0,x.jsx)(D.Z,{duration:3e3,href:i,imageUrl:r,onHide:a,text:l})}function N(e){var t=(0,u.Z)(),r=e.boardImage,n=e.boardName,i=e.boardUrl,a=e.onHide,l=(0,x.jsx)(o.xv,{children:(0,I.nk)(t._('You\'ve requested to join {{ boardName }}', 'Board.JoinButton.RequestToast', 'Toast text stating that a user has requested to join a board'),{boardName:(0,x.jsx)(o.xv,{inline:!0,weight:"bold",children:n})})});return(0,x.jsx)(D.Z,{href:i,imageUrl:r,onHide:a,text:l})}function G(e){var t=e.boardId,r=e.boardImage,n=e.boardName,i=e.boardUrl,a=e.isRequestedByMe,l=e.showPulsar,s=e.size,c=e.variant,u=(0,f.u)().logContextEvent,d=(0,Z.I0)(),h=(0,p.Z)(),_=(0,M.dI)(),b=h.isAuth&&h.id||"",m=(0,E.Z)(),y=(0,L.tV)(),v=function(e){var o,l,s,c=e.event;c.preventDefault(),c.stopPropagation(),m?m():a?(d((0,L.GJ)(t,b)),_.showOneToast(function(e){var t=e.hideToast;return(0,x.jsx)(H,{boardImage:r,boardName:n,boardUrl:i,onHide:t})})):(d(y(t)),_.showOneToast(function(e){var t=e.hideToast;return(0,x.jsx)(N,{boardImage:r,boardName:n,boardUrl:i,onHide:t})})),l=(o={action:a?"request":"cancel",id:t,logContextEvent:u,url:i}).action,s=o.id,(0,o.logContextEvent)({event_type:101,component:1,element:"request"===l?7499:7547,object_id_str:s,view_type:4,aux_data:{current_page_url:o.url}})};return b?(0,x.jsxs)(o.xu,{display:"flex",position:"relative",children:[(0,x.jsx)(R,{onClick:v,requested:a,size:s,useAlternateText:"lego"===c}),l&&(0,x.jsx)(o.iP,{onTap:function(e){v(e)},children:(0,x.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,x.jsx)(o.o3,{paused:a})})})]}):null}var U=r(833847);function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function q(e){var t,r=e.board,n=e.boardActions,i=e.boardName,a=e.collaborators,l=e.isArchived,h=e.isBoardPreviewMode,f=e.isSecret,_=e.nonDisplayedCollaboratorCount,b=e.pinCount,p=e.sectionCount,m=e.description,y=e.showPinCount,v=e.showPulsar,g=e.showJoinButton,j=e.isOwnerOrCollaborator,P=e.handleShowCollabAndPermissionsModal,A=(0,u.Z)(),B=r.automagical_board_metadata,I=r.featured_board_metadata,z=r.id,k=r.image_cover_url,Z=r.layout,E=r.owner,M=void 0===E?{}:E,L=r.should_show_board_collaborators,R=r.url,D=r.viewer_collaborator_join_requested,H=I||{},N=H.curator,q=H.is_sponsored_content,J=B||{},W=J.board_type,Y=J.tag_title,$=J.tagline,X=J.topic_name,K=J.upcoming_update_date_text,V=q?N:null,Q=(0,U.Z)(r),ee=j&&!h,et="automagical"===Z,er=[];N&&!ee?er.push((0,c.Z)(N)):L&&a.length?er.push.apply(er,function(e){if(Array.isArray(e))return F(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return F(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,void 0):void 0}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):M&&er.push((0,c.Z)(M));var eo=null==I?void 0:I.board_tag;return(0,x.jsxs)(o.kC,{alignItems:"start",dataTestId:"board-header-details",direction:"column",gap:6,justifyContent:"start",maxWidth:640,children:[(0,x.jsxs)(o.kC,{alignItems:"start",direction:"column",gap:3,justifyContent:"start",children:[(t=(I||{}).board_subtitle)?(0,x.jsx)(o.xu,{marginBottom:-1,children:(0,x.jsx)(o.xv,{weight:"bold",children:t})}):null,n?(0,x.jsxs)(o.kC,{direction:"row",gap:2,children:[(0,x.jsx)(o.X6,{id:"board-name",size:"700",children:i}),n]}):(0,x.jsx)(o.X6,{id:"board-name",size:"700",children:i}),(0,x.jsx)(O.Z,{fontSize:"200",isArchived:l,isAutomagical:et,isFeaturedBoard:Q,isSecret:f,pinCount:b,sectionCount:p,showEditorialBoardTag:"number"==typeof eo&&eo>=0,showPinCount:y,subtitle:2===W?$:K,tagTitle:Y}),!!m&&(0,x.jsx)(d.Z,{description:m,topicName:X})]}),!et&&(0,x.jsxs)(s.Fragment,{children:[ee&&(0,x.jsx)(o.xu,{marginBottom:2,children:(0,x.jsx)(o.HE,{accessibilityLabel:er.length>1?A._('Board with collaborators. Keep inviting collaborators. Opens a modal.', 'BoardHeaderDetails.AvatarGroup.InviteMoreCollaborators.accessibilityLabel', 'The board has collaborators. User can add additional collaborators. Opens modal to invite collaborators.'):A._('Invite collaborators. Opens a modal.', 'BoardHeaderDetails.AvatarGroup.InviteCollaborators.accessibilityLabel', 'The board has no collaborators. User can add collaborators. Opens modal to invite collaborators.'),addCollaborators:!0,collaborators:er,onClick:P,role:"button",size:"sm"})}),ee&&(0,x.jsx)(w.Z,{boardId:z,iconSize:24,isBoardEmpty:!b,toolSize:72}),!ee&&V&&(0,x.jsx)(S.Z,{user:V}),!ee&&!V&&(0,x.jsxs)(o.kC,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",gap:2,children:[(0,x.jsx)(C,{avatarSize:"sm",board:r,displayedCollaborators:er,handleShowCollabAndPermissionsModal:function(){},isBoardPreviewMode:h,nonDisplayedCollaboratorCount:_}),(0,x.jsxs)(o.xv,{children:[A._('by ', 'board.Headers.BoardHeader.BoardHeaderDetails.by', 'Text to tell the viewer who the board is owned and collaborated by'),(0,x.jsx)(T,{board:r,collaborators:er,overflowNumber:_})]})]})]}),g&&(0,x.jsx)(G,{boardId:z,boardImage:null!=k?k:"",boardName:i,boardUrl:R,isRequestedByMe:!!D,showPulsar:v,size:"lg",variant:"lego"})]})}var J=r(230689),W=r(401545),Y=r(235623),$=r(10516);function X(e){var t=e.board,r=e.boardName,s=e.collaborators,c=e.description,u=e.fullWidth,d=e.handleShowCollabAndPermissionsModal,h=e.isArchived,f=e.isBoardPreviewMode,_=e.isOwnerOrCollaborator,b=e.isSecret,p=e.nonDisplayedCollaboratorCount,m=e.onCreatePincode,y=e.overFlowActionsButton,v=e.pinCount,g=e.sectionCount,j=e.setBoardPreviewMode,P=e.showPinCount,A=e.showPulsar,C=e.showJoinButton,w=t.featured_board_metadata,S=t.layout,O=t.header,B=t.owner,I=(0,$.Z)(),z=I.isSmallerImage,k=I.isSmallScreen,T=(0,n.Z)().checkExperiment,Z=(0,l.Z)(null==B?void 0:B.id),E="automagical"===S,M=T("ce_dweb_relocate_board_share_button").anyEnabled,L=(null==O?void 0:O.large_image_url)||null,R=(null==w?void 0:w.has_expanded_sections)&&Z&&j,D=function(){return(0,x.jsxs)(o.kC,{dataTestId:"board-actions-container",gap:2,children:[R&&!E&&(0,x.jsx)(W.Z,{isBoardPreviewMode:f,setBoardPreviewMode:j}),!b&&!E&&(0,x.jsx)(Y.Z,{boardKey:{type:"Legacy",data:t},handleCreatePincode:m,iconColor:"darkGray",isShowShareIcon:!0,showTooltip:M}),y]})},H=function(){return(0,x.jsx)(q,{board:t,boardActions:M?D():void 0,boardName:r,collaborators:s,description:c,handleShowCollabAndPermissionsModal:d,isArchived:h,isBoardPreviewMode:f,isOwnerOrCollaborator:_,isSecret:b,nonDisplayedCollaboratorCount:p,pinCount:v,sectionCount:g,showJoinButton:C,showPinCount:P,showPulsar:A})},N=function(){return L?(0,x.jsx)(J.Z,{boardActions:M?void 0:D(),imageUrl:L,imageWidth:z?$.w:void 0}):M?void 0:D()},G=(0,x.jsxs)(o.kC,{alignItems:k||!L||_&&!f?"start":"center",dataTestId:"board-header-with-image",direction:k&&L?"column":"row",gap:8*!!L,justifyContent:"between",children:[(0,x.jsx)(o.xu,{children:k&&L?N():H()}),(0,x.jsx)(o.xu,{maxWidth:k?550:void 0,children:k&&L?H():N()})]});return void 0!==u&&u?(0,x.jsx)(o.xu,{paddingX:1,width:"100%",children:G}):(0,x.jsx)(i.Z,{isGetServerRenderGridHeaderStyles:!0,maxColumns:a.Sk,children:G})}}}]);