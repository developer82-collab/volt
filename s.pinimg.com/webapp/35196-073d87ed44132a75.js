"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["35196"],{568353:function(e,t,s){var a=s(20256),o=s(719301),l=s(766857),n=s(924591),i=s(24246),r=s(577356),c=s(680811);t.Z=function(e){var t=e.text,s=e.page,d=e.tooltipText,_=e.accessibilityLabel,u=e.elementId,p=e.dangerouslySetSmallMarginTop,m=e.dangerouslySetSmallMarginBottom,h=(0,l.ZP)((0,l.QK)(s)),g=(0,r.dI)().showToast,b=(0,i.Z)();return(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:m||p?{__style:{marginTop:p,marginBottom:m,marginLeft:2}}:void 0,children:(0,c.jsx)(a.hU,{accessibilityLabel:_,icon:"copy-to-clipboard",iconColor:"gray",onClick:function(){navigator.clipboard.writeText(t),h({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"copy-to-clip-board-icon",element:"BUSINESS_ACCESS_BUTTON",elementId:u}),g(function(e){var t=e.hideToast;return(0,c.jsx)(n.Z,{duration:o.QE,onHide:t,text:b._('Copied!', '[m10n].bizAccess.copyToClipBoardIcon.toast', 'message in toast after text copied'),type:"success"})})},size:"xs",tooltip:{text:d,accessibilityLabel:_}})})}},775167:function(e,t,s){s.d(t,{O:function(){return a},i:function(){return o}});var a=Object.freeze({AD_ACCOUNT_ID:"AD_ACCOUNT_ID",BUSINESS_ID:"BUSINESS_ID",HIERARCHY_ID:"HIERARCHY_ID",TAG_ID:"TAG_ID",ASSET_GROUP_ID:"ASSET_GROUP_ID",AUDIENCE_ID:"AUDIENCE_ID",EMAIL:"EMAIL",OWNER_EMAIL:"OWNER_EMAIL",ADMIN_EMAIL:"ADMIN_EMAIL",CATALOG_ID:"CATALOG_ID"}),o=function(e,t){switch(e){case a.AD_ACCOUNT_ID:return{elementId:"copy-ad-account-id",accessibilityLabel:t._('Copy ad account ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.adAccount.a11y', 'a11y for icon button to copy ad account id'),tooltipText:t._('Copy ad account ID', '[m10n].bizAccess.copyToClipBoardIcon.adAccount', 'tooltip text for icon button to copy ad account id')};case a.BUSINESS_ID:return{elementId:"copy-business-id",accessibilityLabel:t._('Copy business ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.businessId.a11y', 'a11y for icon button to copy business id'),tooltipText:t._('Copy business ID', '[m10n].bizAccess.copyToClipBoardIcon.businessId', 'tooltip text for icon button to copy business id')};case a.HIERARCHY_ID:return{elementId:"copy-hierarchy-id",accessibilityLabel:t._('Copy hierarchy ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.hierarchyId.a11y', 'a11y for icon button to copy hierarchy id'),tooltipText:t._('Copy hierarchy ID', '[m10n].bizAccess.copyToClipBoardIcon.hierarchyId', 'tooltip text for icon button to copy hiearchy id')};case a.TAG_ID:return{elementId:"copy-tag-id",accessibilityLabel:t._('Copy tag ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.tag.a11y', 'a11y for icon button to copy tag id'),tooltipText:t._('Copy tag ID', '[m10n].bizAccess.copyToClipBoardIcon.tag', 'tooltip text for icon button to copy tag id')};case a.ASSET_GROUP_ID:return{elementId:"copy-asset-group-id",accessibilityLabel:t._('Copy asset group ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.assetGroup.a11y', 'a11y for icon button to copy asset group id'),tooltipText:t._('Copy asset group ID', '[m10n].bizAccess.copyToClipBoardIcon.assetGroup', 'tooltip text for icon button to copy asset group id')};case a.AUDIENCE_ID:return{elementId:"copy-audience-id",accessibilityLabel:t._('Copy ad audience ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.audience.a11y', 'a11y for icon button to copy audience id'),tooltipText:t._('Copy audience ID', '[m10n].bizAccess.copyToClipBoardIcon.audience', 'tooltip text for icon button to copy audience id')};case a.CATALOG_ID:return{elementId:"copy-catalog-id",accessibilityLabel:t._('Copy catalog ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.catalog.a11y', 'a11y for icon button to copy catalog id'),tooltipText:t._('Copy catalog ID', '[m10n].bizAccess.copyToClipBoardIcon.catalog', 'tooltip text for icon button to copy catalog id')};case a.EMAIL:return{elementId:"copy-email",accessibilityLabel:t._('Copy email address to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.email.a11y', 'a11y for icon button to copy email address'),tooltipText:t._('Copy email address', '[m10n].bizAccess.copyToClipBoardIcon.email', 'tooltip text for icon button to copy email address')};case a.OWNER_EMAIL:return{elementId:"copy-owner-email",accessibilityLabel:t._('Copy email address to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.emailOwner.a11y', 'a11y for icon button to copy email address'),tooltipText:t._('Copy email address', '[m10n].bizAccess.copyToClipBoardIcon.emailOwner', 'tooltip text for icon button to copy email address')};case a.ADMIN_EMAIL:return{elementId:"copy-admin-email",accessibilityLabel:t._('Copy email address to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.emailAdmin.a11y', 'a11y for icon button to copy email address'),tooltipText:t._('Copy email address', '[m10n].bizAccess.copyToClipBoardIcon.emailAdmin', 'tooltip text for icon button to copy email address')};default:return{elementId:"",accessibilityLabel:"",tooltipText:""}}}},826703:function(e,t,s){var a=s(387784),o=s(581722),l=s(935059),n=s(661376),i=s(196482),r=s(89446);t.Z=function(e,t){var s,c=(0,o.v9)(i.ZP),d=(0,r.KJ)(),_=t||d,u=(0,n.Z)({name:"ApiResource",options:{url:"/ads/v4/business_access/businesses/".concat(_,"/owner/")}}),p=null==u||null==(s=u.data)?void 0:s.data,m=(e||c||[]).find(function(e){return e.id===_}),h=(0,l.Z)(),g=h.isAuth?h.id:null,b=(0,a.useMemo)(function(){return m?{isRmnBusinessV2:"rmn_or_brand_v2"in m&&"RMN"===m.rmn_or_brand_v2,isBrandBusinessV2:"rmn_or_brand_v2"in m&&"BRAND"===m.rmn_or_brand_v2}:{isRmnBusinessV2:_===g&&(null==p?void 0:p.rmn_or_brand_v2)==="RMN",isBrandBusinessV2:_===g&&(null==p?void 0:p.rmn_or_brand_v2)==="BRAND"}},[m,p,_,g]);return{isRmnBusinessV2:b.isRmnBusinessV2,isBrandBusinessV2:b.isBrandBusinessV2}}},184137:function(e,t,s){s.d(t,{Z:function(){return J}});var a=s(387784),o=s(581722),l=s(20256),n=s(719301),i=s(143754),r=s(766857),c=s(400850),d=s(583875),_=s(24246),u=s(216975),p=s(856853),m=s(501010),h=s(774838),g=s(568353),b=s(775167),y=s(516037),A=s(826703),x=s(552263),f=s(540846),S=s(432730),C=s(120516),P=s(89446),I=s(680811);function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a,o,l,n,i=[],r=!0,c=!1;try{if(l=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;r=!1}else for(;!(r=(a=l.call(s)).done)&&(i.push(a.value),i.length!==t);r=!0);}catch(e){c=!0,o=e}finally{try{if(!r&&null!=s.return&&(n=s.return(),Object(n)!==n))return}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var s=({}).toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?v(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}function T(e){var t=e.catalog,s=(0,_.Z)(),o=(0,P.HU)().setAssignCatalogModal,n=(0,a.useRef)(null),i=z((0,a.useState)(!1),2),r=i[0],c=i[1],d=(0,(0,m.Z)().checkExperiment)("web_m10n_system_user").anyEnabled;return(0,I.jsxs)(l.xu,{children:[(0,I.jsx)(l.zx,{ref:n,color:"red",iconEnd:"arrow-down",onClick:function(){c(!r)},selected:r,text:s._('Share access', '[m10n]businessAccess.catalogs.members.dropdown.label', 'members dropdown label')}),r&&(0,I.jsx)(l.Lt,{anchor:n.current,disableMobileUI:!0,id:"addPeopleMenu",onDismiss:function(){return c(!1)},children:(0,I.jsxs)(l.Lt.Section,{label:s._('Members', '[m10n]businessAccess.catalogs.members.dropdown.label', 'members dropdown label'),children:[(0,I.jsx)(l.Lt.Item,{onSelect:function(){o({restrictedAssignmentType:"EMPLOYEE",catalogFromProps:t})},option:{value:"addEmployees",label:s._('Employees', '[m10n]businessAccess.catalogs.employees.dropdown.label', 'employees dropdown label')}}),d&&(0,I.jsx)(l.Lt.Item,{onSelect:function(){o({restrictedAssignmentType:"SYSTEM_USER",catalogFromProps:t})},option:{value:"addSystemUsers",label:s._('System Users', '[m10n]businessAccess.catalogs.systemusers.dropdown.label', 'system users dropdown label')}})]})})]})}function j(e){var t,s=e.catalog,n=(0,_.Z)(),i=(0,o.I0)(),r=(0,P.KJ)(),c=(0,a.useRef)(null),d=z((0,a.useState)(!1),2),u=d[0],p=d[1],h=(0,P.HU)().setAssignCatalogModal,g=(0,f.y)().openSheet,b=(0,o.v9)(C.BW),v=(0,o.v9)(C.ji),T=(0,o.v9)(C.Lp),j=r===s.owner.id,E="COLLABORATIVE"===s.resource_subtype,w=(null==(t=b[s.id])?void 0:t.rmn_or_brand)==="RMN",L=!!(v&&v.filter(function(e){return"RMN"===e.business_partner_type}).length),O=(0,x.Z)().inRmnFoundations,B=(0,A.Z)(),N=B.isRmnBusinessV2,D=B.isBrandBusinessV2,R=(0,m.Z)().checkExperiment,U=R("web_m10n_system_user").anyEnabled,Z=R("business_access_rmn_catalog_sharing").anyEnabled,k=!!(0,y.Z)({customExperimentNames:["business_access_rmn_brand_agency_catalog_sharing"]}).data.business_access_rmn_brand_agency_catalog_sharing,M=O&&Z,G=D&&!j&&E&&w,F=M&&j||O&&Z&&k&&G,H=M&&N&&j&&E,V=j||F,W=H&&L&&!T;return(0,I.jsxs)(l.xu,{children:[(0,I.jsx)(l.zx,{ref:c,color:"red",iconEnd:"arrow-down",onClick:function(){p(!u)},selected:u,text:n._('Share access', '[m10n]businessAccess.catalogs.members.dropdown.label', 'members dropdown label')}),u&&(0,I.jsxs)(l.Lt,{anchor:c.current,disableMobileUI:!0,id:"addPeopleMenu",onDismiss:function(){return p(!1)},children:[(0,I.jsx)(l.Lt.Section,{label:n._('Employees', '[m10n]businessAccess.catalogs.employees.dropdown.label', 'employees dropdown label'),children:(0,I.jsx)(l.Lt.Item,{dataTestId:"add-people-menu-employees",onSelect:function(){h({restrictedAssignmentType:"EMPLOYEE",catalogFromProps:s})},option:{value:"addEmployees",label:n._('Assign employees', '[m10n]businessAccess.catalogs.employees.dropdown.label', 'employees dropdown label')}})}),V&&(0,I.jsxs)(l.Lt.Section,{label:n._('Partners', '[m10n]businessAccess.catalogs.partners.dropdown.section', 'partners dropdown section'),children:[F&&(0,I.jsx)(l.Lt.Item,{dataTestId:"add-people-menu-agency-partners",onSelect:function(){g("ASSIGN_AGENCY_PARTNERS_FOR_CATALOGS",{selectedCatalog:s,refreshData:function(){return i((0,S.ke)({businessId:r}))},type:"ASSIGN_AGENCY_PARTNERS_FOR_CATALOGS"})},option:{value:"addAgencyPartners",label:n._('Assign agency partners', '[m10n]businessAccess.catalogs.agencyPartners.dropdown.label', 'partners dropdown label')}}),H&&(0,I.jsx)(l.Lt.Item,{dataTestId:"add-people-menu-brand-partner",disabled:L||T,onSelect:function(){g("ASSIGN_ACCESS_FOR_CATALOG",{selectedCatalog:s,refreshData:function(){return i((0,S.ke)({businessId:r}))},type:"ASSIGN_ACCESS_FOR_CATALOG"})},option:{value:"addBrandPartner",label:n._('Assign brand partner', '[m10n]businessAccess.catalogs.brandPartner.dropdown.label', 'partners dropdown label')}}),W&&(0,I.jsx)(l.xu,{marginStart:3,children:(0,I.jsx)(l.xv,{color:"subtle",size:"200",children:n._('Already shared with a brand partner.', '[m10n]businessAccess.catalogs.brandPartner.subheader', 'brand partner assignment no allowed subheader')})}),!M&&j&&(0,I.jsx)(l.Lt.Item,{dataTestId:"add-people-menu-partners",onSelect:function(){h({restrictedAssignmentType:"PARTNER",catalogFromProps:s})},option:{value:"addPartners",label:n._('Assign partners', '[m10n]businessAccess.catalogs.partners.dropdown.label', 'partners dropdown label')}})]}),U&&(0,I.jsx)(l.Lt.Section,{label:n._('System Users', '[m10n]businessAccess.catalogs.systemusers.dropdown.section', 'systemusers dropdown section'),children:(0,I.jsx)(l.Lt.Item,{dataTestId:"add-people-menu-system-users",onSelect:function(){h({restrictedAssignmentType:"SYSTEM_USER",catalogFromProps:s})},option:{value:"addSystemUsers",label:n._('Assign system users', '[m10n]businessAccess.catalogs.systemusers.dropdown.label', 'systemusers dropdown label')}})})]})]})}var E=s(556610),w=s(458630),L=s(350269),O=s(54555),B=s(384408),N=s(738424),D=s(471873),R=s(300634),U=s(791953),Z=s(591786);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a,o,l,n,i=[],r=!0,c=!1;try{if(l=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;r=!1}else for(;!(r=(a=l.call(s)).done)&&(i.push(a.value),i.length!==t);r=!0);}catch(e){c=!0,o=e}finally{try{if(!r&&null!=s.return&&(n=s.return(),Object(n)!==n))return}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var s=({}).toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?G(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}function F(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function H(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?F(Object(s),!0).forEach(function(t){V(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):F(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function V(e,t,s){var a;return(a=function(e,t){if("object"!=k(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=k(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==k(a)?a:a+"")in e)?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function W(){var e=(0,_.Z)();return(0,I.jsx)(l.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderColor:"#e9e9e9"}},height:"100%",rounding:4,width:"100%",children:(0,I.jsx)(l.kC,{alignItems:"center",direction:"column",gap:2,height:"100%",justifyContent:"center",children:(0,I.jsxs)(l.xu,{maxWidth:400,children:[(0,I.jsx)(l.xv,{align:"center",size:"300",children:e._('Assign access to this catalog by adding employees or partners', '[m10n].bizAccess.CatalogsNotEmpty.emptyState.title', 'Header saying that users can assign access by adding partners or employees')}),(0,I.jsx)(l.xv,{align:"center",color:"subtle",size:"200",children:e._('You can assign members Catalog admin or Catalog ad creator permission.', '[m10n].bizAccess.CatalogsNotEmpty.emptyState.description', 'Description explaining which permissions can be assigned to members')})]})})})}function Y(e){var t=e.selectedCatalogFromProps,s=e.isHierarchyDetailsUi,a=void 0!==s&&s,i=(0,o.I0)(),p=(0,P.HU)().setRevokeCatalogAccessModal,m=(0,o.v9)(C.Rf),y=t||m,A=(0,_.Z)(),x=(0,P.KJ)(!!t),f=(0,r.ZP)("BUSINESS_ACCESS_CATALOGS"),z=(0,h.B)().locale,v=y.updated_time?(0,c.ZP)(z,new Date(y.updated_time),c.kH.LONG):"";if(!y||!y.owner)return null;var T=x!==y.owner.id,j={ACTIVE:A._('Active', '[m10n].bizAccess.CatalogsNotEmpty.activeStatus', 'text showing catalog is active'),INACTIVE:A._('Inactive', '[m10n].bizAccess.CatalogsNotEmpty.inactiveStatus', 'text showing catalog is inactive')};return y&&(0,I.jsxs)(l.xu,{direction:"row",display:"flex",justifyContent:"between",padding:4,children:[(0,I.jsxs)(l.kC,{alignItems:"center",gap:3,children:[(0,I.jsx)(d.qE,{accessibilityLabel:A._('catalog owner profile owner avatar image', '[m10n]businessAccess.catalogs.detail.avatar.a11y', 'accessiblity label for catalog owner avatar'),name:y.owner.name||"",size:"lg",src:y.owner.image_medium_url||""}),(0,I.jsxs)(l.kC,{direction:"column",gap:1,children:[(0,I.jsxs)(l.kC,{gap:1,children:[(0,I.jsx)(l.xv,{lineClamp:1,overflow:"breakAll",size:"400",weight:"bold",children:y.name}),T&&(0,I.jsx)(l.Ct,{text:A._('Shared with you', '[m10n]businessAccess.catalogs.detail.shared.badge', 'shared with you badge')})]}),(0,I.jsxs)(l.kC,{alignItems:"center",children:[(0,I.jsxs)(l.xv,{color:"subtle",size:"200",children:[A._('Catalog ID', '[m10n]businessAccess.catalogs.detail.id.label', 'catalog id label'),": ",y.id]}),(0,I.jsx)(g.Z,H({dangerouslySetSmallMarginBottom:.5,dangerouslySetSmallMarginTop:.5,page:n.Q6.CATALOGS,text:y.id},(0,b.i)(b.O.CATALOG_ID,A)))]}),(0,I.jsxs)(l.kC,{gap:1,children:[(0,I.jsxs)(l.kC,{gap:2,children:["ACTIVE"===y.status?(0,I.jsx)(l.qb,{type:"ok"}):(0,I.jsx)(l.JO,{accessibilityLabel:A._('catalog is inactive', '[m10n]businessAccess.catalog.detail.catalog.inactiveStatus.a11y', 'accessiblity label of icon that represents catalog is inactive'),color:"subtle",icon:"workflow-status-unstarted"}),(0,I.jsx)(l.xv,{color:"subtle",size:"200",children:"ACTIVE"===y.status?j.ACTIVE:j.INACTIVE})]}),a&&(0,I.jsx)(l.xv,{color:"subtle",size:"200",children:"•"}),a&&(0,I.jsx)(l.xv,{color:"subtle",size:"200",children:(0,u.nk)(A._('Last updated: {{lastUpdatedAt}}', '[m10n]businessAccess.catalog.detail.lastUpdated', 'last updated at time, lastUpdatedAt: time of last update'),{lastUpdatedAt:v})}),T&&(0,I.jsx)(l.xv,{color:"subtle",size:"200",children:"•"}),T&&(0,I.jsx)(l.xv,{color:"subtle",size:"200",children:(0,u.nk)(A._('Permissions granted: {{permissions}}', '[m10n]businessAccess.catalog.detail.permissions', 'text to show which permission have been granted, permissions: a list of permissions granted'),{permissions:y.permissions.map(function(e){return(0,Z.e6)(A,!0)(e)})})})]})]})]}),(a||x===y.owner.id)&&(0,I.jsx)(l.xu,{direction:"column",display:"flex",justifyContent:"start",marginStart:4,children:(0,I.jsx)(l.ZP,{href:"/business/catalogs/".concat(y.id,"/product-groups/?subjectBusinessId=").concat(y.owner.id,"&actingBusinessId=").concat(x),iconEnd:"arrow-up-right",onClick:function(){f({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"visit-catalog-not-empty-state",element:"BUSINESS_ACCESS_BUTTON",elementId:"visit-catalog"})},text:a?A._('View catalog', '[m10n]businessAccess.catalog.detail.visit.catalog.button.hierarchy', 'Visit catalog manager button'):A._('Visit catalog manager', '[m10n]businessAccess.catalog.detail.visit.catalog.button', 'Visit catalog manager button')})}),x!==y.owner.id&&(0,I.jsx)(l.xu,{direction:"column",display:"flex",justifyContent:"start",marginStart:4,children:(0,I.jsx)(l.zx,{onClick:function(){p({data:y,refreshData:function(){i((0,S.jk)({businessId:x,limit:n.xX}))},source:"BUSINESS_ACCESS_CATALOGS"}),f({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"catalog-not-empty-state",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-catalog-access"})},text:A._('Remove access', '[m10n]businessAccess.catalog.detail.remove.access.button', 'Remove access button')})})]})}function q(e){var t=e.selectedCatalogFromProps,s=e.isHierarchyDetailsUi,a=(0,o.v9)(C.Rf),n=t||a,r=(0,_.Z)(),d=(0,h.B)().locale,u=n&&n.updated_time?(0,c.ZP)(d,new Date(n.updated_time),c.kH.LONG):r._('Pending', '[m10n]businessAccess.catalogs.detail.lastUpdatedAt.pending', 'catalog last updated at event label');return n&&n.owner&&(0,I.jsx)(l.xu,{padding:4,children:(0,I.jsxs)(l.kC,{children:[(0,I.jsxs)(l.xu,{marginEnd:2,width:"100%",children:[(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:r._('Owner', '[m10n]businessAccess.catalogs.detail.owner.label', 'catalog owner name')}),(0,I.jsx)(l.xv,{lineClamp:1,overflow:"breakAll",size:"200",children:n.owner.full_name||n.owner.name})]}),(0,I.jsxs)(l.xu,{marginEnd:2,width:"100%",children:[(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:r._('Type', '[m10n]businessAccess.catalogs.detail.type.label', 'catalog type')}),(0,I.jsx)(l.xv,{size:"200",children:(0,i.Ak)(r,n.type,n.resource_subtype)})]}),!(void 0!==s&&s)&&(0,I.jsxs)(l.xu,{width:"100%",children:[(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:r._('Last updated at', '[m10n]businessAccess.catalogs.detail.lastUpdatedAt.label', 'catalog last updated at')}),(0,I.jsx)(l.xv,{size:"200",children:u})]})]})})}function J(e){var t,s,i=e.selectedCatalogFromProps,r=e.isHierarcyDetailsUi,c=void 0!==r&&r,d=M((0,a.useState)(0),2),u=d[0],h=d[1],g=(0,P.KJ)(!!i),b=(0,_.Z)(),f=(0,o.I0)(),z=(0,o.v9)(C.Rf),v=i||z,Z=(0,o.v9)(C.e_),k=(0,o.v9)(C.Hz),G=(0,o.v9)(C.ji),F=(0,o.v9)(C.fL),J=(0,o.v9)(C.Lp),K=(0,o.v9)(C.ZF),X=(0,o.v9)(C.BW),Q=M((0,a.useState)({permissionsUpdateToast:!1}),2),$=Q[0],ee=Q[1],et=(0,x.Z)().inRmnFoundations,es=(0,A.Z)().isBrandBusinessV2,ea=(0,(0,m.Z)().checkExperiment)("business_access_rmn_catalog_sharing").anyEnabled,eo=!!(0,y.Z)({customExperimentNames:["business_access_rmn_brand_agency_catalog_sharing"]}).data.business_access_rmn_brand_agency_catalog_sharing,el=v&&v.owner&&g!==v.owner.id,en=(null==v?void 0:v.resource_subtype)==="COLLABORATIVE",ei=(null==v?void 0:v.id)&&(null==(t=X[v.id])?void 0:t.rmn_or_brand)==="RMN",er=[{href:"#",text:b._('Employees', '[m10n]businessAccess.catalogs.employees.tab.label', 'employees tab label')}],ec=!el||el&&en&&ei&&es&&et&&ea&&eo;ec&&er.push({href:"#",text:b._('Partners', '[m10n]businessAccess.catalogs.partners.tab.label', 'partners tab label')});var ed=(k||[]).reduce(function(e,t){return H(H({},e),V({},t.id,t.permissions))},{}),e_=(G||[]).reduce(function(e,t){return H(H({},e),V({},t.id,t.permissions))},{}),eu=[(0,D.Z)(b,{headerName:b._('Employee', '[m10].bizAccess.catalogsDetailsContent.employee, header for employee column', 'Header of employee name column in table'),type:"PEOPLE",showDescriptor:!0}),(0,N.Z)({businessCatalogAssignedPermissionsMap:el&&K?V({},K,v.permissions):void 0,catalogDetailPageId:K,individualAssignedPermissionsMap:ed,i18n:b,pageType:"CATALOGS",shouldShowToast:$,setShouldShowToast:ee,updateCatalogPermission:function(e,t){K&&f((0,U.Dh)({userId:e,permissions:t,adAccountId:K,businessId:g,assignmentType:"PEOPLE"}))}}),(0,R.Z)("PEOPLE","CATALOG_PEOPLE","CATALOG")],ep=(0,a.useCallback)(function(e){var t=e||{},s=t.searchTerm,a=t.limit,o=t.page,l=H(H({searchTerm:s,businessId:g},a?{limit:a}:{}),o?{page:o}:{});f((0,S.ke)(l))},[f,g]),em=[(0,D.Z)(b,{headerName:b._('Partner Name', '[m10].bizAccess.catalogsDetailsContent.partner, header for partner column', 'Header of partner name column in table'),type:"PARTNER",showDescriptor:!0}),(0,N.Z)({individualAssignedPermissionsMap:e_,catalogDetailPageId:K,i18n:b,pageType:"CATALOGS",shouldShowToast:$,setShouldShowToast:ee,updateCatalogPermission:function(e,t){K&&f((0,U.Dh)({userId:e,permissions:t,adAccountId:K,businessId:g,assignmentType:"PARTNER"}))}}),(0,B.Z)(b,"PARTNER","REVOKE_CATALOG_PERMISSIONS",void 0,ep,"BUSINESS_ACCESS_CATALOGS")];(0,a.useEffect)(function(){var e,t;(null!=i&&i.id||null!=i&&null!=(e=i.asset)&&e.id)&&f((0,S.MI)(i.id||(null==(t=i.asset)?void 0:t.id)||""))},[null==i?void 0:i.id,f,null==i||null==(s=i.asset)?void 0:s.id]);var eh=(0,a.useCallback)(function(e){var t=e.searchTerm,s=e.limit,a=e.page,o=H(H({searchTerm:t,businessId:g},s?{limit:s}:{}),a?{page:a}:{});f((0,S.VS)(o))},[f,g]);return((0,a.useEffect)(function(){K&&(0===u&&void 0===k?eh({searchTerm:""}):ec&&void 0===G&&ep({searchTerm:""}))},[K,u,k,G,eh,ep,ec]),(0,p.Z)(v)&&!Z)?(0,I.jsx)(E.q,{hideButtons:!0}):(0,I.jsxs)(l.kC,{direction:"column",height:"100%",width:"100%",children:[(0,I.jsx)(l.xu,{marginBottom:4,children:(0,I.jsx)(w.Z,{items:[(0,I.jsx)(Y,{isHierarchyDetailsUi:c,selectedCatalogFromProps:v},"catalogInfo"),(0,I.jsx)(q,{isHierarchyDetailsUi:c,selectedCatalogFromProps:v},"CatalogMetadata")]})}),(0,I.jsx)(l.kC.Item,{flex:"grow",children:(0,I.jsxs)(l.kC,{direction:"column",height:"100%",children:[(0,I.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:5,children:[(0,I.jsx)(l.mQ,{activeTabIndex:u,onChange:function(e){var t=e.activeTabIndex,s=e.event,a=e.dangerouslyDisableOnNavigation;s.preventDefault(),a(),h(t)},tabs:er}),ea&&eo?(0,I.jsx)(j,{catalog:v}):el?(0,I.jsx)(T,{catalog:v}):(0,I.jsx)(j,{catalog:v})]}),(0,I.jsx)(l.kC.Item,{flex:"grow",children:0===u?(0,I.jsx)(l.xu,{"data-test-id":"catalogs-employees",height:"100%",children:(0,I.jsx)(L.Z,{employees:null!=k?k:[],employeesColumnDefs:eu,employeesFetchData:eh,employeesIsLoading:F,employeesTableConfiguration:{dataCurrentPageSelector:C.xv,dataPageSizeSelector:C.py,dataSearchTermSelector:C.Rs,dataTotalCountSelector:C.Ys},emptyState:(0,I.jsx)(W,{}),pageType:n.Q6.CATALOGS})}):(0,I.jsx)(l.xu,{"data-test-id":"catalogs-partners",height:"100%",children:(0,I.jsx)(O.Z,{emptyState:(0,I.jsx)(W,{}),pageType:n.Q6.CATALOGS,partners:null!=G?G:[],partnersColumnDefs:em,partnersFetchData:ep,partnersIsLoading:J,partnersTableConfiguration:{dataCurrentPageSelector:C.Ym,dataPageSizeSelector:C.TL,dataSearchTermSelector:C.T_,dataTotalCountSelector:C.nn}})})})]})})]})}},556610:function(e,t,s){s.d(t,{q:function(){return u}});var a=s(20256),o=s(766857),l=s(230201),n=s(24246),i=s(893957),r=s(304926),c=s(333528),d=s(89446),_=s(680811),u=function(e){var t=e.hideButtons,s=(0,n.Z)(),l=(0,o.ZP)("BUSINESS_ACCESS_CATALOGS"),i=(0,d.KJ)(),c=(0,d.HU)().setRequestCatalogsGeneralModal,u={text:s._('Upload, organize and promote your products at scale', '[m10n]bizAccess.catalogs.tab.text', 'text of catalogs page'),subText:s._('Create a catalog to share access with your employees and partners, or request access to a partner\u2019s catalog', '[m10n]bizAccess.catalogs.tab.subText', 'subtext of catalogs page'),createCatalogButtonText:s._('Create catalog', '[m10n]bizAccess.createCatalog.button.text', 'text of button to redirect to catalogs page'),requestCatalogButtonText:s._('Request catalog access', '[m10n]bizAccess.requestCatalog.button.text', 'text to of button to request catalog access')};return(0,_.jsx)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",minHeight:"100%",children:(0,_.jsxs)(a.xu,{"data-test-id":"catalogsPage",children:[(0,_.jsx)(a.xu,{marginEnd:"auto",marginStart:"auto",maxHeight:300,maxWidth:300,children:(0,_.jsx)(a.Ee,{alt:s._('Empty catalogs state', '[m10n]bizAccess.catalogs.emptyState.image', 'Alternate text for icon that shows a thread'),color:"#FFF",naturalHeight:1,naturalWidth:1,src:r})}),(0,_.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:4,justifyContent:"center",width:500,children:[(0,_.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"300",children:u.text}),(0,_.jsx)(a.xu,{marginEnd:"auto",marginStart:"auto",width:420,children:(0,_.jsx)(a.xv,{align:"center",color:"subtle",size:"200",children:u.subText})}),!(void 0!==t&&t)&&(0,_.jsxs)(a.kC,{alignItems:"center",direction:"row",gap:2,justifyContent:"center",children:[(0,_.jsx)(a.zx,{color:"gray",fullWidth:!0,onClick:function(){c({}),l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"catalogs-page-empty",element:"BUSINESS_ACCESS_BUTTON",elementId:"catalogs-page-empty-request-catalog"})},text:u.requestCatalogButtonText}),(0,_.jsx)(a.ZP,{color:"red",fullWidth:!0,href:"/business/catalogs/data-sources/?subjectBusinessId=".concat(i),iconEnd:"arrow-up-right",onClick:function(){l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"catalogs-page-empty",element:"BUSINESS_ACCESS_BUTTON",elementId:"catalogs-page-empty-create-catalog"})},text:u.createCatalogButtonText})]})]})]})})};t.Z=function(){var e=(0,n.Z)(),t=(0,l.u)().logContextEvent;(0,i.Z)(function(){t({view_type:465,view_parameter:3985,event_type:13,component:14931,aux_data:{component_id:"catalogs-page-empty"}})});var s={title:e._('Catalogs', '[m10n]bizAccess.catalogds.tab.title', 'title of catalogs page')},a=e._('View, create and manage your catalogs, or access catalogs shared with you', '[m10n]businessAccess.catalogs.info.tooltip', 'catalogs page info tooltip'),o=e._('Catalogs info icon', '[[m10n]bizAccess.catalogs.info.icon', 'Accessibility label for catalogs info icon');return(0,_.jsx)(c.Z,{content:(0,_.jsx)(u,{}),pageProps:{title:s.title,infoTooltip:{iconLabel:o,toolTipLabel:a}}})}},874273:function(e,t,s){var a=s(20256),o=s(680811);t.Z=function(e){var t=e.title,s=e.subtitle,l=e.iconLabel,n=e.onClick,i=e.toolTipLabel,r=e.gap;return(0,o.jsxs)(a.xu,{marginBottom:2,children:[(0,o.jsxs)(a.kC,{alignItems:"center",gap:r||1,height:"100%",justifyContent:"start",width:"100%",children:[(0,o.jsx)(a.X6,{size:"600",children:t}),(0,o.jsx)(a.xu,{"data-test-id":"tooltip-button-trigger",children:(0,o.jsx)(a.hU,{accessibilityLabel:l,bgColor:"transparent",icon:"info-circle",iconColor:"gray",onClick:n,size:"xs",tooltip:{text:i,accessibilityLabel:i}})})]}),s&&(0,o.jsx)(a.xv,{size:"300",children:s})]})}},333528:function(e,t,s){s.d(t,{Z:function(){return i}});var a=s(20256),o=s(997526),l=s(874273),n=s(680811);function i(e){var t=e.pageProps,s=e.pageTitle,i=e.content,r=t||{},c=r.title,d=void 0===c?"":c,_=r.infoTooltip,u=r.onClick,p=_||{},m=p.iconLabel,h=p.toolTipLabel;return(0,n.jsxs)(a.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[!!s&&(0,n.jsx)(a.xu,{marginBottom:4,marginStart:2,children:(0,n.jsx)(a.X6,{size:"600",children:s})}),!!d&&(0,n.jsx)(a.xu,{marginBottom:4,marginStart:2,children:(0,n.jsx)(l.Z,{gap:0,iconLabel:void 0===m?"":m,onClick:u,title:d,toolTipLabel:void 0===h?"":h})}),(0,n.jsx)(a.kC,{minHeight:"calc(100vh - 169px)",width:"100%",children:(0,n.jsx)(a.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:o.iiJ}},flex:"grow",minWidth:940,paddingX:2,paddingY:4,rounding:4,width:"grow",children:i})})]})}},364778:function(e,t,s){s.d(t,{Z:function(){return n}});var a=s(20256),o=s(997526),l=s(680811);function n(e){var t,s,n=e.pageProps,i=e.sidebarContent,r=e.mainContent,c=e.fitToWindow,d=e.style,_="calc(100vh - 169px)",u=n||{},p=u.title,m=u.infoTooltip;return(0,l.jsxs)(a.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[!!p&&(0,l.jsxs)(a.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"start",marginBottom:4,marginStart:2,width:"100%",children:[(0,l.jsx)(a.kC.Item,{flex:m?void 0:"grow",children:(0,l.jsx)(a.X6,{size:"600",children:p})}),m&&(0,l.jsx)(a.xu,{marginStart:1,children:(0,l.jsx)(a.hU,{accessibilityLabel:m.accessibilityLabel,bgColor:"transparent",icon:"info-circle",iconColor:"gray",onClick:m.onClick,size:"xs",tooltip:m.text?{text:m.text,accessibilityLabel:m.text}:void 0})})]}),(0,l.jsxs)(a.kC,{height:c?_:void 0,minHeight:c?void 0:_,overflow:c?"hidden":"visible",width:"100%",children:[(0,l.jsx)(a.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:o.iiJ}},height:c?"100%":void 0,marginEnd:2,minWidth:280,overflow:c?"hidden":"visible",paddingX:2,paddingY:4,rounding:4,width:280,children:i}),(0,l.jsx)(a.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:o.iiJ}},display:null==d||null==(t=d.content)?void 0:t.display,flex:"grow",minWidth:660,paddingY:4,rounding:4,width:"grow",children:(0,l.jsxs)(a.xu,{display:null==d||null==(s=d.content)?void 0:s.display,flex:c?void 0:"grow",height:c?"100%":void 0,overflow:c?"auto":"visible",paddingX:4,children:[r,(0,l.jsx)(a.xu,{height:2})]})})]})]})}},350269:function(e,t,s){var a=s(20256),o=s(24246),l=s(868033),n=s(377823),i=s(298259),r=s(680811);function c(){var e=(0,o.Z)();return(0,r.jsx)(i.Z,{description:e._('You can manage employee permissions to your assets and tools', '[m10n]EmployeesTable.emptyState.description', 'Description explaining what you can do on this page'),header:e._('Your employee list will appear here', '[m10n]EmployeesTable.emptyState.title', 'Header explaining where employees will go once added'),image:(0,r.jsx)(a.Ee,{alt:e._('Example of employees', '[m10n]EmployeesTable.emptyState.image', 'Alternate text for image that shows an example of employees'),color:"#FFF",naturalHeight:186,naturalWidth:305,src:l})})}t.Z=function(e){var t=e.pageType,s=e.employees,a=e.employeesIsLoading,l=e.employeesFetchData,i=e.employeesColumnDefs,d=e.employeesTableConfiguration,_=e.employeesOnRowClick,u=e.emptyState,p=(0,o.Z)();return(0,r.jsx)(n.Z,{columnDefs:i,currentPageSelector:null==d?void 0:d.dataCurrentPageSelector,data:s,disableFirstRender:!0,emptyState:u||(0,r.jsx)(c,{}),fetchData:null!=l?l:function(){},isLoading:a,onRowClick:_,pageSizeSelector:null==d?void 0:d.dataPageSizeSelector,pageType:t,searchPlaceholder:p._('Search employees', '[m10n]EmployeesTable.search.internal', 'Placeholder text to hint user to search for employees by name or email'),searchTermSelector:null==d?void 0:d.dataSearchTermSelector,totalCountSelector:null==d?void 0:d.dataTotalCountSelector})}},54555:function(e,t,s){var a=s(20256),o=s(24246),l=s(868033),n=s(377823),i=s(298259),r=s(680811);function c(){var e=(0,o.Z)();return(0,r.jsx)(i.Z,{description:e._('Invite this partner to access your ad accounts and tools', '[m10n]PartnerTable.emptyState.emptyState.description', 'Header suggesting inviting businesses to access your ad accounts and tools'),header:e._('Your partners list will appear here', '[m10n]PartnerTable.emptyState.title', 'Header explaining where partners will go once added'),image:(0,r.jsx)(a.Ee,{alt:e._('Key and lock icon representing requesting access', '[m10n]PartnerTable.emptyState.emptyState.image', 'Alternate text for icon that shows a key and lock'),color:"#FFF",naturalHeight:186,naturalWidth:305,src:l})})}t.Z=function(e){var t=e.pageType,s=e.partners,a=e.partnersIsLoading,l=e.partnersFetchData,i=e.partnersColumnDefs,d=e.partnersTableConfiguration,_=e.partnersOnRowClick,u=e.emptyState,p=(0,o.Z)();return(0,r.jsx)(n.Z,{columnDefs:i,currentPageSelector:null==d?void 0:d.dataCurrentPageSelector,data:s,disableFirstRender:!0,emptyState:u||(0,r.jsx)(c,{}),fetchData:null!=l?l:function(){},isLoading:a,onRowClick:_,pageSizeSelector:null==d?void 0:d.dataPageSizeSelector,pageType:t,searchPlaceholder:p._('Search partners', '[m10n]PartnerTable.search', 'Placeholder text to hint user to search for employees by name, username, or business ID'),searchTermSelector:null==d?void 0:d.dataSearchTermSelector,totalCountSelector:null==d?void 0:d.dataTotalCountSelector})}},300634:function(e,t,s){var a=s(592862),o=s(594110),l=s(680811);t.Z=function(e,t,s,n){return{field:"remove_account_permissions",headerName:void 0,minWidth:o.I.columnWidths.sm,TableCellComponent:function(o){var i=o.data;return(0,l.jsx)(a.Z,{assignmentType:e,data:i,dataToRefresh:t,resourceType:s,targetingRmnBusinessId:n})},justifying:"center",onHoverOnly:!0}}},304926:function(e){e.exports="https://s.pinimg.com/webapp/empty-state-audience-sharing-ad-accounts-04ca0a81.png"},868033:function(e){e.exports="https://s.pinimg.com/webapp/empty-state-employees-2x-c07e3ea2.png"}}]);