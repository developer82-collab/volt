"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["52151"],{254636:function(e,t,o){o.d(t,{Z:function(){return E}});var r=o(387784),n=o(581722),i=o(20256),a=o(27399),c=o(440077),s=o(935059),d=o(24246),l=o(774838),u=o(352507),f=o(233165),p=o(33529),b=o(955994),h=o(680811);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?_(Object(o),!0).forEach(function(t){j(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(I=function(){return!!e})()}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,o){return(t=w(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function w(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}var O={border:"1px solid ".concat(c.bJI),outline:"2px solid ".concat(c.nTo)},x={alignItems:"center",backgroundColor:"#efefef",border:"none",cursor:"pointer",display:"flex",flexGrow:1,height:40,justifyContent:"space-between",minWidth:0,outline:0,padding:"0 14px",position:"relative"},P={border:"none",cursor:"pointer",flex:"none",height:40,outline:0,padding:"0 14px"},B=function(e,t){var o=c.UTl;return e&&(o=c.jKP),t&&(o=c.cxq),{dropdown:{alignItems:"center",backgroundColor:"".concat(t?c.ilB:c.Wmm),border:"1px solid ".concat(o),cursor:t?"default":"pointer",display:"flex",flexGrow:1,height:48,justifyContent:"space-between",minWidth:0,outline:0,position:"relative",borderRadius:16}}},C=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),e&&v(c,e);var t,o,n=(t=I(),function(){var e,o=S(c);return e=t?Reflect.construct(o,arguments,S(this).constructor):o.apply(this,arguments),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function c(){var e;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];return j(g(e=n.call.apply(n,[this].concat(o))),"state",{selectedBoard:null,showBoardCreate:!1,showFlyout:!1,suggestedBoardName:"",dropdownFocused:!1}),j(g(e),"_setDefaultBoard",function(){a.Z.create("BoardPickerBoardsResource",{field_set_key:"board_picker",sort:"last_pinned_to",onlyFetchBoards:!0}).callGet({showError:!1}).then(function(t){var o=(((t||{}).resource_response||{}).data||{}).all_boards;if(o&&o.length>0){var r=o[0],n=r.id,i=r.image_cover_url,a=r.owner,c=r.privacy,s=r.name,d=r.url;if(e.props.selectedItem)return;e.handleItemChosen({boardId:n,imageCoverUrl:i,ownerUsername:null==a?void 0:a.username,privacy:c,title:s||"",url:d},!1)}})}),j(g(e),"setButtonRef",function(t){e.buttonRef=t}),j(g(e),"handleBoardDropdownClick",function(){e.setState(function(e){return{showFlyout:!e.showFlyout}})}),j(g(e),"handleSaveButtonClick",function(){var t=e.props,o=t.onSaveClick,r=t.selectedItem,n=t.disabledBoardPicker;(r||n)&&o?o():e.setState({showFlyout:!0})}),j(g(e),"handleFlyoutClose",function(){var t;e.setState({showFlyout:!1}),null==(t=e.buttonRef)||t.focus()}),j(g(e),"handleItemChosen",function(t){var o=!(arguments.length>1)||void 0===arguments[1]||arguments[1];(0,e.props.onItemChosen)(t),o&&e.handleFlyoutClose()}),j(g(e),"handleCreateSection",function(t){var o=e.state.selectedBoard;if(o){var r=o.id,n=o.privacy,i=t.id,a=t.title;e.handleItemChosen({boardId:r,privacy:n,sectionId:i,title:a||""})}e.handleBoardCreateClose()}),j(g(e),"handleBoardCreateShow",function(t){var o=t.title;e.setState({showBoardCreate:!0,showFlyout:!1,suggestedBoardName:o})}),j(g(e),"handleBoardCreateClose",function(){e.setState({showBoardCreate:!1,selectedBoard:null})}),j(g(e),"handleBoardCreate",function(t){e.props.invalidateBoardPickerBoardsResource();var o=t.id,r=t.name,n=t.privacy,i=t.url;e.handleItemChosen({boardId:o,privacy:n,title:r||"",url:i}),e.handleBoardCreateClose()}),j(g(e),"handleSetBoardWithSection",function(t){e.setState({selectedBoard:t})}),j(g(e),"handleDropdownFocused",function(){e.setState({dropdownFocused:!0})}),j(g(e),"handleDropdownBlur",function(){e.setState({dropdownFocused:!1})}),e}return o=[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedItem,o=e.useDefaultBoard,r=e.disableDefaultBoard;!(void 0!==r&&r)&&(void 0!==o&&o?this._setDefaultBoard():t||this._setDefaultBoard())}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabelText,o=e.buttonText,n=e.customItem,a=e.disabled,c=e.disabledBoardPicker,s=e.flyoutSize,d=e.flyoutZIndex,l=e.hasError,u=e.idealDirection,y=e.onSaveClick,_=e.placeholder,v=e.requestContext,g=e.selectedItem,I=e.showBoardCover,S=e.showButton,j=e.showCreateBoardButton,w=e.showFlyoutSaveButton,C=e.showSections,E=e.showSectionSaveButton,T=e.boardFilter,D=e.useLayer,R=e.useStoryboardStyle,A=e.useCreateModalWithNoLayer,N=e.showSaveToProfile,Z=this.state,k=Z.selectedBoard,z=Z.showBoardCreate,F=Z.showFlyout,L=Z.suggestedBoardName,U=Z.dropdownFocused,W=v.isRTL,M=R?16:8,X="".concat(M,"px 0 0 ").concat(M,"px"),V="0 ".concat(M,"px ").concat(M,"px 0"),G=(g||{}).title,J=I&&!!g&&G,q=a||c,H=m(m({},R?B(l,q).dropdown:x),{},{borderRadius:F||!S?M:W?V:X,padding:J?"0 14px 0 7px":"0 14px",cursor:q?"default":"pointer",pointerEvents:q?"none":"auto"},U?O:{}),K=m(m(m({},P),{},{borderRadius:W?X:V},a?{backgroundColor:"#efefef",cursor:"default"}:{}),{},{pointerEvents:a?"none":"auto"});return(0,h.jsxs)(i.xu,{column:12,dangerouslySetInlineStyle:{__style:{borderRadius:8,boxShadow:l&&!R?"0 0 0 1px #e60023":void 0,zIndex:F?d:void 0}},position:"relative",children:[(0,h.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,h.jsx)(i.iP,{ref:this.setButtonRef,accessibilityLabel:a?void 0:"","aria-expanded":F,dataTestId:"board-dropdown-select-button",disabled:a,onBlur:this.handleDropdownBlur,onFocus:this.handleDropdownFocused,onTap:this.handleBoardDropdownClick,rounding:4,children:(0,h.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:H},children:[(0,h.jsxs)(i.xu,{alignItems:"center","data-test-id":g?"board-dropdown-item-selected":"board-dropdown-placeholder",display:"flex",marginEnd:2,minWidth:0,overflow:"hidden",children:[J&&(0,h.jsx)(i.xu,{marginEnd:2,children:(0,h.jsx)(i.zd,{height:32,rounding:2,width:32,children:null!=g&&g.imageCoverUrl?(0,h.jsx)(i.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:g.imageCoverUrl}):(0,h.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})}),(0,h.jsx)(i.xv,{lineClamp:1,children:(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{color:g?"#111":"#6c6c6c"}},children:g&&G?G:_})})]}),(0,h.jsx)(i.xu,{flex:"none",marginEnd:-1,children:(0,h.jsx)(i.JO,{accessibilityLabel:F?this.props.i18n._('Close dropdown', 'createPin.chooseBoardDropdown.iconButton.closeDropdown', 'Icon button for closing choose board dropdown'):this.props.i18n._('Open dropdown', 'createPin.chooseBoardDropdown.iconButton.openDropdown', 'Icon button for opening choose board dropdown'),color:q?"subtle":"default",icon:"arrow-down",size:12})})]})}),!F&&S&&(0,h.jsx)(i.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:K},display:"flex",justifyContent:"center",children:(0,h.jsx)(i.iP,{accessibilityLabel:a?void 0:"",dataTestId:"board-dropdown-save-button",disabled:a,onTap:this.handleSaveButtonClick,children:(0,h.jsx)(i.xv,{color:a?"subtle":"inverse",weight:"bold",children:o||this.props.i18n._('Save', 'Button to create new Pin', 'Button to create new Pin')})})})]}),F&&(0,h.jsx)(i.J2,{anchor:this.buttonRef,idealDirection:u||"down",onDismiss:this.handleFlyoutClose,size:s,children:(0,h.jsx)(p.sR,{accessibilityLabelText:t,boardFilter:T,buttonText:o,customItem:n&&(0,r.cloneElement)(n,{onItemChosen:this.handleFlyoutClose}),onBoardCreate:this.handleBoardCreateShow,onButtonClick:y,onItemChosen:this.handleItemChosen,paneWidth:"number"==typeof s?s:void 0,setBoardWithSection:this.handleSetBoardWithSection,showCreateBoardButton:j,showFlyoutSaveButton:w,showSaveToProfile:N,showSections:C,showSectionSaveButton:E,useLegoLayout:!1,useStoryboardStyle:R})}),z&&!k&&(0,h.jsx)(f.Z,{boardCreateSource:"board_picker",onBoardCreate:this.handleBoardCreate,onClose:this.handleBoardCreateClose,showSecretBoardCreateToggle:"public"===T,suggestedBoardName:L,useModalWithNoLayer:A}),z&&!!k&&(0,h.jsx)(b.default,{onClose:this.handleBoardCreateClose,onSectionCreate:this.handleCreateSection,selectedBoard:k,useLayer:D})]})}}],function(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}(c.prototype,o),Object.defineProperty(c,"prototype",{writable:!1}),c}(r.Component);function E(e){var t=(0,d.Z)(),o=(0,n.I0)(),r=(0,s.Z)(),i=(0,u.Z)();return(0,h.jsx)(C,m(m({},e),{},{i18n:t,invalidateBoardPickerBoardsResource:function(){return o((0,p.DR)(r,i))},requestContext:(0,l.B)()}))}j(C,"defaultProps",{flyoutSize:"lg",flyoutZIndex:1,showButton:!0,disabled:!1})},632492:function(e,t,o){o.d(t,{$8:function(){return l},Dk:function(){return d},Fk:function(){return n},fS:function(){return s},lI:function(){return i},mS:function(){return c},qW:function(){return a}});var r=o(20256),n=new r.Ry(1),i=new r.Ry(3),a=2,c=new r.Ry(a),s=3,d=new r.Ry(100),l=new r.H3([d])},201198:function(e,t,o){o.d(t,{Z:function(){return c}});var r=o(20256),n=o(680811),i={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return(0,n.jsx)(r.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:8,width:"100%",children:(0,n.jsx)(r.xu,{dangerouslySetInlineStyle:i,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function c(e){var t=e.disabled,o=e.form,i=e.fullWidth,c=e.name,s=e.onClick,d=e.size,l=e.submitting,u=e.text;return(0,n.jsxs)(r.xu,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[l&&(0,n.jsx)(a,{}),(0,n.jsx)(r.zx,{color:"red",disabled:t||l,form:o,fullWidth:i,name:c,onClick:s,size:d,text:u,type:"submit"})]})}},955994:function(e,t,o){o.r(t),o.d(t,{default:function(){return d}});var r=o(20256),n=o(465784),i=o(24246),a=o(774838),c=o(533889),s=o(680811);function d(e){var t=(0,i.Z)(),o=e.onSectionCreate,d=e.onClose,l=e.selectedBoard,u=e.useLayer,f=(0,a.B)().isRTL,p=void 0===u||u?n.ZP:r.u_,b=(0,s.jsx)(r.xu,{paddingX:4,paddingY:6,position:"relative",children:(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"center",children:[(0,s.jsx)(r.xu,{maxWidth:400,children:(0,s.jsx)(r.X6,{align:"center",size:"600",children:t._('Add section', 'Modal header for adding a section', 'Modal header for adding a section')})}),(0,s.jsx)(r.xu,{left:f,paddingX:6,paddingY:5,position:"absolute",right:!f,top:!0,children:(0,s.jsx)(r.hU,{accessibilityLabel:t._('Close', 'CreateSection.Modal.Icon', 'Icon to close section create modal'),icon:"cancel",iconColor:"darkGray",onClick:d,size:"lg"})})]})});return(0,s.jsx)(p,{accessibilityModalLabel:t._('Add a section to the board', 'modal to add a section to a board', 'modal to add a section to a board'),heading:b,onDismiss:d,size:"sm",children:(0,s.jsx)(r.xu,{color:"default",display:"flex",rounding:2,children:(0,s.jsx)(c.Z,{board:l,completeCreateSectionAction:o,onClearModal:d,positionRelative:!0,showTitle:!1})})})}},908808:function(e,t,o){function r(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function n(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}o.d(t,{HG:function(){return n},OQ:function(){return i},hd:function(){return r}});var i=function(e,t){return{type:"BOARD_SECTION_EDIT",payload:t}}},66708:function(e,t,o){o.d(t,{Z:function(){return f}});var r=o(27399),n=o(660322),i=o(329197),a=o(908808),c=o(779686),s=o(679602),d=o(438274);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function f(e,t,o,f){var p=e.boardId,b=e.sourceBoardId,h=void 0===b?"":b,y=e.sourceSectionId,_=void 0===y?"":y,m=e.name,v=e.nameSource,g=e.pinImport,I=e.initialPinIds,S=0;"RECOMMENDATION"===v?S=1:"EDITED_RECOMMENDATION"===v&&(S=2);var j=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach(function(t){var r,n;r=t,n=o[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}({board_id:p,initial_pins:g&&!g.all?g.pinIds:void 0===I?[]:I,name:m,name_source:S},o?{orbac_subject_id:o}:Object.freeze({}));return function(e){return r.Z.create("BoardSectionResource",j).callCreate({showError:!1}).then(function(r){var l=r.resource_response.data;f({event_type:7100,object_id_str:l.id}),e((0,a.hd)(p,l)),e((0,c.vX)({feedId:p,feedType:d.Z.BOARD_SECTIONS,itemIds:[l.id],itemType:"boardsection"})),e((0,i.Z)(p,"pin_count")),e((0,n.jB)("BoardSectionsRepinResource",{board_id:p,orbac_subject_id:o}));var u=g||{all:!1,pinIds:[]},b=u.all,y=u.pinIds;return b?new Promise(function(o,r){return e((0,s.Z)({inverseSelection:!0,selectedPinIds:y,source:{boardId:h||p,sectionId:_||null},target:{boardId:p,sectionId:l.id}},t)).then(function(){return o(l)}).catch(r)}):(y.length>0&&e((0,c.EX)({feedId:p,feedType:d.Z.BOARDFEED,itemIds:y,itemType:"pin"})),l)})}}},773382:function(e,t,o){o.d(t,{Z:function(){return n}});var r=o(233597);function n(e,t){return function(o){return o((0,r.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}}},329197:function(e,t,o){o.d(t,{Z:function(){return a}});var r=o(233597);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function a(e,t,o){return(0,r.U)("BoardResource",{options:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach(function(t){var r,i;r=t,i=o[t],(r=function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=n(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}({board_id:e,field_set_key:t},o?{orbac_subject_id:o}:{})})}},679602:function(e,t,o){o.d(t,{S:function(){return p},Z:function(){return b}});var r=o(27399),n=o(329197),i=o(773382),a=o(779686),c=o(148266),s=o(438274),d=o(382802),l=function(e){return function(t){d.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))}},u=function(e){return(0,a.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId)};function f(e,t){var o=e.source,r=e.target;r.boardId!==o.boardId?(t((0,n.Z)(o.boardId,"pin_count")),t((0,n.Z)(r.boardId,"pin_count"))):o.sectionId&&r.sectionId||t((0,n.Z)(r.boardId,"pin_count")),o.sectionId&&t((0,i.Z)(o.sectionId)),r.sectionId&&t((0,i.Z)(r.sectionId))}function p(e){return function(t){var o=e.selectedPinIds,r=e.source,n=e.target;t((0,a.EX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:o,itemType:"pin"})),t((0,a.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:o,itemType:"pin"})),o.forEach(function(e){t((0,c.Vp)({pinId:e,boardId:n.boardId,sectionId:n.sectionId||void 0,title:n.name||""}))}),f(e,t)}}function b(e,t){return function(o){var n=e.selectedPinIds,i=e.target;return n.forEach(function(e){o((0,c.Vp)({pinId:e,boardId:i.boardId,sectionId:i.sectionId||void 0,title:i.name||""}))}),(function(e,t,o){var n=e.inverseSelection,i=e.selectedPinIds,c=e.source,d=e.target,f=e.orbacSubjectId;if(c.boardId===d.boardId&&(c.sectionId||null)===(d.sectionId||null))return Promise.reject();if(n){var p={board_id:c.boardId,new_board_id:d.boardId,old_section_id:c.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return r.Z.create("BulkEditSelectAllResource",p).callUpdate({showError:!1}).then(function(){return Promise.all([t(u(c)),t(u(d))])}).catch(l(o))}var b=function(e,o){t((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,a.vX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:i,itemType:"pin"}))};b(c,d);var h=function(){return b(d,c)};if(d.boardId===c.boardId)if(d.sectionId){var y={section_id:d.sectionId,pins:i,orbac_subject_id:f};return r.Z.create("BoardSectionEditResource",y).callUpdate({showError:!1}).catch(function(e){h(),l(o)(e)})}else{var _={section_id:c.sectionId,pins:i,orbac_subject_id:f};return r.Z.create("BoardSectionPinsResource",_).callDelete({showError:!1}).catch(function(e){h(),l(o)(e)})}var m={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return r.Z.create("BulkEditResource",m).callUpdate({showError:!1}).catch(function(e){h(),l(o)(e)})})(e,o,t).then(function(){return f(e,o)})}}},148266:function(e,t,o){function r(e){return{type:"PIN_BETTER_SAVE",payload:e}}function n(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function i(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function a(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function c(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}o.d(t,{ND:function(){return d},Vp:function(){return c},a1:function(){return r},b6:function(){return s},jg:function(){return i},o4:function(){return n},ti:function(){return a}})},533889:function(e,t,o){var r=o(387784),n=o(581722),i=o(20256),a=o(104999),c=o(935059),s=o(24246),d=o(514223),l=o(200619),u=o(601871),f=o(201198),p=o(66708),b=o(680811);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function _(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(Object(o),!0).forEach(function(t){S(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g=function(){return!!e})()}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,o){return(t=j(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function j(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var w=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&m(n,e);var t,o,r=(t=g(),function(){var e,o=I(n);return e=t?Reflect.construct(o,arguments,I(this).constructor):o.apply(this,arguments),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function n(e){var t;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");return S(v(t=r.call(this,e)),"onCreateSection",function(){var e=t.props,o=e.board,r=e.sourceBoard,n=e.sourceSection,i=e.dispatch,a=e.completeCreateSectionAction,c=e.pinImport,s=e.viewer,d=e.orbacActingAs,l=e.logContextEvent,f=(0,u.lJ)(s,d);return t.setState({isSaving:!0}),i((0,p.Z)({boardId:o.id,sourceBoardId:r&&r.id,sourceSectionId:n&&n.id,name:t.state.inputName.trim(),pinImport:c},t.props.i18n,f,l)).then(function(e){t.setState({isSaving:!1}),a(e)}).catch(function(e){t.setState({createError:e.message_detail||e.message,isSaving:!1})})}),S(v(t),"handleKeyDown",function(e){var o=e.event,r=t.state,n=r.createError,i=r.inputName;[d.Z.ENTER,d.Z.NUMPAD_ENTER].includes(o.which)&&!n&&i.trim()&&t.onCreateSection()}),S(v(t),"handleChangeName",function(e){var o=e.value;t.setState({createError:null,inputName:o})}),S(v(t),"handleInputRef",function(e){t.setState({inputRef:e})}),t.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1},t}return o=[{key:"componentDidUpdate",value:function(e,t){var o=this.state,r=o.createError,n=o.inputRef;n&&(!t.inputRef||r)&&n.focus()}},{key:"render",value:function(){var e=this.props,t=e.showTitle,o=e.positionRelative,r=this.state,n=r.createError,a=r.inputName,c=r.isSaving,s=!!a.trim()&&!n;return(0,b.jsxs)(i.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:o?"relative":"absolute",right:!0,rounding:2,top:!0,width:"100%",children:[t&&(0,b.jsx)(i.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,b.jsx)(i.X6,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,b.jsxs)(i.xu,{padding:4,children:[(0,b.jsx)(i.xu,{marginBottom:2,children:(0,b.jsx)(i.__,{htmlFor:"sectionEditName",children:(0,b.jsx)(i.xv,{color:n?"error":"subtle",size:"200",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,b.jsx)(i.xu,{children:(0,b.jsx)(i.xu,{ref:this.handleInputRef,children:(0,b.jsx)(i.nv,{errorMessage:n||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:a})})})]}),(0,b.jsx)(i.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start"}),(0,b.jsx)(i.xu,{padding:4,children:(0,b.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsx)(f.Z,{disabled:!s||c,onClick:this.onCreateSection,submitting:c,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}}],function(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n}(r.Component);t.Z=function(e){var t=(0,n.I0)(),o=(0,s.Z)(),r=(0,c.Z)(),i=(0,l.Z)();return(0,b.jsx)(w,_(_({},e),{},{dispatch:t,i18n:o,logContextEvent:(0,a.Z)(),orbacActingAs:i,viewer:r}))}}}]);