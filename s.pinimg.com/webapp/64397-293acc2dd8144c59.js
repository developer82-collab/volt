"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["64397"],{654471:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};r.hash="b5b71fb4390c1d3835e468a25f687669",t.default=r},176923:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};r.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7",t.default=r},2171:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(501010);function o(){return"enabled_pinrep_optimization"===(0,(0,r.Z)().checkExperiment)("webpack_react_profiler").group}},424367:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(501010),o=n(774838),i=n(739405);function a(){var e=(0,o.B)().isAuthenticated,t=(0,i.ml)(),n=(0,r.Z)().checkExperiment;return{mWebCloseupRedesignEnabled:e&&t&&n("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:n("mweb_closeup_redesign").group}}},496102:function(e,t,n){n.d(t,{CC:function(){return r},Ll:function(){return i},XF:function(){return o}});var r=function(e,t){var n=2*Math.random()*Math.PI;return{x:Math.floor(t/2*Math.cos(n)),y:Math.floor(e/2*Math.sin(n))}},o=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},i=function(e){return["@-webkit-keyframes","@keyframes"].map(function(t){return e.map(function(e){return t+" "+e}).join("\n")}).join("\n")}},446885:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(387784),o=n(20256),i=n(424367),a=n(351736),l=n(440077),s=n(609252),c=n(178315),u=n(774838),d=n(40763),f=n(680811);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e){var t,n,p=e.children,m=e.footerConfig,y=e.headerConfig,b=e.height,_=e.hideOnScroll,v=e.hideOnScrollState,g=v.isHidden,x=v.updateHiddenState,w=e.isFooterHidden,j=e.noPadding,P=e.paddingX,S=e.paddingY,O=void 0===S?c.og:S,A=e.type,C=e.zIndex,I=e.isStoryPin,T=y||{},z=T.headerLimitedOverflow,k=T.ignoreObstructions,E=T.zIndexForGestaltBug,F=m||{},D=F.appUpsellFooterConfig,R=F.footerInLego,H=F.navFooterConfig,L=!!D,Z="header"===A?"top":"bottom",B=(0,a.vs)(),M=(0,u.B)().isRTL,N=(0,i.Z)().mWebCloseupRedesignEnabled,U=(0,r.useRef)(null),G=(0,r.useRef)(null);(0,r.useEffect)(function(){try{if(!k){var e=U.current;G.current=z&&e&&Array.isArray(e.children)?e.children[0]:e,G.current instanceof HTMLElement&&s.Z.addObstruction(Z,G.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return function(){!k&&G.current instanceof HTMLElement&&s.Z.removeObstruction(Z,G.current)}},[k,z,Z,B]);var W="top"===Z?"relative":"fixed",Y=j?0:O,V=(null!=b?b:c.R$)+((null==y?void 0:y.overrideTop)||0),q=_||H?h({transition:R||N?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear"},g||w?{transform:"translateY(".concat("top"===Z?-V:V,"px)"),opacity:R||N?0:1}:Object.freeze({})):{},K=2*("relative"===W&&(null==y||!y.noGutter)),X=K?-K:0,$=B?a.k7:"rgba(255,255,255,.95)";B&&("header"===A?t=-1:n=-1);var J=R?L?void 0:null!=b?b:c.R$:"100%",Q=R?c.KJ:void 0,ee=null!=y&&y.isTranslucent&&$||B?$:l.Wmm,et=null!=y&&y.isTransparentBackground&&l.Wyp?l.Wyp:ee,en=(0,r.useMemo)(function(){return h({height:"footer"===A&&N?"calc(".concat(J," + env(safe-area-inset-bottom))"):J},N&&"footer"===A?{paddingBottom:"calc(env(safe-area-inset-bottom) + ".concat(4*(Y||0),"px)")}:Object.freeze({}))},[N,J,A,Y]),er=(0,d.Z)({skipExpActivation:!0});return(0,f.jsx)(o.xu,{ref:U,bottom:"footer"===A,dangerouslySetInlineStyle:{__style:h(h(h(h(h({top:t,bottomStyle:n},!C||E?{zIndex:E||1}:Object.freeze({})),z?{background:"transparent",overflow:"hidden",paddingBottom:c.UB,marginBottom:-c.UB,pointerEvents:"none"}:Object.freeze({})),null!=y&&y.hasBorder?{borderBottom:c.dS}:Object.freeze({})),null!=m&&m.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({})),q)},"data-test-id":A,display:L?"flex":void 0,height:b&&!R?b:void 0,left:!0,marginEnd:R?"auto":X,marginStart:R?"auto":X,onTransitionEnd:function(){(_||H)&&G.current&&(g||w?s.Z.removeObstruction(Z,G.current):s.Z.addObstruction(Z,G.current))},position:W,right:!0,top:"header"===A,width:R||"fixed"!==W?void 0:"100%",zIndex:E?void 0:C,children:(0,f.jsx)(o.xu,{alignItems:null!=m&&m.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:h(h(h({backgroundColor:et,paddingLeft:M||!er||I?void 0:"8px",paddingRight:M&&er&&!I?"8px":void 0},en),{},{boxShadow:N&&"footer"===A?"0 10px 0 0 ".concat(et,", ").concat(c.KJ):Q,marginBottom:R&&!(null!=H&&H.docked)?16:void 0},z?{pointerEvents:"auto"}:Object.freeze({})),null!=y&&y.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({}))},display:R||null!=m&&m.alignCenter?"flex":void 0,marginEnd:R?"auto":void 0,marginStart:R?"auto":void 0,paddingX:P||4*("footer"===A&&!j)+K,paddingY:Y,position:"relative",rounding:R&&!(null!=H&&H.docked)?"pill":void 0,width:H?H.footerWidth:L?void 0:"100%",children:"function"==typeof p?p({updateHiddenState:x}):p})})}},271202:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(20256),o=n(178315),i=n(446885),a=n(763904),l=n(680811);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["hasBorder","headerLimitedOverflow","ignoreObstructions","isTranslucent","isTransparentBackground","noGutter","overrideTop","useRoundedCorners","zIndexForGestaltBug","isStoryPin"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t=e.hasBorder,n=e.headerLimitedOverflow,s=e.ignoreObstructions,u=e.isTranslucent,f=e.isTransparentBackground,p=e.noGutter,m=e.overrideTop,h=e.useRoundedCorners,y=e.zIndexForGestaltBug,b=e.isStoryPin,_=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,c),v=_.noPadding,g=_.paddingY,x=void 0===g?o.og:g,w=_.zIndex;return(0,l.jsx)(r.Le,{height:n?o.LV+2*(v?0:x)*4:void 0,top:m||0,zIndex:w||void 0,children:(0,l.jsx)(a.Z,{hideOnScroll:_.hideOnScroll,children:function(e){return(0,l.jsx)(i.Z,d(d({},_),{},{headerConfig:{isTranslucent:u,isTransparentBackground:f,headerLimitedOverflow:n,hasBorder:t,ignoreObstructions:s,noGutter:p,overrideTop:m,zIndexForGestaltBug:y,useRoundedCorners:h},hideOnScrollState:e,isStoryPin:b,type:"header"}))}})})}},763904:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(387784),o=n(730448);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),e&&a(f,e);var t,n,r=(t=s(),function(){var e,n=c(f);return e=t?Reflect.construct(n,arguments,c(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function f(){if(!(this instanceof f))throw TypeError("Cannot call a class as a function");for(var e,t,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return u(l(t=r.call.apply(r,[this].concat(i))),"state",{isHidden:!!t.props.appUpsellFooterConfig||!!(null!=(e=t.props.navFooterConfig)&&e.isDockedNavOnPlp)}),u(l(t),"lastScrollPos",0),u(l(t),"updateHiddenState",function(e){t.reqAnimationId=window.requestAnimationFrame(function(){t.setState({isHidden:e})})}),u(l(t),"handleScroll",(0,o.Z)(function(){var e,n=t.props,r=n.appUpsellFooterConfig,o=n.navFooterConfig,i=t.state.isHidden,a=window.scrollY,l=a-t.lastScrollPos,s="none",c=document.documentElement||{},u=c.scrollHeight,d=c.clientHeight;Number.isNaN(u)||Number.isNaN(d)||(s=l<0?a<=Math.abs((window.scrollMinY||0)+Math.max(l,20))?"start":"none":a>=(window.scrollMaxY||u-d)-Math.max(l,20)?"end":"none");var f=null!=o&&o.isModal?0:55;r?l>20&&i&&a>=500?r.shouldShowAfterScroll()&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l<-20&&!i||a<=f)&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)):null!=(e=t.props.navFooterConfig)&&e.isDockedNavOnPlp?"start"===s&&!i||a<=f?(t.updateHiddenState(!0),null==o||o.onScroll(!0)):(a>f||"end"===s)&&i&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l<-20||"start"===s)&&i||a<=f?(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l>20||"end"===s)&&!i&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)),t.lastScrollPos=a},30)),t}return n=[{key:"componentDidMount",value:function(){try{var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}},{key:"componentWillUnmount",value:function(){var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o;!e.hideOnScroll&&this.props.hideOnScroll||!(null!=(t=e.navFooterConfig)&&t.isDockedNavOnPlp)&&null!=(n=this.props.navFooterConfig)&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!=(r=e.navFooterConfig)&&r.isDockedNavOnPlp&&!(null!=(o=this.props.navFooterConfig)&&o.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.navFooterConfig,r=this.state.isHidden;return t({isHidden:!(null!=n&&n.forceShow)&&r,updateHiddenState:this.updateHiddenState})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}(f.prototype,n),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},178315:function(e,t,n){n.d(t,{KJ:function(){return l},LV:function(){return a},R$:function(){return r},UB:function(){return i},dS:function(){return s},og:function(){return o}});var r=64,o=3,i=100,a=44,l="0px 0px 8px rgba(0, 0, 0, 0.1)",s="1px solid #efefef"},873438:function(e,t,n){n.d(t,{C:function(){return i},V:function(){return a}});var r=n(387784),o=(0,r.createContext)(!1),i=o,a=function(){return(0,r.useContext)(o)}},482539:function(e,t,n){n.d(t,{B4:function(){return P},P5:function(){return S},tx:function(){return O}});var r=n(27399),o=n(681698);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)})}}var u=function(){};function d(){return(d=c(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.board_id,e.next=3,(0,o.Z)({url:"/v3/boards/".concat(null!=i?i:"","/follow/"),method:"DELETE"});case 3:r({event_type:27,object_id_str:i}),n();case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return(f=c(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.board_id,e.next=3,(0,o.Z)({url:"/v3/boards/".concat(null!=i?i:"","/follow/"),method:"PUT"});case 3:r({event_type:26,object_id_str:i}),n();case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=c(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("UserFollowResource",t),e.next=3,o.callDelete();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(){return(m=c(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("UserFollowResource",t),e.next=3,o.callCreate();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(){return(h=c(regeneratorRuntime.mark(function e(t,n,o){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.Z.create("InterestFollowResource",t),e.next=3,i.callDelete();case 3:n(),o({event_type:602,object_id_str:t.interest_id});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(){return(y=c(regeneratorRuntime.mark(function e(t,n,o){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.Z.create("InterestFollowResource",t),e.next=3,i.callCreate();case 3:n(),o({event_type:601,object_id_str:t.interest_id});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e,t){return _.apply(this,arguments)}function _(){return(_=c(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("PinFeedbackResource",t),e.next=3,o.callUpdate();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(){return(v=c(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("PinFeedbackResource",t),e.next=3,o.callUpdate();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(){return(g=c(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)({url:"/v3/users/settings/",method:"POST",data:{gen_ai_topics_opt_out:t.gen_ai_topic_ids}});case 2:n();case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(){return(x=c(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)({url:"/v3/users/settings/",method:"POST",data:{gen_ai_topics_opt_in:t.gen_ai_topic_ids}});case 2:n();case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(){return(w=c(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pin||t.pin_id||"",e.next=3,(0,o.Z)({url:t.undo?"/v3/pin/".concat(r,"/feedback/see_more/undo/"):"/v3/pin/".concat(r,"/feedback/see_more/"),method:"PUT",data:{pin:r,through_id:t.through_id,rec_reason_type:t.rec_reason_type,surface:t.surface,feedback_pin_payload:t.feedback_pin_payload,client_tracking_params:t.client_tracking_params}});case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var j={complaint:b,followBoard:function(e,t,n){return f.apply(this,arguments)},followPinner:function(e,t){return m.apply(this,arguments)},followTopic:function(e,t,n){return y.apply(this,arguments)},genAi:function(e,t){return g.apply(this,arguments)},newsHubPinHide:function(e,t){var n,r,i,a;(0,o.Z)({url:e.undo?"/v3/news_hub/".concat(null!=(n=e.news_id)?n:"","/pin/").concat(null!=(r=e.pin_id)?r:"","/undo/"):"/v3/news_hub/".concat(null!=(i=e.news_id)?i:"","/pin/").concat(null!=(a=e.pin_id)?a:"","/hide/"),method:"PUT"}).then(function(){return t()}),b(l({feedback_type:1,pin_id:e.pin_id},e),t)},promotedComplaint:function(e,t){return v.apply(this,arguments)},relatedPinHide:function(e,t){var n,r;(0,o.Z)({url:e.undo?"/v3/p2p/".concat(null!=(n=e.pin)?n:"","/unhide/"):"/v3/p2p/".concat(null!=(r=e.pin)?r:"","/hide/"),method:"PUT"}).then(function(){return t()}),b(l({feedback_type:1,pin_id:e.pin},e),t)},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},seeMore:function(e,t){return w.apply(this,arguments)},undoGenAi:function(e,t){return x.apply(this,arguments)},unfollowBoard:function(e,t,n){return d.apply(this,arguments)},unfollowPinner:function(e,t){return p.apply(this,arguments)},unfollowTopic:function(e,t,n){return h.apply(this,arguments)},unrelatedSearchPin:function(e,t){var n,r;(0,o.Z)({url:e.undo?"/v3/search/".concat(null!=(n=e.pin_id)?n:"","/unhide/"):"/v3/search/".concat(null!=(r=e.pin_id)?r:"","/hide/"),method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then(function(){return t()}),b(l({feedback_type:1},e),t)},showFewerWeightLossAds:function(e,t){t()}};function P(e){return"string"==typeof e&&Object.prototype.hasOwnProperty.call(j,e)}var S=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic","undoGenAi"];function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,r=arguments.length>3?arguments[3]:void 0,o=e?j[e]:null,i=n||u;o?o(t||{},i,r):i()}},702763:function(e,t,n){n.d(t,{X:function(){return r}});var r="favorited"},87980:function(e,t,n){n.d(t,{F9:function(){return m},LM:function(){return d},VZ:function(){return l},cQ:function(){return h},rZ:function(){return s}});var r=n(397345),o=n(705460);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=function(){return"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll},s=function(e){return e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null},c=function(e,t){var n=e.top,r=e.height,o=t.foldY,i=n+t.pageYOffset;if(i>=o)return!1;var a=Math.min(r,o-i);return a>.5*r||a>.2*o},u=function(e){if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;var t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},d=function(){return document.querySelector?document.querySelectorAll(r.wc).length:((0,o.H)("missing_document_query_selector"),0)},f=function(){if(!document.querySelector)return(0,o.H)("missing_document_query_selector"),null;var e=document.querySelectorAll(r.wc);return e[e.length-1]||null},p=function(e,t){var n=s(e);if(!n)return(0,o.H)("missing_client_rect"),!1;if(n.width<70&&n.height<70){if(e instanceof HTMLImageElement)return!1;var r=u(e);if(null!=r&&r.endsWith("svg"))return!1}return c(n,t)},m=function(){var e=f();if(!e)return!1;var t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},h=function(e,t,n){if(!document.querySelector)return(0,o.H)("missing_document_query_selector"),[];var a={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},l=[r.Wf].concat(i(e?[r.fF]:[]),i(t?[r.$N]:[])).join(","),s=i(document.querySelectorAll(l));if(n){var c=i(document.querySelectorAll('div[data-test-id="board-section"]')),d=function e(t){var n=i(t.children);!n.length&&t.style.backgroundImage?s.push(t):n.length&&n.forEach(function(t){e(t)})};c.forEach(function(e){d(e)})}return s.reduce(function(e,n){if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&p(n,a)){var r=u(n);if(r){var o=(r||"").replace(/.*\//,"");return e.concat([{element:n,fileName:o}])}}return e},[])}},397345:function(e,t,n){n.d(t,{$N:function(){return s},Kb:function(){return r},Wf:function(){return a},fF:function(){return l},wc:function(){return i}});var r="pwt-grid-item",o=['div[data-grid-item="true"]',"div.Grid__Item",'div[data-test-id="'.concat(r,'"]')],i=o.join(","),a=o.map(function(e){return"".concat(e," img")}).join(","),l=o.map(function(e){return"".concat(e," div[style*=background-image]")}).join(","),s=o.map(function(e){return"".concat(e," video")}).join(",")},570615:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var o,i;o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e){if(!e)return null;var t,n,r=null==e?void 0:e.url;return Array.isArray(null==e?void 0:e.params)?t=null==e?void 0:e.params:Object.entries(t=a({},null!=(n=null==e?void 0:e.params)?n:{})).forEach(function(e){var n,i,a=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],s=a[1];null!=(n=r)&&n.includes("{".concat(l,"}"))&&(r=null==(i=r)?void 0:i.replaceAll("{".concat(l,"}"),String(s)),delete t[l])}),{name:"ApiResource",options:a({url:r,data:t},(null==e?void 0:e.method)==="POST"?{postInsteadOfGet:!0}:{}),enabledRouteRefresh:null==e?void 0:e.enabledRouteRefresh,headers:null==e?void 0:e.headers,noCache:null==e?void 0:e.noCache}}n.d(t,{Z:function(){return l}})},676879:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(570615),o=n(661376);function i(e){return(0,o.Z)((0,r.Z)(e))}},619481:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(387784),o=n(581722),i=n(629972),a=n(487038);function l(e){var t=e.name,n=e.optionsKey,l=t===i.fY,s=(0,a.MA)(),c=null==s?void 0:s.get(t,n);if(c)throw c;var u=function(e){var r;return null==(r=e[t])?void 0:r[n]},d=(0,o.v9)(function(e){var t;return null==(t=u(e.resources))?void 0:t.nextBookmark}),f=(0,o.v9)(function(e){var t;return null==(t=u(e.resources))?void 0:t.data}),p=(0,o.v9)(function(e){var t;return null==(t=u(e.resources))?void 0:t.auxData}),m=(0,o.v9)(function(e){var t;return null==(t=u(e.resources))?void 0:t.error}),h=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(l)return h.current;var y={auxData:p,data:f,error:m,isAtEnd:d===i.qx,nextBookmark:d};return(y.auxData!==h.current.auxData||y.data!==h.current.data||y.error!==h.current.error||y.isAtEnd!==h.current.isAtEnd||y.nextBookmark!==h.current.nextBookmark)&&(h.current=y),h.current}},70625:function(e,t,n){t.Z=(0,n(387784).createContext)("undefined"!=typeof window?window:null)},342994:function(e,t){t.Z={PIN_HIDDEN:function(e){return{title:e._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:e._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}},PIN_REPORTED:function(e){return{title:e._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:e._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}}},37318:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(581722),o=n(338065),i=n(680717),a=n(157498),l=n(680811);function s(e){var t=e.user,n=e.invertColors,s=e.isSecondaryButton,c=e.onTap,u=e.size,d=e.viewParameter,f=e.viewType,p=(0,r.I0)(),m=(null!=t?t:{}).id,h=(0,a.dM)(),y=h[m]?h[m].explicitly_followed_by_me:null==t?void 0:t.explicitly_followed_by_me;return(0,l.jsx)(o.Z,{followEventType:45,id:m,invertColors:n,isFollowed:y,isSecondaryButton:s,isUserFollowButton:!0,onFollow:function(){p((0,i.ZN)(m)),c&&c()},onUnfollow:function(){p((0,i.fv)(m)),c&&c()},pinKey:null,size:u,unfollowEventType:46,viewParameter:d,viewType:f})}},550759:function(e,t,n){var r=n(20256),o=n(24246),i=n(680811);t.Z=function(e){var t=e.isInModal,n=(0,o.Z)();return(0,i.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:t?"absolute":"fixed",top:!0,width:"100%",zIndex:new r.Ry(1),children:(0,i.jsx)(r.xH,{accessibilityLabel:n._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},49254:function(e,t,n){n.d(t,{c:function(){return o},t:function(){return i}});var r=n(380108);function o(e){return(0,e.children)((0,r.Z)().height)}function i(){return(0,r.Z)().height}},380108:function(e,t,n){n.d(t,{C:function(){return o}});var r=(0,n(213491).Z)("Header"),o=r.Provider;t.Z=r.get},471310:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(20256),o=n(230201),i=n(24246),a=n(387784);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=n(680811);function u(e){var t,n,s,u,d,f,p,m,h,y,b,_,v,g,x=e.auxData,w=e.enabled,j=e.onPull,P=e.refreshing,S=e.viewParameter,O=(0,i.Z)(),A=(0,o.u)().logContextEvent,C=4079===S,I=(n=(t={enabled:w,onSelect:function(e){var t=e.pullDistance,n=e.resetState;t>=120&&(A({view_type:1,event_type:158,view_parameter:C?4079:92,aux_data:C?x:{}}),j()),n()},refreshing:P}).enabled,s=t.onSelect,u=t.refreshing,d=(0,a.useRef)(null),p=(f=l((0,a.useState)(0),2))[0],m=f[1],y=(h=l((0,a.useState)(!1),2))[0],b=h[1],v=(_=u?0:p/250)>0,g=function(){b(!1),m(0)},(0,a.useEffect)(function(){if(n){var e=function(e){window.scrollY<=0&&!u&&(d.current=e.touches[0].clientY)},t=function(e){if(d.current){var t=(e.touches[0].clientY-d.current)*.5;t>0&&(m(t),e.preventDefault())}},r=function(){d.current&&(b(!0),s({pullDistance:p,position:_,resetState:g}),d.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",t,{passive:!1}),window.addEventListener("touchend",r),function(){window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",t),window.removeEventListener("touchend",r)}}},[n,s,p,u,_]),{pullDistance:p,hasStartPulling:v,position:_,startYRefCurrent:d.current,PULL_MENU_DISTANCE:250,isExecuted:y}),T=I.position,z=I.startYRefCurrent,k=I.pullDistance,E=Math.min(T,1),F=O._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,c.jsx)(r.xu,{children:w&&(0,c.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:E,transition:null===z?"all .3s ease-out":void 0}},display:"flex",height:120*T,justifyContent:"center",children:(0,c.jsx)(r.JO,{accessibilityLabel:F,icon:z&&k<120?"arrow-circle-down":"arrow-circle-up",size:40})})})}},989045:function(e,t,n){var r=n(20256),o=n(739405),i=n(680811);t.Z=function(){var e=(0,o.HG)();return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:e?{paddingTop:"0px",paddingBottom:"0px",marginTop:"0px",marginBottom:"0px"}:{paddingTop:"4px",paddingBottom:"4px",marginTop:"-4px",marginBottom:"-4px"}},"data-test-id":"initial-feed-fetch"})}},50107:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var r=n(387784),o=n(20256),i=n(774838),a=n(254889),l=n(680811);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t,n=e.heading,c=e.icon,u=e.placement,d=e.previousUrl,f=e.rightComponent,p=e.legoSettingsEnabled,m=void 0===p||p,h=e.disableRedirect,y=e.viewParameter,b=e.viewType,_=e.onTouch,v=(0,i.B)().isRTL,g=(0,r.useRef)(null),x=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=x[0],j=x[1];return(0,r.useEffect)(function(){g.current&&g.current.offsetWidth&&j(g.current.offsetWidth)},[]),(0,l.jsxs)(o.xu,{alignItems:"center",display:"flex",height:60,position:"relative",children:[(0,l.jsx)(o.xu,{flex:"none",left:!v,marginStart:m?1:-2,position:"absolute",right:v,children:(0,l.jsx)(a.default,{color:m?"darkGray":void 0,disableRedirect:void 0!==h&&h,fallbackUrl:d,icon:void 0===c?"arrow-back":c,onTouch:_,placement:u||"unknown",shouldUseFallbackUrl:!0,size:m?"sm":"lg",viewParameter:y,viewType:b})}),(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 ".concat(f?"".concat(w+12,"px"):"".concat(48,"px"))}},"data-test-id":"header",flex:"grow",marginEnd:m?2:7,paddingX:12,children:(0,l.jsx)(o.X6,{accessibilityLevel:1,align:"center",lineClamp:f?1:void 0,size:"400",children:n})}),m&&!!f&&(0,l.jsx)(o.xu,{ref:g,display:"flex",flex:"none",justifyContent:"end",left:v,marginEnd:1,position:"absolute",right:!v,children:f})]})}},167021:function(e,t,n){n.d(t,{K:function(){return d},T:function(){return f}});var r=n(387784),o=n(680811);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){var r;return(r=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,r.createContext)({getPinFeedbackStatus:function(){},setPinFeedbackStatus:function(){}}),d=function(){return(0,r.useContext)(u)};function f(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(Object.freeze({})))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],d=i[1],f=(0,r.useMemo)(function(){return{getPinFeedbackStatus:function(e){return a[e.pinId]},setPinFeedbackStatus:function(e){var t=e.pinId,n=e.pinFeedbackStatus;return d(l(l({},a),{},s({},t,n)))}}},[a]);return(0,o.jsx)(u,{value:f,children:n})}},244223:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(27399);function o(e){var t=e.resourceOptions,n=e.updatePinFeedbackStatus;n("hidden"),r.Z.create("PinFeedbackResource",t).callUpdate().catch(function(){n("error")})}},684570:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return+!e.isDesktop}},838855:function(e,t,n){n.d(t,{G:function(){return v},Z:function(){return g}});var r=n(387784),o=n(20256),i=n(261954),a=n(309947),l=n(806513),s=n(906127),c=n(70625),u=n(739405),d=n(893957),f=n(596663),p=n(471310),m=n(989045),h=n(759302),y=n(589247),b=n(680811);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=25;function g(e){var t,n=e.align,v=e.customLayoutType,g=e.getColumnSpanConfig,x=e.getResponsiveModuleConfigForSecondItem,w=e.emptyState,j=e.feedItems,P=e.feedKey,S=e.maxColumns,O=e.minColumns,A=e.pagination,C=A.hasNext,I=A.isLoadingNext,T=A.loadNext,z=A.refetch,k=e.pullToRefresh,E=e.renderFeedItem,F=e.serverRender,D=e.isLoadingStateEnabled,R=e.isLoadingAccessibilityLabel,H=e.isLoadedAccessibilityLabel,L=e.layout,Z=e.forceShowLoadingState,B=(0,u.HG)(),M=(0,a.Z)(),N=M.experimentalColumnWidth,U=M.experimentalGutter,G=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return _(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),W=G[0],Y=G[1],V=1===S?window.innerWidth:void 0,q="userSearch"===v?window.innerWidth-16:200,K=I&&0===j.length&&!W&&!D,X="desktopFlashlight"===v||"ideaPage"===v&&B?-2:l.qG,$=null!=O?O:2;return"userSearch"===v&&($=1),(0,d.Z)(function(){return window.addEventListener("online",T),function(){return window.removeEventListener("online",T)}}),(0,b.jsxs)(o.xu,{"data-test-id":"MobileFeed",children:[(0,b.jsx)(p.Z,{enabled:!!k,onPull:function(){z(),Y(!0)},refreshing:W}),(0,b.jsxs)(o.xu,{"data-test-id":"grid",marginEnd:X,marginStart:X,opacity:W?.5:1,children:[(0,b.jsx)(s.Z,{isAtEndOfFeed:!C,isPlaceholderGrid:D&&I&&!j.length,itemCount:j.length,children:j.length?(0,b.jsx)(o.xu,{"data-test-id":"feed",marginTop:(0,f.kk)({isDesktop:B}),children:(0,b.jsx)(c.Z.Consumer,{children:function(e){return(0,b.jsx)(r.Fragment,{children:(0,b.jsx)(y.Z,{children:(0,b.jsx)(i.default,{_getResponsiveModuleConfigForSecondItem:x,align:n||("ideaPage"===v?"start":void 0),cacheKey:P,columnWidth:B?null!=N?N:l.yF:null!=V?V:q,getColumnSpanConfig:g,gutterWidth:B?null!=U?U:4*l.jC:void 0,id:F?P:void 0,isFetching:null!=Z?Z:I,isLoadedAccessibilityLabel:null!=H?H:"",isLoadingAccessibilityLabel:null!=R?R:"",isLoadingStateEnabled:null!=Z?Z:!!D,items:Z?[]:j,layout:null!=L?L:void 0,loadItems:T,maxColumns:S,minCols:$,optOutFluidGridExperiment:null!=S,renderItem:function(e){return E(e.data,e.itemIdx)},scrollContainerRef:e,serverRender:F})})})}})}):I?(0,b.jsx)(m.Z,{}):null!=w?w:null}),K&&(0,b.jsx)(o.xu,{column:12,paddingY:2,children:(0,b.jsx)(h.Z,{partialViewportWidth:"desktopFlashlight"===v})})]})]})}},589247:function(e,t,n){var r=n(935059),o=n(739405),i=n(153040),a=n(680811);t.Z=function(e){var t=e.children,n=(0,o.HG)();return!(0,r.Z)().isAuth&&n?(0,a.jsx)(i.x,{children:t}):t}},687163:function(e,t,n){var r=n(387784),o=n(20256),i=n(667389),a=n(680811);t.Z=function(e){var t=e.badgeSize,n=e.badgeSpacing,l=e.fullName,s=e.isVerifiedIdentity,c=e.isVerifiedMerchant,u=e.truncate,d=e.size,f=l.split(" "),p=f.slice(0,f.length-1).join(" "),m=" ".concat(f[f.length-1]);return void 0!==u&&u?(0,a.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(o.xv,{lineClamp:1,size:void 0===d?"200":d,weight:"bold",children:l}),(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:n}},flex:"none",paddingX:1,position:"relative",children:(0,a.jsx)(i.Z,{isVerifiedIdentity:s,isVerifiedMerchant:c,size:t})})]}):(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)("span",{children:p}),(0,a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[m,"\xa0",(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:n}},display:"inlineBlock",flex:"none",position:"relative",children:(0,a.jsx)(i.Z,{isVerifiedIdentity:s,isVerifiedMerchant:c,size:t})})]})]})}},212158:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(249459),o=n(696749),i=n(496883);function a(e){var t=e.enableBizEmailValidator,n=e.i18n,a=(0,i.GT)({message:n._('Not a valid email.', 'Validation error message for an improperly formated email address', 'Validation error message for an improperly formated email address')}),l=function(e){return(0,i.Gy)({max:e,maxErrorString:(0,o.Z)(n._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a user input is too long', 'Validation error when a user input is too long'),{maxLength:e})})},s=(0,i.aH)({message:n._('Your profile needs a name', 'settingsValidators.nameValidator.message', 'Error message when missing input value for name')}),c=(0,i.aH)({message:n._('Your profile needs a username. Choose wisely so others can find you', 'settingsValidators.usernameValidator.message', 'Error message when missing input value for username')}),u=(0,i.aH)({message:n._('Missed a spot!', 'Missing input value', 'Missing input value')}),d=(0,i.aH)({message:n._('Required', 'Validation error when user input is missing', 'Validation error when user input is missing')}),f=(0,i.Jx)({message:n._('Not a valid URL', 'settingsValidators.urlValidator.message', 'Validation error for an improperly formated url')}),p=(0,i.vd)({pattern:/^[\u0590-\u05FF\u0400-\u04FF\w\s]*$/,message:n._('Please do not include any special characters.', 'profile.AccountSettings.customGender.charactersValidationError', 'Error message when custom gender contains special chars')});return{about:[l(500)],biz_email:t?[d,a]:[],business_name:[s,l(65)],contact_name:[u],custom_gender:[u,p],email:[d,a],first_name:[s,l(r.ZP.MAX_CHARS_FOR_FIRST_NAME)],full_name:[s,l(65)],last_name:[l(30)],location:[l(50)],username:[c],website_url:[f]}}},824751:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(20256),o=n(24246),i=n(680811);function a(){var e=(0,o.Z)();return(0,i.jsx)(r.JO,{accessibilityLabel:e._('Secret board', 'Accessibility label for icon indicating a secret board', 'Accessibility label for icon indicating a secret board'),color:"default",icon:"lock",inline:!0})}},40763:function(e,t,n){var r=n(501010),o=n(774838),i=n(739405);t.Z=function(e){var t=e.skipExpActivation,n=(0,r.Z)().checkExperiment,a=(0,i.HG)(),l=(0,o.B)(),s=l.isBot;return!l.isAuthenticated&&!!a&&a&&!s&&n("unauth_dweb_closeup_redesign",{dangerouslySkipActivation:void 0!==t&&t}).anyEnabled}},596663:function(e,t,n){n.d(t,{G9:function(){return a},SY:function(){return s},kk:function(){return i},mb:function(){return c},s:function(){return l}});var r=n(806513),o=n(684570),i=function(e){var t=e.isDesktop,n=(0,o.Z)({isDesktop:t});return n?-n:0},a=-2,l=function(e){var t=e.trafficSource,n=e.deviceType,o=e.experimentalGutter,i=null!=o?o:4*r.jC;return"desktop"===n?i:"board"===t?4:void 0},s=function(e){var t=e.deviceType,n=e.customMWebColumnWidth,o=e.experimentalColumnWidth,i=null!=o?o:r.yF;return"desktop"===t?i:n||200},c=function(e){var t=e.gutterWidth,n=e.itemWidth,o=e.className,i=e.minColumns,a=void 0===i?r.yc:i,l=e.maxColumns,s=void 0===l?r.g5:l,c=n+t;return Array.from({length:s+1-a},function(e,t){return t+a}).map(function(e){return{minWidth:e===a?0:e*c,maxWidth:e===s?null:(e+1)*c-1,styles:"\n      .".concat(o," {\n        max-width: ").concat(e*c-t,"px;\n      }\n      ")}}).map(function(e){var t=e.minWidth,n=e.maxWidth,r=e.styles;return"\n    @media (min-width: ".concat(t,"px) ").concat(n?"and (max-width: ".concat(n,"px)"):""," {\n      ").concat(r,"\n    }\n  ")}).join("")}},153040:function(e,t,n){n.d(t,{D:function(){return c},x:function(){return s}});var r=n(387784),o=n(865043),i=n(680811);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=(0,r.createContext)(function(){}),s=function(e){var t,n=e.children,s=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1],d=(0,r.useCallback)(function(e){(0,o.My)("dweb.unauth.context_menu.open_menu"),u(e)},[]),f=!!c;return(0,r.useEffect)(function(){var e=function(){u(null),(0,o.My)("dweb.unauth.context_menu.click_away")};return f&&document.addEventListener("click",e),function(){f&&document.removeEventListener("click",e)}},[f]),(0,i.jsx)(l,{value:d,children:(0,i.jsxs)(r.Fragment,{children:[n,c]})})},c=function(){return(0,r.useContext)(l)}},759302:function(e,t,n){var r=n(387784),o=n(20256),i=n(806513),a=n(59111),l=n(739405),s=n(838751),c=n(680811),u="PinGridSkeletonLoader__tall",d="PinGridSkeletonLoader__short",f=function(e){var t=e.size;return(0,c.jsx)(o.xu,{padding:1,children:(0,c.jsx)("div",{className:"tall"===t?u:d})})},p=function(e){var t=e.children;return(0,c.jsx)(o.kC,{direction:"column",gap:{row:0,column:2},children:t})};t.Z=function(e){var t=e.partialViewportWidth,n="desktop"===(0,l.ZP)(),m=n?i.yF:i.tG;return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(a.Z,{unsafeCSS:[{name:u,height:250},{name:d,height:150}].map(function(e){var t=e.name,n=e.height;return(0,s.Z)({name:t,width:m,height:n})}).join("")}),(0,c.jsx)(o.xu,{"data-test-id":"pin-grid-skeleton-loader",marginEnd:i.qG,marginStart:i.qG,children:n?(0,c.jsxs)(o.kC,{direction:"row",gap:{row:i.jC,column:0},children:[(0,c.jsx)(p,{children:(0,c.jsx)(f,{size:"tall"})}),(0,c.jsx)(p,{children:(0,c.jsx)(f,{size:"short"})}),(0,c.jsx)(p,{children:(0,c.jsx)(f,{size:"tall"})}),!t&&(0,c.jsx)(p,{children:(0,c.jsx)(f,{size:"short"})})]}):(0,c.jsxs)(o.kC,{direction:"row",justifyContent:"center",overflow:"hidden",children:[(0,c.jsxs)(p,{children:[(0,c.jsx)(f,{size:"tall"}),(0,c.jsx)(f,{size:"short"}),(0,c.jsx)(f,{size:"tall"})]}),(0,c.jsxs)(p,{children:[(0,c.jsx)(f,{size:"short"}),(0,c.jsx)(f,{size:"tall"}),(0,c.jsx)(f,{size:"short"}),(0,c.jsx)(f,{size:"tall"})]})]})})]})}},838751:function(e,t){t.Z=function(e){var t=e.name,n=e.width,r=e.height,o="".concat(n).concat("number"==typeof n?"px":""),i="".concat(r).concat("number"==typeof r?"px":""),a="number"==typeof n?n:236;return"\n.".concat(t," {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ").concat(t,"_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ").concat(a," ").concat(i,";\n  width: ").concat(o,";\n  height: ").concat(i,";\n}\n\n@keyframes ").concat(t,"_placeHolderShimmer{\n  0% {\n      background-position: -").concat(a,"px 0;\n  }\n  100% {\n      background-position: ").concat(a,"px 0;\n  }\n}\n")}},775907:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(20256),o=n(351736),i=n(680811);function a(e){var t,n,a=e.color,l=e.image,s=e.isSelected,c=e.title,u=(0,o.vs)();return(0,i.jsxs)(r.xu,{alignItems:"center","aria-selected":s,dangerouslySetInlineStyle:{__style:{backgroundColor:u?s?"#fff":"#767676":s?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,i.jsx)(r.zd,{height:48,rounding:"circle",width:48,children:l.url&&(0,i.jsx)(r.Ee,{alt:"",color:a,fit:"cover",naturalHeight:null!=(t=l.height)?t:1,naturalWidth:null!=(n=l.width)?n:1,src:l.url})}),(0,i.jsx)(r.xu,{marginEnd:3,marginStart:2,children:(0,i.jsx)(r.xv,{color:s?"inverse":u?"light":"dark",weight:"bold",children:c})})]})}},788181:function(e,t,n){n.d(t,{Z:function(){return tY}});var r=n(653551),o=n(935059),i=n(739405),a=n(387784),l=n(20256),s="saved",c="viewed",u=n(24246),d=n(680811),f=function(e){var t=e.title,n=e.activityTypeFilter,r=void 0===n?null:n,o=e.allDisabled,i=void 0!==o&&o,s=e.handleButtonToggle,c=e.isToggleDisabled,f=(0,u.Z)(),p=i?f._('Turn on all', 'Caption for button to enable all recommendations from Pins below', 'Caption for button to enable all recommendations from Pins below'):f._('Turn off all', 'Caption for button to stop all recommendations from Pins below', 'Caption for button to stop all recommendations from Pins below');return(0,d.jsxs)(l.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",maxWidth:750,children:[(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(l.xu,{tabIndex:0,children:(0,d.jsx)(l.X6,{accessibilityLevel:2,size:"400",children:void 0===t?"":t})}),(0,d.jsx)(l.xu,{marginStart:4,children:(0,d.jsx)(l.Fm,{accessibilityLabel:p,disabled:void 0===c||c,onClick:void 0===s?function(){}:s,selected:i,size:"lg",text:p})})]}),(0,a.isValidElement)(r)&&(0,d.jsx)(l.kC,{alignItems:"center",flex:"grow",justifyContent:"end",children:r})]})},p=n(581722),m=n(440077),h=n(995514),y=n(216975);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var x={backgroundSize:"cover",backgroundPosition:"50% 50%",cursor:"zoom-in"},w={backgroundColor:"rgba(0,0,0,0.4)"};function j(e){var t,n,i,s,c,f,p,b,_,j,P=e.isDisabled,S=e.onSelectPin,O=e.pin,A=e.enabledDSALaunch,C=e.disabledByDSA,I=(0,h.Z)(),T=(0,u.Z)(),z=(0,r.s0)(),k=(0,o.Z)().isAuth,E=function(e){if(Array.isArray(e))return e}(t=(0,a.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),F=E[0],D=E[1],R=null!=(c=null==(f=O.images)||null==(p=f["474x"])?void 0:p.url)?c:"",H=(null==(b=O.grid_title)?void 0:b.trim())||(null==(_=O.title)?void 0:_.trim())||(null==(j=O.description)?void 0:j.trim())||T._('Pin without title or description', 'HomefeedControlActivityItem.Pin.without.title', 'Text when there is no pin title, grid title or description in the pin for accesibility'),L=v({backgroundImage:'url("'.concat(R,'")'),opacity:1},x),Z=v({backgroundImage:'url("'.concat(R,'")'),opacity:1},x),B=v({opacity:1},w),M={opacity:0};return(0,d.jsxs)(l.xu,{children:[(0,d.jsx)(l.st,{children:(0,d.jsx)(l.zd,{rounding:4,wash:!0,children:(0,d.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:v({},F?{border:"2px solid ".concat(m.nTo)}:{})},height:304,overflow:"hidden",position:"relative",rounding:4,width:236,children:[(0,d.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:P?L:Z},"data-test-id":"pin",left:!0,overflow:"hidden",position:"absolute",right:!0,rounding:4,top:!0,children:(0,d.jsx)(l.iP,{accessibilityLabel:H,disabled:C,fullHeight:!0,fullWidth:!0,mouseCursor:k?void 0:"zoomIn",onBlur:function(){return D(!1)},onFocus:function(){return D(!0)},onTap:function(){return z("/pin/".concat(O.id))},rounding:4})}),P&&(0,d.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:P?B:M},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0}),P&&(0,d.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:P?{opacity:1}:M},"data-test-id":"homefeed-control-pin-recommendations-disabled",display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0,children:(0,d.jsx)(l.xu,{alignItems:"center","aria-hidden":!P,direction:"column",display:"flex",justifyContent:"start",paddingX:3,paddingY:6,children:(0,d.jsx)(l.xv,{align:"center",color:"inverse",children:T._('Recommendations are turned off for this Pin', 'Caption where Pin will no longer be used for recommendations', 'Caption where Pin will no longer be used for recommendations')})})}),(0,d.jsx)(l.xu,{bottom:!0,padding:2,position:"absolute",right:!0,rounding:4,zIndex:new l.Ry(1e3),children:(0,d.jsx)(l.XZ,{checked:!P&&!C,disabled:C,helperText:"",id:"checkbox-".concat(O.id),label:"".concat(T._('Checkbox for enabling or disabling recommendations for', 'HomefeedControlActivityItem.Checkbox.Recommendations', 'Accesibility label for enabling or disabling a pin recommendations')," ").concat(H||""),labelDisplay:"hidden",onChange:function(){S()}})})]})})}),A&&(0,d.jsx)(l.xu,{marginStart:2,marginTop:2,children:(0,d.jsx)(l.xv,{size:"200",weight:"bold",children:(i=new Date(n=1e3*O.activity_timestamp),(s=Math.floor((new Date().getTime()-i.getTime())/1e3))<60?T._('Just now', 'homefeedControlActivity.activityItem.justAgoTimeCaption', 'Caption for pin just ago activity time.'):s<120?T._('1 minute ago', 'homefeedControlActivity.activityItem.justAMinuteAgoTimeCaption', 'Caption for pin just a minute ago activity time.'):(0,y.nk)(T._('{{ timesince }} ago', 'HomefeedControlActivity.ActivityItem.timeCaption', 'Caption for pin activity time. timesince: Time when pin was added to recent activity'),{timesince:I(n,!0)}).join(""))})})]})}var P=n(230201),S=n(247387),O=function(){var e=(0,u.Z)(),t=(0,P.u)().logContextEvent,n=(0,r.s0)();return(0,d.jsx)(l.xu,{alignItems:"stretch",direction:"column",display:"flex",justifyContent:"start",marginBottom:3,maxWidth:750,width:"100%",children:(0,d.jsx)(l.XA,{message:(0,d.jsx)(l.xv,{children:(0,d.jsx)(l.xu,{maxWidth:450,children:(0,y.nk)(e._('Turn on inferred signals about you for ideas even more in tune with your interests. {{ learnMore }}', 'HomefeedControl.Activity.upsellMessage', 'Message for activity recomendations upsell tab in homefeed, learnMore: link to learn more'),{learnMore:(0,d.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(l.rU,{accessibilityLabel:"Learn more about profiling",display:"inlineBlock",href:S.fPu,target:"blank",underline:"hover",children:e._('Learn more', 'HomefeedControl.Activity.searchPrivacyLink', 'Link to privacy and data settings')})},"profiling-learn-more")})})}),primaryAction:{accessibilityLabel:"Update settings",label:e._('Update setting', 'HomefeedControl.Activity.updateSettingButton', 'Text on go to settings button'),onClick:function(){t({event_type:101,element:13581,view_type:255}),n(S.Gxc)}},title:e._('Add more personalization', 'HomefeedControl.Activity.upsellTitle', 'Message for activity recomendations upsell tab in homefeed')})})},A=n(342994),C=n(72034),I=n(228612);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){L(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z(r.key),r)}}function F(e,t){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(R=function(){return!!e})()}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return(t=Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}var B=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&F(i,e);var t,n,r,o=(t=R(),function(){var e,n=H(i);return e=t?Reflect.construct(n,arguments,H(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==T(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return D(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return L(D(e=o.call.apply(o,[this].concat(n))),"state",{previousDisabledPins:{},disabledPins:{},isAllDisabled:!1}),L(D(e),"handleSelectPin",function(t){var n=e.props,r=n.reduxPins,o=n.onSelectPin,i=n.showPinFeedback,a=n.hidePinFeedback,l=e.state,s=l.disabledPins,c=l.isAllDisabled,u=k({},s),d=!s[t.id];u[t.id]=d;var f=r.reduce(function(e,t){return e&&u[t.id]},!0);e.setState({disabledPins:u,isAllDisabled:(!c||!s[t.id])&&(c||f)}),o(t,u[t.id]),d?i({pinId:t.id,nodeId:t.node_id}):a({pinId:t.id,nodeId:t.node_id})}),L(D(e),"handleSelectAll",function(){var t=e.props,n=t.reduxPins,r=t.onSelectPin,o=t.showPinFeedback,i=t.hidePinFeedback,a=e.state,l=a.isAllDisabled,s=a.disabledPins,c=k({},s),u=!l;n.forEach(function(e){(u&&!s[e.id]||!u&&s[e.id])&&(c[e.id]=!c[e.id],r(e,c[e.id])),u?o({pinId:e.id,nodeId:e.node_id}):i({pinId:e.id,nodeId:e.node_id})}),e.setState({isAllDisabled:u,disabledPins:c})}),L(D(e),"renderPin",function(t){var n=e.state.disabledPins[t.id],r=e.props.enabledDSALaunch,o=r&&t.is_disabled_by_dsa||!1;return(0,d.jsx)(l.xu,{paddingX:2,paddingY:3,children:(0,d.jsx)(j,{disabledByDSA:o,enabledDSALaunch:r,isDisabled:n||o,onSelectPin:function(){e.handleSelectPin(t)},pin:t})},t.id)}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.reduxPins,n=e.title,r=e.isFirstSection,o=e.enabledDSALaunch,i=e.isDSAOptedOut,a=e.selectedActivityFilter,c=e.activityTypeFilter,u=this.state.isAllDisabled;return(0,d.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:36}},marginBottom:2,marginTop:2,children:[o&&i&&r&&a!==s&&(0,d.jsx)(O,{}),(0,d.jsx)(f,{activityTypeFilter:o&&r?c:null,allDisabled:u,handleButtonToggle:this.handleSelectAll,isToggleDisabled:o&&i&&a!==s,title:n}),(0,d.jsx)(l.xu,{display:"flex",marginEnd:-2,marginStart:-2,marginTop:2,wrap:!0,children:t.map(this.renderPin)})]})}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.reduxPins,r=t.previousDisabledPins,o=!1,i={};if(n.forEach(function(e){var t=void 0===e.showFeedback?e.is_blocked:e.showFeedback;i[e.id]=t,r[e.id]!==t&&(o=!0)}),o){var a=n.reduce(function(e,t){return e&&!!i[t.id]},!0);return{previousDisabledPins:k({},i),disabledPins:i,isAllDisabled:a}}return null}}],n&&E(i.prototype,n),r&&E(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(a.PureComponent);function M(e){var t=(0,u.Z)(),n=(0,P.u)().logContextEvent,o=(0,p.I0)(),i=(0,I.JC)(),a=[];e.pins.forEach(function(e){a.push(i[e.id]||e)});var l=(0,r.s0)();return(0,d.jsx)(B,k(k({},e),{},{hidePinFeedback:function(e){var t=e.pinId,n=e.nodeId;return o((0,C.I1)({id:t,nodeId:n}))},i18n:t,logContextEvent:n,navigate:l,reduxPins:a,showPinFeedback:function(e){var n=e.pinId,r=e.nodeId;return o((0,C.q1)({id:n,text:A.Z.PIN_HIDDEN(t),nodeId:r}))}}))}L(B,"defaultProps",{isDSAOptedOut:!1});var N=n(482539);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach(function(t){J(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function q(e,t){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function K(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(X=function(){return!!e})()}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t,n){return(t=Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){var t=function(e,t){if("object"!=U(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=U(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U(t)?t:t+""}var ee=l.Rk.createMeasurementStore(),et=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&q(i,e);var t,n,r,o=(t=X(),function(){var e,n=$(i);return e=t?Reflect.construct(n,arguments,$(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==U(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return K(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return J(K(e=o.call.apply(o,[this].concat(n))),"state",{blocks:[],pinIndex:0,selectedFilterOption:"all"}),J(K(e),"handleSelectPin",function(t,n){var r=t.id,o=t.is_promoted,i=t.is_downstream_promotion,a=t.is_disabled_by_dsa,l=e.props.logContextEvent;a||((0,N.tx)("complaint",{pin_id:r,complaint_reason:0,feedback_type:4,promoted:o&&!i,recommendation_reason_id:4,through_id:r,undo:!n},void 0,l),l({event_type:n?107:106,view_type:255,view_parameter:3290,object_id_str:r,element:11352}))}),J(K(e),"renderBlock",function(t){var n=t.data,r=t.itemIdx,o=n.title,i=n.pins,a=e.props,s=a.isDSAOptedOut,c=a.activityTypeFilter,u=a.enabledDSALaunch,f=a.selectedActivityFilter;return(0,d.jsx)(l.xu,{children:(0,d.jsx)(M,{activityTypeFilter:c,enabledDSALaunch:u,isDSAOptedOut:s,isFirstSection:0===r,onSelectPin:e.handleSelectPin,pins:i,selectedActivityFilter:f,title:o})},r)}),e}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.pins,r=t.i18n,o=t.enabledDSALaunch,i=t.activityTypeFilter,a=this.state.blocks;return(0,d.jsxs)(l.xu,{maxWidth:922,children:[(0,d.jsx)(l.xu,{alignItems:"center",display:"flex",marginBottom:3,width:488,children:(0,d.jsx)(l.xv,{color:"subtle",size:"300",children:r._('Hide ideas related to Pins you recently saved or tapped to view close-up.', 'HomefeedControl.Activity.headingMessage', 'Heading message for activity tab in homefeed')})}),n.data&&0===n.data.length&&(0,d.jsx)(f,{activityTypeFilter:o?i:null,title:""}),(0,d.jsx)(l.Rk,{columnWidth:922,gutterWidth:0,items:a,loadItems:n.fetchMore,measurementStore:ee,minCols:1,renderItem:function(t){var n=t.data,r=t.itemIdx;return e.renderBlock({data:n,itemIdx:r})},scrollContainer:function(){return window}}),n.isFetching&&(0,d.jsx)(l.xu,{display:"flex",justifyContent:"center",paddingY:3,children:(0,d.jsx)(l.xH,{accessibilityLabel:this.props.i18n._('Loading', ' - ', ' -- '),show:!0})})]})}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.pins.data,r=e.i18n,o=e.getHumanizedTimeSince,i=e.selectedActivityFilter,a=t.blocks,l=t.pinIndex,s=t.selectedFilterOption,c=i!==s,u=c?0:l,d=c?[]:a.slice();if(!n||n.length===u)return null;var f=n.slice(u),p={};f.forEach(function(e){void 0===p[e.id]&&(p[e.id]=e.activity_timestamp)});var m={},h={},y=[],b=d.map(function(e){return e.title});return f.filter(function(e){return p[e.id]}).sort(function(e,t){return p[t.id]-p[e.id]}).forEach(function(e){if(!m[e.id]){m[e.id]=!0;var t,n,i,a,l=(t=1e3*parseInt(p[e.id],10),n=Math.floor((Date.now()-t)/864e5),i=Date.now(),0===n?r._('Today', 'Caption when pin was interacted with today', 'Caption when pin was interacted with today'):1===n?r._('Yesterday', 'Caption when pin was interacted with yesterday', 'Caption when pin was interacted with yesterday'):o(new Date(i-864e5*n).toString()));h[l]=[].concat(function(e){if(Array.isArray(e))return Y(e)}(a=h[l]||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return Y(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,void 0):void 0}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]),-1===y.indexOf(l)&&y.push(l)}}),y.forEach(function(e){var t=e,n=h[e],r=b.indexOf(e);if(0===d.length)d.push({title:t,pins:n});else if(-1===r)t=e,d.push({title:t,pins:n});else if(-1!==r){var o=d.find(function(t){return t.title===e});if(o&&o.pins){o.pins=o.pins.concat(n);var i=o.pins.length,a=Math.ceil(i/3),l=Math.ceil((i+n.length)/3);if(a!==l){var s=d[r],c=ee.map.get(s);c&&ee.map.set(s,c+(l-a)*400)}}}}),{pinIndex:n.length,blocks:d,selectedFilterOption:i||s}}}],n&&V(i.prototype,n),r&&V(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(a.PureComponent),en=function(e){var t=(0,P.u)().logContextEvent,n=(0,u.Z)(),r=(0,h.Z)();return(0,d.jsx)(et,W(W({},e),{},{getHumanizedTimeSince:r,i18n:n,logContextEvent:t}))};function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eo(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,a.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return er(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?er(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1],i=(0,a.useRef)(null),s=e.activityFilter,c=e.setActivityFilter,u=e.activityTypeOptions,f=function(e){c(e.item),o(!1)};return(0,d.jsxs)(l.kC,{justifyContent:"center",children:[(0,d.jsx)(l.hU,{ref:i,accessibilityControls:"activity-type-filter-button",accessibilityExpanded:r,accessibilityHaspopup:!0,accessibilityLabel:"More Options",icon:"filter",iconColor:"darkGray",onClick:function(){return o(function(e){return!e})},selected:r,size:"xl"}),r&&(0,d.jsx)(l.Lt,{anchor:i.current,disableMobileUI:!0,id:"activity-type-filter-dropdown",onDismiss:function(){return o(!1)},children:u.length>0&&u.map(function(e){return(0,d.jsx)(l.Lt.Item,{onSelect:f,option:e,selected:s},e.value)})})]})}var ei=n(249459),ea=n(824751);function el(e){var t=e.board,n=t.id,r=t.name,o=t.image_cover_url,i=t.pin_count,s=t.section_count,c=t.privacy,f=t.board_order_modified_at,p=t.is_collaborative,m=t.collaborating_users,b=t.url,_=e.onToggle,v=e.isEnabled,g=e.enabledDSALaunch,x=e.isDSAOptedOut,w=(0,u.Z)(),j=(0,h.Z)(),P=c===ei.ZP.BoardPrivacy.SECRET,S=f&&j(f,!0);return(0,d.jsx)(l.xu,{"data-test-id":"homefeed-board-item",marginEnd:-2,marginStart:-2,children:(0,d.jsx)(l.iP,{disabled:g&&x,onTap:_,rounding:2,children:(0,d.jsx)(l.xu,{padding:2,children:(0,d.jsx)(l.st,{children:(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(l.xu,{flex:"none",marginEnd:2,overflow:"hidden",rounding:1,children:(0,d.jsxs)(l.Tg,{accessibilityLabel:(0,y.nk)(w._('{{name}} board', 'homefeedControlBoardItem.tapArea.accessibilityLabel', 'Accessibility label for the tap area that navigates to a board. name: the name of the board'),{name:r}).join(""),disabled:g&&x,href:void 0===b?"":b,onTap:function(e){return e.event.stopPropagation()},rounding:2,children:[(0,d.jsx)(l.zd,{height:60,rounding:4,wash:!0,width:60,children:o?(0,d.jsx)(l.Ee,{alt:(0,y.nk)(w._('{{name}} board cover', 'homefeedControlBoardItem.imageCover.accessibilityLabel', 'Accessibility label for board covers. name: the name of the board'),{name:r}).join(""),fit:"cover",naturalHeight:1,naturalWidth:1,src:o}):(0,d.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"})}),P&&(0,d.jsx)(l.xu,{display:"flex",height:60,left:!0,position:"absolute",top:!0,width:60,children:(0,d.jsx)(l.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",margin:"auto",rounding:"circle",width:24,children:(0,d.jsx)(ea.Z,{})})})]})}),(0,d.jsxs)(l.xu,{opacity:g&&x?.7:1,children:[(0,d.jsx)(l.xu,{marginBottom:1,children:(0,d.jsx)(l.xv,{lineClamp:1,size:"400",weight:"bold",children:r})}),(0,d.jsxs)(l.kC,{gap:2,children:[(0,d.jsxs)(l.xv,{inline:!0,size:"100",children:[(0,y.nk)(w.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', null != i ? i : 0, 'HomefeedControlBoardItem.pinCount', 'Number of Pins on board or section'),{pinCount:i})," ",(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)("span",{children:" • "}),(0,y.nk)(w.ngettext('{{ sectionCount }} Section', '{{ sectionCount }} Sections', null != s ? s : 0, 'HomefeedControlBoardItem.boardDetails.sectionCount', 'sectionCount: Number of sections on the board'),{sectionCount:s})," "]})]}),(0,d.jsx)(l.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:S})]})]}),(0,d.jsx)(l.xu,{flex:"grow"}),p&&(0,d.jsx)(l.xu,{flex:"none",marginStart:3,children:m&&(0,d.jsx)(l.HE,{accessibilityLabel:w._('Collaborative board', 'HomefeedControlBoardItem.avatarGroup.isCollaborativeBoard', 'Accessibility label for avatar group indicating a collaborative board'),collaborators:m.map(function(e){var t,n,r;return{name:null!=(t=e.full_name)?t:"",src:null!=(n=e.image_medium_url)?n:"",color:null!=(r=null==e?void 0:e.avatar_color_index)?r:void 0}}),size:"xs"})}),(0,d.jsx)(l.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"end",marginStart:3,children:(0,d.jsxs)(l.xu,{paddingX:1,children:[(0,d.jsx)(l.xu,{display:"visuallyHidden",children:(0,d.jsx)(l.__,{htmlFor:n,children:(0,y.nk)(w._('Select {{name}}', 'homefeedcontrolboarditem.select.accessibilityLabel', 'Accessibility label for the homefeedcontrolboarditem'),{name:r})})}),(0,d.jsx)(l.rs,{disabled:g&&x,id:n,onChange:function(){},switched:!(g&&x)&&v})]})})]})})})})})}var es=n(388616),ec=n(914253);function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(n),!0).forEach(function(t){eb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ep(e,t){return(ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function em(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eh=function(){return!!e})()}function ey(e){return(ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eb(e,t,n){return(t=e_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e_(e){var t=function(e,t){if("object"!=eu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eu(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eu(t)?t:t+""}var ev=l.Rk.createMeasurementStore(),eg=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&ep(o,e);var t,n,r=(t=eh(),function(){var e,n=ey(o);return e=t?Reflect.construct(n,arguments,ey(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eu(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return em(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return eb(em(e=r.call.apply(r,[this].concat(n))),"state",{updatedBoardRecommendations:{}}),eb(em(e),"getBoardRecommendationsState",function(t){var n,r=e.props.reduxBoards,o=e.state.updatedBoardRecommendations,i=r[t.id];return null!=(n=o[t.id])?n:!!(null==i?void 0:i.allow_homefeed_recommendations)}),eb(em(e),"handleBoardToggle",function(t){var n=t.category,r=t.collaborator_invites_enabled,o=t.collaborator_requests_enabled,i=t.description,a=t.id,l=t.name,s=t.privacy,c=e.props.updateBoard,u=!e.getBoardRecommendationsState(t),d={category:n,collaborator_invites_enabled:r,collaborator_requests_enabled:o,description:null!=i?i:"",name:l,privacy:s,allow_homefeed_recommendations:u};c(a,d),e.setState(function(e){return{updatedBoardRecommendations:ef(ef({},e.updatedBoardRecommendations),{},eb({},a,u))}});var f=d.allow_homefeed_recommendations?106:107;e.props.logContextEvent({event_type:f,view_type:255,view_parameter:3291,object_id_str:t.id,element:11351})}),eb(em(e),"renderHeader",function(){return(0,d.jsx)(l.xu,{alignItems:"center","data-test-id":"homefeed-control-message-text",display:"flex",marginBottom:3,width:488,children:(0,d.jsx)(l.xv,{color:"subtle",size:"300",children:e.props.i18n._('Switch off a board to stop seeing ideas related to it. Don\'t worry, this won\'t affect your board.', 'HomefeedControl.Board.headingMessage', 'Heading message for board tab in homefeed')})})}),e}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.boards,r=t.enabledDSALaunch,o=t.isDSAOptedOut;return(0,d.jsxs)(l.xu,{"data-test-id":"boards_table",width:tc,children:[this.renderHeader(),r&&o&&(0,d.jsx)(O,{}),(0,d.jsx)(l.Rk,{columnWidth:tc,gutterWidth:0,items:n.data||[],loadItems:n.fetchMore,measurementStore:ev,minCols:1,renderItem:function(t){var n=t.data;return(0,d.jsx)(el,{board:n,enabledDSALaunch:r,isDSAOptedOut:o,isEnabled:e.getBoardRecommendationsState(n),onToggle:function(){return e.handleBoardToggle(n)}},n.id)},scrollContainer:function(){return window}})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e_(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(a.PureComponent);function ex(e){var t=(0,P.u)().logContextEvent,n=(0,u.Z)(),r=(0,ec.dL)(),o=(0,p.I0)();return(0,d.jsx)(eg,ef(ef({},e),{},{i18n:n,logContextEvent:t,reduxBoards:r,updateBoard:function(e,t){return o((0,es.V)(e,t))}}))}var ew=n(59355),ej=n(681698),eP=n(924591),eS=n(676879),eO=n(577356);function eA(e){return(eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eC(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=eA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eA(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eA(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ez(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ek=function(e){var t,n,r,o=e.hideHeader,i=(0,u.Z)(),s=(0,eO.dI)().showOneToast,c=(0,P.u)().logContextEvent;(0,ew.Q)({view_type:255,view_parameter:4164});var f=(0,eS.Z)({noCache:!0,url:"/v3/users/settings/gen_ai/",method:"GET",params:null}),p=f.data,m=f.isFetching,h=f.isLoaded,b=f.refresh,_=function(e){if(Array.isArray(e))return e}(t=(0,a.useState)([]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ez(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ez(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=_[0],g=_[1];(0,a.useEffect)(function(){p&&g(p.map(function(e){var t,n,r;return{interestId:null!=(t=e.interest_id)?t:0,text:null!=(n=e.text)?n:"",optOut:null!=(r=e.opt_out)&&r}}))},[p]);var x=function(e,t){g(function(n){return n.map(function(n){return n.interestId===e?eT(eT({},n),{},{optOut:t}):n})})},w=(n=regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(t,!n),c({event_type:n?106:107,view_type:255,view_parameter:4164,element:18120,aux_data:{interest_id:t.toString()}}),o=(r=v.find(function(e){return e.interestId===t}))?r.text:"",e.prev=4,a=n?{gen_ai_topics_opt_in:[t.toString()],gen_ai_topics_update_source:"hf_tuner"}:{gen_ai_topics_opt_out:[t.toString()],gen_ai_topics_update_source:"hf_tuner"},e.next=8,(0,ej.Z)({url:"/v3/users/settings/",method:"POST",data:a});case 8:s(function(e){var t=e.hideToast;return(0,d.jsx)(eP.Z,{duration:5e3,onHide:t,text:n?(0,y.nk)(i._('Turned on! You\u2019ll start seeing more GenAI ideas for {{topicName}} soon.', 'HomefeedControl.GenAi.topicAdded', 'Success message when a topic is added to Gen AI recommendations, topicName: name of the topic like beauty, home decor, fashion, etc.'),{topicName:o}).join(""):(0,y.nk)(i._('Turned off! You\u2019ll start seeing fewer GenAI ideas for {{topicName}} soon.', 'HomefeedControl.GenAi.topicRemoved', 'Success message when a topic is removed from Gen AI recommendations, topicName: name of the topic like beauty, home decor, fashion, etc.'),{topicName:o}).join(""),type:"success"})}),b(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),x(t,n),s(function(e){var t=e.hideToast;return(0,d.jsx)(eP.Z,{duration:5e3,onHide:t,text:(0,y.nk)(i._('Failed to update {{topicName}} preference', 'HomefeedControl.GenAi.updateFailed', 'Error message when updating topic preference fails, topicName: name of the topic like beauty, home decor, fashion, etc.'),{topicName:o}).join(""),type:"error"})});case 16:case"end":return e.stop()}},e,null,[[4,12]])}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){eC(i,r,o,a,l,"next",e)}function l(e){eC(i,r,o,a,l,"throw",e)}a(void 0)})},function(e,t){return r.apply(this,arguments)});return m&&!p?(0,d.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:8,children:(0,d.jsx)(l.xH,{accessibilityLabel:i._('Loading GenAI interests...', 'HomefeedControl.GenAi.loading', 'Loading message for GenAI interests'),show:!0})}):h&&(!v||0===v.length)?(0,d.jsx)(l.xu,{children:(0,d.jsx)(l.xv,{color:"error",size:"300",children:i._('No GenAI interests available', 'HomefeedControl.GenAi.noTopics', 'Message when no GenAI interests are available')})}):(0,d.jsxs)(l.xu,{children:[!o&&(0,d.jsx)(l.xu,{maxWidth:300,children:(0,d.jsx)(l.xv,{color:"subtle",size:"300",children:i._('Choose GenAI interests you\u2019d like to see in your recommended Pins.', 'HomefeedControl.GenAi.headingMessage', 'Heading message for GenAI interests tab in homefeed control')})}),(0,d.jsx)(l.xu,{marginTop:4,children:v.map(function(e){var t=e.interestId,n=e.text,r=e.optOut,o=void 0!==r&&r;return(0,d.jsx)(l.xu,{marginBottom:5,children:(0,d.jsxs)(l.kC,{alignItems:"center",gap:3,justifyContent:"between",children:[(0,d.jsx)(l.xv,{size:"300",weight:"bold",children:void 0===n?"":n}),(0,d.jsx)(l.rs,{id:"topic-".concat(t),onChange:function(){return w(t,o)},switched:!o})]})},t)})})]})},eE=n(853058);function eF(e){for(var t=e.emptyState,n=e.handleFollowingCountChange,r=e.suppressToasts,o=e.usersResource,i=e.truncateName,a=void 0!==i&&i,s=(0,u.Z)(),c=o.data,f=o.fetchMore,p=o.isFetching,m=o.isAtEnd,h=o.isLoaded,y=[],b=0;b<12;b+=1)y.push((0,d.jsx)(l.xu,{width:260},b));return(0,d.jsxs)(l.xu,{"data-test-id":"profile-users-feed",children:[(0,d.jsxs)(l.xu,{children:[(0,d.jsx)(l.gr,{fetchMore:f,isAtEnd:m,isFetching:p}),h&&c&&0===c.length&&t?t:(0,d.jsxs)(l.kC,{alignItems:"center",direction:"row",gap:4,justifyContent:"between",wrap:!0,children:[c&&c.map(function(e){return(0,d.jsx)(eE.Z,{data:e,handleFollowingCountChange:n,invertButtonColor:!1,suppressToasts:r,truncateName:a,viewParameter:50,viewType:4},e.id)}),y.length>0&&y.map(function(e){return e})]})]}),(0,d.jsx)(l.xu,{marginBottom:1,children:(0,d.jsx)(l.xH,{accessibilityLabel:s._('Loading additional users', 'Label for the loading state spinner in the People section of the Follower/Following page', 'Label for the loading state spinner in the People section of the Follower/Following page'),show:p||!h})})]})}function eD(e){return(eD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=eL(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eL(e){var t=function(e,t){if("object"!=eD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eD(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eD(t)?t:t+""}function eZ(e,t){return(eZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eB=function(){return!!e})()}function eM(e){return(eM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eN=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&eZ(o,e);var t,n,r=(t=eB(),function(){var e,n=eM(o);return e=t?Reflect.construct(n,arguments,eM(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eD(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return r.apply(this,arguments)}return n=[{key:"render",value:function(){var e=this.props.users;return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(l.xu,{marginBottom:3,children:(0,d.jsx)(l.xv,{align:"start",color:"subtle",size:"300",children:this.props.i18n._('Unfollow a person or brand to stop seeing their published Pins. They won\u2019t be notified.', 'HomefeedControl.following.headingMessage', 'Heading message for following tab on Home Feed Tuner')})}),e.data&&e.data.length>0&&(0,d.jsx)(eF,{suppressToasts:!0,truncateName:!0,usersResource:e})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eL(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(a.PureComponent),eU=function(e){var t=(0,u.Z)();return(0,d.jsx)(eN,eH(eH({},e),{},{i18n:t}))},eG=n(946542),eW=n(360141),eY=n(615147);function eV(e){return(eV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eq(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=eX(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eX(e){var t=function(e,t){if("object"!=eV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eV(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eV(t)?t:t+""}function e$(e,t){return(e$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eJ=function(){return!!e})()}function eQ(e){return(eQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var e0=l.Rk.createMeasurementStore(),e1=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&e$(o,e);var t,n,r=(t=eJ(),function(){var e,n=eQ(o);return e=t?Reflect.construct(n,arguments,eQ(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eV(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return r.apply(this,arguments)}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.topics,r=t.i18n;return(0,d.jsxs)(l.xu,{children:[(0,d.jsx)(l.xu,{alignItems:"center",display:"flex",marginBottom:3,width:488,children:(0,d.jsx)(l.xv,{color:"subtle",size:"300",children:r._('Add interests to start seeing related ideas. Remove interests to hide related ideas you\u2019re no longer interested in.', 'HomefeedControl.Interests.headingMessage', 'Heading message for Interests tab in homefeed')})}),(0,d.jsx)(l.xu,{marginTop:7,children:(0,d.jsx)(l.Rk,{columnWidth:176,gutterWidth:16,items:n.data||[],loadItems:n.fetchMore,measurementStore:e0,minCols:4,renderItem:function(t){var n=t.data,r=n.id,o=void 0===r?"":r,i=n.images,a=n.name,s=n.background_color,c=n.is_followed,u=void 0!==c&&c,f=n.url_name,p=(0,eY.Z)(void 0===f?"":f).urlName,m=e.props.i18n,h=m._('Remove', 'homefeedControl.topics.remove', 'Button label when to remove an interest when user is currently following the topic'),y=m._('Add', 'homefeedControl.topics.add', 'Button label when to add an interest when user is not currently following the topic'),b=function(t){e.props.logContextEvent({event_type:t?106:107,view_type:255,view_parameter:3293,object_id_str:n.id,element:11353})};return(0,d.jsx)(l.xu,{height:248,marginBottom:2,children:(0,d.jsx)(eW.Z,{backgroundColor:void 0===s?"":s,followedByMe:u,followingButton:(0,d.jsx)(eG.Z,{isFollowed:u,isFollowedText:h,isNotFollowedText:y,onFollow:function(){return b(!0)},onUnFollow:function(){return b(!1)},primaryAction:!0,size:"lg",topicId:o}),height:176,id:o,image:i["400x"],name:void 0===a?"":a,url:p,width:176})},o)},scrollContainer:function(){return window},virtualize:!0})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eX(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(a.PureComponent),e2=function(e){var t=(0,P.u)().logContextEvent,n=(0,u.Z)();return(0,d.jsx)(e1,eK(eK({},e),{},{i18n:n,logContextEvent:t}))},e3=n(501010),e5=n(774838),e4=n(661376),e8=n(49254),e6=n(788004);function e7(e){return(e7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e9(Object(n),!0).forEach(function(t){tl(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ts(r.key),r)}}function tr(e,t){return(tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function to(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ti(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ti=function(){return!!e})()}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tl(e,t,n){return(t=ts(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ts(e){var t=function(e,t){if("object"!=e7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e7(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e7(t)?t:t+""}var tc=740,tu="/edit/history",td=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&tr(i,e);var t,n,r,o=(t=ti(),function(){var e,n=ta(i);return e=t?Reflect.construct(n,arguments,ta(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==e7(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return to(e)}(this,e)});function i(e){if(!(this instanceof i))throw TypeError("Cannot call a class as a function");tl(to(t=o.call(this,e)),"handleTabChange",function(e){var n,r,o,i=e.activeTabIndex,a=t.props.navigate;2===i?(n="/edit/boards",r=3291,o=11348):0===i?(n=tu,r=3290,o=11349):1===i?(n="/edit/topics",r=3293,o=11350):3===i?(n="/edit/profiles",r=3555,o=12271):4===i&&(n="/edit/gen-ai-interests",r=4164,o=18125),t.props.logContextEvent({event_type:101,view_type:255,view_parameter:r,element:o}),t.setState({activeTabIndex:i,viewParameter:r||3555}),n&&a(n)}),tl(to(t),"renderMenu",function(){var e=t.props.i18n,n=t.state.activeTabIndex,r=[{text:e._('Activity', 'homefeedControl.tabs.activity', 'Menu item for controlling recent pin activity options'),href:"#"},{text:e._('Interests', 'homefeedControl.tabs.interests', 'Menu item for controlling followed interests'),href:"#"},{text:e._('Boards', 'homefeedControl.tabs.boards', 'Menu item for controlling board options'),href:"#"},{text:e._('Following', 'homefeedControl.tabs.following', 'Menu item for controlling following options'),href:"#"},{text:e._('GenAI interests', 'homefeedControl.tabs.gen_ai_topics', 'Menu item for controlling GenAI interests options'),href:"#"}];return(0,d.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:(0,d.jsx)(l.mQ,{activeTabIndex:n,onChange:function(e){var n=e.activeTabIndex,r=e.dangerouslyDisableOnNavigation;e.event.preventDefault(),r(),t.handleTabChange({activeTabIndex:n})},tabs:r})})}),tl(to(t),"renderData",function(){var e=t.props,n=e.boards,r=e.pins,o=e.topics,i=e.users,a=e.enabledDSALaunch,l=e.isDSAOptedOut,s=e.activityTypeFilter,c=e.selectedActivityFilter;switch(t.state.activeTabIndex){case 2:return(0,d.jsx)(ex,{boards:n,enabledDSALaunch:a,isDSAOptedOut:l});case 0:return(0,d.jsx)(en,{activityTypeFilter:s,enabledDSALaunch:a,isDSAOptedOut:l,pins:r,selectedActivityFilter:c});case 1:return(0,d.jsx)(e2,{topics:o});case 3:return(0,d.jsx)(eU,{users:i});case 4:return(0,d.jsx)(ek,{});default:return null}}),tl(to(t),"renderEmptyState",function(){var e,n=t.props.i18n,r=t.state.activeTabIndex;return 2===r?e=n._('It looks like you don\u2019t have any boards yet. As you save Pins onto boards, your home feed will get better and better.', 'Empty state caption when user does not have any boards', 'Empty state caption when user does not have any boards'):0===r?e=n._('You haven\u2019t visited any Pins yet. When you explore Pins, they\u2019ll show up here.', 'homefeedControl.empty.activity', 'Empty state caption when user does not have recent activity'):1===r?e=n._('You haven\u2019t added any topics to your home feed', 'homefeedControl.empty.topics', 'Empty state caption when user is not following any topics'):3===r&&(e=n._('It looks like you aren\u2019t following any Pinners.', 'homefeedControl.empty.profiles', 'Empty state caption when user is not following any Pinners')),(0,d.jsx)(l.xu,{display:"flex",height:"100%",justifyContent:"center",padding:8,width:"100%",children:(0,d.jsx)(l.xu,{width:540,children:(0,d.jsx)(l.xv,{align:"center",overflow:"normal",children:e})})})}),tl(to(t),"renderBody",function(){var e=t.props,n=e.topics,r=e.pins,o=e.boards,i=e.users,a=t.state.activeTabIndex,s=o;return(0===a?s=r:1===a?s=n:3===a&&(s=i),s.isLoaded)?(0,d.jsxs)(l.xu,{children:[t.renderData(),s.data&&0===s.data.length&&t.renderEmptyState()]}):(0,d.jsx)(l.xH,{accessibilityLabel:"",show:!s.isLoaded})});var t,n=t.props.page,r=0;return"boards"===n?r=2:"topics"===n?r=1:"profiles"===n?r=3:"gen-ai-interests"===n&&(r=4),t.state={activeTabIndex:r,viewParameter:3290},t}return n=[{key:"render",value:function(){var e=this,t=this.props.i18n,n=(0,y.XB)({text:t._('Make your Pinterest more <em id="1">you</em>. Edit the details Pinterest uses to recommend ideas to you. These details won\u2019t be shown publicly.', 'homefeedControl.instructions', 'instructions message on turning off recommendations from activity, interests, boards and following'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,d.jsx)(l.xv,{inline:!0,italic:!0,children:t})}}});return(0,d.jsx)(e6.default,{activeItem:"HomeFeedTuner",settingsHeaderDescription:n,viewParameter:this.state.viewParameter,viewType:255,children:(0,d.jsx)(e8.c,{children:function(t){return(0,d.jsx)(l.kC,{alignItems:"stretch",height:"100%",justifyContent:"center",width:"100%",children:(0,d.jsxs)(l.xu,{alignItems:"start",direction:"column",display:"flex",minHeight:"calc(100vh - ".concat(t,"px)"),paddingY:4,width:"100%",children:[(0,d.jsx)(l.xu,{"data-test-id":"settings-menu-items",flex:"none",width:tc,children:e.renderMenu()}),(0,d.jsx)(l.xu,{flex:"grow",paddingY:1,width:"100%",children:e.renderBody()})]})})}})})}}],r=[{key:"getDerivedStateFromProps",value:function(e){var t=e.page,n=e.boards,r=e.navigate;return!t&&n.isLoaded&&n.data&&0===n.data.length&&r(tu),null}}],n&&tn(i.prototype,n),r&&tn(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(a.PureComponent);function tf(e){var t,n,i=(0,P.u)().logContextEvent,l=(0,u.Z)(),f=(0,o.Z)(),p=(0,r.s0)(),m=(0,e5.B)(),h=[{value:"all",label:l._('All', 'HomefeedControlActivity.Filter.All', 'Option to show all pins with recent activity')},{value:s,label:l._('Saved', 'HomefeedControlActivity.Filter.Saved', 'Option to show saved pins from recent activity')},{value:c,label:l._('Viewed', 'HomefeedControlActivity.Filter.Viewed', 'Option to show viewed pins from recent activity')}],y=(tl(n={},"all",13578),tl(n,s,13579),tl(n,c,13580),n),b=function(e){if(Array.isArray(e))return e}(t=(0,a.useState)(h[0]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tt(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=b[0],v=b[1],g=(0,e4.Z)({name:"UserRecentActivityResource",options:{filter_type:_.value}}),x=(0,e4.Z)({name:"UserFollowingResource",options:{username:f.isAuth?f.username:"",exclude_not_explictly_followed:!0},enabledRouteRefresh:!0}),w=(0,e4.Z)({name:"BoardsResource",options:{username:"me",sort:"last_pinned_to",field_set_key:"profile_grid_item",page_size:25}}),j=(0,e4.Z)({name:"InterestFollowingResource",options:{username:f.isAuth?f.username:"",page_size:30}}),S=(0,(0,e3.Z)().checkExperiment)("uup_dsa_launch_web").anyEnabled,O=(0,e4.Z)({name:"UserSettingsResource"}).data;return(0,d.jsx)(td,te(te({},e),{},{activityTypeFilter:(0,d.jsx)(eo,{activityFilter:_,activityTypeOptions:h,setActivityFilter:function(e){v(e),i({event_type:101,element:y[e.value],view_type:255})}}),boards:w,enabledDSALaunch:S,i18n:l,isDSAOptedOut:null==O?void 0:O.dsa_opted_out,logContextEvent:i,navigate:p,pins:g,requestContext:m,selectedActivityFilter:_.value,topics:j,users:x}))}tl(td,"defaultProps",{enabledDSALaunch:!1});var tp=n(470205),tm=n(825605),th=n(305375);function ty(){var e,t=(0,th.Z)().page;return"boards"===t?e=3291:"history"===t?e=3290:"topics"===t?e=3293:"quiz"===t?e=3358:"gen-ai-interests"===t&&(e=4164),(0,ew.Q)({view_type:255,view_parameter:e}),(0,d.jsx)(tp.Z,{name:"SafeSuspense_HomefeedControlPage_HomefeedControl",children:(0,d.jsx)(tm.Z,{children:(0,d.jsx)(tf,{page:t})})})}var tb=n(465784),t_=n(271202),tv=n(134136),tg=n(104999);function tx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tw=function(e){var t,n=e.boardId,r=e.enabledDSALaunch,o=e.isDSAOptedOut,i=(0,tg.Z)(),s=(0,p.I0)(),c=(0,u.Z)(),f=(0,h.Z)(),m=(0,ec.gC)()(null!=n?n:""),b=m||{},_=b.id,v=b.name,g=b.allow_homefeed_recommendations,x=b.image_cover_url,w=b.privacy,j=b.section_count,P=b.collaborating_users,S=b.board_order_modified_at,O=b.pin_count,A=S&&f(S,!0),C=w===ei.ZP.BoardPrivacy.SECRET,I=function(e){if(Array.isArray(e))return e}(t=(0,a.useState)(!g))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tx(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tx(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),T=I[0],z=I[1];if(!m)return null;var k=function(){var e=!T;s((0,es.V)(_,{allow_homefeed_recommendations:!e})),i({event_type:e?106:107,view_type:255,view_parameter:3291,object_id_str:_,element:11351}),z(e)};return(0,d.jsx)(l.xu,{width:"100%",children:(0,d.jsx)(l.iP,{disabled:r&&o,onTap:k,children:(0,d.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",padding:2,children:[(0,d.jsxs)(l.kC,{alignItems:"center",dataTestId:"board-data-container",direction:"row",flex:"shrink",justifyContent:"start",children:[(0,d.jsx)(l.xu,{flex:"none",children:(0,d.jsxs)(l.zd,{height:60,rounding:4,width:60,children:[x?(0,d.jsx)(l.Ee,{alt:(0,y.nk)(c._('{{ boardName }} cover image', 'HomefeedControlBoardItem.coverImageAlt', 'Board cover image alt for homefeed control boards section. boardName: name of board'),{boardName:null!=v?v:""}).join(""),fit:"cover",naturalHeight:1,naturalWidth:1,src:x}):(0,d.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"}),C&&(0,d.jsx)(l.xu,{display:"flex",height:60,left:!0,position:"absolute",top:!0,width:60,children:(0,d.jsx)(l.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",margin:"auto",rounding:"circle",width:24,children:(0,d.jsx)(ea.Z,{})})})]})}),(0,d.jsxs)(l.xu,{"data-test-id":"board-info",opacity:r&&o?.7:1,paddingX:2,children:[(0,d.jsx)(l.__,{htmlFor:_,children:(0,d.jsx)(l.X6,{accessibilityLevel:2,lineClamp:2,overflow:"breakAll",size:"400",children:v})}),(0,d.jsxs)(l.kC,{gap:2,children:[(0,d.jsxs)(l.xv,{inline:!0,size:"100",children:[(0,y.nk)(c.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', null != O ? O : 0, 'HomefeedControlBoardItem.pinCount', 'pinCount: Number of Pins on board or section'),{pinCount:O})," ",(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)("span",{children:" • "}),(0,y.nk)(c.ngettext('{{ sectionCount }} Section', '{{ sectionCount }} Sections', null != j ? j : 0, 'HomefeedControlBoardItem.boardDetails.sectionCount', 'sectionCount: Number of sections on the board'),{sectionCount:j})," "]})]}),(0,d.jsx)(l.xv,{color:"subtle",inline:!0,size:"100",children:A})]})]})]}),(0,d.jsxs)(l.kC,{dataTestId:"switch-container",gap:3,children:[P&&(0,d.jsx)(l.HE,{accessibilityLabel:c._('Collaborative board', 'HomefeedControlBoardItem.avatarGroup.isCollaborativeBoard', 'Accessibility label for avatar group indicating a collaborative board'),collaborators:P.map(function(e){var t,n,r;return{name:null!=(t=e.full_name)?t:"",src:null!=(n=e.image_medium_url)?n:"",color:null!=(r=null==e?void 0:e.avatar_color_index)?r:void 0}}),size:"xs"}),(0,d.jsx)(l.rs,{disabled:r&&o,id:_,onChange:k,switched:!(r&&o)&&!T})]})]})})})},tj=n(583875),tP=n(507006),tS=n(37318),tO=function(e){var t=e.userId,n=e.viewType,r=e.viewParameter,o=(0,u.Z)(),i=(0,p.v9)(function(e){return e.users[t]}),a=i.follower_count,s=void 0===a?0:a,c=i.full_name,f=i.image_medium_url,m=i.username,h=i.avatar_color_index;return(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",width:"100%",children:[(0,d.jsx)(l.Tg,{href:"/".concat(m),children:(0,d.jsxs)(l.kC,{alignItems:"center",gap:2,children:[(0,d.jsx)(tj.qE,{color:h,name:c||"",size:"md",src:f||""}),(0,d.jsxs)(l.kC,{alignContent:"center",direction:"column",justifyContent:"center",children:[(0,d.jsx)(l.xv,{lineClamp:1,overflow:"breakAll",size:"400",weight:"bold",children:c}),(0,d.jsx)(l.xv,{size:"100",children:(0,y.nk)(o.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', s, 'settings.homefeedTuner.profiles.followersCount', 'follower count on usercard followerCount: number of followers'),{followerCount:(0,d.jsx)(tP.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:s},s)})})]})]})}),(0,d.jsx)(tS.Z,{isSecondaryButton:!0,size:"md",user:i,viewParameter:r,viewType:n})]})},tA=function(e){var t=e.altText,n=e.imageUrl,i=e.imageHeight,a=e.imageWidth,s=e.disabledText,c=e.onChange,f=e.isDisabled,p=e.isDisabledByDSA,m=e.pinId,h=(0,u.Z)(),y=(0,o.Z)().isAuth,b=!i||!a,_=t?t.trim():"",v=(0,r.s0)();return(0,d.jsxs)(l.xu,{"data-test-id":_?"homefeed-control-card":"homefeed-control-card-missing-alt-text",direction:"column",display:"flex",marginBottom:4,padding:1,position:"relative",children:[(0,d.jsx)(l.iP,{accessibilityLabel:_,mouseCursor:y?void 0:"zoomIn",onTap:function(){return v("/pin/".concat(m))},tapStyle:"none",children:(0,d.jsx)(l.xu,{height:b?100:"auto",overflow:"hidden",position:"relative",rounding:4,children:(0,d.jsx)(l.Ee,{alt:_,fit:b?"cover":"none",naturalHeight:i||1,naturalWidth:a||1,src:n,children:f&&(0,d.jsx)(l.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",padding:4,children:(0,d.jsx)(l.xv,{align:"center",color:"light",size:"200",children:s})})})})}),(0,d.jsx)(l.xu,{bottom:!0,padding:2,position:"absolute",right:!0,rounding:4,zIndex:new l.Ry(1e3),children:(0,d.jsx)(l.xu,{alignItems:"end",direction:"column",display:"flex",justifyContent:"end",padding:2,children:(0,d.jsx)(l.XZ,{checked:!f,disabled:p,helperText:"",id:"checkbox-".concat(m),label:"".concat(h._('Checkbox for enabling or disabling ', 'HomefeedControlCard.Checkbox.Recommendations', 'Accesibility label for enabling or disabling a pin recomendations')," ").concat(_),labelDisplay:"hidden",onChange:c})})})]})},tC=n(167021),tI=n(244223);function tT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tz=function(e){var t,n,r=e.pinId,o=e.enabledDSALaunch,i=(0,u.Z)(),l=(0,tg.Z)(),s=(0,I.S6)()(r),c=(0,tC.K)(),f=c.getPinFeedbackStatus,p=c.setPinFeedbackStatus,m=f({pinId:r}),h=null==s?void 0:s.is_blocked,y=o&&(null==s?void 0:s.is_disabled_by_dsa)||!1,b=function(e){if(Array.isArray(e))return e}(t=(0,a.useState)((void 0===m?h:"hidden"===m)||y))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tT(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tT(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=b[0],v=b[1];if(!s)return null;var g=s.is_promoted,x=s.is_downstream_promotion,w=s.images,j=s.image_signature,P=null==w?void 0:w["170x"];return(0,d.jsx)(tA,{altText:s.alt_text||s.title||s.description||"",disabledText:i._('Recommendations are turned off for this Pin', ' - ', ' -- '),imageHeight:null==P?void 0:P.height,imageUrl:null!=(n=null==P?void 0:P.url)?n:"",imageWidth:null==P?void 0:P.width,isDisabled:_||y,isDisabledByDSA:y,onChange:function(){(0,tI.Z)({resourceOptions:{pin_id:r,complaint_reason:0,feedback_type:4,promoted:g&&!x,recommendation_reason_id:4,through_id:r,undo:_},updatePinFeedbackStatus:function(e){return p({pinId:r,pinFeedbackStatus:e})}}),_&&p({pinId:r,pinFeedbackStatus:""}),l({event_type:_?107:106,view_type:255,view_parameter:3290,object_id_str:r,element:11352,aux_data:{pin_id:r,image_signature:j}}),v(!_)},pinId:r})},tk=n(50107),tE=n(838855),tF=n(734802),tD=n(520803);function tR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tH(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tH(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tL=function(e){return(0,d.jsx)(l.xu,{paddingX:4,paddingY:4,children:(0,d.jsx)(l.X6,{align:"center",color:"subtle",size:"400",children:e})})},tZ=function(){var e=(0,u.Z)(),t=(0,r.s0)(),n=(0,P.u)().logContextEvent;return(0,d.jsx)(l.xu,{alignItems:"stretch",direction:"column",display:"flex",justifyContent:"start",marginBottom:3,maxWidth:750,width:"100%",children:(0,d.jsx)(l.XA,{message:(0,d.jsx)(l.xv,{children:(0,d.jsxs)(l.xu,{children:[(0,d.jsx)(l.xv,{children:e._('Add more personalization', 'HomefeedControlPage.Activity.upsellTitle', 'Message for activity recomendations upsell tab in homefeed')}),(0,d.jsx)(l.xu,{children:(0,d.jsx)(l.xv,{underline:!1,weight:"bold",children:(0,y.nk)(e._('Turn on inferred signals about you for ideas even more in tune with your interests. {{ learnMore }}', 'HomefeedControl.Activity.upsellMessage', 'Message for activity recomendations upsell tab in homefeed, learnMore: link to learn more'),{learnMore:(0,d.jsx)(l.rU,{accessibilityLabel:"Learn more",display:"inline",href:S.fPu,target:"blank",underline:"none",children:e._('Learn more', 'HomefeedControl.Activity.searchPrivacyLink', 'Link to privacy and data settings')})})})})]})}),primaryAction:{accessibilityLabel:"Update settings",label:e._('Update setting', 'HomefeedControlPage.Activity.updateSettingButton', 'Text on go to settings button'),onClick:function(){n({event_type:101,element:13581,view_type:255}),t(S.Gxc)}},title:""})})},tB=function(e){var t=e.enabledDSALaunch,n=e.isDSAOptedOut,r=(0,u.Z)(),o=(0,e4.Z)({name:"BoardsFeedResource",options:{username:"me",sort:"last_pinned_to",field_set_key:"profile_grid_item"},noCache:t}),i=o.data,l=o.fetchMore,s=o.isAtEnd,c=o.isFetching;return(0,d.jsxs)(a.Fragment,{children:[t&&n&&(0,d.jsx)(tZ,{}),(0,d.jsx)(tE.Z,{emptyState:tL(r._('You don\'t have any boards yet', 'settings.homefeedTuner.boardEmptyState', 'Empty state message when user has no boards')),feedItems:null!=i?i:[],feedKey:"profile-boards:me",maxColumns:1,minColumns:1,pagination:{loadNext:l||function(){},hasNext:!s,isLoadingNext:c||!1,refetch:function(){}},renderFeedItem:function(e){return(0,d.jsx)(tw,{boardId:e.id,enabledDSALaunch:t,isDSAOptedOut:n})}})]})},tM=function(e){var t=e.enabledDSALaunch,n=e.isDSAOptedOut,r=(0,u.Z)(),o=(0,P.u)().logContextEvent,i=(0,a.useRef)(null),s=tR((0,a.useState)(!1),2),c=s[0],f=s[1],p=[{value:"all",label:r._('All', 'HomefeedControlActivity.Filter.All', 'Option to show all pins with recent activity')},{value:"saved",label:r._('Saved', 'HomefeedControlActivity.Filter.Saved', 'Option to show saved pins from recent activity')},{value:"viewed",label:r._('Viewed', 'HomefeedControlActivity.Filter.Viewed', 'Option to show viewed pins from recent activity')}],m=tR((0,a.useState)(p[0]),2),h=m[0],y=m[1],b=function(e,t){o({event_type:101,element:t,view_type:255}),y(e),f(!1)},_=(0,e4.Z)({name:"UserRecentActivityResource",options:{username:"me",filter_type:h.value},noCache:t}),v=_.data,g=_.fetchMore,x=_.isAtEnd,w=_.isFetching;return(0,d.jsxs)(a.Fragment,{children:[t&&(0,d.jsxs)(l.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",maxWidth:750,width:"100%",children:[(0,d.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,d.jsx)(l.xu,{tabIndex:0,children:(0,d.jsx)(l.X6,{accessibilityLevel:2,size:"400",children:function(){switch(h.value){case p[1].value:return r._('Saved Pins', 'HomefeedControl.Activity.savedPinsHeader', 'Caption for pins that were saved. timesince: Time when save activity was performed');case p[2].value:return r._('Viewed Pins', 'HomefeedControl.Activity.viewedPinsHeader', 'Caption for pins that were viewed. timesince: Time when view activity was performed');default:return r._('Viewed and saved Pins', 'HomefeedControl.Activity.savedAndViewedPinsHeader', 'Caption for pins that were saved or viewed. timesince: Time when activity was performed')}}()})})}),(0,d.jsx)(l.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"end",padding:2,children:(0,d.jsx)(l.hU,{ref:i,accessibilityControls:"activity-type-filter-button",accessibilityExpanded:c,accessibilityHaspopup:!0,accessibilityLabel:"More Options",icon:"filter",iconColor:"darkGray",onClick:function(){return f(function(e){return!e})},selected:c,size:"xl"})})]}),t&&n&&h.value!==p[1].value&&(0,d.jsx)(tZ,{}),(0,d.jsx)(tE.Z,{emptyState:tL(r._('You haven\u2019t been on Pinterest in a while, so you don\u2019t have any recommendations based on your history', 'settings.homefeedTuner.historyEmptyState', 'Empty state message when user has not repinned any Pins')),feedItems:null!=v?v:[],feedKey:"user-recent-activity:".concat(h.value),pagination:{loadNext:g,hasNext:x,isLoadingNext:w,refetch:function(){}},renderFeedItem:function(e){return(0,d.jsx)(tz,{enabledDSALaunch:t,pinId:e.id})}}),(0,d.jsxs)(tb.ZP,{accessibilityModalLabel:"",heading:r._('Filter by', 'settings.homefeedTuner.activityType.filterHeading', 'Heading for activity type filter in activity tab'),isOpen:c,mobileAccessibilityCloseIconLabel:r._('Close context modal for activity filter', 'settings.homefeedTuner.activityType.filterCloseIcon', 'Label for the close button on the activity type filter modal'),onDismiss:function(){return f(!1)},type:"contextual_menu",children:[(0,d.jsx)(l.xu,{padding:3,children:(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(l.Lt.Item,{onSelect:function(e){b(e.item,13578)},option:p[0],selected:h},"all_key"),(0,d.jsx)(l.Lt.Item,{onSelect:function(e){b(e.item,13579)},option:p[1],selected:h},"saved_key"),(0,d.jsx)(l.Lt.Item,{onSelect:function(e){b(e.item,13580)},option:p[2],selected:h},"viewed_key")]})}),(0,d.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,marginTop:6,children:(0,d.jsx)(l.zx,{color:"gray",onClick:function(){return f(!1)},size:"lg",text:r._('Close', 'settings.homefeedTuner.activityType.filterCloseButton', 'Close button text')})})]})]})},tN=function(){var e=(0,u.Z)(),t=(0,e4.Z)({name:"InterestFollowingResource",options:{username:"me"}}),n=t.data,r=t.fetchMore,o=t.isAtEnd,i=t.isFetching;return(0,d.jsx)(tE.Z,{emptyState:tL(e._('You haven\u2019t added any topics to your home feed', 'settings.homefeedTuner.topicsEmptyState', 'Empty state message when user is not following any topics')),feedItems:null!=n?n:[],feedKey:"topic-following:me",pagination:{loadNext:r,hasNext:o,isLoadingNext:i,refetch:function(){}},renderFeedItem:function(e){return(0,d.jsx)(l.xu,{paddingX:1,paddingY:2,children:(0,d.jsx)(tF.Z,{id:e.id,isHomefeedTuner:!0,showFollowButton:!0,viewParameter:3293,viewType:255})})}})},tU=function(){var e=(0,u.Z)(),t=(0,e4.Z)({name:"UserFollowingResource",options:{username:"me",exclude_not_explictly_followed:!0}}),n=t.data,r=t.fetchMore,o=t.isAtEnd,i=t.isFetching;return(0,d.jsx)(tE.Z,{emptyState:tL(e._('You aren\'t following anyone', 'settings.homefeedTuner.profilesEmptyState', 'Empty state message when user is not following any users')),feedItems:null!=n?n:[],feedKey:"user-following:me",maxColumns:1,minColumns:1,pagination:{loadNext:r,hasNext:o,isLoadingNext:i,refetch:function(){}},renderFeedItem:function(e){return(0,d.jsx)(l.xu,{paddingX:1,paddingY:3,children:(0,d.jsx)(tO,{userId:e.id,viewParameter:3555,viewType:255})})}})},tG=function(e,t,n){var r=11348;0===e?r=11349:2===e?r=11350:3===e&&(r=12271),n({event_type:101,view_type:255,view_parameter:t,element:r})},tW=function(){var e=(0,tD.Z)(),t=(0,u.Z)(),n=(0,P.u)().logContextEvent,r=(0,(0,e3.Z)().checkExperiment)("uup_dsa_launch_mweb").anyEnabled,o=(0,e4.Z)({name:"UserSettingsResource",noCache:!0}).data,i=e.params.page,s={viewParameter:3290,selectedTabIndex:0,component:(0,d.jsx)(tM,{enabledDSALaunch:r,isDSAOptedOut:null==o?void 0:o.dsa_opted_out}),title:t._('Activity', 'homefeedControlPage.tabs.activity', 'Menu item for controlling recent pin activity options'),description:t._('Hide ideas related to Pins you recently saved or tapped to view close-up.', 'homefeedControlPage.activity.descriptionMessage', 'Description message for activity tab in homefeed tuner')},c={viewParameter:3291,selectedTabIndex:2,component:(0,d.jsx)(tB,{enabledDSALaunch:r,isDSAOptedOut:null==o?void 0:o.dsa_opted_out}),title:t._('Boards', 'homefeedControlPage.tabs.boards', 'Menu item for controlling board options'),description:t._('Switch off a board to stop seeing ideas related to it. Don\'t worry, this won\'t affect your board.', 'homefeedControlPage.boards.descriptionMessage', 'Description message for boards tab in homefeed tuner')},f={activity:s,interests:{viewParameter:3293,selectedTabIndex:1,component:(0,d.jsx)(tN,{}),title:t._('Interests', 'homefeedControlPage.tabs.interests', 'Menu item for controlling followed interests'),description:t._('Hide ideas related to topics you\u2019re no longer interested in.', 'homefeedControlPage.interests.descriptionMessage', 'Description message for interests tab in homefeed tuner')},following:{viewParameter:3555,selectedTabIndex:3,component:(0,d.jsx)(tU,{}),title:t._('Following', 'homefeedControlPage.tabs.following', 'Menu item for controlling following options'),description:t._('Unfollow a person or brand to stop seeing their published Pins. They won\u2019t be notified.', 'homefeedControlPage.following.descriptionMessage', 'Description message for following tab in homefeed tuner')},boards:c,"gen-ai-interests":{viewParameter:4164,selectedTabIndex:4,component:(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(ek,{hideHeader:!0}),(0,d.jsx)(l.xu,{height:40})]}),title:t._('GenAI interests', 'homefeedControlPage.tabs.genAiTopics', 'Menu item for controlling GenAI interests'),description:t._('Choose GenAI interests you\u2019d like to see in your recommended Pins.', 'homefeedControlPage.genAiTopics.descriptionMessage', 'Description message for GenAI interests tab in homefeed tuner')}},p=Array(f.length);for(var m in f){var h=f[m];p[h.selectedTabIndex]={text:h.title,href:"/edit/".concat(m)}}var b=f[i&&i in f?i:Object.keys(f)[0]],_=b.viewParameter,v=b.selectedTabIndex,g=b.component,x=b.description,w=t._('Refine your recommendations', 'settings.refineYourRecommendation.title', 'Title for recommendations control page');return(0,ew.Q)({view_type:255,view_parameter:_}),(0,d.jsxs)(tv.default,{hasFixedHeader:!0,children:[(0,d.jsxs)(t_.default,{children:[(0,d.jsx)(tk.default,{heading:w,legoSettingsEnabled:!0,previousUrl:"/settings/",shouldUseFallbackUrl:!0,viewParameter:_,viewType:252}),(0,d.jsx)(l.xu,{marginTop:-2,padding:3,children:(0,d.jsx)(l.xv,{align:"center",children:(0,d.jsx)(a.Fragment,{children:(0,y.XB)({text:t._('Make your Pinterest more <em id="1">you</em>. Edit the details Pinterest uses to recommend ideas to you. These details won\u2019t be shown publicly.', 'homefeedControl.instructions', 'instructions message on turning off recommendations from activity, interests, boards and following'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,d.jsx)(l.xv,{inline:!0,italic:!0,children:t})}}})})})}),(0,d.jsx)(l.xu,{marginBottom:1,marginTop:1,overflow:"scrollX",children:(0,d.jsx)(l.mQ,{activeTabIndex:v,onChange:function(e){return tG(e.activeTabIndex,_,n)},tabs:p})}),x&&(0,d.jsx)(l.xu,{alignItems:"center","data-test-id":"homefeed-tab-description",display:"flex",justifyContent:"center",margin:"auto",marginBottom:3,maxWidth:310,children:(0,d.jsx)(l.xv,{align:"center",color:"subtle",size:"300",children:x})})]}),(0,d.jsx)(tp.Z,{name:"SafeSuspense_HomefeedControlPage_HomefeedControlPageComponent",children:(0,d.jsx)(tm.Z,{children:g})})]})};function tY(){var e=(0,i.HG)();return(0,o.Z)().isAuth?e?(0,d.jsx)(ty,{}):(0,d.jsx)(tW,{}):(0,d.jsx)(r.Fg,{replace:!0,to:"/"})}},615147:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){var t=e.indexOf(":");return -1===t?{language:"EN",urlName:e}:{language:e.substring(0,t),urlName:e.substring(t+1)}}},388616:function(e,t,n){n.d(t,{V:function(){return c},u:function(){return s}});var r=n(27399),o=n(160587);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(e){return function(t){return r.Z.create("BoardResource",{board_id:e}).callGet().then(function(e){var n=e&&e.resource_response&&e.resource_response.data;return n&&t((0,o.yT)(n)),e})}};function c(e,t,n){return function(i,a){var s=a().boards[e],c=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},u=l(l(l({allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description},t.name&&{name:t.name}),{},{privacy:t.privacy,sensitivity:t.sensitivity||null},n?{orbac_subject_id:n}:Object.freeze({})),c);return i((0,o.yT)(l(l({},u),{},{id:e}))),r.Z.create("BoardResource",l(l({},u),{},{board_id:e})).callUpdate().then(function(e){var n=e&&e.resource_response&&e.resource_response.data||t;return null!=t.allow_homefeed_recommendations&&(n.allow_homefeed_recommendations=t.allow_homefeed_recommendations),i((0,o.yT)(n)),e}).catch(function(e){throw s&&i((0,o.yT)(s)),e})}}},72034:function(e,t,n){function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function o(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function i(e){return{type:"PIN_SAVE",payload:e}}function a(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function c(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,nodeId:e.nodeId}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!0,nodeId:e.nodeId}}}function d(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function f(e){return{type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL",payload:{id:e,value:!0}}}function p(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL"}}n.d(t,{Gb:function(){return a},I1:function(){return s},Ib:function(){return u},JU:function(){return f},Ur:function(){return i},Vw:function(){return l},au:function(){return p},i0:function(){return d},mO:function(){return o},q1:function(){return c},yR:function(){return r}})},734802:function(e,t,n){n.d(t,{Z:function(){return z}});var r,o,i=n(581722),a=n(115821),l=n(20256),s=n(104999),c=n(774838),u=n(338065),d=n(199024),f=n(24246),p=n(720459),m=n(775907),h=n(680811);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=["topicRef"],_=["topic","topicBlob","topicInfoForContextualExp"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var w=function(e){var t=e.backgroundColor,n=e.decreaseNamePadding,r=e.isHomefeedTuner,o=e.isLego,i=e.isSelected,a=e.locale,s=e.nameTextSize,c=e.renderAsPill,u=e.showFollowerCount,d=e.topicName,y=e.followerCount,b=e.image,_=(0,f.Z)(),v=(0,p.Z)(),g=(0,h.jsx)(l.JO,{accessibilityLabel:_._('Selected', ' - ', ' -- '),color:"light",icon:o?"check":"check-circle",size:o?12:24});return c?(0,h.jsx)(m.Z,{color:t||"#767676",image:b,isSelected:null!=i&&i,title:d}):(0,h.jsxs)(l.xu,{"aria-selected":i,position:"relative",children:[(0,h.jsx)(l.zd,{rounding:o||r?4:2,children:(0,h.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,h.jsx)(l.xu,{bottom:!0,left:!0,padding:o&&i?1:0,position:"absolute",right:!0,rounding:o&&i?4:0,top:!0,children:b.url&&(0,h.jsx)(l.Ee,{alt:d,color:t||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:b.url})}),(0,h.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:o&&i?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:o?4:void 0,top:!0}),o&&i&&(0,h.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),r?(0,h.jsx)(l.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,h.jsx)(l.xv,{align:"center",color:"light",size:s,weight:"bold",children:d})}):(0,h.jsxs)(l.xu,{bottom:!0,left:!0,padding:n?1:2,position:"absolute",right:!0,children:[(0,h.jsx)(l.xv,{color:"light",size:s,weight:"bold",children:d}),u&&y>=0&&(0,h.jsx)(l.xu,{paddingY:1,children:(0,h.jsxs)(l.xv,{color:"inverse",size:"100",children:[(0,h.jsx)(l.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:v(a,y,{shortform:!0,shortform_maximum_fraction_digits:1})}),_._('followers', ' - ', ' -- ')]})})]}),i&&(0,h.jsx)(l.xu,{margin:2,position:"absolute",right:!0,top:!0,children:o?(0,h.jsx)(l.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:g}):g})]})},j=(void 0!==r||(r=n(654471)).hash&&"b5b71fb4390c1d3835e468a25f687669"!==r.hash&&console.error("The definition of 'TopicImageWithText_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),P=function(e){var t,n,r,o,i,l,s=e.topicRef,c=x(e,b),u=(0,a.useFragment)(j,s),d=u.images?{url:null!=(t=u.images.url)?t:"",width:null!=(n=u.images.width)?n:0,height:null!=(r=u.images.height)?r:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,h.jsx)(w,g({backgroundColor:null!=(o=u.background_color)?o:"",followerCount:null!=(i=u.follower_count)?i:0,image:d,topicName:null!=(l=u.name)?l:""},c))},S=function(e){var t,n,r,o,i=e.topic,a=e.topicBlob,l=e.topicInfoForContextualExp,s=x(e,_),c=l||i||a,u=(null==c||null==(t=c.images)?void 0:t["236x"])||(null==c||null==(n=c.images)?void 0:n["400x"])||(null==c||null==(r=c.images)?void 0:r["474x"])||(null==c||null==(o=c.images)?void 0:o.orig)||{height:1,url:"",width:1},d=c&&"follower_count"in c&&void 0!==c.follower_count?c.follower_count:-1;return(0,h.jsx)(w,g({backgroundColor:(null==c?void 0:c.background_color)||"",followerCount:d,image:u,topicName:(null==c?void 0:c.name)||""},s))},O=["decreaseNamePadding","isHomefeedTuner","isLego","isSelected","nameTextSize","onTouch","padding","renderAsPill","showFollowButton","showFollowerCount","shouldClickthrough","viewParameter","viewType"],A=function(e){var t=e.decreaseNamePadding,n=void 0!==t&&t,r=e.isHomefeedTuner,o=e.isLego,a=e.isSelected,f=void 0!==a&&a,p=e.nameTextSize,m=void 0===p?"lg":p,y=e.onTouch,b=e.padding,_=e.renderAsPill,v=e.showFollowButton,g=e.showFollowerCount,x=void 0!==g&&g,w=e.shouldClickthrough,j=e.topic,O=e.viewParameter,A=e.viewType,C=(0,i.I0)(),I=(0,s.Z)(),T=(0,c.B)().locale,z=(0,h.jsxs)(l.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==j.type?(0,h.jsx)(S,{decreaseNamePadding:n,isHomefeedTuner:r,isLego:o,isSelected:f,locale:T,nameTextSize:m,renderAsPill:_,showFollowerCount:x,topic:j.topic,topicBlob:j.topicBlob,topicInfoForContextualExp:j.topicInfoForContextualExp}):(0,h.jsx)(P,{decreaseNamePadding:n,isHomefeedTuner:r,isLego:o,isSelected:f,locale:T,nameTextSize:m,renderAsPill:_,showFollowerCount:x,topicRef:j.topicRef}),!!j&&void 0!==v&&v&&(0,h.jsx)(l.xu,{paddingY:2,children:(0,h.jsx)(u.Z,{followEventType:601,id:j.id,inline:r,invertColors:r,isFollowed:j.is_followed,onFollow:function(e){return C((0,d.ZN)(e,I))},onUnfollow:function(e){return C((0,d.fv)(e,I))},pinKey:null,size:"md",textType:r?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:O||void 0,viewType:A||void 0})})]}),k="/";return j&&(k="/topics/".concat(j.id)),void 0!==w&&w&&j.slug?(0,h.jsx)(l.Tg,{href:k,onTap:function(e){var t=e.event;null==y||y(t)},rounding:2,tapStyle:"compress",children:(0,h.jsx)(l.xu,{padding:void 0===b?2:b,children:z})}):z},C=(void 0!==o||(o=n(176923)).hash&&"e5a0b7dce2aa2313e4cf2c9871cbedf7"!==o.hash&&console.error("The definition of 'TopicRepFragment_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),I=function(e){var t,n,r=e.topicRef,o=e.decreaseNamePadding,i=e.isHomefeedTuner,l=e.isLego,s=e.isSelected,c=e.nameTextSize,u=e.onTouch,d=e.padding,f=e.renderAsPill,p=e.showFollowButton,m=e.showFollowerCount,y=e.shouldClickthrough,b=e.viewParameter,_=e.viewType,v=(0,a.useFragment)(C,r);return(0,h.jsx)(A,{decreaseNamePadding:void 0!==o&&o,isHomefeedTuner:i,isLego:l,isSelected:void 0!==s&&s,nameTextSize:void 0===c?"lg":c,onTouch:u,padding:void 0===d?2:d,renderAsPill:f,shouldClickthrough:void 0!==y&&y,showFollowButton:void 0!==p&&p,showFollowerCount:void 0!==m&&m,topic:{id:null!=(t=v.entityId)?t:"",type:"graphql",is_followed:null!=(n=v.is_followed)&&n,topicRef:v},viewParameter:b,viewType:_})},T=function(e){var t=e.id,n=e.topic,r=e.topicBlob,o=e.topicInfoForContextualExp,a=e.decreaseNamePadding,l=e.isHomefeedTuner,s=e.isLego,c=e.isSelected,u=e.nameTextSize,d=e.onTouch,f=e.padding,p=e.renderAsPill,m=e.showFollowButton,y=e.showFollowerCount,b=e.shouldClickthrough,_=e.viewParameter,v=e.viewType,g=(0,i.v9)(function(e){return e.topics[t]}),x=null!=n?n:g;return(0,h.jsx)(A,{decreaseNamePadding:void 0!==a&&a,isHomefeedTuner:l,isLego:s,isSelected:void 0!==c&&c,nameTextSize:void 0===u?"lg":u,onTouch:d,padding:void 0===f?2:f,renderAsPill:p,shouldClickthrough:void 0!==b&&b,showFollowButton:void 0!==m&&m,showFollowerCount:void 0!==y&&y,topic:{id:t,is_followed:!!(null!=x&&x.is_followed),topic:x,topicBlob:r,topicInfoForContextualExp:o,type:"resource"},viewParameter:_,viewType:v})},z=function(e){var t=e.decreaseNamePadding,n=void 0!==t&&t,r=e.isHomefeedTuner,o=e.isLego,i=e.isSelected,a=void 0!==i&&i,l=e.nameTextSize,s=void 0===l?"lg":l,c=e.onTouch,u=e.padding,d=void 0===u?2:u,f=e.renderAsPill,p=e.showFollowButton,m=void 0!==p&&p,y=e.showFollowerCount,b=void 0!==y&&y,_=e.shouldClickthrough,v=void 0!==_&&_,g=e.viewParameter,x=e.viewType,w=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,O);return w.topicRef?(0,h.jsx)(I,{decreaseNamePadding:n,isHomefeedTuner:r,isLego:o,isSelected:a,nameTextSize:s,onTouch:c,padding:d,renderAsPill:f,shouldClickthrough:v,showFollowButton:m,showFollowerCount:b,topicRef:w.topicRef,viewParameter:g,viewType:x}):(0,h.jsx)(T,{decreaseNamePadding:n,id:w.id,isHomefeedTuner:r,isLego:o,isSelected:a,nameTextSize:s,onTouch:c,padding:d,renderAsPill:f,shouldClickthrough:v,showFollowButton:m,showFollowerCount:b,topic:w.topic,topicBlob:w.topicBlob,topicInfoForContextualExp:w.topicInfoForContextualExp,viewParameter:g,viewType:x})}},677269:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},3504:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}},948715:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(677269);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===o(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}}}]);