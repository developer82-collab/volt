"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["10363"],{339442:function(e,n,t){t.r(n);var r,a,o={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:a=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:a},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};o.hash="7005ce437a6a6ff33741ab44aa02cf61",n.default=o},917436:function(e,n,t){t.r(n);var r,a,o={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:a=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:a},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};o.hash="40ae8061007ba5f53a4570e43e4ca864",n.default=o},932522:function(e,n,t){t.r(n);var r,a,o,l,i={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"ban"},a={defaultValue:null,kind:"LocalArgument",name:"boardId"},o={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:l=[{alias:null,args:[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,o,r],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:l},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};i.hash="c62e5df78917dd238b70f366f358d487",n.default=i},10028:function(e,n,t){t.r(n);var r,a,o,l,i,s,u,c,d={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},u={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i,s,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},c],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},u],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};d.hash="2c3e1508650962adfff1171e950fa419",n.default=d},905709:function(e,n,t){t.r(n);var r,a,o,l,i,s,u,c,d,f,m=(r=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],a=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},f=[l,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:r,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:i,storageKey:null},s,u,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:f,storageKey:null},s,u,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:f,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},d],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});m.hash="9aa22a7713214239538142ad2c957cc3",n.default=m},286796:function(e,n,t){t.r(n);var r,a,o={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:a=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"collab_emails_Mutation",selections:a},params:{id:"b71dbcb22ec2462fa0cde080403e4f9001df6f822511fd94b0fb3eae0c6b3fd4",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};o.hash="de392a939a95d05f7ee889fe77a9e52d",n.default=o},497818:function(e,n,t){t.r(n);var r,a,o,l,i={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"boardId"},a={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},o={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:l=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,r,o],kind:"Operation",name:"collab_users_Mutation",selections:l},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};i.hash="850c5de9834cac0edfdd5652a78bffbf",n.default=i},351736:function(e,n,t){t.d(n,{F6:function(){return y},Hs:function(){return _},N$:function(){return m},OW:function(){return f},Ov:function(){return b},Yc:function(){return p},k7:function(){return d},t4:function(){return v},vs:function(){return g}});var r=t(387784),a=t(4533),o=t(774838),l=t(34550),i=t(865043),s=t(739405);function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var c="dark",d="rgba(17, 17, 17, 1)",f="rgba(17, 17, 17, 0)",m="rgb(43, 43, 43)",b="#767676",v="rgba(0,0,0, 0.8)",p=function(){return(0,l.M0)().getItem(a.wg)===c};function g(){var e,n=(0,s.ml)(),t=(0,o.B)(),a=t.theme,l=t.isAuthenticated,i=t.referrerFromCookie,d=n&&a===c,f=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(d))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o,l,i=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(i.push(r.value),2!==i.length);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(e,2)||function(e,n){if(e){if("string"==typeof e)return u(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=f[0],b=f[1];return(0,r.useEffect)(function(){var e=d||l&&p();e&&(document.body.style.backgroundColor="#111111"),b(e)},[b,n,d,l,i]),m}var _=function(){(0,l.M0)().setItem(a.wg,c),(0,i.My)("mweb.dark_mode.enable"),window.location.reload()},y=function(){(0,l.M0)().removeItem(a.wg),(0,i.My)("mweb.dark_mode.disable"),window.location.reload()}},665567:function(e,n,t){t.d(n,{Z:function(){return q}});var r=t(387784),a=t(581722),o=t(653551),l=t(20256),i=t(104999),s=t(236269),u=t(681698),c=t(924591),d=t(24246),f=t(890678),m=t(661376),b=t(577356),v=t(327569),p=t(583875),g=t(935059),_=t(774838),y=t(257602),h=t(680811);function k(e){var n=e.username,t=e.senderName,r=e.createdAtDate,a=e.isInviteToGroupChat,o=e.avatarImg,i=e.handleBlock,s=e.handleUnblock,u=e.handlePreview,c=e.handleDecline,f=e.handleReport,m=e.declineInvite,b=e.blockedInvite,v=(0,d.Z)(),k=(0,_.B)().locale,I=new Date(r),x=(0,y.Z)(I,k),S=(0,g.Z)(),w=S.isAuth?null==S?void 0:S.avatar_color_index:void 0,j=(0,h.jsx)(l.Tg,{href:"/".concat(n),children:(0,h.jsx)(p.qE,{accessibilityLabel:v._('User`s avatar', 'InviteSubSection.InviteSubSectionItem.usersAvatar', 'avatar image'),color:w,name:t,size:"md",src:o})}),A=b?(0,h.jsx)(l.zx,{accessibilityLabel:v._('Unblock', 'InviteSubSection.InviteSubSectionItem.unblockButton', 'Button when pressed unblock a request'),onClick:s,size:"lg",text:v._('Unblock', 'InviteSubSection.InviteSubSectionItem.unblockButton', 'Button when pressed unblock a request')}):(0,h.jsx)(l.zx,{accessibilityLabel:v._('Block', 'InviteSubSection.InviteSubSectionItem.blockButton', 'Button when pressed blocks a request'),onClick:i,size:"lg",text:v._('Block', 'InviteSubSection.InviteSubSectionItem.blockButton', 'Button when pressed blocks a request')}),P=(0,h.jsx)(l.zx,{accessibilityLabel:v._('Report', 'InviteSubSection.InviteSubSectionItem.reportButton', 'Button when pressed reports request'),onClick:f,size:"lg",text:v._('Report', 'InviteSubSection.InviteSubSectionItem.reportButton', 'Button when pressed reports request')}),R=(0,h.jsx)(l.zx,{accessibilityLabel:v._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines request'),color:"transparent",onClick:c,size:"lg",text:v._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines request')}),C=(0,h.jsx)(l.zx,{accessibilityLabel:v._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button when pressed preview contact request'),color:void 0,onClick:u,size:"lg",text:v._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button when pressed preview contact request')});return(0,h.jsxs)(l.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:6,marginTop:4,width:"100%",children:[(0,h.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,h.jsx)(l.xu,{marginEnd:4,children:j}),(0,h.jsxs)(l.kC,{direction:"column",flex:"grow",children:[(0,h.jsxs)(l.xu,{display:"flex",justifyContent:"between",marginBottom:1,children:[(0,h.jsx)(l.kC,{flex:"grow",children:(0,h.jsx)(l.rU,{display:"inlineBlock",href:"/".concat(n),tapStyle:"none",underline:"hover",children:(0,h.jsx)(l.xv,{lineClamp:1,children:t})})}),(0,h.jsx)(l.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:4,children:(0,h.jsx)(l.xv,{align:"end",color:"subtle",size:"100",children:x})})]}),(0,h.jsx)(l.iP,{onTap:u,children:(0,h.jsx)(l.xu,{children:(0,h.jsx)(l.xv,{color:"subtle",inline:!0,lineClamp:1,children:a?v._('Added you to a group message', 'InviteSubSection.InvitePreviewSubSectionItem.groupMessageDescription', 'text for group message request description'):v._('Sent you a message', 'InviteSubSection.InvitePreviewSubSectionItem.messageDescription', 'text for message request description')})})})]})]}),(0,h.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginTop:2,width:"100%",children:[(0,h.jsx)(l.xu,{width:64}),m?(0,h.jsxs)(l.kC,{gap:2,children:[A,P]}):(0,h.jsxs)(l.kC,{children:[C,R]})]})]})}var I=t(351736);function x(e){var n=e.boardName,t=e.createdAtDate,r=e.username,a=e.boardUrl,o=e.boardInviteSenderAvatarUrl,i=e.boardInviteSenderFullName,s=e.boardInviteCoverImageUrl,u=e.handleDecline,c=e.isInboxRequestsSectionView,f=(0,d.Z)(),m=(0,_.B)().locale,b=new Date(t),v=(0,y.Z)(b,m),k=(0,g.Z)(),x=k.isAuth?null==k?void 0:k.avatar_color_index:void 0,S=(0,h.jsx)(l.Tg,{href:a,rounding:2,children:(0,h.jsxs)(l.zd,{height:48,rounding:2,width:48,children:[s?(0,h.jsx)(l.Ee,{alt:f._('board cover image', 'InviteSubSection.InviteSubSectionItem.boardCoverImage', 'cover image'),fit:"cover",naturalHeight:48,naturalWidth:48,src:s}):(0,h.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(0,I.Yc)()?"#4A4A4A":"#E9E9E9"}},display:"flex",height:48,width:48,children:[(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderRight:(0,I.Yc)()?"1px solid black":"1px solid white"}},width:"50%"}),(0,h.jsxs)(l.kC,{direction:"column",width:"50%",children:[(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:(0,I.Yc)()?"1px solid black":"1px solid white"}},height:"50%"}),(0,h.jsx)(l.xu,{height:"50%"})]})]}),(0,h.jsx)(l.xu,{bottom:!0,height:20,position:"absolute",right:!0,width:20,children:(0,h.jsx)(p.qE,{accessibilityLabel:f._('board owner avatar', 'InviteSubSection.InviteSubSectionItem.boardInvites.userAvatar', 'avatar image of board owner that displays on board invites'),color:x,name:i,outline:!0,size:"fit",src:o})})]})});return(0,h.jsxs)(l.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:6,marginTop:4,width:"100%",children:[(0,h.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,h.jsx)(l.xu,{marginEnd:4,children:S}),(0,h.jsxs)(l.kC,{direction:"column",flex:"grow",children:[(0,h.jsxs)(l.xu,{alignItems:"stretch",display:"flex",flex:"grow",justifyContent:"between",marginBottom:1,width:"100%",children:[(0,h.jsx)(l.kC,{flex:"grow",justifyContent:"start",children:c?(0,h.jsx)(l.Tg,{href:a,children:(0,h.jsx)(l.xv,{children:f._('Board Invite', 'InviteSubSection.InviteSubSectionItem.boardInviteText', 'text to indicate a board invite')})}):(0,h.jsx)(l.rU,{display:"inlineBlock",href:"/".concat(r),underline:"hover",children:(0,h.jsx)(l.xv,{lineClamp:1,children:i})})}),(0,h.jsx)(l.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:4,children:(0,h.jsx)(l.xv,{align:"end",color:"subtle",size:"100",children:v})})]}),(0,h.jsx)(l.Tg,{href:a,children:(0,h.jsx)(l.xv,{color:"subtle",lineClamp:1,children:n})})]})]}),(0,h.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginTop:2,width:"100%",children:[(0,h.jsx)(l.xu,{width:64}),(0,h.jsx)(l.ZP,{accessibilityLabel:f._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button to preview the board in the request'),href:a,size:"lg",text:f._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button to preview the board in the request')}),(0,h.jsx)(l.zx,{accessibilityLabel:f._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines board request'),color:"transparent",onClick:u,size:"lg",text:f._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines board request')})]})]})}var S=t(15609),w=t(698673),j=t(550946),A=t(160587),P=t(211731),R=t(646833);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach(function(n){var r,a;r=n,a=t[n],(r=function(e){var n=function(e,n){if("object"!=C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=C(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==C(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function E(e,n,t,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void t(e)}i.done?n(s):Promise.resolve(s).then(r,a)}function F(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,n){if(e){if("string"==typeof e)return B(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?B(e,n):void 0}}function B(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var z=function(e){var n=function(e){var n;return new Date(null!=(n=e.created_at)?n:0)};return F(e).sort(function(e,t){return n(e)>n(t)?-1:+(n(t)>n(e))})},L=function(e,n,t,r){var a=e||n?r._('Board invite declined!', 'InviteSubSection.InviteSubSectionItem.declineToast', 'Toast alerting user that they declined a board invite'):r._('Message request declined!', 'InviteSubSection.InviteSubSectionItem.declineToast', 'Toast alerting user that they declined a message request');t(function(e){var n=e.hideToast;return(0,h.jsx)(c.Z,{duration:3e3,onHide:n,text:a})})},D=function(e,n,t,r){n(function(e){var n=e.hideToast;return(0,h.jsx)(c.Z,{duration:5e3,onHide:n,primaryAction:{accessibilityLabel:r._('Undo blocking', 'InviteSubSection.InvitePreviewSubSection.declineToast.a11yUndo', 'Accessibility label for toast to undo comment highlight or comment highlight removal'),label:r._('Undo', 'InviteSubSection.InvitePreviewSubSection.declineToast.undo', 'Toast Undo button do undo a block'),size:"lg",onClick:t},text:r._('Message declined!', 'InviteSubSection.InvitePreviewSubSection.declineToast', 'Toast alerting user that they declined a message request')})})};function M(e){var n=e.numberOfRequestToShow,t=e.isInboxRequestsSectionView,f=e.boardInvitesList,m=e.contactRequestsList,p=e.contactRequestsResourceRefresh,g=(0,d.Z)(),_=(0,a.I0)(),y=(0,o.s0)(),I=(0,b.dI)(),w=I.showToast,C=I.showOneToast,O=(0,a.v9)(function(e){return e.inbox}),T=(0,j.Z)(),E=(0,i.Z)(),B=[].concat(F(f||[]),F(m||[])),M=(0,r.useRef)(m);(0,r.useEffect)(function(){M.current=m},[m]),(0,r.useEffect)(function(){var e=O&&O.showToastForContactRequest;return e&&(D(e,C,function(){_((0,S.O)(e,!1,!1))},g),_((0,R.C)(null))),function(){var e=[];M.current&&(M.current.forEach(function(n){if(n&&n.hasDeclined){var t;e.push(null!=(t=n.id)?t:"")}}),e.length>0&&(0,u.Z)({url:"/v3/contact_requests/batch/decline/",method:"DELETE",data:{contact_request_ids:e}}).then(function(){_((0,S.A)(e))}).catch(function(){_((0,S.A)(e))}))}},[]);var q,U=function(){p&&p()},V=((0,P.RZ)(),function(e){var n,r,o,i,d,f,m,b,p,I,j,P,O,F,K,B,z,M,q,V,Z,N,J,H,W,Y,G,Q,$,X,ee,en,et,er,ea,eo,el,ei,es,eu,ec,ed,ef,em,eb,ev,ep,eg,e_,ey,eh,ek=e.inviteItem,eI=e.index,ex=(ee=regeneratorRuntime.mark(function e(){var n,t,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null!=ek.board,e.prev=1,e.next=4,(0,u.Z)({url:"/v3/contact_requests/".concat(ek.id,"/accept/"),method:"POST"});case 4:if(!e.sent||(U&&U(),!(!n&&"contactrequest"===ek.type))){e.next=12;break}return e.next=10,T({user_ids:[null==(t=ek.sender)?void 0:t.id,null==(r=ek.recipient)?void 0:r.id]});case 10:(a=e.sent)&&y("/conversation/".concat(a.id));case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(1),Error((0,s.Z)(e.t0,"message"));case 17:case"end":return e.stop()}},e,null,[[1,14]])}),function(){(0,u.Z)({url:"/v3/contact_requests/".concat(ek.id,"/decline/"),method:"DELETE"}).then(function(){U&&U()})}),eS="contactrequest"===ek.type&&ek.conversation&&!ek.board?(en=!!ek.hasDeclined&&ek.hasDeclined,et=!!ek.hasBlocked&&ek.hasBlocked,er=function(){var e="contactrequest"===ek.type&&ek.conversation&&ek.conversation.id;e?y("/conversation/".concat(e)):(w(function(e){var n=e.hideToast;return(0,h.jsx)(c.Z,{duration:3e3,onHide:n,text:g._('Conversation not found', 'InviteSubSection.InviteSubSectionItem.conversationNotFoundToast', 'Toast alerting user that Conversation is not found')})}),y("/inbox"))},ea=function(){_((0,R.z)(ek.id,"block"))},eo=function(){_((0,R.z)(ek.id,"unblock"))},el=function(){_((0,R.z)(ek.id,"report")),y("/inbox")},ei=function(){var e;D(null!=(e=ek.id)?e:"",C,function(){_((0,S.O)(ek.id,!1,!1))},g)},es=(0,a.I0)(),eu=function(){es((0,S.O)(ek.id,!0,!1)),ei&&ei()},ev=null!==ek.board,ep=null!=(ec=null==(ed=ek.sender)?void 0:ed.full_name)?ec:"",eg=ek.created_at,e_=ev?null==(ef=ek.board)?void 0:ef.image_cover_url:null==(em=ek.sender)?void 0:em.image_large_url,ey=(null==(eb=ek.sender)?void 0:eb.username)||"",eh=ek.conversation&&(ek.conversation.users||[]).length+(ek.conversation.emails||[]).length>2,(0,h.jsx)(l.xu,{"data-test-id":"invite-item",children:(0,h.jsx)(k,{avatarImg:null!=e_?e_:"",blockedInvite:et,createdAtDate:eg||"",declineInvite:en,handleBlock:ea,handleDecline:eu,handlePreview:er,handleReport:el,handleUnblock:eo,isInviteToGroupChat:eh,senderName:ep,username:ey})})):(n=ek,r=function(){var e="collaboratorinvite"===ek.type,n=!e&&null!=ek.board;e?ek.board_data&&_((0,A.xR)(ek.board_data.id,ek.invited_user,E)):ex(),L(e,n,C,g)},o=t,"contactrequest"===n.type?(j=null!==n.board,P=n.created_at||"",j&&(p=(null==(I=n.board)?void 0:I.name)||""),O=null==(i=n.sender)?void 0:i.username,F=(null==(d=n.sender)?void 0:d.full_name)||"",K=(0,v.Z)((null==(f=n.board)?void 0:f.url)||""),B=(0,v.Z)((null==(m=n.sender)?void 0:m.image_large_url)||""),z=(0,v.Z)((null==(b=n.board)?void 0:b.image_cover_url)||""),(0,h.jsx)(l.xu,{"data-test-id":"invite-item",children:(0,h.jsx)(x,{boardInviteCoverImageUrl:z,boardInviteSenderAvatarUrl:B,boardInviteSenderFullName:F,boardName:p,boardUrl:K||"",createdAtDate:P||"",handleDecline:r,isInboxRequestsSectionView:o,username:O||""})})):"collaboratorinvite"!==n.type?null:(H=null==(M=n.board_data)?void 0:M.name,W=n.created_at,Y=null==(q=n.inviter_data)?void 0:q.username,G=(null==(V=n.inviter_data)?void 0:V.full_name)||"",Q=(0,v.Z)(null==(Z=n.board_data)?void 0:Z.url),$=(0,v.Z)(null==(N=n.inviter_data)?void 0:N.image_large_url),X=(0,v.Z)(null==(J=n.board_data)?void 0:J.image_cover_url),(0,h.jsx)(l.xu,{"data-test-id":"invite-item",children:(0,h.jsx)(x,{boardInviteCoverImageUrl:X,boardInviteSenderAvatarUrl:$,boardInviteSenderFullName:G,boardName:H||"",boardUrl:Q||"",createdAtDate:W||"",handleDecline:r,isInboxRequestsSectionView:o,username:Y||""})})));return(0,h.jsx)(l.xu,{children:eS},eI)}),Z=(B=z(B)).length,N=[],J=[],H=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=K(e))){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==t.return||t.return()}finally{if(i)throw o}}}}(B);try{for(H.s();!(q=H.n()).done;){var W=q.value;"contactrequest"===W.type&&W.conversation&&!W.board?N.push(W):J.push(W)}}catch(e){H.e(e)}finally{H.f()}return!t&&Z>0?(0,h.jsxs)(l.xu,{margin:4,children:[N.length>0&&(0,h.jsxs)(l.xu,{marginBottom:8,children:[(0,h.jsx)(l.xv,{inline:!0,size:"300",children:g._('Message requests', 'mWeb.Messaging.ContactRequests.MessagingRequests', 'Section header for message requests on all requests page')}),N.map(function(e,n){return(0,h.jsx)(V,{index:n,inviteItem:e},e.id)})]}),J.length>0&&(0,h.jsxs)(l.xu,{children:[(0,h.jsx)(l.xv,{inline:!0,size:"300",children:g._('Board invites', 'mWeb.Messaging.ContactRequests.BoardInvites', 'Section header for board invites on all requests page')}),J.map(function(e,n){return(0,h.jsx)(V,{index:n,inviteItem:e},e.id)})]})]}):Z>0?(0,h.jsx)(l.xu,{margin:4,children:B.slice(0,n||Z).map(function(e,n){return(0,h.jsx)(V,{index:n,inviteItem:e},e.id)})}):null}function q(e){var n=(0,w.Z)(),t=(0,a.v9)(function(e){return e.contactRequests}),r=(0,m.Z)({name:"ContactRequestsResource",options:{current_user:!0}}).refresh;(0,f.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}});var o=Object.values(t||{}).map(function(e){return e});return(0,h.jsx)(M,T(T({},e),{},{boardInvitesList:n,contactRequestsList:o,contactRequestsResourceRefresh:r}))}},257602:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(375181),a=t(468659),o=t(201064);function l(e,n){return Date.now()-Date.parse(e.toString())>r.F4?(0,a.Z)(e,n,{month:"short",day:"numeric"}):(0,o.Z)(e,n,{hour:"numeric",minute:"numeric"})}},698673:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(581722),a=t(631042),o=t(157498);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function s(){var e=(0,o.mN)();return(0,r.v9)(function(n){var t=Object.values((0,a.Z)(n)||{});return t?t.map(function(t){var r=n.invites[t],a=n.boards[r.board];return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach(function(n){var r,a;r=n,a=t[n],(r=function(e){var n=function(e,n){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==l(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({inviter_data:e(r.invited_by_user),board_data:a},r)}):[]})}},550946:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(27399),a=t(236269),o=t(271875);function l(e,n,t,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void t(e)}i.done?n(s):Promise.resolve(s).then(r,a)}function i(){var e,n,t=(0,o.Z)().conversationCreate;return e=regeneratorRuntime.mark(function e(n){var o,l,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.Z.create("ConversationsResource",n),e.prev=1,e.next=4,l.callCreate();case 4:(i=e.sent.resource_response.data)&&(t(i),o=i),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),Error((0,a.Z)(e.t0,"message"));case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}},e,null,[[1,9]])}),n=function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(e){l(o,r,a,i,s,"next",e)}function s(e){l(o,r,a,i,s,"throw",e)}i(void 0)})},function(e){return n.apply(this,arguments)}}},40763:function(e,n,t){var r=t(501010),a=t(774838),o=t(739405);n.Z=function(e){var n=e.skipExpActivation,t=(0,r.Z)().checkExperiment,l=(0,o.HG)(),i=(0,a.B)(),s=i.isBot;return!i.isAuthenticated&&!!l&&l&&!s&&t("unauth_dweb_closeup_redesign",{dangerouslySkipActivation:void 0!==n&&n}).anyEnabled}},211731:function(e,n,t){t.d(n,{A8:function(){return A},CQ:function(){return E},Cf:function(){return w},DK:function(){return I},GJ:function(){return T},RZ:function(){return P},SD:function(){return R},aN:function(){return F},h6:function(){return S},tV:function(){return O},xx:function(){return j},yC:function(){return K},zC:function(){return x}});var r,a,o,l,i,s,u,c=t(581722),d=t(115821),f=t(27399),m=t(230201),b=t(681698);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach(function(n){var r,a;r=n,a=t[n],(r=function(e){var n=function(e,n){if("object"!=v(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==v(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _(e,n,t,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void t(e)}i.done?n(s):Promise.resolve(s).then(r,a)}function y(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function l(e){_(o,r,a,l,i,"next",e)}function i(e){_(o,r,a,l,i,"throw",e)}l(void 0)})}}function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o,l,i=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(i.push(r.value),i.length!==n);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return k(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var I=function(){var e,n=(void 0!==r||(r=t(497818)).hash&&"850c5de9834cac0edfdd5652a78bffbf"!==r.hash&&console.error("The definition of 'collab_users_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),a=h((0,d.useMutation)(n),1)[0],o=(0,m.u)().logContextEvent;return e=y(regeneratorRuntime.mark(function e(n,t,r){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={boardId:n,collaboratorIds:t,message:r||""},e.next=3,new Promise(function(e,t){a({variables:g({},l),onCompleted:function(r,a){a&&t(a[0]),o({event_type:28,object_id_str:n}),e()},onError:function(e){return t(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(n,t,r){return e.apply(this,arguments)}},x=function(){var e,n=(void 0!==a||(a=t(286796)).hash&&"de392a939a95d05f7ee889fe77a9e52d"!==a.hash&&console.error("The definition of 'collab_emails_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),r=h((0,d.useMutation)(n),1)[0],o=(0,m.u)().logContextEvent;return e=y(regeneratorRuntime.mark(function e(n,t,a){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={boardId:n,emails:t,message:a||""},e.next=3,new Promise(function(e,t){r({variables:g({},l),onCompleted:function(r,a){a&&t(a[0]),o({event_type:28,object_id_str:n}),e()},onError:function(e){return t(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(n,t,r){return e.apply(this,arguments)}},S=function(){var e,n=(void 0!==o||(o=t(917436)).hash&&"40ae8061007ba5f53a4570e43e4ca864"!==o.hash&&console.error("The definition of 'collab_ApproveInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),r=h((0,d.useMutation)(n),1)[0],a=(0,m.u)().logContextEvent;return e=y(regeneratorRuntime.mark(function e(n,t){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={boardId:n,userId:t},e.next=3,new Promise(function(e,t){r({variables:g({},o),onCompleted:function(r,o){o&&t(o[0]),a({event_type:32,object_id_str:n}),e(r)},onError:function(e){return t(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(n,t){return e.apply(this,arguments)}};function w(e,n){var t;return t=y(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.Z)({url:"/v3/boards/".concat(e,"/collaborators/requests/ownership/"),method:"POST",data:{collaborator:n}});case 2:r({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:n}});case 3:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}}function j(e,n){var t;return t=y(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.Z)({url:"/v3/boards/".concat(e,"/collaborators/requests/ownership/"),method:"DELETE",data:{collaborator:n}});case 2:r({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}});case 3:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}}var A=function(e,n){return{type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:n}}},P=function(){var e,n=(void 0!==l||(l=t(339442)).hash&&"7005ce437a6a6ff33741ab44aa02cf61"!==l.hash&&console.error("The definition of 'collab_AcceptInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),r=h((0,d.useMutation)(n),1)[0],a=(0,m.u)().logContextEvent;return e=y(regeneratorRuntime.mark(function e(n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={boardId:n},e.next=3,new Promise(function(e,o){r({variables:g({},t),onCompleted:function(t,r){r&&o(r[0]),a({event_type:32,object_id_str:n}),e(t)},onError:function(e){return o(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(n){return e.apply(this,arguments)}},R=function(e,n,t){var r;return r=y(regeneratorRuntime.mark(function r(a){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a(A(e,n)),r.next=3,f.Z.create("BoardInviteResource",{board_id:e,invited_user_id:n.id}).callUpdate();case 3:r.sent.resource_response.error||t({event_type:32,object_id_str:e});case 5:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)}};function C(e,n){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:n}}}var O=function(){var e,n=(void 0!==i||(i=t(905709)).hash&&"9aa22a7713214239538142ad2c957cc3"!==i.hash&&console.error("The definition of 'collab_RequestToJoin_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),r=h((0,d.useMutation)(n),1)[0],a=(0,c.I0)();return e=y(regeneratorRuntime.mark(function e(n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={boardId:n},e.next=3,new Promise(function(e,o){r({variables:g({},t),onCompleted:function(t,r){r&&(a(C(n,!1)),o(r[0])),a(C(n,!0)),e(t)},onError:function(e){a(C(n,!1)),o(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(n){return e.apply(this,arguments)}};function T(e,n){return function(t){(0,b.Z)({url:"/v3/boards/".concat(e,"/collaborators/invite/").concat(n,"/"),method:"DELETE",data:{board:e,user:n}}).catch(function(){t(C(e,!0))}),t(C(e,!1))}}var E=function(){var e,n=(void 0!==s||(s=t(932522)).hash&&"c62e5df78917dd238b70f366f358d487"!==s.hash&&console.error("The definition of 'collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),r=h((0,d.useMutation)(n),1)[0],a=(0,m.u)().logContextEvent;return e=y(regeneratorRuntime.mark(function e(n,t,o){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={boardId:n,userId:t,ban:o||!1},e.next=3,new Promise(function(e,t){r({variables:g({},l),onCompleted:function(r,o){o&&t(o[0]),a({event_type:29,object_id_str:n}),e(r)},onError:function(e){return t(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(n,t,r){return e.apply(this,arguments)}},F=function(){var e,n=(void 0!==u||(u=t(10028)).hash&&"2c3e1508650962adfff1171e950fa419"!==u.hash&&console.error("The definition of 'collab_RemoveBoardCollaborators_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u),r=h((0,d.useMutation)(n),1)[0],a=(0,m.u)().logContextEvent;return e=y(regeneratorRuntime.mark(function e(n,t){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={board:n,collaboratorIds:[t]},e.next=3,new Promise(function(e,t){r({variables:g({},o),onCompleted:function(r,o){o&&t(o[0]),a({event_type:29,object_id_str:n}),e(r)},onError:function(e){return t(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(n,t){return e.apply(this,arguments)}},K=function(){var e=E(),n=F();return function(t,r,a){return y(regeneratorRuntime.mark(function r(){var o,l,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=t.invited_user,l=t.status,i=t.board.id,!o){r.next=9;break}if("accepted"!==l){r.next=7;break}return r.next=5,n(i,o.id);case 5:r.next=9;break;case 7:return r.next=9,e(i,o.id,a);case 9:case"end":return r.stop()}},r)}))}}},32214:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e){var n=e.users;if(n){var t=Object.keys(n).find(function(e){return void 0!==n[e].login_state});return t?n[t]:void 0}}},631042:function(e,n,t){var r=t(366503),a=t(32214);n.Z=(0,r.createSelector)(a.Z,function(e){return e.invites},function(e,n){return Object.keys(n).reduce(function(t,r){var a=r.split(":"),o=a[0],l=a[1],i=(null==e?void 0:e.id)===l,s=n[r]&&["new","contact_request_not_approved"].includes(n[r].status);return i&&s&&(t[o]=r),t},{})})},366503:function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,n){return e===n}n.createSelector=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return function(){for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];var l=0,i=a.pop(),s=function(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n.map(function(e){return t(e)}).join(", ")+"]");return n}(a),u=e.apply(void 0,[function(){return l++,i.apply(void 0,arguments)}].concat(r)),c=function(e,n){for(var t=arguments.length,r=Array(t>2?t-2:0),a=2;a<t;a++)r[a-2]=arguments[a];var o=s.map(function(t){return t.apply(void 0,[e,n].concat(r))});return u.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}(o))};return c.resultFunc=i,c.recomputations=function(){return l},c.resetRecomputations=function(){return l=0},c}}(function(e){var n=arguments.length<=1||void 0===arguments[1]?r:arguments[1],t=null,a=null;return function(){for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return null!==t&&t.length===o.length&&o.every(function(e,r){return n(e,t[r])})||(a=e.apply(void 0,o)),t=o,a}})}}]);