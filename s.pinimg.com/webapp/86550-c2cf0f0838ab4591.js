"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["86550"],{894870:function(e,t,n){n.d(t,{q:function(){return h}});var r=n(387784),i=n(581722),o=n(653551),a=n(322830),s=n(935059),l=n(575820),c=n(966039),u=n(179664),d=n(513504);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=function(){var e=(0,o.TH)(),t=(0,s.Z)(),n=(0,i.I0)(),p=(0,u.u)(),f=p.getNuxSignals,h=p.selectedUseCases,b=p.selectedPins,y=p.shouldUseNewReducerState?f():(0,c.rQ)(h,b);return(0,r.useCallback)(function(){var r,i=t.isAuth&&t.firstHomeFeedRequestAfterNux,o=(0,a.Z)({viewerIsPartner:t.isAuth&&t.isPartner,inNux:(i&&n((0,d.H5)(!1)),i),staticFeed:!!(e&&(e.pathname.includes("pwt_performance_testing")||void 0!==(0,l.mB)(e.search).pwt_performance_testing)),inNewsHub:null!=(r=null==e?void 0:e.pathname.includes("news_hub"))&&r});return{name:"UserHomefeedResource",options:y.length>0?m(m({},o),{},{nux_signals_map:y}):o}},[n,t,e,y])}},599263:function(e,t){t.Z=64},947862:function(e,t,n){n.d(t,{P:function(){return l},Z:function(){return c}});var r=n(653551),i=n(15881),o=n(418282);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=["/","/homefeed/"];function l(){var e=(0,o.Nl)().getItem(i.Qt);return e&&"object"===a(e)&&"time"in e&&"scrollPosition"in e?e:null}function c(){var e=(0,r.TH)().pathname,t=(0,r.ur)();if(s.includes(e)&&"POP"!==t){var n=l(),i=null!=n&&n.time?Date.now()-n.time:0;return{shouldMaintainHomefeed:i>0&&i/6e4<2.5,lastHFScrollPosition:null==n?void 0:n.scrollPosition}}return{shouldMaintainHomefeed:!1}}},671121:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(27399);function i(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)})}}function a(e,t){return s.apply(this,arguments)}function s(){return(s=o(regeneratorRuntime.mark(function e(t,n){var i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){var e=o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:n._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}},e.abrupt("return",r.Z.create("BoardResource",t).callCreate());case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.next=3,i();case 3:return a=e.sent.resource_response.data,s=function(){var e=o(regeneratorRuntime.mark(function e(n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.Z.create("RepinResource",{board_id:n,description:t.description||"",is_removable:null!=(i=t.promotedIsRemovable)?i:void 0,link:t.link,pin_id:t.entityId||"",title:t.title||""}).callCreate({showError:!1}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.next=8,s(a.id);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}},945419:function(e,t,n){n.d(t,{$H:function(){return i},AG:function(){return a},M5:function(){return s},W5:function(){return l},_Y:function(){return o},mH:function(){return c}});var r=n(20256),i=16,o=137,a=103,s="rgba(17,17,17,0.4)",l=new r.Ry(1),c=function(){return 5}},59355:function(e,t,n){n.d(t,{Q:function(){return d},Z:function(){return p}});var r=n(387784),i=n(104999),o=n(746868),a=n(730056),s=n(774838);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){var n=(0,o.A$)().setViewContextData,l=(0,s.B)().requestIdentifier,c=(0,i.Z)(),d=(0,o.SU)().viewData;(0,r.useEffect)(function(){if(e){var t;n({viewType:null!=(t=e.view_type)?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c(u(u({},e),{},{event_type:13,request_identifier:l}))}},[t])}function p(e){var t=e.children;return d(e.log),t||null}},271875:function(e,t,n){n.d(t,{k:function(){return i}});var r=(0,n(213491).Z)("Conversations"),i=r.Provider;t.Z=r.get},178131:function(e,t,n){var r,i=n(230201),o=n(767415);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){var r;return(r=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==a(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(s(r={},13,function(e){return!!e.view_parameter}),s(r,9105,function(e){return!!e.view_parameter}),s(r,9104,function(e){return!!e.view_parameter}),s(r,10357,function(e){return!!e.view_parameter}),s(r,10358,function(e){return!!e.view_parameter}),s(r,10359,function(e){return!!e.view_parameter}),s(r,10360,function(e){return!!e.view_parameter}),s(r,15748,function(e){return!!e.view_parameter}),s(r,110,function(e){return!!e.view_parameter}),s(r,16248,function(e){return!!e.view_parameter}),s(r,16677,function(e){return!!e.view_parameter}),s(r,10484,function(e){return!!e.view_parameter}),s(r,16678,function(e){return!!e.view_parameter}),s(r,102,function(e){return!!e.element&&!!e.view_parameter}),s(r,101,function(e){return!!e.element&&!!e.view_parameter}),s(r,15749,function(e){return!!e.element&&!!e.view_parameter}),s(r,8721,function(e){return!!e.element&&!!e.view_parameter}),s(r,8722,function(e){return!!e.element&&!!e.view_parameter}),s(r,120,function(e){return!!e.element&&!!e.view_parameter}),s(r,4104,function(e){return!!e.view_parameter&&!e.element}),s(r,4105,function(e){return!!e.view_parameter&&!e.element}),s(r,8900,function(e){return!!e.view_parameter&&!e.element}),s(r,16480,function(e){return!!e.view_parameter&&!e.element}),s(r,9626,function(e){return!!e.view_parameter&&!e.element}),s(r,9625,function(e){return!!e.view_parameter&&!e.element}),s(r,46,function(e){return!!e.view_parameter&&!e.element}),s(r,45,function(e){return!!e.view_parameter&&!e.element}),r),c=[96,34,241,1030,1151,1150,136,11906,124,240,12772,30,13,15950,14572,14573,14574,14575,14576,15900,43],u=[259,3120,3139,172,3596,3542,261,171,260,4052,4053],d=function(e){var t,n=e.event_type,r=e.element,i=e.view_parameter;return Object.keys(l).includes("".concat(n))&&(!r||c.includes(r))&&(!i||u.includes(i))?(null==(t=l[n])?void 0:t.call(l,e))?-1===[213,24,260].indexOf(e.view_type||0)?{code:"missing_view_type",message:"Please provide a valid ViewType for Nux Events."}:null:{code:"invalid_param_combinations",message:"Please provide valid param combinations for Nux events. Refer to NuxParams type."}:{code:"invalid_param_types",message:"Please provide valid parameter types for Nux events. Refer to NuxParams type."}};t.Z=function(){var e=(0,i.u)().logContextEvent;return function(t){var n=t.event_type,r=t.element,i=t.view_parameter,a=t.component,s=t.view_type,l=t.aux_data,c=t.object_id_str,u=d(t);if(u){console.error(u.message),(0,o.nP)("webapp.track_nux_invalid_parameters",{sampleRate:1,tags:{code:u.code,component:a,event_type:n,element:r,view_type:s,view_parameter:i}});return}e({component:a,event_type:n,element:r,view_parameter:i,view_type:s,aux_data:l,object_id_str:c})}}},404305:function(e,t,n){n.d(t,{Z:function(){return t_}});var r=n(387784),i=n(653551),o=n(20256),a=n(581722),s=n(894870),l=function(){var e=window,t=document,n="addEventListener",r="load";function i(){var e,n=t.createElement("script");n.async=!0,n.src="//radar.cedexis.com/1/14290/radar.js",null==(e=t.body)||e.appendChild(n)}(function(){for(var e=[/\bMSIE (5|6)/i],t=e.length;t--;)if(e[t].test(navigator.userAgent))return!1;return!0})()&&("complete"!==t.readyState?(n=e[n])?n(r,i,!1):(n=e.attachEvent)&&n("on"+r,i):i())},c=n(891305),u=n(599263),d=n(2171),p=n(947862),f=n(45350),m=n(945419),h=n(671121),b=n(4533),y=n(15881),v=n(939559),_=n(375181),g=n(470205),w=n(367683),x=n(581909),j=n(926743),P=n(261954),S=n(539679),O=n(924591),E=n(935059),I=n(806513),C=n(400962),T=n(24246),k=n(433069),A=n(59111),Z=n(216975),D=n(149238),R=n(31725),B=n(572840),N=n(325705),U=n(501010),F=n(504644),z=n(906127),H=n(774838),L=n(661376),M=n(825605),W=n(34550),q=n(418282),Y=n(730448),Q=n(112658),V=n(736328),G=n(732012),J=n(577356),X=n(575820),K=n(893957),$=n(309266),ee=n(31863),et=n(919203),en=n(49254),er=n(726425),ei=n(818906),eo=n(490515),ea=n(285676),es=n(241028),el=n(604100),ec=n(228612),eu=n(767415),ed=n(354139),ep=n(177433),ef=n(9065),em=n(680811);function eh(e){return(eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e){return function(e){if(Array.isArray(e))return ey(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ey(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ey(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(n),!0).forEach(function(t){eP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eg(e,t){return(eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ew(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ex(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ex=function(){return!!e})()}function ej(e){return(ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eP(e,t,n){return(t=eS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eS(e){var t=function(e,t){if("object"!=eh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eh(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eh(t)?t:t+""}var eO=(0,ef.Z)(function(){return n.e("63815").then(n.bind(n,870068))},void 0,function(e){return 870068},"MoreIdeasTabsNavCommon",function(e){return ["63815"]}),eE=(0,ef.Z)(function(){return n.e("58580").then(n.bind(n,604404))},{ssr:!1},function(e){return 604404},void 0,void 0),eI=(0,ef.Z)(function(){return n.e("33689").then(n.bind(n,419450))},{ssr:!1},function(e){return 419450},void 0,void 0),eC=(0,ef.Z)(function(){return Promise.all([n.e("82485"),n.e("77153")]).then(n.bind(n,179007))},{ssr:!1},function(e){return 179007},void 0,void 0),eT=(0,ef.Z)(function(){return n.e("48205").then(n.bind(n,538049))},{ssr:!1},function(e){return 538049},void 0,void 0),ek=(0,r.lazy)(function(){return n.e("33629").then(n.bind(n,282842))}),eA=(0,r.lazy)(function(){return n.e("81665").then(n.bind(n,993674))}),eZ=(0,r.lazy)(function(){return n.e("77846").then(n.bind(n,5480))}),eD=(0,ef.Z)(function(){return n.e("29960").then(n.bind(n,400018))},void 0,function(e){return 400018},"app-www-EUPrompt-EUPromptModal",function(e){return ["29960"]}),eR=(0,ef.Z)(function(){return n.e("94833").then(n.bind(n,681962))},void 0,function(e){return 681962},"app-packages-StructuredFeed-Feed-StructuredFeed",function(e){return ["94833"]}),eB=(0,ef.Z)(function(){return Promise.all([n.e("70454"),n.e("57907")]).then(n.bind(n,884882))},void 0,function(e){return 884882},"app-common-react-components-save-board-BoardMoreIdeasTabContentResourceWrapper",function(e){return ["70454","57907"]}),eN=(0,r.lazy)(function(){return n.e("79021").then(n.bind(n,504636))}),eU=(0,ef.Z)(function(){return n.e("24561").then(n.bind(n,548782))},void 0,function(e){return 548782},"app-www-discover-Bubbles-BubblesGridRep",function(e){return ["24561"]}),eF=(0,ef.Z)(function(){return n.e("42008").then(n.bind(n,779057))},{fallback:(0,em.jsx)(o.xu,{height:1})},function(e){return 779057},"app-common-react-components-SummaryCard-Story-StoryCard",function(e){return ["42008"]}),ez=(0,ef.Z)(function(){return n.e("45805").then(n.bind(n,267288))},void 0,function(e){return 267288},"app-www-FeedItemPinRepWrapper",function(e){return ["45805"]}),eH=(0,r.createRef)(),eL=function(e){var t=document.createElement("link"),n=document.querySelector("link[rel='icon']")||document.getElementById("dynamic-favicon");if(t.id="dynamic-favicon",t.rel="shortcut icon",t.type="image/x-icon",t.href=e,document.head){if(n){if(n instanceof HTMLLinkElement&&n.href===e)return;document.head.removeChild(n)}document.head.appendChild(t)}},eM=function(e,t){return(e||[]).slice(0,t).map(function(e){return e.id})},eW=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&eg(a,e);var t,n,i=(t=ex(),function(){var e,n=ej(a);return e=t?Reflect.construct(n,arguments,ej(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eh(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ew(e)}(this,e)});function a(){var e;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return eP(ew(e=i.call.apply(i,[this].concat(n))),"state",{hasScrolled:!1,hideTabs:!1,refreshReason:null,isRefreshing:!1,showYipModal:!1}),eP(ew(e),"refreshData",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",n=e.props.refreshData;e.setState({refreshReason:t,isRefreshing:!0},function(){n()})}),eP(ew(e),"handleScroll",(0,Y.Z)(function(){var t=e.state.hasScrolled,n=e.props,r=n.experience,i=n.lastScrollYRef,o=window.scrollY,a=i.current;o<50?e.setState({hideTabs:!1}):Math.abs(o-a)>20&&(requestAnimationFrame(function(){a>o?e.setState({hideTabs:!1}):a<o&&e.setState({hideTabs:!0})}),i.current=o),r&&502535===r.experience_id&&!t&&e.setState({hasScrolled:!0})},10)),eP(ew(e),"onWindowFocus",function(){e.windowBlurStart>-1&&Date.now()-e.windowBlurStart>6e5&&e.refreshData("MORE_THAN_10_MINUTES"),e.windowBlurStart=-1,e.clearFaviconNotification()}),eP(ew(e),"onWindowBlur",function(){e.windowBlurStart=Date.now(),e.prepareForFaviconUpdate()}),eP(ew(e),"onInstallPrompt",function(t){e.installPromptEvent=t,e.setState({pwaUpsellBannerEligibility:e.getpwaUpsellBannerEligibility()})}),eP(ew(e),"clearFaviconNotification",function(){e.faviconUpdateTimeout&&(clearTimeout(e.faviconUpdateTimeout),e.faviconUpdateTimeout=null),eL("https://s.pinimg.com/webapp/favicon_48x48-7470a30d.png")}),eP(ew(e),"prepareForFaviconUpdate",function(){e.faviconUpdateTimeout=setTimeout(function(){var e=W.ZP.getItem(b.jz);(!e||new Date().getTime()-e>=_.F4)&&(eL("https://s.pinimg.com/webapp/favicon-notification_48x48-caeeb45a.png"),W.ZP.setItem(b.jz,new Date().getTime()))},6e5)}),eP(ew(e),"windowBlurStart",-1),eP(ew(e),"faviconUpdateTimeout",null),eP(ew(e),"loadItems",function(){var t=e.props,n=t.dataIsFetching,r=t.feedLimit,i=t.fetchMoreData,o=t.homefeedData||[];if(r&&o.length>r){e.props.setFeedLoading&&e.props.setFeedLoading(!1);return}!n&&o.length>0&&i()}),eP(ew(e),"installPromptEvent",null),eP(ew(e),"getColumnSpanConfig",function(t){var n,r="recently_viewed"===t.story_type&&e.props.checkExperiment("web_recently_viewed_responsive").anyEnabled;if((0,I.Cw)(t)){var i,o,a,s,l,c,u=null==(c=e.props.homefeedData)?void 0:c[0],d=t.id===u.id,p=(0,I.GZ)(t);return p.width===p.height?{sm:2,md:2,lg:2,xl:2}:{sm:2,md:2,lg:d?3:2,xl:3}}if((null==(i=t.display_options)||null==(o=i.item_view_rep_style)?void 0:o.explore_article_rep_style)===10||r)return{sm:2,md:3,lg:3,xl:4};if("story"===t.type&&"featured_boards"===t.story_type){var f,m=(null==t||null==(f=t.objects)?void 0:f.length)||0;return{sm:2,md:2,lg:Math.min(3,m),xl:Math.min(4,m)}}return"story"===t.type&&null!=t&&null!=(a=t.display_options)&&null!=(s=a.content_display)&&null!=(l=s.grid_layout)&&l.cols?t.display_options.content_display.grid_layout.cols:null!=(n=t.columnSpan)?n:1}),eP(ew(e),"getpwaUpsellBannerEligibility",function(){var t=e.props.requestContext,n=e.state.pwaUpsellBannerEligibility;if(!(0,F.So)(window)&&t&&!n&&window.navigator.userAgent){if(window.navigator.userAgent.includes("Windows NT 10.0"))return"windows";else if(e.installPromptEvent)return"chrome"}return"notEligible"}),eP(ew(e),"handleInstallWindowsPWA",function(t){t(),(0,eu.nP)("windows.web.upsell.completed"),e.setState({pwaUpsellBannerEligibility:"notEligible"})}),eP(ew(e),"handleInstallChromePWA",function(t){t(),(0,eu.nP)("chrome.web.upsell.completed"),e.setState({pwaUpsellBannerEligibility:"notEligible"})}),eP(ew(e),"handleDismissChromePWAUpsell",function(t){t(),(0,eu.nP)("chrome.web.upsell.dismissed"),e.setState({pwaUpsellBannerEligibility:"notEligible"})}),eP(ew(e),"renderItem",function(t){var n,r,i,o=t.data,a=t.itemIdx,s=e.props,l=s.homefeedData,u=s.lfvExperiences,d=s.location,p=s.isDwebScrollPinToTopOnTapExpEnabled;if(!o||!o.type)return console.error("Invalid data received. ",a,o),null;var f=null==l||null==(n=l.find(function(e){return"home_feed_tabs"===e.type}))?void 0:n.tabs,m=(0,X.mB)(d.search),h=m.boardId,b=m.holidayFinds,y=f?e.getCurrentTabIndex(d,h,b,f):er.e,v=y>=1&&(null==(r=f[y-1])?void 0:r.tab_type)==="pinterest_picks",_=!!v&&(null==(i=f[y-1])?void 0:i.action.quick_save_icon)===1,g=v&&_;switch(o.type){case"pin":var w=!!u&&!!(0,D.Z)(u),x=(0,em.jsx)(ea.Z,{duploQueryRef:null,imageOnlyOption:w?"image-only":"default",pinId:o.id,saveButtonOptions:g?{savedInfo:{boardId:void 0,pinId:o.id,title:void 0,url:void 0},type:"inline"}:void 0,shouldWrapOnProfiler:!0,slotIndex:a,surface:"AuthHomefeed",trackingParams:o.tracking_params,viewParameter:g?4055:92,viewType:1});if(p)return(0,em.jsx)(ez,{children:x});return x;case"story":var j=o.story_type;if((0,eu.nP)("web_story_card_type",{sampleRate:1,tags:{story_type:j||"unknown",surface:"homefeed"}}),"BUBBLE_ONE_COL"===j)return(0,em.jsx)(eU,{bubbles:o.objects,id:o.id,referringSource:o.referring_source,slotIndex:a,storyType:j,title:o.title,viewParameter:92,viewType:1});if("featured_boards"===j)return(0,em.jsx)(c.default,{slotIndex:a,story:o,surface:"AuthHomefeed",viewParameter:92,viewType:1});return(0,em.jsx)(eF,{component:g?14769:void 0,itemIdx:a,saveButtonOptions:g?{savedInfo:{boardId:void 0,pinId:o.id,title:void 0,url:void 0},type:"inline"}:void 0,story:o,surface:"AuthHomefeed",viewParameter:g?4055:92,viewType:1});default:return null}}),e}return n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.checkExperiment,r=t.experienceClient,i=t.navigate,o=t.location,a=t.mountWebRepinPlacement,s=t.toastManagerContext;r.triggerExperimentsForPlacement(1000116),n("web_disable_cedexis_sampling").anyEnabled||l();var c=(0,X.mB)(o.search);if(c.show_error){var u=!1;n("ps_blocking_profile_visibility",{dangerouslySkipActivation:!0}).anyEnabled&&(u="board"===c.from),u?s.showOneToast(function(t){var n=t.hideToast;return(0,em.jsx)(O.Z,{duration:5e3,onHide:n,text:e.props.i18n._('Board not found.', 'home.boardError', 'Generic error message for board errors')})}):s.showOneToast(function(t){var n=t.hideToast;return(0,em.jsx)(O.Z,{duration:5e3,onHide:n,text:e.props.i18n._('We can\u2019t find that idea! Try searching for one just like it.', ' - ', ' -- ')})})}else o.state&&"/pin-builder/"===o.state.from?o.state.boardName&&o.state.imageUrl&&this.handlePinSuccessPinBuilder():(0,X.mB)(o.search).show_yip_modal&&(i("/homefeed/",{replace:!0}),this.setState({showYipModal:!0}));window.addEventListener("focus",this.onWindowFocus),window.addEventListener("blur",this.onWindowBlur),window.addEventListener("beforeinstallprompt",this.onInstallPrompt),document.addEventListener("scroll",this.handleScroll),a()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.dataIsFetching,r=t.navigationType,i=t.homefeedData,o=this.state.refreshReason,a=e.dataIsFetching,s=e.homefeedData;if(i&&s&&a&&!n&&i.length<=s.length){var l=eM(i,10),c=eM(s,10);this.logRefreshStats(o||("POP"!==r?"ROUTE_CHANGE":"UNKNOWN"),JSON.stringify(c)===JSON.stringify(l)),this.setState({isRefreshing:!1,refreshReason:null})}}},{key:"logRefreshStats",value:function(e,t){var n=this.props,r=n.currentHistoryStack,i=n.requestContext,o={appType:"web",language:i.language||"unknown",locale:i.locale||"unknown",refreshReason:e},a=(0,p.P)(),s=null!=a&&a.time?new Date(a.time):null,l=r&&r.length>1?r[r.length-2]:{};B.default.logToServer(B.default.SERVER_LOG_TYPE.HF_REFRESH,B.default.HTTP_METHOD.POST,{refreshReason:e,lastRoute:l.match,timeSinceHomefeed:s?Date.now()-s.getTime():null,timeSinceBlur:this.windowBlurStart?Date.now()-this.windowBlurStart:null}),(0,eu.nP)("home_product.homefeed.refresh",{sampleRate:1,tags:o}),t&&(0,eu.nP)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:o})}},{key:"componentWillUnmount",value:function(){var e=this.props.unmountWebRepinPlacement;window.removeEventListener("focus",this.onWindowFocus),window.removeEventListener("blur",this.onWindowBlur),window.removeEventListener("beforeinstallprompt",this.onInstallPrompt),(0,q.Nl)().setItem(y.Qt,{time:Date.now(),scrollPosition:[window.scrollX,window.scrollY]}),document.removeEventListener("scroll",this.handleScroll),e()}},{key:"isHomefeed",get:function(){var e=this.props,t=e.inLocalNavigation,n=e.location,r=(0,X.mB)(n.search);return!(r&&"string"==typeof r.boardId&&r.boardId)||!!t}},{key:"handlePinSuccessPinBuilder",value:function(){var e=this.props,t=e.location,n=e.toastManagerContext,r=(t.state||{}).boardName,i=(t.state||{}).imageUrl,a=(0,Z.nk)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:(0,em.jsx)(o.xv,{inline:!0,lineClamp:1,size:"200",weight:"bold",children:r},r)});n.showOneToast(function(e){var t=e.hideToast;return(0,em.jsx)(O.Z,{duration:5e3,imageUrl:i,onHide:t,text:(0,em.jsx)(o.xv,{children:a},"toast_".concat(r))})})}},{key:"getCurrentTabIndex",value:function(e,t,n,r){return n||"/homefeed/holiday_finds/"===e.pathname?r.findIndex(function(e){return"pinterest_picks"===e.tab_type})+1:t?r.findIndex(function(e){return(null==e?void 0:e.id)===t})+1:er.e}},{key:"render",value:function(){var e,t=this,n=this.state,i=n.hasScrolled,a=n.hideTabs,s=n.isRefreshing,l=n.pwaUpsellBannerEligibility,c=n.showYipModal,d=this.props,p=d.checkExperiment,h=d.dataIsFetching,b=d.dataIsRefreshing,y=d.headerHeight,_=d.homefeedData,x=d.isPinRepOptimizationExpEnabled,j=d.i18n,O=d.inLocalNavigation,E=d.location,C=d.requestContext,T=d.viewer,k=d.enableExperienceSession,Z=d.experienceSessionEndOnSurfaceChange,D=_||[],R=D[0],B=!!R&&"story"===R.type&&["board_more_ideas","boards_more_ideas_feed_upsell_list_cards","boards_more_ideas_feed_upsell_list_cards_square"].includes(R.story_type);B&&R.objects&&(R.objects=R.objects.filter(function(e){return(null==e?void 0:e.images)&&"70x"in e.images&&"170x"in e.images}));var N=B?D.slice(1):D,U=E&&E.pathname.includes("news_hub"),F=O?null==(e=N.find(function(e){return"home_feed_tabs"===e.type}))?void 0:e.tabs:void 0,H=(0,X.mB)(E.search),L=H.boardId,W=H.holidayFinds,q=F?this.getCurrentTabIndex(E,L,W,F):er.e,Y=p("dweb_eu_personalized_ads_prompt").anyEnabled;return(0,em.jsxs)(r.Fragment,{children:[(0,em.jsx)(w.a3,{customExperienceSession:!0,eligibleIds:[505801],enableExperienceSession:k,placementId:11,sessionEndOnSurfaceChange:Z,children:function(e){var t=e.complete;return(0,em.jsx)(M.Z,{children:(0,em.jsx)(eN,{complete:t})})}}),(0,em.jsx)(w.a3,{customExperienceSession:!0,eligibleIds:[504943,505226],enableExperienceSession:k,placementId:11,sessionEndOnSurfaceChange:Z,children:function(e){var t=e.complete,n=e.dismiss,r=e.experience.display_data,i=!("is_blocking"in r)||!!r.is_blocking,o=r.message_blocking;return i||(o=r.message_dismissible),(0,em.jsx)(eI,{complete:t,dismiss:n,isBlockingModal:i,modalDescription:o})}}),(0,em.jsx)(w.a3,{eligibleIds:[507661],placementId:11,children:function(e){var t=e.dismiss,n=e.experience.display_data;return(0,em.jsx)(eC,{displayData:n,onDismiss:t})}}),Y&&(0,em.jsx)(w.a3,{eligibleIds:[507007],placementId:11,children:function(e){var t=e.complete,n=e.dismiss,r=e.experience.display_data;return(0,em.jsx)(eD,{complete:t,dismiss:n,displayData:r})}}),(0,em.jsx)(w.a3,{customExperienceSession:!0,eligibleIds:[505111],enableExperienceSession:k,placementId:11,sessionEndOnSurfaceChange:Z,children:function(e){var t=e.complete,n=e.dismiss;return(0,em.jsx)(r.Suspense,{children:(0,em.jsx)(eZ,{complete:t,dismiss:n})})}}),(0,em.jsx)(w.a3,{eligibleIds:[507924],placementId:11,children:function(e){var t=e.complete,n=e.dismiss;return(0,em.jsx)(eT,{onComplete:t,onDismiss:n})}}),"windows"===l&&(0,em.jsx)(w.a3,{eligibleIds:[501123],placementId:11,children:function(e){var n=e.complete;return(0,em.jsx)(r.Suspense,{children:(0,em.jsx)(eA,{handleComplete:function(){return t.handleInstallWindowsPWA(n)},language:C.language||"",locale:C.locale||""})})}}),"chrome"===l&&(0,em.jsx)(w.a3,{eligibleIds:[500999],placementId:11,children:function(e){var n=e.complete,r=e.dismiss;return(0,em.jsx)(G.Z,{completeButtonText:j._('Get the app', 'Confirm button to install Chrome PWA', 'Confirm button to install Chrome PWA'),dismissButtonText:j._('Not now', 'Dismiss button for Chrome PWA upsell banner', 'Dismiss button for Chrome PWA upsell banner'),message:j._('Get our Chrome app for faster searching and saving', 'Text for banner to install Chrome PWA', 'Text for banner to install Chrome PWA'),onComplete:function(){return t.handleInstallChromePWA(n)},onDismiss:function(){return t.handleDismissChromePWAUpsell(r)}})}}),i&&(0,em.jsx)(w.a3,{customExperienceSession:!0,eligibleIds:[502535],enableExperienceSession:k,placementId:11,sessionEndOnSurfaceChange:Z,children:function(e){var t=e.complete,n=e.dismiss;return(0,em.jsx)(r.Suspense,{children:(0,em.jsx)(ek,{handleComplete:t,handleDismiss:n})})}}),c&&(0,em.jsx)(g.Z,{name:"SafeSuspense_AuthHomefeed_YearInPreview",children:(0,em.jsx)(eE,{onModalDismiss:function(){t.setState({showYipModal:!1})}})}),(0,em.jsx)(Q.Z,{view:1,viewParameter:92,children:(0,em.jsxs)(r.Fragment,{children:[T.isAuth&&T.isPartner&&!U&&(0,em.jsx)(g.Z,{name:"SafeSuspense_AuthHomefeed_MoreIdeas",children:(0,em.jsx)(o.Le,{top:y,zIndex:new o.Ry(2*!!this.isHomefeed),children:(0,em.jsx)(o.xu,{"data-root-margin":"more-ideas-tabs",height:u.Z,children:(0,em.jsx)(eO,{fallback:(0,em.jsx)(o.xu,{height:u.Z}),hideTabs:a,nonFixed:!0})})})}),this.isHomefeed&&(0,em.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:I.$H}},"data-test-id":"homefeed-feed",children:[(0,em.jsx)(et.Z,{text:this.props.i18n._('Home', 'text for accessibility hidden heading', 'text for accessibility hidden heading')}),(b||s)&&(0,em.jsx)(o.xu,{paddingY:6,children:(0,em.jsx)(o.xH,{accessibilityLabel:this.props.i18n._('Refreshing homefeed', 'Authhomefeed.refreshSpinner', 'spinner for refreshing homefeed'),show:!0})}),B&&(0,em.jsx)(o.xu,{marginBottom:2,marginTop:4,children:(0,em.jsxs)("div",{className:"gridCentered",children:[(0,em.jsx)(A.Z,{unsafeCSS:(0,S.Z)({gutterWidth:0,isRTL:!1,itemWidth:I.yF+I.ZZ,maxColumns:N.length,minColumns:I.yc})}),(0,em.jsx)(eR,{disableLastGutter:!0,fallback:(0,em.jsx)(o.xu,{height:142}),feed:[R],view:1,viewParameter:92})]})}),!!(null!=F&&F.length)&&T.isAuth&&!T.isPartner&&(0,em.jsx)(ee.Z,{dataLayoutShiftBoundaryId:"TabsContentHeader",position:"sticky",shouldShowShadow:!0,stickyZIndex:new o.H3(this.isHomefeed?[new o.Ry(5)]:[new o.Ry(6)]),style:{width:"100%",backgroundColor:"#ffffff",transform:a?"translateY(-100%)":"translateY(0)",transition:"all 0.3s ease-in-out"},children:(0,em.jsx)(o.xu,{"data-root-margin":"more-ideas-tabs",marginBottom:4*(q===er.e),marginEnd:(0,m.mH)(),marginStart:(0,m.mH)(),overflow:"visible",children:(0,em.jsx)(eO,{boards:F,currentTabIndex:q,hideTabs:a,inLocalNavigation:O,nonFixed:!0})})}),!!(null!=F&&F.length)&&!!q&&"pinterest_picks"!==F[q-1].tab_type&&(0,em.jsx)(eB,{inLocalNavigation:O,tabBoard:F[q-1]}),q===er.e&&(0,em.jsxs)(r.Fragment,{children:[(0,em.jsx)(z.Z,{includeBackgroundImages:!0,includeVideos:!0,isAtEndOfFeed:this.props.dataIsAtEnd,isPlaceholderGrid:h&&!N.length,itemCount:N.length,pinData:N,children:(0,em.jsx)(f.Z,{id:"AuthHomefeedMasonry",children:(0,em.jsx)(P.default,{cacheKey:"homefeed",getColumnSpanConfig:x?this.getColumnSpanConfig:function(e){return t.getColumnSpanConfig(e)},isFetching:h,isLoadedAccessibilityLabel:N.length>0?this.props.i18n._('More Pins loaded for homefeed', 'authhomefeed.masonry.paginationLoaded', 'More Pins loaded for homefeed'):this.props.i18n._('Loaded homefeed', 'authhomefeed.masonry.loaded', 'Pins have loaded for homefeed'),isLoadingAccessibilityLabel:N.length>0?this.props.i18n._('Loading more Pins for homefeed', 'authhomefeed.masonry.paginationLoading', 'Loading more Pins for homefeed'):this.props.i18n._('Loading homefeed', 'authhomefeed.masonry.loading', 'Loading homefeed'),isLoadingStateEnabled:!0,items:N,loadItems:this.loadItems,masonryRef:eH,renderItem:this.renderItem})})}),N.length>0&&(0,em.jsx)(v.Z,{surface:"homefeed"})]}),(0,em.jsx)(w.O9,{placementId:11})]})]})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eS(r.key),r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);function eq(e){var t=(0,T.Z)(),n=(0,a.I0)(),o=(0,r.useRef)(0),s=(0,i.TH)(),l=(0,E.Z)(),c=(0,H.B)(),u=(0,V.Z)(),f=(0,ec.JC)(),m=(0,eo.R)(),y=(0,ei.Z)(),v=y.pins,_=y.clear,g=(0,J.dI)(),P=(0,w.Sc)(),S=P.mountPlacement,O=P.unmountPlacement,I=(0,U.Z)().checkExperiment,k=(0,C.aX)(),A=(0,j.Z)(),Z=(0,i.s0)(),D=(0,i.ur)(),B=(0,$.Z)(),F=(0,p.Z)().shouldMaintainHomefeed,z=(0,en.t)(),M=(0,L.Z)(e_(e_({},e.homefeedResourceConfig),{},{enabledRouteRefresh:!F})),q=M.isAtEnd,Y=M.isFetching,Q=M.isRefreshing,G=M.fetchMore,X=M.data,ee=M.refresh,et=I("hfp_local_nav_tabs_web").anyEnabled,er=(0,d.Z)();(0,K.Z)(function(){var e=X||[];if(l.isAuth&&!l.isPartner&&(0,R.Z)(l.createdAt)&&e.length>0&&1){var r=W.ZP.getItem(b.M8);if(r||v.length>0){var i=[].concat(eb(v),eb(r?[{id:r}]:[]));setTimeout(function(){i.forEach(function(e){var r=e.id,i=e.nodeId;(0,h.Z)({description:"",entityId:r,link:"",promotedIsRemovable:void 0,title:""},t).then(function(e){var t=e.id,o=e.url,a=e.name;n((0,es.d)({boardId:t,url:o,title:a||"",pinId:r||"",nodeId:i}))})}),u({action:"trigger",item:"unauth-save-button-quicksave"}),n((0,el.Z)(!0)),W.ZP.removeItem(b.M8),_()},1500)}}});var ea=(0,r.useCallback)(function(){return S(1000294,{})},[S]),eu=(0,r.useCallback)(function(){return O(1000294)},[O]);(0,N.Z)(s,g.showToast,t);var ed=(0,x.jQ)(11),ep=ed.enableExperienceSession,ef=ed.endOnSurfaceChange,eh=I("dweb_scroll_pin_to_top_on_tap").anyEnabled;return(0,em.jsx)(r.Fragment,{children:(0,em.jsx)(eW,e_(e_({},e),{},{checkExperiment:I,currentHistoryStack:k,dataIsAtEnd:q,dataIsFetching:Y,dataIsRefreshing:Q,dispatch:n,enableExperienceSession:ep,experienceClient:A,experienceSessionEndOnSurfaceChange:ef,fetchMoreData:G,headerHeight:z,homefeedData:X,i18n:t,inLocalNavigation:et,isDwebScrollPinToTopOnTapExpEnabled:eh,isPinRepOptimizationExpEnabled:er,lastScrollYRef:o,lfvExperiences:B,location:s,mostRecentPLP:m.id?f[m.id]:null,mountWebRepinPlacement:ea,navigate:Z,navigationType:D,refreshData:ee,requestContext:c,toastManagerContext:g,unmountWebRepinPlacement:eu,viewer:l}))})}function eY(e){var t=(0,s.q)(),n=(0,r.useMemo)(function(){return t()},[t]),i=(0,ed.DB)(),o=(0,ep.Zv)(),a=(0,k.b)(),l=(0,H.B)();return(0,r.useEffect)(function(){a&&(0,eu.LY)("earlyHydrationDebug.authHomefeed.mount",performance.now(),{tags:(0,ed.M3)({earlyHydrationConfig:i,handlerId:o,requestContext:l})})},[]),(0,em.jsx)(f.Z,{id:"AuthHomefeed",children:(0,em.jsx)(eq,e_(e_({},e),{},{homefeedResourceConfig:n}))})}var eQ=function(){return(0,em.jsxs)(r.Fragment,{children:[(0,em.jsx)(w.RK,{placementId:11}),(0,em.jsx)(w.k6,{placementId:1000503}),(0,em.jsx)(w.H6,{placementId:1000541})]})},eV=n(465784);function eG(e){var t=e.onDismiss,n=e.onComplete,r=e.titleText,i=e.detailedText,a=e.dismissButtonText,s=e.completeButtonText,l=(0,T.Z)();return(0,em.jsx)(eV.ZP,{accessibilityModalLabel:i,closeOnOutsideClick:!1,onDismiss:t,size:"sm",children:(0,em.jsx)(o.xu,{direction:"column",display:"flex",flex:"grow",position:"relative",width:"100%",children:(0,em.jsxs)(o.xu,{marginTop:2,children:[(0,em.jsx)(o.xu,{display:"flex",justifyContent:"center",marginTop:10,children:(0,em.jsx)(o.JO,{accessibilityLabel:l._('Pinterest logo icon', 'Pinterest logo icon', 'Pinterest logo icon'),color:"brandPrimary",icon:"pinterest",size:40})}),(0,em.jsx)(o.xu,{marginEnd:3,marginStart:3,marginTop:6,overflow:"hidden",rounding:2,children:(0,em.jsxs)(o.xu,{color:"default",paddingX:4,paddingY:2,children:[(0,em.jsx)(o.kC,{alignItems:"start",justifyContent:"between",children:(0,em.jsxs)(o.xu,{flex:"grow",children:[(0,em.jsx)(o.X6,{align:"center",size:"600",children:r}),(0,em.jsx)(o.xu,{paddingY:4,children:(0,em.jsxs)(o.xv,{align:"center",children:[" ",i," "]})})]})}),(0,em.jsx)(o.xu,{display:"flex",justifyContent:"end",marginBottom:12,marginTop:8,children:(0,em.jsxs)(o.kC,{gap:{row:2,column:0},justifyContent:"end",children:[(0,em.jsx)(o.zx,{color:"gray",onClick:t,size:"lg",text:a}),(0,em.jsx)(o.zx,{color:"red",onClick:n,size:"lg",text:s})]})})]})})]})})})}function eJ(e){var t=e.onComplete,n=e.onDismiss,i=e.titleText,o=e.detailedText,a=e.dismissButtonText,s=e.completeButtonText;return(0,em.jsx)(r.Fragment,{children:(0,em.jsx)(eG,{completeButtonText:s,detailedText:o,dismissButtonText:a,onComplete:t,onDismiss:n,titleText:i})})}var eX=function(e){var t=e.placementId,n=e.experience;return n&&n.display_data?(0,em.jsx)(w.a3,{eligibleIds:[503750],placementId:t,children:function(e){var t=e.complete,r=e.dismiss;return(0,em.jsx)(eJ,{completeButtonText:n.display_data.complete_button_text,detailedText:n.display_data.detailed_text,dismissButtonText:n.display_data.dismiss_button_text,onComplete:t,onDismiss:r,titleText:n.display_data.title_text})}}):null},eK=n(332995),e$=n(272598),e0=n(986475),e1=n(640200);function e5(e){return(e5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var e2=["placementId"];function e4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e4(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=e5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e5(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e5(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e3=(0,ef.Z)(function(){return Promise.all([n.e("29495"),n.e("55911")]).then(n.bind(n,426292))},{ssr:!1},function(e){return 426292},void 0,void 0);function e9(e){var t=e.placementId,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,e2);return(0,em.jsx)(w.a3,{disableAutoView:!0,eligibleTypes:[9],placementId:t,children:function(e){var t=e.complete,r=e.dismiss,i=e.view,o=e.experience.display_data;return(0,em.jsx)(g.Z,{name:"SafeSuspense_ExperienceNuxContainer_NuxContainer",children:(0,em.jsx)(e3,e8(e8({},(0,e0.Z)(e1.Z,!0)(o)),{},{handleComplete:t,handleDismiss:r,handleView:i,hasUnauthLandingPage:o.has_landing_page},n))})}})}var e7=n(714518),e6=n(322830),te=n(230201),tt=n(233597),tn=n(178131),tr=n(513504);function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var to=(0,r.lazy)(function(){return Promise.all([n.e("29495"),n.e("55911")]).then(n.bind(n,426292))});function ta(e){var t,n=e.hideFollowedInterests,i=(0,te.u)().logContextEvent,o=(0,a.I0)(),s=(0,E.Z)(),l=(0,w.oS)(11),c=l.completeExperience,u=l.dismissExperience,d=l.experienceForPlacement,p=l.viewExperience,f=(null==d?void 0:d.experience_id)===500278,m=(0,e0.Z)(e1.Z,!0)((null==d?void 0:d.display_data)||{}),h=m.steps,b=m.refresh_homefeed_background,y=void 0!==b&&b,v=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ti(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ti(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=v[0],x=v[1],j=(0,tn.Z)(),P=function(){o((0,tt.U)("UserHomefeedResource",{options:(0,e6.Z)({inNux:!0,staticFeed:!1,viewerIsPartner:s.isAuth&&s.isPartner})},null))};return(0,r.useEffect)(function(){_&&u(11,500278)},[_,u]),f?(0,em.jsx)(g.Z,{name:"SafeSuspense_RenuxContainer_NuxContainer",children:(0,em.jsx)(M.Z,{children:(0,em.jsx)(to,{handleComplete:function(){i({event_type:101,component:17,element:96,view_type:213}),f&&c(11,500278);var e=Math.floor(new Date().getTime()/1e3);o((0,tr.Q_)("USM_RELAUNCH_NUX_COMPLETED",e)),P()},handleDismiss:function(e){i({event_type:101,component:17,element:1150,view_type:213}),f&&(x(!0),"NuxPicker"===e&&j({event_type:9626,view_type:213,view_parameter:172})),y&&P()},handleView:function(){f&&p(11,500278)},hasDismissedModal:_,hideFollowedInterests:n||!1,isRenux:!0,steps:h})})}):null}var ts=function(e){var t=e.experience,n=e.isNux;return(0,em.jsxs)(r.Fragment,{children:[n||t&&t.display_data&&t.display_data.is_partner_renux?(0,em.jsx)(e9,{placementId:11}):(0,em.jsx)(ta,{hideFollowedInterests:!0}),(0,em.jsx)(w.iH,{placementId:11}),(0,em.jsx)(e$.Z,{placementId:11}),(0,em.jsx)(w.u3,{placementId:11}),(0,em.jsx)(w.b9,{placementId:11}),(0,em.jsx)(w._f,{placementId:11}),(0,em.jsx)(w.nj,{placementId:11}),(0,em.jsx)(e7.Z,{placementId:11}),(0,em.jsx)(eK.Z,{placementId:11}),(0,em.jsx)(eX,{experience:t,placementId:11})]})},tl=n(59355),tc=n(495839),tu=n(271875),td=n(520803);function tp(e){return(tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=tp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tp(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tp(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function th(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tb=(0,ef.Z)(function(){return n.e("34692").then(n.bind(n,749741))},{ssr:!1},function(e){return 749741},"BackgroundPinImages",function(e){return ["34692"]}),ty=(0,ef.Z)(function(){return Promise.all([n.e("22406"),n.e("54536")]).then(n.bind(n,704897))},{ssr:!1},function(e){return 704897},"ExperienceBizNuxFullscreenContainer",function(e){return ["22406","54536"]});function tv(e){var t=e.experience,a=(0,i.TH)(),s=(0,td.Z)().params,l=(0,tu.Z)(),c=l.conversationOpen,u=l.dropdownOpen;(0,tl.Q)({view_type:1,view_parameter:92});var d=(0,X.mB)(a.search),p=d.conversation_id,f=d.tab,m=s.conversation_id||p;(0,r.useEffect)(function(){m&&c(m)},[m]),(0,r.useEffect)(function(){"inbox"===f&&u()},[f]),(0,r.useEffect)(function(){var e=document.getElementById("rum-config");null!==e&&null!==e.textContent&&(window.pinterest_rum_client_config=JSON.parse(e.textContent),n.e("34912").then(n.bind(n,629442)).then(function(e){e.default()}))},[]);var h=null==t?void 0:t.experience_id,b=10105===h;return[500787,500894].includes(h)?(0,em.jsx)(g.Z,{name:"SafeSuspense_AuthHomePage_ExperienceBizNuxFullscreenContainer",children:(0,em.jsx)(ty,{experienceId:500787,placementId:11})}):(0,em.jsxs)(o.xu,{children:[(0,em.jsx)(ts,{experience:t,isNux:b}),b?(0,em.jsx)(g.Z,{name:"SafeSuspense_AuthHomePage_BackgroundPinImages",children:(0,em.jsx)(tb,{inNux:b,isFlexible:!0})}):(0,em.jsx)(r.Fragment,{children:(0,em.jsx)(eY,{experience:t})}),(0,em.jsx)(eQ,{})]})}var t_=(0,w.RL)(11,function(){return{using_pwa:(0,F.So)(window)}})(function(e){var t,n=e.experience,i=null==n?void 0:n.experience_id,o=10105===i,a=[500787,500894].includes(i),s=o||a,l=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(s.push(r.value),2!==s.length);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return th(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?th(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],u=l[1];return null===c&&u(o),o&&!1===c&&((0,eu.nP)("home_product.homefeed.incorrect_in_nux_state_for_first_load",{sampleRate:.1,tags:{appType:"web"}}),u(!0)),s?(0,em.jsx)(tv,tm({},e)):(0,em.jsx)(tc.Z,{measureGridVisuallyComplete:!0,surface:"homefeed",children:(0,em.jsx)(tv,tm({},e))})})},241028:function(e,t,n){function r(e){return{type:"PIN_QUICK_SAVE",payload:e}}function i(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}n.d(t,{X:function(){return i},d:function(){return r}})},604100:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}},513504:function(e,t,n){n.d(t,{H5:function(){return p},Nq:function(){return d},Q_:function(){return f},bJ:function(){return m}});var r=n(27399),i=n(236269),o=n(554092),a=n(38359);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){var t,n,s=e.updateUserData,c={},d=null;if(s.gender&&[a.W1,a.UV].includes(s.gender)?c.gender=s.gender:s.custom_gender&&(c.custom_gender=s.custom_gender,c.customGender=s.custom_gender,c.gender=a.vF),s.age?c.age=s.age:s.birthdate&&(c.birthdate=s.birthdate),s.locale&&(c.locale=s.locale),s.country&&(c.country=s.country),s.business_vertical&&(c.businessVertical=s.business_vertical),s.business_vertical_other&&(c.businessVerticalOther=s.business_vertical_other),s.number_employees&&(c.numberEmployees=s.number_employees),s.first_name&&(c.firstName=s.first_name),s.last_name&&(c.lastName=s.last_name),s.full_name&&(c.fullName=s.full_name),s.parent_email&&(c.parentEmail=s.parent_email),s.website_url&&(c.websiteUrl=s.website_url),s.listed_website_url&&(c.listedWebsiteUrl=s.listed_website_url),void 0!==s.allow_analytic_cookies&&(c.allow_analytic_cookies=s.allow_analytic_cookies),void 0!==s.allow_analytic_cookies&&(c.allow_marketing_cookies=s.allow_marketing_cookies),void 0!==s.allow_analytic_cookies&&(c.allow_personalization_cookies=s.allow_personalization_cookies),s.advertising_intent||s.business_name||s.account_type||s.business_goals||s.selected_ecommerce_platforms||s.enable_profile_message||s.enable_profile_address){var p=s.account_type,f=s.advertising_intent,m=s.business_name,h=s.business_goals,b=s.enable_profile_message,y=s.enable_profile_address,v=s.selected_ecommerce_platforms;d=u(u(u(u(u(u(u({},f?{advertising_intent:f}:{}),p?{account_type:p}:{}),m?{business_name:m}:{}),h?{business_goals:h}:{}),b?{enable_profile_message:b}:{}),y?{enable_profile_address:y}:{}),v?{selected_ecommerce_platforms:v}:{})}d&&(c.partner=d,d.business_name&&(c.firstName=d.business_name));var _=r.Z.create("UserSettingsResource",u(u({},s),{},{surface_tag:o.i.NUX})).callUpdate();return t=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_;case 3:return n=e.sent,t({type:"UPDATE_USER_SET",payload:c}),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(Error((0,i.Z)(e.t0,"message"))));case 11:case"end":return e.stop()}},e,null,[[0,8]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}}function p(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}}function f(e,t){return function(){r.Z.create("UserStateResource",{state:e,value:t}).callCreate()}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){return r.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}}}}]);