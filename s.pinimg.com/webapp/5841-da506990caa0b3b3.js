"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["5841"],{633490:function(e,t,n){n.d(t,{rU:function(){return y},dB:function(){return k},jy:function(){return R},kk:function(){return A},d7:function(){return C},qu:function(){return S},sA:function(){return v},my:function(){return w},wu:function(){return M},x6:function(){return I},oB:function(){return z},Zp:function(){return E}});var r=n(387784),o=n(681698),i=n(676879),a=n(661376),l=n(721703),c=n(447050),s=n(551458),u=n(183230),d=["product_name","show_price"];function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,l,"next",e)}function l(e){p(i,r,o,a,l,"throw",e)}a(void 0)})}}var g={CLIENT_ID:"1522354"},b={CLIENT_ID:"1522355"},A={MIKMAK:"MIKMAK",PEAR:"PEAR",NONE:"NONE"},y=[c.lZ.REGULAR,c.lZ.VIDEO],v=10;function E(e,t){return P.apply(this,arguments)}function P(){return(P=h(regeneratorRuntime.mark(function e(t,n){var r,i,a,l,c,s,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="carting_mikmak_".concat(n),e.next=4,(0,o.Z)({url:"/v3/integrations/commerce/",method:"GET",data:{client_id:t,external_business_id:a,advertiser_id:n}});case 4:if(null!=(r=(l=e.sent).resource_response)&&r.data){e.next=7;break}return e.abrupt("return",{isConnected:!1,integrationStatus:null});case 7:if(!(!(c=l.resource_response.data).coin_metadata||0===c.coin_metadata.length)){e.next=10;break}return e.abrupt("return",{isConnected:!1,integrationStatus:null});case 10:if((s=c.coin_metadata[0]).partner_metadata){e.next=13;break}return e.abrupt("return",{isConnected:!0,integrationStatus:!1});case 13:return d=JSON.parse(s.partner_metadata),e.abrupt("return",{isConnected:!0,integrationStatus:null!=(i=d.is_valid_connection)&&i});case 17:return e.prev=17,e.t0=e.catch(0),(0,u.T)({name:"ConnectionStatusAPIError",message:"Error fetching integration status",message_detail:JSON.stringify({error_message:e.t0 instanceof Error?e.t0.message:String(e.t0)}),stack:e.t0 instanceof Error?e.t0.stack:void 0}),e.abrupt("return",{isConnected:!1,integrationStatus:null});case 21:case"end":return e.stop()}},e,null,[[0,17]])}))).apply(this,arguments)}var S=function(){return"production"===(0,l.m)()?g:b},I=function(e){try{var t=(new URL(e).hostname||"").toLowerCase();return["mikmak.ai","mikmak.com","swaven.com"].some(function(e){return t===e||t.endsWith(".".concat(e))})}catch(e){return!1}},O=function(e){var t=12===e.product_id.length?"GTIN12":"UNKNOWN";return{industry_product_id:e.product_id,product_type_id:e.product_type_id||t,platform:"MIKMAK",product_name:e.product_name,show_price:void 0===e.show_price?null:e.show_price}};function x(){return(x=h(regeneratorRuntime.mark(function e(t){var n,r,i,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=S().CLIENT_ID,e.next=4,(0,o.Z)({url:"/ads/v4/commerce_integrations/product_webpage/parse",method:"GET",data:{client_id:i,product_webpage_url:t}});case 4:if(!(!(null!=(a=e.sent)&&null!=(n=a.resource_response)&&n.data)||!(null!=a&&null!=(r=a.resource_response)&&r.data))){e.next=7;break}return e.abrupt("return",null);case 7:if(!(!(l=a.resource_response.data).product_data||0===l.product_data.length)){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",l.product_data.map(function(e){return O(e)}));case 13:return e.prev=13,e.t0=e.catch(0),(0,u.T)({name:"fetchAndParseMikmakProductsMetadataError",message:"Error fetching or parsing Mikmak url",message_detail:JSON.stringify({error_message:e.t0 instanceof Error?e.t0.message:String(e.t0)}),stack:e.t0 instanceof Error?e.t0.stack:void 0}),e.abrupt("return",null);case 17:case"end":return e.stop()}},e,null,[[0,13]])}))).apply(this,arguments)}function C(e){return T.apply(this,arguments)}function T(){return(T=h(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e){return x.apply(this,arguments)}(t);case 3:if(!(!(n=e.sent)||!n.length||!n[0])){e.next=6;break}return e.abrupt("return",s.S.MISSING_PRODUCT_DATA_MIKMAK_CARTING_DESTINATION_URL);case 6:if(!(n.length>1)){e.next=8;break}return e.abrupt("return",s.S.MULTIPLE_PRODUCT_MIKMAK_CARTING_DESTINATION_URL);case 8:return e.abrupt("return",n[0]);case 11:return e.prev=11,e.t0=e.catch(0),(0,u.T)({name:"validateMikMakCartingDestinationUrlError",message:"Error validating Mikmak carting destination URL",message_detail:JSON.stringify({error_message:e.t0 instanceof Error?e.t0.message:String(e.t0)}),stack:e.t0 instanceof Error?e.t0.stack:void 0}),e.abrupt("return",s.S.MIKMAK_CARTING_DESTINATION_URL_VERFICIATION_ERROR);case 15:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function w(e,t){return j.apply(this,arguments)}function j(){return(j=h(regeneratorRuntime.mark(function e(t,n){var r,i,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.map(function(e){return e.product_name,e.show_price,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,d)}),e.next=4,(0,o.Z)({url:"/v3/carting/products/",method:"POST",data:{advertiser_id:n,products:JSON.stringify(r)}});case 4:if(null!=(i=e.sent)&&i.resource_response.data){e.next=7;break}return e.abrupt("return",null);case 7:if(!(!(a=i.resource_response.data)||0===a.length)){e.next=10;break}return e.abrupt("return",null);case 10:if(!(!(l=a[0])||!l.success&&!l.carting_product_id)){e.next=13;break}throw Error("Failed to create Mikmak product with error_code ".concat(null==l?void 0:l.error_code," and error_message ").concat(null==l?void 0:l.error_message));case 13:return e.abrupt("return",l);case 16:return e.prev=16,e.t0=e.catch(0),(0,u.T)({name:"createMikMakProductError",message:"Error creating Mikmak product",message_detail:JSON.stringify({error_message:e.t0 instanceof Error?e.t0.message:String(e.t0)}),stack:e.t0 instanceof Error?e.t0.stack:void 0}),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}var k=function(){var e,t=f((0,r.useState)(null),2),n=t[0],o=t[1],i=(0,a.Z)(n),l=i.data,c=i.error,s=i.isLoaded,d=f((0,r.useState)(!1),2),_=d[0],m=d[1],p=f((0,r.useState)(null),2),g=p[0],b=p[1],A=f((0,r.useState)(null),2),y=A[0],v=A[1],E=(e=h(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),v(null),b(null),o({name:"ApiResource",options:{url:"/v3/carting/products/",data:{advertiser_id:n,products:JSON.stringify(t.map(function(e){return{industry_product_id:e,product_type_id:12===e.length?"GTIN12":"UNKNOWN",platform:"PEAR"}}))},postInsteadOfGet:!0}}),e.abrupt("return",null);case 6:case"end":return e.stop()}},e)})),function(t,n){return e.apply(this,arguments)});return(0,r.useEffect)(function(){if(s&&n){if(m(!1),c){var e=Error(c.message||"API request failed");v(e),(0,u.T)({name:"createPearProductError",message:"Error creating PEAR product",message_detail:JSON.stringify({error_message:e.message}),stack:e.stack})}else l&&b(l);o(null)}},[s,n,c,l]),{createPearProduct:E,reset:function(){b(null),v(null),o(null)},data:g,isLoading:_,error:y}};function R(e,t){var n,r,o,a=e&&e.length>0&&null!=(n=e[0])&&n.carting_product_id?[null==(r=e[0])?void 0:r.carting_product_id]:[],l=(0,i.Z)(a.length>0&&t?{url:"/v3/carting/products/",params:{advertiser_id:Number(t),carting_product_ids:a}}:null),c=l.data,s=l.error;return s&&(0,u.T)({name:"useGetCartingPlatform",message:"Failed to fetch carting products",message_detail:JSON.stringify({advertiser_id:t,error_message:s instanceof Error?s.message:String(s)}),stack:s instanceof Error?s.stack:void 0}),c&&Array.isArray(c)&&c.length>0&&(null==(o=c[0])?void 0:o.platform)||A.NONE}function z(e,t){return L.apply(this,arguments)}function L(){return(L=h(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Z)({url:"/v3/carting/products/".concat(t,"/"),method:"DELETE",data:{advertiser_id:n}});case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),r=e.t0&&"object"===_(e.t0)&&"message"in e.t0&&"string"==typeof e.t0.message?e.t0.message:String(e.t0),(0,u.T)({name:"deleteCartingProductError",message:"Error deleting carting product",message_detail:JSON.stringify({error_message:r}),stack:e.t0&&"object"===_(e.t0)&&"stack"in e.t0&&"string"==typeof e.t0.stack?e.t0.stack:void 0}),e.abrupt("return",r);case 11:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}function M(e){var t=new Set;return Object.values(e).forEach(function(e){Object.values(e).forEach(function(e){Array.isArray(null==e?void 0:e.carting_products)&&e.carting_products.forEach(function(e){null!=e&&e.carting_product_id&&t.add(e.carting_product_id)})})}),t.size}},424367:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(501010),o=n(774838),i=n(739405);function a(){var e=(0,o.B)().isAuthenticated,t=(0,i.ml)(),n=(0,r.Z)().checkExperiment;return{mWebCloseupRedesignEnabled:e&&t&&n("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:n("mweb_closeup_redesign").group}}},465989:function(e,t,n){n.d(t,{$N:function(){return h},Cu:function(){return b},GY:function(){return _},MZ:function(){return c},NR:function(){return f},S9:function(){return l},ar:function(){return s},bC:function(){return g},fm:function(){return r},id:function(){return i},kM:function(){return a},q6:function(){return o},qp:function(){return d},uV:function(){return m},ug:function(){return p},xL:function(){return u}});var r={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},o={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},i={INTEREST:"INTEREST",DEVICE:"DEVICE",LANGUAGE:"LANGUAGE",LOCATION:"LOCATION",LOCATION_COUNTRY:"LOCATION_COUNTRY",LOCATION_METRO:"LOCATION_METRO",LOCATION_REGION:"LOCATION_REGION",AUDIENCE:"AUDIENCE",TARGETING_TEMPLATE:"TARGETING_TEMPLATE",CONVERSION_TAG:"CONVERSION_TAG"},a={BILLING_HISTORY:"BILLING_HISTORY",BILLING_RECEIPT:"BILLING_RECEIPT",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_SPEND_SUMMARY:"PREPAID_SPEND_SUMMARY",PREPAID_SPEND_BREAKDOWN:"PREPAID_SPEND_BREAKDOWN",SUMMARY:"SUMMARY"},l={CREATE:"CREATE",MANAGE:"MANAGE",VIEW_REPORT:"VIEW_REPORT",AB_TEST_CREATE:"AB_TEST_CREATE"},c={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud",PINTEREST_CAPI_CONNECT:"Pinterest CAPI Connect"},s={GTM:c.GOOGLE_TAG_MANAGER,SHOPIFY:c.SHOPIFY,WORDPRESS:c.WORDPRESS,WOOCOMMERCE:c.WOO_COMMERCE,TEALIUM:c.TEALIUM},u={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},d={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},_={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},f={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},m="604800",p="86400",h={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},g="click",b="view"},217693:function(e,t){var n="downloaderIFrame",r=function(){var e=document.createElement("iframe");return e.id=n,e.style.display="none",document.body&&document.body.appendChild(e),e};t.Z=function(e){var t=document.getElementById(n);(t&&t instanceof HTMLIFrameElement?t:r()).src=e}},315567:function(e,t){t.Z=function(e){var t=(null==e?void 0:e.width)||580,n=(null==e?void 0:e.height)||400,r=[window.screen.width,window.screen.height],o=r[0],i=r[1];return["scrollbars=yes","resizable=yes","toolbar=no","location=yes","width=".concat(t),"height=".concat(n),"left=".concat(Math.round((o-t)/2)),"top=".concat(i>n?Math.round((i-n)/2):0)].join(",")}},47755:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(681698);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e){var t=e.url,n=e.urlParams,i=e.method,a=e.data,l=e.ignoreBookmark,c=e.callOptions,s=e.headers,u=t;return n&&Object.entries(n).forEach(function(e){var t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],r=t[1],i="{".concat(n,"}");u.includes(i)&&(u=u.replaceAll(i,String(r)))}),(0,r.Z)({url:u,method:i,data:a,ignoreBookmark:l,callOptions:c,headers:s})}},671340:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){var t=e.userAgent.isMobile?"mobile":"desktop";return"".concat(t,".").concat(e.country,".").concat(e.userAgent.platform,".").concat(e.userAgent.browserName).replace(/ /g,"_")}},583845:function(e,t,n){n.d(t,{Rq:function(){return r},Vf:function(){return o},jd:function(){return i},oy:function(){return a}});var r=function(e){return"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436},o=28,i=function(e){return window.innerHeight>=748&&r(e)},a=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)}},446885:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(387784),o=n(20256),i=n(424367),a=n(351736),l=n(440077),c=n(609252),s=n(178315),u=n(774838),d=n(40763),_=n(680811);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e){var t,n,f=e.children,m=e.footerConfig,h=e.headerConfig,g=e.height,b=e.hideOnScroll,A=e.hideOnScrollState,y=A.isHidden,v=A.updateHiddenState,E=e.isFooterHidden,P=e.noPadding,S=e.paddingX,I=e.paddingY,O=void 0===I?s.og:I,x=e.type,C=e.zIndex,T=e.isStoryPin,w=h||{},j=w.headerLimitedOverflow,k=w.ignoreObstructions,R=w.zIndexForGestaltBug,z=m||{},L=z.appUpsellFooterConfig,M=z.footerInLego,N=z.navFooterConfig,D=!!L,U="header"===x?"top":"bottom",G=(0,a.vs)(),B=(0,u.B)().isRTL,Z=(0,i.Z)().mWebCloseupRedesignEnabled,H=(0,r.useRef)(null),W=(0,r.useRef)(null);(0,r.useEffect)(function(){try{if(!k){var e=H.current;W.current=j&&e&&Array.isArray(e.children)?e.children[0]:e,W.current instanceof HTMLElement&&c.Z.addObstruction(U,W.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return function(){!k&&W.current instanceof HTMLElement&&c.Z.removeObstruction(U,W.current)}},[k,j,U,G]);var V="top"===U?"relative":"fixed",F=P?0:O,Y=(null!=g?g:s.R$)+((null==h?void 0:h.overrideTop)||0),K=b||N?p({transition:M||Z?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear"},y||E?{transform:"translateY(".concat("top"===U?-Y:Y,"px)"),opacity:M||Z?0:1}:Object.freeze({})):{},X=2*("relative"===V&&(null==h||!h.noGutter)),J=X?-X:0,q=G?a.k7:"rgba(255,255,255,.95)";G&&("header"===x?t=-1:n=-1);var Q=M?D?void 0:null!=g?g:s.R$:"100%",$=M?s.KJ:void 0,ee=null!=h&&h.isTranslucent&&q||G?q:l.Wmm,et=null!=h&&h.isTransparentBackground&&l.Wyp?l.Wyp:ee,en=(0,r.useMemo)(function(){return p({height:"footer"===x&&Z?"calc(".concat(Q," + env(safe-area-inset-bottom))"):Q},Z&&"footer"===x?{paddingBottom:"calc(env(safe-area-inset-bottom) + ".concat(4*(F||0),"px)")}:Object.freeze({}))},[Z,Q,x,F]),er=(0,d.Z)({skipExpActivation:!0});return(0,_.jsx)(o.xu,{ref:H,bottom:"footer"===x,dangerouslySetInlineStyle:{__style:p(p(p(p(p({top:t,bottomStyle:n},!C||R?{zIndex:R||1}:Object.freeze({})),j?{background:"transparent",overflow:"hidden",paddingBottom:s.UB,marginBottom:-s.UB,pointerEvents:"none"}:Object.freeze({})),null!=h&&h.hasBorder?{borderBottom:s.dS}:Object.freeze({})),null!=m&&m.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({})),K)},"data-test-id":x,display:D?"flex":void 0,height:g&&!M?g:void 0,left:!0,marginEnd:M?"auto":J,marginStart:M?"auto":J,onTransitionEnd:function(){(b||N)&&W.current&&(y||E?c.Z.removeObstruction(U,W.current):c.Z.addObstruction(U,W.current))},position:V,right:!0,top:"header"===x,width:M||"fixed"!==V?void 0:"100%",zIndex:R?void 0:C,children:(0,_.jsx)(o.xu,{alignItems:null!=m&&m.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:p(p(p({backgroundColor:et,paddingLeft:B||!er||T?void 0:"8px",paddingRight:B&&er&&!T?"8px":void 0},en),{},{boxShadow:Z&&"footer"===x?"0 10px 0 0 ".concat(et,", ").concat(s.KJ):$,marginBottom:M&&!(null!=N&&N.docked)?16:void 0},j?{pointerEvents:"auto"}:Object.freeze({})),null!=h&&h.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({}))},display:M||null!=m&&m.alignCenter?"flex":void 0,marginEnd:M?"auto":void 0,marginStart:M?"auto":void 0,paddingX:S||4*("footer"===x&&!P)+X,paddingY:F,position:"relative",rounding:M&&!(null!=N&&N.docked)?"pill":void 0,width:N?N.footerWidth:D?void 0:"100%",children:"function"==typeof f?f({updateHiddenState:v}):f})})}},271202:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(20256),o=n(178315),i=n(446885),a=n(763904),l=n(680811);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=["hasBorder","headerLimitedOverflow","ignoreObstructions","isTranslucent","isTransparentBackground","noGutter","overrideTop","useRoundedCorners","zIndexForGestaltBug","isStoryPin"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e){var t=e.hasBorder,n=e.headerLimitedOverflow,c=e.ignoreObstructions,u=e.isTranslucent,_=e.isTransparentBackground,f=e.noGutter,m=e.overrideTop,p=e.useRoundedCorners,h=e.zIndexForGestaltBug,g=e.isStoryPin,b=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,s),A=b.noPadding,y=b.paddingY,v=void 0===y?o.og:y,E=b.zIndex;return(0,l.jsx)(r.Le,{height:n?o.LV+2*(A?0:v)*4:void 0,top:m||0,zIndex:E||void 0,children:(0,l.jsx)(a.Z,{hideOnScroll:b.hideOnScroll,children:function(e){return(0,l.jsx)(i.Z,d(d({},b),{},{headerConfig:{isTranslucent:u,isTransparentBackground:_,headerLimitedOverflow:n,hasBorder:t,ignoreObstructions:c,noGutter:f,overrideTop:m,zIndexForGestaltBug:h,useRoundedCorners:p},hideOnScrollState:e,isStoryPin:g,type:"header"}))}})})}},763904:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(387784),o=n(730448);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var _=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");_.prototype=Object.create(e&&e.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),e&&a(_,e);var t,n,r=(t=c(),function(){var e,n=s(_);return e=t?Reflect.construct(n,arguments,s(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function _(){if(!(this instanceof _))throw TypeError("Cannot call a class as a function");for(var e,t,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return u(l(t=r.call.apply(r,[this].concat(i))),"state",{isHidden:!!t.props.appUpsellFooterConfig||!!(null!=(e=t.props.navFooterConfig)&&e.isDockedNavOnPlp)}),u(l(t),"lastScrollPos",0),u(l(t),"updateHiddenState",function(e){t.reqAnimationId=window.requestAnimationFrame(function(){t.setState({isHidden:e})})}),u(l(t),"handleScroll",(0,o.Z)(function(){var e,n=t.props,r=n.appUpsellFooterConfig,o=n.navFooterConfig,i=t.state.isHidden,a=window.scrollY,l=a-t.lastScrollPos,c="none",s=document.documentElement||{},u=s.scrollHeight,d=s.clientHeight;Number.isNaN(u)||Number.isNaN(d)||(c=l<0?a<=Math.abs((window.scrollMinY||0)+Math.max(l,20))?"start":"none":a>=(window.scrollMaxY||u-d)-Math.max(l,20)?"end":"none");var _=null!=o&&o.isModal?0:55;r?l>20&&i&&a>=500?r.shouldShowAfterScroll()&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l<-20&&!i||a<=_)&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)):null!=(e=t.props.navFooterConfig)&&e.isDockedNavOnPlp?"start"===c&&!i||a<=_?(t.updateHiddenState(!0),null==o||o.onScroll(!0)):(a>_||"end"===c)&&i&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l<-20||"start"===c)&&i||a<=_?(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l>20||"end"===c)&&!i&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)),t.lastScrollPos=a},30)),t}return n=[{key:"componentDidMount",value:function(){try{var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}},{key:"componentWillUnmount",value:function(){var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o;!e.hideOnScroll&&this.props.hideOnScroll||!(null!=(t=e.navFooterConfig)&&t.isDockedNavOnPlp)&&null!=(n=this.props.navFooterConfig)&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!=(r=e.navFooterConfig)&&r.isDockedNavOnPlp&&!(null!=(o=this.props.navFooterConfig)&&o.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.navFooterConfig,r=this.state.isHidden;return t({isHidden:!(null!=n&&n.forceShow)&&r,updateHiddenState:this.updateHiddenState})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}(_.prototype,n),Object.defineProperty(_,"prototype",{writable:!1}),_}(r.Component)},134136:function(e,t,n){n.r(t);var r=n(20256),o=n(806513),i=n(583845),a=n(873438),l=n(774838),c=n(680811);t.default=function(e){var t=e.children,n=e.dataLayoutShiftBoundaryId,s=e.hasFixedHeader,u=e.hasGutter,d=void 0===u||u,_=e.height,f=e.showKeychainError,m=e.useViewport,p=(0,l.B)(),h=(0,i.jd)(p.userAgent.platform)?i.Vf:0;return(0,c.jsx)(r.xu,{"data-layout-shift-boundary-id":n||"PageContainer",height:void 0!==m&&m?"calc(100vh - ".concat(h,"px)"):_,paddingX:d?o.D6:void 0,paddingY:void 0!==s&&s||void 0!==f&&f?void 0:3,children:(0,c.jsx)(a.C,{value:!!d,children:t})})}},178315:function(e,t,n){n.d(t,{KJ:function(){return l},LV:function(){return a},R$:function(){return r},UB:function(){return i},dS:function(){return c},og:function(){return o}});var r=64,o=3,i=100,a=44,l="0px 0px 8px rgba(0, 0, 0, 0.1)",c="1px solid #efefef"},873438:function(e,t,n){n.d(t,{C:function(){return i},V:function(){return a}});var r=n(387784),o=(0,r.createContext)(!1),i=o,a=function(){return(0,r.useContext)(o)}},877904:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(767415);function o(e,t){return new Promise(function(n,o){if(document.querySelector('script[src="'.concat(e,'"]'))){var i=0;if("FACEBOOK"===t)if(window.FB)n();else var a=setInterval(function(){window.FB||20===i?(clearInterval(a),n()):(i+=1,(0,r.nP)("mweb.loadScript.facebook.tries_".concat(i),{sampleRate:.01}))},100);else if("GSI"===t)if(window.google)n();else var l=setInterval(function(){window.google||20===i?(clearInterval(l),n()):(i+=1,(0,r.nP)("mweb.loadScript.gsi.tries_".concat(i),{sampleRate:.01}))},100);else n()}else{var c=document.createElement("script");c.src=e,c.async=!0,c.addEventListener("load",function(){return n()}),c.addEventListener("error",o),document.getElementsByTagName("head")[0].appendChild(c)}})}},138482:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(653551),o=["/BingSiteAuth.xml","/about","/add-account","/ads","/ads.txt","/age_verification","/all","/app-ads.txt","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/camera-sam-segmentation","/careers","/categories","/close-account","/collage-creation-tool","/color-seasons","/compare","/content-claiming","/convert-business","/convert-personal","/create-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/getWebPushKey","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/holiday-shopping","/homefeed","/idea-ads-tool","/idea-pin-builder","/ideas","/image-proxy.html","/inbox","/install-shuffles","/invited","/jobs","/lens-sam-segmentation","/lens-search","/login","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/parental-passcode","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/public-beta","/quick-instant-loading-indicator-app-shell.html","/recently-viewed","/refresh_stored_accounts","/refresh_token","/report","/reports-and-violations","/request-ad-data","/request-data","/robots.txt","/safe-redirect","/search","/session_key","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-image-lens-history","/upload-lens-image","/upload-profile-image","/upload-shuffle-draft","/upload-shuffle-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];function i(e){return!!(0,r.LX)({path:"/:username/",end:!0},e.pathname)&&!o.includes(e.pathname.replace(/\/$/,""))}},674784:function(e,t,n){n.d(t,{J:function(){return E}});var r,o=n(382802),i=n(315567),a=n(671340),l=n(442971),c=n(408660),s=n(247387),u=n(865043),d=n(145626);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}function g(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function b(){var e;return e=regeneratorRuntime.mark(function e(t,n){var r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Px)(void 0,n||void 0);case 2:(i=null==(r=window.google)||null==(o=r.accounts)?void 0:o.oauth2)&&i.initCodeClient({client_id:s.v3o,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:t}).requestCode();case 4:case"end":return e.stop()}},e)}),(b=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){g(i,r,o,a,l,"next",e)}function l(e){g(i,r,o,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}var A=Object.freeze({}),y=function(e){var t,n=e.network;if(r&&(clearInterval(r),r=void 0),A[n]){var o=A,i=o[n],a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(o,[n].map(h)),l=i||{},c=l.error,s=l.success,u=l.complete;if(A=m({},a),"error"===e.type)null==c||c(Object.freeze({message:"Please do not close the window when claiming your account!"}));else{switch(e.network){case"facebook":t={id:e.profile.id};break;case"amazon_storefront":t={pinterestOtp:e.pinterestOtp};break;default:t={one_time_code:e.one_time_code,redirect_uri:e.redirect_uri}}t&&s&&s(t)}null==u||u()}},v=function(e){var t=window.innerHeight-100;switch(e){case"dropbox":return"width=600,height=800";case"instagram":return(0,i.Z)({width:720,height:t});case"etsy":return(0,i.Z)({width:580,height:775});case"youtube":return(0,i.Z)({width:605,height:640});case"amazon_storefront":return"width=800,height=800";default:return(0,i.Z)()}},E=function(e){var t=e.i18n,n=e.network,i=e.networkData,c=e.callbacks,s=e.requestContext;if(c=m({error:function(){},complete:function(){}},c),(0,u.My)("auth_web.social_connect.".concat(n,".").concat((0,a.Z)(s))),"gplus"===n||"google"===n)(0,u.My)("auth_web.social_connect.google.migration"),function(e,t){b.apply(this,arguments)}(function(e){c.success({one_time_code:e.code,redirect_uri:"postmessage"})},s.language);else if("line"===n){var _=s.locale;(0,l.Z)(_,c)}else{var f=window.open(function(e){var t=e.network,n=e.networkData;if("amazon_storefront"===t){var r=(null==n?void 0:n.amazon_storefront)||{},o=r.aipUrl,i=r.signUpCode,a=r.oneTimePasscode;if(o&&i&&a){var l=new URL(o);return l.searchParams.set("signUpCode",i),l.searchParams.set("oneTimePasscode",a),l.searchParams.set("pinterestCallbackURL","".concat(d.C0,"/connect/amazon_storefront")),l.toString()}}return"/connect/"+t+"/"}({network:n,networkData:i}),"",v(n));if(!f){o.Z.showError(t._('You must enable popups!', ' - ', ' -- ')),c.error&&c.error(Object.freeze({}));return}r&&clearInterval(r),r=window.setInterval(function(){try{f.closed&&(clearInterval(r),r=void 0,c.complete&&c.complete(!0))}catch(e){}},500),A=m(m({},A),{},p({},n,c))}},P=function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin===t){var n=e.data;if(n&&"social-connect-complete"===n.type){var r=e.data;r.network&&y(r)}}};"BroadcastChannel"in window?new BroadcastChannel("social_channel").onmessage=P:window.addEventListener("message",P)},808022:function(e,t,n){n.d(t,{k:function(){return p}});var r=n(387784),o=n(581722),i=n(27399),a=n(236269),l=n(681698),c=n(935059),s=n(764302),u=n(674784),d=n(774838),_=n(660322);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(){var e;function t(e){var n=e.invalidateResource,r=e.requestContext,o=e.viewer;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.getUserId=function(){return o.isAuth?o.id:""},this.getUsername=function(){return o.isAuth?o.username:""},this.isLimitedLogin=function(){return o.isLimitedLogin},this.invalidateResource=n,this.requestContext=r}return e=[{key:"handleConnect",value:function(e){var t=this,n=e.network,r=e.networkData,o=e.connect,c=e.callback,d=e.i18n,_=e.forceGoogle,m=function(e){("connect"===e.type?(0,s.Z)({network:n,data:e.data,requestContext:t.requestContext,forceGoogle:null!=_&&_}):(0,l.Z)({url:"/v3/connect/".concat(n,"/"),method:"DELETE"})).then(function(e){var n,r={user_id:t.getUserId(),username:t.getUsername(),field_set_key:"social_connect"};t.invalidateResource("UserResource",r),i.Z.create("UserResource",r).callGet(),null==(n=c.success)||n.call(c,e)},function(e){if(e&&"object"===f(e)){var t,n,r;null==(t=c.error)||t.call(c,{api_error_code:(0,a.Z)(e,"api_error_code"),code:(0,a.Z)(e,"code"),message:null!=(n=(0,a.Z)(e,"message"))?n:"",data:null!=(r=(0,a.Z)(e,"data"))?r:{}})}}).finally(function(){var e;null==(e=c.complete)||e.call(c)})};o?this.isLimitedLogin()?m({type:"connect"}):(0,u.J)({network:n,networkData:r,callbacks:{success:function(e){return m({type:"connect",data:e})},error:c.error,complete:c.complete},i18n:d,requestContext:this.requestContext}):m({type:"disconnect"})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function p(){var e=(0,o.I0)(),t=(0,d.B)(),n=(0,c.Z)();return(0,r.useMemo)(function(){return new m({invalidateResource:function(t,n){return e((0,_.jB)(t,n))},requestContext:t,viewer:n})},[e,t,n])}},442971:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(966502),o=n(4533),i=n(470967),a=n(34550),l=n(247387),c=n(575820),s=n(900946);function u(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}var d="undefined"!=typeof window,_=d?"".concat(window.location.origin,"/oauth/line/redirect"):"",f=function(e){var t=e.origin,n=e.data;return n&&t===window.location.origin?String(n):null},m=function(e){var t=e.url,n=e.key;if(!t.startsWith(window.location.origin)||n!==o.MM)return null;var r=(0,a.M0)().getItem(o.MM);return(0,a.M0)().removeItem(o.MM),r};function p(e,t){if(!d){null==(a=t.error)||a.call(t,{message:"Window is undefined"});return}var n,o,a,p,h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="abcdefghijklmnopqrstuvwxyz1234567890";return Array(e).fill("").map(function(){return t[Math.floor(Math.random()*t.length)]}).join("")}(10),g=(n=regeneratorRuntime.mark(function e(n){var o,a,l,u,d,b,A,y,v,E,P;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isTrusted){e.next=2;break}return e.abrupt("return");case 2:if(o=n instanceof MessageEvent?f(n):m(n),!((a=(0,c.mB)(o)).state&&a.code&&a.state===h)){e.next=28;break}return null==(l=t.fetching)||l.call(t),p&&!p.closed&&p.close(),e.prev=7,e.next=10,fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":"".concat(String(i.U2(r.fS)))},method:"POST",body:(0,s.Z)({code:a.code,redirect_uri:_})});case 10:return u=e.sent,e.next=13,u.json();case 13:b=(d=e.sent).id_token,A=d.access_token,b&&A?t.success({line_id_token:b,line_access_token:A}):null==(y=t.error)||y.call(t,{message:"No tokens returned"}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(7),E=e.t0,null==(v=t.error)||v.call(t,E);case 22:return e.prev=22,p&&!p.closed&&p.close(),window.removeEventListener("message",g),window.removeEventListener("storage",g),null==(P=t.complete)||P.call(t),e.finish(22);case 28:case"end":return e.stop()}},e,null,[[7,18,22,28]])}),o=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)})},function(e){return o.apply(this,arguments)});window.addEventListener("message",g),window.addEventListener("storage",g),p=window.open("https://access.line.me/oauth2/v2.1/authorize?response_type=code"+"&client_id=".concat(l.zal)+"&redirect_uri=".concat(encodeURIComponent(_))+"&state=".concat(h)+"&ui_locales=".concat(e)+"&scope=profile%20openid%20email","_blank")}},764302:function(e,t,n){n.d(t,{Z:function(){return u},t:function(){return d}});var r=n(27399),o=n(681698);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=["etsy","facebook","microsoft","twitter","google","instagram","youtube","dropbox"],s=function(e,t,n,r){var o;switch(e){case"facebook":var i=n.facebookToken;o=t?{facebook_id:t.id,facebook_token:i}:Object.freeze({});break;case"gplus":o=t?{one_time_code:t.one_time_code,redirect_uri:t.redirect_uri||void 0}:Object.freeze({}),r&&(o=l(l({},o),{},{force:!0}));break;case"line":o=t?{line_id_token:t.line_id_token,line_access_token:t.line_access_token}:Object.freeze({});break;default:o=Object.freeze({})}return o};function u(e){var t=e.network,n=e.data,i=e.requestContext,a=e.forceGoogle;if(c.includes(t))return r.Z.create("UserSocialNetworkResource",{network:t,data:n}).callCreate();if("amazon_storefront"===t)return Promise.resolve({resource_response:{data:n}});var l="/v3/connect/".concat(t,"/"),u=s(t,n,i,a);return(0,o.Z)({url:l,method:"PUT",data:u})}function d(e){switch(e){case"facebook":return 68;case"gplus":return 208;case"line":return 12277;default:return}}},408660:function(e,t,n){n.d(t,{Fm:function(){return a},OY:function(){return c},PL:function(){return u},Px:function(){return l},mK:function(){return d},ru:function(){return s}});var r=n(877904),o=n(247387),i=n(865043),a=function(){var e,t,n;return null==(e=window)||null==(t=e.google)||null==(n=t.accounts)?void 0:n.id},l=function(e,t){return(0,r.Z)("https://accounts.google.com/gsi/client"+(t?"?hl=".concat(t):""),null!=e&&e.unsafe?null:"GSI")},c=function(e,t){var n,r=e.autoSelect,i=e.useContinueForContext,l=e.useFedCMForButton,c={auto_select:null!=r&&r,button_auto_select:null!=l&&l,client_id:o.v3o,callback:t,cancel_on_tap_outside:!1,context:i?"continue":"use",itp_support:!0,use_fedcm_for_prompt:!0,use_fedcm_for_button:null!=l&&l};null==(n=a())||n.initialize(c)},s=function(e){var t=e.buttonRef,n=e.isDesktop,r=e.locale,o=e.logo_alignment,l=e.onClick,c=e.onTouch,s=a();if(s&&t.current){var u=t.current.offsetWidth;s.renderButton(t.current,{locale:r,size:"large",shape:"rectangular",text:"continue_with",theme:"outline",width:u+"px",logo_alignment:o,click_listener:function(){l&&l(),c&&c(),(0,i.EX)({event:"start",provider:"google"})}})}else(0,i.My)((n?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},u=function(e){return"auto"===e||"fedcm_auto"===e?"AUTO_LOGIN":e.startsWith("btn")||e.startsWith("fedcm_button")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT"},d=function(e){switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},570615:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var o,i;o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e){if(!e)return null;var t,n,r=null==e?void 0:e.url;return Array.isArray(null==e?void 0:e.params)?t=null==e?void 0:e.params:Object.entries(t=a({},null!=(n=null==e?void 0:e.params)?n:{})).forEach(function(e){var n,i,a=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],c=a[1];null!=(n=r)&&n.includes("{".concat(l,"}"))&&(r=null==(i=r)?void 0:i.replaceAll("{".concat(l,"}"),String(c)),delete t[l])}),{name:"ApiResource",options:a({url:r,data:t},(null==e?void 0:e.method)==="POST"?{postInsteadOfGet:!0}:{}),enabledRouteRefresh:null==e?void 0:e.enabledRouteRefresh,headers:null==e?void 0:e.headers,noCache:null==e?void 0:e.noCache}}n.d(t,{Z:function(){return l}})},676879:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(570615),o=n(661376);function i(e){return(0,o.Z)((0,r.Z)(e))}},145626:function(e,t,n){n.d(t,{AO:function(){return m},Ag:function(){return i},C0:function(){return c},L1:function(){return _},Vi:function(){return a},Wm:function(){return p},YD:function(){return d},kS:function(){return o},oo:function(){return l},p3:function(){return f},vC:function(){return s},vI:function(){return u}});var r=n(721703),o="https://www.pinterest.com/business/hub/",i="https://www.pinterest.com/homefeed/",a="www.pinterest.com",l="https://www.pinterest.com/_/_/help",c="".concat((0,r.Z)({site:"www"})),s=(0,r.Z)({site:"developers"}),u="".concat((0,r.Z)({site:"sterling"})),d="".concat((0,r.Z)({site:"analytics"})),_="".concat((0,r.Z)({site:"trends"})),f="".concat((0,r.Z)({site:"www",path:"/business/catalogs/?advertiserId="})),m="".concat((0,r.Z)({site:"business"})),p="https://www.pinterest.com/_/_/policy"},255273:function(e,t,n){n.d(t,{eo:function(){return i},g2:function(){return o},zu:function(){return r}});var r=["US","CA"],o=["AU","NZ"],i=[].concat(r,["AT","BE","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NO","PL","PT","RO","SK","ES","SE","CH","GB"],o,["BR","MX"],["AR","CL","CO"],["JP"])},860981:function(e,t,n){n.d(t,{At:function(){return u},OE:function(){return f},bc:function(){return s},eP:function(){return d},v0:function(){return _}});var r,o,i,a=n(681698);function l(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)})}}var s={SUCCESS:"SUCCESS",FAILURE:"FAILURE",OPT_OUT:"OPT-OUT"},u="Provided domain is used in another store for given user and client id",d=(r=c(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Z)({url:"/v3/integrations/commerce/loja/html_code/",method:"POST",data:{external_business_id:t,html_code_type:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)}),_=(o=c(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Z)({url:"/v3/websites/verification/metatag/realtime/",method:"POST",data:{website:t}});case 2:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),f=(i=c(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Z)({url:"/v3/integrations/commerce/".concat(t,"/").concat(n,"/"),method:"PATCH",data:{integration_metadata:JSON.stringify(r)}});case 2:case"end":return e.stop()}},e)})),function(e,t,n){return i.apply(this,arguments)})},190914:function(e,t,n){n.d(t,{r:function(){return C},W:function(){return x}});var r=n(387784),o=n(213491),i=n(935059),a=n(661376),l=n(739258),c=n(15881),s=n(418282),u=n(640200);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function e(t){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("object"!==f(t[r])||null===t[r]||Array.isArray(t[r])?n[(0,u.Z)(r)]=t[r]:n[(0,u.Z)(r)]=e(t[r]));return n},p=function(e,t){var n=[];for(var r in e)r!==t&&n.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:r},m(e[r])));var o,i=n.sort(function(e,t){var n=e.user.businessName,r=t.user.businessName;return n.localeCompare(r)}),a=new Map,l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,void 0):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(i);try{for(l.s();!(o=l.n()).done;){var c=o.value;a.set(c.id,c)}}catch(e){l.e(e)}finally{l.f()}return a};function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},v=function(e,t){switch(t.type){case"LOAD_PROFILES":return A(A({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return A(A({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return A(A({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return A(A({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return A(A({},e),{},{disableProfileChanger:t.payload});default:return e}},E=function(e){var t=e.dispatch,n=e.isEnabled,o=e.state,i=o.orbacVisibility,a=o.disableProfileChanger,l=o.headerVisible;return{changeProfile:(0,r.useCallback)(function(e){n&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[n,t]),toggleORBACVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})},[n,t,i]),toggleDisableProfileChanger:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})},[n,t,a]),toggleHeaderVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!l})},[n,t,l])}},P=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(v,y))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0],i=n[1],a=E({dispatch:i,isEnabled:e,state:o}),l=o.activeProfile,u=o.orbacVisibility;return(0,r.useEffect)(function(){var e=(0,s.Nl)().getItem(c.Zo)||!1;e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,r.useEffect)(function(){var e=(0,s.Nl)().getItem(c.ig)||!1;e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,r.useEffect)(function(){(0,s.Nl)().setItem(c.ig,u)},[u]),(0,r.useEffect)(function(){(0,s.Nl)().setItem(c.Zo,l)},[l]),{state:o,actions:a,receiveProfiles:(0,r.useCallback)(function(e,t){i({type:"LOAD_PROFILES",payload:p(e,t)})},[i])}},S=n(680811),I=(0,o.Z)("RoleBasedAccessControlContext"),O=I.Provider,x=I.getMaybe,C=function(e){var t=e.children,n=(0,i.Z)(),o=!!(n.isAuth&&n.isPartner),c=P(o),s=c.state,u=c.actions,d=c.receiveProfiles,_=s.activeProfile,f=s.headerVisible,m=s.profiles,p=(0,r.useMemo)(function(){return m?Array.from(m.values()):[]},[m]),h=(0,l.Z)(p),g=!!n.isAuth&&p.length>0&&h,b=n.isAuth?n.id:"",A=n.isAuth?n.username:"",y=u.changeProfile,v=u.toggleORBACVisibility,E=u.toggleDisableProfileChanger,I=u.toggleHeaderVisibility;(0,r.useEffect)(function(){if(o){if("string"==typeof h)return void y(h);_||y(b)}},[h,b,o,y,_]),(0,r.useEffect)(function(){o&&(g&&!f&&I(!0),!g&&f&&I(!1))},[I,g,o,f,m]);var x=(0,a.Z)(o?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,C=null==x?void 0:x.profiles,T=(0,r.useMemo)(function(){return n&&n.isAuth&&_===n.id?{id:n.id,permissions:["OWNER"],user:{username:A,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:_&&m?m.get(_):void 0},[_,m,n,A]);(0,r.useEffect)(function(){C&&d(C,b)},[d,C,b]);var w=(0,r.useMemo)(function(){return{profiles:p,headerVisible:f,activeProfile:T,changeProfile:y,toggleORBACVisibility:v,toggleDisableProfileChanger:E,toggleHeaderVisibility:I}},[p,f,T,y,v,E,I]);return(0,S.jsx)(O,{value:w,children:t})}},200619:function(e,t,n){var r=n(387784),o=n(501010),i=n(190914),a=n(739258),l=Object.freeze({});t.Z=function(){var e=(0,o.Z)().checkExperiment,t=(0,i.W)(),n=(t||{}).activeProfile,c=(0,a.Z)((null==t?void 0:t.profiles)||[]),s=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return(0,r.useMemo)(function(){return s&&!c?l:n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:l},[s,c,n])}},739258:function(e,t,n){var r=n(653551),o=n(935059),i=n(173874),a=n(228612);function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n,c,s,u=(0,r.TH)(),d=(0,o.Z)(),_=(0,a.S6)(),f=(0,r.bS)("/:username"),m=(0,r.bS)("/:username/*"),p=f||m,h=null==p||null==(t=p.params)?void 0:t.username,g=(0,r.bS)("/pin/:id"),b=!!(null!=g&&null!=(n=g.params)&&n.id)&&(null==(c=_(g.params.id))||null==(s=c.pinner)?void 0:s.id);if((0,i.ej)(u))return!1;if((0,i.RU)(u)||(0,i.mY)(u))return!0;var A=[].concat(l(e),l(d.isAuth?[{user:{username:d.username},id:d.id}]:[])).find(function(e){if(!e)return!1;var t=e.user,n=e.id;return(!!t&&"username"in t&&!!t.username&&!!h||!!b&&!!n)&&(t.username===h||b===n)});return!!A&&A.id}},601871:function(e,t,n){n.d(t,{D3:function(){return d},DX:function(){return s},Fk:function(){return r},KY:function(){return _},Ms:function(){return o},N1:function(){return f},_P:function(){return c},gJ:function(){return i},lJ:function(){return l},nl:function(){return a},q6:function(){return u}});var r=function(e,t){var n=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(n=t.user.businessName),n},o=function(e,t){var n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},i=function(e,t){var n=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(n=t.user.imgUrl),n},a=function(e,t){return!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},l=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},c=function(e,t,n){var r;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null==(r=e.advertiser)?void 0:r.merchant_id},s=function(e,t,n){return n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},u=function(e,t,n){return!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t)},d=function(e,t,n){return!!(u(e,t,n)||e&&e.isAuth&&t===e.id)},_=function(e,t,n){return d(e,t&&t.owner&&t.owner.id||"",n)};function f(e,t,n){return d(e,t?t.id:"",n)}},447050:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){var o;return(o=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==r(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Ce:function(){return s},DI:function(){return a},FL:function(){return u},T8:function(){return c},lZ:function(){return l},wt:function(){return i}});var i={REGULAR:"REGULAR",CAROUSEL:"CAROUSEL",MAX_VIDEO:"MAX_VIDEO",VIDEO:"VIDEO",APP:"APP",SHOPPING:"SHOPPING",SHOP_THE_PIN:"SHOP_THE_PIN",STORY:"STORY",SHOWCASE:"SHOWCASE",QUIZ:"QUIZ"},a={APP:"APP",CAROUSEL:"CAROUSEL",MAX_VIDEO:"MAX_VIDEO",REGULAR:"REGULAR",VIDEO:"VIDEO",SHOPPING:"SHOPPING",SHOP_THE_PIN:"SHOP_THE_PIN",STORY:"STORY",SHOWCASE:"SHOWCASE",QUIZ:"QUIZ",CREATIVE_OPTIMIZATION:"CREATIVE_OPTIMIZATION",COLLAGE:"COLLAGE",MAX_WIDTH_REGULAR_COLLECTION:"MAX_WIDTH_REGULAR_COLLECTION",MAX_WIDTH_VIDEO_COLLECTION:"MAX_WIDTH_VIDEO_COLLECTION"},l={REGULAR:"REGULAR",VIDEO:"VIDEO",SHOPPING:"SHOPPING",CAROUSEL:"CAROUSEL",MAX_VIDEO:"MAX_VIDEO",SHOP_THE_PIN:"SHOP_THE_PIN",STORY:"STORY",SHOWCASE:"SHOWCASE",QUIZ:"QUIZ",COLLAGE:"COLLAGE",MAX_WIDTH_REGULAR_COLLECTION:"MAX_WIDTH_REGULAR_COLLECTION",MAX_WIDTH_VIDEO_COLLECTION:"MAX_WIDTH_VIDEO_COLLECTION"};function c(e){var t;return o(t={},a.APP,{label:e._('App', '[m10n] App install creative type', '[m10n] App install creative type'),value:a.APP}),o(t,a.CAROUSEL,{label:e._('Carousel', '[m10n] Carousel creative type', '[m10n] Carousel creative type'),value:a.CAROUSEL}),o(t,a.MAX_VIDEO,{label:e._('Max video', '[m10n] Max video creative type', '[m10n] Max video creative type'),value:a.MAX_VIDEO}),o(t,a.REGULAR,{label:e._('Static', '[m10n] Regular creative type', '[m10n] Regular creative type'),value:a.REGULAR}),o(t,a.VIDEO,{label:e._('Video', '[m10n] Video creative type', '[m10n] Video creative type'),value:a.VIDEO}),o(t,a.SHOPPING,{label:e._('Shopping', '[m10n] Shopping creative type', '[m10n] Shopping creative type'),value:a.SHOPPING}),o(t,a.SHOP_THE_PIN,{label:e._('Collections', '[m10n] Collection creative type', '[m10n] Collection creative type'),value:a.SHOP_THE_PIN}),o(t,a.STORY,{label:e._('Idea Ads', '[m10n] constants.creativeType.text.Idea', '[m10n] Idea Ad creative type'),value:a.STORY}),o(t,a.SHOWCASE,{label:e._('Showcase', '[m10n] constants.creativeType.text.Showcase', '[m10n] Showcase creative type'),value:a.SHOWCASE}),o(t,a.QUIZ,{label:e._('Quiz', '[m10n] constants.creativeType.text.Quiz', '[m10n] Quiz creative type'),value:a.QUIZ}),o(t,a.CREATIVE_OPTIMIZATION,{label:e._('Creative optimizations', '[m10n] constants.creativeType.text.CreactiveOptimization', '[m10n] Creative optimizations creative type'),value:a.CREATIVE_OPTIMIZATION}),o(t,a.COLLAGE,{label:e._('Collage', '[m10n] constants.creativeType.text.Collage', '[m10n] Collage creative type'),value:a.COLLAGE}),o(t,a.MAX_WIDTH_REGULAR_COLLECTION,{label:e._('Max width collections', '[m10n] constants.creativeType.text.maxWidthRegularCollection', '[m10n] Max width regular creative type'),value:a.MAX_WIDTH_REGULAR_COLLECTION}),o(t,a.MAX_WIDTH_VIDEO_COLLECTION,{label:e._('Max width collections', '[m10n] constants.creativeType.text.maxWidthVideoCollection', '[m10n] Max width video creative type'),value:a.MAX_WIDTH_VIDEO_COLLECTION}),t}function s(e){return Object.keys(l).map(function(t){return c(e)[t]}).filter(function(e){return void 0!==e})}function u(e,t){var n,r=c(t);return(o(n={},1,r[a.APP]),o(n,11,r[a.CAROUSEL]),o(n,12,r[a.MAX_VIDEO]),o(n,0,r[a.REGULAR]),o(n,5,r[a.VIDEO]),o(n,7,r[a.SHOPPING]),o(n,13,r[a.SHOP_THE_PIN]),o(n,15,r[a.STORY]),o(n,16,r[a.SHOWCASE]),o(n,17,r[a.QUIZ]),o(n,24,r[a.MAX_WIDTH_REGULAR_COLLECTION]),o(n,25,r[a.MAX_WIDTH_VIDEO_COLLECTION]),o(n,20,r[a.CREATIVE_OPTIMIZATION]),n)[e]||{}}},551458:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){var o;return(o=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==r(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{D:function(){return l},S:function(){return a}});var i,a=(o(i={INVALID_AUTHORIZATION:3,ADMIN_WRITE_MODE_REQUIRED:25,AD_ENTITY_BULK_GET_UNSUPPORTED_ENTITY_TYPE:3030,AD_ENTITY_SYNC_BULK_OPERATION_LIMIT:3031,AD_ENTITY_BULK_GET_INVALID_INPUT:3032,AD_ENTITY_SYNC_BULK_TEMP_ID_NOT_FOUND:3033,AD_ENTITY_BULK_GET_INVALID_ENTITY_TYPE:3034,AD_ENTITY_SYNC_BULK_OPERATION_DUPLICATE_ID:3035,FORM_DEFAULT_ERROR_CODE:1e3,DAILY_SPEND_LIMIT_INVALID_CURRENCY_VALUE:11003,LIFETIME_SPEND_LIMIT_INVALID_CURRENCY_VALUE:11005,INVALID_ORDER_LINE_EMPTY:11006,EMPTY_GENDER_TARGETING_OPTIONS:11007,EMPTY_LOCATION_TARGETING_OPTIONS:11008,EMPTY_LANGUAGE_TARGETING_OPTIONS:11009,EMPTY_DEVICE_TARGETING_OPTIONS:11010,INVALID_FREQUENCY_CAP_VALUE:11011,PIN_PROMOTIONS_REQUIRED:11012,AGE_BUCKET_TARGETING_NOT_PICKED:11014,EMPTY_FREQUENCY_TARGETING_VALUE:11015,BID_VALUE_REQUIRED:11017,EMPTY_PRODUCT_GROUP_SELECTION:11019,EMPTY_ADS:11023,INVALID_AD_GROUP_NAME_TOO_LONG:11024,TOO_MANY_KEYWORDS_PER_AD_GROUP:11025,AD_ENTITIES_TREE_TOO_LARGE:2641,COST_PER_ACTION_HIGHER_THAN_BUDGET:11027,EMPTY_HERO_PIN_ID_FOR_COLLECTIONS_AD:11028,INVALID_PROMOTED_PRODUCT_GROUP_THIRD_PARTY_TRACKING_URL:11029,INVALID_PROMOTED_PRODUCT_GROUP_COLLECTION_HERO_TRACKING_URL:11030,INVALID_CAROUSEL_DESTINATION_URL:11031,CANNOT_SELECT_BOTH_OS_FOR_APP_INSTALL:11032,DAILY_SPEND_LIMIT_GREATER_THAN_LIFETIME:11033,CAMPAIGN_GOAL_INVALID_CURRENCY_VALUE:11034,CAMPAIGN_GOAL_VALUE_REQUIRED:11035,CAMPAIGN_GOAL_ATTRIBUTION_WINDOW_REQUIRED:11036,CAMPAIGN_GOAL_ATTRIBUTION_WINDOW_VALID_COMBINATION:11037,CAMPAIGN_GOAL_VALUE_VALID_RATE_AMOUNT:11038,INVALID_BILLING_PROFILE:11039,CAMPAIGN_GOAL_VALUE_MAX_LENGTH_EXCEEDED_LIMIT:11040,CAMPAIGN_BUDGET_MAX_LENGTH_EXCEEDED_LIMIT:11041,DAILY_SPEND_LIMIT_BELOW_MINIMUM:11402,LIFETIME_SPEND_LIMIT_BELOW_MINIMUM:11403,HAS_POPULAR_MUSIC:11405,OWN_PIN_HAS_PAID_PARTNERSHIP:11407,CAMPAIGN_GOAL_MIN_MAX_VALIDATION_ERROR:11408,INCONSISTENT_OPTIMIZATION_TYPES:11409,KEYWORD_CHAR_LIMIT:11410,BULK_SYNC_CAMPAIGNS_LIMIT_EXCEEDED:11500,BULK_SYNC_AD_GROUPS_LIMIT_EXCEEDED:11501,BULK_SYNC_ADS_LIMIT_EXCEEDED:11502,BULK_SYNC_KEYWORDS_LIMIT_EXCEEDED:11503,BULK_SYNC_PRODUCT_GROUPS_LIMIT_EXCEEDED:11504,SHOWCASE_PINS_MISSING:11505,QUIZ_PIN_QUESTIONS_DATA_MISSING:11506,QUIZ_PIN_RESULTS_DATA_MISSING:11507,EMPTY_FORM_FIELD:11508,QUIZ_PIN_TIE_BREAKER_DATA_MISSING:11509,SELECTED_AUDIENCES_ALL_INITIALIZING_NO_ACTALIKE_OR_PERSONAS:11510,SELECTED_AUDIENCES_ALL_INITIALIZING_ALL_ACTALIKE_OR_PERSONAS:11511,SELECTED_AUDIENCES_ALL_INITIALIZING_SOME_ACTALIKE_OR_PERSONAS:11512,SELECTED_AUDIENCES_INITIALIZING_AND_READY_NO_ACTALIKE_OR_PERSONAS:11513,SELECTED_AUDIENCES_INITIALIZING_AND_READY_ALL_ACTALIKE_OR_PERSONAS:11514,SELECTED_AUDIENCES_INITIALIZING_AND_READY_SOME_ACTALIKE_OR_PERSONAS:11515,SELECTED_AUDIENCES_ALL_TOO_SMALL:11516,CONVERSION_TAG_EVENT_REQUIRED:11517,INVALID_BID_MULTIPLIER_INCREASE:11518,INVALID_BID_MULTIPLIER_DECREASE:11519,SELECTED_TARGET_COUNTRY_MISSING_REGION:11520,CAMPAIGN_START_TIME_INVALID_WITH_AD_GROUP_SCHEDULES:11521,CAMPAIGN_END_TIME_INVALID_WITH_AD_GROUP_SCHEDULES:11522,KEYWORD_FORMAT_INVALID:11523,DISALLOWED_RMN_DOMAIN:11524,DISALLOWED_CAROUSEL_RMN_DOMAIN:11525,EMPTY_CUSTOMER_GROUP:11526,BULK_SYNC_SCHEDULES_LIMIT_EXCEEDED:11527,AD_GROUP_BUDGET_MAX_LENGTH_EXCEEDED:11528,SELECTED_PROMOTION_TO_ALL_PRODUCTS_NO_PROMOTION:11529,MISSING_PRODUCT_DATA_MIKMAK_CARTING_DESTINATION_URL:11531,MULTIPLE_PRODUCT_MIKMAK_CARTING_DESTINATION_URL:11532,MIKMAK_CARTING_DESTINATION_URL_VERFICIATION_ERROR:11533,MIKMAK_CARTING_PRODUCT_CREATION_FAILURE:11534,EXCEED_CARTING_PRODUCT_LIMIT:11536,UNABLE_TO_UPDATE_AD_GROUP_NAMES:11537,CBO_MIGRATION_IN_PROGRESS:2917},2217,2217),o(i,2051,2051),o(i,2383,2383),o(i,2050,2050),o(i,2066,2066),o(i,1505,1505),o(i,2398,2398),o(i,1,1),o(i,1536,1536),o(i,1610,1610),o(i,1507,1507),o(i,1008,1008),o(i,1030,1030),o(i,1013,1013),o(i,1502,1502),o(i,1571,1571),o(i,1583,1583),o(i,1565,1565),o(i,2721,2721),o(i,2029,2029),o(i,1041,1041),o(i,2055,2055),o(i,2762,2762),o(i,1613,1613),o(i,1611,1611),o(i,2045,2045),o(i,1558,1558),o(i,1509,1509),o(i,1618,1618),o(i,2388,2388),o(i,2759,2759),o(i,2387,2387),o(i,1559,1559),o(i,1560,1560),o(i,1551,1551),o(i,1561,1561),o(i,1522,1522),o(i,1527,1527),o(i,1609,1609),o(i,1614,1614),o(i,1612,1612),o(i,1003,1003),o(i,1026,1026),o(i,2040,2040),o(i,2358,2358),o(i,2359,2359),o(i,1027,1027),o(i,1520,1520),o(i,2030,2030),o(i,1597,1597),o(i,1601,1601),o(i,2021,2021),o(i,2022,2022),o(i,1608,1608),o(i,1025,1025),o(i,1523,1523),o(i,2365,2365),o(i,2366,2366),o(i,2849,2849),o(i,2367,2367),o(i,2023,2023),o(i,2024,2024),o(i,2035,2035),o(i,2042,2042),o(i,2203,2203),o(i,2204,2204),o(i,3147,3147),o(i,2205,2205),o(i,3171,3171),o(i,3172,3172),o(i,3198,3198),o(i,3199,3199),o(i,1554,1554),o(i,2889,2889),o(i,2930,2930),o(i,2331,2331),o(i,2396,2396),o(i,2932,2932),o(i,3011,3011),o(i,2839,2839),o(i,3029,3029),o(i,3017,3017),o(i,2868,2868),o(i,2864,2864),o(i,2865,2865),o(i,3036,3036),o(i,3024,3024),o(i,3026,3026),o(i,3001,3001),o(i,3025,3025),o(i,3018,3018),o(i,3020,3020),o(i,3082,3082),o(i,3077,3077),o(i,3072,3072),o(i,3196,3196),o(i,1726,1726),o(i,3019,3019),o(i,3022,3022),o(i,3027,3027),o(i,3021,3021),o(i,3023,3023),o(i,1511,1511),o(i,2403,2403),o(i,2404,2404),o(i,2405,2405),o(i,2406,2406),o(i,1036,1036),o(i,3095,3095),o(i,3094,3094),o(i,2384,2384),o(i,1513,1513),o(i,2351,2351),o(i,2309,2309),o(i,2711,2711),o(i,1723,1723),o(i,2935,2935),o(i,3096,3096),o(i,3097,3097),o(i,3101,3101),o(i,3176,3176),o(i,2715,2715),o(i,2713,2713),o(i,2712,2712),o(i,3099,3099),o(i,3100,3100),o(i,3143,3143),o(i,3047,3047),o(i,3141,3141),o(i,3148,3148),o(i,3149,3149),o(i,3150,3150),o(i,3151,3151),o(i,3152,3152),o(i,3153,3153),o(i,3208,3208),o(i,3209,3209),o(i,3210,3210),o(i,3159,3159),o(i,3074,3074),o(i,3145,3145),o(i,3028,3028),o(i,3192,3192),o(i,3191,3191),o(i,3203,3203),o(i,3183,3183),o(i,3161,3161),o(i,3189,3189),o(i,4012,4012),o(i,2876,2876),o(i,3211,3211),o(i,2894,2894),o(i,3181,3181),o(i,4011,4011),o(i,3230,3230),o(i,1902,1902),o(i,3246,3246),o(i,3247,3247),o(i,3248,3248),o(i,3249,3249),o(i,3251,3251),o(i,3252,3252),o(i,3253,3253),o(i,3254,3254),o(i,3255,3255),o(i,3256,3256),o(i,3257,3257),o(i,3258,3258),o(i,3259,3259),o(i,3274,3274),o(i,3276,3276),o(i,3277,3277),o(i,3278,3278),o(i,3279,3279),o(i,3281,3281),o(i,3282,3282),o(i,3283,3283),o(i,3284,3284),o(i,3285,3285),o(i,3286,3286),o(i,3287,3287),o(i,3288,3288),o(i,3301,3301),o(i,3302,3302),o(i,3280,3280),i),l=function(e){return Object.keys(a).find(function(t){return a[t]===e})||void 0}},50107:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(387784),o=n(20256),i=n(774838),a=n(254889),l=n(680811);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t,n=e.heading,s=e.icon,u=e.placement,d=e.previousUrl,_=e.rightComponent,f=e.legoSettingsEnabled,m=void 0===f||f,p=e.disableRedirect,h=e.viewParameter,g=e.viewType,b=e.onTouch,A=(0,i.B)().isRTL,y=(0,r.useRef)(null),v=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),E=v[0],P=v[1];return(0,r.useEffect)(function(){y.current&&y.current.offsetWidth&&P(y.current.offsetWidth)},[]),(0,l.jsxs)(o.xu,{alignItems:"center",display:"flex",height:60,position:"relative",children:[(0,l.jsx)(o.xu,{flex:"none",left:!A,marginStart:m?1:-2,position:"absolute",right:A,children:(0,l.jsx)(a.default,{color:m?"darkGray":void 0,disableRedirect:void 0!==p&&p,fallbackUrl:d,icon:void 0===s?"arrow-back":s,onTouch:b,placement:u||"unknown",shouldUseFallbackUrl:!0,size:m?"sm":"lg",viewParameter:h,viewType:g})}),(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 ".concat(_?"".concat(E+12,"px"):"".concat(48,"px"))}},"data-test-id":"header",flex:"grow",marginEnd:m?2:7,paddingX:12,children:(0,l.jsx)(o.X6,{accessibilityLevel:1,align:"center",lineClamp:_?1:void 0,size:"400",children:n})}),m&&!!_&&(0,l.jsx)(o.xu,{ref:y,display:"flex",flex:"none",justifyContent:"end",left:A,marginEnd:1,position:"absolute",right:!A,children:_})]})}},228612:function(e,t,n){n.d(t,{EQ:function(){return s},JC:function(){return c},S6:function(){return u},_S:function(){return d}});var r=n(581722),o=n(213491),i=n(680811),a=(0,o.Z)("Pins"),l=a.Provider,c=a.get,s=a.getMaybe;function u(){var e=c();return function(t){return e[t]}}function d(e){var t=e.children,n=(0,r.v9)(function(e){return e.pins},r.wU);return(0,i.jsx)(l,{value:n,children:t})}},40763:function(e,t,n){var r=n(501010),o=n(774838),i=n(739405);t.Z=function(e){var t=e.skipExpActivation,n=(0,r.Z)().checkExperiment,a=(0,i.HG)(),l=(0,o.B)(),c=l.isBot;return!l.isAuthenticated&&!!a&&a&&!c&&n("unauth_dweb_closeup_redesign",{dangerouslySkipActivation:void 0!==t&&t}).anyEnabled}},260259:function(e,t,n){n.d(t,{Z:function(){return ti}});var r=n(739405),o=n(387784),i=n(20256),a=n(693068),l=n(230201),c=n(24246),s=n(216975),u=n(247387),d=n(59355),_=n(737368),f=n(924591),m=n(681698),p=n(935059),h=n(808022),g=n(501010),b=n(661376),A=n(577356);function y(e){switch(e){case"instagram":return"Instagram";case"youtube":return"YouTube";case"etsy":default:return"Etsy";case"amazon":return"Amazon";case"target":return"Target";case"amazon_storefront":return"Amazon Storefront"}}var v=n(523421),E=n(636698),P=n(680811);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e,t,n){var r;return(r=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==S(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function j(e){var t,n,r,i,a=e.children,u=(0,l.u)().logContextEvent,d=(0,c.Z)(),_=(0,h.k)(),S=(0,A.dI)(),O=S.showToast,w=S.showOneToast,j=(0,p.Z)(),k=(0,g.Z)().checkExperiment,R=k("web_amazon_storefront_account_linking").anyEnabled,z=(0,E.Z)(),L=z.networks,M=z.handleSetNetworks,N=z.refresh,D=z.handleSetError,U=T((0,o.useState)(null),2),G=U[0],B=U[1],Z=T((0,o.useState)(null),2),H=Z[0],W=Z[1],V=T((0,o.useState)(!1),2),F=V[0],Y=V[1],K=null==(r=(0,b.Z)({name:"UserSettingsResource",noCache:!0}).data)||null==(i=r.instagram_data)?void 0:i.is_new_api,X=k("ads_wtb_carting_single_product_ga_mikmak").anyEnabled,J=function(e){var t=e.network,n=e.enabled,r=e.callbacks,o=e.networkData,i=r||{},a=i.onSuccess,l=void 0===a?function(){}:a,c=i.onFailure,u=void 0===c?function(){}:c,m=i.onExitAuth,p=void 0===m?function(){}:m,h=y(t);D(null),_.handleConnect({network:t,networkData:o,connect:n,callback:{success:function(e){var r,o=e.resource_response.data;l(o),L[t]=x(x(x({},L[t]),o||{}),{},{enabled:n}),M(L),N(),r=!K&&n?d._('You reclaimed your Instagram account!', 'ClaimInstagram.ReclaimButton.Done.Success.Toast', 'Tells the user that they have reclaimed their Instagram account.'):(0,s.nk)(n?d._('{{networkName}} account successfully claimed', 'ClaimAccounts.AccountClaimed.ToastText', 'text indicating a third party account was successfully claimed, networkName: social network name'):d._('{{networkName}} account successfully unclaimed', 'ClaimAccounts.AccountUnclaimed.ToastText', 'text indicating a third party account was successfully unclaimed, networkName: social network name'),{networkName:h}).join(""),n&&!(j.isAuth&&j.isPartner)?W(t):w(function(e){var t=e.hideToast;return(0,P.jsx)(f.Z,{onHide:t,text:r})})},error:function(e){var r=e.message,o=e.code;u(),Y(!1),D(C({},t,{errorMessage:r,errorCode:o}));var i=r||(0,s.nk)(n?d._('Failed to connect to {{networkName}}', 'ClaimAccounts.ConnectionFailure.ToastText', 'error text for third party account claiming connection failure'):d._('Failed to disconnect to {{networkName}}', 'ClaimAccounts.DisconnectionFailure.ToastText', 'error text for third party account claiming disconnect failure'),{networkName:h}).join("");w(function(e){var t=e.hideToast;return(0,P.jsx)(f.Z,{onHide:t,text:i,type:"error"})})},complete:function(e){Y(!1),e&&p()}},i18n:d})},q=function(e){var t=e.callbacks,n=e.network,r=e.networkData;O(function(e){var t=e.hideToast;return(0,P.jsx)(f.Z,{duration:6e3,onHide:t,text:d._('Connecting...', 'ClaimAccounts.Connecting.ToastText', 'text indicating a third party account connection is being attempted')})}),J({network:n,enabled:!0,callbacks:t,networkData:r}),Y(!0)},Q=function(e){var t=e.callbacks,n=e.network;O(function(e){var t=e.hideToast;return(0,P.jsx)(f.Z,{duration:6e3,onHide:t,text:d._('Disconnecting...', 'ClaimAccounts.Disconnecting.ToastText', 'text indicating a third party account connection is being disconnected')})}),J({network:n,enabled:!1,callbacks:t}),Y(!1)},$=function(){B(null),W(null)},ee=function(e){B(v.v.UNCLAIM),W(e)},et=function(e){return function(t){var n=e.network,r=e.enabled,o=e.reclaim,i=e.aipUrl,a=e.signUpCode,l=e.oneTimePasscode;if(u({event_type:101,element:10897,view_type:7,aux_data:{third_party_network:n,is_third_party_network_enabled:r}}),r||o){var c="amazon_storefront"===n?{amazon_storefront:{aipUrl:i,signUpCode:a,oneTimePasscode:l}}:void 0;q({network:n,callbacks:t,networkData:c})}else ee(n)}},en=(t=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return B(v.v.AMAZON_STOREFRONT_LINKING_INTERSTITIAL),e.prev=1,e.next=4,(0,m.Z)({url:"/v3/connect/amazon_storefront/attempt/",method:"POST"});case 4:et({network:"amazon_storefront",enabled:!0,reclaim:!1,oneTimePasscode:(t=e.sent.resource_response.data).one_time_passcode,aipUrl:t.aip_url,signUpCode:t.sign_up_code})({onSuccess:function(e){var t=e.pinterestOtp;t&&(0,m.Z)({url:"/v3/connect/amazon_storefront/validate/",method:"POST",data:{one_time_passcode:t}}),B(null)},onFailure:function(){B(null)}}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),n=(null===e.t0||void 0===e.t0?void 0:e.t0.message)||d._('Something went wrong', 'ClaimAccountsModal.AmazonStorefront.ApiError', 'Text for error from the api'),O(function(e){var t=e.hideToast;return(0,P.jsx)(f.Z,{duration:3e3,onHide:t,text:n,type:"error"})}),$();case 14:case"end":return e.stop()}},e,null,[[1,9]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){I(i,r,o,a,l,"next",e)}function l(e){I(i,r,o,a,l,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)}),er=L.instagram,eo=L.instagram.connected;return a({amazonConnected:L.amazon.connected,handleAmazonStorefrontLinkingAttempt:en,handleButtonClick:et,handleSetModal:B,handleUnclaimModalConfirm:function(e){H&&Q({network:H,callbacks:e}),$()},handleUnclaimModalHide:$,instagramConnected:eo,instagramNetworkInfo:er,isAmazonStorefrontLinkingEnabled:R,isShowMikmakConnectOption:X,modalVariant:G,network:H,showLoading:F&&!eo,showOneToast:w,targetConnected:L.target.connected,viewer:j})}var k=n(465784);function R(){var e=(0,c.Z)();return(0,P.jsx)(k.ZP,{accessibilityModalLabel:e._('Connect your account to Amazon', 'ClaimAccountsModal.AmazonStorefrontInterstitial.AccessibilityLabel', 'Title for Amazon Storefront Account Linking modal'),onDismiss:function(){},size:"sm",children:(0,P.jsx)(i.xu,{padding:8,children:(0,P.jsx)(i.xu,{paddingY:6,children:(0,P.jsxs)(i.kC,{alignItems:"center",direction:"column",gap:8,children:[(0,P.jsx)(i.xH,{show:!0}),(0,P.jsx)(i.X6,{align:"center",size:"600",children:e._('Next, connect your account to Amazon', 'ClaimAccountsModal.AmazonStorefrontInterstitial.Heading', 'Heading for Amazon Storefront Account Linking interstitial modal')}),(0,P.jsx)(i.xv,{size:"300",children:e._('One moment while we redirect you.', 'ClaimAccountsModal.AmazonStorefrontInterstitial.Subheading', 'Subheading for Amazon Storefront Account Linking interstitial modal')})]})})})})}var z=(0,P.jsxs)("svg",{height:"40",viewBox:"-4 -4 48 48",width:"40",xmlns:"http://www.w3.org/2000/svg",children:[(0,P.jsx)("defs",{children:(0,P.jsx)("clipPath",{id:"circleClip",children:(0,P.jsx)("circle",{cx:"20",cy:"20",r:"22"})})}),(0,P.jsx)("g",{clipPath:"url(#circleClip)",children:(0,P.jsxs)("g",{transform:"scale(0.06) translate(-50, -220)",children:[(0,P.jsx)("path",{d:"\nM669.000000,1105.000000 C446.000000,1105.000000 223.500031,1105.000000 1.000030,1105.000000 C1.000020,737.000061 1.000020,369.000061 1.000010,1.000079 C246.333298,1.000053 491.666595,1.000053 736.999878,1.000026 C736.999939,368.999908 736.999939,736.999817 737.000000,1104.999878 C714.500000,1105.000000 692.000000,1105.000000 669.000000,1105.000000\nM170.822083,532.922119 C152.633499,523.906799 134.443802,514.893677 116.257568,505.873627 C113.504890,504.508362 110.500183,502.944916 108.142159,506.019135 C105.609512,509.321014 107.848404,511.896118 110.338707,514.142273 C110.833458,514.588501 111.311447,515.053467 111.810234,515.494995 C143.501144,543.550232 178.819122,565.907410 217.860184,582.212341 C279.515320,607.961609 343.690491,617.133728 410.073120,609.907410 C460.413788,604.427368 508.325470,590.562195 552.724609,565.808350 C563.013733,560.071899 572.675293,553.179688 582.432373,546.535461 C585.673767,544.328247 587.282654,540.819824 585.021729,536.931946 C582.816772,533.140198 579.197693,532.185364 575.072571,533.114624 C573.790222,533.403442 572.583801,534.044312 571.354797,534.553223 C513.221130,558.622925 452.738129,571.981934 389.834869,573.993469 C347.525208,575.346497 305.668762,571.310608 264.285461,562.398743 C232.462784,555.545715 201.521210,545.889832 170.822083,532.922119\nM537.752014,509.309784 C536.529541,511.450562 535.307007,513.591370 534.084473,515.732117 C536.471130,516.303528 538.892883,517.471008 541.237854,517.333130 C547.880127,516.942566 554.476074,515.666687 561.117615,515.385620 C571.092957,514.963379 581.111938,514.641235 591.075439,515.092224 C605.255127,515.734131 609.208984,520.525879 606.723511,534.537048 C605.132690,543.505005 602.403320,552.316833 599.600098,561.010254 C597.051025,568.915710 593.567200,576.516113 590.836060,584.369446 C590.238220,586.088440 591.082703,588.309021 591.262939,590.298645 C593.247375,589.933105 595.414001,589.943481 597.164734,589.095459 C598.890686,588.259338 600.230896,586.591370 601.679260,585.223633 C610.552673,576.844116 616.812866,566.661438 621.627991,555.584106 C628.050354,540.809021 632.631226,525.539917 632.049622,509.198944 C631.757263,500.985962 629.927307,498.194611 621.697876,497.096161 C609.718567,495.497131 597.547546,494.118378 585.510315,494.463043 C568.683411,494.944794 552.625488,499.412567 537.752014,509.309784\nz",fill:"#F47025",opacity:"1.000000",stroke:"none"}),(0,P.jsx)("path",{d:"\nM171.177032,533.065674 C201.521210,545.889832 232.462784,555.545715 264.285461,562.398743 C305.668762,571.310608 347.525208,575.346497 389.834869,573.993469 C452.738129,571.981934 513.221130,558.622925 571.354797,534.553223 C572.583801,534.044312 573.790222,533.403442 575.072571,533.114624 C579.197693,532.185364 582.816772,533.140198 585.021729,536.931946 C587.282654,540.819824 585.673767,544.328247 582.432373,546.535461 C572.675293,553.179688 563.013733,560.071899 552.724609,565.808350 C508.325470,590.562195 460.413788,604.427368 410.073120,609.907410 C343.690491,617.133728 279.515320,607.961609 217.860184,582.212341 C178.819122,565.907410 143.501144,543.550232 111.810234,515.494995 C111.311447,515.053467 110.833458,514.588501 110.338707,514.142273 C107.848404,511.896118 105.609512,509.321014 108.142159,506.019135 C110.500183,502.944916 113.504890,504.508362 116.257568,505.873627 C134.443802,514.893677 152.633499,523.906799 171.177032,533.065674\nz",fill:"#FDFCF8",opacity:"1.000000",stroke:"none"}),(0,P.jsx)("path",{d:"\nM538.048828,509.120056 C552.625488,499.412567 568.683411,494.944794 585.510315,494.463043 C597.547546,494.118378 609.718567,495.497131 621.697876,497.096161 C629.927307,498.194611 631.757263,500.985962 632.049622,509.198944 C632.631226,525.539917 628.050354,540.809021 621.627991,555.584106 C616.812866,566.661438 610.552673,576.844116 601.679260,585.223633 C600.230896,586.591370 598.890686,588.259338 597.164734,589.095459 C595.414001,589.943481 593.247375,589.933105 591.262939,590.298645 C591.082703,588.309021 590.238220,586.088440 590.836060,584.369446 C593.567200,576.516113 597.051025,568.915710 599.600098,561.010254 C602.403320,552.316833 605.132690,543.505005 606.723511,534.537048 C609.208984,520.525879 605.255127,515.734131 591.075439,515.092224 C581.111938,514.641235 571.092957,514.963379 561.117615,515.385620 C554.476074,515.666687 547.880127,516.942566 541.237854,517.333130 C538.892883,517.471008 536.471130,516.303528 534.084473,515.732117 C535.307007,513.591370 536.529541,511.450562 538.048828,509.120056\nz",fill:"#FDFAF4",opacity:"1.000000",stroke:"none"})]})})]});function L(e){var t=e.onAmazonStorefrontLinkingAttempt,n=e.onDismiss,r=(0,c.Z)();return(0,P.jsx)(k.ZP,{accessibilityModalLabel:r._('Claim Amazon Storefront', 'ClaimAccountsModal.AmazonStorefront.AccessibilityLabel', 'Title for Amazon Storefront Account Linking modal'),footer:(0,P.jsxs)(i.kC,{gap:2,children:[(0,P.jsx)(i.kC.Item,{flex:"grow",children:(0,P.jsx)(i.zx,{fullWidth:!0,onClick:n,size:"lg",text:r._('Don\'t Allow', 'ClaimAccountsModal.AmazonStorefront.DontAllowText', 'Cancel button text for Amazon Storefront Account Linking modal')})}),(0,P.jsx)(i.kC.Item,{flex:"grow",children:(0,P.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:t,size:"lg",text:r._('Give Access', 'ClaimAccountsModal.AmazonStorefront.ConfirmText', 'Confirm button text to initiate Amazon Storefront Account Linking')})})]}),onDismiss:n,size:"sm",children:(0,P.jsxs)(i.xu,{padding:8,children:[(0,P.jsx)(i.xu,{paddingY:4,children:(0,P.jsxs)(i.kC,{alignItems:"center",direction:"column",gap:2,children:[(0,P.jsxs)(i.kC,{alignItems:"center",direction:"row",gap:2,children:[(0,P.jsx)(i.JO,{accessibilityLabel:r._('Pinterest', 'ClaimAccountsModal.AmazonStorefront.PinterestIcon', 'Pinterest icon'),color:"brandPrimary",icon:"pinterest",size:40}),(0,P.jsx)(i.JO,{accessibilityLabel:r._('Link account', 'ClaimAccountsModal.AmazonStorefront.LinkAccountIcon', 'Accessibility label for link account icon'),color:"dark",icon:"switch-account",size:24}),z]}),(0,P.jsx)(i.X6,{size:"500",children:r._('Connect Amazon Storefront', 'ClaimAccountsModal.AmazonStorefront.Title', 'Title for Amazon Storefront Account Linking modal')}),(0,P.jsxs)(i.xu,{children:[(0,P.jsx)(i.xv,{size:"200",children:r._('Connect your Amazon Storefront,', 'ClaimAccountsModal.AmazonStorefront.SubTitle1', 'Subtitle for Amazon Storefront Account Linking modal')}),(0,P.jsx)(i.xv,{size:"200",children:r._('monetize your Pinterest content', 'ClaimAccountsModal.AmazonStorefront.SubTitle2', 'Subtitle for Amazon Storefront Account Linking modal')})]})]})}),(0,P.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#E6F4FF"}},padding:8,rounding:4,children:(0,P.jsxs)(i.kC,{direction:"column",gap:6,children:[(0,P.jsxs)(i.xu,{children:[(0,P.jsx)(i.JO,{accessibilityLabel:r._('Affiliate linking', 'ClaimAccountsModal.AmazonStorefront.AffiliateLinking', 'Accessibility label for affiliate linking icon'),icon:"tag"}),(0,P.jsx)(i.xv,{size:"300",weight:"bold",children:r._('Access your affiliate links from Amazon', 'ClaimAccountsModal.AmazonStorefront.AccessAffiliateLinks', 'Text to access your affiliate links from Amazon')}),(0,P.jsx)(i.xu,{marginTop:2,children:(0,P.jsx)(i.xv,{size:"200",children:r._('To enable you to\xA0connect your Amazon Storefront to Pinterest and to include affiliate links with your Pinterest content, Pinterest will share your Pinterest user ID with Amazon and Amazon will share your Store ID with us.', 'ClaimAccountsModal.AmazonStorefront.ConnectionRequirements', 'Description of the connection requirements for Amazon Storefront Account Linking')})})]}),(0,P.jsx)(i.xv,{size:"200",children:(0,s.nk)(r._('Your participation is subject to the Amazon Associate Program Operating Agreement, available\xA0{{agreementLink}}', 'ClaimAccountsModal.AmazonStorefront.AmazonAssociateProgramOperatingAgreement', 'Statement that participation in Amazon Storefront Account Linking is subject to the Amazon Associate Program Operating Agreement. agreementLink: Link to the Amazon Associate Program Operating Agreement'),{agreementLink:(0,P.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:(0,P.jsx)(i.rU,{display:"inlineBlock",href:"https://affiliate-program.amazon.com/help/operating/agreement",target:"blank",underline:"hover",children:r._('Learn more', 'ClaimAccountsModal.AmazonStorefront.AmazonAssociateProgramOperatingAgreementLearnMore', 'Text link for learning more about RSS auto publish')})},"learn-more-text")})})]})})]})})}var M=function(e){var t=e.onHide,n=e.onConfirm,r=e.network,o=(0,c.Z)(),a=(0,s.nk)(o._('Once your Instagram account is disconnected, new {{network}} posts will not be published on Pinterest. This will not impact any of your existing Pins created from auto-publish.', 'UnclaimAccountModal.AccountUnclaimTitle.Message.Revised', 'Text asking user if they want to continue unclaiming their account, network: social network name'),{network:r}).join(""),l=o._('By unclaiming your account you will stop seeing more relevant ads and lose access to fast checkout. You will have the option to claim your account again next time you purchase from Amazon on Pinterest.', 'UnclaimAccountModal.AmazonAccountUnclaimTitle.Message', 'Text asking user if they want to continue unclaiming their amazon account'),u=o._('This will remove access to fast checkout on eligible Target ads. Once unlinked, you will only be able to link the account again through an eligible Target ad.', 'UnclaimAccountModal.AmazonAccountUnclaimTitle.Message', 'Text asking user if they want to continue unlink their target account');return(0,P.jsx)(k.ZP,{accessibilityModalLabel:o._('Unclaim Account', 'UnclaimAccountModal.AccountUnclaim.AccessibilityLabel', 'Title for unclaiming account confirmation modal'),footer:(0,P.jsxs)(i.kC,{alignItems:"stretch",gap:2,justifyContent:"end",children:[(0,P.jsx)(i.xu,{children:(0,P.jsx)(i.zx,{onClick:t,size:"md",text:o._('Cancel', 'UnclaimAccountModal.AccountUnclaimButton.CancelText', 'Cancel button text for unclaiming account confirmation modal')})}),(0,P.jsx)(i.xu,{children:(0,P.jsx)(i.zx,{color:"red",dataTestId:"modal-unclaim-button",onClick:n,size:"md",text:o._('Confirm', 'confirmation.modal.button.confirm', 'A button to confirm yes to the current action')})})]}),heading:(0,P.jsx)(i.kC,{alignContent:"center",justifyContent:"start",children:(0,P.jsx)(i.X6,{size:"400",children:(0,s.nk)(o._('Unclaim your {{network}} account?', 'UnclaimAccountModal.AccountUnclaim.NewTitle', 'Title for unclaiming account confirmation modal, network: social network name'),{network:r}).join("")})}),onDismiss:t,size:"sm",children:!!r&&(0,P.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",margin:"auto",marginStart:2,paddingX:4,paddingY:4,children:(0,P.jsx)(i.xv,{overflow:"normal",children:function(e){switch(e.toLowerCase()){case"amazon":return l;case"target":return u;default:return a}}(r)})})})};function N(e){var t=e.instagramAccountClaimingLogging,n=e.network,r=e.onAmazonStorefrontLinkingAttempt,o=e.onUnclaimModalConfirm,i=e.onUnclaimModalHide;switch(e.variant){case v.v.UNCLAIM:return n?(0,P.jsx)(M,{network:y(n),onConfirm:function(){o("instagram"===n?{onSuccess:t.logAccountUnclaimingSuccess,onFailure:t.logAccountUnclaimingFailure}:null)},onHide:i}):null;case v.v.AMAZON_STOREFRONT_LINKING:return(0,P.jsx)(L,{onAmazonStorefrontLinkingAttempt:r,onDismiss:i});case v.v.AMAZON_STOREFRONT_LINKING_INTERSTITIAL:return(0,P.jsx)(R,{});default:return null}}var D=n(385667),U=n(620280);function G(){var e=(0,r.ZP)();return(0,r.Kf)(e)?4081:(0,r.ds)(e)?3706:(0,r.dA)(e)?4082:void 0}var B=function(e){var t=(0,c.Z)(),n=e.claimNetwork,r=e.connected,o=G(),a=(0,l.u)().logContextEvent,s=function(e){return a({event_type:e,view_type:7,view_parameter:o,aux_data:{shopping_integration_type:"amazon"}})};return r?(0,P.jsx)(U.Z,{button:(0,P.jsx)(i.zx,{color:"gray",onClick:function(){n()({onSuccess:function(){return s(15425)},onFailure:function(){return s(15426)}})},size:"md",text:t._('Unclaim', 'ClaimAmazon.UnclaimText', 'Button text to unclaim a verified domain')}),dataTestId:"amazon-account-container",description:t._('Check out more quickly and see more relevant ads', 'ClaimAmazon.description.text', 'description of Amazon claiming feature'),descriptionTestId:"claim-amazon-text-container",icon:(0,P.jsx)(D.Z,{network:"amazon"}),title:t._('Amazon', 'ClaimAmazon.Label', 'Amazon account claiming label.')}):null};function Z(e){var t=e.onSetModal,n=(0,c.Z)();return(0,P.jsx)(U.Z,{button:(0,P.jsx)(i.zx,{onClick:function(){return t(v.v.AMAZON_STOREFRONT_LINKING)},text:n._('Claim', 'ClaimAccounts.ClaimAmazonStorefront.ClaimText', 'Button text to claim an Amazon Storefront account')}),dataTestId:"claim-amazon-storefront",description:(0,s.nk)(n._('Add your Amazon storefront to make creating affiliate linked content even easier. {{ learnMore }}', 'ClaimAccounts.ClaimAmazonStorefront.AmazonStorefrontDescription', 'Shopify account claiming description label. learnMore: Text link for learning more about Amazon Storefront claiming'),{learnMore:(0,P.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:(0,P.jsx)(i.rU,{display:"inlineBlock",href:u.i0v,target:"blank",underline:"hover",children:n._('Learn more', 'ClaimAccounts.ClaimAmazonStorefront.AmazonStorefrontDescription.LearnMoreLink', 'Text link for learning more about claiming an Amazon Storefront account')})},"learn-more-text")}),icon:(0,P.jsx)(D.Z,{network:"amazon"}),title:n._('Amazon Storefront', 'ClaimAccounts.ClaimAmazonStorefront.AmazonStorefront', 'Amazon Storefront account claiming label.')})}var H=n(124440);function W(e){var t=e.children,n=G(),r=(0,l.u)().logContextEvent,o=function(e){return r({event_type:e,view_type:7,view_parameter:n})},i=function(e){return function(t){return function(){return r({event_type:102,element:e,view_type:7,view_parameter:n,aux_data:t})}}},a=i(10429),c=a({action:"claim"}),s=a({action:"reclaim"}),u=a({action:"unclaim"}),d=i(11746);return t({logAccountClaimingFailure:function(){return o(14652)},logAccountClaimingSuccess:function(){return o(14651)},logAccountClaimingExitAuth:function(){return o(15597)},logAccountReclaimingFailure:function(){return o(14654)},logAccountReclaimingSuccess:function(){return o(14653)},logAccountUnclaimingFailure:function(){return o(14656)},logAccountUnclaimingSuccess:function(){return o(14655)},logAutoPublishFailure:function(e){return r({event_type:14658,view_type:7,view_parameter:n,aux_data:{action:e.action}})},logAutoPublishSuccess:function(e){return r({event_type:14657,view_type:7,view_parameter:n,aux_data:{action:e.action}})},logTapClaim:c,logTapDisableAutoPublish:d({action:"disable"}),logTapEnableAutoPublish:function(e,t,n){return d({action:"enable",publish_all:e,board_id:t,section_id:n})()},logTapPauseAutoPublish:d({action:"pause"}),logTapUnpauseAutoPublish:function(e){return d({action:"unpause",publish_all:e})()},logTapUpdateBoard:function(e,t){return d(t?{action:"update",board_id:e,section_id:t}:{action:"update",board_id:e})()},logTapReclaim:s,logTapUnclaim:u,logTapDone:function(e){var t={action:"done"};e&&(t.backfill_option=e),a(t)()},logViewBackfillMigrationSuccess:function(){r({event_type:13,view_type:721,view_parameter:3706})},logTapBackfillMigrationSuccessDone:function(){r({event_type:102,view_type:721,view_parameter:3706})},logUpdateFilterKeywordsSuccess:function(){return o(17540)},logUpdateFilterKeywordsFailure:function(){return o(17541)}})}var V=n(721703),F=n(583875),Y=n(893957),K=n(860981),X=function(e){try{return JSON.parse(e)}catch(e){return{domains:[{domain:"",status:"FAILURE"}],tag:{status:"FAILURE"},feature_flags:{catalog:!1,tags:!1,CAPI:!1}}}},J=n(492343);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=q(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==q(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ee(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function et(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ee(i,r,o,a,l,"next",e)}function l(e){ee(i,r,o,a,l,"throw",e)}a(void 0)})}}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return er(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?er(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eo=function(e){var t=e.label,n=e.status,r=e.isLoading,o=(0,c.Z)(),a={"OPT-OUT":o._('Opted out', 'ClaimLojaStore.optedOut', 'Status label for opted out'),SUCCESS:o._('Success', 'ClaimLojaStore.connected', 'Status label for connected'),FAILURE:o._('Please disconnect and try again', 'ClaimLojaStore.failed', 'Status label for failed')};return(0,P.jsxs)(i.kC,{alignItems:"center",children:[(0,P.jsx)(i.JO,{accessibilityLabel:o._('Status Icon', 'ClaimLojaStore.icon', 'Icon for status'),color:{FAILURE:"error",SUCCESS:"success","OPT-OUT":"disabled"}[n],dangerouslySetSvgPath:{__path:"M12,8 A4,4 0 1,0 12,16 A4,4 0 1,0 12,8"},size:24}),(0,P.jsxs)(i.kC,{direction:"column",children:[(0,P.jsx)(i.xv,{size:"200",children:t}),(0,P.jsx)(i.xv,{color:"subtle",size:"100",children:a[n]})]}),r&&(0,P.jsx)(i.xu,{marginStart:3,children:(0,P.jsx)(i.xH,{show:!0,size:"sm"})})]})},ei=function(e){var t,n,r,a,l,u,d,_=e.integrationMetadata,f=e.refresh,p=(0,c.Z)(),h=X(_.partner_metadata),g=h.domains,b=h.tag,y=h.feature_flags,v=null==g?void 0:g[0],E=en((0,o.useState)(!1),2),S=E[0],I=E[1],O=en((0,o.useState)(!1),2),x=O[0],C=O[1],T=en((0,o.useState)(!1),2),w=T[0],j=T[1],k=en((0,o.useState)(!1),2),R=k[0],z=k[1],L=(0,A.dI)().showToast,M=function(){I(!1)},N=(t=et(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,(0,m.Z)({url:"/v3/integrations/commerce/disconnect/",method:"POST",data:{external_business_id:_.external_business_id}});case 4:L(function(e){var t=e.hideToast;return(0,P.jsx)(F.FN,{duration:5e3,onHide:t,text:null!=v&&v.domain?(0,s.Wc)(p._('{{domain}} disconnected successfully', 'ClaimLoja.StoreDisconnected', 'Toast message for successful store disconnection. domain: store domain'),{domain:v.domain}):p._('Store disconnected successfully', 'ClaimLoja.StoreDisconnectedUnknownDomain', 'Toast message for successful store disconnection'),type:"success"})}),f(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),L(function(e){var t=e.hideToast;return(0,P.jsx)(F.FN,{duration:5e3,onHide:t,text:null!=v&&v.domain?(0,s.Wc)(p._('{{domain}} could not be disconnected', 'ClaimLoja.DisconnectError', 'Toast message for error on store disconnection. domain: store domain'),{domain:null==v?void 0:v.domain}):p._('Store could not be disconnected', 'ClaimLoja.DisconnectErrorUnknownDomain', 'Toast message for error on store disconnection')})});case 11:M(),C(!1);case 13:case"end":return e.stop()}},e,null,[[1,8]])})),function(){return t.apply(this,arguments)}),D=(n=et(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return",K.bc.FAILURE);case 2:return e.prev=2,z(!0),e.next=6,(0,K.eP)(_.external_business_id,0);case 6:return e.next=8,(0,K.v0)(v.domain);case 8:t=K.bc.SUCCESS,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),t=K.bc.FAILURE;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}},e,null,[[2,11]])})),function(){return n.apply(this,arguments)}),U=(r=et(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,K.OE)((0,J.Z)(),_.external_business_id,{partner_metadata:JSON.stringify($($({},JSON.parse(_.partner_metadata)),{},{domains:[{domain:null==v?void 0:v.domain,status:t}],tag:{status:n}}))});case 3:f(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,null,[[0,6]])})),function(e,t){return r.apply(this,arguments)}),G=(a=et(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,(0,K.eP)(_.external_business_id,1);case 4:t=K.bc.SUCCESS,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t=K.bc.FAILURE;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return a.apply(this,arguments)}),B=(l=et(regeneratorRuntime.mark(function e(){var t,n,r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(r=null!=(t=null==v?void 0:v.status)?t:K.bc.FAILURE)!==K.bc.FAILURE){e.next=6;break}return e.next=5,D();case 5:r=e.sent;case 6:if(o=X(_.partner_metadata).feature_flags,i=null!=(n=null==b?void 0:b.status)?n:K.bc.FAILURE,!((null==o?void 0:o.tags)&&_.connected_tag_id&&i!==K.bc.OPT_OUT)){e.next=13;break}return e.next=12,G();case 12:i=e.sent;case 13:if(r!==K.bc.SUCCESS&&i!==K.bc.SUCCESS){e.next=16;break}return e.next=16,U(r,i);case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(0);case 20:z(!1),j(!1);case 22:case"end":return e.stop()}},e,null,[[0,18]])})),function(){return l.apply(this,arguments)});return(0,Y.Z)(function(){B()}),(0,P.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[S&&(0,P.jsx)(F.u_,{accessibilityModalLabel:p._('Disconnect modal', 'ClaimLoja.DisconnectModal', 'Disconnect modal label'),footer:(0,P.jsxs)(i.kC,{gap:2,justifyContent:"end",children:[(0,P.jsx)(i.zx,{color:"gray",dataTestId:"claim-loja-cancel-modal-button",onClick:M,size:"md",text:p._('Cancel', '[m10n]ClaimLoja.CancelButton', 'Cancel')}),(0,P.jsx)(i.zx,{accessibilityLabel:p._('Confirm disconnect', '[m10n]ClaimLoja.ConfirmDisconect', 'Confirm disconnect button label'),color:"red",dataTestId:"claim-loja-disconnect-modal-button",disabled:x,onClick:N,size:"md",text:p._('Disconnect', '[m10n]ClaimLoja.DisconnectButton', 'Disconnect button')})]}),heading:(0,P.jsx)(i.X6,{size:"400",children:p._('Are you sure you want to disconnect?', '[m10n]ClaimLoja.DisconnectModalHeader', 'Header Disconnect Flow')}),onDismiss:M,size:"sm",children:(0,P.jsx)(i.xu,{margin:5,children:(0,P.jsx)(i.xv,{children:p._('By disconnecting your account from the app, your product feeds and integration data will be deleted and your Pinterest tag and Conversions API will be removed from your website.', '[m10n]ClaimLoja.DisconnectModalMessage', 'Disconnect Message Flow')})})}),(0,P.jsxs)(i.kC,{direction:"column",gap:2,children:[(0,P.jsx)(eo,{isLoading:R,label:p._('Domain', 'ClaimLojaStore.Domain', 'Label for Loja domain status'),status:null!=(u=null==v?void 0:v.status)?u:K.bc.FAILURE}),(0,P.jsx)(eo,{isLoading:w,label:p._('Tag', 'ClaimLojaStore.Tag', 'Label for Loja tag status'),status:null!=(d=null==b?void 0:b.status)?d:K.bc.FAILURE}),(0,P.jsx)(eo,{label:p._('Catalog', 'ClaimLojaStore.Catalog', 'Label for Loja catalog status'),status:null!=y&&y.catalog?K.bc.SUCCESS:K.bc.OPT_OUT})]}),(0,P.jsx)(i.zx,{dataTestId:"claim-loja-disconnect",onClick:function(){I(!0)},size:"md",text:p._('Disconnect', 'ClaimLojaStore.Disconnect', 'Button to disconnect store label')})]},_.external_business_id)},ea=function(){var e=(0,c.Z)(),t=(0,p.Z)(),n=(0,b.Z)({name:"ApiResource",options:{url:"/v3/integrations/commerce/",data:{integration_client_id:(0,J.Z)()}}}),r=n.data,o=n.isLoaded,a=n.refresh;return o&&Array.isArray(null==r?void 0:r.coin_metadata)?(0,P.jsxs)(i.xu,{children:[(0,P.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,P.jsxs)(i.kC,{children:[(0,P.jsx)(i.xu,{marginEnd:4,minWidth:24,width:24,children:(0,P.jsx)(i.Ee,{alt:"Loja Integrada Icon",naturalHeight:24,naturalWidth:24,src:"https://i.pinimg.com/originals/71/20/d6/7120d6defda05f04b3c8d0b5919901fe.png"})}),(0,P.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,P.jsx)(i.X6,{accessibilityLevel:2,size:"300",children:e._('Loja Integrada', 'ClaimLoja.Label', 'Loja Integrada account claiming label.')}),(0,P.jsx)(i.xv,{size:"200",children:e._('Pinterest\'s integration with Loja Integrada streamlines onboarding to Pinterest for Business, simplifies ad management, and boosts store traffic and sales for merchants.', 'ClaimLoja.description.text', 'Description of Loja Integrada claiming feature')})]})]}),(0,P.jsx)(i.kC,{children:0===r.coin_metadata.length&&(0,P.jsx)(i.zx,{color:"gray",dataTestId:"claim-loja-connect",onClick:function(){if(t.isAuth){var e=(0,V.Z)({site:"www",path:"/business/commerce-integrations/loja/connect/"}),n=(0,V.Z)({site:"www",path:"/settings/claim"}),r="".concat(e,"?client_id=").concat((0,J.Z)(),"&redirect_uri=").concat(encodeURIComponent(n),"&use_middleware=false&state=").concat(t.id);window.open(r,"commerceIntegrationPopup","width=570,height=700,popup=yes,left=200,top=200")}},size:"md",text:e._('Connect', 'ClaimLoja.Connect.Text', 'Button prompt to connect a Loja store')})})]}),r.coin_metadata.length>0&&(0,P.jsxs)(i.xu,{marginStart:10,children:[(0,P.jsx)(i.xu,{marginBottom:2,marginTop:4,children:(0,P.jsx)(i.xv,{size:"200",weight:"bold",children:e._('Your stores:', 'ClaimLoja.YourStores', 'Label for the list of stores')})}),(0,P.jsx)(i.UQ.Expandable,{borderStyle:"none",id:"accordion-claim-loja",items:r.coin_metadata.map(function(t){var n,r,o=X(t.partner_metadata).domains;return{title:null!=(n=null==o||null==(r=o[0])?void 0:r.domain)?n:e._('No domain provided', 'ClaimLoja.NoDomainProvided', 'Label for no domain provided'),children:(0,P.jsx)(ei,{integrationMetadata:t,refresh:a})}}),size:"sm"})]})]}):null},el=n(633490);function ec(e){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function es(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=ec(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ec(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ec(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ef={apiKey:"",wtbId:"",apiKeyError:"",wtbIdError:"",isLoading:!1,showNetworkError:!1};function em(e,t){switch(t.type){case"SET_API_KEY":return e_(e_({},e),{},{apiKey:t.value,apiKeyError:e.apiKeyError&&t.value.trim()?"":e.apiKeyError});case"SET_WTB_ID":return e_(e_({},e),{},{wtbId:t.value,wtbIdError:e.wtbIdError&&t.value.trim()?"":e.wtbIdError});case"SET_LOADING":return e_(e_({},e),{},{isLoading:t.isLoading});case"SET_FIELD_ERRORS":return e_(e_({},e),{},{apiKeyError:t.apiKeyError,wtbIdError:t.wtbIdError,isLoading:!1,showNetworkError:!1});case"SET_NETWORK_ERROR":return e_(e_({},e),{},{showNetworkError:t.show,isLoading:!1});case"CLEAR_ERRORS":return e_(e_({},e),{},{apiKeyError:"",wtbIdError:"",showNetworkError:!1});case"RESET":return ef;default:return e}}var ep=function(e){var t,n,r,a=e.onHide,l=e.onConnect,s=e.accountId,u=e.advertiserName,d=(0,c.Z)(),_=function(e){if(Array.isArray(e))return e}(t=(0,o.useReducer)(em,ef))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eu(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eu(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=_[0],p=_[1],h=!f.apiKey.trim()||!f.wtbId.trim()||f.isLoading,g=(n=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!f.apiKey.trim()||!f.wtbId.trim())){e.next=2;break}return e.abrupt("return");case 2:return p({type:"SET_LOADING",isLoading:!0}),p({type:"CLEAR_ERRORS"}),e.prev=4,t={integration_metadata:JSON.stringify({client_id:(0,el.qu)().CLIENT_ID,external_business_id:"carting_mikmak_".concat(s),connected_advertiser_id:s,partner_access_token:f.apiKey.trim(),additional_id_1:f.wtbId.trim()})},e.next=8,(0,m.Z)({url:"/v3/integrations/commerce/",method:"POST",data:t});case 8:l(f.apiKey.trim(),f.wtbId.trim()),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),6134===(r=null==(n=e.t0)?void 0:n.api_error_code)?p({type:"SET_FIELD_ERRORS",apiKeyError:d._('Please copy your API Access Key exactly as written in your email from MikMak', 'ClaimMikMakModal.InvalidApiKeyError', 'Invalid API key error message'),wtbIdError:""}):6135===r?p({type:"SET_FIELD_ERRORS",apiKeyError:"",wtbIdError:d._('Please copy your WTB ID exactly as written in your email from MikMak', 'ClaimMikMakModal.InvalidWtbIdError', 'Invalid WTB ID error message')}):6133===r?p({type:"SET_FIELD_ERRORS",apiKeyError:d._('Invalid Connection Details provided for MikMak Integration', 'ClaimMikMakModal.InvalidConnectionDetailsError', 'Invalid connection details error message'),wtbIdError:d._('Invalid Connection Details provided for MikMak Integration', 'ClaimMikMakModal.InvalidConnectionDetailsError', 'Invalid connection details error message')}):p({type:"SET_NETWORK_ERROR",show:!0});case 16:case"end":return e.stop()}},e,null,[[4,11]])}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){es(i,r,o,a,l,"next",e)}function l(e){es(i,r,o,a,l,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)});return f.showNetworkError?(0,P.jsx)(k.ZP,{accessibilityModalLabel:d._('Connect your MikMak account with Pinterest', 'ClaimMikMakModal.AccessibilityLabel', 'Modal accessibility label'),footer:null,heading:(0,P.jsx)(i.W2,{children:(0,P.jsx)(i.xu,{color:"default",children:(0,P.jsx)(i.kC,{alignItems:"center",justifyContent:"end",children:(0,P.jsx)(i.hU,{accessibilityLabel:d._('Close modal', 'ClaimMikMakModal.CloseButton.AccessibilityLabel', 'Close button label'),icon:"cancel",onClick:a,size:"sm"})})})}),onDismiss:a,size:"sm",children:(0,P.jsx)(i.xu,{height:490,maxWidth:552,minWidth:320,width:540,children:(0,P.jsx)(i.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:(0,P.jsx)(i.W2,{children:(0,P.jsx)(i.xu,{color:"default",paddingX:6,children:(0,P.jsxs)(i.kC,{alignItems:"center",direction:"column",gap:4,height:400,justifyContent:"center",children:[(0,P.jsx)(i.JO,{accessibilityLabel:"Error",color:"subtle",icon:"circle-information-fill",size:"24"}),(0,P.jsx)(i.X6,{accessibilityLevel:2,size:"400",children:d._('Oops! Something went wrong', 'ClaimMikMakModal.Error500.Title', '500 error title')}),(0,P.jsx)(i.xv,{align:"center",size:"300",children:d._('Check your internet connection and try again later after sometime.', 'ClaimMikMakModal.Error500.Description', '500 error description')}),(0,P.jsx)(i.zx,{color:"gray",onClick:function(){p({type:"SET_NETWORK_ERROR",show:!1})},size:"lg",text:d._('Try again', 'ClaimMikMakModal.TryAgainButton', 'Try again button text')})]})})})})})}):(0,P.jsx)(k.ZP,{accessibilityModalLabel:d._('Connect your MikMak account with Pinterest', 'ClaimMikMakModal.AccessibilityLabel', 'Modal accessibility label'),footer:null,heading:(0,P.jsx)(i.W2,{children:(0,P.jsx)(i.xu,{color:"default",children:(0,P.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,P.jsx)(i.X6,{size:"400",children:d._('Connect your MikMak account with Pinterest', 'ClaimMikMakModal.Title', 'Modal title')}),(0,P.jsx)(i.hU,{accessibilityLabel:d._('Close modal', 'ClaimMikMakModal.CloseButton.AccessibilityLabel', 'Close button label'),icon:"cancel",onClick:a,size:"sm"})]})})}),onDismiss:a,size:"sm",children:(0,P.jsx)(i.xu,{"data-test-id":"mikmak-connect-modal",height:490,maxWidth:552,minWidth:320,width:540,children:f.isLoading?(0,P.jsxs)(i.kC,{direction:"column",gap:2,children:[(0,P.jsx)(i.xu,{height:390,children:(0,P.jsx)(i.kC,{alignItems:"center",direction:"column",gap:4,height:"100%",justifyContent:"center",children:(0,P.jsx)(i.xH,{accessibilityLabel:"Loading",show:!0,size:"lg"})})}),(0,P.jsx)(i.xu,{paddingX:6,paddingY:4,children:(0,P.jsxs)(i.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[(0,P.jsx)(i.zx,{color:"gray",onClick:a,size:"lg",text:d._('Cancel', 'ClaimMikMakModal.CancelButton', 'Cancel button text')}),(0,P.jsx)(i.zx,{color:"red",disabled:!0,size:"lg",text:d._('Connect', 'ClaimMikMakModal.ConnectingButton', 'Connecting button text')})]})})]}):(0,P.jsxs)(i.xu,{height:"100%",position:"relative",children:[(0,P.jsx)(i.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:(0,P.jsx)(i.W2,{children:(0,P.jsx)(i.xu,{color:"default",children:(0,P.jsxs)(i.kC,{direction:"column",gap:2,children:[(0,P.jsx)(i.xu,{paddingX:6,children:(0,P.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,P.jsxs)(i.xv,{size:"200",children:[d._('To get started, contact MikMak by emailing', 'ClaimMikMakModal.Description.ContactStart', 'Contact instruction'),(0,P.jsx)("br",{}),(0,P.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:d._('publishers@mikmak.com', 'ClaimMikMakModal.Description.EmailAddress', 'Email address')}),d._(' (you can also cc your MikMak contacts) to request your WTB ID and API Access Key. Once you receive both, return to this page and enter the keys in the fields provided.', 'ClaimMikMakModal.Description.ContactEnd', 'Contact instruction end')]}),(0,P.jsx)(i.xu,{color:"elevationAccent",padding:4,rounding:4,width:"100%",children:(0,P.jsx)(i.W2,{children:(0,P.jsxs)(i.kC,{direction:"column",gap:3,children:[(0,P.jsx)(i.xv,{size:"200",children:d._('Ad account that will be connected:', 'ClaimMikMakModal.AdAccountConnected', 'Account connection text')}),(0,P.jsxs)(i.kC,{direction:"column",children:[(0,P.jsx)(i.xv,{dataTestId:"ad-account-name",size:"200",weight:"bold",children:u}),(0,P.jsxs)(i.xv,{dataTestId:"ad-account-number",size:"200",children:[d._('Ad account: ', 'ClaimMikMakModal.AccountIdLabel', 'Account ID label'),s||"N/A"]})]})]})})})]})}),(0,P.jsx)(i.xu,{paddingX:6,width:"100%",children:(0,P.jsxs)(i.kC,{direction:"column",gap:4,width:"100%",children:[(0,P.jsxs)(i.xu,{children:[(0,P.jsx)(i.xv,{size:"100",weight:"normal",children:d._('WTB ID', 'ClaimMikMakModal.WtbIdLabel', 'WTB ID label')}),(0,P.jsx)(i.nv,{errorMessage:f.wtbIdError||void 0,id:"mikmak-wtb-id",onChange:function(e){return p({type:"SET_WTB_ID",value:e.value})},placeholder:d._('Enter WTB ID', 'ClaimMikMakModal.WtbIdPlaceholder', 'WTB ID placeholder'),size:"lg",type:"text",value:f.wtbId})]}),(0,P.jsxs)(i.xu,{marginTop:3,children:[(0,P.jsx)(i.xv,{size:"100",weight:"normal",children:d._('Access Key', 'ClaimMikMakModal.ApiKeyLabel', 'Access key label')}),(0,P.jsx)(i.nv,{errorMessage:f.apiKeyError||void 0,id:"mikmak-api-key",onChange:function(e){return p({type:"SET_API_KEY",value:e.value})},placeholder:d._('Enter access key', 'ClaimMikMakModal.ApiKeyPlaceholder', 'Access key placeholder'),size:"lg",type:"text",value:f.apiKey})]})]})})]})})})}),(0,P.jsx)(i.xu,{bottom:!0,marginBottom:4,position:"absolute",width:"100%",children:(0,P.jsx)(i.xu,{paddingX:6,paddingY:2,children:(0,P.jsxs)(i.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[(0,P.jsx)(i.zx,{color:"gray",dataTestId:"cancel-button",onClick:a,size:"lg",text:d._('Cancel', 'ClaimMikMakModal.CancelButton', 'Cancel button text')}),(0,P.jsx)(i.zx,{color:"red",dataTestId:"connect-button",disabled:h,onClick:g,size:"lg",text:d._('Connect', 'ClaimMikMakModal.ConnectButton', 'Connect button text')})]})})})]})})})};function eh(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}var eg=function(e){var t,n,r=e.onHide,o=e.onDisconnect,a=e.accountId,l=e.advertiserName,s=(0,c.Z)(),u=(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.Z)({url:"/v3/integrations/commerce/disconnect/",method:"POST",data:{external_business_id:"carting_mikmak_".concat(a)}});case 3:o(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o();case 9:case"end":return e.stop()}},e,null,[[0,6]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){eh(i,r,o,a,l,"next",e)}function l(e){eh(i,r,o,a,l,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)});return(0,P.jsx)(k.ZP,{accessibilityModalLabel:s._('Disconnect your MikMak account', 'ClaimMikMakDisconnectModal.AccessibilityLabel', 'Modal accessibility label'),footer:null,heading:(0,P.jsxs)(i.kC,{alignItems:"center",gap:2,children:[(0,P.jsx)(i.JO,{accessibilityLabel:"Warning",color:"warning",icon:"workflow-status-warning-fill",size:"24"}),(0,P.jsx)(i.X6,{size:"400",children:s._('Disconnect your MikMak account', 'ClaimMikMakDisconnectModal.HeaderTitle', 'Modal header title')})]}),onDismiss:r,size:"sm",children:(0,P.jsx)(i.xu,{"data-test-id":"mikmak-disconnect-modal",paddingX:6,paddingY:3,children:(0,P.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,P.jsx)(i.xv,{size:"300",children:s._('Make sure no MikMak ad campaigns are currently running before you disconnect. If campaigns are still running, disconnecting your account will lead to an error for users.', 'ClaimMikMakDisconnectModal.Description', 'Disconnect description')}),(0,P.jsxs)(i.xu,{color:"secondary",padding:4,rounding:4,children:[(0,P.jsx)(i.xv,{size:"200",children:s._('Ad account that will be disconnected:', 'ClaimMikMakDisconnectModal.AdAccountDisconnected', 'Account disconnection text')}),(0,P.jsxs)(i.xu,{marginTop:4,children:[(0,P.jsx)(i.xv,{dataTestId:"ad-account-name",size:"200",weight:"bold",children:l}),(0,P.jsxs)(i.xv,{dataTestId:"ad-account-number",size:"200",children:[s._('Ad account: ', 'ClaimMikMakDisconnectModal.AccountIdLabel', 'Account ID label'),a||"N/A"]})]})]}),(0,P.jsxs)(i.kC,{gap:2,justifyContent:"end",children:[(0,P.jsx)(i.zx,{color:"gray",dataTestId:"connect-button",onClick:r,size:"lg",text:s._('Cancel', 'ClaimMikMakDisconnectModal.CancelButton', 'Cancel button text')}),(0,P.jsx)(i.zx,{color:"red",dataTestId:"disconnect-button",onClick:u,size:"lg",text:s._('Disconnect', 'ClaimMikMakDisconnectModal.DisconnectButton', 'Disconnect button text')})]})]})})})},eb=n(183230);function eA(e){return(eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(n),!0).forEach(function(t){eE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eE(e,t,n){var r;return(r=function(e,t){if("object"!=eA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eA(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==eA(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eP(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function eS(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){eP(i,r,o,a,l,"next",e)}function l(e){eP(i,r,o,a,l,"throw",e)}a(void 0)})}}function eI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eO(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eO(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ex=function(){var e=(0,c.Z)();return(0,P.jsx)(i.qb,{subtext:e._('Not connected', 'ClaimMikMak.StatusNotConnected', 'Not connected status for MikMak connection'),title:e._('Integration status', 'ClaimMikMak.IntegrationStatus', 'Integration status for MikMak connection'),type:"warning"})},eC=function(){var e=(0,c.Z)();return(0,P.jsx)(i.qb,{subtext:e._('Success', 'ClaimMikMak.StatusSuccess', 'Success status for MikMak connection'),title:e._('Integration status', 'ClaimMikMak.IntegrationStatus', 'Integration status for MikMak connection'),type:"ok"})},eT=function(){var e=(0,c.Z)();return(0,P.jsx)(i.qb,{subtext:e._('There was a problem', 'ClaimMikMak.StatusProblem', 'Problem status for MikMak connection'),title:e._('Integration status', 'ClaimMikMak.IntegrationStatus', 'Integration status for MikMak connection'),type:"warning"})},ew=function(e){var t,n,r,a,s,u=e.onSuccess,d=e.onError,_=(0,c.Z)(),f=(0,p.Z)(),m=(0,l.u)().logContextEvent,h=eI((0,o.useState)(!1),2),g=h[0],A=h[1],y=eI((0,o.useState)(!1),2),v=y[0],E=y[1],S=eI((0,o.useState)(""),2),I=S[0],O=S[1],x=eI((0,o.useState)(""),2),C=x[0],T=x[1],w=eI((0,o.useState)(new Set),2),j=w[0],k=w[1],R=eI((0,o.useState)({}),2),z=R[0],L=R[1],M=eI((0,o.useState)({}),2),N=M[0],D=M[1],U=Object.keys(N).filter(function(e){return N[e]}),G=f.isAuth&&"id"in f?f.id:"",B=(t=f.isAuth?f.id:"",r=(n=(0,b.Z)({name:"ApiResource",options:{url:"/ads/v4/advertisers",data:{owner_user_id:t,include_acl:!1}}})).data,a=n.error,{advertisers:(0,o.useMemo)(function(){return r&&Array.isArray(r)&&r.length>0?r.map(function(e){return{id:e.id,name:e.name}}):[]},[r]),error:a}),Z=B.advertisers,H=B.error;H&&(0,eb.T)({name:"useCartingAdvertisersError",message:"Error fetching advertisers in ClaimMikMak",message_detail:JSON.stringify({user_id:G,error_message:H instanceof Error?H.message:String(H)}),stack:H instanceof Error?H.stack:void 0}),(0,o.useEffect)(function(){var e,t=(e=eS(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(G){e.next=2;break}return e.abrupt("return");case 2:return t=Z.map(function(){var e=eS(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,el.Zp)(G,t.id);case 3:return n=e.sent,e.abrupt("return",{advertiserId:t.id,result:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{advertiserId:t.id,result:null});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(t);case 5:n=e.sent,r={},o={},n.forEach(function(e){var t,n,i=e.advertiserId,a=e.result;r[i]=null!=(t=null==a?void 0:a.integrationStatus)?t:null,o[i]=null!=(n=null==a?void 0:a.isConnected)&&n}),L(r),D(o);case 11:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});Z.length>0&&t()},[Z,f,G]);var W=function(){A(!1),O(""),T("")},V=function(){E(!1),O(""),T("")},F=function(e,t,n){O(t),T(n),A(!0)},Y=function(e,t,n){O(t),T(n),E(!0)},K=(s=eS(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(L(function(e){return ev(ev({},e),{},eE({},C,!0))}),D(function(e){return ev(ev({},e),{},eE({},C,!0))}),W(),u&&u(!1),m({event_type:101,view_type:750,component:15460}),!(r=f.isAuth&&"id"in f?f.id:"")){e.next=18;break}return e.prev=7,e.next=10,(0,el.Zp)(r,C);case 10:(null==(o=e.sent)?void 0:o.integrationStatus)!==!0&&(L(function(e){var t;return ev(ev({},e),{},eE({},C,null!=(t=null==o?void 0:o.integrationStatus)?t:null))}),D(function(e){var t;return ev(ev({},e),{},eE({},C,null!=(t=null==o?void 0:o.isConnected)&&t))})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),(0,eb.T)({name:"MikMakBackgroundVerificationError",message:"Background verification failed after successful connection",filename:"ClaimMikMak.tsx",message_detail:"Failed to verify connection for advertiser ".concat(C)}),d&&d(_._('There was an issue verifying your connection. Your account appears connected, but you may want to check your connection status.', 'ClaimMikMak.BackgroundVerificationError', 'Error message when background verification fails after successful connection'));case 18:case"end":return e.stop()}},e,null,[[7,14]])})),function(e,t){return s.apply(this,arguments)}),X=function(e){k(function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})};return(0,P.jsxs)(o.Fragment,{children:[(0,P.jsx)(i.kC,{alignItems:"center",justifyContent:"between",children:(0,P.jsxs)(i.kC,{children:[(0,P.jsx)(i.xu,{marginEnd:4,minWidth:24,width:24,children:(0,P.jsx)(i.Ee,{alt:"MikMak Logo",naturalHeight:24,naturalWidth:24,src:"https://i.pinimg.com/originals/24/f6/16/24f6167ca68bd8757d4f350a1099fa7f.png"})}),(0,P.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,P.jsx)(i.X6,{accessibilityLevel:2,size:"300",children:_._('MikMak', 'ClaimMikMak.Label', 'MikMak account claiming label.')}),(0,P.jsxs)(i.xv,{size:"200",children:[_._('Run ads that lead to retailer websites by connecting your MikMak account.', 'ClaimMikMak.description.text', 'description of MikMak claiming feature')," ",(0,P.jsx)(i.xv,{color:"default",inline:!0,weight:"bold",children:(0,P.jsx)(i.rU,{display:"inline",href:"https://www.mikmak.com/",target:"blank",underline:"hover",children:_._('Learn more', 'ClaimMikMak.LearnMoreLink', 'Text link for learning more about claiming a MikMak account')})})]})]})]})}),(0,P.jsx)(i.xu,{marginStart:10,marginTop:4,children:(0,P.jsx)(i.xv,{size:"200",weight:"bold",children:_._('Your Ad Accounts:', 'ClaimMikMak.YourAdvertisers', 'Label for MikMak store connections')})}),(0,P.jsx)(i.xu,{marginStart:10,marginTop:2,maxWidth:510,children:(0,P.jsx)(i.kC,{direction:"column",children:Z.map(function(e,t){var n,r;return(0,P.jsxs)(i.xu,{"data-test-id":"mikmak-account-item-".concat(e.id),children:[(0,P.jsxs)(i.kC,{direction:"column",gap:2,children:[(0,P.jsx)(i.xu,{color:"transparent",paddingX:3,paddingY:2,rounding:3,children:(0,P.jsxs)(i.kC,{alignItems:"center",gap:8,justifyContent:"between",children:[(0,P.jsx)(i.xv,{dataTestId:"mikmak-account-item-name-".concat(e.id),size:"200",weight:"bold",children:e.name}),(0,P.jsxs)(i.kC,{alignItems:"center",direction:"row",gap:4,children:[U.includes(e.id)?(0,P.jsx)(i.zx,{color:"gray",dataTestId:"mikmak-disconnect-button-".concat(e.id),onClick:function(){return Y(e.id,e.name,e.id)},size:"md",text:_._('Disconnect', 'ClaimMikMak.DisconnectButton', 'Disconnect button for MikMak connection')}):(0,P.jsx)(i.zx,{color:"gray",dataTestId:"mikmak-connect-button-".concat(e.id),onClick:function(){return F(e.id,e.name,e.id)},size:"md",text:_._('Connect', 'ClaimMikMak.ConnectButton', 'Connect button for MikMak connection')}),(0,P.jsx)(i.hU,{accessibilityLabel:_._('Toggle details', 'ClaimMikMak.ToggleDetails', 'Toggle details for MikMak connection'),bgColor:"white",icon:j.has(e.id)?"arrow-up":"arrow-down",iconColor:"darkGray",onClick:function(){return X(e.id)},size:"md"})]})]})}),j.has(e.id)&&(0,P.jsx)(i.xu,{color:"transparent","data-test-id":"mikmak-account-item-integration-status-".concat(e.id),marginBottom:4,marginStart:3,rounding:3,children:(n=U.includes(e.id),r=z[e.id],n?n&&!0===r?(0,P.jsx)(eC,{}):(0,P.jsx)(eT,{}):(0,P.jsx)(ex,{}))})]}),t<Z.length-1&&(0,P.jsx)(i.xu,{marginStart:2,children:(0,P.jsx)(i.iz,{})})]},e.id)})})}),g&&(0,P.jsx)(ep,{accountId:C,advertiserName:I,onConnect:K,onHide:W}),v&&(0,P.jsx)(eg,{accountId:C,advertiserName:I,onDisconnect:function(){L(function(e){return ev(ev({},e),{},eE({},C,!1))}),D(function(e){return ev(ev({},e),{},eE({},C,!1))}),V(),u&&u(!0),m({event_type:101,view_type:750,component:15461})},onHide:V})]})},ej=n(816195),ek=n(774838),eR=n(255273);function ez(){var e,t=(0,l.u)().logContextEvent,n=(0,c.Z)(),r=(0,ek.B)().country,a=(0,p.Z)(),s=(0,b.Z)({name:"UserResource",options:{field_set_key:"partner_settings",user_id:a.isAuth&&a.id}}),d=s.data,_=s.isLoaded,f=null==d||null==(e=d.partner)?void 0:e.is_shopify_installed,m=r.toUpperCase();return a.isAuth&&a.isPartner&&eR.eo.includes(m)?(0,P.jsx)(i.xu,{"data-test-id":"claim-shopify",children:(0,P.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,P.jsxs)(i.xu,{children:[(0,P.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,P.jsx)(i.xu,{marginEnd:4,children:(0,P.jsx)(i.JO,{accessibilityLabel:n._('Shopify Icon', 'ClaimAccounts.ClaimShopify.icon', 'Icon for Shopify claiming'),color:"default",dangerouslySetSvgPath:{__path:ej.Z},size:24})}),(0,P.jsx)(i.xv,{weight:"bold",children:n._('Shopify', 'ClaimAccounts.ClaimShopify.Shopify', 'Shopify account claiming label.')})]}),(0,P.jsx)(i.xu,{marginStart:10,marginTop:1,children:(0,P.jsxs)(i.xv,{size:"200",children:[n._('Add your name and profile picture to Pins from your Shopify store, and automatically connect your catalog and install the Pinterest tag.', 'ClaimAccounts.ClaimShopify.ShopifyDescription', 'Shopify account claiming description label.')," ",(0,P.jsx)(i.xv,{color:"link",inline:!0,weight:"bold",children:(0,P.jsx)(i.rU,{display:"inline",href:u.i0v,target:"blank",underline:"hover",children:n._('Learn more', 'ClaimAccounts.ClaimShopify.ShopifyDescription.LearnMoreLink', 'Text link for learning more about claming an account')})})]})})]}),(0,P.jsx)(i.xu,{flex:"none",marginStart:3,children:_?(0,P.jsx)(o.Fragment,{children:f?(0,P.jsx)(i.ZP,{color:"red",href:"/settings/security/",onClick:function(){t({event_type:101,element:11890,view_type:7,aux_data:{ecommerce_upsell_link_to:"settings"}})},size:"lg",text:n._('App settings', 'ClaimShopify.ClaimButton.Text', 'Button prompt to see shopify account permissions')}):(0,P.jsx)(i.ZP,{color:"gray",href:u.x$l,onClick:function(){t({event_type:101,element:11890,view_type:7,aux_data:{ecommerce_upsell_link_to:"shopify"}})},size:"md",target:"blank",text:n._('Install app', 'ClaimShopify.ClaimButton.Text', 'Button prompt to claim shopify account')})}):(0,P.jsx)(i.xH,{accessibilityLabel:n._('Loading shopify data', 'ClaimShopify.Spinner', 'Accessibility label for shopify account claim loading spinner'),show:!0})})]})}):null}var eL=function(e){var t=(0,c.Z)(),n=e.claimNetwork,r=e.connected,o=G(),a=(0,l.u)().logContextEvent,s=function(e){return a({event_type:e,view_type:7,view_parameter:o,aux_data:{shopping_integration_type:"target"}})};return r?(0,P.jsx)(U.Z,{button:(0,P.jsx)(i.zx,{color:"gray",onClick:function(){n()({onSuccess:function(){return s(16763)},onFailure:function(){return s(16764)}})},size:"md",text:t._('Unlink', 'ClaimTarget.UnlinkText', 'Button text to unlink from Target account.')}),dataTestId:"target-account-container",description:t._('Your Target account is linked. This allows fast checkout on eligible Target ads.', 'ClaimTarget.description.text', 'description of target claiming feature'),descriptionTestId:"claim-target-text-container",icon:(0,P.jsx)(D.Z,{network:"target"}),title:t._('Target', 'ClaimTarget.Label', 'Target account claiming label.')}):null},eM=n(653551);function eN(e){var t=(0,c.Z)(),n=e.handleComplete,r=e.handleDismiss,o=e.network,a=o?(0,s.nk)(t._('{{network}} connected!', 'Claim.ClaimWebsiteBusinessAccountUpsellModal.NetworkMessage', 'text indicating a third party account was successfully connected'),{network:o}).join(""):null,l=(0,P.jsxs)(i.xu,{alignItems:"start",color:"default",display:"flex",height:468,justifyContent:"start",rounding:3,children:[(0,P.jsx)(i.xu,{height:468,width:284,children:(0,P.jsx)(i.Ee,{alt:t._('Convert your personal account to a business account,', 'claim.converttobusinessaccountmodal.image.alt', 'Pinners to convert their personal account to business account alt image'),fit:"cover",naturalHeight:468,naturalWidth:284,src:"https://i.pinimg.com/originals/d9/65/bf/d965bfd11586eafbf8de3bfddfd502a9.png"})}),(0,P.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",margin:2,width:470,children:(0,P.jsxs)(i.xu,{marginTop:2,padding:6,children:[a?(0,P.jsxs)(i.xu,{children:[(0,P.jsx)(i.X6,{overflow:"normal",size:"600",children:a}),(0,P.jsx)(i.X6,{overflow:"normal",size:"600",children:t._('Convert your account?', 'claim.ClaimWebsiteBusinessAccountUpsellModal.heading.convert', 'Title on modal to promote business account from claim website')})]}):(0,P.jsx)(i.X6,{overflow:"normal",size:"700",children:t._('Get more clicks, traffic and sales!', 'claim.converttobusinessaccountmodal.heading', 'Title on modal to promote business account from claim website')}),(0,P.jsxs)(i.xu,{paddingY:3,children:[(0,P.jsx)(i.xv,{inline:!0,size:"300",children:t._('Convert to a ', 'claim.converttobusinessaccountmodal.paragraph.convert.start', 'Introduction textto promote business account from claim website')})," ",(0,P.jsx)(i.xv,{inline:!0,size:"300",weight:"bold",children:t._('free', 'claim.converttobusinessaccountmodal.paragraph.convert.free', 'Highlighted Free word on modal to promote business account from claim website')})," ",(0,P.jsx)(i.xv,{inline:!0,size:"300",children:t._('Pinterest business account to unlock business tools that will help:', 'claim.converttobusinessaccountmodal.paragraph.convert.end', 'Introduction text to promote business account from claim website')})]}),(0,P.jsxs)(i.xu,{paddingY:3,children:[(0,P.jsxs)(i.xu,{display:"flex",paddingY:2,children:[(0,P.jsx)(i.xu,{paddingX:2,children:(0,P.jsx)(i.JO,{accessibilityLabel:"directional-arrow-right",color:"default",icon:"directional-arrow-right"})}),(0,P.jsx)(i.xv,{inline:!0,size:"300",children:t._('Grow your audience', 'claim.claim.converttobusinessaccountmodal.bullets.grow', 'Grow your audience bullet on modal to promote business account from claim website')})]}),(0,P.jsxs)(i.xu,{display:"flex",paddingY:2,children:[(0,P.jsx)(i.xu,{paddingX:2,children:(0,P.jsx)(i.JO,{accessibilityLabel:"directional-arrow-right",color:"default",icon:"directional-arrow-right"})}),(0,P.jsx)(i.xv,{inline:!0,size:"300",children:t._('Drive traffic', 'claim.claim.converttobusinessaccountmodal.bullets.drive', 'Drive traffic bullet on modal to promote business account from claim website')})]}),(0,P.jsxs)(i.xu,{display:"flex",paddingY:2,children:[(0,P.jsx)(i.xu,{paddingX:2,children:(0,P.jsx)(i.JO,{accessibilityLabel:"directional-arrow-right",color:"default",icon:"directional-arrow-right"})}),(0,P.jsx)(i.xv,{inline:!0,size:"300",children:t._('Sell more products', 'claim.claim.converttobusinessaccountmodal.bullets.sell', 'Sell more products bullet on modal to promote business account from claim website')})]})]}),(0,P.jsx)(i.xu,{paddingY:3,children:(0,P.jsx)(i.xv,{inline:!0,size:"300",children:t._('You\u2019ll keep your existing content and followers. You can undo this change at any time.', 'claim.cclaim.converttobusinessaccountmodal.paragraph.undochanges', 'Paragraph to undo changes on modal to promote business account from claim website')})}),(0,P.jsxs)(i.xu,{display:"flex",justifyContent:"between",paddingY:4,width:470,children:[(0,P.jsx)(i.zx,{color:"transparent",onClick:function(){return r()},size:"md",text:t._('Cancel', 'claim.converttobusinessaccountmodal.button.cancel', 'Cancel button on modal to promote business account from claim website')}),(0,P.jsx)(i.zx,{color:"red",onClick:function(){return n()},size:"sm",text:t._('Get started', 'claim.converttobusinessaccountmodal.button.getstarted', 'get started button on modal to promote business account from claim website')})]})]})})]});return(0,P.jsx)(k.ZP,{accessibilityModalLabel:t._('Convert your personal account to a business account,', 'claim.converttobusinessaccountmodal.accessibility.title', 'accessibility modal label on modal to promote business account from claim website'),heading:l,onDismiss:r,size:"md"})}var eD=n(863397),eU=n(581722),eG=n(80138),eB=n(218504),eZ=function(e){var t=e.onHide,n=e.onConfirm,r=e.website,o=(0,c.Z)();return(0,P.jsx)(k.ZP,{accessibilityModalLabel:o._('Unclaim Website', 'UnclaimWebsiteModal.WebsiteUnclaim.AccessibilityLabel', 'Title for unclaiming website confirmation modal'),footer:(0,P.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,P.jsx)(i.xu,{paddingX:1,children:(0,P.jsx)(i.zx,{onClick:t,size:"md",text:o._('Cancel', 'UnclaimWebsiteModal.WebsiteUnclaimButton.CancelText', 'Cancel button text for unclaiming website confirmation modal')})}),(0,P.jsx)(i.xu,{paddingX:1,children:(0,P.jsx)(i.zx,{color:"red",onClick:n,size:"md",text:o._('Unclaim', 'UnclaimWebsiteModal.WebsiteUnclaimButton.ConfirmText', 'Confirm button text for unclaiming website confirmation modal')})})]}),heading:(0,P.jsx)(i.xu,{alignContent:"center",display:"flex",justifyContent:"center",paddingX:2,paddingY:5,children:(0,P.jsx)(i.X6,{size:"400",children:o._('Unclaim Website', 'UnclaimWebsiteModal.WebsiteUnclaim.Title', 'Title for unclaiming website confirmation modal')})}),onDismiss:t,size:"sm",children:!!r&&(0,P.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",margin:"auto",marginStart:9,paddingX:7,paddingY:4,children:(0,P.jsx)(i.xv,{overflow:"normal",children:(0,s.nk)(o._('Are you sure you would like to unclaim {{website}}? It may affect your existing RSS feeds.', 'UnclaimWebsiteModal.WebsiteUnclaimTitle.Message', 'Text asking user if they want to continue unclaiming their website'),{website:r}).join("")})})})};function eH(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function eW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eV(e){var t,n,r,a=e.onUnclaimError,l=e.websiteURL,s=(0,c.Z)(),u=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eW(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eW(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=u[0],_=u[1],p=(0,A.dI)().showToast,h=(0,eU.I0)(),g=function(){p(function(e){var t=e.hideToast;return(0,P.jsx)(f.Z,{duration:1e3,onHide:t,text:s._('Successfully unclaimed!', 'VerifiedWebsite.UnclaimedWebsiteToast.SuccessText', 'Toast text for claimed website successfully disconnected')})})},b=(n=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.Z)({url:"/v3/websites/verification/",method:"DELETE",data:{website:l}});case 3:h((0,eB.GT)(l)),g(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a();case 10:case"end":return e.stop()}},e,null,[[0,7]])}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){eH(i,r,o,a,l,"next",e)}function l(e){eH(i,r,o,a,l,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)});return(0,P.jsxs)(i.xu,{alignItems:"center","data-test-id":"verfied-website",display:"flex",justifyContent:"between",marginBottom:7,children:[(0,P.jsx)(i.xu,{marginStart:10,children:(0,P.jsx)(i.xv,{color:"subtle",size:"200",children:(0,eG.Z)(l||"")})}),(0,P.jsx)(i.xu,{children:(0,P.jsx)(i.zx,{color:"gray",fullWidth:!0,onClick:function(){return _(!0)},text:s._('Unclaim', 'VerifiedWebsite.UnclaimedWebsiteButton.Text', 'Button text to unclaim a website')})}),d&&(0,P.jsx)(eZ,{onConfirm:function(){b(),_(!1)},onHide:function(){return _(!1)},website:l})]})}function eF(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function eY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eK(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eK(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eX=function(){var e=(0,c.Z)();return(0,P.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#FFF0F2"}},display:"flex",height:50,justifyContent:"center",rounding:3,children:[(0,P.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:(0,P.jsx)(i.JO,{accessibilityLabel:e._('Error Icon', 'Claim.ClaimWebsite.ErrorIcon', 'Icon for domain claiming related errors'),color:"error",icon:"workflow-status-problem",inline:!0,size:24})}),(0,P.jsx)(i.xu,{marginStart:4,children:(0,P.jsx)(i.xv,{size:"200",weight:"bold",children:e._('Oops something went wrong on our end. Please try again!', 'Claim.ClaimWebsite.ErrorText', 'Error text for domain claiming related errors')})})]})};function eJ(){var e,t,n=(0,l.u)().logContextEvent,r=(0,c.Z)(),a=eY((0,o.useState)(""),2),s=a[0],d=a[1],_=eY((0,o.useState)(),2),f=_[0],h=_[1],g=eY((0,o.useState)(!1),2),b=g[0],A=g[1],y=eY((0,o.useState)(!1),2),v=y[0],E=y[1],S=eY((0,o.useState)(!1),2),I=S[0],O=S[1],x=(0,eM.s0)(),C=(0,p.Z)(),T=C.isAuth?C.verifiedWebsites:void 0,w=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,(0,m.Z)({url:"/v3/websites/verification/",data:{can_claim_multiple:!0}});case 4:d(null==(t=e.sent.resource_response.data)?void 0:t.verification_code),A(!0),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),A(!1),h(!0);case 13:O(!1);case 14:case"end":return e.stop()}},e,null,[[0,9]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){eF(i,r,o,a,l,"next",e)}function l(e){eF(i,r,o,a,l,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)}),j=function(){w()};return(0,P.jsxs)(o.Fragment,{children:[(0,P.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,P.jsxs)(i.xu,{children:[(0,P.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,P.jsx)(i.xu,{marginEnd:4,children:(0,P.jsx)(i.JO,{accessibilityLabel:r._('Website Icon', 'claim.website.Icon', 'Icon for website claiming'),color:"default",icon:"globe",size:24})}),(0,P.jsx)(i.xv,{weight:"bold",children:r._('Websites', 'claim.websites.Text', 'Website claiming.')})]}),(0,P.jsx)(i.xu,{marginStart:10,marginTop:1,children:(0,P.jsxs)(i.xv,{size:"200",children:[r._('Get attribution for all Pins linking to your website on Pinterest.', 'ClaimWebsite.description.text', 'description of Instagram claiming feature')," ",(0,P.jsx)(i.xv,{color:"link",inline:!0,weight:"bold",children:(0,P.jsx)(i.rU,{display:"inline",href:u._PU,target:"blank",underline:"hover",children:r._('Learn more', 'ClaimWebsite.description.LearnMoreLink', 'Text link for learning more about claming a website')})})]})})]}),(0,P.jsx)(i.xu,{"data-test-id":"claim-website",flex:"none",marginStart:3,children:I?(0,P.jsx)(i.xH,{accessibilityLabel:r._('Retrieving verification code', '[m10n] claim.website.Spinner', 'Retrieving verification code indicator'),show:!0}):(0,P.jsx)(i.zx,{color:"gray",onClick:function(){return j()},size:"md",text:r._('Claim', 'claim.website.Button', 'Button text for website claiming')})})]}),f&&(0,P.jsx)(i.xu,{paddingY:3,children:(0,P.jsx)(eX,{})}),(null!=T?T:[]).map(function(e){return(0,P.jsx)(eV,{onUnclaimError:function(){return h(!0)},websiteURL:e},e)}),b&&(0,P.jsx)(eD.Z,{domainVerificationCode:s,onDone:function(){A(!1),C.isAuth&&C.isPartner||(E(!0),n({event_type:120,component:13885}))},onHide:function(){return A(!1)}}),v&&(0,P.jsx)(eN,{handleComplete:function(){n({event_type:101,component:13885}),E(!1),x("/business/convert/")},handleDismiss:function(){n({event_type:123,component:13885}),E(!1)}})]})}var eq=n(395986);function eQ(){var e=(0,c.Z)();return(0,P.jsx)(j,{children:function(t){var n=t.amazonConnected,r=t.handleSetModal,a=t.handleAmazonStorefrontLinkingAttempt,l=t.handleButtonClick,c=t.handleUnclaimModalConfirm,s=t.handleUnclaimModalHide,u=t.instagramConnected,d=t.instagramNetworkInfo,m=t.isAmazonStorefrontLinkingEnabled,p=t.isShowMikmakConnectOption,h=t.modalVariant,g=t.network,b=t.showLoading,A=t.showOneToast,y=t.targetConnected,v=t.viewer;return(0,P.jsx)(W,{children:function(t){return(0,P.jsxs)(o.Fragment,{children:[(0,P.jsxs)(i.xu,{"data-test-id":"claim-accounts-container",padding:1,position:"relative",children:[(0,P.jsxs)(i.kC,{direction:"column",gap:6,children:[(0,P.jsx)(H.ZP,{claimNetwork:function(e){return l({network:"instagram",enabled:!u,reclaim:e})},loggingFunctions:t,networkInfo:d}),(0,P.jsx)(eJ,{}),n&&(0,P.jsx)(B,{claimNetwork:function(){return l({network:"amazon",enabled:!n,reclaim:!1})},connected:n}),y&&(0,P.jsx)(eL,{claimNetwork:function(){return l({network:"target",enabled:!y,reclaim:!1})},connected:y}),(0,P.jsx)(ez,{}),m&&(0,P.jsx)(Z,{onSetModal:r}),v&&v.isAuth&&v.isPartner&&(0,P.jsx)(ea,{}),p&&(0,P.jsx)(i.xu,{"data-test-id":"mikmak-accounts-container",children:(0,P.jsx)(ew,{onError:function(e){A(function(t){var n=t.hideToast;return(0,P.jsx)(f.Z,{onHide:n,text:e,type:"error"})})},onSuccess:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||A(function(t){var n=t.hideToast;return(0,P.jsx)(f.Z,{onHide:n,text:e._('Success! Your MikMak account has been connected to your Pinterest account.', 'ClaimAccounts.MikMakConnectionSuccess.ToastText', 'Success message when MikMak account is connected'),type:"success"})})}})}),(0,P.jsx)(eq.Z,{})]}),b&&(0,P.jsx)(_.Z,{})]}),h&&(0,P.jsx)(N,{instagramAccountClaimingLogging:t,network:g,onAmazonStorefrontLinkingAttempt:a,onUnclaimModalConfirm:c,onUnclaimModalHide:s,variant:h})]})}})}})}function e$(){var e=(0,c.Z)(),t=(0,E.Z)().networks,n=G();return(0,d.Q)({view_type:7,view_parameter:n}),(0,P.jsx)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,P.jsx)(i.sg,{span:12,children:(0,P.jsx)(i.xu,{marginTop:4,children:t?(0,P.jsx)(eQ,{}):(0,P.jsx)(i.xu,{marginTop:10,children:(0,P.jsx)(i.xH,{accessibilityLabel:e._('User settings', ' - ', ' -- '),show:!0})})})})})}var e0=n(213491),e1=n(743841);function e2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e3="VALID",e5=(0,e0.Z)("InstagramErrorData"),e4=e5.Provider,e6=e5.get,e8=function(e){var t,n=e.children,r=null,a=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return e2(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e2(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],u=a[1],d=(0,o.useCallback)(function(e){return u(e)},[]),_=(0,c.Z)(),f=(0,e1.p)().instagramFeedResource,m=null==f?void 0:f.data,p=m&&m[0]||null,h=(0,E.Z)(),g=h.networks,b=h.error,A=g.instagram,y=A.connected,v=A.instagram_token_status,S=!!b,I=y&&(void 0===v?e3:v)!==e3,O=y&&p&&!p.board,x=!!(S||I||O);if((0,o.useEffect)(function(){u(x)},[x]),S&&b&&b.instagram){var C=b.instagram,T=C.errorCode,w=C.errorMessage;r=195===T?(0,s.nk)(_._('{{serverErrorMessage}} If you don\'t know which Pinterest account is connected, you can disconnect the link by going to the {{appsAndWebsitesLink}} settings page on Instagram. When you\u2019re ready, refresh this page and try claiming again.', 'ClaimAccounts.InstagramError', 'Instagram specific error message when an account is claimed by another user. serverErrorMessage:an error message about a failed account claiming process, appsAndWebsitesLink:a link to Instagram settings page'),{serverErrorMessage:w,appsAndWebsitesLink:(0,P.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,P.jsx)(i.rU,{href:"https://www.instagram.com/accounts/manage_access/",target:"blank",children:_._('Apps and Websites', 'ClaimAccounts.InstagramError.AppsAndWebsitesLink', 'Apps and websites link text')})})}):w}else I&&(r=_._('We\'re having trouble connecting to your account. Please reconnect to resume or to unclaim your account.', 'ClaimInstagram.tokenError.permissionRevoked.text.reconnect', 'warning for permission revoked instagram accounts'));var j=(0,o.useMemo)(function(){return{errorBannerShown:l,handleSetErrorBannerShown:d,errorBannerMessage:r}},[l,d,r]);return(0,P.jsx)(e4,{value:j,children:n})};function e7(){var e=(0,c.Z)(),t=e6(),n=t.errorBannerShown,r=t.handleSetErrorBannerShown,o=t.errorBannerMessage;return n&&o?(0,P.jsxs)(i.xu,{color:"errorWeak","data-test-id":"claim-error-banner",display:"flex",marginBottom:6,padding:4,rounding:2,children:[(0,P.jsx)(i.xu,{alignSelf:"center",marginEnd:3,children:(0,P.jsx)(i.JO,{accessibilityLabel:e._('Instagram error', 'ClaimInstagram.Error.label', 'Instagram account claiming error label'),color:"error",icon:"alert"})}),(0,P.jsx)(i.xu,{flex:"grow",marginEnd:3,children:(0,P.jsx)(i.xv,{size:"300",children:o})}),(0,P.jsx)(i.hU,{accessibilityLabel:e._('Dismiss modal', 'partner.nav.create.eduModal.dismissCta', 'Close button accessibility label for educational modal'),icon:"cancel",onClick:function(){return r(!1)},size:"xs"})]}):null}var e9=n(788004);function te(){var e=(0,c.Z)(),t=(0,l.u)().logContextEvent;return(0,o.useEffect)(function(){t({event_type:13,view_type:7,view_parameter:3706})},[t]),(0,P.jsx)(E.z,{children:(0,P.jsx)(a.U,{children:(0,P.jsx)(e1.I,{children:(0,P.jsx)(e8,{children:(0,P.jsx)(e9.default,{activeItem:"Claim",settingsError:(0,P.jsx)(e7,{}),settingsHeaderDescription:(0,s.nk)(e._('When you claim an account, you can monitor analytics and ensure your name or brand name appears on every Pin created from your sites. {{ learnMore }}', 'claim.claimaccount.ExplanationV2', 'Claim account explanation'),{learnMore:(0,P.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,P.jsx)(i.rU,{display:"inlineBlock",href:u.fTb,target:"blank",underline:"hover",children:e._('Learn more', 'claim.claimAccount.ExplanationV2.LearnMoreLink', 'Text link for learning more about claming an account')})},"login")}),viewParameter:3706,viewType:7,children:(0,P.jsx)(e$,{})})})})})})}var tt=n(271202),tn=n(134136),tr=n(50107);function to(){var e=(0,c.Z)(),t=(0,l.u)().logContextEvent,n=(0,b.Z)({name:"UserSettingsResource",options:{}}).data,r=G();return(0,o.useEffect)(function(){t({event_type:13,view_type:7,view_parameter:r})},[t,r]),n?(0,P.jsx)(E.z,{children:(0,P.jsx)(a.U,{children:(0,P.jsx)(e1.I,{children:(0,P.jsx)(e8,{children:(0,P.jsx)(tn.default,{hasFixedHeader:!0,children:(0,P.jsxs)(i.xu,{paddingX:2,children:[(0,P.jsx)(tt.default,{zIndexForGestaltBug:2,children:(0,P.jsx)(i.xu,{marginEnd:-2,marginStart:-2,children:(0,P.jsx)(tr.default,{heading:e._('Link to Pinterest', 'profile.ClaimedExternalAccounts.PageTopNav.Header', 'navigation button settings page'),legoSettingsEnabled:!0,previousUrl:"/settings/",shouldUseFallbackUrl:!0})})}),(0,P.jsx)(i.xu,{"data-test-id":"page-description",marginBottom:8,marginTop:1,children:(0,P.jsx)(i.xv,{align:"start",color:"subtle",size:"300",children:(0,s.nk)(e._('When you claim an account, you can monitor analytics and ensure your name or brand name appears on every Pin created from your sites. {{ learnMore }}', 'claim.claimaccount.ExplanationV2', 'Claim account explanation'),{learnMore:(0,P.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,P.jsx)(i.rU,{display:"inlineBlock",href:u.fTb,target:"blank",underline:"hover",children:e._('Learn more', 'claim.claimAccount.ExplanationV2.LearnMoreLink', 'Text link for learning more about claming an account')})},"login")})})}),(0,P.jsx)(e7,{}),(0,P.jsx)(e$,{})]})})})})})}):null}function ti(){return"desktop"===(0,r.ZP)()?(0,P.jsx)(te,{}):(0,P.jsx)(to,{})}},779686:function(e,t,n){function r(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function o(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:function(){return a},N8:function(){return o},Qv:function(){return i},_f:function(){return r},vX:function(){return l}});var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});return{type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}}};function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},438274:function(e,t){t.Z={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",AUTOMAGICAL_BOARD_FEED:"automagical-board-feed",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},254889:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(581722),o=n(653551),i=n(20256),a=n(4533),l=n(104999),c=n(746868),s=n(351736),u=n(24246),d=n(173874),_=n(34550),f=n(865043),m=n(736328),p=n(739405),h=n(680811);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t,n=e.alignIconLeft,b=e.bgColor,A=e.color,y=e.disableRedirect,v=void 0!==y&&y,E=e.fallbackUrl,P=e.icon,S=void 0===P?"arrow-back":P,I=e.onTouch,O=e.padding,x=e.placement,C=e.shouldUseFallbackUrl,T=e.size,w=void 0===T?"lg":T,j=e.viewParameter,k=e.viewType,R=e.isVisualSearch,z=(0,u.Z)(),L=(0,o.s0)(),M=(0,o.TH)(),N=(0,p.HG)(),D=(0,r.v9)(function(e){return e.session.isAuthenticated}),U=(0,l.Z)(),G=(0,m.Z)(),B=(0,s.vs)(),Z=(0,c.SU)(),H=Z.viewType,W=Z.viewParameter,V=function(e){if(Array.isArray(e))return e}(t=k?[k,j]:[H,W])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),F=V[0],Y=V[1],K=function(){var e=(0,_.M0)().getItem(a.pm);M.key||"/ideas"!==E?(0,f.My)("pinner_conversion.back_button.".concat(String(null==e?void 0:e[0].pageType))):(0,f.My)("pinner_conversion.back_button.no_history"),(0,f.My)("web_back_button_click.".concat(String(x),".is_auth_").concat(String(D))),G({action:"click",item:"back-button"}),F&&U({view_type:F,view_parameter:Y,element:34,event_type:102}),I&&I(),v||((!M.key||M.state&&"redirect"===M.state.referrer||C)&&E?L(E):M.pathname.includes("/password/reset/")&&M.search&&M.search.includes("?nativeShouldDismiss=true")?L("/login/?dismissWebview=true"):L(-1))},X=B?s.t4:"white",J=(0,d.am)(M)||R||"white"===A;return(0,h.jsx)(i.xu,{"data-test-id":"back-button",children:n?(0,h.jsx)(i.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===S?-1:-2,width:48,children:(0,h.jsx)(i.hU,{accessibilityLabel:z._('Back', 'navigation button', 'navigation button'),bgColor:b,icon:S,iconColor:!A&&(!b||["white","lightGray","transparent"].includes(b))?"gray":A,onClick:K,padding:"auto"!==O?O:2,size:w})}):(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:N||J||b?"":X,width:B&&!J?"fit-content":""}},rounding:"circle",children:(0,h.jsx)(i.hU,{accessibilityLabel:z._('Back', 'navigation button', 'navigation button'),bgColor:b||N?b:"transparent",icon:S,iconColor:!A&&(!b||["white","lightGray","transparent"].includes(b))?"gray":A,onClick:K,padding:"auto"!==O?O:2,size:w})})})}},492343:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(721703),o={CLIENT_ID:"1500559"},i={production:{CLIENT_ID:"1500559"},latest:o,staging:o,development:{CLIENT_ID:"1500559"}},a=function(){return(i[(0,r.m)()]||i.development).CLIENT_ID}}}]);