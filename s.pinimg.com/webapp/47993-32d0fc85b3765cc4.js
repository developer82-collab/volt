"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["47993"],{222078:function(e,t,r){r.r(t);var n,i,o=(i=[n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:i,storageKey:null}],type:"AdvisoryAction",abstractKey:null});o.hash="6ddea2ecd3dff2e1001c1e4d037cc858",t.default=o},5755:function(e,t,r){r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};n.hash="5879c4710b107f258f42156bf3e47e37",t.default=n},52950:function(e,t,r){r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};n.hash="4970946a36017d9ad0c751fd70cc512c",t.default=n},90486:function(e,t,r){r.r(t);var n,i,o,l=(i=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],o=[n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[n,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});l.hash="53d7eec34666980eda011429185b5b10",t.default=l},932334:function(e,t,r){r.r(t);var n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},n,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};i.hash="92b841173868ce353dd00b5fce287546",t.default=i},464788:function(e,t,r){r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"hasSensitivityNotices_sensitivity",selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],type:"Sensitivity",abstractKey:null};n.hash="547e5abdb645851996d6a1b1a4027c56",t.default=n},433100:function(e,t,r){r.d(t,{f:function(){return C},l:function(){return I}});var n=r(387784),i=r(178226),o=r(735243),l=r(477738),a=r(148),u=r(252974),c=r(250182),s=r(655068),d=r(531624),f=r(515511),p=r(213491),y=r(360033),v=r(986475),m=r(640200),b=r(680811);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(e,t)||g(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return x(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S=function(e,t,r){var n=null==t?void 0:t.find(function(e){var t,n=e.action;return(null==n||null==(t=n.filter)?void 0:t.product_filter_type)===r});if(n){var i=(0,v.Z)(m.Z,!0)(n),o=e.findIndex(function(e){var t,n=e.action;return(null==n||null==(t=n.filter)?void 0:t.productFilterType)===r});e[o]?e[o]=i:e.push(i)}},P=function(e,t,r,n){var i,o=n.find(function(t){var r,n=t.action;return"number"==typeof(null==n||null==(r=n.filter)?void 0:r.productFilterType)&&e.has(n.filter.productFilterType)});if(null!=o&&null!=(i=o.action)&&i.filter){var l=o.action.filter.filterOptions;o.action.filter.appliedFilterOptions="string"==typeof t?null==l?void 0:l.filter(function(e){return(null==e?void 0:e[r])&&t.split(",").includes(String(e[r]))}).map(function(e){return w(w({},e),{},{selected:!0})}):[]}},O=(0,p.Z)("OneBarProductFilters"),A=O.Provider,I=O.get;function C(e){var t,r=e.children,p=_((0,n.useState)([]),2),v=p[0],m=p[1],h=_((0,n.useState)(null),2),j=h[0],O=h[1],I=(t=(0,a.n)().scope,[l.lw.BOARDS,l.lw.PINS_BUYABLE,l.lw.PINS_VIDEO,l.lw.USERS].includes(t)),C=(0,d.Z)(),k=(0,c.Z)(),E=(0,i.Z)(),T=(0,o.Z)(),D=(0,s.Z)(),Z=(0,n.useCallback)(function(e){var t=e.oneBarModules,r=e.baseCacheKey,n=null==t?void 0:t.filter(function(e){var t=e.module_type;return 17===t||0===t});if(n&&(null==n?void 0:n.length)!==0&&r){var i=r!==j,o=i?[]:v;(i||!I)&&S(o,n,4),(i||!C)&&S(o,n,1),(i||!k)&&S(o,n,0),(i||!E)&&S(o,n,3),(i||!T)&&S(o,n,6),(i||!D)&&[7,8,9].forEach(function(e){S(o,n,e)}),(0,y.ZP)(o,v)||(m(o),O(r))}},[v,E,T,I,k,D,C,j]),B=(0,u.Z)(),F=(0,a.n)(),M=F.priceMax,z=F.priceMin,N=F.scope,R=F.brands,L=F.onSale,U=F.colors,q=F.domains;(0,n.useEffect)(function(){if(B&&0!==v.length){var e=(0,f.Z)(v);if(N!==l.lw.PINS){var t,r,n=(0,l.gi)(N),i=e.find(function(e){return 0===e.moduleType});null!=i&&null!=(r=i.action)&&r.filter&&(i.action.filter.appliedFilterOptions=((function(e){if(Array.isArray(e))return x(e)})(t=i.action.filter.filterOptions||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||g(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(Boolean).map(function(e){var t=e.searchType;return{searchType:t,selected:t===n}}))}if("string"==typeof M||"string"==typeof z){var o,a,u,c=e.find(function(e){var t,r=e.action;return(null==r||null==(t=r.filter)?void 0:t.productFilterType)===1});null!=c&&null!=(o=c.action)&&o.filter&&(c.action.filter.appliedFilterOptions=[null!=(a=c.action.filter.filterOptions)&&a[0]?w(w({},c.action.filter.filterOptions[0]),{},{numericValue:Number(z)}):null,null!=(u=c.action.filter.filterOptions)&&u[1]?w(w({},c.action.filter.filterOptions[1]),{},{numericValue:Number(M)}):null].filter(Boolean))}P(new Set([3]),R,"stringValue",e),P(new Set([6]),U,"stringValue",e),P(new Set([0]),q,"stringValue",e),P(new Set([7,8,9]),L,"numericValue",e),(0,y.ZP)(e,v)||m(e)}},[v,B,M,z,N,R,U,q,L]);var H=(0,n.useMemo)(function(){return{cachedProductFilterOneBarModules:v,cacheOneBarModules:Z}},[v,Z]);return(0,b.jsx)(A,{value:H,children:r})}},310878:function(e,t,r){r.d(t,{N$:function(){return W},wy:function(){return X},VA:function(){return K}});var n,i=r(387784),o=r(115821),l=r(433100),a=r(675450),u=r(17832),c=r(856853);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){var n;return(n=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e,t,r){return r&&(0,u.nZ)(r,t)?a.v.MODIFIED:(0,u.B1)(t,e)||r&&(0,u.Uv)(r,e)||(0,u.Uv)(t,e)?a.v.CLEARED:a.v.APPLIED};function b(e,t){(0,u.ph)(t);var r,n,i=e.find(function(e){return(null==e?void 0:e.id)===t.id}),o=null==i?void 0:i.rules,l=(null==i||null==(r=i.filter_options)||null==(n=r.find(function(e){return"selectedOptionId"in t&&e.id===t.selectedOptionId}))?void 0:n.rules)||o;if(!l)return[e,[]];var a=[],c=[];return e.forEach(function(e){void 0!==e.product_filter_type&&l.includes(e.product_filter_type)?a.push(e):c.push(e)}),[a,c]}function h(e,t){switch(t.type){case"RESET_FILTERS":var r=y(t.payload,2),n=r[0],i=r[1],o=n,l=(0,c.Z)(i)?(0,u.iP)(n):i;return Object.values(l).forEach(function(e){o=y(b(o,e),1)[0]}),{models:n,availableFilterModels:o,appliedFilters:i,filters:l,isFetching:!1,pendingDeletedSelections:{},status:m(n,i,l)};case"CLEAR_FILTERS":var s=e.models,d=(0,u.P5)(e.models);return Object.values(d).forEach(function(e){s=y(b(s,e),1)[0]}),f(f({},e),{},{filters:d,availableFilterModels:s,pendingDeletedSelections:{},status:m(e.models,e.appliedFilters,d)});case"UPDATE_FILTER":var v=t.payload,h=y(b(e.models,v),2),_=h[0],g=h[1],x=f(f({},e.filters),{},p({},v.id,v)),j=f({},e.pendingDeletedSelections);return _.forEach(function(e){if(e.id){var t=j[e.id];t&&(x[e.id]=t,delete j[e.id])}}),g.forEach(function(e){if(e.id){var t=x[e.id];t&&(j[e.id]=t,delete x[e.id])}}),(0,u.ph)(v,e.models.find(function(e){return e.id===v.id}))&&delete x[v.id],f(f({},e),{},{availableFilterModels:_,filters:x,pendingDeletedSelections:j,status:m(e.models,e.appliedFilters,x)});case"SUBMIT_FILTER":return f(f({},e),{},{pendingDeletedSelections:{},status:a.v.SUBMITTED});case"SUBMIT_FAILED":return f(f({},e),{},{status:a.v.FAILED});case"SUBMIT_COMPLETE":var w=e.filters;return f(f({},e),{},{appliedFilters:w,pendingDeletedSelections:{},status:m(e.models,w)});case"LOADING":return f(f({},e),{},{isFetching:!0});case"LOADING_COMPLETED_OR_FAILED":return f(f({},e),{},{isFetching:!1});default:return e}}var _=r(178226),g=r(735243),x=r(250182),j=r(655068),w=r(531624),S=r(360033);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(e,t)||O(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return A(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var I=new Set([1,0,3,6,7,8,9]),C=function(e,t,r){var n=null==t?void 0:t.find(function(e){return e.product_filter_type===r});if(n){var i=e.findIndex(function(e){return e.product_filter_type===r});e[i]?e[i]=n:e.push(n)}},k=function(e,t,r){var n=null==t?void 0:t.find(function(e){return e.product_filter_type===r});if(!n)return e;var i=e.findIndex(function(e){return e.product_filter_type===r});return e[i]?e[i]=n:e.push(n),e},E=r(252974),T=r(213491),D=r(661376),Z=r(148),B=r(657476),F=r(680811);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(e,t)||R(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return L(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var U=function(){},q=(0,T.Z)("UnifiedFiltersContext"),H=q.Provider,K=q.getMaybe,G=function(e){var t,r,n,o,l,c,s,d,f,p,y,v,m=e.applyInitFilters,b=e.children,T=e.filterModels,D=e.filters,B=e.isFetching,M=e.refreshFiltersData,R=(0,Z.n)().query,L=(0,E.Z)(),U=(r=(t=P((0,i.useState)([]),2))[0],n=t[1],l=(o=P((0,i.useState)(null),2))[0],c=o[1],s=(0,w.Z)(),d=(0,x.Z)(),f=(0,_.Z)(),p=(0,g.Z)(),y=(0,j.Z)(),v=(0,i.useCallback)(function(e){var t=e.unifiedFilterModels,i=e.baseCacheKey,o=null==t?void 0:t.filter(function(e){var t=e.product_filter_type;return void 0!==t&&I.has(t)});if(o&&(null==o?void 0:o.length)!==0&&i){var a=i!==l,u=a?[]:r;(a||!s)&&C(u,o,1),(a||!d)&&C(u,o,0),(a||!f)&&C(u,o,3),(a||!p)&&C(u,o,6),(a||!y)&&[7,8,9].forEach(function(e){C(u,o,e)}),(0,S.ZP)(u,r)||(n(u),c(i))}},[r,f,p,d,y,s,l]),{getCachedFilters:(0,i.useCallback)(function(e){if(!e||(null==e?void 0:e.length)===0)return[];var t=function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return s&&(t=k(t,r,1)),d&&(t=k(t,r,0)),f&&(t=k(t,r,3)),p&&(t=k(t,r,6)),y&&[7,8,9].forEach(function(e){t=k(t,r,e)}),t},[r,f,p,d,y,s]),cacheUnifiedFilterModelsWithProductFilters:v}),q=U.getCachedFilters,K=U.cacheUnifiedFilterModelsWithProductFilters,G=(null==m?void 0:m(T))||D||{},W=N((0,i.useReducer)(h,{models:T,availableFilterModels:T,appliedFilters:G,filters:G,pendingDeletedSelections:{},isFetching:B,status:(0,u.B1)(G,T)||(0,u.Uv)(G,T)?a.v.CLEARED:a.v.APPLIED}),2),V=W[0],X=W[1],$=N((0,i.useState)(T),2),J=$[0],Y=$[1];(0,i.useEffect)(function(){B&&X({type:"LOADING"})},[B]),(0,i.useEffect)(function(){if(!B&&(!V.isFetching||0!==T.length)){if(!(0,u.a$)(J,T))return void X({type:"LOADING_COMPLETED_OR_FAILED"});var e=T;L||(e=q(z(T)),K({unifiedFilterModels:z(T),baseCacheKey:R})),X({type:"RESET_FILTERS",payload:[e,(null==m?void 0:m(e))||{}]}),Y(T)}},[m,T,J,B,V.isFetching,q,K,R,L]);var Q=(0,i.useMemo)(function(){return{filterState:V,dispatch:X,refreshFiltersData:M}},[V,M]);return(0,F.jsx)(H,{value:Q,children:b})},W=function(e){var t=e.bookmark,r=void 0===t?"":t,n=e.children,i=e.generateInitFilterCb,o=(0,E.Z)(),a=(0,D.Z)(!o&&r?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:r}}}:null),c=a.data,s=a.refresh,d=a.isLoaded,f=(0,l.l)().cachedProductFilterOneBarModules.map(u.tx).filter(Boolean);return(0,F.jsx)(G,{applyInitFilters:i,filterModels:(o?f:void 0===c?null:c)||[],isFetching:o?0===f.length:!d||!r,refreshFiltersData:s,children:n})},V=(void 0!==n||(n=r(932334)).hash&&"92b841173868ce353dd00b5fce287546"!==n.hash&&console.error("The definition of 'UnifiedFiltersContext_oneBarModules' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),X=function(e){var t,r,n,l,u,c,s,d=e.children,f=e.oneBarModulesKey,p=(0,B.Z)(),y=p.data,v=p.isFetching,m=p.isLoaded,b=(y||{}).oneBarModules,h=(0,o.useFragment)(V,f),_=(0,i.useMemo)(function(){return{dispatch:function(){},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:v,pendingDeletedSelections:{},status:a.v.CLEARED},refreshFiltersData:U}},[v]),g=null==(u=h?[h]:null==b?void 0:b.map(function(e){var t,r;return e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(function(e){var t,r,n,i;return{isSelected:null!=(t=e.is_selected)?t:null,id:null!=(r=e.id)?r:null,display:e.display?{displayText:null!=(n=e.display.display_text)?n:null}:null,action:e.action?{feedUrl:null!=(i=e.action.feed_url)?i:null}:null}}):null}:null,id:null!=(t=e.id)?t:null,moduleType:null!=(r=e.module_type)?r:null}}))?void 0:u.find(function(e){return 0===e.moduleType}),x=null==g||null==(c=g.action)?void 0:c.filters;if(!g||!x)return(0,F.jsx)(H,{value:_,children:d});var j=g.id||"",w=(r={},n=j,l={id:j,selectedOptionId:(null==(s=x.find(function(e,t){return(null==e?void 0:e.isSelected)&&0!==t}))?void 0:s.id)||"",type:"single",lastChangedLocation:1},(t=function(e,t){if("object"!=M(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=M(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"),(n="symbol"==M(t)?t:t+"")in r)?Object.defineProperty(r,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[n]=l,r);return(0,F.jsx)(G,{filterModels:[{filter_component_type:2,filter_options:x.map(function(e,t){var r,n;return{label:(null==e||null==(r=e.display)?void 0:r.displayText)||"",id:(null==e?void 0:e.id)||"",string_value:(null==e||null==(n=e.action)?void 0:n.feedUrl)||"",is_selected:"boolean"==typeof(null==e?void 0:e.isSelected)?e.isSelected:0===t}}),id:j,title:"",product_filter_type:4}],filters:w,isFetching:!m,refreshFiltersData:U,children:d})}},675450:function(e,t,r){r.d(t,{$:function(){return n},v:function(){return i}});var n=50,i={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},190665:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(433100),i=r(310878),o=r(17832),l=r(986475),a=r(537701),u=r(629724),c=r(148);function s(){var e=(0,c.n)(),t=e.brands,r=e.colors,s=e.domains,d=e.onSale,f=e.priceMax,p=e.priceMin,y=(0,i.VA)(),v=(0,n.l)().cachedProductFilterOneBarModules,m=Number((0,u.Z)().filter_location);if(1===m){var b=(y||{}).filterState;return b?(0,o.Ax)(b.appliedFilters,b.models):null}if(0===m){var h=(0,l.Z)(a.Z,!0)(v.map(function(e){var t;return null==(t=e.action)?void 0:t.filter}).filter(Boolean));return(0,o.vJ)({brandsParam:t,colorsParam:r,domainsParam:s,onSaleParam:d,priceMaxParam:f,priceMinParam:p,unifiedFilterModels:h})}return null}},178226:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(653551),i=r(575820);function o(){return!!(0,i.mB)((0,n.TH)().search).brands}},735243:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(653551),i=r(501010),o=r(575820);function l(){var e=(0,i.Z)().checkExperiment,t=(0,n.TH)();return!!(0,o.mB)(t.search).colors&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(501010);function i(){return(0,(0,n.Z)().checkExperiment)("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(653551),i=r(575820);function o(){return!!(0,i.mB)((0,n.TH)().search).domains}},531624:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(653551),i=r(575820);function o(){var e=(0,n.TH)(),t=(0,i.mB)(e.search),r=t.price_max,o=t.price_min;return!!(null!=o?o:r)}},17832:function(e,t,r){r.d(t,{Ak:function(){return D},Ax:function(){return C},B1:function(){return x},LG:function(){return T},P5:function(){return S},UP:function(){return Z},Uv:function(){return j},a$:function(){return _},eF:function(){return B},i7:function(){return O},iP:function(){return w},nZ:function(){return h},ph:function(){return g},rc:function(){return I},tx:function(){return E},vJ:function(){return A}});var n=r(675450),i=r(360033),o=r(477738);function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(e,t)||c(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw o}}}}function c(e,t){if(e){if("string"==typeof e)return s(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){var n;return(n=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==y(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=function(e){return e.map(function(e){var t=e.filter_component_type,r=e.filter_options,n=e.title;return{filter_component_type:t,filter_options:null==r?void 0:r.map(function(e){return{id:e.id,label:e.label,count:e.count,image_url:e.image_url,is_verified:e.is_verified,numeric_value:e.numeric_value,string_value:e.string_value,unit:e.unit}}),title:n}})},m=function(e,t){if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,i.ZP)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},b=function(e){return!e||!Object.keys(e).length},h=function(e,t){if(b(e)&&b(t))return!1;if(b(e)||b(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(var r in e)if(m(e[r],null==t?void 0:t[r]))return!0;return!1},_=function(e,t){return!(0,i.ZP)(v(e),v(t))},g=function(e,t){if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type){var r,n;return!!(null!=t&&t.filter_options)&&e.min===(null==(r=t.filter_options[0])?void 0:r.numeric_value)&&e.max===(null==(n=t.filter_options[2])?void 0:n.numeric_value)}throw Error("Filter type specific return must be specified")},x=function(e,t){try{for(var r in e){var n=function(r){var n=e[r],i=t.find(function(e){return e.id===(null==n?void 0:n.id)});if(n&&!g(n,i))return{v:!1}}(r);if("object"===y(n))return n.v}return!0}catch(e){return!0}},j=function(e,t){if(!t||0===t.length)return!1;var r,n=t[0];if(!n)return!1;switch(null==n?void 0:n.filter_component_type){case 2:var i=null==(r=n.filter_options)?void 0:r[0];for(var o in e){var l=e[o];if(!l)break;if("selectedOptionId"in l&&l.selectedOptionId===(null==i?void 0:i.id))return!0}return!1;case 1:for(var a in e){var u=e[a];if(!u)break;if(u.id===n.id&&"selectedOptionIds"in u&&0===u.selectedOptionIds.size)return!0}return!1;default:return!1}},w=function(e){return e.map(function(e){var t,r,n;switch(e.filter_component_type){case 2:var i=null==(t=e.filter_options)||null==(r=t.find(function(e){return e.is_selected}))?void 0:r.id;return i?{selectedOptionId:i,id:e.id,type:"single"}:null;case 1:var o=null==(n=e.filter_options)?void 0:n.filter(function(e){return e.is_selected}).map(function(e){return e.id});return o&&o.length>0?{selectedOptionIds:new Set(o),id:e.id,type:"multi"}:null;default:return null}}).reduce(function(e,t){return t?f(f({},e),{},p({},t.id,t)):e},{})},S=function(e){if(!e||0===e.length)return{};var t,r,n=e[0];switch(null==n?void 0:n.filter_component_type){case 2:var i=null==(t=n.filter_options)||null==(r=t[0])?void 0:r.id;return i&&"string"==typeof n.id?p({},n.id,{selectedOptionId:i,lastChangedLocation:1,id:n.id,type:"single"}):{};case 1:return"string"==typeof n.id?p({},n.id,{selectedOptionIds:new Set,lastChangedLocation:1,id:n.id,type:"multi"}):{};default:return{}}},P=function(e){return e.map(function(e){var t=e.filter_id,r=e.filter_options,n=e.product_filter_type,i=t;return"number"==typeof n&&(i+="_".concat(n)),r.length>0&&(i+=":",r.forEach(function(e,t){var n=e.filter_option_id,o=e.numeric_value,l=e.string_value,a=e.unit;i+="".concat(n),"number"==typeof o&&(i+="_".concat(o)),"string"==typeof l&&(i+="_".concat(l)),"string"==typeof a&&(i+="_".concat(a)),t<r.length-1&&(i+=",")})),i}).join("|")},O=function(e){var t,r=e.brands,n=e.colors,i=e.domains,l=e.onSale,c=e.priceMax,s=e.priceMin,d=e.scope,f=e.unifiedFilterModels,p={},y=u(f);try{for(y.s();!(t=y.n()).done;)!function(){var e=t.value,u=e.filter_options,f=e.id,y=e.product_filter_type;if(f&&null!=u&&u.length){if(1===y&&("number"==typeof s||"number"==typeof c)){var v,m,b,h,_=a(u,4),g=_[0],x=_[1],j=_[2],w=_[3],S=null!=(v=null!=(m=null!=s?s:null==j?void 0:j.numeric_value)?m:null==g?void 0:g.numeric_value)?v:0,P=null!=(b=null!=(h=null!=c?c:null==w?void 0:w.numeric_value)?h:null==x?void 0:x.numeric_value)?b:100;p[f]={min:S,max:P,id:f,type:"range",lastChangedLocation:1}}if(0===y&&i&&i.length>0){var O=i.map(function(e){var t=u.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);O.length>0&&(p[f]={id:f,lastChangedLocation:1,selectedOptionIds:new Set(O),type:"multi"})}if(3===y&&r&&r.length>0){var A=r.map(function(e){var t=u.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);A.length>0&&(p[f]={id:f,lastChangedLocation:1,selectedOptionIds:new Set(A),type:"multi"})}if(6===y&&n&&n.length>0){var I=n.map(function(e){var t=u.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);I.length>0&&(p[f]={id:f,lastChangedLocation:1,selectedOptionIds:new Set(I),type:"multi"})}if(4===y&&d){var C=(0,o.gi)(d),k=u.find(function(e){return e.search_type===C});null!=k&&k.id&&(p[f]={id:f,lastChangedLocation:1,selectedOptionId:k.id,type:"single"})}if("number"==typeof y&&new Set([7,8,9]).has(y)&&l){var E,T=null==(E=u[0])?void 0:E.id;T&&(p[f]={id:f,lastChangedLocation:1,selectedOptionId:T,type:"single"})}}}()}catch(e){y.e(e)}finally{y.f()}return p},A=function(e){var t,r,n,i,o=e.brandsParam,l=e.colorsParam,a=e.domainsParam,c=e.onSaleParam,s=e.priceMaxParam,d=e.priceMinParam,f=e.unifiedFilterModels,p=[],y=Number(d),v=Number(s),m=Number.isNaN(y)?void 0:y,b=Number.isNaN(v)?void 0:v,h=null!=(t=null==a?void 0:a.split(",").filter(Boolean))?t:[],_=null!=(r=null==o?void 0:o.split(",").filter(Boolean))?r:[],g=null!=(n=null==l?void 0:l.split(",").filter(Boolean))?n:[],x=u(f);try{for(x.s();!(i=x.n()).done;)!function(){var e=i.value,t=e.filter_options,r=e.id,n=e.product_filter_type;if(r&&null!=t&&t.length){if(1===n&&"number"==typeof m&&"number"==typeof b){var o={filter_id:r,filter_options:t.slice(0,2).filter(function(e){return void 0!==e.id}).map(function(e,t){return{filter_option_id:e.id,numeric_value:0===t?m:b,unit:e.unit||"USD"}}),location:0,product_filter_type:n};p.push(o)}if(0===n&&h&&h.length>0){var l=h.map(function(e){var r=t.find(function(t){return t.string_value===e});return r?r.id:null}).filter(Boolean);if(l.length>0){var a={filter_id:r,filter_options:l.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:n};p.push(a)}}if(3===n&&_&&_.length>0){var u=_.map(function(e){var r=t.find(function(t){return t.string_value===e});return r?r.id:null}).filter(Boolean);if(u.length>0){var s={filter_id:r,filter_options:u.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:n};p.push(s)}}if(6===n&&g&&g.length>0){var d=g.map(function(e){var r=t.find(function(t){var r;return(null==(r=t.string_value)?void 0:r.toLowerCase())===e.toLowerCase()});return r?r.id:null}).filter(Boolean);if(d.length>0){var f={filter_id:r,filter_options:d.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:n};p.push(f)}}if(7===n&&c){var y,v=null==(y=t[0])?void 0:y.id;if(v){var x={filter_id:r,filter_options:[{filter_option_id:v,numeric_value:Number(c)}],location:0,product_filter_type:n};p.push(x)}}}}()}catch(e){x.e(e)}finally{x.f()}return 0===p.length?null:P(p)},I=function(e){var t,r=e.filterMap,n=e.isInWebHundredPercentProductLoadExp,i=e.models,l=null,a=null,u=!1,c=null,s=null,d=null,f=null,p=null;for(var y in r)!function(e){var t=r[e];if(t){var y=i.find(function(e){return e.id===t.id});if(y)if("range"===t.type&&1===y.product_filter_type)d=t.min,s=t.max;else if("multi"===t.type&&0===y.product_filter_type){var v,m,b,h=null==(b=y.filter_options)?void 0:b.filter(function(e){return t.selectedOptionIds.has(e.id||"")});c=null==h?void 0:h.map(function(e){return e.string_value}).filter(Boolean)}else if("multi"===t.type&&3===y.product_filter_type){var _,g=null==(_=y.filter_options)?void 0:_.filter(function(e){return t.selectedOptionIds.has(e.id||"")});l=null==g?void 0:g.map(function(e){return e.string_value}).filter(Boolean)}else if("multi"===t.type&&6===y.product_filter_type){var x,j=null==(x=y.filter_options)?void 0:x.filter(function(e){return t.selectedOptionIds.has(e.id||"")});a=null==j?void 0:j.map(function(e){return e.string_value}).filter(Boolean)}else if("single"===t.type&&4===y.product_filter_type){var w,S=null==(w=y.filter_options)?void 0:w.find(function(e){return t.selectedOptionId===e.id}),P=S&&void 0!==S.search_type?(0,o.zh)(S.search_type):o.lw.PINS;p=P,n&&(p=P===o.lw.PINS_BUYABLE?o.lw.PINS:P,u=P===o.lw.PINS_BUYABLE)}else"single"===t.type&&7===y.product_filter_type&&(f=null==(v=y.filter_options)||null==(m=v[0])?void 0:m.numeric_value)}}(y);var v=i.find(function(e){return 4===e.product_filter_type}),m=null==v||null==(t=v.filter_options)?void 0:t.find(function(e){return e.is_selected});return null===p&&"number"==typeof(null==m?void 0:m.search_type)&&(p=(0,o.zh)(m.search_type)),{brands:l,colors:a,commerce_only:u,domains:c,max:s,min:d,on_sale:f,scope:p}},C=function(e,t){var r=[];return(Object.entries(e).forEach(function(e){var n=a(e,2),i=n[0],o=n[1],l=t.find(function(e){return e.id===o.id});if(l&&4!==l.product_filter_type&&"number"==typeof l.product_filter_type&&l.filter_options){var u=[];if("range"===o.type){var c=a(l.filter_options,2),s=c[0],d=c[1];if(!(null!=s&&s.id)||!(null!=d&&d.id))return;u=[{filter_option_id:s.id,numeric_value:o.min,unit:s.unit},{filter_option_id:d.id,numeric_value:o.max,unit:d.unit}]}if("single"===o.type){var f=l.filter_options.find(function(e){return e.id===o.selectedOptionId});if(!(null!=f&&f.id))return;u=[{filter_option_id:f.id,numeric_value:f.numeric_value,string_value:f.string_value}]}if("multi"===o.type){var p=l.filter_options.filter(function(e){return e.id&&o.selectedOptionIds.has(e.id)});if(0===p.length)return;u=p.filter(function(e){return void 0!==e.id}).map(function(e){return{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}})}r.push({filter_id:i,filter_options:u,location:o.lastChangedLocation,product_filter_type:l.product_filter_type})}}),r&&0!==r.length)?P(r):null},k=function(e){var t=e.map(function(e){if(!e)return null;var t=e.auxData,r=e.id,n=e.imageUrl,i=e.isVerified,o=e.label,a=e.numericValue,u=e.searchType,c=e.stringValue,s=e.unit,d=e.rules;return null===n||null===n||null===a||null===i||null===c||null===s?null:f(f(f({id:r||"",label:o||"",count:0,image_url:n,is_verified:i,numeric_value:a},d?{rules:l(d)}:{}),"number"==typeof u?{search_type:u}:{}),{},{string_value:c,unit:s},"string"==typeof(null==t?void 0:t.moduleId)?{aux_data:{module_id:t.moduleId}}:{})}).filter(Boolean);return t.length>0?t:null},E=function(e){var t=e.action||{},r=t.filter,n=t.title,i=(r||{}).title,o=n||i;if(!r||!o)return null;var a=r.filterComponentType,u=r.productFilterType,c=r.id,s=(r.filterOptions||[]).filter(Boolean);if(void 0===a||void 0===s||0===s.length||null==u||null==c)return null;var d=k(s);return d?{filter_component_type:a,filter_options:l(d),id:c||"",product_filter_type:u,title:o}:null};function T(e,t,r){var i,o,l,u=a(r,4),c=u[0],s=u[1],d=u[2],f=u[3],p=(null!=(i=null!=f?f:c)?i:{}).numeric_value,y=void 0===p?0:p,v=(null!=(o=null!=d?d:s)?o:{}).numeric_value,m=void 0===v?y+n.$:v,b=(null!=c?c:{}).unit,h=(null==(l=e.filters[t])?void 0:l.type)==="range"?e.filters[t]:{min:y,max:m,id:t,type:"range",lastChangedLocation:1};return{defaultMax:m,defaultMin:y,unit:void 0===b?"USD":b,range:h}}function D(e){return"multi"!==e.type?e:f(f({},e),{},{selectedOptionIds:new Set})}function Z(e,t){var r=[];return Object.entries(t).forEach(function(t){var n=a(t,2),i=n[0],o=n[1],u=e.find(function(e){return(null==e?void 0:e.id)===i});if(u){var c,s=null==(c=u.aux_data)?void 0:c.module_id;s&&r.push(s);var d=("multi"===o.type?Array.from(o.selectedOptionIds):"single"===o.type?[o.selectedOptionId]:[]).map(function(e){var t,r,n=null==(t=u.filter_options)?void 0:t.find(function(t){return t.id===e});return(null==n||null==(r=n.aux_data)?void 0:r.module_id)||""}).filter(Boolean);r.push.apply(r,l(d))}}),r}function B(e,t){var r=[];return Object.keys(t).forEach(function(t){var n=e.find(function(e){return(null==e?void 0:e.id)===t});if(n){var i=n.product_filter_type;i&&r.push(i)}}),r}},611649:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(935059),i=r(501010),o=r(739405),l=r(200619),a=r(601871);function u(e){var t=(0,o.HG)(),r=(0,i.Z)().checkExperiment,u=(0,l.Z)(),c=(0,n.Z)(),s=(0,a.lJ)(c,u),d=!t||r("web_sce_organic_pinbuilder_dep").anyEnabled;return!s&&(e&&r("sce_lightswitch_organic"),!t||!!d)}},272598:function(e,t,r){r.d(t,{Z:function(){return k}});var n=r(387784),i=r(20256),o=r(505633),l=r(367683),a=r(581909),u=r(916559),c=r(465784),s=r(986475),d=r(640200),f=r(721703),p=r(9065),y=r(680811);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,r,n,i,o,l){try{var a=e[o](l),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,i)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _=(0,p.Z)(function(){return r.e("88929").then(r.bind(r,775533))},{ssr:!1},function(e){return 775533},void 0,void 0),g=(0,p.Z)(function(){return r.e("33629").then(r.bind(r,282842))},{ssr:!1},function(e){return 282842},void 0,void 0),x=(0,p.Z)(function(){return Promise.all([r.e("6608"),r.e("74374")]).then(r.bind(r,568432))},{ssr:!1},function(e){return 568432},void 0,void 0),j=(0,p.Z)(function(){return r.e("12026").then(r.bind(r,788635))},{ssr:!1},function(e){return 788635},void 0,void 0),w=(0,p.Z)(function(){return Promise.all([r.e("66276"),r.e("84830")]).then(r.bind(r,50415))},{ssr:!1},function(e){return 50415},void 0,void 0),S=(0,p.Z)(function(){return r.e("3256").then(r.bind(r,126963))},{ssr:!1},function(e){return 126963},void 0,void 0),P=(0,p.Z)(function(){return r.e("1295").then(r.bind(r,826241))},{ssr:!1},function(e){return 826241},void 0,void 0),O=(0,p.Z)(function(){return r.e("29376").then(r.bind(r,708459))},{ssr:!1},function(e){return 708459},void 0,void 0),A=(0,p.Z)(function(){return r.e("28234").then(r.bind(r,182112))},{ssr:!1},function(e){return 182112},void 0,void 0),I=[505420,505933,506173,506124,506436],C=function(e){var t,r=e.complete,n=e.dismiss,l=e.experience,u=e.placementId,p=l.experience_id,v=l.display_data,b=function(e){switch(e){case 504721:return P;case 504569:return S;case 504032:return O;case 502271:return g;case 505093:return A;default:return _}}(p),C=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(p),k=(0,a.NQ)().setObserverRef;return(0,y.jsxs)(i.xu,{ref:k,children:[!I.includes(p)&&(0,y.jsx)(c.ZP,{accessibilityModalLabel:"",onDismiss:n,size:C,children:(0,y.jsx)(b,h(h({},(0,s.Z)(d.Z)(v)),{},{experienceId:p,handleComplete:r,handleDismiss:n,placementId:u}))}),506124===p&&(0,y.jsx)(x,h({handleComplete:r,handleDismiss:n,isDesktop:!0,isGooglePrimary:!0},(0,s.Z)(d.Z)(v))),(506173===p||506436===p)&&(0,y.jsx)(x,h({handleComplete:r,handleDismiss:n,isDesktop:!0,isGooglePrimary:!1},(0,s.Z)(d.Z)(v))),505420===p&&(0,y.jsx)(w,{experienceId:505420,onSubmitSurvey:(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,o.Z)((0,f.Z)({site:"www",path:"/business/marketing-plan"}));case 1:case"end":return e.stop()}},e)}),function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function l(e){m(o,n,i,l,a,"next",e)}function a(e){m(o,n,i,l,a,"throw",e)}l(void 0)})}),placementId:u,viewType:251}),505933===p&&(0,y.jsx)(j,{handleComplete:function(){r(),(0,o.Z)((0,f.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:n,onAdsReportingSurface:!1})]})};function k(e){var t=e.placementId,r=(0,u.Z)(t),i=r.enableExperienceSession,o=r.endOnSurfaceChange;return(0,y.jsx)(n.Fragment,{children:(0,y.jsx)(l.a3,{customExperienceSession:!0,eligibleIds:[501312,500331,502271,504032,504569,504721,505093,505420,505933,506173,506124,506436],enableExperienceSession:i,placementId:t,sessionEndOnSurfaceChange:o,children:function(e){var r=e.complete,n=e.dismiss,i=e.experience;return(0,y.jsx)(C,{complete:r,dismiss:n,experience:i,placementId:t})}})})}},564023:function(e,t,r){var n,i,o=r(681698);function l(e,t,r,n,i,o,l){try{var a=e[o](l),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,i)}n=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)({url:"/v3/board/".concat(t,"/report_reasons/")});case 2:return r=e.sent,e.abrupt("return",r.resource_response.data);case 4:case"end":return e.stop()}},e)}),i=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){l(o,r,i,a,u,"next",e)}function u(e){l(o,r,i,a,u,"throw",e)}a(void 0)})},t.Z=function(e){return i.apply(this,arguments)}},711960:function(e,t,r){var n,i,o=r(681698);function l(e,t,r,n,i,o,l){try{var a=e[o](l),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,i)}n=regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)({url:"/v3/board/".concat(t,"/flag/"),method:"POST",data:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}),i=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){l(o,r,i,a,u,"next",e)}function u(e){l(o,r,i,a,u,"throw",e)}a(void 0)})},t.Z=function(e,t){return i.apply(this,arguments)}},59355:function(e,t,r){r.d(t,{Q:function(){return d},Z:function(){return f}});var n=r(387784),i=r(104999),o=r(746868),l=r(730056),a=r(774838);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){var r=(0,o.A$)().setViewContextData,u=(0,a.B)().requestIdentifier,c=(0,i.Z)(),d=(0,o.SU)().viewData;(0,n.useEffect)(function(){if(e){var t;r({viewType:null!=(t=e.view_type)?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,l.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c(s(s({},e),{},{event_type:13,request_identifier:u}))}},[t])}function f(e){var t=e.children;return d(e.log),t||null}},935059:function(e,t,r){r.d(t,{$:function(){return i}});var n=(0,r(213491).Z)("viewer"),i=n.Provider;t.Z=n.get},774838:function(e,t,r){r.d(t,{B:function(){return o},P2:function(){return a},Ts:function(){return i},gf:function(){return l}});var n=r(969634),i=n.getRequestContext,o=n.useRequestContext,l=n.useUpdateRequestContext,a=n.RequestContextProvider},969634:function(e,t,r){r.r(t),r.d(t,{RequestContextProvider:function(){return p},getRequestContext:function(){return f},useRequestContext:function(){return y},useUpdateRequestContext:function(){return v}});var n=r(387784),i=r(659541),o=r(907049),l=r(680811);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=(0,n.createContext)(null);function f(){return(0,n.use)(d).requestContextState}function p(e){var t,r=e.children,a=e.initialValue,u=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(a))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{for(o=(r=r.call(e)).next;!(u=(n=o.call(r)).done)&&(a.push(n.value),2!==a.length);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=u[0],p=u[1],y=(0,n.useMemo)(function(){return{requestContextState:f,updateRequestContext:function(e){var t=c(c({},f),e);(0,o.Z)(f,e)||p(t),(0,i.J)(t)}}},[f]);return(0,l.jsx)(d,{value:y,children:r})}function y(){var e=(0,n.useContext)(d);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function v(){var e=(0,n.useContext)(d);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},317109:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(387784),i=r(653015);function o(e){var t=e.children;if("undefined"==typeof window)throw Error(i.u);return t}var l=r(680811);function a(e){var t=e.children,r=e.fallback;return(0,l.jsx)(n.Suspense,{fallback:r,children:(0,l.jsx)(o,{children:t})})}},42676:function(e,t,r){r.d(t,{Tb:function(){return d},vW:function(){return s}});var n=r(575820),i=r(99737),o=r(405897);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=["selectedOneBarModules","currentlyAppliedFiltersParamTerm","personalizationPinSig","inGlobalSearch","appliedUnifiedFilters","initialCategory","initialDomains","initialMaxPrice","initialMinPrice","isDuplo"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e){var t=e.searchParams,r=e.sourceUrl,n=e.isDesktop,i=e.isAuthenticated,o=e.appliedUnifiedFilters,l=t.autoCorrectionDisabled,u=t.bubbleId,s=t.category,d=t.currentlyAppliedFiltersParamTerm,f=t.domains,y=t.guidedSearchQuery,v=t.inGlobalSearch,m=t.journeyDepth,b=t.personalizationPinSig;return function(e){var t,r=e.selectedOneBarModules,n=e.currentlyAppliedFiltersParamTerm,i=e.personalizationPinSig,o=e.inGlobalSearch,l=e.appliedUnifiedFilters,u=e.initialCategory,s=e.initialDomains,d=e.initialMaxPrice,f=e.initialMinPrice,y=e.isDuplo,v=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,a),m=null==r?void 0:r.split(","),b=c(c({},v),{},{filters:n,selectedOneBarModules:m,selectedPinImgSig:i});if(o)return p(b);var h=c(c({},b),{},{appliedUnifiedFilters:l,appliedProductFilters:[(t={category:u,domains:s,maxPrice:d,minPrice:f}).category,t.domains,t.maxPrice,t.minPrice].map(function(e){return null!=e?e:""}).join("-")});return y&&(h.domains=s,h.priceMax=d?parseInt(d,10):void 0,h.priceMin=f?parseInt(f,10):void 0),p(h)}({appliedUnifiedFilters:o,autoCorrectionDisabled:l,bubbleId:u,currentlyAppliedFiltersParamTerm:d,guidedSearchQuery:y,inGlobalSearch:v,initialCategory:s,initialDomains:f,initialMaxPrice:t.priceMax,initialMinPrice:t.priceMin,isDuplo:!i||!n,journeyDepth:m,personalizationPinSig:b,query:t.query,requestParams:t.requestParams,rs:t.rs,scope:t.scope,selectedOneBarModules:t.selectedOneBarModules,sourceId:t.sourceId,sourceModuleId:t.sourceModuleId,sourceUrl:r,topPinIds:t.topPinIds,user:t.user})}function d(e){var t=e.appliedProductFilters,r=e.applied_unified_filters,n=e.auto_correction_disabled,i=[t,e.filters,e.journey_depth,e.query,e.rs,e.scope,e.selected_one_bar_modules,e.query_pin_sigs,e.source_id,e.source_module_id,r,e.top_pin_ids,e.user].map(function(e){return null!=e?e:""}).join(":");return n?"auto-correction-disabled:"+i:i}var f=function(e){var t=e.query,r=e.scope,l=e.appliedUnifiedFilters,a=e.appliedProductFilters,u=e.filters,c=e.domains,s=e.priceMax,d=e.priceMin,f=e.rs,p=void 0===f?o.i.DIRECT_NAVIGATION:f,y=e.journeyDepth,v=e.sourceId,m=e.sourceModuleId,b=e.sourceUrl,h=e.selectedOneBarModules,_=e.selectedPinImgSig,g=void 0===_?null:_,x=e.user,j=e.autoCorrectionDisabled,w=e.seoDrawerEnabled,S=e.bubbleId,P=e.pageSize,O=e.requestParams,A=e.topPinIds;return{query:void 0===t?"":t,scope:void 0===r?"pins":r,appliedProductFilters:void 0===a?null:a,domains:void 0===c?null:c,user:void 0===x?null:x,seoDrawerEnabled:void 0!==w&&w,applied_unified_filters:void 0===l?null:l,auto_correction_disabled:void 0!==j&&j,journey_depth:void 0===y?null:y,source_id:void 0===v?null:v,source_module_id:void 0===m?null:m,source_url:function(e){if(!e)return"";var t=new Set,r=e.split("?")[1];r&&r.split("&").forEach(function(e){e.includes("=")||t.add(e)});var o=(0,i.Z)((0,n.Gw)(e,["request_params"])),l=o.directory,a=o.queryKey,u=Object.keys(a).sort().map(function(e){return t.has(e)?e:"".concat(e,"=").concat(a[e])}).join("&");return u?"".concat(l,"?").concat(u):l}(void 0===b?null:b),selected_one_bar_modules:void 0===h?null:h,query_pin_sigs:g,page_size:void 0===P?null:P,price_max:void 0===s?null:s,price_min:void 0===d?null:d,request_params:void 0===O?null:O,top_pin_ids:void 0===A?null:A,article:void 0===S?null:S,corpus:g?"personalize":null,customized_rerank_type:g?"manas_graph_sage_only_wand_rewrite":null,filters:void 0===u?null:u,rs:p,redux_normalize_feed:!0}};function p(e){return{name:"BaseSearchResource",options:f(c(c({},e),{},{autoCorrectionDisabled:!!e.autoCorrectionDisabled}))}}},907049:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(Object.is(e,t))return!0;if("object"!==n(e)||null===e||"object"!==n(t)||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);return r.length===i.length&&r.every(function(r){return e[r]===t[r]})}r.d(t,{Z:function(){return i}})},537701:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e,t){var r=null!=t&&t.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(r,function(e,t){return"_"+t.toLowerCase()})}},739405:function(e,t,r){r.d(t,{HG:function(){return d},Kf:function(){return l},Wb:function(){return s},dA:function(){return a},ds:function(){return u},ml:function(){return c}});var n=r(374535),i=r(774838),o=function(){var e=(0,i.B)();return(0,n.Z)(e)},l=function(e){return"phone"===e},a=function(e){return"tablet"===e},u=function(e){return"desktop"===e},c=function(){return l(o())},s=function(){return a(o())},d=function(){return u(o())};t.ZP=o},118376:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(20256),i=r(924591),o=r(24246),l=r(577356),a=r(680811);function u(){var e=(0,l.dI)().showToast,t=(0,o.Z)();return function(){e(function(e){var r=e.hideToast;return(0,a.jsx)(i.Z,{duration:5e3,onHide:r,text:t._('Blocked. To manage your block list, see social permissions in settings.', 'blockedAccounts.blockConfirmMessage', 'This message appears when a user block an account as confirmation message'),thumbnail:{icon:(0,a.jsx)(n.JO,{accessibilityLabel:t._('Success icon', 'blockedAccounts.blockConfirmMessage.icon', 'Icon displayed in the toast message as visual representation of a success message'),color:"default",icon:"check-circle-fill",size:12})}})})}}},181735:function(e,t,r){r.d(t,{Z:function(){return q}});var n,i,o,l,a=r(387784),u=r(230201),c=r(501010),s=r(774838),d=r(739405),f=r(893957),p=r(514821);r(115821);var y=r(20256),v=r(183e3),m=r(104999),b=r(748336),h=r(631284),_=r(166613),g=r(680811);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=x(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S=(void 0!==n||(n=r(222078)).hash&&"6ddea2ecd3dff2e1001c1e4d037cc858"!==n.hash&&console.error("The definition of 'CallToAction_advisoryAction' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function P(e){var t,r=e.auxData,n=e.actionKey,i=e.alignCenter,o=(0,v.Z)(S,n),l=(0,m.Z)(),u=(0,d.HG)(),c=o.title,s=o.description,f=o.button,p=null==f?void 0:f.text,x=null==c?void 0:c.text,j=null==s?void 0:s.text,P=null!=(t=null==f?void 0:f.link)?t:"",O=P.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),A=p&&P.startsWith("http"),I=(0,b.Z)({url:P}),C=A&&I?"nofollow":"none";return(null==r?void 0:r.advisory_type)===_.Uv?(0,g.jsx)(a.Fragment,{children:(0,g.jsxs)(y.kC,{direction:"column",gap:3,justifyContent:"start",children:[!!x&&(0,g.jsx)(y.xv,{align:"start",weight:"bold",children:x}),!!j&&(0,g.jsx)(y.xv,{align:"start",children:j}),(0,g.jsx)(y.ZP,{color:"white",href:P,onClick:function(){(0,h.qA)({auxData:w(w({},r),{},{url:P}),isDesktop:u,logContextEvent:l})},rel:C,text:p||"Visit"})]})}):A?(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.xv,{align:i?"center":"start",weight:"bold",children:""!==p?p:"Visit"})}),(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.rU,{href:P,onClick:function(){(0,h.qA)({logContextEvent:l,auxData:w(w({},r),{},{url:P}),isDesktop:u})},rel:C,children:(0,g.jsx)(y.xv,{align:i?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:O})})})]}):(0,g.jsxs)(a.Fragment,{children:[!!x&&(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.xv,{align:i?"center":"start",weight:"bold",children:x})}),!!j&&(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.xv,{align:i?"center":"start",children:j})})]})}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=O(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var C=(void 0!==i||(i=r(52950)).hash&&"4970946a36017d9ad0c751fd70cc512c"!==i.hash&&console.error("The definition of 'HyperlinkFormatText_textTag' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function k(e){for(var t=e.text,r=e.textTags,n=e.auxData,i=(0,m.Z)(),o=(0,d.HG)(),l=[],a=0,u=0;u<r.length;u+=1){var c=r[u];5===c.tagType&&c.link&&function(){var e=c.offset,r=c.length,u=c.link;if(null!=e&&null!=r&&null!=u){var s=t.substring(e,e+r),d=(0,g.jsx)(y.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(y.rU,{display:"inlineBlock",href:u,onClick:function(){(0,h.qA)({logContextEvent:i,auxData:I(I({},n),{},{url:u}),isDesktop:o})},target:"blank",underline:"hover",children:s},s)});l.push((0,g.jsx)("span",{children:t.substring(a,e)})),l.push(d),a=e+r}}()}return(a>0&&l.push((0,g.jsx)("span",{children:t.substring(a)})),0===l.length)?[(0,g.jsx)("span",{children:t})]:l}function E(e){var t=e.auxData,r=e.textTagKey,n=e.text,i=(0,v.Z)(C,r);return(0,g.jsx)(k,{auxData:t,text:n,textTags:i})}var T=[4,14],D={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},Z={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},B=(void 0!==o||(o=r(5755)).hash&&"5879c4710b107f258f42156bf3e47e37"!==o.hash&&console.error("The definition of 'DefaultNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function F(e){var t=e.auxData,r=e.advisory,n=e.inModal,i=e.noticeKey,o=(0,v.Z)(B,i),l=o.title,a=o.description,u=o.actions,c=!!(null!=u&&u.length)&&((null==t?void 0:t.advisory_type)===_.Uv||!!r&&T.includes(r)),s=(null==u?void 0:u.length)===1,d=a&&a.text||"";return(0,g.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:n?Z:D},padding:6,rounding:2,children:[!!l&&!n&&(0,g.jsx)(y.xu,{display:"flex",marginBottom:2,children:(0,g.jsx)(y.X6,{size:"600",children:l})}),!!d&&(null==a?void 0:a.textTags)!=null&&(0,g.jsx)(y.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,g.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,g.jsx)(y.xv,{align:n?"center":"start",overflow:"normal",children:(0,g.jsx)(E,{auxData:t,text:d,textTagKey:a.textTags})})})}),c&&(0,g.jsx)(y.xu,{direction:n?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:null==u?void 0:u.map(function(e){return(0,g.jsx)(y.xu,{column:n||s?12:6,paddingX:2,paddingY:1,children:(0,g.jsx)(P,{actionKey:e,alignCenter:n||s,auxData:t})},e.actionId)})})]})}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=M(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=M(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==M(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var R=(void 0!==l||(l=r(90486)).hash&&"53d7eec34666980eda011429185b5b10"!==l.hash&&console.error("The definition of 'LegoNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function L(e){var t,r,n,i,o,l=e.auxData,a=e.noticeKey,u=(0,v.Z)(R,a),c=(0,m.Z)(),s=(0,d.HG)(),f={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,g.jsxs)(y.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,g.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:8,width:656,children:(0,g.jsxs)(y.xu,{"data-test-id":"search-advisory",height:"100%",padding:10,width:"100%",children:[(0,g.jsx)("span",{style:f,children:(null==(t=u.description)?void 0:t.textTags)&&(0,g.jsx)(E,{text:(null==(r=u.description)?void 0:r.text)||"",textTagKey:u.description.textTags})}),(0,g.jsx)(y.xu,{marginTop:6,children:(null!=(n=u.actions)?n:[]).map(function(e){var t,r,n,i,o=null==(t=e.button)?void 0:t.link;return o&&o.startsWith("tel")?(0,g.jsxs)(y.xu,{children:[(0,g.jsx)("span",{style:N({fontWeight:"600"},f),children:null==(r=e.title)?void 0:r.text}),(0,g.jsx)("span",{style:f,children:null==(n=e.description)?void 0:n.text})]}):(0,g.jsx)(y.rU,{href:o||"",onClick:function(){(0,h.qA)({logContextEvent:c,auxData:N(N({},l),{},{url:o||"",isLegoNotice:!0}),isDesktop:s})},children:(0,g.jsx)(y.xu,{display:"inlineBlock",children:(0,g.jsx)(y.xu,{alignItems:"center",color:"infoBase",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,g.jsx)(y.xv,{color:"inverse",weight:"bold",children:(null==(i=e.button)?void 0:i.text)||""})})})})})})]})}),!!u.footer&&(0,g.jsx)(y.xu,{paddingY:2,width:540,children:(0,g.jsx)(y.rU,{display:"inlineBlock",href:null!=(i=u.footer.link)?i:"",onClick:function(){var e,t;(0,h.qA)({logContextEvent:c,auxData:N(N({},l),{},{url:null!=(e=null==(t=u.footer)?void 0:t.link)?e:"",isLegoNotice:!0}),isDesktop:s})},target:"blank",underline:"hover",children:(0,g.jsx)(y.xv,{align:"center",color:"subtle",size:"100",children:(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:null!=(o=u.footer.text)?o:""}})})},u.footer.link)})]})}var U=r(767415);function q(e){var t,r,n,i,o,l,y,v,m,b,h,_=e.boardId,x=e.isOwnBoard,j=e.boardName,w=e.boardSectionId,S=e.notices,P=e.query,O=e.sensitivity,A=e.viewParameter,I=e.viewType,C=e.inModal;r=(t={advisoryDetails:null==O?void 0:O.advisory_details,boardId:_,boardSectionId:w,query:P,sensitivity:{advisory:null==O?void 0:O.advisory,severity:null==O?void 0:O.severity},viewParameter:A,viewType:I}).advisoryDetails,n=t.boardId,i=t.boardName,o=t.boardSectionId,l=t.query,y=t.sensitivity,v=t.viewParameter,m=t.viewType,b=(0,u.u)().logContextEvent,h=(0,d.HG)(),(0,f.Z)(function(){m&&(b({aux_data:{entered_query:l,advisory_details:r,advisory_level:null==y?void 0:y.advisory,severity_level:null==y?void 0:y.severity,advisory_type:null==y?void 0:y.advisory_type,resource_country:null==y?void 0:y.resource_country},component:13367,event_type:120,view_parameter:v,view_type:m}),(0,U.QX)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:null==y?void 0:y.advisory,advisory_type:null==y?void 0:y.advisory_type,app:h?"DESKTOP_WEB":"MOBILE_WEB",resource_country:null==y?void 0:y.resource_country,placement:5===m?"board":"search"}})),n&&5===m&&b({aux_data:{board_name:i,board_id:n,board_section_id:null!=o?o:0},component:178,event_type:15549,view_parameter:v,view_type:m})});var k=(0,c.Z)().checkExperiment,E=(0,s.B)(),T={advisory_level:(null==O?void 0:O.advisory)||null,severity_level:(null==O?void 0:O.severity)||null,advisory_type:(null==O?void 0:O.advisory_type)||"",stage:E.stage,resource_country:(null==O?void 0:O.resource_country)||"",entered_query:P||""};if(k("ps_board_advisories_ui_refresh").anyEnabled){var D=x?4173:4174;return(0,g.jsx)(a.Fragment,{children:null==S?void 0:S.map(function(e){return(0,g.jsx)(p.Z,{boardId:_,boardName:j,boardSectionId:w,notice:e,objectType:w?164:5,sensitivity:O,viewParameter:w?D:A,viewType:w?164:5},e.id)})})}return(0,g.jsx)(a.Fragment,{children:null==S?void 0:S.map(function(e){return 2===e.style?(0,g.jsx)(L,{auxData:T,noticeKey:{type:"Legacy",data:e}},e.id):(0,g.jsx)(F,{advisory:null==O?void 0:O.advisory,inModal:C,noticeKey:{type:"Legacy",data:e}},e.id)})})}},166613:function(e,t,r){r.d(t,{IR:function(){return i},St:function(){return n},Uv:function(){return l},Uz:function(){return o}});var n={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},i={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function o(e){return!!e&&e.severity===i.ABUSIVE}var l="THIRD_PARTY_TL"},728270:function(e,t,r){r.d(t,{CU:function(){return d},ZP:function(){return s},hi:function(){return c}});var n,i=r(204306),o=r(477738),l=r(148),a=r(657476),u=(void 0!==n||(n=r(464788)).hash&&"547e5abdb645851996d6a1b1a4027c56"!==n.hash&&console.error("The definition of 'hasSensitivityNotices_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function c(e){var t=(0,i.useFragment)(u,e)||{},r=t.notices,n=t.advisory,o=t.severity;return{hasNotices:!!(null!=r&&r[0]&&null!==r[0].title),advisory:n,severity:o}}function s(e){if(null==e)return{hasNotices:!1};var t,r=e.advisory,n=e.severity,i=!!e.notices&&e.notices.length>0;return e.notices&&e.notices.length>0&&(null==(t=e.notices[0])?void 0:t.title)===null&&(i=!1),{hasNotices:i,advisory:r,severity:n}}function d(e){var t=(0,l.n)().scope,r=(0,a.Z)(),n=r.data,i=r.isLoaded,u=c(e);return t===o.lw.USERS?u:i&&n?s(n.sensitivity):{hasNotices:!1}}},488661:function(e,t,r){r.d(t,{HW:function(){return d},MS:function(){return m},i3:function(){return b}});var n=r(387784),i=r(213491),o=r(510755),l=r(680811);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=o.fe+1,f={educationId:null,paddingRight:0,zIndex:d};function p(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":var r=t.payload.educationId;return s(s({},e),{},{educationId:r});case"FOOTER_SET_PADDING_RIGHT":var n=t.payload.paddingRight;return s(s({},e),{},{paddingRight:n});case"FOOTER_SET_Z_INDEX":var i=t.payload.zIndex;return s(s({},e),{},{zIndex:i});default:return e}}var y=(0,i.Z)("footerContext"),v=y.Provider,m=y.get;function b(e){var t,r=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(p,f))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{for(o=(r=r.call(e)).next;!(u=(n=o.call(r)).done)&&(a.push(n.value),2!==a.length);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1],c=(0,n.useCallback)(function(e){return a({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})},[]),d=(0,n.useCallback)(function(e){return a({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})},[]),y=(0,n.useCallback)(function(e){return a({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})},[]),m=(0,n.useMemo)(function(){return s(s({},o),{},{setEducationId:d,setPaddingRight:c,setZIndex:y})},[o,d,c,y]);return(0,l.jsx)(v,{value:m,children:r})}},148:function(e,t,r){r.d(t,{n:function(){return m},v:function(){return b}});var n=r(387784),i=r(653551),o=r(213491),l=r(477738),a=r(739405),u=r(582610),c=r(305375),s=r(680811);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y=(0,o.Z)("SearchParams"),v=y.Provider,m=y.get,b=function(e){var t,r,o,d,f,y,m=e.children,b=e.value,h=(t=(0,a.HG)(),o=(r=(0,i.TH)()).search,d=r.pathname,y=!(f=(0,c.Z)().scope)&&d.includes("/_tools/shop"),(0,u.Z)({isDesktop:t,scope:y?l.lw.SHOP_TOOL:f,search:o})),_=(0,n.useMemo)(function(){return p(p({},h),b)},[h,b]);return(0,s.jsx)(v,{value:_,children:m})}},582610:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(477738),i=r(575820);function o(e){var t=e.isDesktop,r=e.scope,o=e.search,l=(0,i.mB)(o),a=l.auto_correction_disabled,u=l.b_id,c=l.brands,s=l.category,d=l.colors,f=l.commerce_only,p=void 0===f?"":f,y=l.cover_pin_sig,v=l.deb_d,m=l.domains,b=l.filters,h=l.guided_search_query,_=l.inline_suggestion,g=l.interest_id,x=l.journey_depth,j=l.on_sale,w=l.price_max,S=l.price_min,P=l.q,O=l.query_pin_sigs,A=l.request_params,I=l.rs,C=l.selected_one_bar_modules,k=l.source_id,E=l.source_module_id,T=l.tab,D=l.top_pin_ids,Z=l.user,B="true"===p.toLowerCase()&&"shop_tool"!==r?n.lw.PINS_BUYABLE:r;return{autoCorrectionDisabled:"true"===(void 0===a?"":a).toLowerCase(),brands:c,bubbleId:u,category:s,colors:d,commerceOnly:"true"===p.toLowerCase(),coverPinSig:y,currentlyAppliedFiltersParamTerm:b,debD:v,domains:m,guidedSearchQuery:h,inlineSuggestion:_,interestId:g,journeyDepth:x?parseInt(x,10):void 0,onSale:j,personalizationPinSig:O,placementId:(0,n.Hd)(B,t),priceMax:w,priceMin:S,query:P,requestParams:A,rs:I,scope:B,selectedOneBarModules:C,sourceId:k,sourceModuleId:E,tab:T||"",topPinIds:D,user:Z,viewParameter:(0,n._R)(B),viewType:B===n.lw.SHOP_TOOL?1:2}}},657476:function(e,t,r){r.d(t,{X:function(){return p},Z:function(){return f}});var n=r(653551),i=r(190665),o=r(501010),l=r(774838),a=r(661376),u=r(42676),c=r(477738),s=r(739405),d=r(148);function f(e){return p(e).resource}function p(e){var t=(e||{}).skipResourceCall,r=(0,o.Z)().checkExperiment,f=(0,l.B)().isAuthenticated,p=(0,n.TH)(),y=p.pathname,v=p.search,m=(0,s.HG)(),b=!f||!m,h=(0,d.n)(),_=(0,i.Z)(),g=(0,u.vW)({searchParams:h,sourceUrl:y+v,isDesktop:m,isAuthenticated:f,appliedUnifiedFilters:_}),x=b;b&&(x=!!f&&!r("unify_search_resource_auth_mweb").anyEnabled);var j=t||h.scope===c.lw.USERS&&!b||x;return{resource:(0,a.Z)(j?null:g),options:g.options}}},629616:function(e,t,r){r.d(t,{V:function(){return f},Z:function(){return d}});var n,i,o=r(681698),l=r(329197),a=r(160587),u=r(779686),c=r(438274);function s(e,t,r,n,i,o,l){try{var a=e[o](l),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,i)}function d(e,t,r){return function(n){return(0,o.Z)({url:"/v3/boards/".concat(e,"/merge/").concat(t,"/"),method:"POST",data:r?{orbac_subject_id:r}:{}}).then(function(){return Promise.all([n((0,a.eo)({boardId:e})),n((0,l.Z)(t,"pin_count")),n((0,u.N8)(c.Z.BOARD_SECTIONS,t))])})}}var f=(n=regeneratorRuntime.mark(function e(t,r,n,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)({url:"/v3/boards/".concat(r,"/merge/").concat(n,"/"),method:"POST",data:i?{orbac_subject_id:i}:{}});case 2:t((0,a.eo)({boardId:r})),(0,l.Z)(n,"pin_count"),t((0,u.N8)(c.Z.BOARD_SECTIONS,n));case 5:case"end":return e.stop()}},e)}),i=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function l(e){s(o,r,i,l,a,"next",e)}function a(e){s(o,r,i,l,a,"throw",e)}l(void 0)})},function(e,t,r,n){return i.apply(this,arguments)})},755559:function(e,t,r){r.d(t,{I:function(){return c}});var n=r(661376),i=r(718846),o=["children"];function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var u=function(e){var t=e.boardId,r=e.ownerUsername,o=e.ownerName,u=e.ownerImgSrc,c=(0,i.Z)(),s=(0,n.Z)({name:"BoardInvitesResource",options:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({board_id:t,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},c?{orbac_subject_id:c}:{})}),d=s.data,f=s.isLoaded,p=[{name:o,src:u,href:"/".concat(r,"/"),isDim:!1}];return f&&d&&d.length>0&&d.forEach(function(e){p.push({name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?"/".concat(e.invited_user.username,"/"):"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),p};function c(e){return(0,e.children)(u(function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,o)))}t.Z=u},449270:function(e,t,r){r.d(t,{Z:function(){return tP}});var n=r(387784),i=r(581722),o=r(653551),l=r(20256),a=r(363061),u=r(611649),c=r(272598),s=r(257680),d=r(201363),f=r(230201),p=r(943152),y=r(367683),v=r(935059),m=r(400962),b=r(112658),h=r(577356),_=r(893957),g=r(200619),x=r(601871),j=r(603284),w=r(74972),S=r(59111),P=r(680811);function O(e){var t=e.layoutType,r=e.thumbnails;switch(t){case 4:var n=r&&r[0]&&r[0]["236x"];return(0,P.jsx)(l.zd,{height:80,rounding:4,width:80,children:n?(0,P.jsx)(l.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url}):(0,P.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,P.jsx)(l.xu,{color:"secondary",height:80,width:39.4}),(0,P.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:1.2}},children:[(0,P.jsx)(l.xu,{color:"secondary",height:39.4,width:39.4}),(0,P.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return(0,P.jsx)(l.zd,{height:80,rounding:4,width:80,children:(0,P.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[0,1].map(function(e){var t,n=r&&(null==r?void 0:r.length)>0?r[e]:null;return(0,P.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1.2}},children:(0,P.jsx)(l.xu,{height:80,width:39.4,children:(null==n||null==(t=n["236x"])?void 0:t.url)&&(0,P.jsx)(l.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:80,naturalWidth:39.4,src:n["236x"].url})})},e)})})});default:return null}}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var C=[502043,502085];function k(e){var t,r,i,o,a=e.boardId,u=e.displayData,c=e.complete,s=e.dismiss,d=e.handleShowArchiveConfirmation,p=(0,f.u)().logContextEvent,y=function(e){if(Array.isArray(e))return e}(r=(0,n.useState)(void 0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{for(o=(r=r.call(e)).next;!(u=(n=o.call(r)).done)&&(a.push(n.value),2!==a.length);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(r,2)||function(e,t){if(e){if("string"==typeof e)return I(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,2):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=y[0],m=y[1],b=function(e){v||m(setTimeout(function(){e()},2e4))};(0,n.useEffect)(function(){return function(){return clearTimeout(v)}},[v]);var h=(i={},(t=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=A(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o=2,"string"),(o="symbol"==A(t)?t:t+"")in i)?Object.defineProperty(i,o,{value:d,enumerable:!0,configurable:!0,writable:!0}):i[o]=d,i);return(0,n.useEffect)(function(){b(s),p({event_type:13,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(u.experience.experience_id),aux_data:{board_id:a}})},[]),(0,P.jsxs)(l.mh,{children:[(0,P.jsx)(S.Z,{unsafeCSS:"\n.BoardActionUpsellCard {\n  animation-duration: 0.5s;\n  animation-fill-mode: forwards;\n  animation-name: slideUp;\n  animation-timing-function: ease-out;\n  background-color: #fff;\n  border-radius: 16px;\n  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.25);\n  display: flex;\n  justify-content: between;\n  left: 50%;\n  margin-left: -210px; // half of width\n  padding: 24px;\n  position: fixed;\n  transition: bottom 1s;\n  width: 420px;\n}\n\n@keyframes slideUp {\n  from {\n    bottom: -200px;\n  }\n\n  to {\n    bottom: 14px;\n  }\n}\n"}),(0,P.jsxs)("div",{className:"BoardActionUpsellCard",children:[(0,P.jsx)(l.xu,{flex:"none",children:(0,P.jsx)(O,{layoutType:u.layout_type,thumbnails:u.thumbnail_image_urls})}),(0,P.jsxs)(l.xu,{marginStart:4,children:[(0,P.jsx)(l.xv,{inline:!0,children:(0,P.jsx)(l.X6,{size:"400",children:u.text})}),(0,P.jsxs)(l.xu,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[(0,P.jsx)(l.zx,{color:"gray",onClick:function(){p({event_type:123,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(u.experience.experience_id),aux_data:{board_id:a}}),s()},text:u.dismiss_button.text}),(0,P.jsx)(l.xu,{paddingX:2,children:(0,P.jsx)(l.zx,{color:"red",onClick:function(){h[u.complete_button.action_type](),p({event_type:101,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(u.experience.experience_id),aux_data:{board_id:a}}),c()},text:u.complete_button.text})})]})]})]})]})}function E(e){var t=e.boardId,r=e.handleShowArchiveConfirmation;return(0,P.jsx)(y.a3,{eligibleIds:C,placementId:18,children:function(e){var n=e.experience,i=e.complete,o=e.dismiss;return(0,P.jsx)(k,{boardId:t,complete:i,dismiss:o,displayData:n.display_data,handleShowArchiveConfirmation:r})}})}var T=r(680650),D=r(160587),Z=r(250408),B=r(122222),F=r(592444),M=r(311752),z=r(465784),N=r(24246),R=r(216975);function L(){var e=(0,N.Z)(),t=(0,P.jsx)(l.xu,{display:"flex",justifyContent:"center",paddingX:8,children:(0,P.jsx)(l.xv,{children:(0,R.nk)(e._('Add a {{ star }} to show collaborators your favorite Pins', 'groupBoardFavoriteEducationModal.text', 'Text for modal informing users of changes from group board reactions to board favorites'),{star:(0,P.jsx)(l.xu,{display:"inlineBlock",children:(0,P.jsx)(l.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.bodyFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:12})})})})});return(0,P.jsx)(y.a3,{eligibleIds:[503077],placementId:18,children:function(r){var n=r.complete,i=r.dismiss;return(0,P.jsx)(z.ZP,{accessibilityModalLabel:e._('Group board reaction', 'groupBoardFavoriteEducationModal.modalAccessibilityLabel', 'Accessiblility label for modal used to educate group board collaborators about favorite button'),footer:(0,P.jsx)(l.kC,{justifyContent:"end",children:(0,P.jsx)(l.zx,{onClick:function(){return n()},text:e._('Got it', 'groupBoardFavoriteEducationModal.doneButton', 'Done button for modal')})}),heading:(0,P.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[(0,P.jsx)(l.xu,{maxWidth:400,children:(0,P.jsx)(l.X6,{align:"center",size:"600",children:(0,R.nk)(e._('{{ heart }}  is now  {{ star }}', 'groupBoardFavoriteEducationModal.heading', 'Heading for modal informing users of changes from group board reactions to board favorites'),{heart:(0,P.jsx)(l.xu,{display:"inlineBlock",paddingX:1,children:(0,P.jsx)(l.JO,{accessibilityLabel:e._('Heart icon', 'groupBoardFavoriteEducationModal.headingHeartIcon', 'Accessibility label for heart icon'),color:"default",icon:"heart",size:16})}),star:(0,P.jsx)(l.xu,{display:"inlineBlock",paddingX:1,children:(0,P.jsx)(l.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.headingFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:16})})})})}),(0,P.jsx)(l.xu,{padding:6,position:"absolute",right:!0,top:!0,children:(0,P.jsx)(l.hU,{accessibilityLabel:e._('Close', 'groupBoardFavoriteEducationModal.closeModalButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:i,size:"md"})})]}),onDismiss:i,size:"sm",children:t})}})}var U=r(329577),q=r(779686),H=r(438274),K=r(144337),G=r(309947),W=r(101267),V=r(249347),X=r(189634);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t,r){var n;return(n=function(e,t){if("object"!=$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==$(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Q(e){var t,r,i=e.board,o=e.currentFilter,a=e.eligibleFilters,u=e.isOwnBoard,c=e.surface,s=e.setCurrentFilter,d=e.setTitle,p=(0,U.WG)(),y=(0,f.u)().logContextEvent,v=(0,N.Z)(),m=(0,n.useRef)(null),b=null==p?void 0:p.boardPinDensity,h=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{for(o=(r=r.call(e)).next;!(u=(n=o.call(r)).done)&&(a.push(n.value),2!==a.length);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return Y(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=h[0],g=h[1],x=function(){g(!1)},j=function(e){(0,V.Z)({boardDensity:e,component:"board"===c?13183:13187,viewType:"board"===c?5:164},y),(0,X.Z)({density:e,surface:"board"}),null==p||p.setBoardPinDensity(e)},w=[],S=(J(r={},W.c,12111),J(r,W.A,12227),r);if(a){var O={items:a.map(function(e){var t;return{isSelected:e.pin_type===o,onClick:function(){var t,r;y({event_type:101,component:13475,element:S[null!=(t=e.pin_type)?t:-1],object_id_str:i.id,view_type:5,view_parameter:u?3069:3070}),s(null!=(r=e.pin_type)?r:-1),d(e.pin_type===W.c?null:e.text),x()},text:null!=(t=e.text)?t:""}}),label:v._('Filter by type', 'board.experimentalBoardActionBar.filterOptions', 'List of board filter options')};w.push(O)}return w.push({items:[{isSelected:"regular"===b,onClick:function(){x(),j("regular")},text:v._('Default', 'BoardHeader.ActionBar.DensityOption-Default', 'Clickable text to set board view density to default mode')},{isSelected:"dense"===b,onClick:function(){x(),j("dense")},text:v._('Compact', 'BoardHeader.ActionBar.DensityOption-Compact', 'Clickable text to set board view density to compact mode')}],label:v._('View options', 'BoardHeader.ActionBar.ViewOptions', 'List of board view options')}),(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(l.xu,{ref:m,children:(0,P.jsx)(l.hU,{accessibilityControls:"filter_board",accessibilityExpanded:_,accessibilityLabel:v._('Board Filter', 'board.experimentalBoardActionBar.boardFilter', 'Filter to select specific Pins on board'),accessibilityPopupRole:"menu",icon:"filter",iconColor:"darkGray",onClick:function(){y({event_type:101,element:12020,object_id_str:i.id,view_type:5,view_parameter:u?3069:3070}),g(!_)},selected:_,size:"lg"})}),_&&(0,P.jsx)(l.Lt,{anchor:m.current,disableMobileUI:!0,id:"filter_board",onDismiss:x,children:w.map(function(e){var t=e.items,r=e.label;return(0,P.jsx)(l.Lt.Section,{label:r,children:t.map(function(e){var t=e.isSelected,r=e.onClick,n=e.text;return(0,P.jsx)(l.Lt.Item,{onSelect:r,option:{label:n,value:n},selected:t?{label:n,value:n}:null},n)})},r)})})]})}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var et=(0,y.RL)(1000332)(function(e){var t,r=e.board,i=e.currentFilter,o=e.isHidePinCount,a=e.isOwnBoard,u=e.paddingX,c=e.section,s=e.setCurrentFilter,d=e.showExperienceTooltip,f=(0,N.Z)(),p=(null!=c?c:r).eligible_pin_type_filters,v=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(null))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{for(o=(r=r.call(e)).next;!(u=(n=o.call(r)).done)&&(a.push(n.value),2!==a.length);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ee(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=v[0],b=v[1],h=(0,n.useRef)(null),_=c?c.pin_count:r.pin_count,g=(0,G.Z)().experimentalGutter,x=function(e,t){if(h){var r;null==(r=h.current)||r.scrollIntoView(!1)}return(0,P.jsx)(l.pl,{anchor:h.current,idealDirection:"down",message:t.text,onDismiss:e})};return(0,P.jsxs)(n.Fragment,{children:[(0,P.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:g?{paddingLeft:g,paddingRight:g}:{}},direction:"row",display:"flex",justifyContent:o?"end":"between",paddingX:void 0===u?8:u,children:[!o&&(0,P.jsx)(l.xu,{flex:"grow",children:(0,P.jsx)(l.X6,{accessibilityLevel:2,size:"400",children:i>0&&m?m:(0,R.nk)(f.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', null != _ ? _ : 0, 'board.experimentalBoardActionBar.pinCount', 'Number of Pins on board or section'),{pinCount:_})})}),(0,P.jsx)(l.xu,{ref:h,children:(0,P.jsx)(Q,{board:r,currentFilter:i,eligibleFilters:null==p?void 0:p.filter(function(e){return 5!==e.pin_type}),isOwnBoard:a,setCurrentFilter:s,setTitle:b,surface:c?"section":"board"})})]}),d&&h&&(0,P.jsx)(l.mh,{children:(0,P.jsx)(y.a3,{eligibleIds:[502974],placementId:1000332,children:function(e){return x(e.dismiss,e.experience.display_data)}})})]})}),er=r(531937),en=r(700594),ei=r(844677),eo=r(504860),el=r(497455),ea=r(755533),eu=r(93894);function ec(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?es(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ed=function(){};function ef(e){var t,r=e.board,o=e.currentView,a=e.handleContentViewChange,u=e.handleSetCurrentModal,c=e.handleShowEditSectionModal,s=e.handleShowMergeSectionsConfirmationModal,d=e.isBoardPreviewMode,f=e.isHidePinCount,p=e.isOwnerOrCollaborator,y=e.isOwnBoard,m=e.isPinGridSorted,b=e.refreshBoardData,h=void 0===b?ed:b,_=e.refreshSectionData,g=void 0===_?ed:_,x=e.section,j=(0,v.Z)(),w=(0,en.Z)({board:r,viewer:j}),S=(r.access||[]).includes("write"),O=null==(t=(0,U.WG)())?void 0:t.boardPinDensity,A=(0,ea.Z)(x?(0,el.Z)(r,x):""),I=ec((0,n.useState)(W.c),2),C=I[0],k=I[1],E=ec((0,n.useState)(!1),2),T=E[0],D=E[1],Z=(0,i.I0)();(0,n.useEffect)(function(){return function(){if(C!==W.c)if(x){var e;Z((0,q.N8)(H.Z.BOARD_SECTION_PINS,null!=(e=x.id)?e:""))}else Z((0,q.N8)(H.Z.BOARDFEED,r.id))}},[r,C,Z,x]);var F=(0,n.useCallback)(function(){C>0&&(k(W.c),x?g():h())},[C,g,h,x]),z=(0,n.useMemo)(function(){return x?{currentFilter:C,eligibleFilters:x.eligible_pin_type_filters,refreshData:g,sectionId:x.id}:{currentFilter:C,eligibleFilters:r.eligible_pin_type_filters,refreshData:h,setShowExperienceTooltip:D}},[x,r.eligible_pin_type_filters,C,h,g]);return x?(0,P.jsx)(er.k,{value:z,children:(0,P.jsxs)(n.Fragment,{children:[p&&!d&&(0,P.jsx)(et,{board:r,currentFilter:C,isOwnBoard:y,section:x,setCurrentFilter:k,showExperienceTooltip:!1}),(0,P.jsx)(eo.Z,{board:r,boardSectionId:x.id,currentFilter:C,denseViewSelected:S&&"dense"===O,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:y,isOwnerOrCollaborator:p,refreshFilteredFeed:F,renderFooterStory:function(e){return!r.archived_by_me_at&&p&&(0,P.jsx)(l.xu,{marginBottom:12,children:(0,P.jsx)(ei.Z,{children:(0,P.jsx)(eu.Z,{collection:x,storyId:e,url:A})})})},viewer:j,viewParameter:w})]})}):(0,P.jsx)(er.k,{value:z,children:(0,P.jsxs)(n.Fragment,{children:[p&&!d&&(0,P.jsx)(M.Z,{isGetServerRenderGridHeaderStyles:!0,children:(0,P.jsx)(et,{board:r,currentFilter:C,isHidePinCount:f,isOwnBoard:y,paddingX:0,setCurrentFilter:k,showExperienceTooltip:T})}),(0,P.jsx)(K.Z,{actions:{onBoardOrganizeClick:ed},board:r,currentFilter:C,currentView:o,enableReordering:p,isBoardPreviewMode:d,isOwnBoard:y,isPinGridSorted:m,onContentViewChange:a,onShowEditSectionModal:c,onShowMergeSectionsConfirmationModal:function(e,t){u(B.s.sectionMergeConfirm),s(e,t)},refreshFilteredFeed:F,viewParameter:w}),p&&(0,P.jsx)(L,{})]})})}var ep=r(501010),ey=r(718846),ev=r(166613),em=r(728270),eb=r(181735),eh=r(589641),e_=r(681698),eg=r(564023),ex=r(711960),ej=r(877263),ew=r(661376),eS=r(176615);function eP(e,t,r,n,i,o,l){try{var a=e[o](l),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,i)}function eO(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function l(e){eP(o,n,i,l,a,"next",e)}function a(e){eP(o,n,i,l,a,"throw",e)}l(void 0)})}}function eA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eI(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eI(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eC(e){var t,r,i,o=e.onDismiss,l=e.boardId,a=(0,ew.Z)({name:"BoardResource",options:{board_id:l,field_set_key:"detailed"},noCache:!0}).data,u=(0,ej.Z)(),c=u.showErrorToast,s=u.showSuccessToast,d=eA((0,n.useState)(null),2),f=d[0],p=d[1],y=eA((0,n.useState)(null),2),v=y[0],m=y[1],b=(0,ep.Z)().checkExperiment;(0,_.Z)(function(){var e;(e=eO(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,eg.Z)(l);case 3:(t=e.sent)?p(t):c(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c();case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return e.apply(this,arguments)})()});var h=(t=eO(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reasonKey,e.prev=1,n={reason:r},e.next=5,(0,ex.Z)(l,n);case 5:o(),s(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),o(),c();case 13:case"end":return e.stop()}},e,null,[[1,9]])})),function(e){return t.apply(this,arguments)}),g=(r=eO(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,(0,e_.Z)({url:"/v3/sensitivity/report/",method:"GET",data:{sensitivity_type:t,object_type:"board"}});case 5:return r=e.sent,e.abrupt("return",r.resource_response.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[2,9]])})),function(e){return r.apply(this,arguments)}),x=(i=eO(regeneratorRuntime.mark(function e(t){var r,n,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reasonKey,n=t.selectedReason,e.prev=1,i={reason:r},e.next=5,Promise.all([g(null==n?void 0:n.sensitivity_type),(0,ex.Z)(l,i)]);case 5:(a=eA(e.sent,1)[0])?m(a):(o(),s()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),o(),c();case 15:case"end":return e.stop()}},e,null,[[1,11]])})),function(e){return i.apply(this,arguments)});return v?(0,P.jsx)(eS.Z,{dismiss:o,objectType:5,sensitivity:v,viewParameter:3846}):(0,P.jsx)(eh.ZP,{handleSubmitReport:b("ps_dweb_report_advisories_boards_and_messages").anyEnabled?x:h,objectToReport:{type:"board",id:l,userToBlock:null!=a&&a.owner&&a.owner.id?{id:a.owner.id,fullName:a.owner.full_name,blockedByMe:a.owner.blocked_by_me,username:a.owner.username||""}:null},onDismiss:o,reportingReasons:f})}var ek=r(360990),eE=r(836447);function eT(e){var t,r=e.boardId,n=e.ownerUsername,i=e.ownerName,o=e.ownerImgSrc,l=e.ownerIsAdsOnlyProfile,a=e.ownerAdsOnlyProfileSite,u=e.children,c=(0,ew.Z)({name:"ApiResource",options:{url:null==(t=(0,eE.Z)({boardId:r}))?void 0:t.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0}),s=c.data,d=c.isLoaded,f=[{name:i,src:o,href:"/".concat(n,"/"),is_ads_only_profile:l,ads_only_profile_site:a}];return d&&s&&s.length>0&&s.forEach(function(e){f.push((0,ek.Z)(e))}),u(f)}var eD=r(755559),eZ=r(104999),eB=r(465076),eF=r(924591);function eM(e){var t=e.boardImage,r=e.boardName,n=e.boardUrl,i=e.onHide,o=(0,N.Z)(),a=(0,P.jsx)(l.xv,{children:(0,R.nk)(o._('Now following {{ boardName }}', 'BoardFollowButton.FollowingToast.nowFollowing', 'Toast text displayed when a user follows a board'),{boardName:(0,P.jsx)(l.xv,{weight:"bold",children:r},"boardName")})});return(0,P.jsx)(eF.Z,{href:n,imageUrl:t,onHide:i,text:a})}var ez=r(701572),eN=r(395878);function eR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eL(e){var t,r=(0,N.Z)(),o=e.bgColor,a=e.board,u=e.canCreatePincode,c=e.canEdit,s=e.handleCreatePincode,d=e.handleOpenSendBoardFlyout,f=e.onEditClick,y=e.onReportClick,v=e.showFollow,m=e.showShare,b=e.size,_=a.id,g=a.name,x=a.url,j=a.image_cover_url,w=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(a.followed_by_me))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{for(o=(r=r.call(e)).next;!(u=(n=o.call(r)).done)&&(a.push(n.value),2!==a.length);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eR(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eR(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),S=w[0],O=w[1],A=(0,h.dI)().showOneToast,I=(0,i.I0)(),C=(0,p.Z)(),k=(0,eZ.Z)(),E=function(e){var t=e.event;if(C){t.stopPropagation(),C();return}S?(I((0,ez.f)(_,k)),O(!1)):(I((0,ez.Z)(_,k)),O(!0),A(function(e){var t=e.hideToast;return(0,P.jsx)(eM,{boardImage:null!=j?j:"",boardName:g,boardUrl:x,onHide:t})}))},T={edit:r._('Edit', 'BoardPage.ActionBar.PartnerEdit', 'Clickable text to enter board editing mode'),create_pincode:r._('Create Pincode', 'BoardPage.ActionBar.PartnerPincode', 'Clickable text to trigger Pincode modal'),share:r._('Share', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to share board'),unfollow:r._('Unfollow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to unfollow board'),follow:r._('Follow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to follow board'),report:r._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user')};return(0,P.jsx)(eB.Z,{bgColor:o,icon:"ellipsis",id:"more-board-options",label:r._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),size:b,children:function(){return(0,P.jsxs)(l.Lt.Section,{label:r._('Board options', 'profileHeader.actionBar.overflow.header', 'Accessibility label header for board options flyout'),children:[c&&f&&(0,P.jsx)(l.Lt.Item,{onSelect:function(){f()},option:{label:T.edit,value:T.edit}}),c&&u&&s&&(0,P.jsx)(l.Lt.Item,{onSelect:function(){s()},option:{label:T.create_pincode,value:T.create_pincode}}),m&&d&&(0,P.jsx)(eN.Z,{boardKey:{type:"Legacy",data:a},onCreatePincode:s,onOpen:d,children:function(e){var t=e.onClick;return(0,P.jsx)(l.Lt.Item,{onSelect:t,option:{label:T.share,value:T.share}})}}),v&&(0,P.jsx)(n.Fragment,{children:S?(0,P.jsx)(l.Lt.Item,{onSelect:E,option:{label:T.unfollow,value:T.unfollow}}):(0,P.jsx)(l.Lt.Item,{onSelect:E,option:{label:T.follow,value:T.follow}})}),(0,P.jsx)(l.Lt.Item,{onSelect:y,option:{label:T.report,value:T.report}})]})}})}var eU=r(635545),eq=r(249459),eH=r(575820),eK=r(27399),eG=r(995514),eW=r(660322),eV=r(739405),eX=r(583875),e$=r(180483);function eJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eY(e){var t=e.faces,r=e.maxFaces,n=e.numFaces,i=e.onOverflowClick,o=e.shouldNavigate,a=void 0===o||o,u=((function(e){if(Array.isArray(e))return eJ(e)})(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return eJ(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eJ(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse(),c=t.length>r?u.slice(0,r+1):u,s=n-r,d=(0,v.Z)(),f=d.isAuth?null==d?void 0:d.avatar_color_index:void 0;return(0,P.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",position:"relative",children:c.map(function(e,t){var r=e.name,n=e.src,o=e.href,u=e.isDim;if(0===t&&s>0)return(0,P.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},height:44,marginStart:-2,overflow:"hidden",rounding:"circle",width:44,children:n&&(0,P.jsx)(l.Ee,{alt:r,fit:"contain",naturalHeight:44,naturalWidth:44,src:n,children:(0,P.jsx)(l.iP,{fullHeight:!0,fullWidth:!0,onTap:i,rounding:"circle",children:(0,P.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,P.jsx)(l.xv,{color:"inverse",size:"200",weight:"bold",children:s>99?"99+":s})})})})},t);var c=(0,P.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{opacity:u?.5:1}},marginStart:-2,children:(0,P.jsx)(eX.qE,{color:f,name:r,outline:!0,size:"sm",src:n})},t);return a?(0,P.jsx)(l.Tg,{href:o,rounding:"circle",children:c},t):c})})}function eQ(e){var t=e.invitedByUser,r=e.isAccepted,n=e.onDecline,i=e.onAccept,o=e.createdAt,a=(0,N.Z)(),u=(0,v.Z)(),c=u.isAuth?null==u?void 0:u.avatar_color_index:void 0,s=t.first_name,d=t.full_name,f=t.username,p=t.image_medium_url,y=s||d||a._('others', 'Default text when board colalborator name is not known.', 'Default text when board colalborator name is not known.');return(0,P.jsx)(l.W2,{children:r?(0,P.jsxs)(l.xu,{alignItems:"center",borderStyle:"sm",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingX:5,paddingY:3,rounding:2,width:"100%",children:[(0,P.jsx)(eY,{faces:[{href:u.isAuth?"/".concat(u.username):"",name:u.isAuth?u.fullName:"",src:u.isAuth?u.imageMediumUrl:""},{href:"/".concat(f),name:d,src:p}],maxFaces:2,numFaces:2}),(0,P.jsxs)(l.xu,{marginStart:2,children:[(0,P.jsx)(l.xv,{weight:"bold",children:a._('You\'re in!', 'Text showing that a user has accepted the board invite and is now a part of the board', 'Text showing that a user has accepted the board invite and is now a part of the board')}),(0,P.jsx)(l.xv,{children:(0,e$.Z)(a._('Start collaborating with {{ invitedByUserName }} on this board', ' - ', ' -- '),{invitedByUserName:y})})]})]}):(0,P.jsx)(l.xu,{borderStyle:"shadow",color:"default",marginEnd:-1,marginStart:-1,paddingX:6,paddingY:6,rounding:6,width:540,children:(0,P.jsxs)(l.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,P.jsx)(l.xu,{marginEnd:2,children:(0,P.jsx)(eX.qE,{color:c,name:d,size:"md",src:p})}),(0,P.jsx)(l.xu,{flex:"grow",children:(0,P.jsx)(l.xv,{color:"default",inline:!0,children:(0,R.nk)(a._('{{ user }} invited you to collaborate on this board {{ createdAt }}', 'web.boardView.inviteCard.text', 'Label used to indicate a Pinner has invited you to join a board'),{user:(0,P.jsx)(l.xv,{color:"default",inline:!0,weight:"bold",children:(0,P.jsx)(l.rU,{display:"inlineBlock",href:"/".concat(f),underline:"hover",children:d})},f),createdAt:(0,P.jsx)(l.xv,{color:"subtle",inline:!0,children:o})})})}),(0,P.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:1,children:[(0,P.jsx)(l.xu,{display:"inlineBlock",marginEnd:2,children:(0,P.jsx)(l.zx,{color:"gray",onClick:n,size:"lg",text:a._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request')})}),(0,P.jsx)(l.zx,{color:"red",onClick:i,size:"lg",text:a._('Accept', 'Text to accept a board collaboration invite', 'Text to accept a board collaboration invite')})]})]})})})}var e0=r(211731);function e1(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e2(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e2(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e2(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e5(e){var t=e.boardId,r=e.inviteCode,o=e.shouldAutoAcceptBoardInvite,a=e.userInviterId,u=(0,N.Z)(),c=(0,h.dI)(),s=(0,eG.Z)(),d=e1((0,n.useState)(!1),2),f=d[0],p=d[1],y=e1((0,n.useState)(null),2),m=y[0],b=y[1],_=(0,eV.HG)(),g=(0,v.Z)(),x=(0,i.I0)(),j={board_id:t,field_set_key:"boardBanner",invite_code:r,invited_user_id:g.isAuth&&g.id},w=(0,e0.RZ)(),S=(0,e0.CQ)();(0,n.useEffect)(function(){a&&o&&(w(t).then(function(){x((0,e0.A8)(t)),_&&c.showToast(function(e){var t=e.hideToast;return(0,P.jsx)(eF.Z,{duration:5e3,onHide:t,text:u._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')})})}),eK.Z.create("UserResource",{field_set_key:"grid_item",user_id:a}).callGet().then(function(e){var t=e.resource_response,r=t&&t.data;r&&b(r)}))},[o,a]);var O=(0,ew.Z)({name:"BoardInviteResource",options:j}).data,A=!!(a&&o)||f,I=!["new","contact_request_not_approved"].includes((null==O?void 0:O.status)||""),C=function(e){(e?w(t):S(t,j.invited_user_id||"")).then(function(){e&&(x((0,e0.A8)(t)),p(!0),c.showToast(function(e){var t=e.hideToast;return(0,P.jsx)(eF.Z,{duration:5e3,onHide:t,text:u._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')})})),x((0,eW.jB)("BoardInviteResource",j))})},k=(null==O?void 0:O.invited_by_user)||m,E=A?_:I;return!k||E?null:(0,P.jsx)(l.xu,{marginTop:3,paddingY:0,children:(0,P.jsx)(eQ,{createdAt:s((null==O?void 0:O.created_at)||"",!0),invitedByUser:k,isAccepted:A,onAccept:function(){return C(!0)},onDecline:function(){return C(!1)}})})}function e3(e){var t=e.boardId,r=(0,o.TH)(),n=r&&r.search?(0,eH.mB)(r.search):{},i=n.invite_code,l=n.accept_invite,a=n.inviter_user_id;return(0,P.jsx)(e5,{boardId:t,inviteCode:i,shouldAutoAcceptBoardInvite:l,userInviterId:a})}var e6=function(e){var t=e.board,r=t.id,i=t.owner,o=t.sensitivity,a=(0,v.Z)(),u=a.isAuth?a.id:"",c=(null==i?void 0:i.id)===u,s=(0,ev.Uz)(o),d=(0,(0,ep.Z)().checkExperiment)("ps_board_advisories_ui_refresh").anyEnabled||s;return(0,P.jsxs)(n.Fragment,{children:[!s&&(0,P.jsx)(e3,{boardId:r}),d&&(0,em.ZP)(o).hasNotices&&o&&(0,P.jsx)(l.xu,{paddingY:10,children:(0,P.jsx)(eb.Z,{boardId:r,boardName:t.name,notices:o.notices,sensitivity:o,viewParameter:c?3069:3070,viewType:5})})]})},e8=r(411356),e7=r(230110);function e4(e){var t,r,n,i,o,a=e.board,u=e.collaborators,c=e.handleCreatePincode,s=e.handleShowCollabAndPermissionsModal,f=e.isBoardPreviewMode,p=e.overFlowActionsButton,y=e.showPulsar,m=e.setBoardPreviewMode,b=e.userBlocked,h=a.access,_=a.archived_by_me_at,j=a.collaborator_requests_enabled,w=a.name,S=a.owner,O=a.privacy,A=a.should_show_board_collaborators,I=(0,e7.Z)({boardCollaboratorCount:a.collaborator_count,collaborators:u,showOnlyOwner:!A,ownerName:null==S?void 0:S.full_name}).nonDisplayedCollaboratorCount,C=(0,v.Z)(),k=(0,g.Z)(),E=(0,x.D3)(C,(null==(t=a.owner)?void 0:t.id)||"",k),T=h&&h.includes("write")||E,D=(0,d.Z)(a.collaborated_by_me,null==(r=a.owner)?void 0:r.id,C)||E,Z=O===eq.ZP.BoardPrivacy.SECRET,B=!T&&!b&&j&&!(C.isAuth&&C.isPrivateProfile);return(0,P.jsxs)(l.xu,{"data-test-id":"board-header-with-image-container",direction:"column",display:"flex",paddingY:8,children:[(0,P.jsx)(l.kC,{alignItems:"stretch",justifyContent:"center",children:(0,P.jsx)(l.xu,{maxWidth:800,children:(0,P.jsx)(e6,{board:a})})}),(0,P.jsx)(l.xu,{marginTop:4,paddingX:2,children:(0,P.jsx)(e8.Z,{board:a,boardName:null!=w?w:"",collaborators:u,description:null!=(n=a.description)?n:"",handleShowCollabAndPermissionsModal:s,isArchived:!!_,isBoardPreviewMode:f,isOwnerOrCollaborator:D,isSecret:Z,nonDisplayedCollaboratorCount:I,onCreatePincode:c,overFlowActionsButton:p,pinCount:null!=(i=a.pin_count)?i:0,sectionCount:null!=(o=a.section_count)?o:0,setBoardPreviewMode:m,showJoinButton:!!B,showPulsar:y})})]})}var e9=r(285544),te=r(902123),tt=function(e){var t=e.boardName,r=e.boardUrl,n=e.children,i=e.description,o=e.overFlowActionsButton,a=e.sectionName,u=e.ref;return(0,P.jsxs)(l.xu,{ref:u,display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,width:"100%",children:[(0,P.jsxs)(l.kC,{alignItems:"stretch",direction:"column",gap:2,justifyContent:"start",maxWidth:488,children:[(0,P.jsx)(e9.Z,{children:(0,P.jsx)(l.xu,{marginTop:4,children:(0,P.jsx)(te.q,{children:function(e){var n=e.active,i=e.focused,o=e.hovered,a=e.onBlur,u=e.onFocus,c=e.onMouseEnter,s=e.onMouseLeave;return(0,P.jsx)(l.Tg,{href:null!=r?r:"",onBlur:a,onFocus:u,onMouseEnter:c,onMouseLeave:s,children:(0,P.jsx)(l.X6,{align:"center",color:n||i||o?"default":"subtle",children:t})})}})})}),(0,P.jsx)(e9.Z,{children:(0,P.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,maxWidth:"100%",children:[(0,P.jsx)(l.X6,{align:"center",lineClamp:1,children:a}),!!o&&(0,P.jsx)(l.xu,{paddingX:1,children:o})]})}),!!i&&(0,P.jsx)(e9.Z,{children:(0,P.jsx)(l.xv,{align:"center",children:i})})]}),n&&(0,P.jsx)(l.xu,{marginTop:8,children:n})]})};function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tn(e){var t,r,i,o,a,u,c,f,p,y,m,b,h=e.board,_=e.handleBoardEditClick,j=e.handleFollowersClick,w=e.handleSectionEditClick,S=e.handleShowBoardArchiveConfirmation,O=e.handleShowBoardUnarchiveConfirmation,A=e.handleShowCollabAndPermissionsModal,I=e.handleShowCreatePincodeModal,C=e.handleShowMergeModal,k=e.isBoardPreviewMode,E=e.section,T=e.showPulsar,D=e.setBoardPreviewMode,Z=(0,v.Z)(),B=(0,g.Z)(),F=(0,ey.Z)(),M=F&&(0,s.Z)(h.privacy)?"?orbac_subject_id=".concat(F):"",z=h.name,N=h.sensitivity,R=h.access,L=h.url,U=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{for(o=(r=r.call(e)).next;!(u=(n=o.call(r)).done)&&(a.push(n.value),2!==a.length);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tr(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tr(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),q=U[0],H=U[1],K=(0,x.D3)(Z,(null==(r=h.owner)?void 0:r.id)||"",B),G=(0,ev.Uz)(N),W=(0,(0,ep.Z)().checkExperiment)("ps_board_advisories_ui_refresh").anyEnabled||G,V=R&&R.includes("write")||K?eD.I:eT,X=(0,d.Z)(h.collaborated_by_me,null==(i=h.owner)?void 0:i.id,Z)||K,$=null;$=X?(0,P.jsx)(eU.Z,{bgColor:E?"lightGray":"white",board:h,excludeShareOption:!0,onArchiveClick:S,onCreatePincode:I,onEditBoardClick:_,onEditSectionClick:w,onMergeClick:C,onUnarchiveClick:O,showCreatePinCodeOption:Z.isAuth&&Z.isPartner,size:"lg",surface:E?"section":"board"}):(0,P.jsx)(eL,{bgColor:"white",board:h,onReportClick:function(){return H(!0)},showFollow:!0,size:"lg"});var J=W&&(0,em.ZP)(N).hasNotices;return(0,P.jsxs)(n.Fragment,{children:[q&&(0,P.jsx)(eC,{boardId:h.id,onDismiss:function(){return H(!1)}}),E?(0,P.jsxs)(n.Fragment,{children:[J&&(0,P.jsx)(e9.Z,{children:(0,P.jsx)(l.xu,{maxWidth:800,paddingY:10,children:N&&(0,P.jsx)(eb.Z,{boardId:h.id,boardName:h.name,boardSectionId:E.id,isOwnBoard:K,notices:N.notices,sensitivity:N,viewParameter:K?3069:3070,viewType:5})})}),(0,P.jsx)(tt,{boardName:z,boardUrl:"".concat(void 0===L?"":L).concat(M),description:null!=(o=E.description)?o:"",overFlowActionsButton:$,sectionName:null!=(a=E.title)?a:""})]}):(0,P.jsx)(l.xu,{"data-test-id":"board-header",paddingX:2,children:(0,P.jsx)(V,{boardId:h.id,ownerAdsOnlyProfileSite:(null==(u=h.owner)?void 0:u.ads_only_profile_site)||"",ownerImgSrc:(null==(c=h.owner)?void 0:c.image_key)||(null==(f=h.owner)?void 0:f.image_medium_url)||(null==(p=h.owner)?void 0:p.image_small_url)||"",ownerIsAdsOnlyProfile:(null==(y=h.owner)?void 0:y.is_ads_only_profile)||!1,ownerName:(null==(m=h.owner)?void 0:m.full_name)||"",ownerUsername:(null==(b=h.owner)?void 0:b.username)||"",children:function(e){var t;return(0,P.jsx)(e4,{board:h,collaborators:e,handleCreatePincode:I,handleShowCollabAndPermissionsModal:A,isBoardPreviewMode:k,onFollowersClick:j,overFlowActionsButton:$,setBoardPreviewMode:D,showPulsar:T,userBlocked:!!(null!=(t=h.owner)&&t.blocked_by_me)})}})})]})}function ti(e){var t=e.boardId,r=e.collaboratorId,n=e.collaboratorUsername,a=(0,i.I0)(),u=(0,o.s0)(),c=(0,N.Z)();return(0,P.jsx)(l.kC,{justifyContent:"center",width:"100%",children:(0,P.jsx)(l.xu,{marginTop:8,maxWidth:960,paddingX:8,children:(0,P.jsx)(l.XA,{message:c._('You\u2019ve been requested to take over ownership of this board', 'boardOwnershipTransferUpsell.message', 'Message informing user they have received an ownership transfer request'),primaryAction:{accessibilityLabel:c._('Accept', 'boardOwnershipTransferUpsell.acceptAccessibilityLabel', 'Accessibility label for accept button on upsell'),label:c._('Accept', 'boardOwnershipTransferUpsell.acceptLabel', 'Label for accept button on upsell'),onClick:function(){(0,e_.Z)({url:"/v3/boards/".concat(t,"/collaborators/requests/ownership/"),method:"PUT",data:{collaborator:r}}),a((0,D.K8)(n)),u("/".concat(n,"/"))}},secondaryAction:{accessibilityLabel:c._('Decline', 'boardOwnershipTransferUpsell.declineAccessibilityLabel', 'Accessibility label for decline button on upsell'),label:c._('Decline', 'boardOwnershipTransferUpsell.declineLabel', 'Label for decline button on upsell'),onClick:function(){a((0,e0.xx)(t,r))}},title:c._('Board ownership request pending', 'boardOwnershipTransferUpsell.title', 'Title for board ownership transfer upsell')})})})}tt.displayName="SectionHeader";var to=r(869552);function tl(e){return(tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t,r){var n;return(n=function(e,t){if("object"!=tl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=tl(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tl(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tu(e){var t=e.handleAddSection,r=e.handleCreatePin,i=e.handleCreateStoryPin,o=e.surface,a=(0,f.u)().logContextEvent,u=(0,N.Z)(),c=(0,n.useRef)(null),s="board"===o?u._('Create a Pin or add a Section', 'BoardPage.ActionBar.AddPinOrSection', 'button triggering a flyout to create a pin or add a section'):u._('Create Pin', 'BoardPage.ActionBar.AddPin', 'button triggering a flyout to create a pin');return(0,P.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,P.jsx)(to.Z,{idealDirection:"up",isWithinFixedContainer:!0,onAddSection:t,onCreatePin:r,onCreateStoryPin:i,onOpen:function(){a({event_type:101,element:10776,component:13216,view_type:5,view_parameter:3069})},surface:o,children:function(e){var t=e.active,r=e.accessibilityControls,n=e.openFlyout;return(0,P.jsxs)(l.xu,{color:"default",display:"inlineBlock",rounding:"circle",children:[(0,P.jsx)(l.xG,{ref:c,accessibilityControls:r,accessibilityExpanded:t,accessibilityLabel:s,accessibilityPopupRole:"dialog",icon:"add",onClick:n,selected:t,tooltip:{text:s}}),(0,P.jsx)(y.cs,{anchors:ta({},3006,c.current),idealDirection:"up",placementId:18}),(0,P.jsx)(y.N,{anchors:ta({},3006,c.current),idealDirection:"up",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}})})}var tc=r(59355),ts=r(488661).HW+1;function td(e){var t=e.handleGoBack,r=e.hideSensitivityScreen,n=e.sensitivityScreenAuxData,i=(0,N.Z)();return(0,tc.Q)({component:13860,view_type:5,aux_data:n}),(0,P.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)"}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(ts),children:(0,P.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:260}},children:(0,P.jsxs)(l.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,P.jsx)(l.X6,{align:"center",color:"light",children:i._('This board may contain sensitive content', 'boardPageContainer.sensitivityScreen.heading', 'Warning text on board that may have sensitive content')}),(0,P.jsxs)(l.kC,{gap:{row:6,column:0},children:[(0,P.jsx)(l.zx,{color:"red",onClick:t,size:"lg",text:i._('Go back', 'boardPageContainer.sensitivityScreen.backButton', 'Text on button that lets user go back to previous page')}),(0,P.jsx)(l.zx,{color:"white",onClick:r,size:"lg",text:i._('View anyway', 'boardPageContainer.sensitivityScreen.viewButton', 'Text on button that lets user past sensitivity screen')})]}),(0,P.jsx)(l.xu,{paddingY:4,children:(0,P.jsx)(l.xv,{align:"center",color:"light",overflow:"normal",size:"200",children:(0,R.nk)(i._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin', 'boardPageContainer.sensitivityScreen.text', 'Text telling user how to report a Pin'),{communityGuidelines:(0,P.jsx)(l.xv,{color:"light",inline:!0,size:"200",underline:!0,children:(0,P.jsx)(l.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",underline:"hover",children:i._('Community Guidelines', 'boardPageContainer.sensitivityScreen.communityGuidelines', 'Text that links to the community guidelines page')})})})})})]})})})}var tf=r(382802),tp=r(421951),ty=r(629616),tv=r(112782),tm=r(900842);function tb(e){var t=(0,N.Z)(),r=e.boardUrl,n=e.onHide,i=e.slug;return(0,P.jsx)(eF.Z,{duration:2e3,href:"".concat(void 0===r?"":r).concat(i),onHide:n,text:t._('Section added!', 'Toast for successfully creating a new board section', 'Toast for successfully creating a new board section')})}var th=r(551140);function t_(e){return(t_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tg(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=t_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=t_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==t_(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tw(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tw(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tS=function(){},tP=(0,y.RL)(18,function(e){var t;return{board_id:e.board.id,pin_count:null!=(t=e.board.sectionless_pin_count)?t:0}})(function(e){var t,r,S,O,A,I,C,k,M,z,R=e.board,L=e.experience,q=e.initialModalType,H=e.refreshBoardData,K=void 0===H?tS:H,G=e.refreshSectionData,W=void 0===G?tS:G,V=e.setPlacementExtraContext,X=void 0===V?tS:V,$=e.section,J=e.showPulsar,Y=tj((0,n.useState)(!1),2),Q=Y[0],ee=Y[1],et=(0,f.u)().logContextEvent,er=(0,i.I0)(),ei=(0,p.Z)(),eo=(0,w.G)().setFooterPlusButtonVisible,el=(0,v.Z)(),ea=(0,g.Z)(),eu=(0,T.W$)(el,R),ec=R.collaborated_by_me,es=R.id,ed=R.owner,ep=R.pending_ownership_transfer,ev=R.pin_count,em=R.privacy,eb=($||{}).pin_count,eh=(null==ed?void 0:ed.id)||"",e_=(0,x.q6)(el,eh,ea),eg=(0,d.Z)(ec,eh,el)||e_,ex=el.isAuth&&el.id===ep,ej=(0,x.lJ)(el,ea),eS=ej&&(0,s.Z)(em)?"?orbac_subject_id=".concat(ej):"",eP=(0,u.Z)(!0),eO=!!$;(0,n.useEffect)(function(){var e="other";eu?e="own":(0,T.Df)(el,R)&&(e="collaborator"),X({board_ownership:e})},[L]),(0,n.useEffect)(function(){return eg&&eo(!1),function(){eo(!0)}},[eo,eg]);var eA=(0,h.dI)().showOneToast,eI=(0,o.s0)(),eC=(0,o.TH)(),ek=0===(0,m.ou)().previous.length;t=(0,U.WG)(),r=(0,v.Z)(),S=(0,ew.Z)({name:"UserMetadataResource",options:{user:r}}),(0,n.useEffect)(function(){if(S&&S.data&&!(null!=t&&t.boardPinDensity)){var e=S.data.profile_pin_rep_view_type;null==t||t.setBoardPinDensity(null!=e?e:"regular")}});var eE=(0,F.Z)({board:R}),eT=eE.handleShowMergeSectionsConfirmationModal,eD=eE.mergeConfirmationModalProps,eZ=eE.onConfirm,eB=(O=(0,N.Z)(),A=(0,f.u)().logContextEvent,I=(0,i.I0)(),C=(0,tp.Z)().showBlockingActionToast,k=(0,ey.Z)(),function(e){var t=e.board,r=e.targetBoard;A({event_type:7172,object_id_str:t.id,aux_data:{merge_flow:"menu"}}),I((0,ty.Z)(t.id,r.id,k)).then(function(){C({actionType:"merge",board:r})}).catch(function(e){tf.Z.showError(e.message||O._('Failed to merge boards', 'Error message when failed to merge boards', 'Error message when failed to merge boards'))})}),eF={board_id:R.id,reason:(null==(M=R.sensitivity_screen)?void 0:M.reason)||""},eM=tj((0,n.useState)(!!(null!=(z=R.sensitivity_screen)&&z.show_warning)&&!eg),2),ez=eM[0],eN=eM[1],eR=tj((0,n.useState)(null),2),eL=eR[0],eU=eR[1],eq=tj((0,n.useState)(q||null),2),eH=eq[0],eK=eq[1],eG=tj((0,n.useState)(R&&(0,tm.Z)(el,R)||"custom"),2),eW=eG[0],eV=eG[1],eX=function(){return eK(B.s.boardArchiveConfirmation)},e$=function(){eI(el.isAuth?"/".concat((0,x.Ms)(el,ea)):"/",{replace:!0})},eJ=function(e){if(ei)return void ei();eK(B.s.editSection),eU(e)},eY=function(e){eA(function(t){var r,n=t.hideToast;return(0,P.jsx)(tb,{boardUrl:R.url,onHide:n,slug:null!=(r=e.slug)?r:""})})},eQ={board_id:R.id,board_pin_count:ev};return(0,_.Z)(function(){(eC.state||Object.freeze({})).shouldOpenCollaboratorsModal&&(eK(B.s.collaboratorsAndPermissions),eI(tx(tx({},eC),{},{state:tx(tx({},eC.state),{},{shouldOpenCollaboratorsModal:!1})}),{replace:!0}))}),(0,P.jsx)(j.Z,{objectIdStr:es,viewParameter:eu?3069:3070,viewType:5,children:(0,P.jsx)(b.Z,{auxData:eQ,objectId:es,view:5,viewParameter:(0,en.Z)({board:R,viewer:el}),children:(0,P.jsxs)(n.Fragment,{children:[(0,P.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:ez?{filter:"blur(30px)"}:{}},children:[(0,P.jsxs)(th.h,{children:[(0,P.jsx)(tn,{board:R,handleBoardEditClick:function(){et({event_type:101,element:10845,component:13216,view_type:5,view_parameter:3069}),eK(B.s.boardEdit)},handleFollowersClick:function(){eK(B.s.followers)},handleSectionEditClick:function(){return eJ()},handleShowBoardArchiveConfirmation:eX,handleShowBoardUnarchiveConfirmation:function(){return eK(B.s.boardUnarchiveConfirmation)},handleShowCollabAndPermissionsModal:function(){return eK(B.s.collaboratorsAndPermissions)},handleShowCreatePincodeModal:function(){if(ei)return void ei();et({event_type:101,element:10781,component:13217,view_type:5,view_parameter:3069}),eK(B.s.pincode)},handleShowMergeModal:function(){if(ei)return void ei();eK(B.s.mergeBoard)},isBoardPreviewMode:Q,section:$,setBoardPreviewMode:ee,showPulsar:J}),eg&&eO&&!Q&&(0,P.jsx)(l.xu,{marginBottom:6,marginTop:6,children:(0,P.jsx)(tv.Z,{boardId:R.id,isBoardEmpty:!ev||!eb,sectionId:null==$?void 0:$.id})}),ex&&(0,P.jsx)(ti,{boardId:R.id,collaboratorId:el.isAuth?el.id:"",collaboratorUsername:el.isAuth?el.username:""}),eH!==B.s.jumpstartBoard&&(0,P.jsx)(b.Z,{auxData:eQ,component:178,objectId:R.id,view:5,viewParameter:eu?3069:3070,children:(0,P.jsx)(ef,{board:R,currentView:eW,handleContentViewChange:function(e){return eV(e)},handleSetCurrentModal:eK,handleShowEditSectionModal:eJ,handleShowMergeSectionsConfirmationModal:eT,isBoardPreviewMode:Q,isHidePinCount:!eO,isOwnBoard:eu,isOwnerOrCollaborator:eg,isPinGridSorted:"custom"!==eW,refreshBoardData:K,refreshSectionData:W,section:$})}),(0,P.jsx)(E,{boardId:R.id,handleShowArchiveConfirmation:eX}),eg&&(0,P.jsx)(tu,{handleAddSection:function(){if(ei)return void ei();et({event_type:101,element:10779,component:13217,view_type:5,view_parameter:3069}),eK(B.s.simpleCreateSection)},handleCreatePin:function(){if(ei)return void ei();et({component:13217,element:10643,event_type:101,view_parameter:3069,view_type:5}),eI("/pin-builder/",{state:{board:R,boardSection:$}})},handleCreateStoryPin:function(){if(ei)return void ei();et({aux_data:{entry_type:"board_plus_button"},component:13217,element:10949,event_type:101,view_parameter:3069,view_type:5}),eI((0,a.Z)(eP),{state:{board:R,entry_type:"board_plus_button",boardSection:$}})},surface:$?"section":"board"})]}),eH&&(0,P.jsx)(Z.Z,{actions:{completeCreateSectionAction:function(e){if(ei)return void ei();eK(null),eY(e)},onBoardArchiveChange:function(){er((0,D.K8)(el.isAuth?el.username:""))},onBoardDelete:function(){K(),e$()},onBoardLeave:function(){er((0,D.K8)(el.isAuth?el.username:"")),e$()},onBoardMerge:function(e){eB({board:R,targetBoard:e}),e$()},onBoardSectionDelete:function(){if(eU(null),eK(null),$){var e,t=null!=(e=R.url)?e:"";eI("".concat(t).concat(eS),{replace:!0})}},onBoardSectionSave:function(e){var t,r=e.slug;eU(null),eK(null),$&&eI("".concat(null!=(t=R.url)?t:"").concat(r,"/").concat(eS),{replace:!0})},onConfirmMergeSection:eZ},board:R,boardSection:$||eL,currentModal:eH,mergeConfirmationModalProps:eD,onClearModal:function(){return eK(null)}}),(0,P.jsx)(y.k6,{placementId:1000647}),(0,P.jsx)(y.RK,{placementId:18}),(0,P.jsx)(c.Z,{placementId:18}),(0,P.jsx)(y._f,{experience:L,placementId:18}),(0,P.jsx)(y.nj,{experience:L,placementId:18})]}),ez&&(0,P.jsx)(td,{handleGoBack:function(){et({event_type:101,component:13860,element:73,view_type:5,aux_data:tx({},eF)}),ek&&eI("/",{replace:!0}),eI(-1)},hideSensitivityScreen:function(){er((0,D.of)(R.id)),et({event_type:101,component:13860,element:12448,view_type:5,aux_data:tx({},eF)}),eN(!1)},sensitivityScreenAuxData:eF})]})})})})},504860:function(e,t,r){r.d(t,{Z:function(){return _}});var n=r(581722),i=r(935059),o=r(661376),l=r(200619),a=r(601871),u=r(44849),c=r(438274),s=r(768033),d=r(836643),f=r(338170),p=r(173842),y=r(680811);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e){var t=(0,i.Z)(),r=(0,l.Z)(),v=(0,a.lJ)(t,r),m=(0,o.Z)({name:"BoardSectionPinsResource",options:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{currentFilter:r,field_set_key:"react_grid_pin",is_own_profile_pins:t,page_size:25,redux_normalize_feed:!0,section_id:e,orbac_subject_id:n}}(e.boardSectionId,e.isOwnBoard,e.currentFilter,v)}),h=(0,o.Z)({name:"BoardsResource",options:(0,u.Z)(e.viewer.username,!0)}),_=(0,n.v9)(function(t){var r=t.feeds,n=t.desktopStories;return(0,d.Z)(r["".concat(c.Z.BOARD_SECTION_PINS,":").concat(e.boardSectionId)],n)});return(0,y.jsx)(s.Z,b(b(b({},e),_),{},{boardsResource:h,renderFeaturedBoardsStory:function(t){return(0,y.jsx)(f.Z,{isOwnBoard:e.isOwnBoard,storyId:t})},renderMoreIdeas:function(t){return e.isOwnerOrCollaborator?null:(0,y.jsx)(p.default,{storyId:t})},resource:m}))}h.displayName="BoardSectionPinGrid";var _=h},497455:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e,t){var r=e.url,n=t.slug;return"".concat(null!=r?r:"").concat(null!=n?n:"","/")}},422872:function(e,t,r){t.Z=(0,r(387784).createContext)({showAbout:!1,setShowAbout:function(){}})},701943:function(e,t,r){function n(){return{}}r.d(t,{kr:function(){return n}}),r.g.__AsyncLocalStorage__&&new r.g.__AsyncLocalStorage__},677269:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},948715:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(677269);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){(0,n.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},810752:function(e,t,r){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e){var t,r=function(e){if(Array.isArray(e))return e}(t=e.split(/\/(.*)+/))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],u=!0,c=!1;try{for(o=(r=r.call(e)).next;!(u=(n=o.call(r)).done)&&(a.push(n.value),2!==a.length);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return n(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=r[0];return{filepath:r[1]||"",site:i||""}}function o(e,t){return t?"".concat(e||"","/").concat(t):"/".concat(e||"")}r.d(t,{ac:function(){return i},ke:function(){return o}})},177433:function(e,t,r){r.d(t,{Zv:function(){return a},uo:function(){return u},wH:function(){return l}});var n=r(213491),i=r(810752),o=(0,n.Z)("HandlerId"),l=o.Provider,a=o.get;function u(){var e=a();return(0,i.ac)(e).site}},778830:function(e,t,r){function n(){var e=void 0;return e?function(t){return e.addToBeLoaded(t)}:function(){}}r.d(t,{N:function(){return n}}),(0,r(701943).kr)()},9065:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(387784),i=r(774838),o=r(317109),l=r(767415),a=r(354139),u=r(177433);function c(e){if(e&&r.m[e])return r(e).default}r(778830);var s=r(680811);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,r,n,i,o,l){try{var a=e[o](l),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,i)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e,t,r,d,p){var v,m=null==(v=null==t?void 0:t.ssr)||v?n.Suspense:o.Z,b=new Map,h=new Map;function _(e){return d&&null!=t&&t.dynamicRequestKey&&e?d.replace("[request]",e[t.dynamicRequestKey]):d}function g(e){var t;return r?r(e):null!=(t=_(e))?t:"static"}function x(e){var t=e.children,r=e.chunkName,o=e.earlyHydrationConfig,c=(0,u.Zv)(),s=(0,i.Ts)();return(0,n.useEffect)(function(){(0,l.nP)("earlyHydrationDebug.lazyComponent.suspend",{tags:y(y({},(0,a.M3)({earlyHydrationConfig:o,handlerId:c,requestContext:s})),{},{chunkName:r})})},[]),t}function j(i){null==t||t.dynamicRequestKey;var o=g(i),u=(0,a.DB)(),d=_(i);if(!h.has(o)){var f,v,b,j,w,S,P,O,A,I,C,k=null==r?void 0:r(i);h.set(o,(j=(f={chunkName:d,dynamicImport:e,earlyHydrationEnabled:u.anyEnabled,getDependentChunkNames:p,moduleId:k,props:i}).chunkName,w=f.dynamicImport,S=f.earlyHydrationEnabled,P=f.getDependentChunkNames,O=f.moduleId,A=f.props,I=(0,n.lazy)(function(){return w(A)}),C=!!(b=S?(v=function(e,t){if(e)return Array.isArray(e)?e:t&&e[t]||void 0}(null==P?void 0:P(),j))&&v.every(function(e){var t,r;return null!=(t=null==(r=void 0!==window.legacyJsonp?window.legacyJsonp:window.modernJsonp)?void 0:r.some(function(t){return t[0].includes(e)}))&&t})?c(O):void 0:c(O)),(0,l.nP)("webapp.lazyComponent.initComponentToRender",{tags:{chunkName:null!=j?j:"unknown",hasModuleInCache:C,moduleId:null!=O?O:"unknown"}}),b||I))}var E=h.get(o);return(0,s.jsx)(m,{fallback:(0,s.jsx)(x,{chunkName:null!=d?d:"unknown",earlyHydrationConfig:u,children:i.fallback||(null==t?void 0:t.fallback)}),children:(0,s.jsx)(E,y(y({},i),{},{ref:i.ref}))})}return j.preload=function(t){var r,n,i;r=g(t),n=h.get(r),b.get(r)||n||b.set(r,(i=regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n){i.next=6;break}return i.next=3,e(t);case 3:o=i.sent,h.set(r,o.default),b.delete(r);case 6:case"end":return i.stop()}},i)}),function(){var e=this,t=arguments;return new Promise(function(r,n){var o=i.apply(e,t);function l(e){f(o,r,n,l,a,"next",e)}function a(e){f(o,r,n,l,a,"throw",e)}l(void 0)})})())},j}},715587:function(e,t,r){t.Z=(0,r(387784).createContext)(null)},234178:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(387784),i=r(354139),o=r(715587);function l(){var e=(0,n.use)(o.Z);return null!=e?e:i.g5}},354139:function(e,t,r){r.d(t,{DB:function(){return s},M3:function(){return d},SS:function(){return c},g5:function(){return a}});var n=r(810752);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var a={anyEnabled:!1,group:"",scriptPlacement:"head",optimizedClient:!1,moduleScripts:!1,instantLoadingIndicator:!0,isServiceWorkerExperiment:!1};function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=l(l({},a),{},{anyEnabled:e.startsWith("enabled")||e.startsWith("employees"),group:e,optimizedClient:e.includes("optimized_client"),instantLoadingIndicator:!e.includes("no_app_shell"),isServiceWorkerExperiment:t});switch(e){case"enabled":case"enabled_no_app_shell":return l(l({},r),{},{scriptPlacement:"head"});case"enabled_preload":case"enabled_preload_no_app_shell":return l(l({},r),{},{scriptPlacement:"head",preloadScripts:"low"});case"enabled_preload_high":case"enabled_preload_high_no_app_shell":return l(l({},r),{},{scriptPlacement:"head",preloadScripts:"high"});case"employees":case"enabled_preload_and_body_scripts":case"enabled_preload_and_body_scripts_no_app_shell":return l(l({},r),{},{scriptPlacement:"body",preloadScripts:"low"});case"enabled_preload_high_and_body_scripts":case"enabled_preload_high_and_body_scripts_no_app_shell":return l(l({},r),{},{scriptPlacement:"body",preloadScripts:"high"});case"control":case"control_no_app_shell":return r;default:return a}}function c(e){var t,r,i,o,l,c,s,d,f=e.experimentsClient,p=e.handlerId,y=e.skipActivation,v=void 0!==y&&y;return"www"!==(0,n.ac)(null!=p?p:"").site?a:(i=(t={experimentsClient:f,skipActivation:v}).experimentsClient,o=t.skipActivation,c=(l=null!=(r=null==i?void 0:i.checkExperiment("web_sw_with_early_hydration",{dangerouslySkipActivation:o}))?r:{group:"",anyEnabled:!1}).group,s=l.anyEnabled,"control_early_hydration_specify_hostname"===c||"control_early_hydration_reduce_precache"===c||"control_early_hydration_extend_precache"===c||"control_early_hydration"===c||s)?u("enabled_preload_and_body_scripts",!0):u((null!=(d=null==f?void 0:f.checkExperiment("web_early_hydration",{dangerouslySkipActivation:v}))?d:{group:""}).group,!1)}var s=r(234178).Z;function d(e){var t=e.earlyHydrationConfig,r=e.handlerId,n=e.requestContext,i=t.group,o=t.isServiceWorkerExperiment,l=n.isAuthenticated,a=n.isBot,u=n.userAgent;return{earlyHydrationGroup:i||"unknown",environment:"client",handlerId:r,isAuthenticated:l,isBot:a,isDesktop:!u.isMobile&&!u.isTablet,isServiceWorkerExperiment:o,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1}}},653015:function(e,t,r){r.d(t,{u:function(){return n}});var n="HIDDEN_ON_SERVER_ERROR";t.Z=function(e){return e instanceof Object&&"message"in e&&"string"==typeof e.message&&e.message.includes(n)}}}]);