"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["50722"],{363061:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},589641:function(e,t,n){n.d(t,{H$:function(){return z},MY:function(){return k},ZP:function(){return C}});var r=n(387784),o=n(581722),i=n(20256),a=n(24246),l=n(216975),s=n(501010),c=n(220942),u=n(680811);function d(e){var t=e.shouldBlock,n=e.updateShouldBlock,r=e.user,o=(0,a.Z)(),d=r.fullName,f=r.username,p=d?"".concat(d," (").concat(f,")"):f,h=(0,(0,s.Z)().checkExperiment)("ps_blocking_profile_visibility").anyEnabled;return(0,u.jsxs)(i.xu,{paddingY:3,children:[(0,u.jsx)(i.xv,{size:"100",children:(0,l.nk)(o._('Block {{ name }}', 'reportModal.detailPage.userBlockSwitch.heading', 'Block a user heading, name:Display name of user to be blocked'),{name:p})}),(0,u.jsxs)(i.xu,{direction:"row",display:"flex",paddingY:2,children:[(0,u.jsx)(i.xu,{marginEnd:2,children:(0,u.jsx)(i.XZ,{checked:t,id:"blockUser",onChange:n})}),(0,u.jsx)(i.xu,{children:h?(0,u.jsx)(i.xv,{size:"300",children:(0,u.jsx)(c.Z,{})}):(0,u.jsx)(i.xv,{size:"300",children:(0,l.nk)(o._('If you block {{ nameLink }}, both of you can still view each other\'s profiles, but you can\'t message each other, follow or save each other\'s Pins.', 'reportModal.detailPage.userBlockSwitch.blockingExplanation', 'Explanation of blocking a user, nameLink:Display name of user to be blocked with a link to their profile'),{nameLink:(0,u.jsx)(i.xv,{inline:!0,size:"300",weight:"bold",children:(0,u.jsx)(i.rU,{display:"inlineBlock",href:"/".concat(f),onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:p},"blockUserLink")})})})})]})]})}var f=n(62507),p={listStyleType:"disc",marginLeft:"18px",fontSize:"16px"};function h(e){var t=e.objectToReport,n=e.isBlocked,r=e.setIsBlocked,o=e.selectedReason,l=e.shouldBlockUser,c=e.renderVideoReasonDetailPage,h=e.updateShouldBlockUser,_=o.detail_page_removal_examples,b=o.detail_page_removal_example_header,m=o.detail_page_non_removal_examples,y=o.detail_page_non_removal_example_header,v=o.detail_page_additional_text,g=t.userToBlock,x=(0,s.Z)().checkExperiment,P=(0,a.Z)(),j=x("web_blocking_upsell").anyEnabled;return(0,u.jsxs)(i.xu,{paddingX:8,children:[j&&(0,u.jsx)(i.xv,{size:"300",children:P._('We usually review all submitted reports within 48 hours. We won\u2019t notify this account that you submitted a report.', 'reportPinReasonDetail.effectNotification', 'Text description helper to notify user actions')}),(0,u.jsxs)(i.xu,{paddingY:3,children:[(0,u.jsx)(i.xv,{size:"100",children:b}),_.length>0&&(0,u.jsx)(i.xu,{paddingY:2,children:(0,u.jsx)("ul",{children:_.map(function(e,t){return(0,u.jsx)("li",{style:p,children:(0,u.jsx)(i.xv,{size:"300",children:e})},"removals-".concat(t))})})})]}),m.length>0&&(0,u.jsxs)(i.xu,{paddingY:3,children:[(0,u.jsx)(i.xv,{size:"100",children:y}),(0,u.jsx)(i.xu,{paddingY:2,children:(0,u.jsx)("ul",{children:m.map(function(e,t){return(0,u.jsx)("li",{style:p,children:(0,u.jsx)(i.xv,{size:"300",children:e})},"removals-".concat(t))})})})]}),v&&(0,u.jsx)(i.xu,{paddingY:3,children:(0,u.jsx)(i.xv,{size:"300",children:v})}),c&&c(),j&&g?(0,u.jsx)(f.Z,{isBlocked:n,setIsBlocked:r,userToBlock:g}):(0,u.jsx)(i.xu,{children:"conversation"===t.type&&h&&t.userToBlock&&(0,u.jsx)(d,{shouldBlock:!!l,updateShouldBlock:h,user:{username:t.userToBlock.username,fullName:t.userToBlock.fullName}})})]})}var _=n(230201);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){var t=e.isSelectionStep,n=e.isBlocked,r=e.hasTimestampErrors,o=e.selectedReason,l=e.handleSubmitReport,c=e.onDismiss,d=e.step,f=e.shouldBlockUser,p=e.objectToReport,h=e.setStep,b=(0,a.Z)(),m=(0,_.u)().logContextEvent,v=(0,s.Z)().checkExperiment,g=function(e){var t=e.component,n=e.element,r=e.event;p&&m({event_type:r,component:t,element:n,object_id_str:p.id,view_parameter:p.viewParameter||void 0,view_type:p.viewType||void 0})},x=function(e){p.type===z.PIN&&g({event:59,element:e.element_type}),e.open_web_url&&window.open(e.open_web_url,"_blank"),c()},P=function(e){return function(){e!==k&&g(y({event:101,component:13179},o?{element:o.element_type}:{})),h(e)}},j=t&&!(null!=o&&o.key)||!t&&r,w=!(!1===d&&o&&"secondary_reasons"in o&&null!=o&&o.secondary_reasons&&o.secondary_reasons.length>0),S=t?b._('Next', 'ReportModal.nextButton', 'Button to progress to next screen in report flow'):v("web_blocking_upsell").anyEnabled&&n?b._('Block and report', 'ReportModal.blockAndReportButton', 'Button text to submit a report and block the user'):b._('Report', 'ReportModal.submitButton', 'Button text to submit a report'),A=t?P(!1):function(){o&&l(y(y({reasonKey:o.key},{selectedReason:o}),{shouldBlockUser:f}))};null!=o&&o.open_web_url&&(A=function(){return x(o)});var O=t?b._('Cancel', 'ReportModal.cancelButton', 'Cancel button'):b._('Back', 'ReportModal.backButton', 'Back button'),C=t?c:P(!0);return(0,u.jsxs)(i.xu,{direction:"row",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,u.jsx)(i.xu,{paddingX:1,children:(0,u.jsx)(i.xu,{"data-test-id":"report-pin-back-button",children:(0,u.jsx)(i.zx,{onClick:C,size:"lg",text:O})})}),w&&(0,u.jsx)(i.xu,{paddingX:1,children:(0,u.jsx)(i.xu,{"data-test-id":"report-pin-submit-button",children:(0,u.jsx)(i.zx,{color:"red",disabled:null!=j&&j,onClick:A,size:"lg",text:S})})})]})}var g=n(439);function x(e){var t=e.handleSelectedReason,n=e.reason,r=e.reportingReasons,o=(0,a.Z)();return(0,u.jsx)(i.xu,{paddingX:4,paddingY:2,children:(0,u.jsx)(i.FX,{id:"select-reporting-reason",legend:o._('Select reporting reason', 'select_reporting_reason.legend', 'Description of Reporting reason'),legendDisplay:"hidden",children:r.map(function(e){return(0,u.jsx)(i.xu,{direction:"row",display:"flex",paddingX:4,children:(0,u.jsx)(i.xu,{"data-test-id":"report-pin-reason-".concat(e.key),children:(0,u.jsx)(i.FX.RadioButton,{checked:e.key===n,helperText:e.secondary_text||"",id:e.key,label:e.primary_text||"",name:"reportPinOptions",onChange:function(){return t(e)},value:e.key})})},"Option-".concat(e.key))})})})}var P=n(104999),j=n(465784),w=n(118376),S=n(826681);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var k=!0,z={BOARD:"board",PIN:"pin",USER:"user",CONVERSATION:"conversation"};function C(e){var t=e.onDismiss,n=e.handleSubmitReport,l=e.hasTimestampErrors,s=e.objectToReport,c=e.renderVideoReasonDetailPage,d=e.reportingReasons,f=e.showSuccessReportMessage,p=(0,a.Z)(),_=A((0,r.useState)(null),2),b=_[0],m=_[1],y=A((0,r.useState)(!1),2),O=y[0],C=y[1],B=(0,o.I0)(),I=(0,P.Z)(),T=A((0,r.useState)(!1),2),E=T[0],L=T[1],R=A((0,r.useState)(k),2),D=R[0],Z=R[1],M=(0,w.Z)(),U=s.userToBlock,N=function(e){m(e)},H=function(){if(D!==k&&null!=b&&b.detail_page_header_text)return b.detail_page_header_text;switch(s.type){case z.PIN:return p._('Report Pin', 'pinReporting.heading', 'Modal heading for report pin flow');case z.USER:return p._('Report account', 'accountReporting.heading', 'Modal heading for report account flow');case z.CONVERSATION:return p._('Report conversation', 'conversationReporting.heading', 'Modal heading for report conversation flow');case z.BOARD:return p._('Report board', 'boardReporting.heading', 'Modal heading for board report flow');default:return""}};if(!d)return(0,u.jsx)(i.xH,{accessibilityLabel:p._('Loading pin report modal', 'pinReporting.spinner', 'Accessibility label for spinner shown while reasons are loading'),show:!0});var F=function(){switch(s.type){case z.PIN:return 71;case z.CONVERSATION:return 3981;case z.BOARD:return 3846;case z.USER:return 86;default:return null}};return(0,u.jsx)(j.ZP,{accessibilityModalLabel:H(),footer:d&&(0,u.jsx)(v,{handleSubmitReport:function(e){E&&U&&(B((0,S.Ge)({id:U.id,logContextEvent:I})),I({event_type:17447,view_parameter:F(),element:18096})),n(e)},hasTimestampErrors:l,isBlocked:E,isSelectionStep:D===k,objectToReport:s,onDismiss:t,selectedReason:b,setStep:Z,shouldBlockUser:O,step:D}),heading:H(),onDismiss:t,children:(0,u.jsxs)(i.xu,{"data-test-id":"report-modal",children:[D===k&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(x,{handleSelectedReason:N,reason:null==b?void 0:b.key,reportingReasons:d}),f&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(i.xu,{borderStyle:"sm",marginBottom:4,marginEnd:8,marginStart:8,marginTop:4}),(0,u.jsx)(i.xu,{marginEnd:4,marginStart:4,children:(0,u.jsx)(i.he,{message:p._('Blocked. To manage your block list, see social permissions in settings.', 'pinReporting.successBlockMessage', 'Success block message after block and report action'),type:"success"})})]})]}),D!==k&&b&&"secondary_reasons"in b&&null!=b&&b.secondary_reasons&&b.secondary_reasons.length>0?(0,u.jsx)(g.Z,{onChange:N,secondaryReasons:b.secondary_reasons}):D!==k&&b&&(0,u.jsx)(h,{isBlocked:E,objectToReport:s,renderVideoReasonDetailPage:c,selectedReason:b,setIsBlocked:L,shouldBlockUser:O,updateShouldBlockUser:function(){s.userToBlock&&(O||M(),C(!O))}})]})})}},439:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(20256),o=n(24246),i=n(680811);function a(e){var t=e.onChange,n=e.secondaryReasons,a=(0,o.Z)();return(0,i.jsx)(r.xu,{children:n.map(function(e){return(0,i.jsx)(r.iP,{onTap:function(){return e.open_web_url?window.open(e.open_web_url,"_blank"):t(e)},children:(0,i.jsxs)(r.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,i.jsx)(r.xu,{paddingX:8,children:(0,i.jsx)(r.xv,{children:e.primary_text})}),(0,i.jsx)(r.xu,{"data-test-id":"secondary-reason-container",paddingX:8,children:e.open_web_url?(0,i.jsx)(r.JO,{accessibilityLabel:a._('Visit for more information', 'pinReporting.secondaryReason.outsideLink.icon', 'Visit outside link for more information'),color:"default",dataTestId:"secondary-reason-outside-link-icon",icon:"arrow-up-right"}):(0,i.jsx)(r.JO,{accessibilityLabel:a._('Select this reason', 'pinReporting.secondaryReason.modalPageLink.icon', 'Choose this reason'),color:"default",dataTestId:"secondary-reason-icon",icon:"arrow-forward"})})]})},e.key)})})}},877263:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(924591),o=n(24246),i=n(577356),a=n(680811);function l(){var e=(0,o.Z)(),t=(0,i.dI)().showToast;return{showErrorToast:function(){t(function(t){var n=t.hideToast;return(0,a.jsx)(r.Z,{onHide:n,text:e._('Something went wrong.', 'fetchReportingReasons.Toast.Unsuccessful', 'Toast after fetching reporting reasons is unsuccessful')})})},showSuccessToast:function(){t(function(t){var n=t.hideToast;return(0,a.jsx)(r.Z,{onHide:n,text:e._('Thanks. For updates, see your reports and violations center.', 'userReporting.handleSubmitReport.toast', 'This string appears on a banner that is displayed for a few seconds after the user submits a report, such as for content that violates Pinterest\u2019s policies. This banner confirms receipt and lets the user know where they can find updates. \u201Creports and violations center\u201D is the name of a feature within settings. It is a common noun. The tone of this is neutral and calm.')})})}}}},257680:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(249459);function o(e){return e===r.ZP.BoardPrivacy.SECRET}},583845:function(e,t,n){n.d(t,{Rq:function(){return r},Vf:function(){return o},jd:function(){return i},oy:function(){return a}});var r=function(e){return"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436},o=28,i=function(e){return window.innerHeight>=748&&r(e)},a=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)}},446885:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(387784),o=n(20256),i=n(424367),a=n(351736),l=n(440077),s=n(609252),c=n(178315),u=n(774838),d=n(40763),f=n(680811);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e){var t,n,p=e.children,h=e.footerConfig,b=e.headerConfig,m=e.height,y=e.hideOnScroll,v=e.hideOnScrollState,g=v.isHidden,x=v.updateHiddenState,P=e.isFooterHidden,j=e.noPadding,w=e.paddingX,S=e.paddingY,A=void 0===S?c.og:S,O=e.type,k=e.zIndex,z=e.isStoryPin,C=b||{},B=C.headerLimitedOverflow,I=C.ignoreObstructions,T=C.zIndexForGestaltBug,E=h||{},L=E.appUpsellFooterConfig,R=E.footerInLego,D=E.navFooterConfig,Z=!!L,M="header"===O?"top":"bottom",U=(0,a.vs)(),N=(0,u.B)().isRTL,H=(0,i.Z)().mWebCloseupRedesignEnabled,F=(0,r.useRef)(null),Y=(0,r.useRef)(null);(0,r.useEffect)(function(){try{if(!I){var e=F.current;Y.current=B&&e&&Array.isArray(e.children)?e.children[0]:e,Y.current instanceof HTMLElement&&s.Z.addObstruction(M,Y.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return function(){!I&&Y.current instanceof HTMLElement&&s.Z.removeObstruction(M,Y.current)}},[I,B,M,U]);var X="top"===M?"relative":"fixed",W=j?0:A,G=(null!=m?m:c.R$)+((null==b?void 0:b.overrideTop)||0),J=y||D?_({transition:R||H?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear"},g||P?{transform:"translateY(".concat("top"===M?-G:G,"px)"),opacity:R||H?0:1}:Object.freeze({})):{},V=2*("relative"===X&&(null==b||!b.noGutter)),$=V?-V:0,q=U?a.k7:"rgba(255,255,255,.95)";U&&("header"===O?t=-1:n=-1);var K=R?Z?void 0:null!=m?m:c.R$:"100%",Q=R?c.KJ:void 0,ee=null!=b&&b.isTranslucent&&q||U?q:l.Wmm,et=null!=b&&b.isTransparentBackground&&l.Wyp?l.Wyp:ee,en=(0,r.useMemo)(function(){return _({height:"footer"===O&&H?"calc(".concat(K," + env(safe-area-inset-bottom))"):K},H&&"footer"===O?{paddingBottom:"calc(env(safe-area-inset-bottom) + ".concat(4*(W||0),"px)")}:Object.freeze({}))},[H,K,O,W]),er=(0,d.Z)({skipExpActivation:!0});return(0,f.jsx)(o.xu,{ref:F,bottom:"footer"===O,dangerouslySetInlineStyle:{__style:_(_(_(_(_({top:t,bottomStyle:n},!k||T?{zIndex:T||1}:Object.freeze({})),B?{background:"transparent",overflow:"hidden",paddingBottom:c.UB,marginBottom:-c.UB,pointerEvents:"none"}:Object.freeze({})),null!=b&&b.hasBorder?{borderBottom:c.dS}:Object.freeze({})),null!=h&&h.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({})),J)},"data-test-id":O,display:Z?"flex":void 0,height:m&&!R?m:void 0,left:!0,marginEnd:R?"auto":$,marginStart:R?"auto":$,onTransitionEnd:function(){(y||D)&&Y.current&&(g||P?s.Z.removeObstruction(M,Y.current):s.Z.addObstruction(M,Y.current))},position:X,right:!0,top:"header"===O,width:R||"fixed"!==X?void 0:"100%",zIndex:T?void 0:k,children:(0,f.jsx)(o.xu,{alignItems:null!=h&&h.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:_(_(_({backgroundColor:et,paddingLeft:N||!er||z?void 0:"8px",paddingRight:N&&er&&!z?"8px":void 0},en),{},{boxShadow:H&&"footer"===O?"0 10px 0 0 ".concat(et,", ").concat(c.KJ):Q,marginBottom:R&&!(null!=D&&D.docked)?16:void 0},B?{pointerEvents:"auto"}:Object.freeze({})),null!=b&&b.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({}))},display:R||null!=h&&h.alignCenter?"flex":void 0,marginEnd:R?"auto":void 0,marginStart:R?"auto":void 0,paddingX:w||4*("footer"===O&&!j)+V,paddingY:W,position:"relative",rounding:R&&!(null!=D&&D.docked)?"pill":void 0,width:D?D.footerWidth:Z?void 0:"100%",children:"function"==typeof p?p({updateHiddenState:x}):p})})}},271202:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(20256),o=n(178315),i=n(446885),a=n(763904),l=n(680811);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["hasBorder","headerLimitedOverflow","ignoreObstructions","isTranslucent","isTransparentBackground","noGutter","overrideTop","useRoundedCorners","zIndexForGestaltBug","isStoryPin"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t=e.hasBorder,n=e.headerLimitedOverflow,s=e.ignoreObstructions,u=e.isTranslucent,f=e.isTransparentBackground,p=e.noGutter,h=e.overrideTop,_=e.useRoundedCorners,b=e.zIndexForGestaltBug,m=e.isStoryPin,y=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,c),v=y.noPadding,g=y.paddingY,x=void 0===g?o.og:g,P=y.zIndex;return(0,l.jsx)(r.Le,{height:n?o.LV+2*(v?0:x)*4:void 0,top:h||0,zIndex:P||void 0,children:(0,l.jsx)(a.Z,{hideOnScroll:y.hideOnScroll,children:function(e){return(0,l.jsx)(i.Z,d(d({},y),{},{headerConfig:{isTranslucent:u,isTransparentBackground:f,headerLimitedOverflow:n,hasBorder:t,ignoreObstructions:s,noGutter:p,overrideTop:h,zIndexForGestaltBug:b,useRoundedCorners:_},hideOnScrollState:e,isStoryPin:m,type:"header"}))}})})}},763904:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(387784),o=n(730448);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),e&&a(f,e);var t,n,r=(t=s(),function(){var e,n=c(f);return e=t?Reflect.construct(n,arguments,c(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function f(){if(!(this instanceof f))throw TypeError("Cannot call a class as a function");for(var e,t,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return u(l(t=r.call.apply(r,[this].concat(i))),"state",{isHidden:!!t.props.appUpsellFooterConfig||!!(null!=(e=t.props.navFooterConfig)&&e.isDockedNavOnPlp)}),u(l(t),"lastScrollPos",0),u(l(t),"updateHiddenState",function(e){t.reqAnimationId=window.requestAnimationFrame(function(){t.setState({isHidden:e})})}),u(l(t),"handleScroll",(0,o.Z)(function(){var e,n=t.props,r=n.appUpsellFooterConfig,o=n.navFooterConfig,i=t.state.isHidden,a=window.scrollY,l=a-t.lastScrollPos,s="none",c=document.documentElement||{},u=c.scrollHeight,d=c.clientHeight;Number.isNaN(u)||Number.isNaN(d)||(s=l<0?a<=Math.abs((window.scrollMinY||0)+Math.max(l,20))?"start":"none":a>=(window.scrollMaxY||u-d)-Math.max(l,20)?"end":"none");var f=null!=o&&o.isModal?0:55;r?l>20&&i&&a>=500?r.shouldShowAfterScroll()&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l<-20&&!i||a<=f)&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)):null!=(e=t.props.navFooterConfig)&&e.isDockedNavOnPlp?"start"===s&&!i||a<=f?(t.updateHiddenState(!0),null==o||o.onScroll(!0)):(a>f||"end"===s)&&i&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l<-20||"start"===s)&&i||a<=f?(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l>20||"end"===s)&&!i&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)),t.lastScrollPos=a},30)),t}return n=[{key:"componentDidMount",value:function(){try{var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}},{key:"componentWillUnmount",value:function(){var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o;!e.hideOnScroll&&this.props.hideOnScroll||!(null!=(t=e.navFooterConfig)&&t.isDockedNavOnPlp)&&null!=(n=this.props.navFooterConfig)&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!=(r=e.navFooterConfig)&&r.isDockedNavOnPlp&&!(null!=(o=this.props.navFooterConfig)&&o.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.navFooterConfig,r=this.state.isHidden;return t({isHidden:!(null!=n&&n.forceShow)&&r,updateHiddenState:this.updateHiddenState})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}(f.prototype,n),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},134136:function(e,t,n){n.r(t);var r=n(20256),o=n(806513),i=n(583845),a=n(873438),l=n(774838),s=n(680811);t.default=function(e){var t=e.children,n=e.dataLayoutShiftBoundaryId,c=e.hasFixedHeader,u=e.hasGutter,d=void 0===u||u,f=e.height,p=e.showKeychainError,h=e.useViewport,_=(0,l.B)(),b=(0,i.jd)(_.userAgent.platform)?i.Vf:0;return(0,s.jsx)(r.xu,{"data-layout-shift-boundary-id":n||"PageContainer",height:void 0!==h&&h?"calc(100vh - ".concat(b,"px)"):f,paddingX:d?o.D6:void 0,paddingY:void 0!==c&&c||void 0!==p&&p?void 0:3,children:(0,s.jsx)(a.C,{value:!!d,children:t})})}},178315:function(e,t,n){n.d(t,{KJ:function(){return l},LV:function(){return a},R$:function(){return r},UB:function(){return i},dS:function(){return s},og:function(){return o}});var r=64,o=3,i=100,a=44,l="0px 0px 8px rgba(0, 0, 0, 0.1)",s="1px solid #efefef"},619481:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(387784),o=n(581722),i=n(629972),a=n(487038);function l(e){var t=e.name,n=e.optionsKey,l=t===i.fY,s=(0,a.MA)(),c=null==s?void 0:s.get(t,n);if(c)throw c;var u=function(e){var r;return null==(r=e[t])?void 0:r[n]},d=(0,o.v9)(function(e){var t;return null==(t=u(e.resources))?void 0:t.nextBookmark}),f=(0,o.v9)(function(e){var t;return null==(t=u(e.resources))?void 0:t.data}),p=(0,o.v9)(function(e){var t;return null==(t=u(e.resources))?void 0:t.auxData}),h=(0,o.v9)(function(e){var t;return null==(t=u(e.resources))?void 0:t.error}),_=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(l)return _.current;var b={auxData:p,data:f,error:h,isAtEnd:d===i.qx,nextBookmark:d};return(b.auxData!==_.current.auxData||b.data!==_.current.data||b.error!==_.current.error||b.isAtEnd!==_.current.isAtEnd||b.nextBookmark!==_.current.nextBookmark)&&(_.current=b),_.current}},62507:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(20256),o=n(24246),i=n(216975),a=n(220942),l=n(680811);function s(e){var t=e.isBlocked,n=e.userToBlock,s=e.setIsBlocked,c=(0,o.Z)();return n?n.blockedByMe?(0,l.jsx)(r.xu,{marginTop:4,children:(0,l.jsx)(r.xv,{color:"subtle",size:"100",children:(0,i.nk)(c._('You\u2019ve already blocked {{ fullName }}. Manage your block list in Settings > Social permissions and activity at any time.', 'reportPinReasonDetail.blockedUser.information', 'Clear indication if user has already blocked the reported user. fullName: the blocked user name to be displayed'),{fullName:n.fullName})})}):(0,l.jsx)(r.xu,{children:(0,l.jsx)(r.kC,{alignItems:"center",gap:4,height:"100%",justifyContent:"center",width:"100%",children:(0,l.jsx)(r.XZ,{checked:t,helperText:(0,l.jsx)(a.Z,{}),id:"block-user-checkbox",label:(0,i.nk)(c._('Block {{ fullName }}?', 'reportPinReasonDetail.blockUser.checkLabel', 'Check label for blocking a user section. fullName: the name to be displayed'),{fullName:null==n?void 0:n.fullName}),onChange:function(e){return s(e.checked)}})})}):null}},220942:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(20256),o=n(230201),i=n(24246),a=n(216975),l=n(247387),s=n(739405),c=n(680811),u=l.K_Y+"?source=block_dialogue";function d(){var e=(0,i.Z)(),t=(0,s.HG)(),n=(0,o.u)().logContextEvent,l=function(){n({event_type:t?101:102,component:13})};return(0,a.XB)({text:e._('You won\u2019t be able to see, follow or contact each other, or save each other\u2019s Pins. People aren\u2019t notified when you block them. <strong id="1">Learn more</strong>', 'blockingUsers.description', 'description of blocking users'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,c.jsx)(r.rU,{display:"inlineBlock",href:u,onClick:l,target:"blank",children:t})}}})}},225254:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(387784),o=n(20256),i=n(85430),a=n(962875),l=n(680811);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function f(e){var t=e.children,n=e.forwardRef,s=e.overrideTop,c=e.position,f=void 0===c?"static":c,p=e.shouldShowShadow,h=void 0!==p&&p,_=e.top,b=e.style,m=(0,i.b)(),y=m.currentScrollPosition,v=m.isScrolled,g=m.setSubheaderShadow;(0,r.useEffect)(function(){return h&&g("contentHeader"),function(){h&&g(null)}},[h]);var x=!1;"pending"!==_&&(x=null!=_?y>=_:v);var P=(0,l.jsx)(o.xu,{ref:n,dangerouslySetInlineStyle:{__style:u(u({position:f},void 0===b?{}:b),x&&h&&u(u({},d),{},{zIndex:499}))},children:t});return"sticky"===f?(0,l.jsx)(o.Le,{top:void 0===s?0:s,zIndex:new o.H3([a.Zu]),children:P}):P}},176615:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(20256),o=n(465784),i=n(24246),a=n(514821),l=n(680811);function s(e){var t,n=e.viewParameter,s=e.sensitivity,c=e.dismiss,u=e.objectType,d=(0,i.Z)();return(0,l.jsxs)(o.ZP,{accessibilityModalLabel:d._('Sensitive Report', 'sensitiveNotice.sensitiveReportModal.sensitiveReport', 'a11y title for the sensitive report modal'),onDismiss:c,children:[(0,l.jsx)(r.kC,{justifyContent:"end",children:(0,l.jsx)(r.xu,{marginTop:4,paddingX:4,children:(0,l.jsx)(r.hU,{accessibilityLabel:d._('Close', 'sensitiveNotice.sensitiveReportModal.closeButton', 'Close button for sensitive report modal'),icon:"cancel",iconColor:"dark",onClick:c,size:"lg"})})}),null==s||null==(t=s.notices)?void 0:t.map(function(e){return(0,l.jsx)(a.Z,{notice:e,objectType:u,sensitivity:s,viewParameter:n,viewType:16},e.id)}),(0,l.jsx)(r.xu,{paddingX:4,children:(0,l.jsx)(r.iz,{})}),(0,l.jsx)(r.xu,{padding:4,children:(0,l.jsx)(r.he,{message:d._('Thanks. For updates, see your reports and violations center.', 'sensitiveNotice.sensitiveReportModal.successMessage', 'Success message after user report content'),type:"success"})})]})}},289478:function(e,t,n){n.d(t,{Z:function(){return B}});var r=n(387784),o=n(581722),i=n(653551),a=n(20256),l=n(104999),s=n(367683),c=n(465784),u=n(24246),d=n(501010),f=n(739405),p=n(496883),h=n(494843),_=n(680811);function b(e){var t=e.isOpen,n=e.onDismiss,r=(0,u.Z)();return(0,_.jsx)(c.ZP,{accessibilityModalLabel:r._('Disabled Pin Publishing Error Message Modal', 'disabledPinCreationModal.modal.accessibilityLabel', 'Label for disabled pin creation modal'),isOpen:t,mobileAccessibilityCloseIconLabel:r._('Close disabled publishing message modal', 'disabledPinCreationModal.modal.closeIconLabel', 'Label for the close button on the disabled publishing modal'),onDismiss:n,type:"DisabledPublishingModal",children:(0,_.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,_.jsx)(a.X6,{children:r._('Oops...', 'disabledPinCreationModal.modal.heading', 'Exclamation used to show recognition of a mistake.')}),(0,_.jsx)(a.xu,{paddingY:3,children:(0,_.jsx)(a.xv,{children:r._('Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.', 'disabledPinCreationModal.modal.text', 'Message to let users know there is an error.')})}),(0,_.jsx)(a.xu,{paddingY:3,children:(0,_.jsx)(a.zx,{color:"red",onClick:function(){return n()},size:"lg",text:r._('Dismiss', 'disabledPinCreationModal.button.dismiss', 'Button text for closing the disabled pin creation modal')})})]})})}function m(e){var t=(0,u.Z)(),n=e.viewType,r=e.boardId,o=e.handleTouch,i=t._('Board', 'createMenuLinkButton.Create.Board.Label', 'label for creating a new board option'),l=t._('Section', 'createMenuLinkButton.Create.Section.Label', 'label for creating a new section option');return 5===n&&r?(0,_.jsx)(a.Tg,{href:"/board/".concat(r,"/create_section/"),onTap:o,rounding:2,children:(0,_.jsx)(a.xu,{"data-test-id":"addSectionButton",paddingY:2,children:(0,_.jsx)(a.X6,{size:"400",children:l})})}):(0,_.jsx)(a.Tg,{href:"/board/create/",onTap:o,children:(0,_.jsx)(a.xu,{"data-test-id":"createMenuCreateBoardButton",paddingY:2,children:(0,_.jsx)(a.X6,{size:"400",children:i})})})}var y=n(337351);function v(e){var t=e.disabledPinCreation,n=e.handleDisablePublish,r=e.handleTouch,o=(0,u.Z)(),l=(0,i.s0)(),s=o._('Photo', 'createPinButton.Photo.Upload.Label', 'label to upload pin from camera roll photos');return(0,_.jsx)(a.iP,{onTap:function(){if(t)return void n();r()},tapStyle:"none",children:(0,_.jsxs)(a.xu,{paddingY:2,position:"relative",children:[(0,_.jsx)(a.X6,{size:"400",children:s}),t?null:(0,_.jsx)("input",{accept:"image/*",id:"upload-pin",onChange:function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(){var e=t.result;l("/pin/create/".concat(y.Iv,"/"),{state:{imageBase64:String(e),description:"",imageUrl:"",method:y.Iv}})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"},type:"file"})]})})}var g=n(26499),x=n(120100),P=n(73275);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){A(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e,t,n){var r;return(r=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==j(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var z=function(e){var t=window&&window.innerWidth||0,n=e._('Enter a link to create a Pin, https://...', 'placeholder in text field where a user inputs a URL to create a Pin', 'placeholder in text field where a user inputs a URL to create a Pin'),r=e._('Enter a link, https://...', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit');return t<380?r:n};function C(e){var t,n=e.bgColor,o=e.boardId,i=e.buttonPadding,l=e.disabledPinCreation,u=e.elementType,d=e.navigate,f=e.i18n,y=e.iconButtonColor,x=e.iconButtonSize,P=e.isDesktop,j=e.isInputOpen,w=e.logContextEvent,S=e.requireAuthForLimitedLogin,k=e.submittedLink,C=e.updatePinBuilderInput,B=e.viewType,I=O((0,r.useState)(""),2),T=I[0],E=I[1],L=O((0,r.useState)(!1),2),R=L[0],D=L[1],Z=O((0,r.useState)(!1),2),M=Z[0],U=Z[1],N=O((0,r.useState)(!1),2),H=N[0],F=N[1],Y=O((0,r.useState)(null),2),X=Y[0],W=Y[1];(0,r.useEffect)(function(){(j||k)&&(D(!!j),U(!!j),k&&E(k))},[j,k]);var G=(0,r.useRef)(null),J=(0,r.useRef)(null),V=function(){w({view_type:B,view_parameter:3106,element:u,event_type:102,aux_data:{source:h.Z.PROFILE}})},$=function(){D(!1),U(!1),C({isInputOpen:!1,submittedLink:""})},q=function(){U(!0),C({isInputOpen:!0})},K=function(){D(!1),F(!0)},Q=function(e){U(!1),C({submittedLink:T}),e("/pin-builder/",{state:{createPinFromLinkUrl:T}}),$()},ee=function(e,t){e.preventDefault();var n=O((0,p.Jx)({message:f._('Oops! Please enter a valid URL.', 'URL validation error message on Pin builder form', 'URL validation error message on Pin builder form')})(T).errors,1)[0];n?W(n):Q(t)},et=f._('Add a Pin or board', 'heading in profile create modal', 'heading in profile create modal');164===B?et=f._('Add to section', 'heading in section create modal', 'heading in section create modal'):5===B&&(et=f._('Add a Pin or section', 'heading in profile create modal', 'heading in profile create modal')||f._('Add to board', 'heading in board create modal', 'heading in board create modal'));var en=4===B?f._('Add to profile', 'editPin.AddToProfile.Modal.Header', 'heading in profile create modal'):et,er=(5===B||164===B)&&J.current;return(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,_.jsx)(a.xu,{"data-test-id":"createMenuCreateButton",children:(0,_.jsx)(a.hU,{ref:J,accessibilityLabel:f._('Create a Pin or board', 'icon that opens model prompting user to create a new pin or board', 'icon that opens model prompting user to create a new pin or board'),bgColor:n,icon:"add",iconColor:void 0===y?"gray":y,onClick:function(){V(),S({fn:function(){return D(!0)},modalHeader:(0,g.is)(f)})()},padding:i,size:void 0===x?"xl":x})})}),R&&(0,_.jsx)(c.ZP,{accessibilityModalLabel:"",heading:en,isOpen:R,mobileAccessibilityCloseIconLabel:f._('close board and pin create modal', 'close modal that prompts user to create a new pin or board', 'close modal that prompts user to create a new pin or board'),onDismiss:$,type:"create_menu",children:(0,_.jsx)(a.xu,{padding:3,children:(0,_.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,_.jsxs)(a.xu,{paddingX:2,children:[(0,_.jsx)(a.xu,{marginBottom:2,children:(0,_.jsx)(a.xv,{children:f._('Create', 'editPin.Create.Section.Text', 'Section title to Create new things on Edit Pin add modal')})}),(t=f._('Website', 'editPin.CreatePinFromUrl.Label', 'label for option to create a pin from a url'),(0,_.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:M?(0,_.jsx)("form",{onSubmit:function(e){return ee(e,d)},style:{width:"100%"},children:(0,_.jsxs)(a.kC,{alignItems:"start",justifyContent:"between",children:[(0,_.jsx)(a.xu,{ref:G,width:"100%",children:(0,_.jsx)(a.xu,{marginBottom:2,marginEnd:2,smMarginBottom:0,smMarginEnd:2,children:(0,_.jsx)(a.nv,{errorMessage:X,id:"create-pin-from-link",onChange:function(e){E(e.value)},onFocus:function(){return W(null)},placeholder:z(f),size:"lg",value:T})})}),(0,_.jsx)(a.hU,{accessibilityLabel:f._('Create Pin from entered link', 'navigation button to confirm user will create a Pin from a link they entered', 'navigation button to confirm user will create a Pin from a link they entered'),icon:"arrow-forward",iconColor:"darkGray",onClick:function(e){return ee(e.event,d)},size:"lg"})]})}):(0,_.jsx)(a.iP,{onTap:function(){if(l)return void K();q()},tapStyle:"none",children:(0,_.jsx)(a.xu,{"data-test-id":"websiteButton",position:"relative",children:(0,_.jsx)(a.X6,{size:"400",children:t})})})})),(0,_.jsx)(v,{disabledPinCreation:l,handleDisablePublish:K,handleTouch:V})]}),164!==B&&(0,_.jsxs)(a.xu,{marginTop:6,paddingX:2,children:[(0,_.jsx)(a.xv,{children:f._('Add', 'editPin.Section.Add.Text', 'Section Add title on Edit Pin add modal')}),(0,_.jsx)(m,{boardId:o,handleTouch:function(){V(),$()},viewType:B})]}),(0,_.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,_.jsx)(a.zx,{onClick:function(){return $()},size:"lg",text:f._('Close', 'editPin.Modal.Close.Button', 'Button text to close modal on EditPin')})})]})})}),H&&(0,_.jsx)(b,{isOpen:!0,onDismiss:function(){F(!1)}}),er&&(0,_.jsx)(s.N,{anchors:A({},P?3006:4006,J.current),idealDirection:"up",onAnchorTouch:"complete",placementId:P?18:1000251,scrollToDismiss:!0})]})}function B(e){var t=(0,u.Z)(),n=(0,f.HG)(),r=["disable_all","disable_web_pins"].includes((0,(0,d.Z)().checkExperiment)("disable_pin_creation").group),a=(0,o.I0)(),s=(0,i.s0)(),c=(0,o.v9)(function(e){return e.session}).pinBuilder,p=(0,l.Z)(),h=c&&c.isInputOpen,b=c&&c.submittedLink,m=(0,x.Z)();return(0,_.jsx)(C,S(S({},e),{},{disabledPinCreation:r,i18n:t,isDesktop:n,isInputOpen:h,logContextEvent:p,navigate:s,requireAuthForLimitedLogin:m,submittedLink:b,updatePinBuilderInput:function(e){return a((0,P.p)(e))}}))}},550759:function(e,t,n){var r=n(20256),o=n(24246),i=n(680811);t.Z=function(e){var t=e.isInModal,n=(0,o.Z)();return(0,i.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:t?"absolute":"fixed",top:!0,width:"100%",zIndex:new r.Ry(1),children:(0,i.jsx)(r.xH,{accessibilityLabel:n._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},85430:function(e,t,n){n.d(t,{H:function(){return f},b:function(){return d}});var r=n(387784),o=n(213491),i=n(730448),a=n(680811);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=(0,o.Z)("HeaderShadow"),u=c.Provider,d=c.get;function f(e){var t=e.children,n=l((0,r.useState)(!1),2),o=n[0],s=n[1],c=l((0,r.useState)(!1),2),d=c[0],f=c[1],p=l((0,r.useState)(0),2),h=p[0],_=p[1],b=l((0,r.useState)(null),2),m=b[0],y=b[1],v=(0,i.Z)(function(){o&&(f(window.scrollY>0),_(window.scrollY))},50);return(0,r.useEffect)(function(){return s(!0),function(){s(!1)}},[]),(0,r.useEffect)(function(){return window.addEventListener("scroll",v),function(){window.removeEventListener("scroll",v)}},[o]),(0,a.jsx)(u,{value:{currentScrollPosition:h,isScrolled:d,setSubheaderShadow:y,subheaderShadow:m},children:t})}},495773:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(387784),o=n(104999),i=n(865043);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var s=function(e,t){var n,r=Object.keys(n={event_type:13,view_type:e.viewType,view_parameter:e.viewParameter,view_data:e.viewData,aux_data:e.auxData,object_id_str:e.objectIdStr,component:e.component,clientTrackingParams:e.clientTrackingParams,element:e.element}).reduce(function(e,t){return void 0===n[t]&&delete e[t],e},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n));-1===Object.keys(r).indexOf("view_type")&&(0,i.My)("mweb.logging.null_view_type"),t(r)};function c(e){var t=e.auxData,n=e.clientTrackingParams,i=e.children,a=e.component,l=e.element,c=e.objectIdStr,u=e.viewData,d=e.viewParameter,f=e.viewType,p=(0,o.Z)(),h=JSON.stringify(t),_=JSON.stringify(u);return(0,r.useEffect)(function(){s(e,p)},[p,h,n,a,l,c,_,d,f]),r.Children.only(i)}},938967:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(20256),o=n(680811);function i(e){var t=e.accessibilityLabel,n=e.accessibilityControls,i=e.accessibilityExpanded,a=e.bgColor,l=e.icon,s=e.iconColor,c=e.onClick,u=e.selected,d=e.size,f=e.tooltip;return(0,o.jsx)(r.hU,{accessibilityControls:n,accessibilityExpanded:i,accessibilityLabel:t,bgColor:null!=a?a:"transparent",icon:l,iconColor:null!=s?s:"darkGray",onClick:c,selected:u,size:null!=d?d:"lg",tooltip:f?{text:f}:void 0})}},465076:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(387784),o=n(20256),i=n(938967),a=n(680811);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t,n=e.bgColor,s=e.children,c=e.label,u=e.icon,d=e.iconColor,f=e.id,p=e.size,h=e.tooltip,_=e.initiallyOpen,b=(0,r.useRef)(null),m=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(void 0!==_&&_))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=m[0],v=m[1],g=function(){return v(!1)},x="actionBarMenuButton";return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(o.xu,{ref:b,"data-test-id":f,children:(0,a.jsx)(i.Z,{accessibilityControls:x,accessibilityExpanded:y,accessibilityLabel:c,bgColor:n,icon:u,iconColor:d,onClick:function(){return v(!y)},selected:y,size:p,tooltip:h})}),y&&(0,a.jsx)(o.Lt,{anchor:b.current,disableMobileUI:!0,id:x,idealDirection:"down",onDismiss:g,zIndex:new o.Ry(1e3),children:s({handleClose:g})})]})}},337351:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Iv:function(){return o},dU:function(){return p},it:function(){return l},jI:function(){return f},n0:function(){return c},nY:function(){return a},sW:function(){return d},up:function(){return i}});var o="uploaded",i="pinbuilder",a="scraped",l="button";function s(e){return!!e&&"object"===r(e)&&"method"in e}function c(e){return s(e)&&e.method===a}function u(e){return s(e)&&e.method===o}function d(e){return s(e)&&e.method===l}function f(e){return c(e)||u(e)||d(e)}function p(e){var t,n,r,o,i,a=e.boardId,l=e.checkExperiment,s=e.createPin,d=e.sectionId,f=e.state,p=[];return c(f)?f.imgData.forEach(function(e){var t,n,r,o,i,c;p.push(s((n=(t={boardId:a,checkExperiment:l,image:e,sectionId:d,state:f}).boardId,r=t.checkExperiment,o=t.image,i=t.sectionId,{boardId:n,checkExperiment:r,description:(c=t.state).description,guid:"",imageBase64:"",imageUrl:o,link:c.link,method:c.method,sectionId:i})))}):p.push(s((n=(t={boardId:a,checkExperiment:l,sectionId:d,state:f}).boardId,r=t.checkExperiment,o=t.sectionId,u(i=t.state)?{boardId:n,checkExperiment:r,description:i.description,guid:"",imageBase64:i.imageBase64,imageUrl:i.imageUrl,link:"",method:i.method,sectionId:o}:{boardId:n,checkExperiment:r,description:i.description,guid:i.guid,imageUrl:i.imageUrl,link:i.link,method:i.method,sectionId:o}))),p}},26499:function(e,t,n){n.d(t,{Bb:function(){return _},Bx:function(){return l},F4:function(){return a},Qj:function(){return s},_6:function(){return h},gv:function(){return i},hg:function(){return c},is:function(){return f},jP:function(){return p},lt:function(){return o},oM:function(){return u},wI:function(){return d}});var r=n(575820),o=function(e){return e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal')},i=function(e){var t=e.firstName,n=e.i18n;return t?(n._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",t):n._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board')},a=function(e){var t=(0,r.mB)(e.search).board_url;if(t){var n=(0,r.Jx)(t),o=(0,r.XP)({accept_invite:!0,seamless:!0});return n.includes("?")?"".concat(n,"&").concat(o):"".concat(n,"?").concat(o)}return e.pathname},l=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},s=function(e){var t=e.pathname;if(t.startsWith("/pin/")){var n=t.split("/");if(n.length>2)return"/".concat(n[1],"/").concat(n[2],"/repin/")}return t},c=function(e){return e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.')},u=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},d=function(e){var t=e.pathname;if(t.startsWith("/pin/")){var n=t.split("/");if(n.length>2)return"/".concat(n[1],"/").concat(n[2],"/edit/")}return t},f=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},p=function(e){return e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.')},h=function(e){return e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.')},_=function(e){return e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')}},986174:function(e,t,n){n.d(t,{Fj:function(){return c},JI:function(){return u},aG:function(){return s}});var r=n(387784),o=n(680811);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=(0,r.createContext)(),l=(0,r.createContext)();function s(e){var t,n=e.children,s=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1];return(0,o.jsx)(a,{value:c,children:(0,o.jsx)(l,{value:u,children:n})})}function c(){var e=(0,r.useContext)(a);if(void 0===e)throw Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function u(){var e=(0,r.useContext)(l);if(void 0===e)throw Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},962875:function(e,t,n){n.d(t,{JR:function(){return s},PJ:function(){return l},Zu:function(){return a},c6:function(){return i},mM:function(){return o}});var r=n(20256),o=new r.Ry(1),i=new r.H3([o]),a=new r.H3([i]),l=new r.H3([a]),s=new r.H3([a])},73275:function(e,t,n){n.d(t,{F:function(){return r},p:function(){return o}});var r=function(e){return{type:"PIN_BUILDER_LOADED_IMAGES",payload:e}},o=function(e){return{type:"UPDATE_PIN_BUILDER_INPUT",payload:e}}},32214:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){var t=e.users;if(t){var n=Object.keys(t).find(function(e){return void 0!==t[e].login_state});return n?t[n]:void 0}}},631042:function(e,t,n){var r=n(366503),o=n(32214);t.Z=(0,r.createSelector)(o.Z,function(e){return e.invites},function(e,t){return Object.keys(t).reduce(function(n,r){var o=r.split(":"),i=o[0],a=o[1],l=(null==e?void 0:e.id)===a,s=t[r]&&["new","contact_request_not_approved"].includes(t[r].status);return l&&s&&(n[i]=r),n},{})})},254889:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(581722),o=n(653551),i=n(20256),a=n(4533),l=n(104999),s=n(746868),c=n(351736),u=n(24246),d=n(173874),f=n(34550),p=n(865043),h=n(736328),_=n(739405),b=n(680811);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t,n=e.alignIconLeft,y=e.bgColor,v=e.color,g=e.disableRedirect,x=void 0!==g&&g,P=e.fallbackUrl,j=e.icon,w=void 0===j?"arrow-back":j,S=e.onTouch,A=e.padding,O=e.placement,k=e.shouldUseFallbackUrl,z=e.size,C=void 0===z?"lg":z,B=e.viewParameter,I=e.viewType,T=e.isVisualSearch,E=(0,u.Z)(),L=(0,o.s0)(),R=(0,o.TH)(),D=(0,_.HG)(),Z=(0,r.v9)(function(e){return e.session.isAuthenticated}),M=(0,l.Z)(),U=(0,h.Z)(),N=(0,c.vs)(),H=(0,s.SU)(),F=H.viewType,Y=H.viewParameter,X=function(e){if(Array.isArray(e))return e}(t=I?[I,B]:[F,Y])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),W=X[0],G=X[1],J=function(){var e=(0,f.M0)().getItem(a.pm);R.key||"/ideas"!==P?(0,p.My)("pinner_conversion.back_button.".concat(String(null==e?void 0:e[0].pageType))):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)("web_back_button_click.".concat(String(O),".is_auth_").concat(String(Z))),U({action:"click",item:"back-button"}),W&&M({view_type:W,view_parameter:G,element:34,event_type:102}),S&&S(),x||((!R.key||R.state&&"redirect"===R.state.referrer||k)&&P?L(P):R.pathname.includes("/password/reset/")&&R.search&&R.search.includes("?nativeShouldDismiss=true")?L("/login/?dismissWebview=true"):L(-1))},V=N?c.t4:"white",$=(0,d.am)(R)||T||"white"===v;return(0,b.jsx)(i.xu,{"data-test-id":"back-button",children:n?(0,b.jsx)(i.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===w?-1:-2,width:48,children:(0,b.jsx)(i.hU,{accessibilityLabel:E._('Back', 'navigation button', 'navigation button'),bgColor:y,icon:w,iconColor:!v&&(!y||["white","lightGray","transparent"].includes(y))?"gray":v,onClick:J,padding:"auto"!==A?A:2,size:C})}):(0,b.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:D||$||y?"":V,width:N&&!$?"fit-content":""}},rounding:"circle",children:(0,b.jsx)(i.hU,{accessibilityLabel:E._('Back', 'navigation button', 'navigation button'),bgColor:y||D?y:"transparent",icon:w,iconColor:!v&&(!y||["white","lightGray","transparent"].includes(y))?"gray":v,onClick:J,padding:"auto"!==A?A:2,size:C})})})}},216740:function(e,t,n){n.d(t,{Z:function(){return f},o:function(){return d}});var r=n(387784),o=n(20256),i=n(104999),a=n(943152),l=n(935059),s=n(806513),c=n(24246),u=n(680811),d="AddPinRep";function f(e){var t=e.ctaText,n=e.handleClick,d=e.height,f=e.iconSize,p=e.textSize,h=e.component,_=(0,i.Z)(),b=(0,c.Z)(),m=(0,l.Z)(),y=(0,a.Z)();return(0,r.useEffect)(function(){_({event_type:120,component:null!=h?h:0,element:10643})},[_,h]),(0,u.jsx)(o.xu,{children:(0,u.jsx)(o.Tg,{href:"/pin-builder/",onTap:function(){if(y)return void y();m.isAuth&&m.isPartner&&_({event_type:101,component:0,element:10643}),n&&n()},children:(0,u.jsxs)(o.st,{children:[(0,u.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",fit:!0,height:d||s.yF,justifyContent:"center",rounding:2,width:d||void 0,children:(0,u.jsx)(o.xu,{color:"default",height:f||40,rounding:"circle",width:f||40,children:(0,u.jsx)(o.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:f||40})})}),(0,u.jsx)(o.xu,{padding:2,children:(0,u.jsx)(o.xv,{color:"subtle",size:p||"300",weight:"bold",children:t||b._('Create Pin', 'label to open create pin modal', 'label to open create pin modal')})})]})})})}},869552:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(387784),o=n(20256),i=n(230201),a=n(24246),l=n(828569),s=n(680811);function c(e){var t=e.anchor,n=e.hideAddSectionTooltip,r=(0,a.Z)();return(0,s.jsx)(o.mh,{children:(0,s.jsx)(o.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(o.pl,{anchor:t,idealDirection:"down",message:r._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section'),onDismiss:n})})})}var u=n(611649),d=n(501010),f=n(962875);function p(e){var t=e.anchor,n=e.idealDirection,i=e.onAddOrEditDate,l=e.onAddSection,c=e.onClose,p=e.onCreateBoard,h=e.onCreateCollage,_=e.onCreatePin,b=e.onCreateStoryPin,m=e.surface,y=e.isWithinFixedContainer,v=e.id,g=(0,a.Z)(),x=(0,u.Z)(!0),P=(0,d.Z)().checkExperiment,j=["profileBoards","profilePins"].includes(m),w=j&&P("web_curation_board_create_entry_points").anyEnabled,S=j&&P("web_partner_collage_creation").anyEnabled,A=(0,r.useMemo)(function(){return{pin:g._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:g._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'),board:g._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),collage:g._('Collage', 'profileHeader.actionBar.collage', 'Option to create a collage'),section:g._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:g._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),new:g._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')}},[g]),O=[!x&&(0,s.jsx)(o.Lt.Item,{dataTestId:"Create Pin",onSelect:function(){_(),c()},option:{label:A.pin,value:A.pin}},"actions-create-0"),b&&(0,s.jsx)(o.Lt.Item,{dataTestId:"Create Story Pin",onSelect:function(){b(),c()},option:{label:x?A.pin:A.rename,value:x?A.pin:A.rename}},"actions-create-1"),j&&p&&(0,s.jsx)(o.Lt.Item,{dataTestId:"Create board",onSelect:function(){p(),c()},option:{label:A.board,value:A.board}},"actions-create-2"),S&&h&&(0,s.jsx)(o.Lt.Item,{dataTestId:"Create Collage",onSelect:function(){h(),c()},option:{label:A.collage,value:A.collage}},"actions-create-3")].filter(Boolean);return(0,s.jsxs)(o.Lt,{anchor:t,id:v||"board_actions",idealDirection:n||"down",isWithinFixedContainer:y,onDismiss:c,zIndex:f.PJ,children:[w?O:(0,s.jsx)(o.Lt.Section,{label:g._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:O}),"board"===m&&(0,s.jsx)(o.Lt.Section,{label:g._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[l&&(0,s.jsx)(o.Lt.Item,{dataTestId:"addSection",onSelect:function(){l(),c()},option:{label:A.section,value:A.section}},"actions-add-1"),!!i&&(0,s.jsx)(o.Lt.Item,{onSelect:function(){i(),c()},option:{label:A.date,value:A.date}},"actions-add-2")].filter(Boolean)})]})}var h=n(367683),_=n(986174);function b(e){var t=e.anchor,n=(0,_.JI)();return(0,s.jsx)(o.mh,{children:(0,s.jsx)(o.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(h.Qp,{anchor:t,experienceIds:[503447],flyoutSize:"md",idealDirection:"down",onClickComplete:function(){n(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function m(e){var t=e.anchor;return(0,s.jsx)(o.mh,{children:(0,s.jsx)(o.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(h.Qp,{anchor:t,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var y=n(374666);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t,n,l,u=e.children,d=e.idealDirection,f=e.onAddOrEditDate,h=e.onAddSection,_=e.onCreateBoard,g=e.onCreateCollage,x=e.onCreatePin,P=e.onCreateStoryPin,j=e.onOpen,w=void 0===j?function(){}:j,S=e.surface,A=e.isWithinFixedContainer,O=(0,a.Z)(),k=null!=(n=(0,y.K)())?n:{},z=k.showCreateSectionTooltip,C=k.setShowCreateSectionTooltip,B=(0,i.u)().logContextEvent,I=function(){return C(!1)},T=(0,r.useRef)(null),E=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return v(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),L=E[0],R=E[1],D=function(){w(),z&&I(),R(!0),B({component:13056,element:1208,event_type:101,view_parameter:3106,view_type:4})},Z=function(){return R(!1)},M=function(){L?Z():D()},U={board:O._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:O._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:O._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:O._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},N="board_actions",H=u&&u({active:L,openFlyout:M,accessibilityControls:N,accessibilityLabel:U[S],accessibilityExpanded:L})||(0,s.jsx)(o.hU,{accessibilityControls:N,accessibilityLabel:U[S],icon:"add",iconColor:"gray",onClick:"section"===S?x:M,size:"lg"});return!L&&"board"===S&&(z?l="addSectionTooltip":f&&(l="planningActionsExperience")),L||"profileBoards"!==S||(l="createBoardTooltip"),(0,s.jsxs)(o.xu,{"data-test-id":"boardActionsButton",children:[(0,s.jsx)(o.xu,{ref:T,children:H}),L&&(0,s.jsx)(p,{anchor:T.current,id:N,idealDirection:d,isWithinFixedContainer:!!A,onAddOrEditDate:f,onAddSection:h,onClose:Z,onCreateBoard:_,onCreateCollage:g,onCreatePin:x,onCreateStoryPin:P,surface:S}),"addSectionTooltip"===l&&(0,s.jsx)(c,{anchor:T.current,hideAddSectionTooltip:I}),"planningActionsExperience"===l&&(0,s.jsx)(m,{anchor:T.current}),"createBoardTooltip"===l&&(0,s.jsx)(b,{anchor:T.current})]})}},374666:function(e,t,n){n.d(t,{K:function(){return c},M:function(){return u}});var r=n(387784),o=n(213491),i=n(680811);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=(0,o.Z)("CreateSectionTooltip"),s=l.Provider,c=l.getMaybe;function u(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=o[0],c=o[1],u=(0,r.useMemo)(function(){return{showCreateSectionTooltip:l,setShowCreateSectionTooltip:c}},[l]);return(0,i.jsx)(s,{value:u,children:n})}},249347:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e,t){var n=e.boardDensity,i=e.component,a=e.viewType,l=e.viewParameter,s=function(e){var t=e.boardDensity;switch(e.viewType){case 164:return"regular"===t?10618:10619;case 5:case 4:return"regular"===t?10607:10608;default:return 10607}}({boardDensity:n,viewType:a}),c=(null!=l?l:4===a)?3106:3069;t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var o,i;o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(o))in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({event_type:101,component:i,element:s},a?{view_type:a,view_parameter:c}:Object.freeze({})))}n.d(t,{Z:function(){return i}})},189634:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(27399);function o(e){var t=e.density,n=e.surface;r.Z.create("UserMetadataResource","board"===n?{profile_pin_rep_view_type:t}:{board_pin_rep_view_type:t}).callUpdate()}},828569:function(e,t,n){n.d(t,{Ev:function(){return i},IK:function(){return o},Jk:function(){return s},Oj:function(){return a},bW:function(){return l}});var r=n(20256),o=1,i=1,a=2,l=new r.Ry(5e3),s=15},3504:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}}}]);