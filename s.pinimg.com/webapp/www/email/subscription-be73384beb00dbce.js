(self.legacyJsonp=self.legacyJsonp||[]).push([["80362"],{955031:function(e,t,r){"use strict";r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnsubscribePageFragment_email_subscription",selections:[{alias:null,args:null,kind:"ScalarField",name:"emailUnsubscribed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emailUserFirstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"groupBoardNames",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileImageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recipientEmail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsubEmails",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsubscribable",storageKey:null}],type:"EmailSubscription",abstractKey:null};n.hash="cfb0ec4e93e6eee773566e0b00c61242",t.default=n},684842:function(e,t,r){"use strict";r.r(t);var n,i,a,o,l={fragment:{argumentDefinitions:[n={defaultValue:null,kind:"LocalArgument",name:"isConfirmStep"},i={defaultValue:null,kind:"LocalArgument",name:"od"},a={defaultValue:null,kind:"LocalArgument",name:"viewingUser"}],kind:"Fragment",metadata:null,name:"UnsubscribePageMutation",selections:o=[{alias:null,args:[{fields:[{kind:"Variable",name:"isConfirmStep",variableName:"isConfirmStep"},{kind:"Variable",name:"od",variableName:"od"},{kind:"Variable",name:"viewingUser",variableName:"viewingUser"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeleteEmailSubscriptionMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UpdatedSubscriptionData",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"emailUnsubscribed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recipientEmail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsubscribable",storageKey:null}],storageKey:null}],type:"UpdatedSubscriptionDataResponse",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,n,i],kind:"Operation",name:"UnsubscribePageMutation",selections:o},params:{id:"27a0c7bacc9c32c3c51137094a6be9cac309a7cf24895be31fe337510763bf50",metadata:{},name:"UnsubscribePageMutation",operationKind:"mutation",text:null}};l.hash="026135d2a415a5bb17a39940fd2df22b",t.default=l},425554:function(e,t,r){"use strict";r.r(t);var n,i,a,o,l={fragment:{argumentDefinitions:[n={defaultValue:null,kind:"LocalArgument",name:"od"},i={defaultValue:null,kind:"LocalArgument",name:"viewingUser"}],kind:"Fragment",metadata:null,name:"UnsubscribePageQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"od",variableName:"od"},{kind:"Variable",name:"viewingUser",variableName:"viewingUser"}],concreteType:null,kind:"LinkedField",name:"v3GetEmailSubscriptionQuery",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"EmailSubscription",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnsubscribePageFragment_email_subscription"}],storageKey:null}],type:"EmailSubscriptionResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,n],kind:"Operation",name:"UnsubscribePageQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetEmailSubscriptionQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"EmailSubscription",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"emailUnsubscribed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emailUserFirstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"groupBoardNames",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileImageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recipientEmail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsubEmails",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsubscribable",storageKey:null}],storageKey:null}],type:"EmailSubscriptionResponse",abstractKey:null}],storageKey:null}]},params:{id:"4592888945ae1c3c6b003fbe8ad36d5cdba5761894936cbe1bff4acad021f4d3",metadata:{},name:"UnsubscribePageQuery",operationKind:"query",text:null}};l.hash="63ed0345e0ec4de1b9849c11f7331db9",t.default=l},437993:function(e,t,r){"use strict";r.d(t,{$A:function(){return P},B4:function(){return k},N0:function(){return w},N3:function(){return S},VK:function(){return j},_J:function(){return O},mW:function(){return x}});var n=r(387784),i=r(360033),a=r(767415),o=r(680811);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,l=[],s=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||f(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return m(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p={},b={},g={},h=!1,y=0,_={},v=(0,n.createContext)({setMetric:function(){},setRawData:function(){},setRmaData:function(){},updateCommitTimeMap:function(){},commitTimeMap:{},wasHealthCheckFiredRef:{current:!1}});function x(e){var t=e.children,r=(0,n.useRef)(!1),a=(0,n.useCallback)(function(e,t,r){p[e]||(p[e]={}),p[e][t]=r},[]),l=(0,n.useCallback)(function(e,t,r){g[e]||(g[e]={}),g[e][t]||(g[e][t]=[]),g[e][t].push(r)},[]),s=(0,n.useCallback)(function(e){var t=e.id,r=e.path,n=e.fragmentName,a=e.executionTime,o=e.newData;if(!h){var l="".concat(n,".").concat(t);b[r]||(b[r]={}),b[r][l]||(b[r][l]={totalRenderTime:0,previousData:{},renderCount:0,resultUpdatedCount:0,wastedTime:0});var s=b[r][l];(0,i.ZP)(o,s.previousData)?(s.wastedTime+=a,y+=a):s.resultUpdatedCount+=1,s.totalRenderTime+=a,s.renderCount+=1,s.previousData=o}},[]),u=(0,n.useCallback)(function(e,t){var r="".concat(Math.floor(e));_[r]?_[r].push(t):_[r]=[t]},[]),c=(0,n.useMemo)(function(){return{setMetric:a,setRawData:l,setRmaData:s,updateCommitTimeMap:u,commitTimeMap:_,wasHealthCheckFiredRef:r}},[a,s,l,u,r]);return(0,o.jsx)(v,{value:c,children:t})}function j(){return(0,n.use)(v)}function P(e){var t,r,n,i,a=(r=(t=Object.keys(_)).length,n=t.sort().slice(0,r),i={},n.forEach(function(e){var t=_[e];if(t)for(var r=t.sort(function(e,t){return e.startTime-t.startTime}),n=0;n<r.length;n+=1){var a=r[n],o=r[n+1];if(a&&o){var l=a.startTime,s=a.id,u=a.actualDuration,c=o.startTime,d=c<l+u?c-l:u;i[s]||(i[s]=0),i[s]+=d}else if(a){var f=a.actualDuration,m=a.id;i[m]||(i[m]=0),i[m]+=f}}}),i);return Object.keys(a).forEach(function(t){var r,n,i,o,l,s,u,f,m,b,g,h,y,_,v,x=a[t];if(x){var j=null!=(r=null==(n=p[e])||null==(i=n[t])?void 0:i.mountTime)?r:0,P=null!=(o=null==(l=p[e])||null==(s=l[t])?void 0:s.mountCount)?o:0,k=null!=(u=null==(f=p[e])||null==(m=f[t])?void 0:m.updatesCount)?u:0,S=Number(x.toFixed(2)),O=Number((j+S).toFixed(2)),w=k>0?Number((S/k).toFixed(2)):0,A=null!=(b=null==(g=p[e])||null==(h=g[t])?void 0:h.memoizationDeltaArray)?b:[],z=Math.max.apply(Math,d(A)),U=A.reduce(function(e,t){return e+t},0)/A.length,E=null!=(y=null==(_=p[e])||null==(v=_[t])?void 0:v.memoizationRatioArray)?y:[],T=Math.max.apply(Math,d(E)),C=E.reduce(function(e,t){return e+t},0)/E.length;p[e]&&p[e][t]&&(p[e][t]=c(c({},p[e][t]),{},{totalCount:P+k,totalTiming:O,updatesCount:k,updateTiming:S,averageUpdateTiming:w,maxMemoizationDelta:z,averageMemoizationDelta:U,maxMemoizationRatio:T,averageMemoizationRatio:C}))}}),p[e]}function k(e){return g[e]}function S(e){return["www/index.js","www/homefeed.js","www/pin/[id].js"].includes(e)}function O(e){var t=b[e],r={};h=!0,t&&Object.keys(t).length&&S(e)&&(Object.entries(t).forEach(function(e){var t=s(e,2),n=t[0],i=t[1],o=s(n.split("."),1)[0];o&&!r[o]&&(r[o]=!0,(0,a.QX)("render_stats.rma.".concat(o,".renderCount"),i.renderCount,{sampleRate:1}),(0,a.QX)("render_stats.rma.".concat(o,".resultUpdatedCount"),i.resultUpdatedCount,{sampleRate:1}),(0,a.LY)("render_stats.rma.".concat(o,".renderTime"),i.totalRenderTime,{sampleRate:1}),(0,a.LY)("render_stats.rma.".concat(o,".wastedTime"),i.totalRenderTime,{sampleRate:1}))}),(0,a.LY)("render_stats.rma.totalWastedTime",y,{sampleRate:1,tags:{path:e}}))}function w(){p={},b={},g={},_={},h=!1,y=0}},360033:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!o(e[n],t[n],r+1))return!1;return!0}function a(e,t,r){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!(n in t)||!o(e[n],t[n],r+1))return!1;return!0}function o(e,t,r){if(r>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!==n(e)&&"object"!==n(t))return e!=e&&t!=t;var o=Object.prototype.toString.call(e);if(o!==Object.prototype.toString.call(t))return!1;switch(o){case"[object Array]":return i(e,t,r);case"[object Set]":return i(Array.from(e).sort(),Array.from(t).sort(),r);case"[object Object]":case"[object Arguments]":return a(e,t,r);case"[object Map]":return a(Object.fromEntries(e),Object.fromEntries(t),r);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function l(e,t){return o(e,t,0)}r.d(t,{ZP:function(){return l},qP:function(){return i}})},817468:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(387784),i=r(183230),a=r(767415);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var m=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");m.prototype=Object.create(e&&e.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),e&&l(m,e);var t,r,n=(t=u(),function(){var e,r=c(m);return e=t?Reflect.construct(r,arguments,c(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function m(){var e;if(!(this instanceof m))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return d(s(e=n.call.apply(n,[this].concat(r))),"state",{error:null,info:null}),d(s(e),"resetError",function(){e.setState({error:null,info:null})}),e}return r=[{key:"componentDidCatch",value:function(e,t){try{var r,n=this.props.name,o=this.props.type||"secondary";(0,i.T)({extraData:null!=(r=e.extraData)?r:{},errorBoundary:n,errorBoundaryType:o,message:e.message,name:e.name,stack:e.stack}),(0,a.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,a.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props.renderErrorState,t=this.state,r=t.error,n=t.info;return r&&n?e?e({error:r,info:n,resetError:this.resetError}):null:this.props.children}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}(m.prototype,r),Object.defineProperty(m,"prototype",{writable:!1}),m}(n.Component)},470205:function(e,t,r){"use strict";t.Z=r(817468).Z},924591:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(387784),i=r(20256),a=r(100424),o=r(739405),l=r(893957),s=r(680811);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,l=[],s=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e){var t,r,c=e._dangerouslySetThumbnail,d=e._dangerouslySetPrimaryAction,f=e.text,m=e.primaryAction,p=e.dismissButton,b=e.helperLink,g=e.thumbnail,h=e.type,y=e.dataTestId,_=e.duration,v=void 0===_?2e3:_,x=e.onHide,j=e.href,P=e.onClick,k=e.openNewPage,S=e.imageUrl,O=(0,o.ZP)(),w=u((0,n.useState)(!1),2),A=w[0],z=w[1],U=u((0,n.useState)(!1),2),E=U[0],T=U[1],C=(0,n.useRef)(void 0),D=function(){z(!0),C.current=setTimeout(x,a.Vg)},R=function(){C.current=setTimeout(D,v)},F=function(){C.current&&clearTimeout(C.current)};(0,l.Z)(function(){return setTimeout(function(){return T(!0)},100),R(),F}),S&&(r={image:(0,s.jsx)(i.Ee,{alt:"string"==typeof f?f:"".concat(f[0]," ").concat(f[1]),fit:"cover",naturalHeight:1,naturalWidth:1,src:S})});var L=(0,s.jsx)(i.FN,{_dangerouslySetPrimaryAction:d,_dangerouslySetThumbnail:c,dismissButton:p,helperLink:b,primaryAction:m,text:f,thumbnail:null!=(t=r)?t:g,type:h}),I=(0,a.ZP)({deviceType:O,hiding:A,visible:E}),N=I.marginTop,Z=I.opacity,M=I.pointerEvents,B=I.position,Y=I.transform,K=I.transition,q=I.visibility;return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transform:Y,transition:K,visibility:q,pointerEvents:M}},"data-test-id":null!=y?y:"toast",display:"flex",marginTop:N,onMouseEnter:F,onMouseLeave:R,opacity:Z,position:B,children:j?(0,s.jsx)(i.Tg,{href:j,onTap:function(e){var t=e.event,r=e.dangerouslyDisableOnNavigation;j.startsWith("#")&&(t.preventDefault(),r()),null==P||P(t)},rounding:"pill",target:k?"blank":null,children:L}):L})}},100424:function(e,t,r){"use strict";r.d(t,{Vg:function(){return n}});var n=200;t.ZP=function(e){var t=e.deviceType,r=e.hiding,n=e.visible,i="desktop"===t,a=0,o=i?"translateY(200px)":"translateY(-200px)",l="opacity 0.1s ease-in-out",s="hidden";return n&&!r&&(a=1,o="translateY(0)",l="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),n&&r&&(o="scale(1.1)",l="opacity transform ".concat(.2,"s")),{opacity:a,pointerEvents:"auto",position:"relative",marginTop:10*!!i,transform:o,transition:l,visibility:s}}},583875:function(e,t,r){"use strict";r.d(t,{u_:function(){return l.ZP},qE:function(){return o},FN:function(){return s.Z}});var n=r(20256),i=r(680811);function a(e){var t=e.accessibilityLabel,r=e.color,a=e.name,o=e.outline,l=e.size,s=e.src,u=e.verified;return(0,i.jsx)(n.qE,{accessibilityLabel:t,color:r,name:a,outline:o,size:l,src:(null==s?void 0:s.includes("images/user/default"))&&a?void 0:s,verified:u})}a.displayName="Avatar";var o=a,l=r(465784),s=r(924591)},281215:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(115821),i=r(255391),a=r(369666),o=r(387784),l=r(360033);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){var t,r,s,u,f,m,p,b,g=e.strategy,h=e.query,y=e.variables,_=e.options,v=e.useGetLegacyResource,x=e.useGetLegacyPaginatedResource,j=e.useGetLegacyData;if("GraphQL"===g){var P=(0,i.getRequest)(h);return(0,n.useLazyLoadQuery)(P,y,_)}if(null!=v&&null!=x&&null!=j)throw Error("Only pass one of those calls from the list: \n[useGetLegacyResource, useGetLegacyPaginatedResource, useGetLegacyData]\nto useLazyLoadQueryOrLegacy");var k=(t=function(){b()},r=(0,o.useRef)(y),s=(0,o.useRef)(null),f=(function(e){if(Array.isArray(e))return e}(u=(0,o.useState)({}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,l=[],s=!0,u=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(l.push(n.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(u,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,2):void 0}}(u,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],m=(0,l.ZP)(y,r.current)?null==s.current?r.current:s.current:(r.current=y,s.current=null,r.current),p=(0,o.useCallback)(function(e){var r=c(c({},m),e||{});(0,l.ZP)(m,r)&&t(),s.current=r,f({})},[m,t]),{actualVariables:m,refetch:p}),S=k.actualVariables,O=k.refetch;if(null!=j){var w=j(S);if(!w)return null;var A=(0,i.getRequest)(h).fragment.selections;return b=function(){},(0,a.Z)(A,{kind:"LegacyData",singularLegacyData:w,refetchInfo:{refetch:O},paginationInfo:null})}if(null!=v){var z=v(S),U=z.data;if(b=z.refresh,null==U)return null;var E=(0,i.getRequest)(h).fragment.selections;return(0,a.Z)(E,{kind:"LegacyData",singularLegacyData:U,refetchInfo:{refetch:O},paginationInfo:null})}if(null!=x){var T=x(S),C=T.data,D=T.isFetching,R=T.isAtEnd,F=T.fetchMore;if(b=T.refresh,null==C)return null;var L=(0,i.getRequest)(h).fragment.selections;return(0,a.Z)(L,{kind:"PaginationLegacyData",paginationLegacyData:C,refetchInfo:{refetch:O},paginationInfo:{isLoadingNext:D,hasNext:!R,loadNext:F}},null)}throw Error("useGetLegacyData or useGetLegacyResource must be provided")}},216975:function(e,t,r){"use strict";function n(e,t,r){return e.split(r).map(function(e){if(e.match(r)){var n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}r.d(t,{Wc:function(){return l},XB:function(){return o},bF:function(){return u},nk:function(){return a}});var i=/(\{\{\s*\w+\s*\}\})/g;function a(e,t){return n(e,t,i)}function o(e){var t,r,i=e.text,a=e.markers,o=e.jsxReplacements,l=["strong","a","em","span"],s=/(\{\{\s*\w+\s*\}\})/g,u=/<\s*(strong|a|em|span)\b[^>]*>.*?<\s*\/\s*\1\s*>/g,c=/<(strong|a|em|span)\s+[^>]*id\s*=\s*["']([^"']+)["'][^>]*>/,d=/<(strong|a|em|span)\b[^>]*>(.*?)<\/\1>/,f=null==(t=i.match(u))?void 0:t.map(function(e){var t,r,i,l=e.match(c),u=null!=(t=l&&l[2])?t:0,f=e.match(d),m=null!=(r=f&&f[2])?r:"",p=a?n(m,a,s):[m];return u&&o&&(null==(i=o[u])?void 0:i.call(o,{innerHtmlStrings:p}))});return null==(r=i.split(u))?void 0:r.map(function(e){return l.some(function(t){return e===t})?null==f?void 0:f.shift():a?n(e,a,s):e})}function l(e,t){return n(e,t,i).join("")}var s=/(\{\s*\w+\s*\})/g;function u(e,t){return n(e,t,s)}},619481:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(387784),i=r(581722),a=r(629972),o=r(487038);function l(e){var t=e.name,r=e.optionsKey,l=t===a.fY,s=(0,o.MA)(),u=null==s?void 0:s.get(t,r);if(u)throw u;var c=function(e){var n;return null==(n=e[t])?void 0:n[r]},d=(0,i.v9)(function(e){var t;return null==(t=c(e.resources))?void 0:t.nextBookmark}),f=(0,i.v9)(function(e){var t;return null==(t=c(e.resources))?void 0:t.data}),m=(0,i.v9)(function(e){var t;return null==(t=c(e.resources))?void 0:t.auxData}),p=(0,i.v9)(function(e){var t;return null==(t=c(e.resources))?void 0:t.error}),b=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(l)return b.current;var g={auxData:m,data:f,error:p,isAtEnd:d===a.qx,nextBookmark:d};return(g.auxData!==b.current.auxData||g.data!==b.current.data||g.error!==b.current.error||g.isAtEnd!==b.current.isAtEnd||g.nextBookmark!==b.current.nextBookmark)&&(b.current=g),b.current}},890678:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(629972),i=r(957547);function a(e){var t=null!=e?e:{name:n.fY,options:null},r=t.enabledRouteRefresh,a=t.headers,o=t.name,l=t.noCache,s=t.options,u=t.schema,c=!e,d=(0,i.Z)({enabledRouteRefresh:r,headers:a,name:o,noCache:l,options:s,schema:u},c,!1),f=d.fetchResource,m=d.ref,p=d.fetchMore,b=d.isFetching,g=d.isLoaded,h=d.isRefreshing,y=d.refresh;return c||f(),{ref:m,fetchMore:p,isFetching:b,isLoaded:g,isRefreshing:h,refresh:y}}},577356:function(e,t,r){"use strict";r.d(t,{Zo:function(){return i},dI:function(){return a}});var n=(0,r(213491).Z)("toastManagerContext"),i=n.Provider,a=n.get},893957:function(e,t,r){"use strict";var n=r(387784);t.Z=function(e){(0,n.useEffect)(e,[])}},550759:function(e,t,r){"use strict";var n=r(20256),i=r(24246),a=r(680811);t.Z=function(e){var t=e.isInModal,r=(0,i.Z)();return(0,a.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:t?"absolute":"fixed",top:!0,width:"100%",zIndex:new n.Ry(1),children:(0,a.jsx)(n.xH,{accessibilityLabel:r._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},247298:function(e,t,r){"use strict";r.d(t,{Z:function(){return ed}});var n,i,a,o=r(387784),l=r(204306),s=r(653551),u=r(20256),c=r(27399),d=r(470205),f=r(183e3),m=r(281215),p=r(24246),b=r(501010),g=r(774838),h=r(619481),y=r(890678),_=r(247387),v=r(575820),x=r(739405),j=r(465784),P=r(924591),k=r(577356),S=r(680811);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){C(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(E=function(){return!!e})()}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,r){return(t=D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=O(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}var R=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&z(i,e);var t,r,n=(t=E(),function(){var e,r=T(i);return e=t?Reflect.construct(r,arguments,T(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return U(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return C(U(e=n.call.apply(n,[this].concat(r))),"state",{settings:[],settings_email_everything:{},settings_email_v2:{},unsub_group_board:{},settings_email_everything_biz:{},settings_email_biz_v2:{},modalOpen:!1,isBizSectionTurnOff:!1,isPartner:!1}),C(U(e),"onTurnOffButtonTouch",function(t){return e.setState({modalOpen:!0,isBizSectionTurnOff:t})}),C(U(e),"onTurnoffModalClose",function(){return e.setState({modalOpen:!1,isBizSectionTurnOff:!1})}),C(U(e),"handleShowToast",function(){e.props.toastManagerContext.showOneToast(function(t){var r=t.hideToast;return(0,S.jsx)(P.Z,{onHide:r,text:e.props.i18n._('Email setting saved', 'Confirmation message for email setting saved', 'Confirmation message for email setting saved')})})}),C(U(e),"refetchEmailSettings",function(){var t=e.props,r=t.od,n=t.viewingUserId;c.Z.create("UnsubEmailSettingsResource",{od:r,user_id:n}).callGet().then(function(t){var r=t.resource_response.data,n=r.reduce(function(e,t){var r=A({},e);return r[t.key]=t.options.reduce(function(e,t){var r=A({},e),n=t.key,i=t.value;return r[n]={value:i},r},{}),r},{settings:r});e.setState(n)})}),C(U(e),"handleEmailSettingChange",function(t,r,n){var i=e.props,a=i.od,o=i.viewingUserId;c.Z.create("UnsubEmailSettingsResource",{section:t,option:r,value:n,od:a,user_id:o}).callUpdate().then(function(){e.setState(C({},t,C({},r,{value:n}))),e.handleShowToast(),e.refetchEmailSettings()}),e.setState({modalOpen:!1,isBizSectionTurnOff:!1})}),C(U(e),"renderSettings",function(t){var r=e.state,n=r.isPartner,i=r.settings_email_everything,a=r.settings_email_everything_biz,o=void 0!==i.ONLY_REQUIRED&&i.ONLY_REQUIRED.value,l=void 0!==a.ONLY_REQUIRED&&a.ONLY_REQUIRED.value,s=!t.isBiz&&o||t.isBiz&&l,c=n?"200":"300";return 4===t.style?(0,S.jsxs)(u.xu,{children:[t.isBiz&&(0,S.jsx)(u.xu,{marginBottom:4,marginTop:4,children:(0,S.jsx)(u.iz,{})}),n&&(0,S.jsx)(u.xu,{marginBottom:4,marginTop:2,children:(0,S.jsx)(u.X6,{size:"400",children:t.label})}),!n&&(0,S.jsx)(u.xu,{marginTop:2}),(0,S.jsxs)(u.xu,{marginTop:0,children:[!n&&(0,S.jsx)(u.xv,{size:c,weight:"bold",children:e.props.i18n._('All', 'Header for checkbox global unsubscribe', 'Header for checkbox global unsubscribe')}),(0,S.jsxs)(u.xu,{direction:"row",display:"flex",marginTop:5,children:[(0,S.jsx)(u.XZ,{checked:!s,id:"globalUnsubCheck",onChange:s?function(){return e.handleEmailSettingChange(t.key,t.options[0].key,!e.state[t.key][t.options[0].key].value)}:function(){return e.onTurnOffButtonTouch(t.isBiz)},size:"sm"}),(0,S.jsx)(u.__,{htmlFor:t.options[0].id,children:(0,S.jsx)(u.xu,{paddingX:4,children:(0,S.jsx)(u.xv,{color:"default",children:e.props.i18n._('Email notifications', 'Subscribe or Unsubscribe to all emails', 'Subscribe or Unsubscribe to all emails')})})})]})]}),s&&n&&"settings_email_everything"===t.key&&(0,S.jsx)(u.xu,{marginTop:2,children:(0,S.jsx)(u.xv,{color:"error",size:"100",children:e.props.i18n._('Settings for your business account are at the bottom of the page.', 'Warning message for personal email settings', 'Warning message for personal email settings')})}),s&&n&&"settings_email_everything_biz"===t.key&&(0,S.jsx)(u.xu,{marginTop:2,children:(0,S.jsx)(u.xv,{color:"error",size:"100",children:e.props.i18n._('Control emails for your personal account at the top of the page.', 'Warning message for business email settings', 'Warning message for business email settings')})})]}):2===t.style?(0,S.jsxs)(u.xu,{marginTop:6,children:[(0,S.jsx)(u.xv,{size:c,weight:"bold",children:t.label}),t.options.map(function(r){var n;return(0,S.jsxs)(u.xu,{direction:"row",display:"flex",marginTop:5,children:[(0,S.jsx)(u.XZ,{checked:!s&&(void 0===e.state[t.key][r.key]?r.value:!!(null!=(n=e.state[t.key][r.key])&&n.value)),disabled:e.state.modalOpen||s,id:r.id,name:r.id,onChange:function(){var n;e.handleEmailSettingChange(t.key,r.key,!(null!=(n=e.state[t.key][r.key])&&n.value))},size:"sm"}),(0,S.jsx)(u.__,{htmlFor:r.id,children:(0,S.jsx)(u.xu,{paddingX:4,children:(0,S.jsx)(u.xv,{color:s?"subtle":"default",children:r.label})})})]})})]}):(0,S.jsx)(u.xu,{marginTop:4,children:t.categoryMaps.map(function(r){return(0,S.jsxs)(u.xu,{marginTop:6,children:[(0,S.jsx)(u.xv,{size:c,weight:"bold",children:r.label}),r.value.map(function(r){return(0,S.jsx)(u.xu,{marginTop:5,children:(0,S.jsxs)(u.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[(0,S.jsx)(u.XZ,{checked:!o&&(void 0===e.state[t.key][r.key]?r.value:e.state[t.key][r.key].value),disabled:e.state.modalOpen||o,id:r.id,name:r.id,onChange:function(){var n;e.handleEmailSettingChange(t.key,r.key,!(null!=(n=e.state[t.key][r.key])&&n.value))},size:"sm"}),(0,S.jsx)(u.__,{htmlFor:r.id,children:(0,S.jsx)(u.xu,{paddingX:4,children:(0,S.jsx)(u.xv,{color:o?"subtle":"default",children:r.label})})})]})})})]})})})}),e}return r=[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.od,n=t.viewingUserId;c.Z.create("UnsubEmailSettingsResource",{od:r,user_id:n}).callGet().then(function(t){var r=t.resource_response.data;e.setState({settings:r});var n=r.reduce(function(e,t){switch(t.key){case"settings_email_everything":case"settings_email_v2":case"unsub_group_board":case"settings_email_everything_biz":case"settings_email_biz_v2":e[t.key]=t.options.reduce(function(e,t){var r=A({},e),n=t.key,i=t.value;return r[n]={value:i},r},{}),"settings_email_biz_v2"===t.key&&(e.isPartner=!0)}return e},{});e.setState(n)})}},{key:"render",value:function(){var e=this,t=this.state,r=t.modalOpen,n=t.isBizSectionTurnOff,i=t.settings,a=n?"settings_email_everything_biz":"settings_email_everything";return(0,S.jsxs)(u.xu,{children:[(0,S.jsx)(u.xu,{marginTop:7,children:(0,S.jsx)(u.X6,{size:"600",children:this.props.i18n._('Your email notifications', 'title of setting part', 'title of setting part')})}),(0,S.jsx)(u.xu,{marginBottom:7,children:i.map(function(t){return(0,S.jsx)(u.xu,{children:e.renderSettings(t)},t.key)})}),r&&(0,S.jsx)(j.ZP,{accessibilityModalLabel:this.props.i18n._('turn off all emails', 'turn off all emails', 'turn off all emails'),footer:(0,S.jsxs)(u.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,S.jsx)(u.xu,{padding:1,children:(0,S.jsx)(u.zx,{accessibilityLabel:this.props.i18n._('Cancel', 'Cancel turning off all emails', 'Cancel turning off all emails'),color:"gray",fullWidth:!0,onClick:this.onTurnoffModalClose,size:"lg",text:this.props.i18n._('Cancel', 'Cancel turning off all emails', 'Cancel turning off all emails')})}),(0,S.jsx)(u.xu,{padding:1,children:(0,S.jsx)(u.zx,{accessibilityLabel:this.props.i18n._('Turn off all', 'Turn off all emails', 'Turn off all emails'),color:"red",fullWidth:!0,onClick:function(){return e.handleEmailSettingChange(a,"ONLY_REQUIRED",!0)},size:"lg",text:this.props.i18n._('Turn off all', 'Turn off all emails', 'Turn off all emails')})})]}),heading:this.props.i18n._('Are you sure?', 'Ask user to confirm turn off all emails', 'Ask user to confirm turn off all emails'),onDismiss:this.onTurnoffModalClose,size:"sm",children:(0,S.jsx)(u.xu,{marginBottom:6,marginEnd:4,marginStart:4,marginTop:6,children:(0,S.jsx)(u.xv,{size:"200",children:this.props.i18n._('You won\'t get any more email notifications from Pinterest for your personal account (except account settings and privacy).', 'Warn user they won\'t receive emails', 'Warn user they won\'t receive emails')})})})]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(o.Component);function F(e){var t=(0,p.Z)();return(0,S.jsx)(R,A(A({},e),{},{i18n:t,toastManagerContext:(0,k.dI)()}))}var L=r(723868),I=r(583875),N=r(216975),Z=function(){var e=(0,p.Z)();return(0,S.jsxs)(u.xu,{children:[(0,S.jsx)(u.xu,{paddingY:3,children:(0,S.jsx)(u.X6,{size:"600",children:e._('Almost there!', 'email unsubscribe page that requires login', 'email unsubscribe page that requires login')})}),(0,S.jsx)(u.xv,{size:"200",children:(0,N.nk)(e._('You need to {{ loginLink }} to see and edit your email settings.', 'email unsubscribe page that requires login', 'email unsubscribe page that requires login'),{loginLink:(0,S.jsx)(u.xv,{color:"error",inline:!0,children:(0,S.jsx)(u.rU,{display:"inlineBlock",href:"/settings/",tapStyle:"none",underline:"hover",children:e._('login to Pinterest', 'You need to [login to Pinterest] to edit your email settings', 'You need to [login to Pinterest] to edit your email settings')})},"loginLink")})})]})},M=function(){var e=(0,p.Z)();return(0,S.jsxs)(u.xu,{children:[(0,S.jsx)(u.xu,{paddingY:3,children:(0,S.jsx)(u.X6,{size:"600",children:e._('You\'ve resubscribed!', 'email unsubscribe page after resubscribing to receiving emails', 'email unsubscribe page after resubscribing to receiving emails')})}),(0,S.jsx)(u.xv,{size:"200",children:e._('It may take a day or two, but you\'ll start seeing these emails again soon.', 'email unsubscribe page after resubscribing to receiving emails', 'email unsubscribe page after resubscribing to receiving emails')})]})},B=function(e){var t=e.emailUserFirstName,r=e.profileImageUrl;return(0,S.jsx)(u.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:(0,S.jsxs)(u.xu,{alignItems:"center",direction:"column",display:"flex",paddingY:1,children:[(0,S.jsx)(u.xu,{paddingY:2,children:r&&t&&(0,S.jsx)(I.qE,{name:t||"",size:"lg",src:r})}),(0,S.jsx)(u.xv,{lineClamp:1,weight:"bold",children:t})]})})},Y=function(e){var t=e.emailUserFirstName,r=e.profileImageUrl,n=e.recipientEmail;return(0,S.jsxs)(u.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,S.jsx)(u.xu,{"data-test-id":"profile-avatar",paddingY:2,children:r&&(0,S.jsx)(I.qE,{name:t||"",size:"sm",src:r})}),(0,S.jsxs)(u.xu,{"data-test-id":"profile-name-email-section",paddingX:2,paddingY:2,children:[(0,S.jsx)(u.xv,{lineClamp:1,weight:"bold",children:t}),(0,S.jsx)(u.xv,{children:n})]})]})},K=function(e){var t=e.emailUserFirstName,r=e.profileImageUrl,n=e.recipientEmail,i=e.emailDescription,a=(0,p.Z)();return(0,S.jsxs)(u.xu,{children:[(0,S.jsx)(Y,{emailUserFirstName:t,profileImageUrl:r,recipientEmail:n}),(0,S.jsxs)(u.xu,{marginTop:4,children:[(0,S.jsx)(u.X6,{size:"600",children:a._('Unsubscribed from this email', 'email unsubscribe confirmation', 'email unsubscribe confirmation')}),(0,S.jsx)(u.xu,{marginTop:3}),(0,S.jsx)(u.xu,{"data-test-id":"unsubscribe-confirm-message",children:(0,S.jsx)(u.xv,{children:(0,N.nk)(a._('Pinterest will stop sending you emails about {{ emailDescription }}', 'email unsubscribe page', 'email unsubscribe page'),{emailDescription:(0,S.jsx)(u.xv,{inline:!0,weight:"bold",children:i})})})})]})]})},q=function(e){var t=e.recipientEmail,r=e.emailUserFirstName,n=e.profileImageUrl,i=(0,p.Z)();return(0,S.jsxs)(u.xu,{children:[(0,S.jsxs)(u.xu,{paddingY:3,children:[(0,S.jsx)(u.X6,{size:"600",children:(0,N.nk)(i._('{{ emailAddress }} has unsubscribed from this email', 'email unsubscribe page', 'email unsubscribe page'),{emailAddress:t})}),(0,S.jsx)(B,{emailUserFirstName:r,profileImageUrl:n})]}),(0,S.jsx)(u.xv,{size:"200",children:i._('It may take a few days, but you\'ll stop getting this type of email', 'email unsubscribe page', 'email unsubscribe page')})]})},G=function(){var e=(0,p.Z)();return(0,S.jsxs)(u.xu,{width:"100%",children:[(0,S.jsx)(u.xu,{marginBottom:4,paddingX:4,children:(0,S.jsx)(u.X6,{align:"center",size:"600",children:e._('We need to send you important messages', 'email unsubscribe page when you cannot unsubscribe to certain emails', 'email unsubscribe page when you cannot unsubscribe to certain emails')})}),(0,S.jsx)(u.xu,{children:(0,S.jsx)(u.xv,{align:"center",children:e._('You can\'t unsubscribe from legal, privacy and security emails like this one. However, you can change the types of email you get from us in your settings.', 'email unsubscribe page when you cannot unsubscribe to certain emails', 'email unsubscribe page when you cannot unsubscribe to certain emails')})})]})},Q=function(e){var t=e.recipientEmail,r=e.emailUserFirstName,n=e.profileImageUrl,i=(0,p.Z)();return(0,S.jsxs)(u.xu,{children:[(0,S.jsx)(u.xu,{paddingY:3,children:(0,S.jsxs)(u.xu,{children:[(0,S.jsx)(u.X6,{size:"600",children:(0,N.nk)(i._('{{ emailAddress }} has unsubscribed from all emails', 'email unsubscribe page', 'email unsubscribe page'),{emailAddress:t})}),(0,S.jsx)(B,{emailUserFirstName:r,profileImageUrl:n})]})}),(0,S.jsx)(u.xv,{size:"200",children:i._('It may take a day or two, but soon you\'ll only get important privacy and account emails.', 'email unsubscribe page', 'email unsubscribe page')})]})},X=r(550759);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=W(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=W(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==W(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $(e,t,r,n,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,i)}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,l=[],s=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function et(e){var t=e.recipientEmail,r=e.emailUserFirstName,n=e.profileImageUrl,i=e.emailDescription,a=e.viewingUser,o=e.od,l=e.onConfirmClick,s=(0,p.Z)(),c=(0,x.HG)(),d=(0,g.B)().isAuthenticated,f={paddingBottom:4};return(0,S.jsxs)(u.xu,{margin:"auto",maxWidth:460,children:[(0,S.jsx)(u.xu,{margin:4,paddingY:4,rounding:4,children:(0,S.jsxs)(u.xu,{children:[(0,S.jsx)(u.xu,{"data-test-id":"profile-information-section",children:(0,S.jsx)(Y,{emailUserFirstName:r,profileImageUrl:n,recipientEmail:t})}),(0,S.jsxs)(u.xu,{"data-test-id":"unsubscribe-from-text",paddingY:7,children:[(0,S.jsx)(u.xv,{children:s._('Unsubscribe from', 'email unsubscribe confirmation question', 'email unsubscribe confirmation question')}),(0,S.jsx)(u.xu,{marginTop:1}),(0,S.jsx)(u.X6,{accessibilityLevel:1,size:"600",children:void 0===i?[]:i})]}),(0,S.jsx)(u.xu,{"data-test-id":"unsubscribe-confirm-button",children:(0,S.jsx)(u.zx,{color:"red",fullWidth:!0,onClick:function(){return l(o,a)},size:"lg",text:s._('Confirm', 'Confirm the email unsubscribe', 'Confirm the email unsubscribe'),type:"submit"})}),(0,S.jsx)(u.xu,{marginTop:2}),(0,S.jsx)(u.rU,{href:"/",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,S.jsx)(u.xu,{"data-test-id":"unsubscribe-cancel-button",children:(0,S.jsx)(u.zx,{fullWidth:!0,size:"lg",text:s._('Cancel', 'Cancel the email unsubscribe and go to homefeed', 'Cancel the email unsubscribe and go to homefeed')})})})]})}),(0,S.jsx)(u.xu,{paddingX:4,paddingY:2,children:(0,S.jsx)(u.xv,{inline:!0,weight:"bold",children:(0,S.jsx)("span",{style:f,children:(0,S.jsx)(u.xu,{"data-test-id":"manage-email-settings-link",children:(0,S.jsx)(u.rU,{display:"inlineBlock",href:c&&d?"/settings/notifications/":"/settings/email/",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},underline:"hover",children:s._('Manage other email settings', 'UnsubscribePage.LinkToEmailSettings', 'link to go to email settings')})})})})}),(0,S.jsx)(u.xu,{"data-test-id":"didnt-sign-up-for-pinterest-link",paddingX:4,paddingY:2,children:(0,S.jsx)(u.xv,{weight:"bold",children:(0,S.jsx)("span",{style:f,children:(0,S.jsx)(u.rU,{display:"inlineBlock",href:"/email/remove?user_id=".concat(a,"&od=").concat(o),underline:"hover",children:s._('Didn\'t sign up for Pinterest? Let us know', 'email unsubscribe page', 'email unsubscribe page')})})})})]})}function er(e){var t=e.recipientEmail,r=e.emailUserFirstName,n=e.profileImageUrl,i=e.emailDescription,a=e.od,l=e.viewingUser,s=(0,p.Z)(),c=(0,x.HG)();return(0,S.jsxs)(u.xu,{children:[(0,S.jsx)(u.xu,{margin:4,paddingY:4,rounding:4,children:(0,S.jsx)(K,{emailDescription:void 0===i?[]:i,emailUserFirstName:r,profileImageUrl:n||"",recipientEmail:t})}),(0,S.jsx)(u.xu,{paddingX:4,children:c?(0,S.jsx)(F,{od:a,viewingUserId:l}):(0,S.jsxs)(o.Fragment,{children:[(0,S.jsx)(u.X6,{size:"600",children:s._('Your email notifications', 'title for email settings', 'title for email settings')}),(0,S.jsx)(L.Z,{headingSize:"400",labelSize:"300",options:{od:a,user_id:l}})]})})]})}function en(){var e=(0,p.Z)(),t=(0,x.HG)(),r=(0,g.B)().isAuthenticated;return(0,S.jsxs)(u.xu,{alignSelf:"center",direction:"column",display:"flex",marginEnd:2,marginStart:2,marginTop:8,children:[(0,S.jsx)(G,{}),(0,S.jsxs)(u.xu,{alignSelf:"center",flex:"none",marginTop:4,children:[(0,S.jsx)(u.ZP,{color:"red",fullWidth:!0,href:t&&r?"/settings/notifications/":"/settings/email/",size:"lg",text:e._('Manage email settings', 'link to go to email settings', 'link to go to email settings')}),(0,S.jsx)(u.xu,{marginTop:2})]})]})}var ei=function(){var e,t,i=(void 0!==n||(n=r(684842)).hash&&"026135d2a415a5bb17a39940fd2df22b"!==n.hash&&console.error("The definition of 'UnsubscribePageMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),a=J((0,l.useMutation)(i),1)[0];return e=regeneratorRuntime.mark(function e(t,r,n,i){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={viewingUser:t,isConfirmStep:r,od:n},e.next=3,new Promise(function(e,t){a({variables:V({},o),onCompleted:function(r,n){n&&t(n[0]),i(),e(r)},onError:function(e){return t(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}),t=function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){$(a,n,i,o,l,"next",e)}function l(e){$(a,n,i,o,l,"throw",e)}o(void 0)})},function(e,r,n,i){return t.apply(this,arguments)}};function ea(e){var t=e.od,r=e.viewingUser,n=e.allUnsubscribed,i=e.emailUnsubscribed,a=e.loginRequired,l=e.isUnauthSubscription,s=e.recipientEmail,u=e.unsubscribable,d=e.unsubEmails,f=e.groupBoardNames,m=e.emailUserFirstName,p=e.profileImageUrl,b=e.isGraphQLMigrationUnsubEmailEnabled,g=J((0,o.useState)(!1),2),h=g[0],y=g[1],_=ei(),v=void 0===d||(null==d?void 0:d.length)===0?f:d;return n?(0,S.jsx)(Q,{emailUserFirstName:m||"",profileImageUrl:p||"",recipientEmail:s||""}):a?(0,S.jsx)(Z,{}):u?!1===i?(0,S.jsx)(M,{}):l?(0,S.jsx)(q,{emailUserFirstName:m||"",profileImageUrl:p||"",recipientEmail:s||""}):h?(0,S.jsx)(er,{emailDescription:v||[],emailUserFirstName:m||"",od:t,profileImageUrl:p||"",recipientEmail:s||"",viewingUser:r}):(0,S.jsx)(et,{emailDescription:v||[],emailUserFirstName:m||"",od:t,onConfirmClick:function(e,t){b?_(t,!0,e,function(){y(!0)}):c.Z.create("SignedEmailSubscriptionResource",{od:e,user_id:t,is_confirm_step:!0}).callDelete().then(function(){y(!0)})},profileImageUrl:p||"",recipientEmail:s||"",viewingUser:r}):(0,S.jsx)(en,{})}function eo(e){var t=(0,p.Z)(),r=e.od,n=e.viewingUser,i=e.isUnauthSubscription,a=e.showUnsubAll,o=[{text:t._('Didn\'t sign up for Pinterest? Let us know', 'email unsubscribe page', 'email unsubscribe page'),url:"/email/remove?user_id=".concat(n,"&od=").concat(r),onClick:function(){},newTab:!0}];a||o.shift();var l=[{text:t._('About Pinterest', 'link to about pinterest page email unsubscribe page', 'link to about pinterest page email unsubscribe page'),url:_.wUZ,onClick:function(){},newTab:!0},{text:t._('Back to Pinterest', 'link to home page on email unsubscribe page', 'link to home page on email unsubscribe page'),url:"/",onClick:function(){},newTab:!1}],s=i?l:o;return(0,S.jsxs)(u.xu,{paddingY:3,children:[(0,S.jsx)(u.xv,{size:"200",children:t._('Looking for more info?', 'footer section on email unsubscribe page for help', 'footer section on email unsubscribe page for help')}),s.map(function(e,t){return(0,S.jsx)(u.xu,{marginTop:1,children:(0,S.jsx)(u.xv,{size:"200",weight:"bold",children:(0,S.jsx)(u.rU,{href:e.url,onClick:e.onClick,tapStyle:"none",target:e.newTab?"blank":null,children:e.text})})},t)})]})}function el(e){var t=e.allUnsubscribed,r=void 0!==t&&t,n=e.emailUnsubscribed,i=void 0===n||n,a=e.loginRequired,l=void 0!==a&&a,s=e.unsubEmails,c=e.groupBoardNames,d=e.emailUserFirstName,f=e.profileImageUrl,m=e.unsubscribable,p=void 0===m||m,b=e.od,g=void 0===b?"":b,h=e.isUnauthSubscription,y=void 0!==h&&h,_=e.viewingUser,v=void 0===_?"":_,j=e.isGraphQLMigrationUnsubEmailEnabled,P=r||l||!i||y,k=(0,x.HG)()?u.W2:o.Fragment;return(0,S.jsx)(k,{children:(0,S.jsxs)(u.xu,{padding:3,children:[(0,S.jsx)(ea,V(V({},e),{},{allUnsubscribed:r,emailUnsubscribed:i,emailUserFirstName:void 0===d?"":d,groupBoardNames:void 0===c?[]:c,isGraphQLMigrationUnsubEmailEnabled:j,isUnauthSubscription:y,loginRequired:l,od:g,profileImageUrl:void 0===f?"":f,unsubEmails:void 0===s?[]:s,unsubscribable:p,viewingUser:v})),p?(0,S.jsx)(u.xu,{paddingY:3,children:(0,S.jsx)(u.iz,{})}):null,P&&(0,S.jsx)(eo,{isUnauthSubscription:y,od:g,showUnsubAll:!r,viewingUser:v})]})})}var es=(void 0!==i||(i=r(425554)).hash&&"63ed0345e0ec4de1b9849c11f7331db9"!==i.hash&&console.error("The definition of 'UnsubscribePageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),eu=(void 0!==a||(a=r(955031)).hash&&"cfb0ec4e93e6eee773566e0b00c61242"!==a.hash&&console.error("The definition of 'UnsubscribePageFragment_email_subscription' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function ec(e){var t,r=e.unsubscribePageDataRef,n=e.query,i=e.od,a=e.viewingUser,o=!!(0,b.Z)().checkExperiment("graphql_migration_email_unsub").anyEnabled,l=(0,m.Z)({strategy:o?"GraphQL":"Legacy",query:es,variables:{od:i,viewingUser:a},options:{fetchPolicy:"network-only"},useGetLegacyData:function(){return(0,h.Z)(r).data}}),s=(null==l||null==(t=l.v3GetEmailSubscriptionQuery)?void 0:t.__typename)==="EmailSubscriptionResponse"?l.v3GetEmailSubscriptionQuery.data:null,u=(0,f.Z)(eu,s);return u?(0,S.jsx)(el,V(V({},u),{},{allUnsubscribed:"true"===n.allUnsubscribed,isGraphQLMigrationUnsubEmailEnabled:o,od:i,viewingUser:a})):null}var ed=function(){var e=(0,s.TH)(),t=(0,v.mB)(e.search.replace(/\r?\n|\r/g,"")),r=t.od.replaceAll(" ","+"),n=t.user_id,i=null==n?void 0:n.replace(/\r?\n|\r/g,""),a=null==r?void 0:r.replace(/\r?\n|\r/g,""),l=(0,y.Z)({name:"SignedEmailSubscriptionResource",options:{user_id:i,od:a}}).ref;return(0,S.jsx)(d.Z,{name:"UnsubscribePage_UnsubscribePageWrapper",children:(0,S.jsx)(o.Suspense,{fallback:(0,S.jsx)(X.Z,{}),children:(0,S.jsx)(ec,{od:r,query:t,unsubscribePageDataRef:l,viewingUser:n})})})}},577327:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/email/subscription",function(){return r(247298).Z}])},117019:function(e){e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},626956:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},145418:function(e,t,r){var n=r(488921);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},488921:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){e.O(0,["11893","25418","32467","83672","88038"],function(){return e(e.s=577327)}),e.O()}]);