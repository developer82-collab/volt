(self.legacyJsonp=self.legacyJsonp||[]).push([["34940"],{917789:function(e,n,t){"use strict";t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPickerList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="76b22cc5d658befe1dc27454d3aee77f",n.default=r},887802:function(e,n,t){"use strict";t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardTitleSuggestionList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:r,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="69ffcdea57a7778d2ebbcd41c276c0d0",n.default=i},991809:function(e,n,t){"use strict";t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null}],type:"Pin",abstractKey:null};r.hash="60ba8f292ef82335c3d4cbce50f362d8",n.default=r},104922:function(e,n,t){"use strict";t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileRepinCreateScreen_pin",selections:[{args:null,kind:"FragmentSpread",name:"RepinAddSection_pin"}],type:"Pin",abstractKey:null};r.hash="2d5f10a7f4e54a8cf9118f134bcd7386",n.default=r},521906:function(e,n,t){"use strict";t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileRepinPicker_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"RepinBoardPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinSectionPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinCreateBoardButton_pin"}],type:"Pin",abstractKey:null};r.hash="0b70f6e25d25129525379f38c7f56293",n.default=r},34554:function(e,n,t){"use strict";t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinAddSection_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="b3ec14d29962e56f80dd52e7e6d7a6d9",n.default=i},361817:function(e,n,t){"use strict";t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinBoardPicker_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r],storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPickerList_pin"},{args:null,kind:"FragmentSpread",name:"BoardTitleSuggestionList_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"}],type:"Pin",abstractKey:null};i.hash="475036dcb56a51d3552313200b8c9d45",n.default=i},59986:function(e,n,t){"use strict";t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinCreateBoardButton_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r],storageKey:null}],type:"Pin",abstractKey:null};i.hash="1612c2df94f42990b3d4f6ccede72a70",n.default=i},976529:function(e,n,t){"use strict";t.r(n);var r,i,o,a,l,s,c,u=(r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],i=[{kind:"Variable",name:"pin",variableName:"pinId"}],a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c=[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{fragment:{argumentDefinitions:r,kind:"Fragment",metadata:null,name:"RepinPageQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"RepinPage_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"RepinPageQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s,a,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},s],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:c,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:c,storageKey:null}],storageKey:null},s],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"6e6e47e50455cef42543b1499ef3192d663ab714013a0ddc618b21558010363d",metadata:{},name:"RepinPageQuery",operationKind:"query",text:null}});u.hash="76093586a269ca0330e25a57bd33f665",n.default=u},763536:function(e,n,t){"use strict";t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"MobileRepinPicker_pin"},{args:null,kind:"FragmentSpread",name:"MobileRepinCreateScreen_pin"}],type:"Pin",abstractKey:null};r.hash="334d0ce72c30565b62e52dd00bf86623",n.default=r},112402:function(e,n,t){"use strict";t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinSectionPicker_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="f0b2fbadfba92480a2077999a000a308",n.default=i},609464:function(e,n,t){"use strict";t.r(n);var r,i,o,a,l,s={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,concreteType:"BoardTitleSuggestions",kind:"LinkedField",name:"boardTitleSuggestions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},l={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},l],storageKey:null}]},params:{id:"dfccee15ebd4af4563083cc11670f30e6390ba0f2d1317da3d908269f01eadba",metadata:{},name:"useFetchBoardTitleSuggestionsQuery",operationKind:"query",text:null}};s.hash="a8967078f1de7ce3a263a224d0d0e710",n.default=s},583845:function(e,n,t){"use strict";t.d(n,{Rq:function(){return r},Vf:function(){return i},jd:function(){return o},oy:function(){return a}});var r=function(e){return"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436},i=28,o=function(e){return window.innerHeight>=748&&r(e)},a=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)}},446885:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(387784),i=t(20256),o=t(424367),a=t(351736),l=t(440077),s=t(609252),c=t(178315),u=t(774838),d=t(40763),f=t(680811);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==p(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function m(e){var n,t,p=e.children,h=e.footerConfig,m=e.headerConfig,y=e.height,v=e.hideOnScroll,b=e.hideOnScrollState,_=b.isHidden,x=b.updateHiddenState,P=e.isFooterHidden,S=e.noPadding,w=e.paddingX,j=e.paddingY,I=void 0===j?c.og:j,k=e.type,O=e.zIndex,T=e.isStoryPin,A=m||{},B=A.headerLimitedOverflow,E=A.ignoreObstructions,C=A.zIndexForGestaltBug,R=h||{},F=R.appUpsellFooterConfig,Z=R.footerInLego,z=R.navFooterConfig,L=!!F,D="header"===k?"top":"bottom",M=(0,a.vs)(),N=(0,u.B)().isRTL,K=(0,o.Z)().mWebCloseupRedesignEnabled,H=(0,r.useRef)(null),U=(0,r.useRef)(null);(0,r.useEffect)(function(){try{if(!E){var e=H.current;U.current=B&&e&&Array.isArray(e.children)?e.children[0]:e,U.current instanceof HTMLElement&&s.Z.addObstruction(D,U.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return function(){!E&&U.current instanceof HTMLElement&&s.Z.removeObstruction(D,U.current)}},[E,B,D,M]);var W="top"===D?"relative":"fixed",G=S?0:I,V=(null!=y?y:c.R$)+((null==m?void 0:m.overrideTop)||0),X=v||z?g({transition:Z||K?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear"},_||P?{transform:"translateY(".concat("top"===D?-V:V,"px)"),opacity:Z||K?0:1}:Object.freeze({})):{},q=2*("relative"===W&&(null==m||!m.noGutter)),Y=q?-q:0,Q=M?a.k7:"rgba(255,255,255,.95)";M&&("header"===k?n=-1:t=-1);var J=Z?L?void 0:null!=y?y:c.R$:"100%",$=Z?c.KJ:void 0,ee=null!=m&&m.isTranslucent&&Q||M?Q:l.Wmm,en=null!=m&&m.isTransparentBackground&&l.Wyp?l.Wyp:ee,et=(0,r.useMemo)(function(){return g({height:"footer"===k&&K?"calc(".concat(J," + env(safe-area-inset-bottom))"):J},K&&"footer"===k?{paddingBottom:"calc(env(safe-area-inset-bottom) + ".concat(4*(G||0),"px)")}:Object.freeze({}))},[K,J,k,G]),er=(0,d.Z)({skipExpActivation:!0});return(0,f.jsx)(i.xu,{ref:H,bottom:"footer"===k,dangerouslySetInlineStyle:{__style:g(g(g(g(g({top:n,bottomStyle:t},!O||C?{zIndex:C||1}:Object.freeze({})),B?{background:"transparent",overflow:"hidden",paddingBottom:c.UB,marginBottom:-c.UB,pointerEvents:"none"}:Object.freeze({})),null!=m&&m.hasBorder?{borderBottom:c.dS}:Object.freeze({})),null!=h&&h.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({})),X)},"data-test-id":k,display:L?"flex":void 0,height:y&&!Z?y:void 0,left:!0,marginEnd:Z?"auto":Y,marginStart:Z?"auto":Y,onTransitionEnd:function(){(v||z)&&U.current&&(_||P?s.Z.removeObstruction(D,U.current):s.Z.addObstruction(D,U.current))},position:W,right:!0,top:"header"===k,width:Z||"fixed"!==W?void 0:"100%",zIndex:C?void 0:O,children:(0,f.jsx)(i.xu,{alignItems:null!=h&&h.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:g(g(g({backgroundColor:en,paddingLeft:N||!er||T?void 0:"8px",paddingRight:N&&er&&!T?"8px":void 0},et),{},{boxShadow:K&&"footer"===k?"0 10px 0 0 ".concat(en,", ").concat(c.KJ):$,marginBottom:Z&&!(null!=z&&z.docked)?16:void 0},B?{pointerEvents:"auto"}:Object.freeze({})),null!=m&&m.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({}))},display:Z||null!=h&&h.alignCenter?"flex":void 0,marginEnd:Z?"auto":void 0,marginStart:Z?"auto":void 0,paddingX:w||4*("footer"===k&&!S)+q,paddingY:G,position:"relative",rounding:Z&&!(null!=z&&z.docked)?"pill":void 0,width:z?z.footerWidth:L?void 0:"100%",children:"function"==typeof p?p({updateHiddenState:x}):p})})}},528630:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(446885),i=t(763904),o=t(680811);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["alignCenter","appUpsellFooterConfig","footerInLego","hasTopShadow","navFooterConfig"];function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==a(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function u(e){var n=e.alignCenter,t=e.appUpsellFooterConfig,a=e.footerInLego,s=e.hasTopShadow,u=e.navFooterConfig,d=function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],-1===n.indexOf(t)&&({}).propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,l);return(0,o.jsx)(i.Z,{appUpsellFooterConfig:t,hideOnScroll:d.hideOnScroll,navFooterConfig:null==u?void 0:u.scrollConfig,children:function(e){return(0,o.jsx)(r.Z,c(c({},d),{},{footerConfig:{alignCenter:n,appUpsellFooterConfig:t,footerInLego:a,hasTopShadow:s,navFooterConfig:u},hideOnScrollState:e,type:"footer"}))}})}},271202:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var r=t(20256),i=t(178315),o=t(446885),a=t(763904),l=t(680811);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["hasBorder","headerLimitedOverflow","ignoreObstructions","isTranslucent","isTransparentBackground","noGutter","overrideTop","useRoundedCorners","zIndexForGestaltBug","isStoryPin"];function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==s(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function f(e){var n=e.hasBorder,t=e.headerLimitedOverflow,s=e.ignoreObstructions,u=e.isTranslucent,f=e.isTransparentBackground,p=e.noGutter,h=e.overrideTop,g=e.useRoundedCorners,m=e.zIndexForGestaltBug,y=e.isStoryPin,v=function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],-1===n.indexOf(t)&&({}).propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,c),b=v.noPadding,_=v.paddingY,x=void 0===_?i.og:_,P=v.zIndex;return(0,l.jsx)(r.Le,{height:t?i.LV+2*(b?0:x)*4:void 0,top:h||0,zIndex:P||void 0,children:(0,l.jsx)(a.Z,{hideOnScroll:v.hideOnScroll,children:function(e){return(0,l.jsx)(o.Z,d(d({},v),{},{headerConfig:{isTranslucent:u,isTransparentBackground:f,headerLimitedOverflow:t,hasBorder:n,ignoreObstructions:s,noGutter:p,overrideTop:h,zIndexForGestaltBug:m,useRoundedCorners:g},hideOnScrollState:e,isStoryPin:y,type:"header"}))}})})}},763904:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(387784),i=t(730448);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,n){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,n,t){return(n=d(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e){var n=function(e,n){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==o(n)?n:n+""}var f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),e&&a(f,e);var n,t,r=(n=s(),function(){var e,t=c(f);return e=n?Reflect.construct(t,arguments,c(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==o(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function f(){if(!(this instanceof f))throw TypeError("Cannot call a class as a function");for(var e,n,t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];return u(l(n=r.call.apply(r,[this].concat(o))),"state",{isHidden:!!n.props.appUpsellFooterConfig||!!(null!=(e=n.props.navFooterConfig)&&e.isDockedNavOnPlp)}),u(l(n),"lastScrollPos",0),u(l(n),"updateHiddenState",function(e){n.reqAnimationId=window.requestAnimationFrame(function(){n.setState({isHidden:e})})}),u(l(n),"handleScroll",(0,i.Z)(function(){var e,t=n.props,r=t.appUpsellFooterConfig,i=t.navFooterConfig,o=n.state.isHidden,a=window.scrollY,l=a-n.lastScrollPos,s="none",c=document.documentElement||{},u=c.scrollHeight,d=c.clientHeight;Number.isNaN(u)||Number.isNaN(d)||(s=l<0?a<=Math.abs((window.scrollMinY||0)+Math.max(l,20))?"start":"none":a>=(window.scrollMaxY||u-d)-Math.max(l,20)?"end":"none");var f=null!=i&&i.isModal?0:55;r?l>20&&o&&a>=500?r.shouldShowAfterScroll()&&(n.updateHiddenState(!1),null==i||i.onScroll(!1)):(l<-20&&!o||a<=f)&&(n.updateHiddenState(!0),null==i||i.onScroll(!0)):null!=(e=n.props.navFooterConfig)&&e.isDockedNavOnPlp?"start"===s&&!o||a<=f?(n.updateHiddenState(!0),null==i||i.onScroll(!0)):(a>f||"end"===s)&&o&&(n.updateHiddenState(!1),null==i||i.onScroll(!1)):(l<-20||"start"===s)&&o||a<=f?(n.updateHiddenState(!1),null==i||i.onScroll(!1)):(l>20||"end"===s)&&!o&&(n.updateHiddenState(!0),null==i||i.onScroll(!0)),n.lastScrollPos=a},30)),n}return t=[{key:"componentDidMount",value:function(){try{var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}},{key:"componentWillUnmount",value:function(){var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}},{key:"componentDidUpdate",value:function(e){var n,t,r,i;!e.hideOnScroll&&this.props.hideOnScroll||!(null!=(n=e.navFooterConfig)&&n.isDockedNavOnPlp)&&null!=(t=this.props.navFooterConfig)&&t.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!=(r=e.navFooterConfig)&&r.isDockedNavOnPlp&&!(null!=(i=this.props.navFooterConfig)&&i.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}},{key:"render",value:function(){var e=this.props,n=e.children,t=e.navFooterConfig,r=this.state.isHidden;return n({isHidden:!(null!=t&&t.forceShow)&&r,updateHiddenState:this.updateHiddenState})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}(f.prototype,t),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},134136:function(e,n,t){"use strict";t.r(n);var r=t(20256),i=t(806513),o=t(583845),a=t(873438),l=t(774838),s=t(680811);n.default=function(e){var n=e.children,t=e.dataLayoutShiftBoundaryId,c=e.hasFixedHeader,u=e.hasGutter,d=void 0===u||u,f=e.height,p=e.showKeychainError,h=e.useViewport,g=(0,l.B)(),m=(0,o.jd)(g.userAgent.platform)?o.Vf:0;return(0,s.jsx)(r.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:void 0!==h&&h?"calc(100vh - ".concat(m,"px)"):f,paddingX:d?i.D6:void 0,paddingY:void 0!==c&&c||void 0!==p&&p?void 0:3,children:(0,s.jsx)(a.C,{value:!!d,children:n})})}},178315:function(e,n,t){"use strict";t.d(n,{KJ:function(){return l},LV:function(){return a},R$:function(){return r},UB:function(){return o},dS:function(){return s},og:function(){return i}});var r=64,i=3,o=100,a=44,l="0px 0px 8px rgba(0, 0, 0, 0.1)",s="1px solid #efefef"},802108:function(e,n,t){"use strict";t.d(n,{AS:function(){return c},Ps:function(){return o},Q6:function(){return f},le:function(){return p},qe:function(){return u},yU:function(){return d}});var r=t(360033),i=t(907049),o=function(e,n){return e.length===n.length&&e.every(function(e,t){return(0,i.Z)(e,n[t])})},a=function(e,n){return e.length===n.length&&e.every(function(e,t){return e===n[t]})},l=function(e){return e};function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;return function(r){var i=[];return function(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];var s=i.find(function(e){return n(e.args,t(a))});if(s)return s.result;var c=r.apply(void 0,a);return i.push({args:t(a),result:c}),e&&i.length>e&&i.shift(),c}}}function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,r=[];return{memoize:function(i){return function(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];var s=t(a),c=r.find(function(e){return n(e.args,s)});if(c)return c.result;var u=i.apply(void 0,a);return r.push({args:s,result:u}),e&&r.length>e&&r.shift(),u}},clearCache:function(){r=[]}}}n.ZP=s();var u=s(1),d=s(void 0,a,function(e){return[JSON.stringify(e)]}),f=s(0,o),p=s(0,function(e,n){return e.length===n.length&&e.every(function(e,t){return(0,r.ZP)(e,n[t])})})},81179:function(e,n,t){"use strict";function r(e,n){var t;if(e.error){var r=e.error,i=r.httpStatus,o=r.api_error_code,a=r.redirectUrl;(404===i||401===i&&7===o)&&(t={pathname:n?"/ideas/":"/",state:{showError:!0}}),301===i&&a&&(t={pathname:a})}return t}t.d(n,{Z:function(){return r}})},565649:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(653551),i=t(935059),o=t(173874),a=t(81179),l=t(661376);function s(e){var n=(0,r.s0)(),t=(0,r.TH)(),s=!(0,i.Z)().isAuth&&(0,o.L6)(t),c=(0,l.Z)(e),u=(0,a.Z)(c,s);return u&&n(u.pathname,{replace:!0,state:u.state}),c}},919203:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(20256),i=t(680811);function o(e){var n=e.text;return(0,i.jsx)(r.xu,{display:"visuallyHidden",children:(0,i.jsx)(r.X6,{accessibilityLevel:1,children:n})})}},592656:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(20256),i=t(24246),o=t(271202),a=t(134136),l=t(669692),s=t(254889),c=t(680811);function u(e){var n=(0,i.Z)(),t=e.backButtonIcon,u=e.errorMessage,d=e.name,f=e.onNextButtonTouch,p=e.onNameChange,h=e.selectedPinIds,g=void 0===h?[]:h,m=e.useRoundedCorners,y=g.length>0?130:64;return(0,c.jsxs)(a.default,{hasFixedHeader:!0,children:[(0,c.jsxs)(o.default,{height:y,paddingY:3,useRoundedCorners:m,children:[(0,c.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(s.default,{color:"darkGray",icon:t||"cancel",padding:3,size:"sm"}),(0,c.jsx)(r.X6,{accessibilityLevel:1,size:"300",children:n._('Add section', 'for add board section page', 'for add board section page')}),(0,c.jsx)(r.xu,{"data-test-id":"create-section-button",children:(0,c.jsx)(r.zx,{accessibilityLabel:n._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),color:"red",disabled:""===d.trim(),onClick:f,size:"lg",text:n._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),g&&(0,c.jsx)(l.Z,{selectedPinIds:g})]}),(0,c.jsx)(r.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,c.jsx)(r.nv,{errorMessage:u||"",id:"section-name-input",label:n._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:function(e){return p(e.event)},size:"lg",value:d})})]})}},289817:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(387784),i=t(581722),o=t(20256),a=t(935059),l=t(24246),s=t(661376),c=t(809802),u=t(158502),d=t(214119),f=t(828890),p=t(453799),h=t(680811);function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function m(e){var n,t,m=e.excludeBoardId,y=e.hideSectionPickerList,v=e.onRepin,b=(0,l.Z)(),_=(0,a.Z)(),x=(n=_.isAuth?_.username:"",(0,s.Z)({name:"BoardsResource",options:u.O.options({username:n,boardOrder:"custom",filterStories:!0,mixPublicSecret:!0})}),(0,i.v9)(function(e){return(0,d.Z)(e)||[]})),P=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,c=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,n){if(e){if("string"==typeof e)return g(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),S=P[0],w=P[1],j=function(e,n){if(!y&&e&&n)return void w(n);v(n)};return x.length>0&&(S&&!y?(0,h.jsx)(p.Z,{boardId:null==S?void 0:S.id,repin:function(e,n){S&&v(S,n)},showSectionRep:!0}):(0,h.jsxs)(o.xu,{"data-test-id":"board-picker-row-container",children:[(0,h.jsx)(o.xu,{marginTop:3,children:(0,h.jsx)(o.xv,{children:b._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,h.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"".concat(c.T,"px")}},paddingY:3,children:x.filter(function(e){return e.id!==m}).map(function(e){return(0,h.jsx)(f.Z,{boardId:e.id,onBoardSelected:function(n){return j(n,e)}},e.id)})})]}))}},642942:function(e,n,t){"use strict";t.d(n,{Wx:function(){return L},ZP:function(){return M}});var r=t(387784),i=t(581722),o=t(653551),a=t(20256),l=t(924591),s=t(24246),c=t(528630),u=t(271202),d=t(134136),f=t(577356),p=t(809802),h=t(289817),g=t(669692),m=t(310758),y=t(753398),v=t(27399),b=t(660322),_=t(407775),x=function(e){return function(n){var t=e.source,r=e.target,i=e.pinIds;if(n({type:"PINS_MOVE",payload:e}),t.boardlessPins||r.boardId!==t.boardId){var o={board_id:r.boardId,pin_ids:i,section_id:r.sectionId};return v.Z.create("BulkEditResource",o).callUpdate()}if(r.sectionId){var a={section_id:r.sectionId,pins:i},l="BoardSectionEditResource";return v.Z.create(l,a).callUpdate().then(function(e){var t=(0,y.Fv)(e.resource_response.data,_.Z[l]);return n((0,b.XM)(l,a,e,t)),e})}var s={section_id:t.sectionId,pins:i};return v.Z.create("BoardSectionPinsResource",s).callDelete()}},P=t(577348),S=t(254889),w=t(453799),j=t(680811);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach(function(n){F(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function T(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function A(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){T(o,r,i,a,l,"next",e)}function l(e){T(o,r,i,a,l,"throw",e)}a(void 0)})}}function B(e,n){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function E(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,n,t){return(n=Z(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Z(e){var n=function(e,n){if("object"!=I(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=I(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==I(n)?n:n+""}function z(e,n,t){return e?t._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):n?t._('Saved to section!', ' - ', ' -- '):t._('Saved to board!', ' - ', ' -- ')}function L(e){var n=e.onAddNewSection,t=e.useIconWithBackground,r=(0,s.Z)();return(0,j.jsx)(c.Z,{alignCenter:t,height:t?p.y:p.T,children:(0,j.jsx)(m.Z,{onTouch:n,pressState:"none",children:(0,j.jsxs)(a.xu,{alignItems:"center","data-test-id":"addSectionButton",display:"flex",padding:+!t,children:[t?(0,j.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,j.jsx)(a.JO,{accessibilityLabel:r._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button'),color:"default",icon:"add",size:20})}):(0,j.jsx)(a.JO,{accessibilityLabel:r._('Add section button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),t?(0,j.jsx)(a.xu,{marginStart:2,children:(0,j.jsx)(a.xv,{size:"400",weight:"bold",children:r._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,j.jsx)(a.xu,{marginStart:3,children:(0,j.jsx)(a.xv,{weight:"bold",children:r._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}var D=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&B(i,e);var n,t,r=(n=C(),function(){var e,t=R(i);return e=n?Reflect.construct(t,arguments,R(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==I(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return E(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return F(E(e=r.call.apply(r,[this].concat(t))),"onRepinToBoard",function(n){n.section_count?e.props.onRepinToBoardWithSections(n):e.props.repinToOtherBoard(n.id,e.props.i18n)}),e}return t=[{key:"render",value:function(){var e=this.props,n=e.boardId,t=e.boardSectionId,r=e.orginalBoardId,i=e.onAddNewSection,o=e.repin,l=e.hideBoardPickerRow,s=e.selectedPinIds,c=e.isCollaborative,f=r===n;return(0,j.jsxs)(d.default,{hasFixedHeader:!0,children:[(0,j.jsxs)(u.default,{hasBorder:!0,height:140,children:[(0,j.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,j.jsx)(a.xu,{column:2,children:(0,j.jsx)(S.default,{})}),(0,j.jsx)(a.xu,{column:8,children:(0,j.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,j.jsx)(a.xu,{column:2})]}),(0,j.jsx)(g.Z,{selectedPinIds:s})]}),n&&(0,j.jsx)(w.Z,{boardId:n,hideBoardPickerRow:f&&l,originalBoardId:r,repin:o,sectionId:t}),f&&(0,j.jsxs)(a.xu,{children:[!c&&(0,j.jsx)(h.Z,{excludeBoardId:n,hideSectionPickerList:!0,onRepin:this.onRepinToBoard}),(0,j.jsx)(L,{onAddNewSection:i})]})]})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z(r.key),r)}}(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.PureComponent),M=function(e){var n,t,r=e.inSelectAll,a=e.pinIds,c=e.orginalBoardId,u=e.boardSectionId,d=e.onRefreshBoardSection,p=e.url,h=(0,f.dI)().showToast,g=(0,s.Z)(),m=(0,o.s0)(),y=(0,i.I0)(),v=(n=A(regeneratorRuntime.mark(function e(n,t,i){var o,s,f,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t&&t.id,s={boardId:c,sectionId:u},f={boardId:n,sectionId:o},g=r?(0,P.Z)({source:s,target:f,excludePinIds:a}):x({source:s,target:f,pinIds:a}),c===n){e.next=10;break}return e.next=7,y(g);case 7:m(p,{}),e.next=15;break;case 10:return e.next=12,y(g);case 12:if(!d){e.next=15;break}return e.next=15,d();case 15:h(function(e){var n=e.hideToast;return(0,j.jsx)(l.Z,{onHide:n,text:z(r,o,i)})});case 16:case"end":return e.stop()}},e)})),function(e,t,r){return n.apply(this,arguments)}),b=(t=A(regeneratorRuntime.mark(function e(n,t){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={boardId:c,sectionId:u},o={boardId:n,sectionId:void 0},h(function(e){var n=e.hideToast;return(0,j.jsx)(l.Z,{onHide:n,text:z(r,void 0,t)})}),e.next=5,y(r?(0,P.Z)({source:i,target:o,excludePinIds:a}):x({source:i,target:o,pinIds:a}));case 5:m(-2);case 6:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)});return(0,j.jsx)(D,O(O({},e),{},{i18n:g,repin:v,repinToOtherBoard:b}))}},669692:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(387784),i=t(20256),o=t(24246),a=t(228612),l=t(680811);function s(e){var n=e.selectedPinIds,t=(0,o.Z)(),s=(0,r.useRef)(null),c=(0,a.JC)(),u=(n||[]).map(function(e){return c[e]}).filter(Boolean);(0,r.useEffect)(function(){var e=s.current;e&&(e.scrollLeft=e.scrollWidth-e.offsetWidth)},[u]);var d=u.map(function(e,n){var r,o,a,s=e.description,c=e.images,u=null==c?void 0:c["236x"];return(0,l.jsx)(i.xu,{marginEnd:1,children:(0,l.jsx)(i.zd,{height:65,rounding:2,wash:!0,width:50,children:(null==u?void 0:u.url)&&(0,l.jsx)(i.Ee,{alt:!!(null!=s&&s.trim())&&(null==s?void 0:s.trim())||t._('Selected Pin', 'SelectedPinsPreview.image.accessibilityLabel', 'Accessibility label for Pin image without description'),color:null!=(r=e.dominant_color)?r:"",fit:"contain",naturalHeight:null!=(o=null==u?void 0:u.height)?o:1,naturalWidth:null!=(a=null==u?void 0:u.width)?a:1,src:u.url})})},n)});return(0,l.jsx)(i.xu,{ref:s,display:"flex",marginTop:2,overflow:"scroll",children:d})}},809802:function(e,n,t){"use strict";t.d(n,{T:function(){return r},y:function(){return i}});var r=70,i=80},26499:function(e,n,t){"use strict";t.d(n,{Bb:function(){return g},Bx:function(){return l},F4:function(){return a},Qj:function(){return s},_6:function(){return h},gv:function(){return o},hg:function(){return c},is:function(){return f},jP:function(){return p},lt:function(){return i},oM:function(){return u},wI:function(){return d}});var r=t(575820),i=function(e){return e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal')},o=function(e){var n=e.firstName,t=e.i18n;return n?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",n):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board')},a=function(e){var n=(0,r.mB)(e.search).board_url;if(n){var t=(0,r.Jx)(n),i=(0,r.XP)({accept_invite:!0,seamless:!0});return t.includes("?")?"".concat(t,"&").concat(i):"".concat(t,"?").concat(i)}return e.pathname},l=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},s=function(e){var n=e.pathname;if(n.startsWith("/pin/")){var t=n.split("/");if(t.length>2)return"/".concat(t[1],"/").concat(t[2],"/repin/")}return n},c=function(e){return e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.')},u=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},d=function(e){var n=e.pathname;if(n.startsWith("/pin/")){var t=n.split("/");if(t.length>2)return"/".concat(t[1],"/").concat(t[2],"/edit/")}return n},f=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},p=function(e){return e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.')},h=function(e){return e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.')},g=function(e){return e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')}},454985:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(24246),i=t(26499),o=t(36776),a=t(680811);function l(e){var n=e.children,t=e.callbackFunction,l=e.modalHeader,s=e.nextLocation,c=(0,r.Z)(),u=(0,o.m)(),d=u.viewer,f=u.loginForMore,p=u.limitedLoginModalSubheader,h=u.limitedLoginModalNextLocation,g="LIMITED_LOGIN"===d.type;return(0,a.jsx)("div",{onClickCapture:function(e){g&&(t&&t(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),null==f||f.setVisible(!0),null==p||p.setText(l||(0,i.lt)(c)),s&&(null==h||h.setRoute(s)))},children:n})}},38359:function(e,n,t){"use strict";t.d(n,{BT:function(){return R},Du:function(){return Z},Fh:function(){return A},HY:function(){return F},HZ:function(){return E},Jw:function(){return v},Kp:function(){return N},L7:function(){return r},LT:function(){return d},Lj:function(){return D},Nw:function(){return j},Q_:function(){return w},Qc:function(){return i},R5:function(){return k},RA:function(){return I},Tt:function(){return T},UF:function(){return c},UV:function(){return a},VB:function(){return _},W1:function(){return o},Ws:function(){return f},X5:function(){return O},Yt:function(){return C},ZW:function(){return s},cK:function(){return x},cy:function(){return y},fA:function(){return L},gm:function(){return b},h7:function(){return S},k:function(){return g},mE:function(){return M},o4:function(){return h},oL:function(){return z},qf:function(){return p},tr:function(){return u},uD:function(){return P},uO:function(){return m},vF:function(){return l},wJ:function(){return B}});var r=1,i=2,o="female",a="male",l="unspecified",s="en-US",c="US",u=3,d="Welcome",f="Gender",p="CountryLocale",h="InterestPicker",g="UseCase",m="PinPicker",y="LoadingStep",v="AppInstall",b="NUX_PIN_PICKER_STEP_STATUS",_="NUX_USE_CASE_STEP_STATUS",x={NUX_GENDER_STEP_NAME:f,NUX_COUNTRY_LOCALE_STEP_NAME:p,NUX_INTEREST_PICKER_STEP_NAME:h,NUX_USE_CASE_STEP_NAME:g,NUX_PIN_PICKER_STEP_NAME:m,NUX_LOADING_STEP_NAME:y,NUX_APP_INSTALL_STEP_NAME:v},P=2,S=3,w=6,j=112,I=160,k=60,O=1e3,T=2500,A=1900,B=2e3,E=3,C=1,R=3,F=3,Z=5e3,z=250,L=1e10,D=507641,M=300,N=200},63959:function(e,n,t){"use strict";t.d(n,{Z:function(){return N}});var r=t(387784),i=t(400904),o=t(20256),a=t(230201),l=t(24246),s=t(564377),c=t(893957),u=t(59111),d=t(680811);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function h(e){var n,t=e.addedStyles,i=e.button,a=e.headerText,l=e.icon,s=e.iconOverride,c=e.minHeight,h=e.subHeaderText;return(0,d.jsx)(o.xu,{display:"flex",justifyContent:"center",paddingX:2,width:"100vw",children:(0,d.jsxs)(o.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==f(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(".concat(-20,"px)")},t)},display:"flex",minHeight:c||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(n=s||(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(u.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,d.jsx)(o.xu,{alignItems:"center",color:"education",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},"data-test-id":"pin-save-toast",direction:"column",display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,d.jsx)(o.JO,{accessibilityLabel:l.accessibilityLabel,color:l.color,dangerouslySetSvgPath:l.dangerouslySetSvgPath,icon:l.icon,inline:l.inline,size:l.size})})]}),(0,d.jsx)(o.xu,{marginEnd:4,children:n})),(0,d.jsxs)(o.xu,{"data-test-id":"pin-save-toast-header",marginEnd:"auto",children:[(0,d.jsx)(o.xv,{color:"default",weight:"bold",children:a}),!!h&&(0,d.jsx)(o.xu,{paddingY:1,children:(0,d.jsx)(o.xv,{color:"default",size:"300",children:h})})]}),(0,d.jsx)(o.xu,{display:"flex",flex:"shrink",marginStart:2,children:i})]})})}var g=t(309511);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach(function(n){j(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return _(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function x(e,n){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function P(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(S=function(){return!!e})()}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,n,t){return(n=I(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function I(e){var n=function(e,n){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==m(n)?n:n+""}var k=function(e,n){return(e-n)/2},O=k(68,68),T=k(68,66),A=k(68,60),B="cubicBezier(0.25, 0.1, 0.25, 1)",E="encourageToastIconContainer",C="encourageToastIconRadiateBg",R="encourageToastIconRadiateRing",F={targets:"#".concat(E),duration:300,scale:1.4,easing:B},Z={targets:"#".concat(E),duration:300,scale:1,easing:B,endDelay:1e3},z={targets:"#".concat(E),duration:300,scale:.42,easing:B},L={targets:"#".concat(C),duration:400,opacity:0,scale:1.6,easing:B},D={targets:"#".concat(R),duration:650,opacity:0,scale:2,easing:B},M=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&x(a,e);var n,t,r=(n=S(),function(){var e,t=w(a);return e=n?Reflect.construct(t,arguments,w(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==m(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return P(e)}(this,e)});function a(){var e;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,t=Array(n),l=0;l<n;l++)t[l]=arguments[l];return j(P(e=r.call.apply(r,[this].concat(t))),"delayTimer",null),j(P(e),"requestAnimationFrameId",null),j(P(e),"playAnimation",function(){e.requestAnimationFrameId=window.requestAnimationFrame(function(){(0,i.Z)(L),(0,i.Z)(D),(0,i.Z)(F).finished.then(function(){(0,i.Z)(Z).finished.then(function(){i.Z.set("#".concat(E),{transformOrigin:"top right"}),(0,i.Z)(z)})})})}),j(P(e),"getHeaderText",function(){var n=e.props.text;return Array.isArray(n)?n[0]:n}),j(P(e),"getIconProps",function(){return{accessibilityLabel:e.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30}}),j(P(e),"getSubHeaderText",function(){var n=e.props.text;return n instanceof Array&&n.length>1&&n[1]?n[1]:""}),j(P(e),"renderAnimatedIcon",function(){return(0,d.jsxs)(o.xu,{height:68,position:"relative",width:68,children:[(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:"".concat(A,"px"),top:"".concat(A,"px")}},"data-test-id":"pin-save-toast",height:60,overflow:"hidden",position:"absolute",rounding:4,width:60,children:e.props.thumbnail}),(0,d.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},height:68,id:E,position:"absolute",width:68,children:[(0,d.jsx)(o.xu,{color:"infoBase",dangerouslySetInlineStyle:{__style:{left:"".concat(O,"px"),top:"".concat(O,"px"),transform:"scale(0)"}},height:68,id:C,position:"absolute",rounding:"circle",width:68}),(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:"".concat(T,"px"),top:"".concat(T,"px"),transform:"scale(0)"}},height:66,id:R,opacity:1,position:"absolute",rounding:"circle",width:66}),(0,d.jsx)(o.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:68,justifyContent:"center",minHeight:68,minWidth:68,position:"absolute",rounding:"circle",width:68,children:(0,d.jsx)(o.JO,{accessibilityLabel:e.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]})}),e}return t=[{key:"componentDidMount",value:function(){this.delayTimer=setTimeout(this.playAnimation,700)}},{key:"componentWillUnmount",value:function(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}},{key:"render",value:function(){var e=this.props,n=e.isRepinToExistingBoard,t=e.button;return(0,d.jsx)(h,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:n?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}(a.prototype,t),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);function N(e){var n,t,i=e.duration,u=e.onHide,f=e.isQuickSave,p=(0,l.Z)(),h=b((0,r.useState)(!1),2),m=h[0],y=h[1],_=b((0,r.useState)(!1),2),x=_[0],P=_[1],S=(0,r.useRef)(void 0),w=(0,a.u)().logContextEvent,j=function(){y(!0),S.current=setTimeout(u,200)},I=function(){S.current&&clearTimeout(S.current)},k=function(){S.current=setTimeout(j,i||g.w)};(0,c.Z)(function(){return setTimeout(function(){return P(!0)},100),k(),I});var O=(0,d.jsx)(M,v(v({},e),{},{i18n:p}));return e.href&&(O=(0,d.jsx)(o.rU,{href:e.href,onClick:function(){f&&w({event_type:102,component:14409}),j()},rounding:"pill",tapStyle:"none",children:O})),(0,d.jsx)(s.Z,{children:(0,d.jsx)(o.mh,{children:(0,d.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:v({},(t=(n={hiding:m,visible:x}).hiding,n.visible?t?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s",pointerEvents:"none"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})))},display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:g.k,children:O})})})}},603909:function(e,n,t){"use strict";t.d(n,{_:function(){return p},Z:function(){return h}});var r=t(387784),i=t(20256),o=t(24246),a=t(748261),l=t(228612),s=t(680811);function c(e){var n,t,r=e.pinId,i=(0,l.S6)()(r);if(!i)return null;var o=[{url:null==(n=i.images)||null==(t=n["236x"])?void 0:t.url,name:i.grid_title||""}].filter(function(e){return e.url});return(0,s.jsx)(a.Z,{images:o})}var u=(0,r.lazy)(function(){return Promise.resolve().then(t.bind(t,662911))}),d=function(){return (0, o.Z)()._('Sweet save!', 'Header text on toast that appears after user creates their first board', 'Header text on toast that appears after user creates their first board')},f=function(){return (0, o.Z)()._('All your boards live on your profile', 'Subheader text on toast that appears after user creates their first board', 'Subheader text on toast that appears after user creates their first board')},p=function(e){return(0,s.jsx)(i.zd,{rounding:4,children:(0,s.jsxs)(i.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,s.jsx)(i.sg,{span:8,children:(0,s.jsx)(i.xu,{"data-test-id":"pin-save-toast",height:36,width:36,children:e?(0,s.jsx)(i.Ee,{alt:"",color:"secondary",fit:"cover",naturalHeight:1,naturalWidth:1,src:e}):(0,s.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})}),(0,s.jsx)(i.sg,{span:5,children:(0,s.jsxs)(i.xu,{height:"100%",children:[(0,s.jsx)(i.xu,{height:"49%",position:"relative",children:(0,s.jsx)(i.xu,{color:"secondary",overflow:"hidden",width:"100%",children:(0,s.jsx)(i.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,s.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})})}),(0,s.jsx)(i.xu,{height:"3%",position:"relative",children:(0,s.jsx)(i.xu,{color:"transparent",overflow:"hidden",width:"100%",children:(0,s.jsx)(i.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,s.jsx)(i.xu,{color:"transparent",height:"100%",width:"100%"})})})}),(0,s.jsx)(i.xu,{height:"49%",position:"relative",children:(0,s.jsx)(i.xu,{color:"secondary",overflow:"hidden",width:"100%",children:(0,s.jsx)(i.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,s.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})})})]})})]})})},h=function(e){var n=e.boardId,t=e.getReduxBoard,o=e.isFBC,a=e.pinId,l=e.viewType,p=t(n);return{duration:5e3,thumbnail:(0,s.jsx)(i.xu,{"data-test-id":"pin-save-toast",children:(0,s.jsx)(r.Suspense,{children:a?(0,s.jsx)(c,{pinId:a}):(0,s.jsx)(u,{boardKey:p?{type:"Legacy",data:p}:null,type:"thumbnail",viewType:l})})}),text:o?[(0,s.jsx)(d,{},"0"),(0,s.jsx)(f,{},"1")]:void 0}}},741423:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(387784),i=t(581722),o=t(577356),a=t(38359),l=t(956701);function s(){var e=(0,i.I0)(),n=(0,o.dI)(),t=n.showToast,s=n.showOneToast,c=(0,i.oR)(),u=(0,r.useCallback)(function(n,r){r||e((0,l.a5)()),t(n)},[e,t]);return{showToast:t,showOneToast:s,showRepinConfirmation:function(n,t){t||e((0,l.WF)()),setTimeout(function(){c.getState().session.isShowingRepinConfettiAnimation?setTimeout(function(){u(n,t)},a.wJ):u(n,t)},a.Tt)}}}},652436:function(e,n,t){"use strict";t.d(n,{ZP:function(){return to},vY:function(){return ti}});var r,i,o,a,l,s,c,u,d,f,p,h=t(387784),g=t(581722),m=t(115821),y=t(653551),v=t(347564),b=t(20256),_=t(27399),x=t(104999),P=t(375217),S=t(465784),w=t(289935),j=t(935059),I=t(183e3),k=t(281215),O=t(24246),T=t(31725),A=t(783734),B=t(501010),E=t(890678),C=t(565649),R=t(739405),F=t(893957),Z=t(328299),z=t(160587),L=t(604100),D=t(214119),M=t(157498),N=(void 0!==r||(r=t(609464)).hash&&"a8967078f1de7ce3a263a224d0d0e710"!==r.hash&&console.error("The definition of 'useFetchBoardTitleSuggestionsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),K=function(e){var n,t,r,i=(0,m.useLazyLoadQuery)(N,{pinId:e}).v3GetPinQuery;if(null==i||null==(n=i.error)?void 0:n.message)throw null==i?void 0:i.error;return(null==i||null==(t=i.data)||null==(r=t.boardTitleSuggestions)?void 0:r.map(function(e){return e.title}).filter(Boolean))||[]},H=t(367683),U=t(924591),W=t(577356),G=t(592656),V=t(741423),X=t(987072),q=t(862564),Y=t(322360),Q=t(500912),J=t(680811);function $(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return ee(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ee(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var en=(void 0!==i||(i=t(34554)).hash&&"b3ec14d29962e56f80dd52e7e6d7a6d9"!==i.hash&&console.error("The definition of 'RepinAddSection_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function et(e){var n=e.createSectionAndRepin,t=e.errorMessage,r=e.i18n,i=e.pin,o=e.setErrorMessage,a=e.useRoundedCorners,l=$((0,h.useState)(""),2),s=l[0],c=l[1];return(0,J.jsx)(G.Z,{backButtonIcon:"arrow-back",errorMessage:t,name:s,onNameChange:function(e){o(""),c(e.target.value)},onNextButtonTouch:function(){n(s,r)},selectedPinIds:[i.entityId],useRoundedCorners:a})}function er(e){var n=e.boardId,t=e.isEditingPin,r=e.onSuccess,i=e.pinKey,o=e.pinBoardId,a=e.pinSectionId,l=e.trackingParams,s=e.useRoundedCorners,c=(0,I.Z)(en,i),u=(0,g.I0)(),d=(0,y.s0)(),f=(0,O.Z)(),p=(0,W.dI)().showToast,m=(0,x.Z)(),v=(0,Q.n)(),b=(0,B.Z)().checkExperiment,_=(0,H.cO)(),P=$((0,h.useState)(""),2),S=P[0],w=P[1],j=(0,V.Z)().showRepinConfirmation,k=function(e){return d(e)};return(0,J.jsx)(et,{createSectionAndRepin:function(e){var i=function(e){return w(e.message_detail||e.message)};u((0,X.Z)(n,[],e,m)).then(function(e){p(function(e){var n=e.hideToast;return(0,J.jsx)(U.Z,{onHide:n,text:f._('Section added!', ' - ', ' -- ')})});var s,h=e.resource_response.data;u((0,Y.w)({checkExperiment:b,i18n:f,logContextEvent:m,pinId:c.entityId,boardId:n,onSuccess:t?void 0:function(){_("Save",{pin_id:c.entityId}),r()},showRepinConfirmation:j,section:h,trackingParams:{clientTrackingParams:l,pinnedToBoardId:c.pinnedToBoard?c.pinnedToBoard.entityId:""},historyPush:k,savePinId:null!=(s=null==v?void 0:v.save)?s:function(){}})).then(function(){c&&o&&u((0,q.q)({pinId:c.entityId,boardId:o,boardSectionId:a,clientTrackingParams:l})).then(function(){var e;return c.pinnedToBoard?d(null!=(e=c.pinnedToBoard.url)?e:"",{replace:!0}):void 0})}).catch(i)}).catch(i)},errorMessage:S,i18n:f,pin:c,setErrorMessage:w,useRoundedCorners:s})}var ei=t(520803);function eo(){var e,n,t,r=(0,y.TH)(),i=(0,ei.Z)().params,o=i.boardId,a=i.id,l=new URLSearchParams(r.search);return{boardId:o,pinId:a,isEditingPin:!!l.get("isEditingPin"),pinBoardId:null!=(e=l.get("pinBoardId"))?e:"",pinSectionId:null!=(n=l.get("pinSectionId"))?n:"",originalPinId:null!=(t=l.get("originalPinId"))?t:"",isFromToast:!!l.get("isFromToast")}}var ea=(void 0!==o||(o=t(104922)).hash&&"2d5f10a7f4e54a8cf9118f134bcd7386"!==o.hash&&console.error("The definition of 'MobileRepinCreateScreen_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function el(e){var n=e.pinKey,t=e.trackingParams,r=e.useRoundedCorners,i=(0,I.Z)(ea,n),o=(0,y.s0)(),a=eo(),l=a.boardId,s=a.isEditingPin,c=a.pinBoardId,u=a.pinSectionId;return l?(0,J.jsx)(er,{boardId:l,isEditingPin:s,onSuccess:function(){o(-3)},pinBoardId:c,pinKey:i,pinSectionId:u,trackingParams:t,useRoundedCorners:r}):null}var es=t(216975),ec=t(583845),eu=t(271202),ed=t(134136),ef=t(642942),ep=t(919203),eh=t(250704);function eg(e,n){return!!(e&&e.placement_id&&e.experience_id===n)}var em=t(26499),ey=t(454985),ev=t(39722),eb=t(802108);function e_(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return ex(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ex(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ex(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var eP="cubic-bezier(0.66, 0.025, 0.33, 0.975)",eS=(0,eb.qe)(function(e,n,t,r,i){var o=e,a=n,l=0,s=0,c="",u=Math.floor(n/3);if("shrinkToPin"===t&&(l="24px",s=1,o=Math.floor(3*u/2),a=u),"pinToGrid"===t&&r&&i){var d=r.getBoundingClientRect(),f=i.getBoundingClientRect(),p=f.x+f.width/2-(d.x+d.width/2),h=f.y+f.height/2-(d.y+d.height/2);c="translate(".concat(p,"px, ").concat(h,"px)"),l="24px 0px 0px 24px",s=1,o=u,a=u}return{borderRadius:l,height:o,opacity:s,overflow:"hidden",width:a,WebkitTransformOrigin:"center center",transformOrigin:"center center",WebkitTransform:c,transform:c,WebkitTransition:"all .42s ".concat(eP),transition:"all .42s ".concat(eP)}}),ew=(0,eb.qe)(function(e){return{opacity:+!!e,WebkitTransition:"opacity .42s ".concat(eP),transition:"opacity .42s ".concat(eP)}}),ej=(0,eb.qe)(function(e){return{opacity:+!e,WebkitTransition:"all .25s ".concat(eP),transition:"all .25s ".concat(eP),zIndex:3}});function eI(e){var n,t,r,i,o=e.completeExperience,a=e.pinDominantColor,l=e.pinImageHeight,s=e.pinImageWidth,c=e.pinImageUrl,u=(0,O.Z)(),d=e_((0,h.useState)("visible"),2),f=d[0],p=d[1],g=e_((0,h.useState)("none"),2),m=g[0],y=g[1],v=window.innerWidth,_=Math.floor(v/3),x=Math.floor(v/6);(0,h.useEffect)(function(){c&&"none"===m&&(n=setTimeout(function(){y("shrinkToPin")},85)),c&&"shrinkToPin"===m&&(t=setTimeout(function(){y("pinToGrid")},2e3)),"pinToGrid"===m&&"visible"===f&&(r=setTimeout(function(){p("hidden")},2e3)),"hidden"===f&&(i=setTimeout(function(){p("none"),o()},300))}),(0,h.useEffect)(function(){return function(){clearTimeout(n),clearTimeout(t),clearTimeout(r),clearTimeout(i)}},[]);var P=(0,h.useRef)(null),S=(0,h.useRef)(null);return(0,J.jsxs)(b.xu,{alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:ej("hidden"===f)},direction:"column",display:"none"===f?"none":"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,children:[(0,J.jsxs)(b.xu,{alignItems:"center",display:"flex",height:v/2,justifyContent:"center",marginBottom:8,position:"relative",width:"100%",children:[(0,J.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:ew("pinToGrid"===m)},position:"absolute",children:(0,J.jsx)(b.zd,{height:_,rounding:6,width:_+x+1,children:(0,J.jsxs)(b.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,J.jsx)(b.xu,{ref:S,color:"transparent",height:_,width:_}),(0,J.jsxs)(b.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,J.jsx)(b.xu,{color:"secondary",height:x,width:x}),(0,J.jsx)(b.xu,{color:"secondary",height:x,width:x})]})]})})}),(0,J.jsx)(b.xu,{ref:P,dangerouslySetInlineStyle:{__style:eS(l/s*v,v,m,P.current,S.current)},position:"absolute",children:(0,J.jsx)(b.Ee,{alt:u._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:a,fit:"cover",naturalHeight:l,naturalWidth:s,src:c})})]}),(0,J.jsx)(b.xu,{marginBottom:8,marginTop:8,paddingX:12,children:(0,J.jsx)(b.X6,{align:"center",size:"600",children:u._('Keep your ideas organized by creating a board', 'boardPicker.edu.heading', 'board create education shown before user create their first board')})})]})}var ek=t(603909),eO=t(63959),eT=t(178315);function eA(e){return(eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eB(e,n){return(eB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function eE(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eC=function(){return!!e})()}function eR(e){return(eR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eF(e,n,t){return(n=eZ(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function eZ(e){var n=function(e,n){if("object"!=eA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=eA(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==eA(n)?n:n+""}var ez=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],eL=function(e,n){return Math.random()*((e||1)-(n||0))+(n||0)},eD=function(e){return Math.PI/180*e},eM=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&eB(i,e);var n,t,r=(n=eC(),function(){var e,t=eR(i);return e=n?Reflect.construct(t,arguments,eR(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==eA(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return eE(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return eF(eE(e=r.call.apply(r,[this].concat(t))),"animationTimer",null),eF(eE(e),"canvasRemovalTimer",null),eF(eE(e),"childrenContainerRef",(0,h.createRef)()),eF(eE(e),"containerRef",(0,h.createRef)()),eF(eE(e),"buildCanvas",function(){if(!e.containerRef.current)return null;var n=window.innerWidth,t=e.containerRef.current.getBoundingClientRect(),r=t.height,i=t.top,o=document.createElement("canvas");return o.style.position="absolute",o.style.left="0px",o.style.top="".concat(i-(n-r)/2,"px"),o.style.pointerEvents="none",o.style.width="".concat(n,"px"),o.style.height="".concat(n,"px"),o.width=n,o.height=n,o}),eF(eE(e),"explode",function(){var n=e.buildCanvas();if(n){var t=e.containerRef.current,r=e.childrenContainerRef.current,i=n.getContext("2d");null==t||t.insertBefore(n,r);var o=Array.from(Array(120)).map(function(){return{x:n.width/2,y:n.height/2,radius:Math.round(eL(10,30)),color:ez[Math.floor(Math.random()*ez.length)],degree:Number(eL(0,360).toFixed(1)),speed:Math.round(eL(0,25)),friction:.9,opacity:Number(eL(0,.5).toFixed(1)),yVel:0,gravity:.04}});i&&function e(n,t,r,i){window.requestAnimationFrame(function(){return e(n,t,r,i)}),t.clearRect(0,0,r,i),n.forEach(function(e){e.x+=e.speed*Math.cos(eD(e.degree)),e.y+=e.speed*Math.sin(eD(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})}(o,i,n.width,n.height),e.canvasRemovalTimer=setTimeout(function(){null==t||t.removeChild(n)},(e.props.delay||0)+1e3)}}),e}return t=[{key:"componentDidUpdate",value:function(e){var n=this.props,t=n.delay,r=n.startAnimation,i=e.startAnimation;r&&i!==r&&(this.animationTimer=setTimeout(this.explode,t))}},{key:"componentWillUnmount",value:function(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}},{key:"render",value:function(){return(0,J.jsx)(b.xu,{ref:this.containerRef,children:(0,J.jsx)(b.xu,{ref:this.childrenContainerRef,children:this.props.children})})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eZ(r.key),r)}}(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}(h.PureComponent);function eN(e){return(eN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eK(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function eH(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?eK(Object(t),!0).forEach(function(n){eq(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eK(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function eU(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function eW(e,n){return(eW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function eG(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eV=function(){return!!e})()}function eX(e){return(eX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eq(e,n,t){return(n=eY(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function eY(e){var n=function(e,n){if("object"!=eN(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=eN(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==eN(n)?n:n+""}eF(eM,"defaultProps",{delay:0});var eQ=function(e,n,t){var r,i,o=[],a=null==(r=n.current)?void 0:r.getBoundingClientRect(),l=null==(i=t.current)?void 0:i.getBoundingClientRect();if(a&&l){var s={x:l.left-a.left,y:l.top-a.top},c={x:l.width/a.width,y:l.height/a.height};o.push("translate(".concat(s.x,"px, ").concat(s.y,"px)")),o.push("scale(".concat(c.x,", ").concat(c.y,")"))}return{WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?o.join(" "):"none",transform:e?o.join(" "):"none",WebkitTransition:"all .5s ease-in-out",transition:"all .5s ease-in-out",borderRadius:e?"8px 0px 0px 0px":"8px",overflow:"hidden",marginBottom:24}},eJ=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&eW(i,e);var n,t,r=(n=eV(),function(){var e,t=eX(i);return e=n?Reflect.construct(t,arguments,eX(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==eN(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return eG(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return eq(eG(e=r.call.apply(r,[this].concat(t))),"state",{startAnimation:!1,animationStyles:null}),eq(eG(e),"dismissTimer",null),eq(eG(e),"pinRef",(0,h.createRef)()),eq(eG(e),"pinDestinationRef",(0,h.createRef)()),eq(eG(e),"handleAnimationAndCompletion",function(){var n=e.props,t=n.onComplete,r=n.savePin,i=n.selectedBoardName;if(i){var o=e.startAnimation();Promise.all([o,r(i)]).then(function(e){t((function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,c=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,2)||function(e,n){if(e){if("string"==typeof e)return eU(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?eU(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],i)}).catch(function(e){o.then(function(){var n;null==e||null==(n=e.onError)||n.call(e)})})}}),eq(eG(e),"startAnimation",function(){return new Promise(function(n){var t=eQ(!0,e.pinRef,e.pinDestinationRef);e.setState({startAnimation:!0,animationStyles:t},function(){e.dismissTimer=setTimeout(function(){n()},2600)})})}),e}return t=[{key:"componentWillUnmount",value:function(){this.dismissTimer&&clearTimeout(this.dismissTimer)}},{key:"componentDidUpdate",value:function(){var e=this.props.selectedBoardName,n=this.state.startAnimation;e&&!n&&this.handleAnimationAndCompletion()}},{key:"render",value:function(){var e=this,n=this.props,t=n.pinDominantColor,r=n.pinImageUrl,i=n.selectedBoardName,o=this.state,a=o.startAnimation,l=o.animationStyles;return(0,J.jsxs)(h.Fragment,{children:[(0,J.jsx)(b.Le,{top:eT.R$,zIndex:new b.Ry(3),children:(0,J.jsx)(b.xu,{alignItems:"center",color:a?"transparent":"default",display:"flex",justifyContent:"center",children:(0,J.jsx)(b.xu,{ref:this.pinRef,dangerouslySetInlineStyle:{__style:a&&l?l:eQ(!1,this.pinRef,this.pinDestinationRef)},height:84,position:"relative",width:84,children:(0,J.jsx)(b.Ee,{alt:this.props.i18n._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:t,fit:"cover",naturalHeight:84,naturalWidth:84,src:r})})})}),(0,J.jsx)(b.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:+!!a,WebkitTransition:"opacity .4s ease-in-out",transition:"opacity .4s ease-in-out",zIndex:2}},left:!0,position:"fixed",right:!0,top:!0,children:(0,J.jsxs)(b.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,J.jsx)(eM,{delay:1200,startAnimation:a,children:(0,J.jsx)(b.zd,{rounding:2,width:148,children:(0,J.jsx)(b.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:Array.from([,,,,]).map(function(n,t){var r=t<=1,i=t%2,o=0===t?e.pinDestinationRef:null;return(0,J.jsx)(b.xu,{ref:o,color:0===t?"transparent":"secondary",height:72,marginBottom:+!!r,marginEnd:+!i,width:72},t)})})})}),(0,J.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{opacity:+!!a,WebkitTransform:a?"translateY(0)":"translateY(20%)",transform:a?"translateY(0)":"translateY(20%)",WebkitTransition:"all .25s ease-in-out .5s",transition:"all .25s ease-in-out .5s",textAlign:"center",marginTop:"50px"}},paddingX:4,children:(0,J.jsx)(b.X6,{children:(0,es.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First repin confirmation message', 'First repin confirmation message'),{selectedBoardName:i})})})]})})]})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eY(r.key),r)}}(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}(h.PureComponent),e$=function(e){var n=(0,O.Z)();return(0,J.jsx)(eJ,eH(eH({},e),{},{i18n:n}))},e0=t(210730),e1=t(914253),e2=t(254889),e3=t(131076),e6=t(64471),e8=t(335335),e5=t(236269),e4=t(233597),e7=t(660322),e9=t(200619),ne=t(601871),nn=t(2061),nt=t(120100),nr=t(779686),ni=t(679602),no=t(137568),na=t(72034),nl=t(438274),ns=t(828890);function nc(e){var n=e.pinId,t=e.handleSelected,r=e.surfaceOriginViewParameter,i=(0,O.Z)(),o=(0,x.Z)();return(0,h.useEffect)(function(){o({view_parameter:3990,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:r,pin_id:n}})},[]),(0,J.jsx)(b.iP,{onTap:function(){t(!1,null)},rounding:2,children:(0,J.jsxs)(b.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4,rounding:2,children:[(0,J.jsx)(b.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",rounding:2,width:48,children:(0,J.jsx)(b.JO,{accessibilityLabel:i._('Profile', 'save.ProfilePickerRow.IconAccessibilityLabel', 'Accessibility label for icon on option to save Pin to profile'),color:"default",icon:"history",size:22})}),(0,J.jsx)(b.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,overflow:"hidden",width:"100%",children:(0,J.jsx)(b.xv,{lineClamp:1,size:"400",weight:"bold",children:i._('Profile', 'save.ProfilePickerRow', 'Option to save Pin to profile')})})]})})}var nu=t(204306);function nd(){var e=(0,nu.useRelayEnvironment)();return(0,h.useCallback)(function(n){e&&(0,nu.commitLocalUpdate)(e,function(e){var t;null==(t=e.get(n))||t.invalidateRecord()})},[e])}var nf=function(e){return e.map(function(e){var n,t;return{board_title_id:String(e.id),board_title_kind:JSON.parse(null!=(n=e.recommendation_reason)?n:"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(null!=(t=e.recommendation_reason)?t:"{}").score}})},np=function(e){return"profile"===e?3990:"topChoices"===e?3988:3989},nh=t(468491);function ng(e){return(ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nm(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function ny(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nv(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ny(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=ng(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=ng(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==ng(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ny(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nb=(void 0!==a||(a=t(917789)).hash&&"76b22cc5d658befe1dc27454d3aee77f"!==a.hash&&console.error("The definition of 'BoardPickerList_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),n_=function(e,n,t){return nv({field_set_key:"detailed",id:e,preserve_component_state:n},t?{orbac_subject_id:t}:Object.freeze({}))};function nx(e){var n,t,r=e.boards,i=e.boardsShortlist,o=void 0===i?[]:i,a=e.closeModal,l=e.dismissFlyout,s=e.navigate,c=e.isEditingPin,u=e.isFromToast,d=e.logContextEvent,f=e.onSelect,p=e.originalPinId,m=e.pinKey,v=e.pinBoardId,x=e.saveToProfileEnabled,P=e.surfaceOriginViewParameter,S=e.trackingParams,w=(0,O.Z)(),k=(0,y.TH)(),T=(0,I.Z)(nb,m),A=nd(),E=(0,g.I0)(),C=(0,nt.Z)(),R=(0,Q.n)(),Z=(0,ev.m)(),L=(0,H.cO)(),D=k.state&&k.state.isOneTapSave,N=(0,B.Z)().checkExperiment,K=(0,V.Z)(),W=K.showRepinConfirmation,G=K.showToast,X=function(e){return s(e)},q=o.map(function(e){return e.id});x&&q.unshift("PROFILE_PINS");var $=(0,e9.Z)(),ee=(0,j.Z)(),en=(0,M.LO)(),et=(0,ne.lJ)(ee,$),er=(0,nn.Yg)().logStat,ei=x&&N("mweb_curation_board_picker_reorder_profile_option").anyEnabled;(0,F.Z)(function(){q&&d({event_type:13,clientTrackingParams:S.clientTrackingParams,component:7,element:1001,view_type:3,aux_data:{pin_id:T.entityId,suggested_boards:q}})}),(0,h.useEffect)(function(){d({view_parameter:3988,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:P,pin_id:T.entityId,board_picker_suggested_boards:JSON.stringify(nf(o))}})},[o]);var eo=function(e){var n=e.boardId,t=e.i18n,r=e.isQuickSave,i=e.isBoardlessSave;return l(),er("main_pin_repin"),E((0,Y.w)({checkExperiment:N,i18n:t,isQuickSave:r,logContextEvent:d,pinId:T.entityId,boardId:n,onSuccess:function(){L("Save",{pin_id:T.entityId,is_promoted:T.isPromoted}),s(-1),(i||r)&&(0,nh.Z)({dispatch:E,viewerUser:en})},originalPinId:p,showRepinConfirmation:W,trackingParams:S,historyPush:X,suggestedBoardIds:q,savePinId:function(e,n){return null==Z||Z.save(e),null==R?void 0:R.save(e,n)}}))},ea=function(e){return E((0,z.Br)(e))},el=C({fn:(n=regeneratorRuntime.mark(function e(n,t,r){var i,o,l,d,p,h,g,m,y,b,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n&&t)){e.next=4;break}f(t,r),e.next=18;break;case 4:if(e.prev=4,c){e.next=12;break}return i=!(null!=t&&t.id),o="profile"===r,e.next=10,eo({boardId:null==t?void 0:t.id,i18n:w,isQuickSave:i,isBoardlessSave:o});case 10:if(l=e.sent)if(p=null==(d=l)?void 0:d.id,D){var P;P={boardId:null==t?void 0:t.id,localPinId:p,pinId:T.entityId,nodeId:T.__id},E((0,no.a)(nv({},P)))}else null!=T&&T.entityId&&E((0,na.Ur)({id:T.entityId,nodeId:T.__id,boardId:t.id,title:null!=(h=t.name)?h:"",url:null!=(g=t.url)?g:"",localPinId:p}));case 12:c&&(m=v,b=nv({board_id:y=null==t?void 0:t.id,id:T.entityId},et?{orbac_subject_id:et}:Object.freeze({})),x=m!==y,_.Z.create("PinResource",b).callUpdate().then(function(e){var n,t,r,i;x&&y&&m&&(n={selectedPinIds:[T.entityId],source:{boardId:m,sectionId:void 0},target:{boardId:y,sectionId:void 0}},E((0,ni.S)(n)),ea({boardId:y,sectionId:void 0,increment:1}),ea({boardId:m,sectionId:void 0,increment:-1}),ee.isAuth&&ee.id&&!m&&(t=ee.id,r=T.entityId,E((0,nr.EX)({feedId:t,feedType:nl.Z.BOARDLESS_PINS,itemIds:[r],itemType:"pin"})))),E((0,e4.b)("PinResource",{options:b})),i=T.entityId,E((0,e7.jB)("PinResource",n_(i,!0,et))),A(T.__id),E((0,e7.Sr)("PinResource",n_(e.resource_response.data.id,!1,et),e)),s(-1)}),u&&a()),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),G(function(n){var t=n.hideToast;return(0,J.jsx)(U.Z,{onHide:t,text:(0,e5.Z)(e.t0,"message")||w._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),type:"error"})});case 18:case"end":return e.stop()}},e,null,[[4,15]])}),t=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){nm(o,r,i,a,l,"next",e)}function l(e){nm(o,r,i,a,l,"throw",e)}a(void 0)})},function(e,n,r){return t.apply(this,arguments)}),modalHeader:(0,em.Bx)(w)}),es=(0,J.jsx)(nc,{handleSelected:function(e,n){return el(e,nv(nv({},n),{},{gridIndex:0}),"profile")},pinId:T.entityId,surfaceOriginViewParameter:P});return(0,J.jsxs)(b.kC,{direction:"column",gap:4,children:[(0,J.jsxs)(b.xu,{children:[x&&!ei&&es,o.length>0&&(0,J.jsx)(b.xu,{marginBottom:4,marginTop:2,children:(0,J.jsx)(b.X6,{accessibilityLevel:3,size:"300",children:(0,J.jsx)(b.xv,{inline:!0,children:w._('Top choices', 'boardPicker.header.topChoices', 'Header of a list of user\'s boards')})})}),o.map(function(e,n){return(0,J.jsx)(ns.Z,{boardId:e.id,onBoardSelected:function(t){return el(t,nv(nv({},e),{},{gridIndex:n}),"topChoices")},showSingleBoardRep:!0},e.id)})]}),(0,J.jsxs)(b.xu,{"data-test-id":"all-boards-list",children:[(0,J.jsx)(b.xu,{marginBottom:4,children:(0,J.jsx)(b.X6,{accessibilityLevel:3,size:"300",children:(0,J.jsx)(b.xv,{inline:!0,children:w._('All boards', 'RepinFlow.BoardPickerList.AllBoards', 'Board picker list all boards title')})})}),r.map(function(e,n){return(0,J.jsx)(ns.Z,{boardId:e.id,onBoardSelected:function(t){return el(t,nv(nv({},e),{},{gridIndex:n}),"allBoards")},showSingleBoardRep:!0},e.id)}),ei&&es]})]})}var nP=t(310758),nS=function(){return(0,J.jsx)(b.xu,{color:"secondary",display:"inlineBlock",height:60,minWidth:60,overflow:"hidden",position:"relative",rounding:4,children:(0,J.jsxs)(h.Fragment,{children:[(0,J.jsx)(b.xu,{color:"default",dangerouslySetInlineStyle:{__style:{left:"50%"}},height:"100%",position:"absolute",width:1}),(0,J.jsx)(b.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%"}},height:1,position:"absolute",right:!0,width:"50%"})]})})},nw=t(33285),nj=t(427475);function nI(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}var nk=(void 0!==l||(l=t(887802)).hash&&"69ffcdea57a7778d2ebbcd41c276c0d0"!==l.hash&&console.error("The definition of 'BoardTitleSuggestionList_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),nO=function(e){var n=e.allSuggestions,t=e.handleCreateBoard,r=e.index,i=e.isFBC,o=e.logContextEvent,a=e.pinViewParameter;t(),o({aux_data:{board_title_list:JSON.stringify(n),is_fbc:i.toString(),selected_board_title_index:r},component:7,element:23,event_type:102,view_parameter:a,view_type:3})};function nT(e){var n,t,r,i,o,a=e.isEditingPin,l=e.isFirstBoard,s=e.isFromToast,c=e.navigate,u=e.onFirstBoardCreate,d=e.originalPinId,f=e.pinBoardId,p=e.pinKey,m=e.pinSectionId,y=e.surfaceOriginViewParameter,v=e.titleSuggestions,_=e.clientTrackingParams,P=(0,x.Z)(),S=(0,nj.Z)(),w=(0,O.Z)(),j=(0,nt.Z)(),k=(0,V.Z)().showRepinConfirmation,T=(0,g.I0)(),A=(0,I.Z)(nk,p),E=A.entityId,C=(0,nw.A)({hasRichMetadata:!!A.richMetadata,hasRichMetadataProducts:!!(null!=(r=A.richMetadata)&&r.products),hasRichMetadataArticle:!!(null!=(i=A.richMetadata)&&i.article),hasRichMetadataRecipe:!!(null!=(o=A.richMetadata)&&o.recipe)}),R=(0,Q.n)(),F=(0,ev.m)(),Z=(0,e1.gC)(),z=(0,eh.Z)(_,A.trackingParams),L=function(e){return c(e)},D=(0,B.Z)().checkExperiment;(0,h.useEffect)(function(){P({view_parameter:3992,component:13282,event_type:13,view_type:21,aux_data:{board_picker_surface_origin:y,pin_id:E,board_title_suggestions:v}})},[]);var M=function(e){T((0,q.q)({pinId:E,boardId:f||"",boardSectionId:m,clientTrackingParams:e}))},N=(n=regeneratorRuntime.mark(function e(){var n,t,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(z);case 2:t=null==(n=A.pinnedToBoard)?void 0:n.url,A.section?c(null!=(i="".concat(null!=t?t:"").concat(null!=(r=A.section.slug)?r:"","/"))?i:"",{replace:!0}):c(null!=t?t:"",{replace:!0});case 4:case"end":return e.stop()}},e)}),t=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){nI(o,r,i,a,l,"next",e)}function l(e){nI(o,r,i,a,l,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)}),K=function(e){S({boardCreateOptions:{name:e,initial_pin_client_tracking_params:[_],privacy:"public"}}).then(function(n){var t=n||{},r=t.url,i=void 0===r?"":r,o=t.id;T((0,Y.w)({checkExperiment:D,i18n:w,logContextEvent:P,originalPinId:d,pinId:E,boardId:o,trackingParams:{clientTrackingParams:z,pinnedToBoardId:o},historyPush:L,savePinId:function(e,n){return null==F||F.save(e),null==R?void 0:R.save(e,n)}})).then(function(){a?s?c(-1):N():c(-1);var n=(0,e3.Z)(i,e,w),t=n.href,r=n.text,l=(0,ek.Z)({boardId:o,getReduxBoard:Z,pinId:E,viewType:3}),u=l.duration,d=l.text,f=l.thumbnail;k(function(e){var n=e.hideToast;return(0,J.jsx)(eO.Z,{duration:u,href:t,onHide:n,text:d||r,thumbnail:f})})})})},H=j({fn:function(e,n,t){P({view_parameter:3992,component:13282,element:23,event_type:101,view_type:91,aux_data:{board_picker_surface_origin:y,pin_id:E,board_title_suggestions:v}}),nO({allSuggestions:t,handleCreateBoard:function(){l?u(n):K(n)},index:e,isFBC:l,logContextEvent:P,pinViewParameter:C})},modalHeader:(0,em.Bb)(w)});return v?v.map(function(e,n,t){return(0,J.jsx)(b.xu,{children:(0,J.jsx)(nP.Z,{dataTestId:"board-suggestion-row-button",onTouch:function(){return H(n,e,t)},pressState:"none",rounding:2,children:(0,J.jsxs)(b.xu,{alignItems:"center",display:"flex",paddingY:2,rounding:2,children:[(0,J.jsx)(nS,{}),(0,J.jsx)(b.xu,{column:10,marginStart:3,children:(0,J.jsx)(b.X6,{size:"400",children:e})})]})},n)},n)}):null}var nA=(void 0!==s||(s=t(361817)).hash&&"475036dcb56a51d3552313200b8c9d45"!==s.hash&&console.error("The definition of 'RepinBoardPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function nB(e){var n=e.allBoards,t=e.saveToProfileEnabled,r=e.boardsShortlist,i=e.closeModal,o=e.dismissFlyout,a=e.navigate,l=e.isEditingPin,s=e.isFromToast,c=e.onSelect,u=e.originalPinId,d=e.shouldUseSaveToProfileBehavior,f=e.pin,p=e.pinBoardId,g=e.pinSectionId,m=e.trackingParams,y=(0,x.Z)();return(0,J.jsx)(h.Fragment,{children:(0,J.jsx)(nx,{boards:n,boardsShortlist:r,closeModal:i,dismissFlyout:o,isEditingPin:l,isFromToast:s,logContextEvent:y,navigate:a,onSelect:c,originalPinId:u,pinBoardId:p,pinKey:f,pinSectionId:g,saveToProfileEnabled:t||d,trackingParams:m})})}function nE(e){var n=e.allBoards,t=e.boardsShortlist,r=e.closeModal,i=e.saveToProfileEnabled,o=e.dismissFlyout,a=e.navigate,l=e.isEditingPin,s=e.isFirstRepinExperience,c=e.isFromToast,u=e.onFirstBoardCreate,d=e.originalPinId,f=e.onSelect,p=e.shouldUseSaveToProfileBehavior,h=e.pin,g=e.pinBoardId,m=e.pinSectionId,y=e.trackingParams,v=e.titleSuggestions,_=(0,O.Z)(),P=s||0===n.length&&!i,S=(0,x.Z)(),w=function(){return(0,J.jsx)(nT,{clientTrackingParams:y.clientTrackingParams,isEditingPin:l,isFirstBoard:P,isFromToast:c,navigate:a,onFirstBoardCreate:u,originalPinId:d,pinBoardId:g,pinKey:h,pinSectionId:m,titleSuggestions:v})};return P&&!p?(0,J.jsxs)(b.xu,{paddingX:1,children:[(0,J.jsx)(b.xu,{marginBottom:4,children:(0,J.jsx)(b.xv,{children:_._('Tap to create your first board', 'CTA for board title suggestions', 'Explain to user that tapping on suggestion creates a board')})}),w()]}):(0,J.jsxs)(b.xu,{marginBottom:4,children:[(0,J.jsx)(nx,{boards:n,boardsShortlist:t,closeModal:r,dismissFlyout:o,isEditingPin:l,isFromToast:c,logContextEvent:S,navigate:a,onSelect:f,originalPinId:d,pinBoardId:g,pinKey:h,pinSectionId:m,saveToProfileEnabled:i||p,trackingParams:y}),v?(0,J.jsxs)(b.xu,{children:[(0,J.jsx)(b.xu,{paddingY:1,children:(0,J.jsx)(e8.Z,{children:(0,J.jsx)(b.iz,{})})}),(0,J.jsx)(b.xu,{paddingY:4,children:(0,J.jsx)(b.xv,{children:_._('Or tap to create a new board', 'boardPicker.suggestedBoardName.title', 'Title for repin page suggested board name section')})}),w()]}):(0,J.jsx)(b.xu,{paddingY:6,children:(0,J.jsx)(b.xH,{accessibilityLabel:_._('Loading repin page content', ' - ', ' -- '),show:!0})})]})}function nC(e){var n,t=e.allBoards,r=e.boardsShortlist,i=e.closeModal,o=e.saveToProfileEnabled,a=e.dismissFlyout,l=e.navigate,s=e.isEditingPin,c=e.isFetchingBoards,u=e.isFirstRepinExperience,d=e.isFromToast,f=e.onFirstBoardCreate,p=e.onSelect,h=e.originalPinId,g=e.shouldUseSaveToProfileBehavior,m=e.pinKey,y=e.pinBoardId,v=e.pinDescription,_=e.pinSectionId,P=e.surfaceOriginViewParameter,S=e.saveSessionId,w=(0,I.Z)(nA,m),j=K(w.entityId),k=(0,O.Z)(),T=(0,x.Z)(),A={clientTrackingParams:(0,e6.Z)({pinKey:w}),pinnedToBoardId:w.pinnedToBoard?w.pinnedToBoard.entityId:""},E=function(e,n){T({event_type:101,component:13282,clientTrackingParams:A.clientTrackingParams,object_id_str:e.id,view_type:91,view_parameter:np(n),aux_data:{board_id:e.id,board_component:np(n),board_picker_surface_origin:P,board_picker_suggested_boards:JSON.stringify(nf(r)),board_title_suggestions:j,board_index:e.gridIndex,is_profile_save:"profile"===n,pin_id:w.entityId,save_session_id:S}}),p(e,n)};if(0===t.length&&c)return(0,J.jsx)(b.xu,{paddingY:2,children:(0,J.jsx)(b.xH,{accessibilityLabel:k._('Loading repin page content', ' - ', ' -- '),show:!0})});var C=(0,B.Z)().checkExperiment;switch(t.length>=8&&t.length<=12&&C("mweb_curation_board_picker_tune_complex_board_picker").group){case"enabled_8":n=8;break;case"enabled_9":n=9;break;case"enabled_11":case"employees":n=11;break;case"enabled_12":n=12;break;default:n=10}return t.length>=n?(0,J.jsx)(nB,{allBoards:t,boardsShortlist:r,closeModal:i,dismissFlyout:a,isEditingPin:s,isFromToast:d,navigate:l,onSelect:E,originalPinId:h,pin:w,pinBoardId:y,pinDescription:v,pinSectionId:_,saveToProfileEnabled:o,shouldUseSaveToProfileBehavior:g,trackingParams:A}):(0,J.jsx)(nE,{allBoards:t,boardsShortlist:r,closeModal:i,dismissFlyout:a,isEditingPin:s,isFirstRepinExperience:u,isFromToast:d,navigate:l,onFirstBoardCreate:f,onSelect:E,originalPinId:h,pin:w,pinBoardId:y,pinDescription:v,pinSectionId:_,saveToProfileEnabled:o,shouldUseSaveToProfileBehavior:g,titleSuggestions:j,trackingParams:A})}var nR=t(528630),nF=t(680391),nZ=(void 0!==c||(c=t(59986)).hash&&"1612c2df94f42990b3d4f6ccede72a70"!==c.hash&&console.error("The definition of 'RepinCreateBoardButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c);function nz(e){var n=e.isEditingPin,t=e.isFirstBoardCreateActive,r=e.pinKey,i=e.pinBoardId,o=e.pinDescription,a=e.pinSectionId,l=e.trackingParams,s=e.onTouch,c=e.useIconWithBackground,u=(0,O.Z)(),d=(0,I.Z)(nZ,r),f=(0,nF.Z)({href:{pathname:"/board/create/".concat(d.entityId,"/"),state:{isFirstBoardCreateActive:t,pinnedToBoardId:d.pinnedToBoard?d.pinnedToBoard.entityId:"",pinDescription:o,trackingParams:l,isEditingPin:n,pinBoardId:i,pinSectionId:a}}});return(0,J.jsx)(nR.Z,{hasTopShadow:c,height:c?void 0:70,children:(0,J.jsx)(b.iP,{onTap:function(e){var n=e.event;null==s||s(),f({event:n})},children:(0,J.jsxs)(b.xu,{alignItems:"center","data-test-id":"repinCreateBoardButton",display:"flex",paddingX:+!!c,paddingY:+!c,children:[c?(0,J.jsx)(b.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,J.jsx)(b.JO,{accessibilityLabel:u._('Create board button', ' - ', ' -- '),color:"default",icon:"add",size:20})}):(0,J.jsx)(b.JO,{accessibilityLabel:u._('Create board button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),(0,J.jsx)(b.xu,{marginStart:c?2:3,children:(0,J.jsx)(b.xv,{weight:"bold",children:u._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})}var nL=t(672569),nD=t(453799);function nM(e){return(nM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nN(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function nK(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nH(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nK(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=nM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=nM(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==nM(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nK(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nU=(void 0!==u||(u=t(112402)).hash&&"f0b2fbadfba92480a2077999a000a308"!==u.hash&&console.error("The definition of 'RepinSectionPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u),nW=function(e,n,t){return nH({field_set_key:"detailed",id:e,preserve_component_state:n},t?{orbac_subject_id:t}:Object.freeze({}))};function nG(e){var n,t,r,i,o=e.boardId,a=e.navigate,l=e.location.search,s=e.showSectionRep,c=e.pinKey,u=e.onSuccess,d=e.trackingParams,f=e.dismissFlyout,p=e.boardViewParameterType,m=e.surfaceOriginViewParameter,y=(0,g.I0)(),v=(0,O.Z)(),b=(0,I.Z)(nU,c),P=nd(),S=new URLSearchParams(l),w=S.get("isEditingPin"),k=null!=(r=S.get("pinBoardId"))?r:"",T=null!=(i=S.get("pinSectionId"))?i:"",A=(0,eh.Z)(d,b.trackingParams),E=(0,x.Z)(),C=(0,Q.n)(),R=(0,B.Z)().checkExperiment,F=function(e){return a(e)},Z=(0,e9.Z)(),L=(0,j.Z)(),D=(0,ne.lJ)(L,Z),M=(0,H.cO)(),N=(0,V.Z)().showRepinConfirmation;(0,h.useEffect)(function(){E({event_type:13,clientTrackingParams:A,component:13282,object_id_str:o,view_type:275,aux_data:{board_id:o,board_picker_surface_origin:m,board_title_suggestions:[],board_index:0,is_profile_save:!1,pin_id:b.entityId,board_component:p}})});var K=function(e){var n;f(),y((0,Y.w)({checkExperiment:R,i18n:v,logContextEvent:E,pinId:b.entityId,boardId:o,onSuccess:w?void 0:function(){M("Save",{pin_id:b.entityId,is_promoted:b.isPromoted}),u()},showRepinConfirmation:N,section:e,trackingParams:{clientTrackingParams:A,pinnedToBoardId:b.pinnedToBoard?b.pinnedToBoard.entityId:""},historyPush:F,savePinId:null!=(n=null==C?void 0:C.save)?n:function(){}})).then(function(){if(e){var n;y((0,nL.Z)(null!=(n=e.id)?n:""))}})},U=function(e){return y((0,z.Br)(e))},W=(n=regeneratorRuntime.mark(function e(n,t){var r,i,o,l,s,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&E({event_type:101,clientTrackingParams:A,component:13282,element:36,object_id_str:n,view_type:91,view_parameter:3133,aux_data:{board_id:n,board_picker_surface_origin:m,board_title_suggestions:[],board_index:0,is_profile_save:!1,pin_id:b.entityId,section_id:null!=(r=null==t?void 0:t.id)?r:"",board_component:p}}),w){e.next=4;break}return e.next=4,K(t);case 4:w&&(i=k,o=n,l=T,c=nH({board_id:o,board_section_id:s=null==t?void 0:t.id,id:b.entityId},D?{orbac_subject_id:D}:Object.freeze({})),u=i!==o,d=l!==s,_.Z.create("PinResource",c).callUpdate().then(function(e){var n,t,r,f;(u||d)&&(n={selectedPinIds:[b.entityId],source:{boardId:i,sectionId:l||null},target:{boardId:o,sectionId:s}},y((0,ni.S)(n)),U({boardId:o,sectionId:s,increment:1}),U({boardId:i,sectionId:l,increment:-1}),L.isAuth&&L.id&&!i&&(t=L.id,r=b.entityId,y((0,nr.EX)({feedId:t,feedType:nl.Z.BOARDLESS_PINS,itemIds:[r],itemType:"pin"})))),y((0,e4.b)("PinResource",{options:c})),f=b.entityId,y((0,e7.jB)("PinResource",nW(f,!0,D))),P(b.__id),y((0,e7.Sr)("PinResource",nW(e.resource_response.data.id,!1,D),e)),a(-2)}));case 5:case"end":return e.stop()}},e)}),t=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){nN(o,r,i,a,l,"next",e)}function l(e){nN(o,r,i,a,l,"throw",e)}a(void 0)})},function(e,n){return t.apply(this,arguments)});return(0,J.jsx)(nD.Z,{boardId:o,repin:W,showSectionRep:s})}function nV(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return nX(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nX(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nX(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var nq=(void 0!==d||(d=t(521906)).hash&&"0b70f6e25d25129525379f38c7f56293"!==d.hash&&console.error("The definition of 'MobileRepinPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d);function nY(e){var n=e.children,t=(0,g.v9)(function(e){var n=e.session;return 72+((0,ec.Rq)(n.userAgentPlatform)?ec.Vf:0)});return(0,J.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:t}},children:n})}function nQ(e){var n,t,r=e.allBoards,i=e.saveToProfileEnabled,o=e.boardsShortlist,a=e.isFetchingBoards,l=e.shouldUseSaveToProfileBehavior,s=e.pinKey,c=e.pinDescription,u=e.titleSuggestions,d=e.trackingParams,f=e.warningAnchor,p=e.saveSessionId,m=(0,I.Z)(nq,s),v=(0,O.Z)(),_=(0,y.TH)(),S=(0,y.s0)(),w=eo(),j=w.boardId,k=w.pinId,T=w.isEditingPin,A=w.pinBoardId,E=w.pinSectionId,C=w.originalPinId,R=w.isFromToast,F=(0,x.Z)(),Z=(0,g.I0)(),z=(0,g.v9)(function(e){return e.experiences}),L=z[1000112],D=z[1000153],M=(0,V.Z)(),N=M.showToast,K=M.showRepinConfirmation,W=(0,e1.gC)(),G=(0,H.cO)(),X=(0,P.be)(),q=function(e,n){return Z(X(e,n))},$=(0,ev.m)(),ee=(0,Q.n)(),en=(0,B.Z)().checkExperiment,et=nV((0,h.useState)(!1),2),er=et[0],ei=et[1],ea=nV((0,h.useState)("allBoards"),2),el=ea[0],ec=ea[1],eb=nV((0,h.useState)(void 0),2),e_=eb[0],ex=eb[1],eP=nV((0,h.useState)(!1),2),eS=eP[0],ew=eP[1],ej=(0,nj.Z)(),eT=function(){return!!eg(D,501032)||!a&&0===r.length&&!i},eA=function(){return eg(D,501021)},eB=function(){F({view_type:21,view_parameter:87,component:7,element:j?34:75,event_type:102})},eE=c.trim(),eC=m.pinnedToBoard,eR=eC?(0,es.nk)(v._('Psst! You already saved this Pin to {{ board_name }}', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:eC.name}).join(" "):null,eF=m.dominantColor,eZ=m.imageSpec_236x,ez=eZ?eZ.url:"",eL=v._('Save Pin to', 'RepinPage.Section.Header.Title', 'title for section selection in repin flow'),eD=new b.Ry(2),eM=v._('Create board', 'Title for first board create', 'Title for first board create. NOTE: we are testing using "collections" in place of "boards" for new users'),eN=v._('Save to board', 'boardPicker.header', 'Title for repin page'),eK=j?eL:0!==r.length||a||i?eN:eM;return(0,J.jsxs)(ed.default,{hasFixedHeader:!0,children:[(0,J.jsx)(ep.Z,{text:eK}),(0,J.jsx)(eu.default,{useRoundedCorners:!0,zIndex:eD,children:(0,J.jsxs)(b.kC,{alignItems:"center",height:40,justifyContent:"start",children:[(0,J.jsx)(b.xu,{column:2,children:(0,J.jsx)(e2.default,{alignIconLeft:!0,color:"darkGray",icon:j?"arrow-back":"cancel",onTouch:eB,size:"sm"})}),(0,J.jsx)(b.xu,{column:8,children:(0,J.jsx)(b.xu,{"data-test-id":"repin-page-title",children:(0,J.jsx)(b.X6,{accessibilityLevel:2,align:"center",size:"300",children:(0,J.jsx)(b.xv,{inline:!0,weight:"bold",children:eK})})})}),(0,J.jsx)(b.xu,{column:2})]})}),m.imageSpec_236x&&(eT()?(0,J.jsx)(e$,{onComplete:function(e,n){var t=e.boardId,r=e.boardUrl,i=(0,e3.Z)(r,n,v),o=i.href,a=i.text,l=(0,ek.Z)({boardId:t,getReduxBoard:W,isFBC:!0,pinId:k,viewType:21}),s=l.duration,c=l.text,u=l.thumbnail;S(-1),K(function(e){var n=e.hideToast;return(0,J.jsx)(eO.Z,{duration:s,href:o,onHide:n,text:c||a,thumbnail:u})}),L&&L.placement_id&&503459===L.experience_id&&q(L.placement_id,L.experience_id),D&&eg(D,501032)&&q(D.placement_id,D.experience_id),G("Save",{pin_id:m.entityId,is_promoted:m.isPromoted})},pinDominantColor:null!=eF?eF:"",pinImageUrl:null!=ez?ez:"",savePin:function(e){var n=(0,eh.Z)((_.state||{}).trackingParams),t=(0,eh.Z)(d,m.trackingParams);return ej({boardCreateOptions:{name:e,initial_pin_client_tracking_params:[n],privacy:"public"},deprecatedSchemaForNormalization:e0.IY}).then(function(e){var n=e||{},r=n.url,i=n.id;return k&&Z((0,Y.w)({checkExperiment:en,i18n:v,logContextEvent:F,originalPinId:C,pinId:k,boardId:i,trackingParams:{clientTrackingParams:t,pinnedToBoardId:i},historyPush:function(e){return S(e)},savePinId:function(e,n){return null==$||$.save(e),null==ee?void 0:ee.save(e,n)}})),{boardId:i,boardUrl:void 0===r?"":r}},function(e){throw{onError:function(){S(-1),N(function(n){var t=n.hideToast;return(0,J.jsx)(U.Z,{onHide:t,text:e.message||v._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),type:"error"})})}}})},selectedBoardName:e_}):null),(0,J.jsx)(nY,{children:j?(0,J.jsx)(nG,{boardId:j,boardViewParameterType:np(el),dismissFlyout:function(){return ew(!0)},location:_,navigate:S,onSuccess:function(){S(-2)},pinKey:m,showSectionRep:!0,surfaceOriginViewParameter:153,trackingParams:d}):(0,J.jsx)(nC,{allBoards:r,boardsShortlist:o,closeModal:eB,dismissFlyout:function(){return ew(!0)},isEditingPin:T,isFetchingBoards:a,isFirstRepinExperience:eT(),isFromToast:R,navigate:S,onFirstBoardCreate:function(e){if(!eT()){var n;S("/board/create/".concat(m.entityId,"/").concat(e,"/"),{state:{trackingParams:d,from:null==(n=_.state)?void 0:n.from}})}ex(e)},onSelect:function(e,n){var t,r;ec(n),T?S("/pin/".concat(m.entityId,"/repin/").concat(e.id,"/?isEditingPin=true&pinBoardId=").concat(A,"&pinSectionId=").concat(E),{state:{trackingParams:d,from:null==(t=_.state)?void 0:t.from}}):S("/pin/".concat(m.entityId,"/repin/").concat(e.id,"/"),{state:{trackingParams:d,from:null==(r=_.state)?void 0:r.from}})},originalPinId:C,pinBoardId:A,pinDescription:eE,pinKey:m,pinSectionId:E,saveSessionId:p,saveToProfileEnabled:i,shouldUseSaveToProfileBehavior:l,surfaceOriginViewParameter:153})}),j?(0,J.jsx)(ef.Wx,{onAddNewSection:function(){var e,n;j&&(F({view_type:91,view_parameter:3132,component:13282,element:10306,event_type:101,aux_data:{board_picker_surface_origin:153,board_title_suggestions:u||[],pin_id:m.entityId,board_component:3132,board_picker_suggested_boards:JSON.stringify(nf(o))}}),T?S("/pin/".concat(m.entityId,"/repin/").concat(j,"/add/?isEditingPin=true&pinBoardId=").concat(A,"&pinSectionId=").concat(E),{state:{from:null==(e=_.state)?void 0:e.from}}):S("/pin/".concat(m.entityId,"/repin/").concat(j,"/add/"),{state:{from:null==(n=_.state)?void 0:n.from}}))},useIconWithBackground:!0}):(0,J.jsx)(ey.Z,{modalHeader:(0,em.Bb)(v),nextLocation:"/board/create/".concat(m.entityId,"/"),children:(0,J.jsx)(nz,{isEditingPin:T,isFirstBoardCreateActive:eT(),onTouch:function(){F({view_type:91,view_parameter:87,component:13282,element:249,event_type:101,aux_data:{board_picker_surface_origin:153,board_title_suggestions:u||[],pin_id:m.entityId,board_component:87,board_picker_suggested_boards:JSON.stringify(nf(o))}})},pinBoardId:A,pinDescription:eE,pinKey:m,pinSectionId:E,trackingParams:d,useIconWithBackground:!0})}),eZ&&eA()&&(0,J.jsx)(eI,{completeExperience:function(){D&&eA()&&q(D.placement_id,D.experience_id)},pinDominantColor:null!=eF?eF:"",pinImageHeight:null!=(n=eZ.height)?n:1,pinImageUrl:null!=ez?ez:"",pinImageWidth:null!=(t=eZ.width)?t:1}),f&&!eS&&m.pinnedToBoard&&!er&&eR&&(0,J.jsx)(b.J2,{anchor:f,idealDirection:"down",onDismiss:function(){return ei(!0)},shouldFocus:!1,children:(0,J.jsx)(b.xu,{padding:3,children:(0,J.jsx)(b.xv,{weight:"bold",children:(0,J.jsx)("span",{children:eR})})})})]})}function nJ(e){return(nJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n$(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function n0(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){n$(o,r,i,a,l,"next",e)}function l(e){n$(o,r,i,a,l,"throw",e)}a(void 0)})}}function n1(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function n2(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?n1(Object(t),!0).forEach(function(n){n4(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n1(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function n3(e,n){return(n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function n6(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(n8=function(){return!!e})()}function n5(e){return(n5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n4(e,n,t){return(n=n7(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function n7(e){var n=function(e,n){if("object"!=nJ(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=nJ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==nJ(n)?n:n+""}var n9=(void 0!==f||(f=t(763536)).hash&&"334d0ce72c30565b62e52dd00bf86623"!==f.hash&&console.error("The definition of 'RepinPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),f),te=(void 0!==p||(p=t(976529)).hash&&"76093586a269ca0330e25a57bd33f665"!==p.hash&&console.error("The definition of 'RepinPageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),p),tn=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&n3(i,e);var n,t,r=(n=n8(),function(){var e,t=n5(i);return e=n?Reflect.construct(t,arguments,n5(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==nJ(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return n6(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return n4(n6(e=r.call.apply(r,[this].concat(t))),"state",{pinDescription:(e.props.pin.description||"").trim(),trackingParams:(e.props.location.state||{}).trackingParams||"",warningAnchor:void 0,windowInnerHeight:"undefined"!=typeof window?window.innerHeight:0,saveSessionId:(0,v.Z)()}),n4(n6(e),"onResize",function(){e.setState({windowInnerHeight:window.innerHeight})}),e}return t=[{key:"componentDidMount",value:function(){var e=this.props,n=e.logContextEvent,t=e.repinExperience,r=e.triggerExperimentsForPlacement,i=e.viewExperience,o=e.pin,a=this.state.saveSessionId;n({view_type:21,event_type:13,aux_data:{board_picker_surface_origin:153,pin_id:o.entityId,save_session_id:a}}),r(1000153),t&&i(1000153,t.experience_id),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this.props.checkExperiment("web_react_router_v6").anyEnabled,n=(0,J.jsx)(nQ,{allBoards:this.props.allBoards,boardsShortlist:this.props.boardsShortlist,isFetchingBoards:this.props.isFetchingBoards,pinDescription:this.state.pinDescription,pinKey:this.props.pin,saveSessionId:this.state.saveSessionId,saveToProfileEnabled:this.props.saveToProfileEnabled,shouldUseSaveToProfileBehavior:this.props.shouldUseSaveToProfileBehavior,titleSuggestions:this.props.titleSuggestions,trackingParams:this.state.trackingParams,warningAnchor:this.state.warningAnchor}),t=(0,J.jsx)(el,{pinKey:this.props.pin,trackingParams:this.state.trackingParams,useRoundedCorners:!0});return(0,J.jsx)(S.ZP,{accessibilityModalLabel:this.props.i18n._('Repin page', 'RepinPage.MobileModal.AccessibilityLabel', 'Accessibility label on repin page'),closeOnOutsideClick:!1,isOpen:!0,onDismiss:function(){},type:"repinPage",children:(0,J.jsx)(b.xu,{height:this.state.windowInnerHeight-w.i_,paddingX:2,paddingY:0,children:e?(0,J.jsxs)(y.Z5,{children:[(0,J.jsx)(y.AW,{element:t,path:"/:boardId/add"}),(0,J.jsx)(y.AW,{element:n,path:"/:boardId"}),(0,J.jsx)(y.AW,{element:n,path:"/"})]}):(0,J.jsxs)(y.Z5,{children:[(0,J.jsx)(y.AW,{element:t,path:"/pin/:id/repin/:boardId/add/"}),(0,J.jsx)(y.AW,{element:n,path:"/pin/:id/repin/:boardId/"}),(0,J.jsx)(y.AW,{element:n,path:"/pin/:id/repin/"})]})})})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n7(r.key),r)}}(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}(h.PureComponent),tt=function(e,n){var t,r,i={field_set_key:"repin"},o=(0,k.Z)({strategy:n?"GraphQL":"Legacy",query:te,variables:{pinId:e},useGetLegacyData:function(e){var n=e.pinId;return(0,C.Z)({name:"PinResource",options:n2(n2({},i),{},{id:n})}).data}}),a=(null==o||null==(t=o.v3GetPinQuery)?void 0:t.__typename)==="V3GetPin"?null==(r=o.v3GetPinQuery)?void 0:r.data:null;return(0,I.Z)(n9,a)},tr=function(e){var n=(0,g.v9)(function(e){return e.session.userId}),t=(0,C.Z)({name:"BoardPickerBoardsResource",options:{pin_id:e,field_set_key:"profile_grid_item",shortlist_length:2,shortlist_suggestions:3,user_id:n}}),r=t.isFetching,i=t.data,o=(null==i?void 0:i.all_boards)||[];return{isFetching:r,allBoards:(0,g.v9)(function(e){return(0,D.Z)(n2(n2({},e),{},{boards:o}))||[]}),boardsShortlist:(null==i?void 0:i.boards_shortlist)||[]}};function ti(){return(0,J.jsx)(to,{})}function to(e){var n,t=e.shouldFetchPinFromGraphQL,r=(0,y.s0)(),i=(0,y.TH)(),o=(0,ei.Z)(),a=null!=(n=o.params.id)?n:"",l=(0,O.Z)(),s=(0,x.Z)(),c=(0,P.be)(),u=(0,P.Ig)(),d=(0,M.LO)(),f=(0,j.Z)().isAuth,p=(0,R.HG)(),h=tt(a,t),m=tr(a),v=m.isFetching,b=m.allBoards,S=m.boardsShortlist,w=(0,B.Z)().checkExperiment,I=K(a);(0,E.Z)({name:"UserResource",options:{user_id:null==d?void 0:d.id,field_set_key:"quicksave"}});var k=(0,g.I0)(),C=(0,g.v9)(function(e){return e.experiences}),D=(0,Z.ZP)((null==d?void 0:d.id)||"").showEnabledSaveBehavior,N=(0,j.Z)(),H=function(){if(!N.isAuth)return null;var e=N.pinCount&&N.pinCount>0||N.boardCount&&N.boardCount>0||!1;return(0,T.Z)(N.createdAt)?w("ap_mweb_new_user_disable_quick_save",{dangerouslySkipActivation:e}).group:(0,A.Z)(null,N)?w("ap_mweb_res_user_disable_quick_save",{dangerouslySkipActivation:e}).group:null}(),U="enabled_remove_quick_save"===H;return((0,F.Z)(function(){if(U&&d&&!0!==d.has_quicksave_board){var e,n,t={name:l._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"quick_save"}},r=(e=n0(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.Z.create("BoardResource",t).callCreate());case 1:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});(n=n0(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:n=e.sent.resource_response.data,k((0,z.oL)(t,n)),k((0,L.Z)(!0));case 6:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})()}}),!f||p)?(0,J.jsx)(y.Fg,{replace:!0,to:"/pin/".concat(a,"/")}):h?(0,J.jsx)(tn,{allBoards:b,boardsShortlist:S,checkExperiment:w,completeExperience:function(e,n){return k(c(e,n))},i18n:l,isFetchingBoards:v,location:i,logContextEvent:s,match:o,navigate:r,pin:h,pinId:a,repinExperience:C[1000153],saveToProfileEnabled:D&&"enabled_remove_all_boardless_saves"!==H,shouldUseSaveToProfileBehavior:U,titleSuggestions:I,triggerExperimentsForPlacement:function(e){return k((0,P.kd)(e))},viewExperience:function(e,n){return k(u(e,n))}}):null}},908808:function(e,n,t){"use strict";function r(e,n){return{type:"SECTION_ADDED",payload:{boardId:e,section:n}}}function i(e,n){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:n}}}t.d(n,{HG:function(){return i},OQ:function(){return o},hd:function(){return r}});var o=function(e,n){return{type:"BOARD_SECTION_EDIT",payload:n}}},987072:function(e,n,t){"use strict";var r=t(753398),i=t(27399),o=t(660322),a=t(908808),l=t(779686),s=t(407775),c=t(438274);n.Z=function(e,n,t,u){return function(d){var f={board_id:e,initial_pins:n,name:t},p="BoardSectionResource";return i.Z.create(p,f).callCreate().then(function(t){var i=t.resource_response.data,h=(0,r.Fv)(i,s.Z[p]);return u({event_type:7100,object_id_str:i.id}),d((0,o.XM)(p,f,t,h)),d((0,a.hd)(e,i)),d((0,l.vX)({feedId:e,feedType:c.Z.BOARD_SECTIONS,itemIds:[i.id],itemType:"boardsection"})),n.length&&d({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:i.id},pinIds:n}}),t})}}},577348:function(e,n,t){"use strict";var r=t(27399);n.Z=function(e){return function(n){n({type:"PINS_MOVE_ALL",payload:e});var t=e.source,i=e.target,o=e.excludePinIds,a={board_id:t.boardId,new_board_id:i.boardId,pin_ids:o,old_section_id:t.sectionId,new_section_id:i.sectionId};return r.Z.create("BulkEditSelectAllResource",a).callUpdate()}}},672569:function(e,n,t){"use strict";var r=t(27399),i=t(908808);n.Z=function(e){return function(n){return r.Z.create("BoardSectionResource",{section_id:e}).callGet().then(function(t){var r=t.resource_response.data||{id:"",title:""};return n((0,i.OQ)(e,r)),t})}}},329197:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(233597);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function a(e,n,t){return(0,r.U)("BoardResource",{options:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach(function(n){var r,o;r=n,o=t[n],(r=function(e){var n=function(e,n){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==i(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({board_id:e,field_set_key:n},t?{orbac_subject_id:t}:{})})}},679602:function(e,n,t){"use strict";t.d(n,{S:function(){return p},Z:function(){return h}});var r=t(27399),i=t(329197),o=t(773382),a=t(779686),l=t(148266),s=t(438274),c=t(382802),u=function(e){return function(n){c.Z.showError(function(e,n){switch(e.api_error_code){case 2171:case 2172:case 2173:return n._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(n,e))}},d=function(e){return(0,a.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId)};function f(e,n){var t=e.source,r=e.target;r.boardId!==t.boardId?(n((0,i.Z)(t.boardId,"pin_count")),n((0,i.Z)(r.boardId,"pin_count"))):t.sectionId&&r.sectionId||n((0,i.Z)(r.boardId,"pin_count")),t.sectionId&&n((0,o.Z)(t.sectionId)),r.sectionId&&n((0,o.Z)(r.sectionId))}function p(e){return function(n){var t=e.selectedPinIds,r=e.source,i=e.target;n((0,a.EX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:t,itemType:"pin"})),n((0,a.vX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:t,itemType:"pin"})),t.forEach(function(e){n((0,l.Vp)({pinId:e,boardId:i.boardId,sectionId:i.sectionId||void 0,title:i.name||""}))}),f(e,n)}}function h(e,n){return function(t){var i=e.selectedPinIds,o=e.target;return i.forEach(function(e){t((0,l.Vp)({pinId:e,boardId:o.boardId,sectionId:o.sectionId||void 0,title:o.name||""}))}),(function(e,n,t){var i=e.inverseSelection,o=e.selectedPinIds,l=e.source,c=e.target,f=e.orbacSubjectId;if(l.boardId===c.boardId&&(l.sectionId||null)===(c.sectionId||null))return Promise.reject();if(i){var p={board_id:l.boardId,new_board_id:c.boardId,old_section_id:l.sectionId||void 0,new_section_id:c.sectionId||void 0,pin_ids:o,orbac_subject_id:f};return r.Z.create("BulkEditSelectAllResource",p).callUpdate({showError:!1}).then(function(){return Promise.all([n(d(l)),n(d(c))])}).catch(u(t))}var h=function(e,t){n((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:o,itemType:"pin"})),n((0,a.vX)({feedId:t.sectionId||t.boardId,feedType:t.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:o,itemType:"pin"}))};h(l,c);var g=function(){return h(c,l)};if(c.boardId===l.boardId)if(c.sectionId){var m={section_id:c.sectionId,pins:o,orbac_subject_id:f};return r.Z.create("BoardSectionEditResource",m).callUpdate({showError:!1}).catch(function(e){g(),u(t)(e)})}else{var y={section_id:l.sectionId,pins:o,orbac_subject_id:f};return r.Z.create("BoardSectionPinsResource",y).callDelete({showError:!1}).catch(function(e){g(),u(t)(e)})}var v={board_id:c.boardId,section_id:c.sectionId||void 0,pin_ids:o,orbac_subject_id:f};return r.Z.create("BulkEditResource",v).callUpdate({showError:!1}).catch(function(e){g(),u(t)(e)})})(e,t,n).then(function(){return f(e,t)})}}},137568:function(e,n,t){"use strict";t.d(n,{a:function(){return r},k:function(){return i}});var r=function(e){return{type:"ONE_TAP_SAVE",payload:e}},i=function(e){return{type:"ONE_TAP_UNSAVE",payload:e}}},322360:function(e,n,t){"use strict";t.d(n,{w:function(){return a}});var r=t(2061),i=t(33285);function o(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}var a=function(e){var n,a,l=e.pinId,s=e.boardId,c=e.checkExperiment,u=e.i18n,d=e.isQuickSave,f=e.logContextEvent,p=e.onSuccess,h=e.originalPinId,g=e.showNewUserSavetoProfileAnimation,m=e.showRepinConfirmation,y=e.showToast,v=e.section,b=e.trackingParams,_=e.isOneTapSave,x=e.viewParameter,P=e.viewType,S=e.historyPush,w=e.suggestedBoardIds,j=e.savePinId;return n=regeneratorRuntime.mark(function e(n,o){var a,I,k,O,T,A,B,E,C,R;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A=(T=o()).pins,B=T.session,E=A[l],C=function(e){return m?m(e):y?y(e):void 0},e.next=5,t.e("39321").then(t.bind(t,250968));case 5:return R=new e.sent.default({boardId:s,dispatch:n,i18n:u,isOneTapSave:_,isQuickSave:d,onSuccess:p,originalPinId:h,pinId:E.id,section:v,showNewUserSavetoProfileAnimation:g,showRepinToasts:C,trackingParams:b,userId:B.userId,viewParameter:x,viewType:P,historyPush:S,suggestedBoardIds:w,savePinId:j,pinData:{trackingParams:E.tracking_params,viewParameter:(0,i.A)({hasRichMetadata:!!E.rich_metadata,hasRichMetadataProducts:!!(null!=(a=E.rich_metadata)&&a.products),hasRichMetadataArticle:!!(null!=(I=E.rich_metadata)&&I.article),hasRichMetadataRecipe:!!(null!=(k=E.rich_metadata)&&k.recipe)}),pinnedToBoardId:null==(O=E.pinned_to_board)?void 0:O.id}}),(0,r.ib)({checkExperiment:c,isAuthMweb:B.isAuthenticated&&(B.isMobile||B.isTablet)}),e.abrupt("return",R.processRepin(f));case 10:case"end":return e.stop()}},e)}),a=function(){var e=this,t=arguments;return new Promise(function(r,i){var a=n.apply(e,t);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)})},function(e,n){return a.apply(this,arguments)}}},604100:function(e,n,t){"use strict";function r(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}t.d(n,{Z:function(){return r}})},214119:function(e,n,t){"use strict";n.Z=(0,t(366503).createSelector)(function(e){var n=e.users,t=e.boards,r=n[e.session.userId]||null;return Object.keys(t).reduce(function(e,n){var i,o=t[n];return!o.archived_by_me_at&&((null==(i=o.owner)?void 0:i.id)===(null==r?void 0:r.id)||o.collaborating_users&&o.collaborating_users.map(function(e){return e.id}).includes(null==r?void 0:r.id))&&o.cover_images?e.concat([o]):e},[])},function(e){return e.sort(function(e,n){var t,r,i;return null!=(t=null==e||null==(r=e.name)?void 0:r.localeCompare(null!=(i=null==n?void 0:n.name)?i:""))?t:0})})},254889:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var r=t(581722),i=t(653551),o=t(20256),a=t(4533),l=t(104999),s=t(746868),c=t(351736),u=t(24246),d=t(173874),f=t(34550),p=t(865043),h=t(736328),g=t(739405),m=t(680811);function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function v(e){var n,t=e.alignIconLeft,v=e.bgColor,b=e.color,_=e.disableRedirect,x=void 0!==_&&_,P=e.fallbackUrl,S=e.icon,w=void 0===S?"arrow-back":S,j=e.onTouch,I=e.padding,k=e.placement,O=e.shouldUseFallbackUrl,T=e.size,A=void 0===T?"lg":T,B=e.viewParameter,E=e.viewType,C=e.isVisualSearch,R=(0,u.Z)(),F=(0,i.s0)(),Z=(0,i.TH)(),z=(0,g.HG)(),L=(0,r.v9)(function(e){return e.session.isAuthenticated}),D=(0,l.Z)(),M=(0,h.Z)(),N=(0,c.vs)(),K=(0,s.SU)(),H=K.viewType,U=K.viewParameter,W=function(e){if(Array.isArray(e))return e}(n=E?[E,B]:[H,U])||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,c=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return y(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),G=W[0],V=W[1],X=function(){var e=(0,f.M0)().getItem(a.pm);Z.key||"/ideas"!==P?(0,p.My)("pinner_conversion.back_button.".concat(String(null==e?void 0:e[0].pageType))):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)("web_back_button_click.".concat(String(k),".is_auth_").concat(String(L))),M({action:"click",item:"back-button"}),G&&D({view_type:G,view_parameter:V,element:34,event_type:102}),j&&j(),x||((!Z.key||Z.state&&"redirect"===Z.state.referrer||O)&&P?F(P):Z.pathname.includes("/password/reset/")&&Z.search&&Z.search.includes("?nativeShouldDismiss=true")?F("/login/?dismissWebview=true"):F(-1))},q=N?c.t4:"white",Y=(0,d.am)(Z)||C||"white"===b;return(0,m.jsx)(o.xu,{"data-test-id":"back-button",children:t?(0,m.jsx)(o.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===w?-1:-2,width:48,children:(0,m.jsx)(o.hU,{accessibilityLabel:R._('Back', 'navigation button', 'navigation button'),bgColor:v,icon:w,iconColor:!b&&(!v||["white","lightGray","transparent"].includes(v))?"gray":b,onClick:X,padding:"auto"!==I?I:2,size:A})}):(0,m.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:z||Y||v?"":q,width:N&&!Y?"fit-content":""}},rounding:"circle",children:(0,m.jsx)(o.hU,{accessibilityLabel:R._('Back', 'navigation button', 'navigation button'),bgColor:v||z?v:"transparent",icon:w,iconColor:!b&&(!v||["white","lightGray","transparent"].includes(v))?"gray":b,onClick:X,padding:"auto"!==I?I:2,size:A})})})}},828890:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(581722),i=t(20256),o=t(24246),a=t(216975),l=t(120100),s=t(842715),c=t(680811);function u(e){var n,t=e.boardId,u=e.onBoardSelected,d=e.noArrowIcon,f=e.showSingleBoardRep,p=(0,o.Z)(),h=(0,r.v9)(function(e){return e.boards})[t],g=null==h?void 0:h.section_count,m=!!g&&g>0,y=(0,l.Z)(),v=null!=(n=null==h?void 0:h.name)?n:"this board";return(0,c.jsx)(i.iP,{accessibilityLabel:(0,a.Wc)("".concat(p._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')),{boardName:v}),onTap:y({fn:function(){return u(m)}}),rounding:2,tapStyle:"compress",children:(0,c.jsx)(s.Z,{boardId:t,noArrowIcon:d,showSingleBoardRep:f})})}},842715:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(387784),i=t(581722),o=t(20256),a=t(24246),l=t(216975),s=t(327638),c=t(380938),u=t(662911),d=t(680811);function f(e){var n=e.boardId,t=e.navigateToBoard,f=e.noArrowIcon,p=e.showCollaborators,h=e.showSingleBoardRep,g=e.shouldShowPinAndSectionCount,m=(0,a.Z)(),y=(0,i.v9)(function(e){return e.boards})[n];if(!y)return null;var v=(y.collaborating_users||[]).map(function(e){var n,t;return{name:null!=(n=e.username)?n:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!=(t=e.image_medium_url)?t:""}}),b="",_=v.slice(0,3).map(function(e){return e.name});switch(v.length){case 3:b=(0,l.Wc)("".concat(m._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(_[0]),second:"".concat(_[1]),last:"".concat(_[2])});break;case 2:b=(0,l.Wc)("".concat(m._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(_[0]),second:"".concat(_[1])});break;default:b=_.join(", ")}var x=v.length>3?(0,l.Wc)(m.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', v.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:b,leftCount:"".concat(v.length-3)}):(0,l.Wc)("".concat(m._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:b}),P=new o.Ry(0),S=y.pin_count,w=y.section_count,j=(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(o.xu,{"data-test-id":w?"boardWithSection":"boardWithoutSection",children:(0,d.jsxs)(o.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4*!!h,rounding:2,children:[(0,d.jsx)(o.xu,{paddingY:2*!h,children:h?(0,d.jsx)(o.xu,{height:48,overflow:"hidden",width:48,children:(0,d.jsx)(o.zd,{height:"100%",rounding:2,width:"100%",children:(0,d.jsx)(o.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:y.image_cover_url||" "})})}):(0,d.jsx)(o.xu,{height:60,overflow:"hidden",rounding:4,width:60,children:(0,d.jsx)(u.default,{boardKey:{type:"Legacy",data:y},fullSize:!0,hideSecretBoardIcon:!0,type:"thumbnail",viewType:void 0})})}),(0,d.jsxs)(o.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsxs)(o.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:h?2:4,overflow:h?"hidden":"auto",width:"100%",children:[(0,d.jsx)(o.xv,{lineClamp:h?1:void 0,size:"400",weight:"bold",children:y.name}),g&&(0,d.jsxs)(o.kC,{children:[(0,d.jsx)(o.xv,{inline:!0,children:!!S&&(0,l.nk)(m.ngettext('{{ PinCount }} Pin', '{{ PinCount }} Pins', null != S ? S : 0, 'BoardRow.pinCount', 'Number of Pins on board or section, pinCount: number of Pins'),{PinCount:S})}),!!S&&!!w&&(0,d.jsx)(c.Z,{}),(0,d.jsx)(o.xv,{inline:!0,children:!!w&&(0,l.nk)(m.ngettext('{{ sectionCount }} section', '{{ sectionCount }} sections', null != w ? w : 0, 'BoardRow.sectionCount', 'Number of sections on board, sectionCount: number of sections'),{sectionCount:w})})]})]}),(0,d.jsxs)(o.kC,{alignItems:h?"center":"start",justifyContent:"start",children:["secret"===y.privacy&&(0,d.jsx)(o.xu,{marginStart:h?3:1,children:(0,d.jsx)(o.JO,{accessibilityLabel:m._('secret board icon', ' - ', ' -- '),color:h?"default":"subtle",icon:"lock"})}),y.is_collaborative&&(h||p)&&v.length>0?(0,d.jsx)(o.xu,{zIndex:P,children:(0,d.jsx)(o.HE,{accessibilityLabel:s.U+x,collaborators:v,size:1===v.length?"sm":"xs"})}):y.is_collaborative&&(0,d.jsx)(o.xu,{marginStart:1,children:(0,d.jsx)(o.JO,{accessibilityLabel:m._('group board icon', ' - ', ' -- '),icon:"people"})}),!f&&!!y.section_count&&(0,d.jsx)(o.xu,{"data-test-id":"boardSectionPicker",marginStart:3*!!h,children:(0,d.jsx)(o.JO,{accessibilityLabel:m._('board section board picker icon', ' - ', ' -- '),color:h?"default":"subtle",icon:"arrow-forward"})})]})]})]})})});return t&&y.url?(0,d.jsx)(o.Tg,{href:y.url,rounding:2,tapStyle:"compress",children:j}):j}},453799:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(581722),i=t(653551),o=t(20256),a=t(24246),l=t(565649),s=t(914253),c=t(828890),u=t(216975),d=t(310758),f=t(680811);function p(e){var n,t,i=e.onSectionSelected,l=e.sectionId,s=e.showSectionRep,c=(0,r.v9)(function(e){return e.boardsections[l]}),p=(0,a.Z)(),h=c&&(null==(n=c.preview_pins)?void 0:n[0])&&c.preview_pins[0].image_medium_url,g=null!=(t=null==c?void 0:c.title)?t:"";return(0,f.jsx)(d.Z,{onTouch:i,pressState:"none",rounding:2,children:(0,f.jsxs)(o.xu,{alignItems:"center",column:12,"data-test-id":"sectionPickerRow",display:"flex",marginBottom:4*!!s,rounding:2,children:[s&&(0,f.jsx)(o.xu,{height:48,width:51,children:(0,f.jsx)(o.zd,{height:"100%",rounding:2,width:"100%",children:h&&(0,f.jsx)(o.Ee,{alt:(0,u.Wc)(p._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:g}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:h})})}),!s&&(0,f.jsx)(o.xu,{column:1,paddingY:2}),(0,f.jsx)(o.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:s?(0,f.jsx)(o.xu,{marginStart:2,overflow:"hidden",width:"100%",children:(0,f.jsx)(o.xv,{lineClamp:1,size:"400",weight:"bold",children:null==c?void 0:c.title})}):(0,f.jsx)(o.xu,{marginStart:2,children:(0,f.jsx)(o.xv,{weight:"bold",children:null==c?void 0:c.title})})})]})})}var h=function(e,n){var t=(0,l.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}).isFetching,i=(0,r.v9)(function(n){return(n.feeds["board-sections:".concat(e)]||[]).reduce(function(e,n){if("boardsection"===n.type){var t={type:"boardsection",id:n.id};e.push(t)}return e},[])}),o=(0,r.v9)(function(t){return i.map(function(e){return e.id}).reduce(function(r,i){var o=t.boardsections[null!=i?i:""];return i!==n&&o&&r.push({board:{id:e},id:o.id,title:o.title,type:"boardsection",slug:o.slug}),r},[])});return{isFetching:t,boardSections:i,filteredBoardSections:o}};function g(e){var n=e.boardId,t=e.originalBoardId,r=e.sectionId,l=e.repin,u=e.hideBoardPickerRow,d=e.showSectionRep,g=(0,a.Z)(),m=h(n,r),y=m.isFetching,v=m.boardSections,b=m.filteredBoardSections,_=(0,i.s0)(),x=(0,s.gC)()(t||"");return(0,f.jsxs)(o.xu,{children:[v.length>0&&(0,f.jsxs)(o.xu,{paddingY:3*!d,children:[d&&(0,f.jsx)(o.xu,{paddingY:2,children:(0,f.jsx)(o.xu,{marginBottom:2,children:(0,f.jsx)(o.X6,{accessibilityLevel:3,size:"300",children:(0,f.jsx)(o.xv,{inline:!0,children:g._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})})}),!u&&(0,f.jsx)(c.Z,{boardId:n,noArrowIcon:!0,onBoardSelected:function(){return l(n,void 0,g)},showSingleBoardRep:d},n),d&&(0,f.jsx)(o.xu,{paddingY:4,children:(0,f.jsx)(o.X6,{accessibilityLevel:3,size:"300",children:(0,f.jsx)(o.xv,{inline:!0,children:g._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})})}),b.map(function(e){var r;return(0,f.jsx)(p,{onSectionSelected:function(){if(l(n,e,g),t){var r;_(null!=(r=null==x?void 0:x.url)?r:"")}},sectionId:null!=(r=e.id)?r:"",showSectionRep:d},e.id)})]}),(0,f.jsx)(o.xH,{accessibilityLabel:g._('Loading board section for repin flow', ' - ', ' -- '),show:y})]})}},131076:function(e,n,t){"use strict";var r=t(216975);n.Z=function(e,n,t){return{text:n?(0,r.nk)(t._('Saved to {{ board }}', 'Board saved message', 'Board saved message'),{board:n}).join(" "):t._('Saved to new board', 'Board saved message if the new board\'s name is not found', 'Board saved message if the new board\'s name is not found'),href:e}}},468491:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(660322);function i(e){var n=e.dispatch,t=(e.viewerUser||{}).id;t&&n((0,r.jB)("BoardlessPinsResource",{field_set_key:"mobile",userId:t}))}},309511:function(e,n,t){"use strict";t.d(n,{k:function(){return a},w:function(){return o}});var r=t(20256),i=t(801100),o=2e3,a=new r.H3([i.Z])},427475:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(581722),i=t(753398),o=t(27399),a=t(375217),l=t(647908),s=t(233597),c=t(660322);function u(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function d(){var e,n,t=(0,r.I0)(),d=(0,r.v9)(function(e){return e.resources});return e=regeneratorRuntime.mark(function e(n){var r,u,f,p,h,g,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=n.boardCreateOptions,f=n.deprecatedSchemaForNormalization,e.next=3,o.Z.create("BoardResource",u).callCreate();case 3:return h=(p=e.sent).resource_response.data,g=f?(0,i.Fv)(h,f):void 0,t((0,c.XM)("BoardResource",u,p,g)),t((0,a.fO)({event_type:20})),null!=(r=h.owner)&&r.id&&t((0,s.b)("UserResource",{options:{user_id:h.owner.id,field_set_key:"save_behavior"}})),m=d.BoardsResource||{},y=d.BoardsFeedResource||{},Object.keys(m).forEach(function(e){var n;(0,l.k)(e).username===(null==(n=h.owner)?void 0:n.username)&&t((0,c.jB)("BoardsResource",e))}),Object.keys(y).forEach(function(e){var n;(0,l.k)(e).username===(null==(n=h.owner)?void 0:n.username)&&t((0,c.jB)("BoardsFeedResource",e))}),e.abrupt("return",h);case 14:case"end":return e.stop()}},e)}),n=function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){u(o,r,i,a,l,"next",e)}function l(e){u(o,r,i,a,l,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}}},91734:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var r,i=t(653551),o=t(774838),a=t(739405);t(115821);var l=t(516576),s=t(947504),c=t(183e3),u=t(68876),d=t(680811),f=(void 0!==r||(r=t(991809)).hash&&"60ba8f292ef82335c3d4cbce50f362d8"!==r.hash&&console.error("The definition of 'CloseupRepinPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function p(e){var n=e.pinKey,t=(0,c.Z)(f,n);return t?(0,d.jsx)(u.Z,{type:"authDesktop",children:t.isEligibleForPdp?(0,d.jsx)(s.Z,{showRepin:!0}):(0,d.jsx)(l.ZP,{showRepin:!0})}):null}var h=t(652436),g=t(228612),m=t(305375),y=function(){var e=(0,m.Z)().id,n=(0,a.ZP)(),t=(0,o.B)().isAuthenticated,r=(0,g.S6)(),l=e?r(e):null;return t?"desktop"===n?(0,d.jsx)(p,{pinKey:null!=l?{type:"Legacy",data:l}:null}):(0,d.jsx)(h.ZP,{shouldFetchPinFromGraphQL:!0}):(0,d.jsx)(i.Fg,{replace:!0,to:"/pin/".concat(null!=e?e:"","/")})}},400904:function(e,n){"use strict";var t,r,i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},o={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],l={},s={};function c(e,n,t){return Math.min(Math.max(e,n),t)}function u(e,n){return e.indexOf(n)>-1}function d(e,n){return e.apply(null,n)}var f={arr:function(e){return Array.isArray(e)},obj:function(e){return u(Object.prototype.toString.call(e),"Object")},pth:function(e){return f.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||f.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return f.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return f.hex(e)||f.rgb(e)||f.hsl(e)},key:function(e){return!i.hasOwnProperty(e)&&!o.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function p(e){var n=/\(([^)]+)\)/.exec(e);return n?n[1].split(",").map(function(e){return parseFloat(e)}):[]}function h(e,n){var t=p(e),r=c(f.und(t[0])?1:t[0],.1,100),i=c(f.und(t[1])?100:t[1],.1,100),o=c(f.und(t[2])?10:t[2],.1,100),a=c(f.und(t[3])?0:t[3],.1,100),l=Math.sqrt(i/r),u=o/(2*Math.sqrt(i*r)),d=u<1?l*Math.sqrt(1-u*u):0,h=u<1?(u*l+-a)/d:-a+l;function g(e){var t=n?n*e/1e3:e;return(t=u<1?Math.exp(-t*u*l)*(+Math.cos(d*t)+h*Math.sin(d*t)):(1+h*t)*Math.exp(-t*l),0===e||1===e)?e:1-t}return n?g:function(){var n=s[e];if(n)return n;for(var t=1/6,r=0,i=0;;)if(1===g(r+=t)){if(++i>=16)break}else i=0;var o=r*t*1e3;return s[e]=o,o}}function g(e){return void 0===e&&(e=10),function(n){return Math.ceil(c(n,1e-6,1)*e)*(1/e)}}var m=function(){function e(e,n,t){return(((1-3*t+3*n)*e+(3*t-6*n))*e+3*n)*e}function n(e,n,t){return 3*(1-3*t+3*n)*e*e+2*(3*t-6*n)*e+3*n}return function(t,r,i,o){if(0<=t&&t<=1&&0<=i&&i<=1){var a=new Float32Array(11);if(t!==r||i!==o)for(var l=0;l<11;++l)a[l]=e(.1*l,t,i);return function(l){return t===r&&i===o||0===l||1===l?l:e(function(r){for(var o=0,l=1;10!==l&&a[l]<=r;++l)o+=.1;var s=o+(r-a[--l])/(a[l+1]-a[l])*.1,c=n(s,t,i);if(c>=.001){for(var u=s,d=0;d<4;++d){var f=n(u,t,i);if(0===f)break;var p=e(u,t,i)-r;u-=p/f}return u}return 0===c?s:function(n,t,r,i,o){var a,l,s=0;do(a=e(l=t+(r-t)/2,i,o)-n)>0?r=l:t=l;while(Math.abs(a)>1e-7&&++s<10);return l}(r,o,o+.1,t,i)}(l),r,o)}}}}(),y=(t={linear:function(){return function(e){return e}}},r={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var n,t=4;e<((n=Math.pow(2,--t))-1)/11;);return 1/Math.pow(4,3-t)-7.5625*Math.pow((3*n-2)/22-e,2)}},Elastic:function(e,n){void 0===e&&(e=1),void 0===n&&(n=.5);var t=c(e,1,10),r=c(n,.1,2);return function(e){return 0===e||1===e?e:-t*Math.pow(2,10*(e-1))*Math.sin(2*Math.PI*(e-1-r/(2*Math.PI)*Math.asin(1/t))/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,n){r[e]=function(){return function(e){return Math.pow(e,n+2)}}}),Object.keys(r).forEach(function(e){var n=r[e];t["easeIn"+e]=n,t["easeOut"+e]=function(e,t){return function(r){return 1-n(e,t)(1-r)}},t["easeInOut"+e]=function(e,t){return function(r){return r<.5?n(e,t)(2*r)/2:1-n(e,t)(-2*r+2)/2}},t["easeOutIn"+e]=function(e,t){return function(r){return r<.5?(1-n(e,t)(1-2*r))/2:(n(e,t)(2*r-1)+1)/2}}}),t);function v(e,n){if(f.fnc(e))return e;var t=e.split("(")[0],r=y[t],i=p(e);switch(t){case"spring":return h(e,n);case"cubicBezier":return d(m,i);case"steps":return d(g,i);default:return d(r,i)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function _(e,n){for(var t=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<t;o++)if(o in e){var a=e[o];n.call(r,a,o,e)&&i.push(a)}return i}function x(e){return e.reduce(function(e,n){return e.concat(f.arr(n)?x(n):n)},[])}function P(e){return f.arr(e)?e:(f.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection)?[].slice.call(e):[e]}function S(e,n){return e.some(function(e){return e===n})}function w(e){var n={};for(var t in e)n[t]=e[t];return n}function j(e,n){var t=w(e);for(var r in e)t[r]=n.hasOwnProperty(r)?n[r]:e[r];return t}function I(e,n){var t=w(e);for(var r in n)t[r]=f.und(e[r])?n[r]:e[r];return t}function k(e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(n)return n[1]}function O(e,n){return f.fnc(e)?e(n.target,n.id,n.total):e}function T(e,n){return e.getAttribute(n)}function A(e,n,t){if(S([t,"deg","rad","turn"],k(n)))return n;var r=l[n+t];if(!f.und(r))return r;var i=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(i),i.style.position="absolute",i.style.width=100+t;var a=100/i.offsetWidth;o.removeChild(i);var s=a*parseFloat(n);return l[n+t]=s,s}function B(e,n,t){if(n in e.style){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[n]||getComputedStyle(e).getPropertyValue(r)||"0";return t?A(e,i,t):i}}function E(e,n){return f.dom(e)&&!f.inp(e)&&(!f.nil(T(e,n))||f.svg(e)&&e[n])?"attribute":f.dom(e)&&S(a,n)?"transform":f.dom(e)&&"transform"!==n&&B(e,n)?"css":null!=e[n]?"object":void 0}function C(e){if(f.dom(e)){for(var n,t=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;n=r.exec(t);)i.set(n[1],n[2]);return i}}function R(e,n,t,r){switch(E(e,n)){case"transform":var i,o;return i=u(n,"scale")?1:0+(u(n,"translate")||"perspective"===n?"px":u(n,"rotate")||u(n,"skew")?"deg":void 0),o=C(e).get(n)||i,r&&(r.transforms.list.set(n,o),r.transforms.last=n),t?A(e,o,t):o;case"css":return B(e,n,t);case"attribute":return T(e,n);default:return e[n]||0}}function F(e,n){var t=/^(\*=|\+=|-=)/.exec(e);if(!t)return e;var r=k(e)||0,i=parseFloat(n),o=parseFloat(e.replace(t[0],""));switch(t[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function Z(e,n){if(f.col(e)){var t,r,i;return f.rgb(e)?(t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e))?"rgba("+t[1]+",1)":e:f.hex(e)?(r=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,n,t,r){return n+n+t+t+r+r}),"rgba("+parseInt((i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r))[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",1)"):f.hsl(e)?function(e){var n,t,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),o=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100,s=i[4]||1;function c(e,n,t){return(t<0&&(t+=1),t>1&&(t-=1),t<1/6)?e+(n-e)*6*t:t<.5?n:t<2/3?e+(n-e)*(2/3-t)*6:e}if(0==a)n=t=r=l;else{var u=l<.5?l*(1+a):l+a-l*a,d=2*l-u;n=c(d,u,o+1/3),t=c(d,u,o),r=c(d,u,o-1/3)}return"rgba("+255*n+","+255*t+","+255*r+","+s+")"}(e):void 0}if(/\s/g.test(e))return e;var o=k(e),a=o?e.substr(0,e.length-o.length):e;return n?a+n:a}function z(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function L(e){for(var n,t=e.points,r=0,i=0;i<t.numberOfItems;i++){var o=t.getItem(i);i>0&&(r+=z(n,o)),n=o}return r}function D(e){var n;if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*T(e,"r");case"rect":return 2*T(e,"width")+2*T(e,"height");case"line":return z({x:T(e,"x1"),y:T(e,"y1")},{x:T(e,"x2"),y:T(e,"y2")});case"polyline":return L(e);case"polygon":return n=e.points,L(e)+z(n.getItem(n.numberOfItems-1),n.getItem(0))}}function M(e,n){var t=n||{},r=t.el||function(e){for(var n=e.parentNode;f.svg(n)&&f.svg(n.parentNode);)n=n.parentNode;return n}(e),i=r.getBoundingClientRect(),o=T(r,"viewBox"),a=i.width,l=i.height,s=t.viewBox||(o?o.split(" "):[0,0,a,l]);return{el:r,viewBox:s,x:s[0]/1,y:s[1]/1,w:a,h:l,vW:s[2],vH:s[3]}}function N(e,n){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=Z(f.pth(e)?e.totalLength:e,n)+"";return{original:r,numbers:r.match(t)?r.match(t).map(Number):[0],strings:f.str(e)||n?r.split(t):[]}}function K(e){return _(e?x(f.arr(e)?e.map(P):P(e)):[],function(e,n,t){return t.indexOf(e)===n})}function H(e){var n=K(e);return n.map(function(e,t){return{target:e,id:t,total:n.length,transforms:{list:C(e)}}})}var U={css:function(e,n,t){return e.style[n]=t},attribute:function(e,n,t){return e.setAttribute(n,t)},object:function(e,n,t){return e[n]=t},transform:function(e,n,t,r,i){if(r.list.set(n,t),n===r.last||i){var o="";r.list.forEach(function(e,n){o+=n+"("+e+") "}),e.style.transform=o}}};function W(e,n){H(e).forEach(function(e){for(var t in n){var r=O(n[t],e),i=e.target,o=k(r),a=R(i,t,o,e),l=F(Z(r,o||k(a)),a);U[E(i,t)](i,t,l,e.transforms,!0)}})}function G(e,n){var t=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=t?Math.max.apply(Math,e.map(function(e){return r(e)+e.duration})):n.duration,i.delay=t?Math.min.apply(Math,e.map(function(e){return r(e)+e.delay})):n.delay,i.endDelay=t?i.duration-Math.max.apply(Math,e.map(function(e){return r(e)+e.duration-e.endDelay})):n.endDelay,i}var V=0,X=[],q=function(){var e;function n(t){for(var r=X.length,i=0;i<r;){var o=X[i];o.paused?(X.splice(i,1),r--):(o.tick(t),i++)}e=i>0?requestAnimationFrame(n):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){Q.suspendWhenDocumentHidden&&(Y()?e=cancelAnimationFrame(e):(X.forEach(function(e){return e._onDocumentVisibility()}),q()))}),function(){e||Y()&&Q.suspendWhenDocumentHidden||!(X.length>0)||(e=requestAnimationFrame(n))}}();function Y(){return!!document&&document.hidden}function Q(e){void 0===e&&(e={});var n,t,r,a,l,s,u,d,p,g=0,m=0,y=0,b=0,P=null;function S(e){var n=window.Promise&&new Promise(function(e){return P=e});return e.finished=n,n}var T=(t=j(i,n=e),a=function(e,n){var t=[],r=n.keyframes;for(var i in r&&(n=I(function(e){for(var n=_(x(e.map(function(e){return Object.keys(e)})),function(e){return f.key(e)}).reduce(function(e,n){return 0>e.indexOf(n)&&e.push(n),e},[]),t={},r=0;r<n.length;r++)!function(r){var i=n[r];t[i]=e.map(function(e){var n={};for(var t in e)f.key(t)?t==i&&(n.value=e[t]):n[t]=e[t];return n})}(r);return t}(r),n)),n)f.key(i)&&t.push({name:i,tweens:function(e,n){var t=w(n);if(/^spring/.test(t.easing)&&(t.duration=h(t.easing)),f.arr(e)){var r=e.length;2!==r||f.obj(e[0])?f.fnc(n.duration)||(t.duration=n.duration/r):e={value:e}}var i=f.arr(e)?e:[e];return i.map(function(e,t){var r=f.obj(e)&&!f.pth(e)?e:{value:e};return f.und(r.delay)&&(r.delay=t?0:n.delay),f.und(r.endDelay)&&(r.endDelay=t===i.length-1?n.endDelay:0),r}).map(function(e){return I(e,t)})}(n[i],e)});return t}(r=j(o,n),n),u=G(s=_(x((l=H(n.targets)).map(function(e){return a.map(function(n){var t=e,r=n,i=E(t.target,r.name);if(i){var o,a=r.tweens.map(function(e){var n=function(e,n){var t={};for(var r in e){var i=O(e[r],n);f.arr(i)&&1===(i=i.map(function(e){return O(e,n)})).length&&(i=i[0]),t[r]=i}return t.duration=parseFloat(t.duration),t.delay=parseFloat(t.delay),t}(e,t),i=n.value,a=f.arr(i)?i[1]:i,l=k(a),s=R(t.target,r.name,l,t),c=o?o.to.original:s,u=f.arr(i)?i[0]:c,d=k(u)||k(s),p=l||d;return f.und(a)&&(a=c),n.from=N(u,p),n.to=N(F(a,u),p),n.start=o?o.end:0,n.end=n.start+n.delay+n.duration+n.endDelay,n.easing=v(n.easing,n.duration),n.isPath=f.pth(i),n.isPathTargetInsideSVG=n.isPath&&f.svg(t.target),n.isColor=f.col(n.from.original),n.isColor&&(n.round=1),o=n,n}),l=a[a.length-1];return{type:i,property:r.name,animatable:t,tweens:a,duration:l.end,delay:a[0].delay,endDelay:l.endDelay}}})})),function(e){return!f.und(e)}),r),d=V,V++,I(t,{id:d,children:[],animatables:l,animations:s,duration:u.duration,delay:u.delay,endDelay:u.endDelay}));function A(){var e=T.direction;"alternate"!==e&&(T.direction="normal"!==e?"normal":"reverse"),T.reversed=!T.reversed,p.forEach(function(e){return e.reversed=T.reversed})}function B(e){return T.reversed?T.duration-e:e}function C(){g=0,m=B(T.currentTime)*(1/Q.speed)}function Z(e,n){n&&n.seek(e-n.timelineOffset)}function z(e){for(var n=0,t=T.animations,r=t.length;n<r;){var i=t[n],o=i.animatable,a=i.tweens,l=a.length-1,s=a[l];l&&(s=_(a,function(n){return e<n.end})[0]||s);for(var u=c(e-s.start-s.delay,0,s.duration)/s.duration,d=isNaN(u)?1:s.easing(u),f=s.to.strings,p=s.round,h=[],g=s.to.numbers.length,m=void 0,y=0;y<g;y++){var v=void 0,b=s.to.numbers[y],x=s.from.numbers[y]||0;v=s.isPath?function(e,n,t){function r(t){void 0===t&&(t=0);var r=n+t>=1?n+t:0;return e.el.getPointAtLength(r)}var i=M(e.el,e.svg),o=r(),a=r(-1),l=r(1),s=t?1:i.w/i.vW,c=t?1:i.h/i.vH;switch(e.property){case"x":return(o.x-i.x)*s;case"y":return(o.y-i.y)*c;case"angle":return 180*Math.atan2(l.y-a.y,l.x-a.x)/Math.PI}}(s.value,d*b,s.isPathTargetInsideSVG):x+d*(b-x),p&&!(s.isColor&&y>2)&&(v=Math.round(v*p)/p),h.push(v)}var P=f.length;if(P){m=f[0];for(var S=0;S<P;S++){f[S];var w=f[S+1],j=h[S];isNaN(j)||(w?m+=j+w:m+=j+" ")}}else m=h[0];U[i.type](o.target,i.property,m,o.transforms),i.currentValue=m,n++}}function L(e){T[e]&&!T.passThrough&&T[e](T)}function D(e){var n=T.duration,t=T.delay,r=n-T.endDelay,i=B(e);T.progress=c(i/n*100,0,100),T.reversePlayback=i<T.currentTime,p&&function(e){if(T.reversePlayback)for(var n=b;n--;)Z(e,p[n]);else for(var t=0;t<b;t++)Z(e,p[t])}(i),!T.began&&T.currentTime>0&&(T.began=!0,L("begin")),!T.loopBegan&&T.currentTime>0&&(T.loopBegan=!0,L("loopBegin")),i<=t&&0!==T.currentTime&&z(0),(i>=r&&T.currentTime!==n||!n)&&z(n),i>t&&i<r?(T.changeBegan||(T.changeBegan=!0,T.changeCompleted=!1,L("changeBegin")),L("change"),z(i)):T.changeBegan&&(T.changeCompleted=!0,T.changeBegan=!1,L("changeComplete")),T.currentTime=c(i,0,n),T.began&&L("update"),e>=n&&(m=0,T.remaining&&!0!==T.remaining&&T.remaining--,T.remaining?(g=y,L("loopComplete"),T.loopBegan=!1,"alternate"===T.direction&&A()):(T.paused=!0,!T.completed&&(T.completed=!0,L("loopComplete"),L("complete"),!T.passThrough&&"Promise"in window&&(P(),S(T)))))}return S(T),T.reset=function(){var e=T.direction;T.passThrough=!1,T.currentTime=0,T.progress=0,T.paused=!0,T.began=!1,T.loopBegan=!1,T.changeBegan=!1,T.completed=!1,T.changeCompleted=!1,T.reversePlayback=!1,T.reversed="reverse"===e,T.remaining=T.loop,b=(p=T.children).length;for(var n=b;n--;)T.children[n].reset();(T.reversed&&!0!==T.loop||"alternate"===e&&1===T.loop)&&T.remaining++,z(T.reversed?T.duration:0)},T._onDocumentVisibility=C,T.set=function(e,n){return W(e,n),T},T.tick=function(e){y=e,g||(g=y),D((y+(m-g))*Q.speed)},T.seek=function(e){D(B(e))},T.pause=function(){T.paused=!0,C()},T.play=function(){T.paused&&(T.completed&&T.reset(),T.paused=!1,X.push(T),C(),q())},T.reverse=function(){A(),T.completed=!T.reversed,C()},T.restart=function(){T.reset(),T.play()},T.remove=function(e){$(K(e),T)},T.reset(),T.autoplay&&T.play(),T}function J(e,n){for(var t=n.length;t--;)S(e,n[t].animatable.target)&&n.splice(t,1)}function $(e,n){var t=n.animations,r=n.children;J(e,t);for(var i=r.length;i--;){var o=r[i],a=o.animations;J(e,a),a.length||o.children.length||r.splice(i,1)}t.length||r.length||n.pause()}Q.version="3.2.1",Q.speed=1,Q.suspendWhenDocumentHidden=!0,Q.running=X,Q.remove=function(e){for(var n=K(e),t=X.length;t--;)$(n,X[t])},Q.get=R,Q.set=W,Q.convertPx=A,Q.path=function(e,n){var t=f.str(e)?b(e)[0]:e,r=n||100;return function(e){return{property:e,el:t,svg:M(t),totalLength:D(t)*(r/100)}}},Q.setDashoffset=function(e){var n=D(e);return e.setAttribute("stroke-dasharray",n),n},Q.stagger=function(e,n){void 0===n&&(n={});var t=n.direction||"normal",r=n.easing?v(n.easing):null,i=n.grid,o=n.axis,a=n.from||0,l="first"===a,s="center"===a,c="last"===a,u=f.arr(e),d=u?parseFloat(e[0]):parseFloat(e),p=u?parseFloat(e[1]):0,h=k(u?e[1]:e)||0,g=n.start||0+(u?d:0),m=[],y=0;return function(e,n,f){if(l&&(a=0),s&&(a=(f-1)/2),c&&(a=f-1),!m.length){for(var v=0;v<f;v++){if(i){var b=s?(i[0]-1)/2:a%i[0],_=s?(i[1]-1)/2:Math.floor(a/i[0]),x=v%i[0],P=Math.floor(v/i[0]),S=b-x,w=_-P,j=Math.sqrt(S*S+w*w);"x"===o&&(j=-S),"y"===o&&(j=-w),m.push(j)}else m.push(Math.abs(a-v));y=Math.max.apply(Math,m)}r&&(m=m.map(function(e){return r(e/y)*y})),"reverse"===t&&(m=m.map(function(e){return o?e<0?-1*e:-e:Math.abs(y-e)}))}return g+(u?(p-d)/y:d)*(Math.round(100*m[n])/100)+h}},Q.timeline=function(e){void 0===e&&(e={});var n=Q(e);return n.duration=0,n.add=function(t,r){var i=X.indexOf(n),a=n.children;function l(e){e.passThrough=!0}i>-1&&X.splice(i,1);for(var s=0;s<a.length;s++)l(a[s]);var c=I(t,j(o,e));c.targets=c.targets||e.targets;var u=n.duration;c.autoplay=!1,c.direction=n.direction,c.timelineOffset=f.und(r)?u:F(r,u),l(n),n.seek(c.timelineOffset);var d=Q(c);l(d),a.push(d);var p=G(a,e);return n.delay=p.delay,n.endDelay=p.endDelay,n.duration=p.duration,n.seek(0),n.reset(),n.autoplay&&n.play(),n},n},Q.easing=v,Q.penner=y,Q.random=function(e,n){return Math.floor(Math.random()*(n-e+1))+e},n.Z=Q},162309:function(e,n,t){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/[id]/repin",function(){return t(91734).Z}])}},function(e){e.O(0,["11893","15084","16623","19050","23986","25418","30388","32467","3460","39142","51040","5276","53230","54978","56849","59396","60886","64369","6527","65570","65633","67087","80129","82926","83479","88038","90642","97451","9752"],function(){return e(e.s=162309)}),e.O()}]);