(self.legacyJsonp=self.legacyJsonp||[]).push([["81073"],{179362:function(e,s,n){"use strict";var t=n(20256),a=n(719301),r=n(457223),i=n(766857),o=n(24246),l=n(680811);s.Z=function(e){var s=e.businessId,n=e.page,c=(0,o.Z)(),_=(0,i.ZP)(n?(0,i.QK)(n):"BUSINESS_ACCESS_DASHBOARD");return(0,l.jsx)(t.ci,{iconAccessibilityLabel:c._('you have new assets shared with you', '[m10n]businessAccess.NewRmnAssetSharedBanner.PartnerBanner.Title', 'accessibility label for partner callout'),message:(0,l.jsx)(t.xv,{children:(0,l.jsx)(t.xu,{maxWidth:n===a.Q6.PARTNERS_DETAIL?600:void 0,children:(0,l.jsx)(t.xv,{children:c._('A retail media network partner has shared an asset with you. View pending assets to review.', '[m10n]businessAccess.NewRmnAssetSharedBanner.Subtext', 'Subtext providing more details to the user about the request.')})})},"2"),primaryAction:{accessibilityLabel:c._('View new assets', '[m10n]businessAccess.NewRmnAssetSharedBanner.AccessibilityLabel', 'accessibility label for view partners'),label:c._('View pending assets', '[m10n]businessAccess.NewRmnAssetSharedBanner.Label', 'View pending assets banner link'),href:(0,r.Z)(a.Q6.PARTNERS_PENDING_TAB,s),onClick:function(){_({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"new-rmn-partner-assets-banner",element:"BUSINESS_ACCESS_LINK",elementId:"new-rmn-partner-assets-banner-link",business_id:s})},role:"link"},title:c._('You have a new asset from a partner', '[m10n]businessAccess.NewRmnAssetSharedBanner.Title', 'Text informing user they have a new asset from a partner.'),type:"info"})}},76121:function(e,s,n){"use strict";var t=n(653551),a=n(20256),r=n(719301),i=n(766857),o=n(24246),l=n(216975),c=n(173874),_=n(672720),u=n(458630),d=n(89446),b=n(520803),m=n(680811);s.Z=function(e){var s=e.partner,n=e.businessId,h=e.partnerRole,p=(0,b.Z)().params.businessHierarchyId,A=(0,o.Z)(),f=(0,i.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),g=(0,t.TH)(),y=(0,d.HU)(),P=y.setAssignProfilesModal,I=y.setRemoveProfilePermissionsModal,S=!1;h&&(S=!0);var E=A._('Revoke access', '[m10n]bizAccess.profile.permissions.revoke.access', 'Button label for action to remove profile permissions for the partner'),v=(0,m.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:A._('publisher permission', 'businessaccess.partner.profile.revokeAccess.message.publisherPermission', 'Text explaining profile permission assigned')},"publisher-permission"),T=(0,m.jsx)(a.xv,{inline:!0,size:"300",children:(0,l.nk)(A._('You have granted this partner {{publisherPermission}} to your profile. Publisher permission allows your partner to create, edit and organize your Pins and boards.', '[m10n]businessaccess.partner.profile.revokeAccess.message', 'Text explaining profile permission assigned. publisherPermission: bolded text for publisher permission'),{publisherPermission:v})},"publisher-permission-assigned"),N=(0,m.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",margin:12,minHeight:_.xu,children:[(0,m.jsx)(a.xv,{size:"300",children:A._('You have not assigned profile access', '[m10n]businessAccess.businessManager.partnerProfile.noAssignedProfileAccess.title', 'Title shown to indicate no profile access has been assigned')}),(0,m.jsx)(a.xu,{marginTop:2,maxWidth:400,children:(0,m.jsx)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,m.jsx)(a.xv,{align:"center",color:"subtle",inline:!0,size:"200",children:(0,l.nk)(A._('Assign the Publisher permission so that your partner can work on your profile, boards and Pins without sharing login credentials. {{learnMore}}', '[m10n]businessAccess.businessManager.partnerProfile.noAssignedProfileAccess.message', 'Message shown to inform user what profile access is. learnMore: text with link to profile permissions help page'),{learnMore:(0,m.jsx)(_.mz,{},1)})},0)})}),(0,m.jsx)(a.xu,{id:"assign-profile-access-button",marginTop:2,padding:3,children:(0,m.jsx)(a.zx,{color:"red",onClick:function(){P({selectedIds:[n],selectionType:r.Hl.PROFILE,dataToRefresh:"PARTNER_PROFILE",assignmentType:"PARTNER"})},size:"md",text:A._('Assign profile access', '[m10n]bizAccess.profiles.assign', 'Button label for action to assign access to profile')})})]},"partner-profile-no-assigned-access");return S?(0,m.jsx)(a.he,{message:T,primaryAction:{accessibilityLabel:A._('Revoke access button text', '[m10n]bizAccess.profile.permissions.revoke.access.accessibility', 'Revoke access button text'),label:E,onClick:function(){(0,c.dK)(g)&&f({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"partner-profile-permissions",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",profile_id:n}),I({userData:s.user,selectionType:r.Hl.PARTNER,profileId:n,dataToRefresh:p?"HIERARCHY_PARTNER_PROFILE":"PARTNER_PROFILE"})}},type:"neutral"}):(0,m.jsx)(u.Z,{items:[N]})}},979272:function(e,s,n){"use strict";var t=n(711538),a=n(594110),r=n(680811);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,s){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);s&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,t)}return n}var l=function(e){var s,n,i=e.data,o=i.asset?i.asset:{id:null!=(s=i.asset_id)?s:"",name:null!=(n=i.name)?n:""},l=o.id,c=o.name;return(0,r.jsx)(t.Z,{size:"md",subtext:l,text:c,weight:a.I.weights.bold})};s.Z=function(e){return{field:"name",sortable:!0,headerName:e._('Asset group', '[m10n]bizAccess.business.history.assetName', 'Name of asset that was changed'),TableCellComponent:function(e){return(0,r.jsx)(l,function(e){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{};s%2?o(Object(n),!0).forEach(function(s){var t,a;t=s,a=n[s],(t=function(e){var s=function(e,s){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,s||"default");if("object"!=i(t))return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==i(s)?s:s+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}({},e))},minWidth:a.I.columnWidths.lg,isActivelySorted:!0,weight:a.I.weights.bold}}},828206:function(e,s,n){"use strict";var t=n(20256),a=n(143754),r=n(594110),i=n(591786),o=n(680811);s.Z=function(e){return{field:"business_roles",headerName:(0,o.jsxs)(t.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,o.jsx)(t.xv,{size:"200",weight:"bold",children:e._('Asset group permissions', '[m10n]bizAccess.business.assetGroups.permissions', 'Asset groups permissions table header')}),(0,o.jsx)(t.u,{text:e._('Permissions for asset groups, ad accounts and profiles are cumulative, meaning members retain the highest permission possible. If you wish to remove a member\u2019s access, please verify permissions have been removed from both asset groups and individual assets.', '[m10n]bizAccess.business.businessSecurity.securityStatus.tooltip', 'Tooltip info for security status column'),children:(0,o.jsx)(t.hU,{accessibilityLabel:e._('Additional info.', '[m10n]bizAccess.business.assetGroups.permissions.tooltip', 'Accessibility label for tooltip on asset group permissions column'),bgColor:"white",icon:"info-circle",iconColor:"darkGray",size:"sm"})})]}),TableCellComponent:function(e){return(0,o.jsx)(t.xu,{alignItems:"center",display:"flex",height:"100%",padding:0,width:"100%",children:(0,o.jsx)(t.xv,{size:"200",children:e.value})})},valueGetter:function(s){var n=(0,i.e6)(e);return(s.permissions||[]).map(n).join((0,a.bH)(e))},sortable:!1,isActivelySorted:!1,minWidth:r.I.columnWidths.sm,justifying:"start"}}},129405:function(e,s,n){"use strict";n.d(s,{Z:function(){return eh}});var t=n(719301),a=n(999294),r=n(387784),i=n(581722),o=n(653551),l=n(20256),c=n(537391),_=n(457223),u=n(230201),d=n(224625),b=n(24246),m=n(216975),h=n(501010),p=n(774838),A=n(179362),f=n(220130),g=n(540846),y=n(926604),P=n(516037),I=n(493215),S=n(534690),E=n(826703),v=n(552263),T=n(672720),N=n(256796),z=n(460491),R=n(76121),C=n(200186),x=n(607618),w=n(594110),D=n(384408),O=n(979272),j=n(828206),B=n(283937),L=n(84723),k=n(738424),Z=n(122413),U=n(600600),X=n(372491),G=n(300634),H=n(472504),M=n(502225),F=n(355750),Q=n(791953),V=n(577432),K=n(488335),q=n(997973),W=n(120516),Y=n(140537),J=n(555787),$=n(300214),ee=n(618550),es=n(89446),en=n(680811);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e){return function(e){if(Array.isArray(e))return ed(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eu(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,s,n,t,a,r,i){try{var o=e[r](i),l=o.value}catch(e){return void n(e)}o.done?s(l):Promise.resolve(l).then(t,a)}function ei(e){return function(){var s=this,n=arguments;return new Promise(function(t,a){var r=e.apply(s,n);function i(e){er(r,t,a,i,o,"next",e)}function o(e){er(r,t,a,i,o,"throw",e)}i(void 0)})}}function eo(e,s){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);s&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,t)}return n}function el(e){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{};s%2?eo(Object(n),!0).forEach(function(s){ec(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ec(e,s,n){var t;return(t=function(e,s){if("object"!=et(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,s||"default");if("object"!=et(t))return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"),(s="symbol"==et(t)?t:t+"")in e)?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}function e_(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,s){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,r,i,o=[],l=!0,c=!1;try{if(r=(n=n.call(e)).next,0===s){if(Object(n)!==n)return;l=!1}else for(;!(l=(t=r.call(n)).done)&&(o.push(t.value),o.length!==s);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,s)||eu(e,s)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eu(e,s){if(e){if("string"==typeof e)return ed(e,s);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ed(e,s):void 0}}function ed(e,s){(null==s||s>e.length)&&(s=e.length);for(var n=0,t=Array(s);n<s;n++)t[n]=e[n];return t}var eb=function(e){var s,n=e.businessId,t=e.activeTabIndex,a=e.AD_ACCOUNTS_TAB_INDEX,o=e.ASSET_GROUPS_TAB_INDEX,c=e.AUDIENCES_TAB_INDEX,_=e.CATALOGS_TAB_INDEX,d=e.CONVERSIONS_TAB_INDEX,m=e.isPartnerRmn,p=(0,h.Z)(),A=(0,u.u)().logContextEvent,f=(0,b.Z)(),g=e_((0,r.useState)(""),2),y=g[0],P=g[1],I=(0,i.I0)(),E=(0,es.nU)(),T=p.checkExperiment,N=T("web_m10n_business_access_catalogs").anyEnabled,z=T("web_business_access_conversion_sharing").anyEnabled,R=(0,v.Z)().isBrandBusiness,C=/\d{12}/.test(y)?"id":"name",x=el(el(el((ec(s={},a,{getData:function(){I((0,M.ek)({searchBy:C,searchTerm:y,businessId:n,detailId:E,assetPermissionType:0,experimentsClient:p}))},searchPlaceholder:f._('Search ad accounts', '[m10n]bizAccess.partnerDetails.ad.account.search', '[m10n] search ad account table by name, id or business name'),searchAccessibilityLabel:f._('Search ad accounts', '[m10n]bizAccess.partnerDetails.ad.account.searchAccessibilityLabel', '[m10n] search ad account table by name, id or business name')}),ec(s,null!=o?o:"undefined",{getData:function(){I((0,M.lB)({searchBy:C,searchTerm:y,businessId:n,detailId:E}))},searchPlaceholder:f._('Search asset groups', '[m10n]bizAccess.partnerDetails.asset.groups.search', '[m10n] search asset groups table by name, id or business name'),searchAccessibilityLabel:f._('Search asset groups', '[m10n]bizAccess.partnerDetails.asset.groups.searchAccessibilityLabel', '[m10n] search asset groups table by name, id or business name')}),s),N?ec({},_,{getData:function(){I((0,M.Kb)({partnerType:m?"EXTERNAL":"INTERNAL",searchBy:C,searchTerm:y,businessId:n,detailId:E}))},searchPlaceholder:f._('Search catalog name or ID', '[m10n]bizAccess.partnerDetails.catalogs.search', '[m10n] search catalog table by name, id'),searchAccessibilityLabel:f._('Search catalogs', '[m10n]bizAccess.partnerDetails.asset.groups.searchAccessibilityLabel', '[m10n] search asset groups table by name, id')}):{}),R||m?ec({},c,{getData:function(){I((0,M.zQ)({searchTerm:y,businessId:n,partnerId:E,partnerType:"INTERNAL"}))},searchPlaceholder:f._('Search audience name or ID', '[m10n]bizAccess.partnerDetails.audiences.search', '[m10n] search audience table by name, id'),searchAccessibilityLabel:f._('Search audiences', '[m10n]bizAccess.partnerDetails.audience.searchAccessibilityLabel', '[m10n] search audience table by name, id')}):{}),z?ec({},d,{getData:function(){I((0,M.uQ)({searchTerm:y,businessId:n,detailId:E,partnerType:"EXTERNAL"}))},searchPlaceholder:f._('Search conversion segment name', '[m10n]bizAccess.partnerDetails.conversionData.search', '[m10n] search conversion segment table by name'),searchAccessibilityLabel:f._('Search conversion segment name', '[m10n]bizAccess.partnerDetails.conversionData.searchAccessibilityLabel', '[m10n] search conversion segment table by name')}):{});return(0,S.Z)(function(){x[t].getData(),A({event_type:8967,component:13628,aux_data:{business_id:n}})},w.I.debounceTimeOut,[y]),(0,en.jsx)(l.Um,{accessibilityLabel:x[t].searchAccessibilityLabel,id:"bizMemberSearch",onChange:function(e){P(e.value)},placeholder:x[t].searchPlaceholder,value:y})},em=function(){var e,s,n,a,S,et,er,eo,eu=(0,u.u)().logContextEvent,ed=(0,g.y)().openSheet,em=(0,p.B)().locale,eh=(0,es.KJ)(),ep=(0,es.nU)(),eA=(0,i.v9)(J._1),ef=(0,i.v9)((0,J.BK)(ep)),eg=(0,i.v9)((0,J.mr)(ep)),ey=(0,i.v9)(ee.Xj),eP=(0,i.v9)(V.wk),eI=(0,i.v9)(K.A0),eS=(0,i.v9)(K.HW),eE=(0,i.v9)((0,ee.ut)(ep)),ev=(0,i.v9)($.XD),eT=(0,i.v9)(W.zW),eN=(0,i.v9)(W.bw),ez=(0,i.v9)(W.e_),eR=(0,i.v9)(q.FY),eC=(0,i.v9)(q.md),ex=(0,i.v9)(Y.BH),ew=(0,i.v9)(Y.kg),eD=(0,o.s0)(),eO=e_((0,r.useState)(0),2),ej=eO[0],eB=eO[1],eL=(0,(0,c.g)().getParentHierarchyForIdIfExists)(eh),ek=null==eL?void 0:eL.id,eZ=(0,h.Z)(),eU=eZ.checkExperiment,eX=eU("web_business_access_table_reload_fix").anyEnabled,eG=eU("web_m10n_business_hierarchy_beta").anyEnabled,eH=eU("web_m10n_business_access_catalogs").anyEnabled,eM=eU("business_access_rmn_audience_beta").anyEnabled,eF=eU("web_business_access_conversion_sharing").anyEnabled,eQ=eU("business_access_rmn_catalog_sharing").anyEnabled,eV=(0,P.Z)({customExperimentNames:["business_access_rmn_brand_agency_catalog_sharing"]}).data,eK=(0,E.Z)().isBrandBusinessV2,eq=(0,v.Z)(),eW=eq.isBrandBusiness,eY=eq.inRmnFoundations,eJ=eY&&eQ&&!!eV.business_access_rmn_brand_agency_catalog_sharing,e$=eY&&null!==ef.rmn_or_brand&&"RMN"===ef.rmn_or_brand,e0=eY&&eK&&eQ,e1=e$?eT:eN,e2=(0,C.Z)({isRmnOrBrandBusiness:eW||e$,inCatalogManagment:eH,isPartnerRmnOrBrand:e$,inConversionSharing:eF}),e6=e2.AD_ACCOUNTS_TAB_INDEX,e9=e2.AUDIENCES_TAB_INDEX,e7=e2.CATALOGS_TAB_INDEX,e3=e2.CONVERSIONS_TAB_INDEX,e4=e2.PROFILES_TAB_INDEX,e5=e2.ASSET_GROUPS_TAB_INDEX,e8=e2.SETTINGS_TAB_INDEX,se=e_((0,r.useState)({permissionsUpdateToast:!1}),2),ss=se[0],sn=se[1],st=e_((0,r.useState)(!0),2),sa=st[0],sr=st[1],si=ey.reduce(function(e,s){return el(el({},e),ec({},s.asset_id,s.permissions))},{}),so=null==ef||null==(s=ef.created_by_business)?void 0:s.id,sl=null==ef||null==(n=ef.user)?void 0:n.id,sc=so===eh,s_=ef.is_reseller,su=(0,b.Z)(),sd=(0,i.I0)(),sb=(0,es.HU)().setAssignAdAccountsModal,sm=e_((0,r.useState)(!1),2),sh=sm[0],sp=sm[1],sA=e_((0,r.useState)([]),2),sf=sA[0],sg=sA[1],sy=e_((0,r.useState)(!1),2),sP=sy[0],sI=sy[1],sS=e$?"EXTERNAL":"INTERNAL",sE=(0,I.Z)(eh,ep,sS);(0,r.useEffect)(function(){eh&&ep&&(sd((0,M.JL)({businessId:eh,detailId:ep,reloadBugFix:eX,experimentsClient:eZ,businessPartnerType:eY?"UNDEFINED":void 0})),sd((0,H.Mm)(["PENDING"],eh,!0)),eY&&e$&&(sd({type:"CLEAR_PENDING_ASSETS"}),sd((0,F.r)(eh,ep))),ej===e5?sd((0,M.lB)(el({businessId:eh,detailId:ep},t.vk))):ej===e7&&eH?(sd((0,M.Kb)(el(el({businessId:eh,detailId:ep},t.vk),{},{partnerType:sS}))),ei(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:sp(!0);case 1:case"end":return e.stop()}},e)}))()):ej===e9&&(eW||e$)?eh&&sl&&sd((0,M.zQ)({sortBy:"name",searchBy:"name",businessId:eh,partnerId:sl,partnerType:"INTERNAL"})):ej===e3&&e$&&eF?sd((0,M.uQ)({businessId:eh,detailId:sl,partnerType:"EXTERNAL"})):ej===e8&&(sI(!0),sd((0,M.Al)({businessId:eh,partnerId:sl,partnerType:"EXTERNAL",onSuccess:function(e){sg(e),sI(!1)},onFailure:function(){sg([]),sI(!1)}}))))},[eh,ep,ej]),(0,r.useEffect)(function(){eY&&!eA&&0===Object.keys(ef).length&&sd((0,M.BZ)({businessId:eh,detailId:ep,businessPartnerType:eY?"UNDEFINED":void 0}))},[eh,ep,eY,eA,ef]);var sv=[(0,B.Z)(su),(0,U.Z)(su,function(e,s){sd((0,Q.C5)({userId:ep,permissions:s,adAccountId:e,businessId:eh,assignmentType:"PARTNER",businessHierarchyNodeId:ek}))},si,"PARTNERS_DETAIL",void 0,void 0,void 0,ss,sn,sr),(0,G.Z)("PARTNER","PARTNER")],sT=Object.keys(e1).reduce(function(e,s){return el(el({},e),{},ec({},s,e1[s].permissions))},{}),sN=[(0,B.Z)(su,{headerName:su._('Catalog name', '[m10n]bizAccess.business.partners.catalogName', 'header of column displaying catalog name')}),(0,Z.Z)(su),(0,k.Z)({individualAssignedPermissionsMap:sT,i18n:su,pageType:"PARTNERS_DETAIL",setShouldReloadTable:sr,setShouldShowToast:sn,shouldShowToast:ss,updateCatalogPermission:(e=ei(regeneratorRuntime.mark(function e(s,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!ep){e.next=4;break}return e.next=3,sd((0,Q.FE)({userId:ep,permissions:n,adAccountId:s,businessId:eh,assignmentType:"PARTNER",businessHierarchyNodeId:ek}));case 3:sd((0,M.Kb)(el(el({businessId:eh,detailId:ep},t.vk),{},{partnerType:sS})));case 4:case"end":return e.stop()}},e)})),function(s,n){return e.apply(this,arguments)})}),(0,D.Z)(su,"PARTNER","REVOKE_CATALOG_PERMISSIONS",void 0,sE,"BUSINESS_ACCESS_PARTNERS_ACTIVE")],sz=[(0,B.Z)(su,{headerName:su._('Conversion segments', '[m10n]businessAccess.business.partners.conversionSegmentName', 'header of column displaying conversion segment name'),sortable:!1}),(0,L.Z)(su,{businessId:eh}),(0,D.Z)(su,"CONVERSION_SEGMENT","REMOVE_OR_LINK")],sR=[(0,B.Z)(su,{headerName:su._('Audience name', '[m10n]businessAccess.business.partners.audienceName', 'header of column displaying audience name'),sortable:!1}),(0,D.Z)(su,"PARTNER","EDIT_OR_REVOKE_AUDIENCE_PERMISSION")];eM&&sR.splice(1,0,(0,X.Z)(su,em));var sC=eE?(0,en.jsx)(l.ci,{iconAccessibilityLabel:su._('Info icon', '[m10n]Partner.detail.callout', 'icon for information callout'),message:(0,m.nk)(su.ngettext('{{ name }} is requesting access to {{ number }} ad account', '{{ name }} is requesting access to {{ number }} ad accounts', eE.assets_summary.ad_account, '[m10n]bizAccess.callout.requests.pending', 'Text in callout letting user know they have pending requests'),{number:eE.assets_summary.ad_account,name:ef.user.full_name}).join(""),primaryAction:{href:(0,_.Z)("PARTNERS_PENDING_TAB",eh),label:su._('View request', '[m10n]bizAccess.callout.request.a11y', 'view request action'),accessibilityLabel:su._('View request for access to ad accounts', '[m10n]bizAccess.callout.request.a11y', 'Accessibility label for view request action'),role:"link"},title:su._('You\'ve received a request!', 'Partner.detail.callout', 'Confirming to the user that request was created'),type:"info"}):null,sx=eY&&e$&&ev?(0,en.jsx)(A.Z,{businessId:eh,page:t.Q6.PARTNERS_DETAIL}):sC,sw=function(e){var s=e.activeTabIndex;ej!==s&&(eu({event_type:101,component:13628,element:[12677,12678,13723][ej],aux_data:{business_id:eh}}),eB(s))},sD=(0,en.jsx)(l.mQ,{activeTabIndex:ej,onChange:function(e){var s=e.activeTabIndex,n=e.event,t=e.dangerouslyDisableOnNavigation;n.preventDefault(),t(),sw({activeTabIndex:s})},tabs:[{id:"ac_accounts_tab",text:su._('Ad accounts', '[m10n]bizAccess.partners.detail.adAccountsTab', 'Name to be shown in Ad accounts tab title'),href:"#"}].concat(ea(eW||e$?[{id:"audiences_tab",text:su._('Audiences', '[m10n]bizAccess.partners.detail.audiences_tab', 'Name to be shown in Audiences tab title'),href:"#"}]:[]),ea(eH?[{id:"catalogs_tab",text:su._('Catalogs', '[m10n]bizAccess.partners.detail.catalogs_tab', 'Name to be shown in Profiles tab title'),href:"#"}]:[]),ea(e$&&eF?[{id:"shared_conversions_tab",text:su._('Conversions', '[m10n]bizAccess.sharedPartner.detail.conversionsTab', 'Name to be shown in Conversions tab title'),href:"#"}]:[]),ea(e$?[]:[{id:"profile_permissions_tab",text:su._('Profiles', '[m10n]bizAccess.partners.detail.profilesTab', 'Name to be shown in Profiles tab title'),href:"#"}]),ea(e$?[]:[{id:"asset_groups_tab",text:su._('Asset groups', '[m10n]bizAccess.partners.detail.assetGroupsTab', 'Name to be shown in Asset groups tab title'),href:"#"}]),ea(e$?[{id:"settings_tab",text:su._('Settings', '[m10n]bizAccess.partners.detail.settings_tab', 'Name to be shown in Settings tab title'),href:"#"}]:[]))}),sO=el(ec({},e6.toString(),!sc||s_||e$?null:(0,en.jsx)(l.zx,{color:"red",onClick:function(){sb({selectedIds:[ep],selectionType:t.c7.AD_ACCOUNT,dataToRefresh:"PARTNER",assignmentType:"PARTNER"})},text:su._('Assign ad accounts', '[m10n]bizAccess.ad.accounts.add', 'Button label for action to assign more ad accounts')})),eH&&!e$?ec({},e7?e7.toString():"undefined",(0,en.jsx)(l.zx,{color:"red",onClick:function(){ed("ASSIGN_ACCESS_FOR_CATALOG",{currentPartner:ef,refreshData:function(){return sd((0,M.Kb)(el(el({businessId:eh,detailId:ep},t.vk),{},{partnerType:sS})))},type:"ASSIGN_CATALOGS_ACCESS_FOR_AGENCY_PARTNER"})},text:su._('Assign catalog access', '[m10n]bizAccess.catalogs.add', 'Button label for action to assign catalog access')})):{}),sj=null==eg||null==(a=eg.profiles)?void 0:a.find(function(e){return e.id===eh}),sB=(ec(S={},e6,{onSortChange:function(e,s){sd((0,M.ek)({sortBy:e,sortDirection:s,businessId:eh,detailId:ep,assetPermissionType:0,experimentsClient:eZ}))},onPageChange:function(e){sd((0,M.ek)({page:e,businessId:eh,detailId:ep,assetPermissionType:0,experimentsClient:eZ}))},onRowCountChange:function(e){sd((0,M.ek)({limit:e,businessId:eh,detailId:ep,assetPermissionType:0,experimentsClient:eZ}))},rows:ey.map(function(e){return el(el({},e),{},{partner:{is_reseller:s_,rmn_or_brand:ef.rmn_or_brand}})}),tableIsLoading:eP&&sa,columnDefs:sv,emptyState:(0,en.jsx)(T.FW,{})}),ec(S,null!=e9?e9:"undefined",{rows:Object.values(eR),tableIsLoading:eC&&sa,columnDefs:sR,emptyState:(0,en.jsx)(T.R6,{}),onRowCountChange:function(e){return sd((0,M.zQ)({limit:e,businessId:eh,partnerId:sl,partnerType:"EXTERNAL"}))},onPageChange:function(e){sd((0,M.zQ)({page:e,businessId:eh,partnerId:sl,partnerType:"EXTERNAL"}))},onSortChange:function(e,s){sd((0,M.zQ)({sortBy:e,sortDirection:s,businessId:eh,partnerId:sl,partnerType:"EXTERNAL"}))}}),ec(S,null!=e7?e7:"undefined",{onSortChange:function(e,s){return sd((0,M.Kb)({sortBy:e,sortDirection:s,businessId:eh,detailId:ep,partnerType:sS}))},onPageChange:function(e){sd((0,M.Kb)({page:e,businessId:eh,detailId:ep,partnerType:sS}))},onRowCountChange:function(e){return sd((0,M.Kb)({limit:e,businessId:eh,detailId:ep,partnerType:sS}))},rows:Object.values(e1),tableIsLoading:ez&&sa,columnDefs:sN,emptyState:sh?(0,en.jsx)(T.lX,{isAgencyPartner:eJ&&!e$,isBrandBusiness:e0,isPartnerRmn:e$,selectedPartner:ef}):(0,en.jsx)(T.Vs,{})}),ec(S,null!=e3?e3:"undefined",{onSortChange:function(e,s){return sd((0,M.uQ)({sortBy:e,sortDirection:s,businessId:eh,detailId:sl,partnerType:"EXTERNAL"}))},onPageChange:function(e){sd((0,M.uQ)({page:e,businessId:eh,detailId:sl,partnerType:"EXTERNAL"}))},onRowCountChange:function(e){return sd((0,M.uQ)({limit:e,businessId:eh,detailId:sl,partnerType:"EXTERNAL"}))},rows:Object.values(ex),tableIsLoading:ew,columnDefs:sz,emptyState:(0,en.jsx)(x.H,{description:su._('In order to view conversion segments, your media network partner must share conversion data with you', '[m10n].bizAccess.partner.conversionData.emptyState.brandDescription', 'Description how to get conversion segment data for conversion data sharing'),header:su._('Conversion data unavailable', '[m10n].bizAccess.partner.conversionData.emptyState.brandHeader', 'Header of conversion data table empty state for RMN business'),image:(0,en.jsx)(l.Ee,{alt:"",naturalHeight:1,naturalWidth:1,src:d})})}),ec(S,null!=e5?e5:"undefined",{onSortChange:function(e,s){return sd((0,M.lB)({sortBy:e,sortDirection:s,businessId:eh,detailId:ep}))},onPageChange:function(e){return sd((0,M.lB)({page:e,businessId:eh,detailId:ep}))},onRowCountChange:function(e){return sd((0,M.lB)({limit:e,businessId:eh,detailId:ep}))},rows:Object.values(eI),tableIsLoading:eS,columnDefs:[(0,O.Z)(su),(0,L.Z)(su,{businessId:eh}),(0,j.Z)(su)],getOnClickUrl:function(e){return(0,_.Z)(t.Q6.ASSET_GROUPS,eh,e.id)}}),S),sL=null==(et=sB[ej])?void 0:et.rows,sk=(e0&&e$||eJ)&&ej===e7&&Array.isArray(sL)&&0===sL.length;return(0,en.jsx)(N.Z,{assetFlowBannerText:ej!==e6||e$?null:su._('You can share ad account access with this partner or they can request ad account access from you', '[m10n]bizAccess.partners.detail.asset.flow.visualization.ad.account', 'Information on how ad account permissions are shared'),backButtonText:su._('Back to partners', '[m10n]bizAccess.partners.detail.back', '[m10n] button label for action to navigate back to partners page'),callout:sx,cta:!sO[ej.toString()]||sk||null!=(er=sB[ej])&&er.tableIsLoading?null:sO[ej],onBackButtonClick:function(){eD((0,_.Z)("PARTNERS",eh))},pageContent:(0,en.jsxs)(r.Fragment,{children:[sk&&sB[ej].emptyState,ej!==e4&&ej!==e8&&!sk&&(0,en.jsx)(w.Z,{columnDefs:sB[ej].columnDefs,customEmptyState:eG?sB[ej].emptyState||(0,en.jsx)(T.FW,{}):null,getOnClickUrl:sB[ej].getOnClickUrl,hideHeader:ej===e3&&0===ex.length,id:t.Q6.PARTNERS_DETAIL,isLoading:!!sB[ej].tableIsLoading,isPaginationOptional:eH&&ej===e7||(eW||e$)&&ej===e9||e$&&eF&&ej===e3,onPageChange:sB[ej].onPageChange,onRowCountChange:sB[ej].onRowCountChange,onSortChange:sB[ej].onSortChange,pageType:t.Q6.PARTNERS_DETAIL,rowData:sB[ej].rows}),ej===e4&&(0,en.jsx)(R.Z,{businessId:eh,partner:ef,partnerRole:null==sj?void 0:sj.permissions[0]}),ej===e8&&(0,en.jsx)(z.Z,{domainRestrictionsLoading:sP,partnerId:sl,partnerType:y.lm.RMN,restrictedDomains:sf})]}),pageType:t.Q6.PARTNERS_DETAIL,search:ej===e4||ej===e9&&(eW||e$)||ej===e8&&e$||ej===e3&&0===ex.length||sk||null!=(eo=sB[ej])&&eo.tableIsLoading?null:(0,en.jsx)(eb,{activeTabIndex:ej,AD_ACCOUNTS_TAB_INDEX:e6,ASSET_GROUPS_TAB_INDEX:null!=e5?e5:Number.MAX_SAFE_INTEGER,AUDIENCES_TAB_INDEX:null!=e9?e9:Number.MAX_SAFE_INTEGER,businessId:eh,CATALOGS_TAB_INDEX:null!=e7?e7:Number.MAX_SAFE_INTEGER,CONVERSIONS_TAB_INDEX:null!=e3?e3:Number.MAX_SAFE_INTEGER,isPartnerRmn:e$}),sidebar:(0,en.jsx)(f.Z,{}),tabs:sD,title:su._('Partner details', '[m10n]bizAccess.partners.detail.shared.title', 'Heading containing the number of shared accounts')})},eh=function(){return(0,en.jsx)(a.Z,{pageType:t.Q6.PARTNERS_DETAIL,children:(0,en.jsx)(em,{})})}},236066:function(e,s,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/business-manager/[userBizId]/partners/[detailId]/details",function(){return n(129405).Z}])}},function(e){e.O(0,["14906","25418","32467","33699","34709","34799","3519","38489","39142","48961","55170","59306","60886","63638","70426","72112","73679","75984","79763","85857","88038","91444","92298","95964"],function(){return e(e.s=236066)}),e.O()}]);