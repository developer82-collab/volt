(self.legacyJsonp=self.legacyJsonp||[]).push([["77158"],{741752:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(994193);function s(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function o(e,t){return a.apply(this,arguments)}function a(){var e;return e=regeneratorRuntime.mark(function e(t,n){var s,o,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,r.t)().api,o=(0,r.u)(),e.prev=2,o.attempt("createSFDCAccount",n),a=new Date().getTime(),i="/ads/v4/advertisers/".concat(t.advertiser_id,"/sfdc_account"),l={},e.next=9,s.post(i,l,!1);case 9:o.success("createSFDCAccount",n),o.latency("createSFDCAccount",new Date().getTime()-a,n),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(2),o.failure("createSFDCAccount",n),e.t0;case 17:case"end":return e.stop()}},e,null,[[2,13]])}),(a=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}(0,r.u)()},657811:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(994193);function s(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function o(e,t){return a.apply(this,arguments)}function a(){var e;return e=regeneratorRuntime.mark(function e(t,n){var s,o,a,i,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,r.t)().api,o=(0,r.u)(),e.prev=2,o.attempt("getAdGroup",n),a=new Date().getTime(),i="/ads/v4/advertisers/".concat(t.advertiser_id,"/ad_groups/").concat(t.ad_group_id),l={translate_interests_to_names:t.translate_interests_to_names},e.next=9,s.get(i,l,!1);case 9:return c=e.sent,o.success("getAdGroup",n),o.latency("getAdGroup",new Date().getTime()-a,n),e.abrupt("return",c);case 15:throw e.prev=15,e.t0=e.catch(2),o.failure("getAdGroup",n),e.t0;case 19:case"end":return e.stop()}},e,null,[[2,15]])}),(a=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}(0,r.u)()},339146:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(994193);function s(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function o(e,t){return a.apply(this,arguments)}function a(){var e;return e=regeneratorRuntime.mark(function e(t,n){var s,o,a,i,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,r.t)().api,o=(0,r.u)(),e.prev=2,o.attempt("getAudiences",n),a=new Date().getTime(),i="/ads/v4/advertisers/".concat(t.advertiser_id,"/audiences"),l={page_size:t.page_size,order:t.order,bookmark:t.bookmark,audience_type:t.audience_type,search_query:t.search_query,flatten_rule:t.flatten_rule,start_index:t.start_index,order_by:t.order_by,audience_ids:t.audience_ids,audience_types:t.audience_types,audience_statuses:t.audience_statuses,order_by_last_seen_value:t.order_by_last_seen_value,last_id:t.last_id},e.next=9,s.get(i,l,!1);case 9:return c=e.sent,o.success("getAudiences",n),o.latency("getAudiences",new Date().getTime()-a,n),e.abrupt("return",c);case 15:throw e.prev=15,e.t0=e.catch(2),o.failure("getAudiences",n),e.t0;case 19:case"end":return e.stop()}},e,null,[[2,15]])}),(a=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}(0,r.u)()},183888:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(994193);function s(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function o(e,t){return a.apply(this,arguments)}function a(){var e;return e=regeneratorRuntime.mark(function e(t,n){var s,o,a,i,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,r.t)().api,o=(0,r.u)(),e.prev=2,o.attempt("getCampaign",n),a=new Date().getTime(),i="/ads/v4/advertisers/".concat(t.advertiser_id,"/campaigns/").concat(t.campaign_id),l={},e.next=9,s.get(i,l,!1);case 9:return c=e.sent,o.success("getCampaign",n),o.latency("getCampaign",new Date().getTime()-a,n),e.abrupt("return",c);case 15:throw e.prev=15,e.t0=e.catch(2),o.failure("getCampaign",n),e.t0;case 19:case"end":return e.stop()}},e,null,[[2,15]])}),(a=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}(0,r.u)()},10953:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(994193);function s(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function o(e,t,n){return a.apply(this,arguments)}function a(){var e;return e=regeneratorRuntime.mark(function e(t,n,s){var o,a,i,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,r.t)().api,a=(0,r.u)(),e.prev=2,a.attempt("postTermsOfService",s),i=new Date().getTime(),l="/ads/v4/advertisers/".concat(t.advertiser_id,"/terms_of_service"),e.next=8,o.post(l,n,!1);case 8:return c=e.sent,a.success("postTermsOfService",s),a.latency("postTermsOfService",new Date().getTime()-i,s),e.abrupt("return",c);case 14:throw e.prev=14,e.t0=e.catch(2),a.failure("postTermsOfService",s),e.t0;case 18:case"end":return e.stop()}},e,null,[[2,14]])}),(a=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}(0,r.u)()},408713:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(994193);function s(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function o(e,t,n){return a.apply(this,arguments)}function a(){var e;return e=regeneratorRuntime.mark(function e(t,n,s){var o,a,i,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,r.t)().api,a=(0,r.u)(),e.prev=2,a.attempt("updateAdvertiser",s),i=new Date().getTime(),l="/ads/v4/advertisers/".concat(t.advertiser_id),e.next=8,o.put(l,n,!1);case 8:return c=e.sent,a.success("updateAdvertiser",s),a.latency("updateAdvertiser",new Date().getTime()-i,s),e.abrupt("return",c);case 14:throw e.prev=14,e.t0=e.catch(2),a.failure("updateAdvertiser",s),e.t0;case 18:case"end":return e.stop()}},e,null,[[2,14]])}),(a=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}(0,r.u)()},310348:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e,t){return e&&t?"".concat(e,"___").concat(t):null}function a(e,t,n){for(var o={},a=0;a<e.length;a+=1){var i=e[a];if(Array.isArray(i))for(var l=0;l<i.length;l+=1){var c=i[l],u=c[t];if(o[u])for(var d=0;d<n.length;d+=1){var _=n[d];o[u][_][a]=c[_]||null}else{o[u]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var s,o;s=t,o=n[t],(s=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=r(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[s]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},c);for(var f=0;f<n.length;f+=1){var m=n[f],h=Array(e.length).fill(null);h[a]=c[m]||null,o[u][m]=h}}}}return Object.values(o)}function i(){return{ages:{},categories:[],interests:[],countries:[],devices:{},genders:{},metros:[],interestsMap:{},pinnerCount:{value:0,sizeIsUpperBound:!1}}}n.d(t,{V7:function(){return i},dk:function(){return o},xp:function(){return a}})},537391:function(e,t,n){"use strict";n.d(t,{H:function(){return P},g:function(){return E}});var r=n(387784),s=n(65711),o=n(69406),a=n(684645),i=n(505633),l=n(719301),c=n(457223),u=n(213491),d=n(681698),_=n(935059),f=n(721703),m=n(647587),h=n(680811);function p(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function y(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){b(o,r,s,a,i,"next",e)}function i(e){b(o,r,s,a,i,"throw",e)}a(void 0)})}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||A(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return g(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=(0,u.Z)("BusinessHierarchyContext"),x=S.Provider,E=S.get,P=function(e){var t,n,u=e.children,b=v((0,r.useState)([]),2),A=b[0],g=b[1],S=v((0,r.useState)([]),2),E=S[0],P=S[1],I=v((0,r.useState)(!1),2),T=I[0],C=I[1],O=v((0,r.useState)(!1),2),j=O[0],z=O[1],w=v((0,r.useState)(null),2),N=w[0],R=w[1],D=v((0,r.useState)(null),2),k=D[0],L=D[1],U=v((0,r.useState)([]),2),B=U[0],M=U[1],H=v((0,r.useState)({}),2),Z=H[0],G=H[1],F=(0,m.Z)(),Y=(0,r.useRef)(F),V=(0,_.Z)(),q=(0,s.Z)(),Q=(0,r.useRef)({}),W=(0,r.useCallback)(function(e,t){t===o.Oz.BUSINESS_HIERARCHY?n=(0,c.Z)(l.Q6.DASHBOARD,"","",e):t===o.Oz.BUSINESS_ACCOUNT&&(n=(0,c.Z)(l.Q6.DASHBOARD,e));var n,r=(0,f.Z)({site:"www",path:n});(0,i.Z)(r)},[]),X=V.isAuth,K=V.isAuth?V:{id:"",username:"",email:"",fullName:"",imageSmallUrl:"",imageMediumUrl:""},$=K.id,J=void 0===$?"":$,ee=K.username,et=void 0===ee?"":ee,en=K.email,er=void 0===en?"":en,es=K.fullName,eo=void 0===es?"":es,ea=K.imageSmallUrl,ei=void 0===ea?"":ea,el=K.imageMediumUrl,ec=void 0===el?"":el,eu=K.isAuth,ed=(0,r.useCallback)((t=y(regeneratorRuntime.mark(function e(t){var n,r,s,i,l,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(q){e.next=2;break}return e.abrupt("return",[]);case 2:if(z(!0),!Q.current[t]){e.next=8;break}return z(!1),e.abrupt("return",Q.current[t]);case 8:return e.next=10,(0,d.Z)({url:"ads/v4/business_access/business_hierarchies/",data:{search_by:["FULL_NAME","BUSINESS_ID"],search_value:t}});case 10:if(r=(n=e.sent.resource_response.data)&&n.map(function(e){return e.children&&(e.children=e.children.map(function(e){return e.user.entity_type=o.Oz.USER_ACCOUNT,e})),e})||[],s=/^\d+$/.test(t),i=RegExp(t.toLowerCase(),"g"),l=[],k){e.next=21;break}return e.next=19,Y.current();case 19:L(l=e.sent);case 21:return c=(null!=k?k:l).filter(function(e){return s?e.id.includes(t):e.user.full_name.toLowerCase().match(i)}).map(a.IT),u=[].concat(p(r.map(function(e){return e.id})),p(c.map(function(e){return e.id}))),X&&(s?(J||"").includes(t):(eo||"").toLowerCase().match(i))&&u.push(J),Q.current[t]=u,z(!1),e.abrupt("return",u);case 28:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[q,Y,X,J,eo,k]),e_=(n=y(regeneratorRuntime.mark(function e(t,n){var r,s,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((!eu||!q||k)&&!t)){e.next=2;break}return e.abrupt("return");case 2:return C(!0),r=[],e.prev=4,e.next=7,(0,d.Z)({url:"ads/v4/business_access/business_hierarchies/"});case 7:g(r=(s=e.sent.resource_response.data)&&s.map(function(e){return e.children&&(e.children=e.children.map(function(e){return e.user.entity_type=o.Oz.USER_ACCOUNT,e})),e})||[]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),g([]);case 16:if(e.prev=16,i=[],!(!k||t)){e.next=24;break}return e.next=21,Y.current();case 21:P((i=e.sent).filter(function(e){return n&&k&&!k.some(function(t){return t.id===e.id})}).map(function(e){return e.user.full_name})),L(i);case 24:M((l=t?i:null!=k?k:i).map(a.IT)),G(l.reduce(function(e,t){return e[t.id]=t.business_roles||[],e},{})),R((0,a.WP)({id:J,username:et,email:er,fullName:eo,imageSmallUrl:ei,imageMediumUrl:ec})),Q.current[""]=[].concat(p(r.map(function(e){return e.id})),p(l.map(a.IT).map(function(e){return e.id})),[J]),C(!1),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(16),C(!1);case 35:case"end":return e.stop()}},e,null,[[4,13],[16,32]])})),function(e,t){return n.apply(this,arguments)}),ef=(0,r.useCallback)(e_,[J,et,er,eo,ei,ec,eu,q,k]),em=(0,r.useCallback)(function(e){return A.some(function(t){return t.id===e||"children"in t&&t.children.some(function(t){return t.id===e||t.user.id===e})})},[A]),eh=(0,r.useCallback)(function(e){return A.map(function(e){return"BUSINESS_HIERARCHY"===e.entity_type?e:null}).find(function(t){return!!t&&t.children.some(function(t){return t.user.id===e})})},[A]),ep=(0,r.useCallback)(function(){P([])},[P]),eb=(0,r.useMemo)(function(){return{businessHierarchies:[].concat(p(null!=N&&N.id&&!em(N.id)?[N]:[]),p(A),p(B.filter(function(e){return!em(e.id)}))),switchAccount:W,searchAccounts:ed,loadingAccounts:T,isSearchingAccounts:j,fetchData:ef,getParentHierarchyForIdIfExists:eh,viewerRolesOfEachEmployer:Z,tooltipEmployers:E,hideTooltip:ep}},[A,W,ed,B,T,j,N,ef,em,eh,Z,E,ep]);return(0,h.jsx)(x,{value:eb,children:u})}},437993:function(e,t,n){"use strict";n.d(t,{$A:function(){return x},B4:function(){return E},N0:function(){return T},N3:function(){return P},VK:function(){return S},_J:function(){return I},mW:function(){return g}});var r=n(387784),s=n(360033),o=n(767415),a=n(680811);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||_(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return f(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m={},h={},p={},b=!1,y=0,v={},A=(0,r.createContext)({setMetric:function(){},setRawData:function(){},setRmaData:function(){},updateCommitTimeMap:function(){},commitTimeMap:{},wasHealthCheckFiredRef:{current:!1}});function g(e){var t=e.children,n=(0,r.useRef)(!1),o=(0,r.useCallback)(function(e,t,n){m[e]||(m[e]={}),m[e][t]=n},[]),i=(0,r.useCallback)(function(e,t,n){p[e]||(p[e]={}),p[e][t]||(p[e][t]=[]),p[e][t].push(n)},[]),l=(0,r.useCallback)(function(e){var t=e.id,n=e.path,r=e.fragmentName,o=e.executionTime,a=e.newData;if(!b){var i="".concat(r,".").concat(t);h[n]||(h[n]={}),h[n][i]||(h[n][i]={totalRenderTime:0,previousData:{},renderCount:0,resultUpdatedCount:0,wastedTime:0});var l=h[n][i];(0,s.ZP)(a,l.previousData)?(l.wastedTime+=o,y+=o):l.resultUpdatedCount+=1,l.totalRenderTime+=o,l.renderCount+=1,l.previousData=a}},[]),c=(0,r.useCallback)(function(e,t){var n="".concat(Math.floor(e));v[n]?v[n].push(t):v[n]=[t]},[]),u=(0,r.useMemo)(function(){return{setMetric:o,setRawData:i,setRmaData:l,updateCommitTimeMap:c,commitTimeMap:v,wasHealthCheckFiredRef:n}},[o,l,i,c,n]);return(0,a.jsx)(A,{value:u,children:t})}function S(){return(0,r.use)(A)}function x(e){var t,n,r,s,o=(n=(t=Object.keys(v)).length,r=t.sort().slice(0,n),s={},r.forEach(function(e){var t=v[e];if(t)for(var n=t.sort(function(e,t){return e.startTime-t.startTime}),r=0;r<n.length;r+=1){var o=n[r],a=n[r+1];if(o&&a){var i=o.startTime,l=o.id,c=o.actualDuration,u=a.startTime,d=u<i+c?u-i:c;s[l]||(s[l]=0),s[l]+=d}else if(o){var _=o.actualDuration,f=o.id;s[f]||(s[f]=0),s[f]+=_}}}),s);return Object.keys(o).forEach(function(t){var n,r,s,a,i,l,c,_,f,h,p,b,y,v,A,g=o[t];if(g){var S=null!=(n=null==(r=m[e])||null==(s=r[t])?void 0:s.mountTime)?n:0,x=null!=(a=null==(i=m[e])||null==(l=i[t])?void 0:l.mountCount)?a:0,E=null!=(c=null==(_=m[e])||null==(f=_[t])?void 0:f.updatesCount)?c:0,P=Number(g.toFixed(2)),I=Number((S+P).toFixed(2)),T=E>0?Number((P/E).toFixed(2)):0,C=null!=(h=null==(p=m[e])||null==(b=p[t])?void 0:b.memoizationDeltaArray)?h:[],O=Math.max.apply(Math,d(C)),j=C.reduce(function(e,t){return e+t},0)/C.length,z=null!=(y=null==(v=m[e])||null==(A=v[t])?void 0:A.memoizationRatioArray)?y:[],w=Math.max.apply(Math,d(z)),N=z.reduce(function(e,t){return e+t},0)/z.length;m[e]&&m[e][t]&&(m[e][t]=u(u({},m[e][t]),{},{totalCount:x+E,totalTiming:I,updatesCount:E,updateTiming:P,averageUpdateTiming:T,maxMemoizationDelta:O,averageMemoizationDelta:j,maxMemoizationRatio:w,averageMemoizationRatio:N}))}}),m[e]}function E(e){return p[e]}function P(e){return["www/index.js","www/homefeed.js","www/pin/[id].js"].includes(e)}function I(e){var t=h[e],n={};b=!0,t&&Object.keys(t).length&&P(e)&&(Object.entries(t).forEach(function(e){var t=l(e,2),r=t[0],s=t[1],a=l(r.split("."),1)[0];a&&!n[a]&&(n[a]=!0,(0,o.QX)("render_stats.rma.".concat(a,".renderCount"),s.renderCount,{sampleRate:1}),(0,o.QX)("render_stats.rma.".concat(a,".resultUpdatedCount"),s.resultUpdatedCount,{sampleRate:1}),(0,o.LY)("render_stats.rma.".concat(a,".renderTime"),s.totalRenderTime,{sampleRate:1}),(0,o.LY)("render_stats.rma.".concat(a,".wastedTime"),s.totalRenderTime,{sampleRate:1}))}),(0,o.LY)("render_stats.rma.totalWastedTime",y,{sampleRate:1,tags:{path:e}}))}function T(){m={},h={},p={},v={},b=!1,y=0}},732249:function(e,t,n){"use strict";n.d(t,{nA:function(){return b}});var r=n(387784),s=n(20256),o=n(216975),a=n(94766),i=n(589162),l=n(680811);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=new s.Ry(1e3),d=new s.Ry(1);function _(e){var t,n=e.sectionTitle,a=e.flyoutText,i=e.learnMoreLink,u=e.learnMoreLinkText,_=e.helpButtonAccessibilityLabel,f=(0,r.useRef)(null),m=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],p=m[1],b=function(e){p(function(t){return void 0===e?!t:e})},y=a&&i&&u;return(0,l.jsxs)(s.kC,{alignItems:"end",justifyContent:"start",children:[(0,l.jsx)(s.xv,{size:"400",weight:"bold",children:n}),y&&(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(s.xu,{paddingX:2,children:(0,l.jsx)(s.hU,{ref:f,accessibilityLabel:_,bgColor:"lightGray",icon:"question-mark",iconColor:"gray",onClick:function(){return b()},size:"xs"})}),h&&(0,l.jsx)(s.mh,{zIndex:d,children:(0,l.jsx)(s.J2,{anchor:f.current,color:"darkGray",idealDirection:"down",onDismiss:function(){return b(!1)},positionRelativeToAnchor:!1,children:(0,l.jsx)(s.xu,{padding:3,children:(0,l.jsx)(s.xv,{color:"inverse",weight:"bold",children:(0,o.nk)(a,{learnMoreLink:(0,l.jsx)(s.rU,{display:"inlineBlock",href:i,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:(0,l.jsx)(s.xv,{color:"subtle",weight:"bold",children:u})},"learn-more")})})})})})]})]})}function f(e){var t=e.children,n=e.dataTestId,r=e.headerTitle,o=e.headerFlyoutText,a=e.headerLearnMoreLink,i=e.headerLearnMoreLinkText,c=e.headerHelpButtonAccessibilityLabel,u=e.marginBottom,d=e.useSimpleHeader,f=void 0!==d&&d?(0,l.jsx)(s.xv,{weight:"bold",children:r}):(0,l.jsx)(_,{flyoutText:o,helpButtonAccessibilityLabel:c,learnMoreLink:a,learnMoreLinkText:i,sectionTitle:r});return(0,l.jsxs)(s.xu,{"data-test-id":n,marginBottom:void 0===u?6:u,children:[(0,l.jsx)(s.xu,{marginBottom:4,children:f}),(0,l.jsx)(s.xu,{marginBottom:6,children:t})]})}function m(e){var t=e.name,n=e.options,r=e.selectedValue,o=e.onValueChange,a=e.headerTitle,i=e.headerFlyoutText,c=e.headerLearnMoreLink,u=e.headerLearnMoreLinkText,d=e.headerHelpButtonAccessibilityLabel,f=e.useSimpleHeader,m=e.descriptionText,h=e.dataTestId,p=void 0!==f&&f?(0,l.jsx)(s.xv,{weight:"bold",children:a}):(0,l.jsx)(_,{flyoutText:i,helpButtonAccessibilityLabel:d,learnMoreLink:c,learnMoreLinkText:u,sectionTitle:a});return(0,l.jsxs)(s.xu,{"data-test-id":h,marginBottom:4,children:[(0,l.jsxs)(s.xu,{marginBottom:4,children:[(0,l.jsx)(s.xu,{children:p}),m&&(0,l.jsx)(s.xv,{size:"200",children:m})]}),(0,l.jsx)(s.FX,{id:t,legend:a,legendDisplay:"hidden",children:n.map(function(e){return(0,l.jsx)(s.FX.RadioButton,{checked:r===e.value,id:e.value,label:e.label,name:e.name,onChange:function(){o(e.value)},value:e.value},e.value)})})]})}function h(e){var t=e.children,n=e.dataTestId;return(0,l.jsx)(s.xu,{"data-test-id":n,children:t})}function p(e){var t=e.accessibilityModalLabel,n=e.children,r=e.dataTestId,o=e.footer,a=e.headerTitle,i=e.onDismiss,c=e.dismissButtonLabel,d=e.modalSize,_=(0,l.jsxs)(s.kC,{alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(s.X6,{accessibilityLevel:1,size:"600",children:a}),(0,l.jsx)(s.hU,{accessibilityLabel:c,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:i,size:"lg"})]});return(0,l.jsx)(s.mh,{zIndex:u,children:(0,l.jsx)("div",{className:"ConversionSettingsCommonModal","data-test-id":void 0===r?"custom-reporting-table-modal":r,children:(0,l.jsx)(s.u_,{accessibilityModalLabel:t,align:"start",footer:o,heading:_,onDismiss:i,size:void 0===d?"md":d,children:(0,l.jsx)(s.xu,{marginTop:-6,children:n})})})})}function b(e){var t=e.i18n,n=e.selectedAttributionWindow,r=e.setSelectedAttributionWindow,o=e.selectedConversionReportTimeType,i=e.setSelectedConversionReportTimeType,c=e.attributionWindowSelector,u=e.onDismiss,d=e.onApply,_=e.modalSize,b=e.showRichHeaders,v=void 0!==b&&b,A=e.offlineConversionLearnMoreLink,g=void 0===A?"https://help.pinterest.com/business/article/report-offline-conversion-events":A,S=e.differentialPrivacyHelpCenterUrl,x=e.showDifferentialPrivacyWarning,E=e.applyButtonColor,P=(0,a.Y)(t),I={headerTitle:t._('Conversion settings', '[m10n] reporting.conversionSettingsModal.header', 'Header for the conversion settings modal'),dismissButtonLabel:t._('Dismiss Modal', '[m10n]reporting.conversionSettingsModal.dismissButton', 'Accessibility label for the dismiss button in the conversion settings modal'),accessibilityModalLabel:t._('Choose the columns for your custom table', 'm10n', 'm10n'),cancelButtonText:t._('Cancel', 'm10n', 'm10n'),applyButtonText:t._('Apply', 'm10n', 'm10n'),conversionWindowTitle:t._('Conversion window', '[m10n] customReportingTableModal.ConversionSettingsModalSectionHeader.conversionWindowSectionTitle', 'Text indicating the conversion window section title in conversion settings modal'),conversionWindowDescription:t._('Time period during which a conversion event can be attributed to ad events on Pinterest. {{ learnMoreLink }}', '[m10n] customReportingTableModal.ConversionSettingsModalSectionHeader.conversionWindowFlyoutText', 'Text explaining the concept of conversion window with a learn more link'),conversionDateTitle:t._('Conversion date for daily reporting', '[m10n] customReportingTableModal.ConversionSettingsModalSectionHeader.conversionTimeSectionTitle', 'Text indicating the conversion time section title in conversion settings modal'),conversionDateDescription:t._('Anchor your report on either number of conversions or number of ad events during the selected date range. {{ learnMoreLink }}', '[m10n] customReportingTableModal.ConversionSettingsModalSectionHeader.conversionTimeFlyoutText', 'Text explaining the concept of conversion time with a learn more link'),conversionsCanBeReportedAt:t._('Conversions can be reported at:', '[m10n] The text before a group of radio buttons providing options of which conversion reporting window to display', '[m10n] The text before a group of radio buttons providing options of which conversion reporting window to display'),helpCenterButtonLabel:t._('Help center button', '[m10n] customReportingTableModal.ConversionSettingsModalSectionHeader.helpCenterButton', 'Button which provides additional information on the section'),learnMoreText:t._('Learn more', '[m10n] customReportingTableModal.ConversionSettingsModalSectionHeader.learnMore', 'Learn more link in explanation of a section in conversion settings'),conversionSettingsUpdateText:t._('Conversion settings have recently been updated to provide greater efficiency in your reporting.', '[m10n] reporting.conversionSettingsModal.conversionSettingsUpdateText', 'A message to help advertisers understand the recent updates to conversion settings'),learnMoreAboutUpdatesLabel:t._('Link to article with more information about the updates', '[m10n] reporting.conversionSettingsModal.helperLink', 'A link to an article with more information about the updates to conversion settings'),learnMoreAboutUpdatesText:t._('Learn more', '[m10n] reporting.conversionSettingsModal.helperLink.text', 'A link to an article with more information about the updates to conversion settings')},T=(0,l.jsx)(y,{i18n:t,isReportingSurface:v,onChange:function(e){return r(e)},selectedValue:n}),C=(0,l.jsxs)(s.xu,{as:"section",children:[(0,l.jsx)(f,{dataTestId:"conversion-window-section",headerFlyoutText:v?I.conversionWindowDescription:void 0,headerHelpButtonAccessibilityLabel:I.helpCenterButtonLabel,headerLearnMoreLink:v?g:void 0,headerLearnMoreLinkText:v?I.learnMoreText:void 0,headerTitle:I.conversionWindowTitle,useSimpleHeader:!v,children:null!=c?c:T}),(0,l.jsx)(m,{dataTestId:"conversion-time-section",descriptionText:I.conversionsCanBeReportedAt,headerFlyoutText:v?I.conversionDateDescription:void 0,headerHelpButtonAccessibilityLabel:I.helpCenterButtonLabel,headerLearnMoreLink:v?g:void 0,headerLearnMoreLinkText:v?I.learnMoreText:void 0,headerTitle:I.conversionDateTitle,name:"selectedConversionReportTimeType",onValueChange:function(e){return i(e)},options:P,selectedValue:o,useSimpleHeader:!v}),(void 0===x||x)&&(0,l.jsx)(s.xu,{marginBottom:-4,children:(0,l.jsx)(h,{dataTestId:"conversions-warning-section",children:(0,l.jsxs)(s.xu,{children:[(0,l.jsx)(s.xv,{color:"subtle",children:I.conversionSettingsUpdateText}),(0,l.jsx)(s.xv,{color:"subtle",children:(0,l.jsx)(s.rU,{accessibilityLabel:I.learnMoreAboutUpdatesLabel,display:"inline",href:void 0===S?"https://help.pinterest.com/en/business/article/reporting-dashboard-overview":S,target:"blank",children:I.learnMoreAboutUpdatesText})})]})})})]}),O=(0,l.jsxs)(s.kC,{direction:"row",gap:4,justifyContent:"end",children:[(0,l.jsx)(s.zx,{onClick:u,size:"lg",text:I.cancelButtonText}),(0,l.jsx)(s.zx,{color:void 0===E?"red":E,dataTestId:"applyButton",onClick:d,size:"lg",text:I.applyButtonText})]});return(0,l.jsx)(p,{accessibilityModalLabel:I.accessibilityModalLabel,dataTestId:"conversion-settings-modal",dismissButtonLabel:I.dismissButtonLabel,footer:O,headerTitle:I.headerTitle,modalSize:void 0===_?"md":_,onDismiss:u,children:C})}function y(e){var t=e.i18n,n=e.selectedValue,o=e.onChange,a=e.isReportingSurface,c=void 0===a||a,u=c?t._('Choose the time period in which a conversion is counted after a click or view', 'ads.attributionWindowsRecommendation.selectList.description', 'Description for recommended attribution window select list'):t._('Days after click/view', 'ads.attributionWindowsRecommendation.selectList.descriptionWithoutEngagement', 'Description for recommended attribution window select list'),d=(0,r.useMemo)(function(){return i.Z.getWindowOptions([],!1).map(function(e){var n=e.value;return(0,l.jsx)(s.EI.Option,{label:i.Z.formatAttributionWindowLabel(t,n),value:n},n)})},[t]);return(0,l.jsx)(s.xu,{"data-test-id":"attribution-window-select-wrapper",maxWidth:"480px",children:(0,l.jsx)(s.EI,{id:c?"attribution-window-select-with-new-windows":"attribution-window-select",label:u,onChange:function(e){return o(e.value)},size:"lg",value:null!=n?n:"",children:d})})}},779976:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=50;t.C={dominant_color:"white",height:240,url:"https://i.pinimg.com/736x/88/31/33/88313315702d76c3162205dbd0e61fc8.jpg",width:240}},53596:function(e,t){"use strict";t.Z='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},865521:function(e,t,n){"use strict";t.Z=(0,n(876285).Z)({UNPAID:1,PAID:2,INVOICED:3,INTERNAL:4,PENDING:5,CHARGEBACK:6,UNCOLLECTIBLE:7,WRITTEN_OFF:8,NEW:9,NEW_REFUND:10,PENDING_REFUND:11,SUCCESSFUL_REFUND:12,FAILED_REFUND:13,UNRESOLVED_REFUND:14,WRITTEN_OFF_FOR_FRAUD:15,PROCESSING:16,COMPED:17,PENDING_GATEWAY_RETRY:18,PENDING_COMPUTE_TAX:19,PROCESSING_COMPUTE_TAX:20,PREPAID_FAILED_AUTH:21,PREPAID_OVER_DELIVERY_WRITTEN_OFF:22,PENDING_SETTLEMENT:23,PROCESSING_RETRY_CANCELLATION:24,PREPAID:25,PREPAY_UNPAID:26,PENDING_PREPAY_BILL:27,PREPAYMENT_APPLIED:28,PENDING_CHARGEBACK:29,REVERSAL_CHARGEBACK:30,CHARGEBACK_UNDEFENDED:31,CHARGEBACK_ACCEPTED:32,RFI_UNRESPONDED:33,RFI_RESPONDED:34,CHARGEBACK_LOST:35,CHARGEBACK_WON:36,CHARGEBACK_CANCELED:37,ARBITRATION_PENDING:38,ARBITRATION_WON:39,ARBITRATION_LOST:40,PAID_BY_LINK:41,PENDING_RETRY:42})},982671:function(e,t,n){"use strict";n.d(t,{BB:function(){return et},CN:function(){return m},CW:function(){return eA},Cf:function(){return h},Ci:function(){return ef},D0:function(){return N},DZ:function(){return v},Dw:function(){return y},EU:function(){return ei},G2:function(){return ex},GE:function(){return K},GO:function(){return T},HC:function(){return ea},HX:function(){return L},I:function(){return ev},J6:function(){return z},KH:function(){return eh},KV:function(){return eo},Li:function(){return I},Ms:function(){return Y},Mt:function(){return ee},Ni:function(){return E},Nw:function(){return j},Ob:function(){return k},P4:function(){return Z},P6:function(){return es},PQ:function(){return el},Q7:function(){return H},Qo:function(){return x},R3:function(){return eu},R_:function(){return C},Ri:function(){return eb},Rn:function(){return O},Sy:function(){return ey},UX:function(){return ec},Ux:function(){return em},Xd:function(){return S},Yz:function(){return W},ZE:function(){return A},ZK:function(){return e_},_S:function(){return G},_k:function(){return $},a8:function(){return ep},ac:function(){return eE},b$:function(){return eS},b_:function(){return en},ce:function(){return w},d4:function(){return M},d9:function(){return eg},dg:function(){return U},fy:function(){return b},gF:function(){return X},hh:function(){return P},ie:function(){return R},nF:function(){return D},oN:function(){return ed},qF:function(){return B},tA:function(){return g},u0:function(){return F},ux:function(){return J},y:function(){return q},yA:function(){return V},yu:function(){return Q}});var r=n(20256),s=n(540015),o=n(865521),a=n(326023),i=n(216975),l=n(680811);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){var r;return(r=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==c(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||_(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return f(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=[s.JD.CHILE,s.JD.ARGENTINA,s.JD.COLOMBIA],h=[s.JD.MALAYSIA,s.JD.TAIWAN,s.JD.THAILAND,s.JD.VIETNAM,s.JD.SINGAPORE,s.JD.INDONESIA,s.JD.PHILIPPINES,s.JD.SOUTH_KOREA,s.JD.CYPRUS,s.JD.CZECHIA,s.JD.GREECE,s.JD.HUNGARY,s.JD.MALTA,s.JD.POLAND,s.JD.SLOVAKIA,s.JD.ROMANIA],p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e._('Withholding Tax', '[m10n] billing.billingConstants.taxLabel', '[m10n] Tax string for "Withholding Tax" in bill receipts'):e._('VAT', '[m10n] billing.billingConstants.taxLabel.vat', '[m10n] Tax string for "VAT" in bill receipts')},b=function(e,t,n,r){var s=t._('GST', '[m10n] billing.billingConstants.taxLabel', '[m10n] Tax string for bill receipts'),o=t._('IRD', '[m10n] billing.billingConstants.taxLabel', '[m10n] Tax string for bill receipts'),i=t._('RFC', '[m10n] billing.billingConstants.taxLabel', '[m10n] Tax string for bill receipts'),l=t._('Tax', '[m10n] billing.billingConstants.taxLabel', '[m10n] Tax string for bill receipts'),c=t._('VAT', '[m10n] billing.billingConstants.taxLabel.vat', '[m10n] Tax string for "VAT" in bill receipts');return({AT:c,AU:s,BE:c,CA:n===a.w8?t._('QST', '[m10n] billing.billingConstants.taxLabel', '[m10n] Tax string for bill receipts'):t._('GST/HST', '[m10n] billing.billingConstants.taxLabel', '[m10n] Tax string for bill receipts'),CH:c,CL:p(t,r),CO:c,CZ:c,DE:c,DK:c,ES:c,FI:c,FR:c,GB:c,GR:c,HU:c,IE:c,IL:c,IT:c,KR:c,MX:i,NL:c,NO:c,NZ:o,PL:c,PT:c,RO:c,SE:c,SG:s,SK:c,US:l})[e]||""},y=function(e,t,n){var r=t._('ABN', '[m10n] billing.billingConstants.taxIdLabel', '[m10n] Tax string for bill receipts'),s=t._('Business Registration Number', '[m10n] billing.billingConstants.taxIdLabel', '[m10n] Tax string for bill receipts'),o=t._('GST Number', '[m10n] billing.billingConstants.taxIdLabel', '[m10n] Tax string for bill receipts'),i=t._('IRD Number', '[m10n] billing.billingConstants.taxIdLabel', '[m10n] Tax string for bill receipts'),l=t._('RFC Number', '[m10n] billing.billingConstants.taxIdLabel', '[m10n] Tax string for bill receipts'),c=t._('Tax ID', '[m10n] billing.billingConstants.taxIdLabel', '[m10n] Tax string for bill receipts'),u=t._('VAT Number', '[m10n] billing.billingConstants.taxIdLabel', '[m10n] Tax string for bill receipts'),d=t._('CUIT', '[m10n] billing.billingConstants.taxIdLabel', '[m10n] Tax string for bill receipts'),_=t._('NIT', '[m10n] billing.billingConstants.taxIdLabel', '[m10n] Tax string for bill receipts'),f=t._('RUT', '[m10n] billing.billingConstants.taxIdLabel', '[m10n] Tax string for bill receipts');return({AT:u,AR:d,AU:r,BE:u,CA:n===a.w8?t._('QST Number', '[m10n] billing.billingConstants.taxIdLabel', '[m10n] Tax string for bill receipts'):t._('GST/HST Number', '[m10n] billing.billingConstants.taxIdLabel', '[m10n] Tax string for bill receipts'),CH:u,CL:f,CO:_,CY:u,CZ:u,DE:u,DK:u,ES:u,FI:u,FR:u,GB:u,GR:u,HU:u,IE:u,IL:u,IT:u,KR:s,LU:u,MT:u,MX:l,NL:u,NO:u,NZ:i,PL:u,PT:u,RO:u,SE:u,SG:o,SK:u,US:c})[e]||""},v=function(e,t){return t?e._('Since you have declared that this payment is subject to Chilean withholding tax (Impuesto Adicional), you must withhold a 35% tax on the payment and remit (i.e. report and pay) such amount to the Chilean tax authorities, transferring the remainder (i.e. the net amount after the application of such tax) to Pinterest.', '[m10n] billing.billingConstants.footerLabel', '[m10n] Generic disclaimer for a billing receipt.'):e._('This invoice may be subject to reverse charge mechanism in your country, meaning you may be personally responsible for self-assessing, reporting and paying the 19% VAT which this transaction is subject to, to the Chilean Tax Authorities.', '[m10n] billing.billingConstants.footerLabel', '[m10n] Generic disclaimer for a billing receipt.')},A=function(e,t){var n=t._('This receipt may be subject to reverse charge mechanism in your country.', '[m10n] billing.billingConstants.footerLabel', '[m10n] Generic disclaimer for a billing receipt.'),r=t._('This receipt should be subject to the reverse charge mechanism in accordance with Articles 44 and 196 of the Council Directive.', '[m10n] billing.billingConstants.footerLabel', '[m10n] EU-specific disclaimer for a billing receipt.'),s=t._('Services may be subject to a reverse charge mechanism - Japan Consumption Tax may need to be accounted for by the service recipient for the services rendered.', '[m10n] billing.billingConstants.footerLabel', '[m10n] JP-specific disclaimer for a billing receipt.');return({AR:t._('The price does not include Argentina taxes that may be applicable to this transaction. If applicable, please contact your local payment processor for complete and accurate information on them. Pinterest is not responsible for the computation, collection or remittance to the Argentine tax authorities of such local Argentine taxes', '[m10n] billing.billingConstants.footerLabel', '[m10n] JP-specific disclaimer for a billing receipt.'),AT:r,AU:n,BE:r,CA:n,CH:n,CL:n,CO:t._('VAT shall be self-assessed by the acquirer of the service through the reverse charge mechanism applicable in your country', '[m10n] billing.billingConstants.footerLabel', '[m10n] JP-specific disclaimer for a billing receipt.'),CY:r,CZ:r,DE:r,DK:r,ES:r,FI:r,FR:r,GB:r,GR:r,HU:r,IE:"",IL:n,IT:r,JP:s,KR:n,LU:r,MT:r,MX:n,NL:r,NO:n,NZ:n,PL:r,PT:r,RO:r,SE:r,SK:r})[e]||""},g=function(e){return e._('QST ID: NR 0002 7979', '[m10n] billing.billingConstants.pinterestTaxId', '[m10n] Legal boilerplate - please do not translate')},S=function(e,t){var n=t._('Tax ID / EIN: 26-3607129', '[m10n] billing.billingConstants.pinterestTaxId', '[m10n] Legal boilerplate - please do not translate'),r={AR:t._('CUIT: 86-05195589-1', '[m10n] billing.billingConstants.pinterestTaxId', '[m10n] Legal boilerplate - please do not translate'),CA:t._('GST ID: 72170 5887 RT9999', '[m10n] billing.billingConstants.pinterestTaxId', '[m10n] Legal boilerplate - please do not translate'),CL:t._('RUT: 59313333-3', '[m10n] billing.billingConstants.pinterestTaxId', '[m10n] Legal boilerplate - please do not translate'),CO:t._('NIT: 901599929-6', '[m10n] billing.billingConstants.pinterestTaxId', '[m10n] Legal boilerplate - please do not translate'),MX:n,US:n,IE:t._('VAT ID: IE3320387RH', '[m10n] billing.billingConstants.pinterestTaxId', '[m10n] Legal boilerplate - please do not translate'),BR:t._('CNPJ: 20.422.552/0001-03', '[m10n] billing.billingConstants.pinterestTaxId', '[m10n] Legal boilerplate - please do not translate')};return e in r?r[e]:r.IE},x=function(e,t){var n={streetAddress:t._('PO Box 74008066', '[m10n] billing.billingConstants.pinterestAddress', '[m10n] Address - please do not translate'),region:t._('Chicago, IL 60674-8066 United States', '[m10n] billing.billingConstants.pinterestAddress', '[m10n] Address - please do not translate')},r={AR:n,CA:n,CL:n,CO:n,MX:n,US:n,IE:{streetAddress:t._('2nd floor Palmerston House Fenian Street', '[m10n] billing.billingConstants.pinterestAddress', '[m10n] Address - please do not translate'),region:t._('Dublin 2, Ireland', '[m10n] billing.billingConstants.pinterestAddress', '[m10n] Address - please do not translate')},BR:{streetAddress:t._('R. Joaquim Floriano, 243 - cj 72\nItaim Bibi', '[m10n] billing.billingConstants.pinterestAddress', '[m10n] Address - please do not translate'),region:t._('São Paulo SP 04534-010', '[m10n] billing.billingConstants.pinterestAddress', '[m10n] Address - please do not translate')}};return e in r?r[e]:r.IE},E=function(e,t){var n=t._('Pinterest, Inc.', '[m10n] billing.billingConstants.pinterestCompanyName', '[m10n] Legal entity name - please do not translate'),r={AR:n,CA:n,CL:n,CO:n,MX:n,US:n,IE:t._('Pinterest Europe Limited', '[m10n] billing.billingConstants.pinterestCompanyName', '[m10n] Legal entity name - please do not translate'),BR:t._('Pinterest Serviços de Tecnologia Ltda.', '[m10n] billing.billingConstants.pinterestCompanyName', '[m10n] Legal entity name - please do not translate')};return e in r?r[e]:r.IE},P=function(e){var t={AR:"",CA:"",CL:"",CO:"",MX:"",US:"",IE:"536944",BR:""};return e in t?t[e]:t.IE},I="PIN US OU",T="PIN IE OU",C="PIN BR OU",O="ordermanagement@pinterest.com",j="brazil-ordermanagement@pinterest.com",z="latam-ordermanagement@pinterest.com",w="intl-ordermanagement@pinterest.com",N={BUSINESS_INFORMATION:"businessInformationErrors",BILLING_INFORMATION:"billingInformationErrors",LOI_SAPIN_INFORMATION:"loiSapinInformationErrors",BILLING_INFORMATION_SHORT:"billingInformationShortErrors",BUSINESS_INFORMATION_RESELLER_MANAGED:"businessInformationResellerManagedErrors"},R={TOS:"tosErrors",BILL_COUNTS:"billCountsErrors",USER_DATA:"userDataErrors",ADYEN_SUBSCRIPTION_ATTEMPT:"adyenSubscriptionAttemptErrors",ADYEN_SUBSCRIPTION_DETAILS:"adyenSubscriptionDetailsErrors",BILLING_PROFILE:"billingProfileErrors",ADYEN_SUBSCRIPTION_RESPONSE:"adyenSubscriptionResponseErrors",DLOCAL_COMPONENT_CONFIG_RESPONSE:"getdLocalComponentConfigErrors",TOKEN_VAULT_COMPONENT_RESPONSE:"tokenVaultComponentErrors",ADVERTISER_PSP_RESPONSE:"advertiserPSPResponseErrors",DLOCAL_TOKENIZE_CARD_RESPONSE:"DlocalCardTokenizeErrors"},D=[3,2,1,5],k=2,L="dlocal",U=new Set(["es","en","pt","zh","cv","tr"]),B={EXPANDED:"EXPANDED",COLLAPSED:"COLLAPSED",HIDDEN:"HIDDEN"},M="Budget",H=[o.Z["2"]],Z=[o.Z["1"],o.Z["18"]],G=[o.Z["7"],o.Z["15"]],F="adyen",Y="checkout",V="scheme",q="directEbanking",Q="paybybank",W="pix",X="Pending",K="Received",$="RedirectShopper",J="UNKNOWN",ee="UNKNOWN",et={Visa:"VISA",Mastercard:"MASTERCARD",Maestro:"MAESTRO","American Express":"AMERICAN_EXPRESS",Discover:"DISCOVER",JCB:"JCB","Cartes Bancaires":"CARTE_BANCAIRE",Elo:"ELO"},en={visa:"VISA",mastercard:"MASTERCARD",maestro:"MAESTRO","american-express":"AMERICAN_EXPRESS",discover:"DISCOVER",jcb:"JCB","cartes-bancaire":"CARTE_BANCAIRE",elo:"ELO","diners-club":"DINERS_CLUB"},er={UNKNOWN:{brandEnum:0,brandName:"UNKNOWN",brandFullName:"Unknown"},visa:{brandEnum:1,brandName:"VISA",brandFullName:"Visa"},mc:{brandEnum:2,brandName:"MASTERCARD",brandFullName:"Mastercard"},maestro:{brandEnum:2,brandName:"MASTERCARD",brandFullName:"Maestro"},amex:{brandEnum:3,brandName:"AMERICAN_EXPRESS",brandFullName:"American Express"},discover:{brandEnum:4,brandName:"DISCOVER",brandFullName:"Discover"},directEbanking:{brandEnum:5,brandName:"SOFORT",brandFullName:"Sofort"},diners:{brandEnum:6,brandName:"DINERS_CLUB",brandFullName:"Diners"},elo:{brandEnum:7,brandName:"ELO",brandFullName:"Elo"},cartebancaire:{brandEnum:8,brandName:"CARTE_BANCAIRE",brandFullName:"Carte Bancaire"},jcb:{brandEnum:9,brandName:"JCB",brandFullName:"JCB"},pix:{brandEnum:14,brandName:"PIX",brandFullName:"Pix"},paybybank:{brandEnum:15,brandName:"PAYBYBANK",brandFullName:"Pay by Bank"},paybybank_zeroauth:{brandEnum:15,brandName:"PAYBYBANK",brandFullName:"Pay by Bank"},accel:{brandEnum:10,brandName:"ACCEL",brandFullName:"Accel"},star:{brandEnum:11,brandName:"STAR",brandFullName:"Star"},nyce:{brandEnum:13,brandName:"NYCE",brandFullName:"Nyce"},pulse:{brandEnum:12,brandName:"PULSE",brandFullName:"Pulse"}},es=Object.fromEntries(Object.entries(er).map(function(e){var t=d(e,2);return[t[0],t[1].brandEnum]})),eo=Object.fromEntries(Object.values(er).map(function(e){return[e.brandEnum,e.brandFullName]})),ea=Object.fromEntries(Object.entries(er).map(function(e){var t=d(e,2),n=(t[0],t[1]);return[n.brandName,n.brandEnum]})),ei=Object.fromEntries(Object.entries(er).map(function(e){var t=d(e,2);return[t[0],t[1].brandName]})),el=Object.fromEntries(Object.entries(er).map(function(e){var t=d(e,2);return[t[0],t[1].brandFullName]})),ec={visa:"VISA",mc:"MASTERCARD",maestro:"MASTERCARD",amex:"AMERICAN_EXPRESS",discover:"DISCOVER",elo:"ELO",cartebancaire:"VISA",jcb:"JCB",star:"STAR",nyce:"NYCE",pulse:"PULSE",accel:"ACCEL"},eu=1e3,ed=function(e,t){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=(u(n={},eu,t._('Sorry, something went wrong. Please try again.', '[m10n] billing.billingConstants.errorMessage.apiFailure', '[m10n] Billing form submit failed error message')),u(n,1,t._('Sorry, something went wrong. Please try again.', '[m10n] billing.billingConstants.errorMessage.failure', '[m10n] Billing form submit failed error message')),u(n,2,t._('Please verify the payment method and try again.', '[m10n] billing.billingConstants.errorMessage.refusal', '[m10n] Billing form submit refused (declined) error message')),u(n,3,t._('We do not accept this payment method. Please try again with a different payment method.', '[m10n] billing.billingConstants.errorMessage.refusalUnsupported', '[m10n] Billing form submit unsupported payment method error message')),u(n,5,t._('We do not accept prepaid cards. Please try again with a different payment method.', '[m10n] billing.billingConstants.errorMessage.prepaid', '[m10n] Billing form submit prepaid card error message')),u(n,6,t._('This card has been declined. Please contact your financial institution to resolve any issues or try a different payment method.', '[m10n] billing.BillingInformationForm.messaging', '[m10n] Billing form submit refused (declined, contact issuer) error message')),u(n,2973,t._('Only advertisers owned by employees can have an Internal Billing Profile', '[m10n] billing.billingConstants.errorMessage.internalBillingProfileForNonEmployee', '[m10n] Message shown when a user tries to create an Internal Billing Profile for advertisers not owned by employees')),u(n,"PINTEREST_DECLINE",(0,l.jsx)(r.xv,{children:(0,i.nk)(t._('There was an issue adding your payment method. Please visit our {{helpCenterLink}} for information on payment methods that we accept.', '[m10n] billing.billingConstants.errorMessage.internalUIMessagingPaymentDeclineCode', '[m10n] Message to show when the refusal reason is an internal decision to decline due to auth risk. helpCenterLink: Link to help center on how billing works'),{helpCenterLink:(0,l.jsx)(r.xv,{color:"error",inline:!0,weight:"bold",children:(0,l.jsx)(r.rU,{display:"inlineBlock",href:"https://help.pinterest.com/en/business/article/how-billing-works",target:"blank",underline:"always",children:t._('Help Center', '[m10n] billing.billingConstants.errorMessage.internalUIMessagingPaymentDeclineCode.helpCenterlink', 'Link\xA0for\xA0help\xA0center on how billing works')})},"billing-help-center-link")})})),u(n,"BANK_DECLINE",t._('Your credit card or debit card was declined by your bank. Please reach out to them to resolve the issue and/or try using a different payment method.', '[m10n] billing.billingConstants.errorMessage.internalUIMessagingPaymentDeclineCode', '[m10n] Message to show when the adyen refusal reason is related to bank decline')),u(n,"OTHER",(0,l.jsx)(r.xv,{children:(0,i.nk)(t._('There was an issue adding your payment method. Please visit our {{helpCenterLink}} for information on payment methods that we accept.', '[m10n] billing.billingConstants.errorMessage.internalUIMessagingPaymentDeclineCode', '[m10n] Message to show when the refusal reason is an internal decision to decline due to auth risk. helpCenterLink: Link to help center on how billing works'),{helpCenterLink:(0,l.jsx)(r.xv,{color:"error",inline:!0,weight:"bold",children:(0,l.jsx)(r.rU,{display:"inlineBlock",href:"https://help.pinterest.com/en/business/article/how-billing-works",target:"blank",underline:"always",children:t._('Help Center', '[m10n] billing.billingConstants.errorMessage.internalUIMessagingPaymentDeclineCode.helpCenterlink', 'Link\xA0for\xA0help\xA0center on how billing works')})},"billing-help-center-link")})})),u(n,"EXPIRED_CARD",t._('Your credit card or debit card has expired. Please use a different payment method.', '[m10n] billing.billingConstants.errorMessage.internalUIMessagingPaymentDeclineCode', '[m10n] Message to show when the adyen refusal reason is related to expired card')),u(n,"3DS_DECLINE",t._('\u200BMake sure your card supports 3D Secure Verification (3DS), your 3DS verification is correct, and/or contact the card-issuing bank for 3DS issues.', '[m10n] billing.billingConstants.errorMessage.internalUIMessagingPaymentDeclineCode', '[m10n] Message to show when the adyen refusal reason is related to 3ds decline')),n);return s?o[s]:o[e]||""},e_=["CREDIT_APPLIED","MARKETING_OFFER_CREDIT_APPLIED","GOODWILL_CREDIT_APPLIED","INTERNAL_CREDIT_APPLIED","PREPAID_CREDIT_APPLIED","SALES_INCENTIVE_CREDIT_APPLIED"],ef=[2,1,5,11,16,19,20,24,7,17,12,6,18,23,25,21],em="1",eh="16",ep="17",eb="18",ey=["CA","US","BR"],ev=["CA","US","BR"],eA={BUSINESS_INFORMATION:"BUSINESS_INFORMATION",BILLING_INFORMATION:"BILLING_INFORMATION",PROMO_CODES:"PROMO_CODES"},eg={success:"successBase",comped:"successBase",refunded:"successBase",failure:"errorBase",pending:"warningBase",chargeback:"infoBase"},eS={min:50,max:12e5},ex={0:"COMPLETED",1:"PENDING_CREATE_RETRY",2:"PENDING_UPDATE_RETRY",3:"VALIDATION_FAILED",4:"WAITING_BUSINESS_INFORMATION"};function eE(e,t){var n=e.findIndex(t);if(n>-1){var r=e.slice(),s=d(r.splice(n,1),1)[0];return r.unshift(s),r}return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},326023:function(e,t,n){"use strict";n.d(t,{$p:function(){return _},Bc:function(){return m},Q3:function(){return p},_r:function(){return f},hX:function(){return u},hh:function(){return h},jE:function(){return l},w8:function(){return c}});var r=n(540015);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var i=/^\d{3}\.?\d{3}\.?\d{3}\-?\d{2}$|^\d{2}\.?\d{3}\.?\d{3}\/?\d{4}\-?\d{2}$/,l="https://pinterest.com/_/_/help/business/article/vat/",c="QC";function u(){return new Set([47,36,11,5,15,71,57,34,3,17,38,37,58,25,31,10,23,46,59,60,67,55,13,24,7,2,32,50,73,30,44,4,9,49,12,20,68,26,70,62,74,35,27,52,14,22,6,63,54,64,28,16,29,72,51,8,21,69,33,42,48,40,43,39,41,66])}var d=[44,40,43,20,39,42,55,59,9,64,62,58,46,60,50,54];function _(e){return d.some(function(t){return t===e})}function f(e){return(null==e?void 0:e.replace(/\D/g,"").length)===11}function m(e,t,n){var r=function(e,t,n){var r={pattern:/.*/,message:"",name:t._('VAT Number', '[m10n] Name of tax ID number', '[m10n] billing.validation.taxIDName'),certificationMessage:t._('I understand this service can only be used for business purposes and I\'m responsible for assessing and reporting VAT.', '[m10n] tax registration agreement checkbox', '[m10n] billing.validation.taxRegistrationAgreementCheckbox'),checkboxRules:[{vatProvided:!1,boxChecked:!1},{vatProvided:!0,boxChecked:!0}],autoPrefix:"",helpText:""};switch(e){case 49:return{pattern:/^([A-Z]|\d){13}Z([A-Z]|\d){1}$/,message:t._('Invalid format (e.g. 1234567890123Z1)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Goods and Services Tax Identification Number (GSTIN)', '[m10n] Name of tax ID number in India', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('15 alpha-numeric characters (e.g. 1234567890123Z1)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 44:return{pattern:/^\d{15}$/,message:t._('Invalid format (e.g. 123456789012345)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (NPWP)', '[m10n] Name of tax ID number in Indonesia', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('15 digits (e.g. 123456789012345)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 47:return{pattern:/^\d{15}$/,message:t._('Invalid format (e.g. 123456789012345)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Registration Number (TRN)', '[m10n] Name of tax ID number in United Arab Emirates', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('15 digits (e.g. 123456789012345)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 51:return{pattern:/^\d{15}$/,message:t._('Invalid format (e.g. 123456789012345)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('VAT Number', '[m10n] Name of tax ID number in Saudi Arabia', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('15 digits (e.g. 123456789012345)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 63:return{pattern:/^[A-Z]{2}\d{10}$/,message:t._('Invalid format (e.g. OM1234567890)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (TIN)', '[m10n] Name of tax ID number in Oman', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('2 letters followed by 10 numbers (e.g. OM1234567890)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 57:return{pattern:/^\d{15}$/,message:t._('Invalid format (e.g. 123456789012345)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (TIN)', '[m10n] Name of tax ID number in Bahrain', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('15 digits (e.g. 123456789012345)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 55:return{pattern:/^\d{9}$/,message:t._('Invalid format (e.g. 123456789)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Registration Number (TRN)', '[m10n] Name of tax ID number in Egypt', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('9 digits (e.g. 123456789)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 59:return{pattern:/^\d{15}$/,message:t._('Invalid format (e.g. 123456789012345)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (NIF)', '[m10n] Name of tax ID number in Algeria', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('15 digits (e.g. 123456789012345)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 52:return{pattern:/^\d{12}$/,message:t._('Invalid format (e.g. 123456789012)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Taxpayer Identification Number (TIN)', '[m10n] Name of tax ID number in Nigeria', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('12 digits (e.g. 123456789012)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 64:return{pattern:/^[SPKB]\d{8}$/,message:t._('Invalid format (e.g. B12345678)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('National Tax Number (NTN)', '[m10n] Name of tax ID number in Pakistan', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('S, P, K, or B followed by 8 digits (e.g. B12345678)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 66:return{pattern:/^\d{10}$/,message:t._('Invalid format (e.g. 1234567890)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Reference Number (TRN)', '[m10n] Name of tax ID number in South Africa', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('10 digits (e.g. 1234567890)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 48:return{pattern:/^\d{10}$/,message:t._('Invalid format (e.g. 1234567890)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('VAT Number', '[m10n] Name of tax ID numbe in Turkey', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('10 digits (e.g. 1234567890)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 62:return{pattern:/^\d{8}$/,message:t._('Invalid format (e.g. 12345678)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (IF)', '[m10n] Name of tax ID number in Morocco', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('8 digits (e.g. 12345678)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 58:return{pattern:/^(3101)\d{6}$/,message:t._('Invalid format (e.g. 3101-123456)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (Cédula Jurídica)', '[m10n] Name of tax ID number in Costa Rica', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('3101 followed by 6 digits (e.g. 3101-123456)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 46:return{pattern:/^\d{15}$/,message:t._('Invalid format (e.g. 123456789012345)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (RNC)', '[m10n] Name of tax ID number in Dominican Republic', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('15 digits (e.g. 123456789012345)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 60:return{pattern:/^\d{9}$/,message:t._('Invalid format (e.g. 123456789)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (RUC)', '[m10n] Name of tax ID number in Ecuador', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('9 digits (e.g. 123456789)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 50:return{pattern:/^\d{15}$/,message:t._('Invalid format (e.g. 123456789012345)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (NIT)', '[m10n] Name of tax ID number in Guatemala', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('15 digits (e.g. 123456789012345)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 54:return{pattern:/^\d{11}$/,message:t._('Invalid format (e.g. 12345678901)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (RUC)', '[m10n] Name of tax ID number in Peru', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('11 digits (e.g. 12345678901)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 67:return a(a({},r),{},{pattern:/^EE\d{9}$/,message:t._('Invalid format (e.g. EE123456789)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('EE followed by 9 digits (e.g. EE123456789)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 68:return a(a({},r),{},{pattern:/^LT\d{9}$|^LT\d{12}$/,message:t._('Invalid format (e.g. LT123456789 or LT123456789012)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('LT followed by 9 or 12 digits (e.g. LT123456789 or LT123456789012)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 69:return a(a({},r),{},{pattern:/^SI\d{8}$/,message:t._('Invalid format (e.g. SI12345678)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('SI followed by 8 digits (e.g. SI12345678)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 71:return a(a({},r),{},{pattern:/^BG\d{9}$|^BG\d{10}$/,message:t._('Invalid format (e.g. BG123456789 or BG1234567890)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('BG followed by 9 or 10 digits (e.g. BG123456789 or BG1234567890)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 70:return a(a({},r),{},{pattern:/^LV\d{11}$/,message:t._('Invalid format (e.g. LV12345678900)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('LV followed by 11 digits (e.g. LV12345678900)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 72:return{pattern:/^\d{9}$/,message:t._('Invalid format (e.g. 123456789)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (TIN)', '[m10n] Name of tax ID number', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('9 digits (e.g. 123456789)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 73:return a(a({},r),{},{pattern:/^HR\d{11}$/,message:t._('Invalid format (e.g. HR12345678900)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('HR followed by 11 digits (e.g. HR12345678900)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 74:return{pattern:/^MK\d{13}$/,message:t._('Invalid format (e.g. MK1234567890123)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('VAT Number', '[m10n] Name of tax ID number', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('MK followed by 13 digits (e.g. MK1234567890123)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 5:return{pattern:/^$|^\d{11}$/,message:t._('Invalid format (e.g. 12345678901)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('ABN', '[m10n] Name of tax ID number', '[m10n] billing.validation.taxIDName'),certificationMessage:t._('I confirm my business is registered for GST.', '[m10n] tax registration agreement checkbox', '[m10n] billing.validation.taxRegistrationAgreementCheckbox'),checkboxRules:[{vatProvided:!1,boxChecked:!1},{vatProvided:!0,boxChecked:!0}],autoPrefix:"",helpText:t._('11 digits (e.g. 12345678901)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 2:return a(a({},r),{},{pattern:/^$|^GB\d{9}$/,message:t._('Invalid format (e.g. GB123456789)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"GB",helpText:t._('GB followed by 9 digits (e.g. GB123456789)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 4:return a(a({},r),{},{pattern:/^$|^IE\d{7,8}[A-Z]$|^IE\d[A-Z]\d{5,6}[A-Z]$|^IE\d{6,7}[A-Z]{2}$/,message:t._('Invalid format (e.g. IE1234567X)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),certificationMessage:t._('I\'m VAT13b/56b exempt.', '[m10n] tax registration agreement checkbox', '[m10n] billing.validation.taxRegistrationAgreementCheckbox'),checkboxRules:[{vatProvided:!1,boxChecked:!1},{vatProvided:!0,boxChecked:!1},{vatProvided:!0,boxChecked:!0,exemptNumProvided:!0}],autoPrefix:"IE",helpText:t._('IE followed by 8 or 9 characters (e.g. IE1234567X)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 6:return{pattern:/^$|^\d{8}$|^\d{9}$/,message:t._('Invalid format (e.g. 123456789)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('IRD Number', '[m10n] Name of tax ID number', '[m10n] billing.validation.taxIDName'),certificationMessage:t._('I confirm my business is registered for IRD.', '[m10n] tax registration agreement checkbox', '[m10n] billing.validation.taxRegistrationAgreementCheckbox'),checkboxRules:[{vatProvided:!1,boxChecked:!0},{vatProvided:!0,boxChecked:!0}],autoPrefix:"",helpText:t._('8 or 9 digits (e.g. 123456789)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 7:return a(a({},r),{},{pattern:/^$|^FR[A-HJ-NP-Z0-9]{2}\d{9}$/,message:t._('Invalid format (e.g. FR12345678901)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"FR",helpText:t._('FR followed by 11 characters (e.g. FR12345678901)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 10:return a(a({},r),{},{pattern:/^$|^DE\d{9}$/,message:t._('Invalid format (e.g. DE123456789)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"DE",helpText:t._('DE followed by 9 digits (e.g. DE123456789)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 11:return a(a({},r),{},{pattern:/^$|^ATU\d{8}$/,message:t._('Invalid format (e.g. ATU12345678)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"ATU",helpText:t._('ATU followed by 8 digits (e.g. ATU12345678)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 24:return a(a({},r),{},{pattern:/^$|^FI\d{8}$/,message:t._('Invalid format (e.g. FI12345678)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"FI",helpText:t._('FI followed by 8 digits (e.g. FI12345678)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 23:return a(a({},r),{},{pattern:/^$|^DK\d{8}$/,message:t._('Invalid format (e.g. DK12345678)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"DK",helpText:t._('DK followed by 8 digits (e.g. DK12345678)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 8:return a(a({},r),{},{pattern:/^$|^SE\d{12}$/,message:t._('Invalid format (e.g. SE123456789012)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"SE",helpText:t._('SE followed by 12 digits (e.g. SE123456789012)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 9:return{pattern:/^$|^IL\d{9}$/,message:t._('Invalid format (e.g. IL123456789)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (TIN)', '[m10n] Name of tax ID number', '[m10n] billing.validation.taxIDName'),certificationMessage:t._('I understand this service can only be used for business purposes and I\'m responsible for assessing and reporting VAT.', '[m10n] tax registration agreement checkbox', '[m10n] billing.validation.taxRegistrationAgreementCheckbox'),checkboxRules:[{vatProvided:!1,boxChecked:!0},{vatProvided:!0,boxChecked:!0}],autoPrefix:"IL",helpText:t._('IL followed by 9 digits (e.g. IL123456789)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 12:return a(a({},r),{},{pattern:/^$|^IT\d{11}$/,message:t._('Invalid format (e.g. IT12345678901)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"IT",helpText:t._('IT followed by 11 digits (e.g. IT12345678901)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 13:return a(a({},r),{},{pattern:/^$|^ES[A-Z]\d{7}[A-Z0-9]$|^ES\d{8}[A-Z]$/,message:t._('Invalid format (e.g. ESX12345678)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"ES",helpText:t._('ES followed by 9 characters (e.g. ESX12345678)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 14:return a(a({},r),{},{pattern:/^$|^NL[A-Z0-9]{9}B[A-Z0-9]{2}$/,message:t._('Invalid format (e.g. NL123456789B12)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"NL",helpText:t._('NL followed by 12 characters (e.g. NL123456789B12)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 15:return a(a({},r),{},{pattern:/^$|^BE\d{9}$|^BE\d{10}$/,message:t._('Invalid format (e.g. BE1234567890)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"BE",helpText:t._('BE followed by 10 digits (e.g. BE1234567890)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 16:return a(a({},r),{},{pattern:/^$|^PT\d{9}$/,message:t._('Invalid format (e.g. PT123456789)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"PT",helpText:t._('PT followed by 9 digits (e.g. PT123456789)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 17:return a(a({},r),{},{pattern:/^CHE(?!123456789)(\d)(?!\1{8})\d{8}$/,message:t._('Invalid format (e.g. CHE123456789)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),checkboxRules:[{vatProvided:!0,boxChecked:!0}],autoPrefix:"CHE",helpText:t._('CHE followed by 9 digits (e.g. CHE123456789)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 20:return{pattern:/^$|^\d{3}-\d{2}-\d{5}$/,message:t._('Invalid format (e.g. 123-45-67890)', '[m10n] Invalid format for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Business Registration Number (BRN)', '[m10n] Name of tax ID number in South Korea', '[m10n] billing.validation.taxIDName'),certificationMessage:t._('I confirm I\'m a business with a valid Business Registration Number (Tax ID) and I\'m using this service for business purposes only', '[m10n] tax registration agreement checkbox', '[m10n] billing.validation.taxRegistrationAgreementCheckbox'),checkboxRules:[{vatProvided:!1,boxChecked:!1},{vatProvided:!0,boxChecked:!0}],autoPrefix:"",helpText:t._('10 digits (e.g. 000-00-00000)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 21:return{pattern:/^$|^\d{9}[A-Z]$|^[A-Z]\d{9}$|^[A-Z]{2}\d{8}$/,message:t._('Invalid format (e.g. 123456789A)', '[m10n] Invalid format for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('GST Number', '[m10n] Name of tax ID number', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('10 digits and letters (e.g. 000000000X, X000000000, XX00000000)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 40:return{pattern:/^$|^W\d{14}$|^C\d{11}$/,message:t._('Invalid format (e.g. W12345678901234)', '[m10n] Invalid format for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Sales and Services Tax Number (SST)', '[m10n] Name of tax ID number in Malaysia', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"W",helpText:t._('Prefix of W followed by 14 digits or C followed by 11 digits (e.g. W00000000000000, C00000000000)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 43:return{pattern:/^$|^\d{12}$/,message:t._('Invalid format (e.g. 123456789012)', '[m10n] Invalid format for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (TIN)', '[m10n] Name of tax ID number', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('12 digits (e.g. 000000000000)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 39:return{pattern:/^$|^\d{8}$/,message:t._('Invalid format (e.g. 12345678)', '[m10n] Invalid format for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Government Uniform Number (GUN)', '[m10n] Name of tax ID number in Taiwan', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('8 digits (e.g. 00000000)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 42:return{pattern:/^$|^\d{13}$/,message:t._('Invalid format (e.g. 1234567890123)', '[m10n] Invalid format for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Tax Identification Number (TIN)', '[m10n] Name of tax ID number in Thailand', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('13 digits (e.g. 0000000000000)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 41:return{pattern:/^$|^\d{10}$/,message:t._('Invalid format (e.g. 1234567890)', '[m10n] Invalid format for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('Business Tax Registration Number', '[m10n] Name of tax ID number', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('10 digits (e.g. 0000000000)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 22:return a(a({},r),{},{pattern:/^$|^\d{9}MVA$/,message:t._('Invalid format (e.g. 123456789MVA)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"",autoSuffix:"MVA",helpText:t._('9 digits followed by MVA (e.g. 123456789MVA)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 25:return a(a({},r),{},{pattern:/^$|^CY\d{8}[a-zA-Z]$/,message:t._('Invalid format (e.g. CY12345678A)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"CY",helpText:t._('CY followed by 8 digits and one letter (e.g. CY12345678A)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 26:return a(a({},r),{},{pattern:/^$|^LU\d{8}$/,message:t._('Invalid format (e.g. LU12345678)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"LU",helpText:t._('LU followed by 8 digits (e.g. LU12345678)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 27:return a(a({},r),{},{pattern:/^$|^MT\d{8}$/,message:t._('Invalid format (e.g. MT12345678)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"MT",helpText:t._('MT followed by 8 digits (e.g. MT12345678)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 31:return a(a({},r),{},{pattern:/^$|^CZ\d{8,10}$/,message:t._('Invalid format (e.g. CZ12345678)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"CZ",helpText:t._('CZ followed by 8, 9, or 10 digits (e.g. CZ12345678)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 32:return a(a({},r),{},{pattern:/^$|^EL\d{9}$/,message:t._('Invalid format (e.g. EL123456789)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"EL",helpText:t._('EL followed by 9 digits (e.g. EL123456789)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 30:return a(a({},r),{},{pattern:/^$|^HU\d{8}$/,message:t._('Invalid format (e.g. HU12345678)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"HU",helpText:t._('HU followed by 8 digits (e.g. HU12345678)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 28:return a(a({},r),{},{pattern:/^$|^PL\d{10}$/,message:t._('Invalid format (e.g. PL1234567890)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"PL",helpText:t._('PL followed by 10 digits (e.g. PL1234567890)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 29:return a(a({},r),{},{pattern:/^$|^RO[1-9]{1}\d{1,9}$/,message:t._('Invalid format (e.g. RO1234567890)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"RO",helpText:t._('RO followed by 2 to 10 digits (e.g. RO1234567890)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 33:return a(a({},r),{},{pattern:/^$|^SK\d{10}$/,message:t._('Invalid format (e.g. SK1234567890)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),autoPrefix:"SK",helpText:t._('SK followed by 10 digits (e.g. SK1234567890)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')});case 34:return{pattern:i,message:t._('Invalid format (e.g. 123.123.123-12 or 12.123.123/1234-12)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('CNPJ or CPF number', '[m10n] CNPJ or CPF number', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('CPF or CNPJ number (e.g. 123.123.123-12 or 12.123.123/1234-12)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText'),validator:function(e){var t=e.replace(/\D/g,""),n=t.split("").map(function(e){return+e});if(0===n.reduce(function(e,t){return e+t},0))return!1;if(11===n.length){if("00000000000"===t||"11111111111"===t||"22222222222"===t||"33333333333"===t||"44444444444"===t||"55555555555"===t||"66666666666"===t||"77777777777"===t||"88888888888"===t||"99999999999"===t)return!1;var r=n[9],s=10*n[0]+9*n[1]+8*n[2]+7*n[3]+6*n[4]+5*n[5]+4*n[6]+3*n[7]+2*n[8];if((s=11-s%11)>=10&&(s=0),s!==r)return!1;var o=11*n[0]+10*n[1]+9*n[2]+8*n[3]+7*n[4]+6*n[5]+5*n[6]+4*n[7]+3*n[8]+2*r;return(o=11-o%11)>=10&&(o=0),o===n[10]}var a=n[12],i=5*n[0]+4*n[1]+3*n[2]+2*n[3]+9*n[4]+8*n[5]+7*n[6]+6*n[7]+5*n[8]+4*n[9]+3*n[10]+2*n[11];if((i=11-i%11)>=10&&(i=0),i!==a)return!1;var l=6*n[0]+5*n[1]+4*n[2]+3*n[3]+2*n[4]+9*n[5]+8*n[6]+7*n[7]+6*n[8]+5*n[9]+4*n[10]+3*n[11]+2*a;return(l=11-l%11)>=10&&(l=0),l===n[13]}};case 35:return{pattern:/^$|^([A-ZÑ\x26]{3,4}([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])([A-Z]|[0-9]){2}([A]|[0-9]){1})?$/,message:t._('Invalid format (e.g. FEHD260402Q50)', '[m10n] Invalid input for RFC number', '[m10n] billing.validation.invalidRfcInputText'),name:t._('RFC Number', '[m10n] Name of RFC number', '[m10n] billing.validation.rfcName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('12 or 13 alphanumeric characters (e.g. FEHD260402Q50)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 36:return{pattern:/^$|^\d{2}\-?\d{8}\-?\d$/,message:t._('Invalid format (e.g. 00000000000)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('CUIT', '[m10n] Name of tax ID number', '[m10n] billing.validation.taxIDName'),certificationMessage:"",checkboxRules:[],autoPrefix:"",helpText:t._('11 digits (e.g. 00000000000)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 38:return{pattern:/^$|^\d{6,10}\-\d{1}$/,message:t._('Invalid format (e.g. XXX.XXX.XXX-Y)', '[m10n] Invalid input for tax ID number', '[m10n] billing.validation.invalidTaxIDInputText'),name:t._('NIT', '[m10n] Name of tax ID number', '[m10n] billing.validation.taxIDName'),certificationMessage:t._('VAT Collector Status: I confirm I\'m a VAT collector and I\'m responsible for self-assessing and paying VAT according to Colombia\'s tax code', '[m10n] tax registration agreement checkbox', '[m10n] billing.validation.taxRegistrationAgreementCheckbox'),checkboxRules:[{vatProvided:!1,boxChecked:!1},{vatProvided:!0,boxChecked:!0}],autoPrefix:"",helpText:t._('10 digits (e.g. XXX.XXX.XXX-Y)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 37:return{pattern:/^$|^\d{8}\-?[a-zA-Z0-9]$/,message:t._('Invalid format (e.g. 12345678-K)', '[m10n] billing.validation.invalidTaxIDInputText', 'Invalid input for tax ID number'),name:t._('RUT', '[m10n] billing.validation.taxIDName', 'RUT number'),certificationMessage:t._('I confirm that I\'m a business with a valid RUT and I\'m responsible for self assessing and paying VAT according to Chile\'s tax code. By checking this box and providing a valid RUT VAT will not be charged. You will be charged VAT if the RUT you provided is invalid or incomplete and if you don\'t check this box.', '[m10n] billing.validation.taxRegistrationAgreementCheckbox', 'tax registration agreement checkbox'),checkboxRules:[{vatProvided:!1,boxChecked:!1},{vatProvided:!0,boxChecked:!0}],autoPrefix:"",helpText:t._('8 digits followed by a dash and one alphanumeric character (e.g. 12345678-K)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};case 3:if(n===c)return{pattern:/^$|^\d{10}TQ\d{4}$/,message:t._('Invalid format (e.g. 11234567890QT1234)', '[m10n] billing.validation.invalidTaxIDInputText', '[m10n] Invalid input for tax ID number'),name:t._('QST Number', '[m10n] billing.validation.taxIDName', '[m10n] Name of tax ID number'),certificationMessage:t._('I confirm my business is registered for GST and QST', '[m10n] billing.validation.taxRegistrationAgreementCheckbox', '[m10n] tax registration agreement checkbox'),checkboxRules:[{vatProvided:!1,boxChecked:!1},{vatProvided:!0,boxChecked:!0}],autoPrefix:"",helpText:t._('10 digits followed by TQ and 4 digits (e.g. 11234567890QT1234)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};return{pattern:/^$|^\d{9}RT\d{4}$/,message:t._('Invalid format (e.g. 123456789RT1234)', '[m10n] billing.validation.invalidTaxIDInputText', '[m10n] Invalid input for tax ID number'),name:t._('GST/HST Number', '[m10n] billing.validation.taxIDName', '[m10n] Name of tax ID number'),certificationMessage:t._('I confirm my business is registered for GST/HST.', '[m10n] billing.validation.taxRegistrationAgreementCheckbox', '[m10n] tax registration agreement checkbox'),checkboxRules:[{vatProvided:!1,boxChecked:!1},{vatProvided:!0,boxChecked:!0}],autoPrefix:"",helpText:t._('9 digits followed by RT and 4 digits (e.g. 123456789RT1234)', '[m10n] Help text for tax ID input', '[m10n] billing.validation.taxIDInputHelpText')};default:return null}}(e,t,n);if(r&&_(e)){var s=t._('Please provide Tax ID. If needed, you are able to edit ad account information in the Billing page at a later date', '[m10n] billing.validation.optionalTaxHelpText', 'Helper text for optional tax input for reseller countries do not require tax');return a(a({},r),{},{helpText:s})}return r}function h(e,t,n){return e?n?n.certificationMessage:"":t?t.certificationMessage:""}function p(e){var t=e.represented_advertiser_country;return t===r.JD.FRANCE||t===r.JD.MEXICO}},343669:function(e,t,n){"use strict";n.d(t,{G6:function(){return o},i7:function(){return a},oi:function(){return r},u$:function(){return s},un:function(){return l},vU:function(){return i},w1:function(){return c}});var r=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),s=function(e){return e?e.includes("Chrome")?r.CHROME:e.includes("Safari")?r.SAFARI:e.includes("Firefox")?r.FIREFOX:e.includes("Opera")?r.OPERA:e.includes("IE")?r.IE:e.includes("Edge")?r.EDGE:r.OTHER:r.OTHER};function o(e){return s(e)===r.SAFARI}function a(e){return s(e)===r.CHROME}function i(e){return s(e)===r.FIREFOX}function l(e){return s(e)===r.EDGE}function c(e){return s(e)===r.IE}},974080:function(e,t,n){"use strict";var r=n(387784),s=n(719301),o=n(236269),a=n(424868),i=n(501010),l=n(386811),c=n(89446),u=n(520803);function d(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(){var e,t=(0,c.KJ)(),n=(0,u.Z)().params.businessHierarchyId,f=(0,i.Z)().checkExperiment("ba_mfa_enabled").anyEnabled,m=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(f&&!n?null:[]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return _(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],p=m[1];return(0,r.useEffect)(function(){var e,n,r=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.ZP)({businessId:t,useApiResource:!0});case 3:p((null==(r=e.sent)||null==(n=r.data)?void 0:n.business_roles)||[]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,o.Z)(e.t0,"api_error_code")===a.Zn&&p([s.V3.EMPLOYEE,s.V3.BIZ_ADMIN]);case 10:case"end":return e.stop()}},e,null,[[0,7]])}),n=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){d(o,r,s,a,i,"next",e)}function i(e){d(o,r,s,a,i,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)});t&&f&&r(t)},[t,f]),h}},416474:function(e,t,n){"use strict";var r=n(680811);t.Z=(0,r.jsxs)("svg",{"aria-label":"hierarchy",height:"16",role:"img",viewBox:"0 0 20 20",width:"16",children:[(0,r.jsx)("rect",{fill:"black",height:"10",rx:"1",width:"10",x:"5.00879"}),(0,r.jsx)("rect",{fill:"black",height:"6",rx:"1",width:"6",y:"14"}),(0,r.jsx)("rect",{fill:"black",height:"6",rx:"1",width:"6",x:"7",y:"14"}),(0,r.jsx)("rect",{fill:"black",height:"6",rx:"1",width:"6",x:"14",y:"14"}),(0,r.jsx)("path",{d:"M10 10V12V14",stroke:"black"}),(0,r.jsx)("path",{d:"M10 10V11.5C10 11.7761 10.2239 12 10.5 12H16.5C16.7761 12 17 12.2239 17 12.5V14.0026",stroke:"black"}),(0,r.jsx)("path",{d:"M10 10V11.5C10 11.7761 9.77614 12 9.5 12H3.5C3.22386 12 3 12.2239 3 12.5V14.0026",stroke:"black"})]})},378951:function(e,t,n){"use strict";var r=n(680811);t.Z=(0,r.jsxs)("svg",{"aria-label":"hierarchy",height:"16",role:"img",viewBox:"0 0 20 20",width:"16",children:[(0,r.jsx)("rect",{fill:"white",height:"10",rx:"1",width:"10",x:"5.00879"}),(0,r.jsx)("rect",{fill:"white",height:"6",rx:"1",width:"6",y:"14"}),(0,r.jsx)("rect",{fill:"white",height:"6",rx:"1",width:"6",x:"7",y:"14"}),(0,r.jsx)("rect",{fill:"white",height:"6",rx:"1",width:"6",x:"14",y:"14"}),(0,r.jsx)("path",{d:"M10 10V12V14",stroke:"white"}),(0,r.jsx)("path",{d:"M10 10V11.5C10 11.7761 10.2239 12 10.5 12H16.5C16.7761 12 17 12.2239 17 12.5V14.0026",stroke:"white"}),(0,r.jsx)("path",{d:"M10 10V11.5C10 11.7761 9.77614 12 9.5 12H3.5C3.22386 12 3 12.2239 3 12.5V14.0026",stroke:"white"})]})},31593:function(e,t,n){"use strict";var r=n(680811);t.Z=(0,r.jsxs)("svg",{"aria-label":"dashboard",height:"16",role:"img",viewBox:"0 0 20 20",width:"16",children:[(0,r.jsx)("path",{d:"M1.66634 0.833496C1.2061 0.833496 0.833008 1.20659 0.833008 1.66683V10.8335C0.833008 11.2937 1.2061 11.6668 1.66634 11.6668H8.33301C8.79324 11.6668 9.16634 11.2937 9.16634 10.8335V1.66683C9.16634 1.20659 8.79324 0.833496 8.33301 0.833496H1.66634Z",fill:"black"}),(0,r.jsx)("path",{d:"M11.6663 9.16683C11.2061 9.16683 10.833 9.53992 10.833 10.0002V18.3335C10.833 18.7937 11.2061 19.1668 11.6663 19.1668H18.333C18.7932 19.1668 19.1663 18.7937 19.1663 18.3335V10.0002C19.1663 9.53992 18.7932 9.16683 18.333 9.16683H11.6663Z",fill:"black"}),(0,r.jsx)("path",{d:"M0.833008 14.1668C0.833008 13.7066 1.2061 13.3335 1.66634 13.3335H8.33301C8.79324 13.3335 9.16634 13.7066 9.16634 14.1668V18.3335C9.16634 18.7937 8.79324 19.1668 8.33301 19.1668H1.66634C1.2061 19.1668 0.833008 18.7937 0.833008 18.3335V14.1668Z",fill:"black"}),(0,r.jsx)("path",{d:"M11.6663 0.833496C11.2061 0.833496 10.833 1.20659 10.833 1.66683V6.66683C10.833 7.12707 11.2061 7.50016 11.6663 7.50016H18.333C18.7932 7.50016 19.1663 7.12707 19.1663 6.66683V1.66683C19.1663 1.20659 18.7932 0.833496 18.333 0.833496H11.6663Z",fill:"black"})]})},923769:function(e,t,n){"use strict";var r=n(680811);t.Z=(0,r.jsxs)("svg",{"aria-label":"dashboard",height:"16",role:"img",viewBox:"0 0 20 20",width:"16",children:[(0,r.jsx)("path",{d:"M1.66634 0.833496C1.2061 0.833496 0.833008 1.20659 0.833008 1.66683V10.8335C0.833008 11.2937 1.2061 11.6668 1.66634 11.6668H8.33301C8.79324 11.6668 9.16634 11.2937 9.16634 10.8335V1.66683C9.16634 1.20659 8.79324 0.833496 8.33301 0.833496H1.66634Z",fill:"white"}),(0,r.jsx)("path",{d:"M11.6663 9.16683C11.2061 9.16683 10.833 9.53992 10.833 10.0002V18.3335C10.833 18.7937 11.2061 19.1668 11.6663 19.1668H18.333C18.7932 19.1668 19.1663 18.7937 19.1663 18.3335V10.0002C19.1663 9.53992 18.7932 9.16683 18.333 9.16683H11.6663Z",fill:"white"}),(0,r.jsx)("path",{d:"M0.833008 14.1668C0.833008 13.7066 1.2061 13.3335 1.66634 13.3335H8.33301C8.79324 13.3335 9.16634 13.7066 9.16634 14.1668V18.3335C9.16634 18.7937 8.79324 19.1668 8.33301 19.1668H1.66634C1.2061 19.1668 0.833008 18.7937 0.833008 18.3335V14.1668Z",fill:"white"}),(0,r.jsx)("path",{d:"M11.6663 0.833496C11.2061 0.833496 10.833 1.20659 10.833 1.66683V6.66683C10.833 7.12707 11.2061 7.50016 11.6663 7.50016H18.333C18.7932 7.50016 19.1663 7.12707 19.1663 6.66683V1.66683C19.1663 1.20659 18.7932 0.833496 18.333 0.833496H11.6663Z",fill:"white"})]})},67077:function(e,t,n){"use strict";var r=n(145626);t.Z=function(){var e=window.location.hostname,t=e.includes("pinterdev")&&!e.includes("ads.pinterdev"),n=e.includes("pinterest")&&(e.startsWith("www")||e.startsWith("latest")||e.startsWith("testing"));return t||n?e:e.includes("ads-latest")?"latest.pinterest.com":r.Vi}},319528:function(e,t,n){"use strict";function r(e,t){return e.reduce(function(e,n){var r="function"==typeof t?t(n):n[t];return r in e||(e[r]=[]),e[r].push(n),e},{})}n.d(t,{Z:function(){return r}})},995514:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(375181),s=n(24246),o=n(216975);function a(){var e=(0,s.Z)();return function(t,n){var s=new Date(t).getTime(),a=Date.now()-s,i=Math.floor(a/r.FS),l=Math.floor(a/r.UK),c=Math.floor(a/r.F4),u=Math.floor(a/r.VL),d=Math.floor(a/r.N9),_=Math.floor(a/r.N1),f=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', i, ' - ', ' -- '),m=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', l, ' - ', ' -- '),h=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),p=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', u, ' - ', ' -- '),b=e.ngettext('{{ months }} month ago', '{{ months }} months ago', d, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),y=e.ngettext('{{ years }} year ago', '{{ years }} years ago', _, ' - ', ' -- '),v=e.ngettext('{{ minutes }}m', '{{ minutes }}m', i, 'minutes ago abbreviated', 'minutes ago abbreviated'),A=e.ngettext('{{ hours }}h', '{{ hours }}h', l, 'hours ago abbreviated', 'hours ago abbreviated'),g=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),S=e.ngettext('{{ weeks }}w', '{{ weeks }}w', u, 'weeks ago abbreviated', 'weeks ago abbreviated'),x=e.ngettext('{{ months }}mo', '{{ months }}mo', d, 'months ago abbreviated', 'months ago abbreviated'),E=e.ngettext('{{ years }}y', '{{ years }}y', _, 'years ago abbreviated', 'years ago abbreviated');return _>0?(0,o.nk)(n?E:y,{years:_}).join(""):d>0?(0,o.nk)(n?x:b,{months:d}).join(""):u>0?(0,o.nk)(n?S:p,{weeks:u}).join(""):c>0?(0,o.nk)(n?g:h,{days:c}).join(""):l>0?(0,o.nk)(n?A:m,{hours:l}).join(""):i>0?(0,o.nk)(n?v:f,{minutes:i}).join(""):e._('Just now', ' - ', ' -- ')}}},830031:function(e,t,n){"use strict";n.d(t,{A:function(){return o},S:function(){return s}});var r=(0,n(213491).Z)("pwtSurfaceContext"),s=r.Provider,o=r.getMaybe},267398:function(e,t,n){"use strict";n.d(t,{W:function(){return Z},N:function(){return G}});var r=n(426035),s=n(449896),o=n(192496),a=n(780764),i=n(649324),l=n(648447);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t,n){var r;return(r=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==c(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e,t){return Object.keys(t).reduce(function(n,r){return d(d({},n),{},_({},"".concat(e).concat(r),t[r]))},{})};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=function(e){var t=e.constraintMap,n=e.initialNavTiming;return p(p(p(p({},e.annotations),f("constraint_",t)),f("mark_",(0,r.gQ)())),f("browser_",p(p({},n?d(d({},(0,i.Z)(n)),{},{domComplete:n.domComplete||0,domContentLoadedEventStart:n.domContentLoadedEventStart||0,domInteractive:n.domInteractive||0,workerStart:n.workerStart||0}):{}),{largestContentfulPaint:(0,l.v2)().largestContentfulPaint||0})))},y=n(337751);function v(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g=n(767415);function S(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return E(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var C=["client-","vendor-react-","index-","runtime-","locale-"],O=function(e,t,n){"number"==typeof t&&Number.isFinite(t)&&!(t<0)&&(0,g.LY)(e,t,n)},j=function(e,t,n){"number"==typeof t&&Number.isFinite(t)&&!(t<0)&&(0,g.S0)(e,t,n)},z=["PinResource","UserHomefeedResource","BaseSearchResource","BoardResource","UserResource","BoardFeedResource","runtime-","polyfills-","locale-","vendor-react-","vendor-react-","client-","index-","AuthDesktopHeader","StructuredFeed","[id]-","[scope]-","[username]-","CloseupActionBarCommon-","SaveAffordance-"],w=function(e){var t=e.eventPrefix,n=e.endTime,r=e.tags,s=e.resourceArr,o=e.resourceType,a=void 0===o?"allResources":o,i=s.length;if("object"===T(s[0])&&!Array.isArray(s[0])&&0!==i){if(C.includes(a)){var l=s[0],c=I(I({},r),{},{swIntercepted:l.workerStart>0,workerFinalSourceType:l.workerFinalSourceType||"unknown"});O("".concat(t,".app_start_script_").concat(a.replace("-",""),".InFlight"),l.fetchStart,{tags:c}),O("".concat(t,".app_start_script_").concat(a.replace("-",""),".Complete"),l.responseEnd,{tags:c})}if(z.includes(a)){var u=s[0];O("".concat(t,".critical_resource_").concat(a.replace("-",""),".InFlight"),u.fetchStart,{tags:r}),O("".concat(t,".critical_resource_").concat(a.replace("-",""),".Complete"),u.responseEnd,{tags:r})}else{for(var d=S(s).sort(function(e,t){return e.fetchStart-t.fetchStart}),_=S(s).sort(function(e,t){return e.responseEnd-t.responseEnd}),f=1,m=n/5,h=0;f<=5;){for(var p=0;h<=i-1&&d[h].fetchStart<=m*f;)h+=1,p+=1;j("".concat(t,".").concat(a,".fetchStartInterval").concat(f,"of5"),p,{sampleRate:.2}),f+=1}var b={InFlightP0:d[0].fetchStart,InFlightP25:d[Math.floor(i/4)].fetchStart,InFlightP50:d[2*Math.floor(i/4)].fetchStart,InFlightP75:d[3*Math.floor(i/4)].fetchStart,InFlightP100:d[i-1].fetchStart,CompleteP25:_[Math.floor(i/4)].responseEnd,CompleteP50:_[2*Math.floor(i/4)].responseEnd,CompleteP75:_[3*Math.floor(i/4)].responseEnd,CompleteP100:_[i-1].responseEnd};for(var y in b)b[y]&&O("".concat(t,".").concat(a,".").concat(y),b[y],{tags:r})}}},N=function(e){var t=e.annotateExperiments,n=e.endTime,r=e.entries,s=e.metricId,o=e.pwtStaticContext;if("undefined"==typeof document||"hidden"!==document.visibilityState){var a=o.isAuthenticated,i=o.isBot,l=o.isSocialBot,c=o.deviceType,u="".concat(l&&"socialBot"||i&&"bot"||"nonbot",".").concat(c,".").concat(s.surface),d=[u];t&&S(new Set(t)).forEach(function(e){var t=o.getExperimentGroup(e);t&&d.push("".concat(u,".experiment.").concat(e,".").concat(t))});var _={isAuthenticated:a,navigationType:s.navigationType,startType:o.startType},f=Array.from(r.filter(function(e){return"number"==typeof e.encodedBodySize&&("xmlhttprequest"===e.initiatorType&&e.encodedBodySize>=1e3||e.encodedBodySize>=1e4)&&e.responseEnd<=n})),m={img:[],css:[],script:[],xmlhttprequest:[],preloadedImages:[]};f.forEach(function(e){if("link"===e.initiatorType&&e.name.includes("i.pinimg.com"))m.preloadedImages=[].concat(S(m.preloadedImages||[]),[e]);else if(e.initiatorType in m){var t=e.initiatorType;m[t]=[].concat(S(m[t]||[]),[e]);var n=z.find(function(t){return e.name.includes(t)});n&&(m[n]=[e]);var r=C.find(function(t){return e.name.includes(t)});r&&(m[r]=[e])}}),d.forEach(function(e){w({eventPrefix:e,endTime:n,tags:_,resourceArr:f}),Object.entries(m).forEach(function(t){var r=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||x(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=r[0];w({eventPrefix:e,endTime:n,tags:_,resourceArr:r[1],resourceType:s})})})}},R=n(240083),D=n(591048);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=k(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var B=function(e,t){var n=e.startTime,r=e.responseEnd;return n>t.endTime||!!r&&r<t.startTime},M=function(e,t){var n=e.startTime,r=e.endTime;return n>t.endTime||!!r&&r<t.startTime},H=function(e){var t,n=e.type,i=e.annotateExperiments,l=e.annotations,c=e.binaryAnnotations,u=e.constraintMap,d=e.endTime,_=e.imageTimings,f=e.isV4Logger,m=e.metricId,h=e.pwtStaticContext,p=e.startTime,A=e.traceId,g=e.spans,S=(0,D.Cg)();"initial_app_load"===m.navigationType&&(t=(0,o.Z)());var x=_.map(function(e){return e.name}),E=S.map(function(e){return(0,a.p)(e,x)}).filter(function(e){return!B(e.timing,{startTime:p,endTime:d})}),P=((0,r.E3)()||[]).map(function(e){return{name:e.name,id:(0,R.Z)(),parentId:A,startTime:e.startTime||p,endTime:e.endTime,annotationMap:{},binaryAnnotationMap:{}}}).filter(function(e){return!M(e,{startTime:p,endTime:d})});return .2>Math.random()&&N({annotateExperiments:i,endTime:d,entries:S,metricId:m,pwtStaticContext:h}),{traceId:A,startTime:p,endTime:d,spans:[].concat(v(E.map(function(e){return(0,y.Z)(e,A)}).filter(Boolean)),v(P)).concat(g),annotationMap:b({constraintMap:u,initialNavTiming:t,annotations:l}),binaryAnnotationMap:(0,s.rA)({initialNavTiming:t||{},type:n,annotateExperiments:i,binaryAnnotations:c,entries:S,isV4Logger:f,metricId:m,performanceResources:E,pwtEndTime:d,pwtStaticContext:h})}},Z=function(e){var t=e.annotateExperiments,n=e.annotations,r=e.binaryAnnotations,s=e.constraintMap,o=e.endTime,a=e.imageTimings,i=e.isV4Logger;return U({type:"COMPLETE"},H({type:"COMPLETE",annotateExperiments:t,annotations:n,binaryAnnotations:r,constraintMap:s,endTime:o,imageTimings:a,isV4Logger:void 0!==i&&i,metricId:e.metricId,pwtStaticContext:e.pwtStaticContext,startTime:e.startTime,traceId:e.traceId,spans:e.spans}))},G=function(e){var t=e.reason,n=e.annotateExperiments,r=e.annotations,s=e.binaryAnnotations,o=e.constraintMap,a=e.endTime,i=e.imageTimings,l=e.isV4Logger;return U({type:"ABORT",reason:t},H({type:"ABORT",annotateExperiments:n,annotations:r,binaryAnnotations:s,constraintMap:o,endTime:a,imageTimings:i,isV4Logger:void 0!==l&&l,metricId:e.metricId,pwtStaticContext:e.pwtStaticContext,startTime:e.startTime,traceId:e.traceId,spans:e.spans}))}},176783:function(e,t,n){"use strict";n.d(t,{Cc:function(){return p},DL:function(){return _},Gf:function(){return v},LX:function(){return i},Lc:function(){return A},Ls:function(){return b},Rf:function(){return d},YL:function(){return u},ap:function(){return l},h8:function(){return m},pE:function(){return f},s5:function(){return y},tQ:function(){return h},yR:function(){return c}});var r=n(20256);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var i={w:9,h:16},l=i.w/i.h,c=8,u=10,d=5e3,_=2e3;function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}var m={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},h=[m.IMAGE,m.VIDEO],p=a(a({},{alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1}),{},{font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}),b=new r.Ry(1),y=new r.H3([b]),v=new r.H3([y]),A=function(e){var t=Math.floor(e||0),n=Math.floor(t/60),r=t-60*n;return"".concat(n<10?"".concat(n):n,":").concat(r<10?"0".concat(r):r)}},268617:function(e,t,n){"use strict";var r=n(343669),s=n(832274);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){return(0,r.G6)(e)?[].concat(o(s.xl),["image/heic"]):o(s.xl)}},458704:function(e,t,n){"use strict";var r=n(387784),s=n(20256),o=n(24246),a=n(501010),i=n(591786),l=n(680811);function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=["NO_ACCESS","ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],_=["NO_ACCESS","ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER"],f=["PROFILE_PUBLISHER"],m=["CATALOGS_MANAGER","CATALOGS_VIEWER"],h={backgroundColor:"#f9f9f9"},p=function(e){var t=e.role,n=e.selected,r=e.disabled,a=e.onToggle,c=e.isAoaaAssignmentModal,u=e.isCatalogAccessPicker,d=void 0!==u&&u,_=(0,o.Z)(),f="ADMIN"===t&&void 0!==c&&c||"CATALOGS_MANAGER"===t&&d;return(0,l.jsxs)(s.xu,{children:[f&&(0,l.jsx)(s.xu,{marginBottom:4,children:(0,l.jsx)(s.xv,{color:"subtle",size:"200",children:_._('Full access', '[m10n]bizAccess.aoaaPermissionAssignment.accessPicker.admin.subheader', 'Text that shows the type of access admins are granted')})}),(0,l.jsx)(s.xu,{borderStyle:d?"sm":void 0,dangerouslySetInlineStyle:d?{__style:h}:void 0,padding:d?4:void 0,rounding:d?2:void 0,children:(0,l.jsxs)(s.kC,{alignItems:"start",justifyContent:"start",children:[(0,l.jsx)(s.xu,{"data-test-id":"role-selector-".concat(t),children:(0,l.jsx)(s.XZ,{checked:n,disabled:r,id:t,onChange:function(){a(t)}})}),(0,l.jsxs)(s.xu,{paddingX:2,children:[(0,l.jsx)(s.__,{htmlFor:t,children:(0,l.jsxs)(s.kC,{alignItems:"center",gap:{row:2,column:0},children:[(0,l.jsx)(s.xv,{weight:"bold",children:d?(0,i.yy)(_)(t):(0,i.e6)(_)(t)}),"PROFILE_PUBLISHER"===t]})}),(0,l.jsx)(s.xu,{marginTop:1,children:(0,l.jsx)(s.xv,{size:"200",children:(0,i.To)(_)(t,!1,d)})})]})]})}),f&&(0,l.jsx)(s.xu,{marginBottom:4,marginTop:4,children:(0,l.jsx)(s.xv,{color:"subtle",size:"200",children:_._('Partial access', '[m10n]bizAccess.aoaaPermissionAssignment.accessPicker.otherRoles.subheader', 'Text that shows the type of access other non-admin permissions are granted')})})]})};t.Z=function(e){var t,n=e.assignableRoles,o=e.initialRoles,i=e.onChange,h=e.isAoaaAssignmentModal,b=void 0!==h&&h,y=e.isCatalogAccessPicker,v=void 0!==y&&y,A=(0,a.Z)().checkExperiment,g=A("web_m10n_business_access_catalogs").anyEnabled,S=A("web_business_access_finance_manager_role").anyEnabled,x=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(o))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||c(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),E=x[0],P=x[1],I=E.includes("ADMIN")||v&&E.includes("CATALOGS_MANAGER"),T=E.includes("NO_ACCESS"),C=g?_:d,O=n.includes("NO_ACCESS")?C:C.slice(1),j=n.includes("ADMIN")?O:C.filter(function(e){return n.includes(e)});return n.includes("PROFILE_PUBLISHER")&&(j=f.filter(function(e){return n.includes(e)})),n.includes("CATALOGS_VIEWER")&&(j=m.filter(function(e){return n.includes(e)})),v&&(j=m.filter(function(e){return n.includes(e)})),S&&j.includes("FINANCE_MANAGER")&&(j=(j=j.filter(function(e){return"FINANCE_MANAGER"!==e})).concat(["FINANCE_EDIT","FINANCE_VIEW"])),(0,l.jsx)(r.Fragment,{children:j.map(function(e){return(0,l.jsx)(s.xu,{marginBottom:4,children:(0,l.jsx)(p,{disabled:I&&!v&&"ADMIN"!==e&&"NO_ACCESS"!==e||I&&v&&"CATALOGS_MANAGER"!==e||T&&"NO_ACCESS"!==e||"FINANCE_EDIT"===e&&E.includes("FINANCE_VIEW")||"FINANCE_VIEW"===e&&E.includes("FINANCE_EDIT"),isAoaaAssignmentModal:b,isCatalogAccessPicker:v,onToggle:function(){var t;P(t="ADMIN"===e?I?[]:n.filter(function(e){return"NO_ACCESS"!==e&&"FINANCE_VIEW"!==e}):"NO_ACCESS"===e?T?[]:["NO_ACCESS"]:E.includes(e)?E.filter(function(t){return t!==e}):[].concat(function(e){if(Array.isArray(e))return u(e)}(E)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(E)||c(E)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e])),i(t)},role:e,selected:I&&"NO_ACCESS"!==e&&"FINANCE_VIEW"!==e||E.includes(e)})},e)})})}},945946:function(e,t,n){"use strict";n.d(t,{jX:function(){return I},zu:function(){return P}});var r=n(387784),s=n(230201),o=n(470205),a=n(501010),i=n(580411),l=n(203490),c=n(969623),u=n(520803),d=n(680811);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=b(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}function y(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function v(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}function A(e){var t=S();return function(){var n,r=E(e);return n=t?Reflect.construct(r,arguments,E(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,n)}}function g(e){var t="function"==typeof Map?new Map:void 0;return(g=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(S())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var s=new(e.bind.apply(e,r));return n&&x(s,n.prototype),s}(e,arguments,E(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),x(n,e)})(e)}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(S=function(){return!!e})()}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){v(n,e);var t=A(n);function n(e,r){var s;return y(this,n),(s=t.call(this,e)).modalTitle=r,s}return p(n)}(g(Error)),I=function(e){v(n,e);var t=A(n);function n(e,r){var s;return y(this,n),(s=t.call(this,e)).sheetTitle=r,s}return p(n)}(g(Error)),T=function(e){var t=e.name,n=e.pageType,o=e.info,_=e.error,f=e.errorType,m=(0,s.u)().logContextEvent,h=(0,u.Z)().params.userBizId;if((0,r.useEffect)(function(){m({event_type:8961,component:(0,c.Z)(n),aux_data:{business_id:h,error_class:t.slice(0,64),error_message:JSON.stringify({message:_?_.message:"No message",stack:o?o.componentStack:"No stack trace"}).slice(0,4096)}})},[]),(0,(0,a.Z)().checkExperiment)("web_m10n_business_access_error_handling").anyEnabled)switch(f){case"FULL_PAGE":return(0,d.jsx)(l.yM,{errorCodes:[i.Z.FULL_PAGE_ERROR]});case"PARTIAL":return(0,d.jsx)(l.Di,{errorCodes:[i.Z.META_DATA_ERROR]});case"MODAL":return(0,d.jsx)(l.Ym,{error:_,errorCodes:[i.Z.META_DATA_ERROR]});case"SHEET":return(0,d.jsx)(l.DI,{error:_,errorCodes:[i.Z.SHEET_DATA_ERROR]});case"SIDEBAR":return(0,d.jsx)(l.h2,{errorCodes:[i.Z.SIDEBAR_DATA_ERROR]});case"TABLE":return(0,d.jsx)(l.zi,{errorCodes:[i.Z.TABLE_DATA_ERROR]})}return null};t.ZP=function(e){var t=e.name,n=e.pageType,s=e.children,a=e.errorType,i=void 0===a?null:a;return(0,d.jsx)(o.Z,{name:t,renderErrorState:function(e){return(0,d.jsx)(T,m(m({},e),{},{errorType:i,name:t,pageType:n}))},children:s||(0,d.jsx)(r.Fragment,{})})}},999294:function(e,t,n){"use strict";n.d(t,{Z:function(){return lA}});var r,s,o,a=n(653551),i=n(658241),l=n(59355),c=n(367683),u=n(935059),d=n(945946),_=n(387784),f=n(581722),m=n(20256),h=n(65711),p=n(69406),b=n(800287),y=n(537391),v=n(719301),A=n(457223),g=n(766857),S=n(230201),x=n(997526),E=n(440077),P=n(173874),I=n(501010),T=n(204012),C=n(540846),O=n(774556),j=n(647587),z=n(851770),w=n(465784),N=n(24246),R=n(216975),D=n(833627),k=n(733686),L=n(89446),U=n(680811);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M=function(e){var t,n=e.id,r=e.name,s=e.owner_user_id,o=e.merchant_id,a=(0,f.I0)(),i=(0,N.Z)(),l=(0,u.Z)(),c=(0,L.HU)().clearModal,d=function(){c(),a({type:"CLEAR_ERROR"})},h=function(e){if(Array.isArray(e))return e}(t=(0,z.Z)(D.b,!0,s))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),3!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,3)||function(e,t){if(e){if("string"==typeof e)return B(e,3);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,3):void 0}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=h[0],b=h[2];return(0,U.jsx)(w.ZP,{accessibilityModalLabel:i._('Go to ad account modal', '[m10n]bizAccess.adAccount.switcher.modal.accessibilityLabel', 'accessibility label for the modal used to select ad accounts'),heading:i._('Go to ad account', '[m10n]bizAccess.adAccount.switcher.modal.heading', 'heading for the modal used to select ad accounts'),onDismiss:d,size:"sm",children:(0,U.jsx)(m.xu,{children:b?(0,U.jsx)(m.xu,{paddingY:12,children:(0,U.jsx)(m.xH,{accessibilityLabel:i._('Loading ad account owner info', '[m10n]bizAccess.adAccount.switcher.modal.loading', 'message shown when loading advertiser data'),show:!0})}):(0,U.jsxs)(_.Fragment,{children:[(0,U.jsx)(m.xu,{display:"flex",justifyContent:"center",paddingY:6,children:(0,U.jsx)(m.qE,{color:(null==p?void 0:p.avatar_color_index)||void 0,name:(null==p?void 0:p.full_name)||"",size:"lg",src:(null==p?void 0:p.image_medium_url)||""})}),(0,U.jsxs)(m.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:6,children:[(0,U.jsx)(m.xv,{color:"subtle",weight:"bold",children:(0,R.nk)(i._('{{fullName}} viewing as', '[m10n]bizAccess.adAccount.switcher.viewingAs', 'when viewing a page as a specific advertiser in multi-user state'),{fullName:l.isAuth?l.fullName:""})}),(0,U.jsx)(m.X6,{color:"default",size:"600",children:r}),(0,U.jsx)(m.xv,{color:"subtle",weight:"bold",children:n})]}),!p&&(0,U.jsx)(m.xv,{align:"center",color:"error",weight:"bold",children:i._('Advertiser account has been suspended', '[m10n]bizAccess.adAccount.switcher.account.suspended', 'message shown when user is trying to switch to a suspended ad account')}),(0,U.jsx)(m.xu,{marginBottom:3,marginTop:4,children:(0,U.jsx)(m.iz,{})}),(0,U.jsxs)(m.xu,{"data-test-id":"advertiser-actions",marginBottom:5,paddingX:6,children:[(0,U.jsx)(k.Z,{accountOwnerId:s,advertiserId:n,isOwnerUserSuspended:null===p,isWwwSite:!0,merchantId:o,userId:l.isAuth?l.id:""}),(0,U.jsx)(m.kC,{alignItems:"center",justifyContent:"center",children:(0,U.jsx)(m.zx,{onClick:d,text:i._('Close', '[m10n]bizAccess.adAccount.switcher.modal.close', 'Button label to close ad account switcher modal')})})]})]})})})},H=n(143754),Z=n(274138);function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Y=function(e){var t=e.strings,n=e.setRequestAssetModal,r=e.setCreateAssetModal,s=(0,N.Z)(),o=G((0,_.useState)(!0),2),a=o[0],i=o[1],l=G((0,_.useState)(!1),2),c=l[0],u=l[1],d=G((0,_.useState)(!1),2),f=d[0],h=d[1],p=function(){i(!1),u(!0),h(!1)},b=function(){i(!1),u(!1),h(!0)};return(0,U.jsx)(m.xu,{"data-test-id":"view-business-details-modal",children:(0,U.jsxs)(Z.Z,{accessibilityLabel:t.modalAccessibilityLabel,primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"addAdAccount-next-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:a,onClick:function(){return c?r():n()},size:"lg",text:(0,H.L$)(s)})}),size:"sm",title:t.modalTitle,children:[(0,U.jsx)(m.xu,{marginBottom:2,marginTop:2,children:(0,U.jsx)(m.iP,{dataTestId:"create-account-option",onTap:function(){return p()},children:(0,U.jsxs)(m.xu,{alignItems:"center",borderStyle:c?"none":"shadow",dangerouslySetInlineStyle:{__style:{borderColor:c?E.z6F:E.fcC,borderStyle:"solid",borderWidth:1}},direction:"row",display:"flex",padding:4,rounding:2,children:[(0,U.jsx)(m.xu,{marginEnd:3,children:(0,U.jsx)(m.JO,{accessibilityLabel:t.addCircleIconAccessibilityLabel,color:"default",icon:"add-circle",size:24})}),(0,U.jsxs)(m.kC,{direction:"column",gap:1,width:"100%",children:[(0,U.jsxs)(m.kC,{flex:"grow",justifyContent:"between",width:"100%",children:[(0,U.jsx)(m.xv,{size:"300",weight:"bold",children:t.createAsset}),c&&(0,U.jsx)(m.JO,{accessibilityLabel:t.selectedIconAccessibilityLabel,color:"default",icon:"check-circle",size:16})]}),(0,U.jsx)(m.xv,{size:"200",children:t.createAssetDescription})]})]})})}),(0,U.jsx)(m.xu,{marginBottom:2,children:(0,U.jsx)(m.iP,{dataTestId:"request-account-access-option",onTap:function(){return b()},children:(0,U.jsxs)(m.xu,{alignItems:"center",borderStyle:f?"none":"shadow",dangerouslySetInlineStyle:{__style:{borderColor:f?E.z6F:E.fcC,borderStyle:"solid",borderWidth:1}},direction:"row",display:"flex",padding:4,rounding:2,children:[(0,U.jsx)(m.xu,{marginEnd:3,children:(0,U.jsx)(m.JO,{accessibilityLabel:t.sendIconAccessibilityLabel,color:"default",icon:"send",size:24})}),(0,U.jsxs)(m.kC,{direction:"column",gap:1,width:"100%",children:[(0,U.jsxs)(m.kC,{flex:"grow",justifyContent:"between",width:"100%",children:[(0,U.jsx)(m.xv,{size:"300",weight:"bold",children:t.requestAssetAccess}),f&&(0,U.jsx)(m.JO,{accessibilityLabel:t.selectedIconAccessibilityLabel,color:"default",icon:"check-circle",size:16})]}),(0,U.jsx)(m.xv,{size:"200",children:t.requestAssetAccessDescription})]})]})})})]})})},V=function(){var e=(0,N.Z)(),t=(0,L.HU)(),n=t.setRequestAdAccountsGeneralModal,r=t.setCreateAdAccountModal,s={modalAccessibilityLabel:e._('Add ad account modal', '[m10n]bizAccess.addAdAccount.modal.accessibilityLabel', 'accessibility label for the modal used to add an ad account'),modalTitle:e._('Add ad account', '[m10n]bizAccess.addAdAccount.modal.heading', 'heading for the modal used to add an ad account'),addCircleIconAccessibilityLabel:e._('Add circle icon', '[m10n]bizAccess.addAdAccount.modal.addCircleIcon.accessibilityLabel', 'accessibility label for the add circle icon'),sendIconAccessibilityLabel:e._('Send icon', '[m10n]bizAccess.addAdAccount.modal.SendIcon.accessibilityLabel', 'accessibility label for the send icon'),selectedIconAccessibilityLabel:e._('Check circle icon', '[m10n]bizAccess.addAdAccount.modal.checkCircleIcon.accessibilityLabel', 'accessibility label for the check circle icon'),createAsset:e._('Create new ad account', '[m10n]bizAccess.addAdAccount.modal.createNewAdAccount', 'text for creating a new ad account'),createAssetDescription:e._('Create ad accounts for your business or for a partner', '[m10n]bizAccess.addAdAccount.modal.createNewAdAccount.description', 'description for creating a new ad account'),requestAssetAccess:e._('Request ad account access', '[m10n]bizAccess.requestAdAccount.modal.requestAdAccountAccess', 'text for requesting access to an ad account'),requestAssetAccessDescription:e._('Request access to ad accounts your partners own', '[m10n]bizAccess.addAdAccount.modal.equestAdAccountAccess.description', 'description for requesting access to an ad account')};return(0,U.jsx)(Y,{setCreateAssetModal:r,setRequestAssetModal:function(){return n({})},strings:s})},q=n(236269),Q=n(924591),W=n(577356),X=n(179168),K=n(534690),$=n(552263),J=n(594110),ee=n(283937),et=n(84723),en=n(738424),er=n(785096),es=n(471873),eo=n(600600),ea=n(822612),ei=n(458765),el=n(656238),ec=n(432730),eu=n(502225),ed=n(859933),e_=n(168583),ef=n(208842),em=n(59006),eh=n(577432),ep=n(488335),eb=n(120516),ey=n(555787),ev=n(408524),eA=n(538569),eg=n(511824),eS=n(618550);function ex(e){return(ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eE(e){return function(e){if(Array.isArray(e))return ew(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ez(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eP(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function eI(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){eP(o,r,s,a,i,"next",e)}function i(e){eP(o,r,s,a,i,"throw",e)}a(void 0)})}}function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(t){eO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eO(e,t,n){var r;return(r=function(e,t){if("object"!=ex(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ex(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ex(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ej(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||ez(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ez(e,t){if(e){if("string"==typeof e)return ew(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ew(e,t):void 0}}function ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eN=function(e){var t,n=e.assetOrMemberType,r=e.alreadyAdded,s=(0,N.Z)(),o=(0,L.KJ)(),a=ej((0,_.useState)(""),2),i=a[0],l=a[1],c=(0,f.I0)(),u=(0,_.useMemo)(function(){var e;return((null==r?void 0:r.length)||0)>0&&(e=eC(eC({},e),{},{ignore_business_ids:r})),e},[r]),d=(0,_.useMemo)(function(){var e;return((null==r?void 0:r.length)||0)>0&&(e=eC(eC({},e),{},{ignore_business_ids:r})),e},[r]);switch(n){case"AD_ACCOUNT":t={onSearch:function(){c((0,ei.cE)({businessId:o,searchBy:/\d{12}/.test(i)?"id":"name",searchTerm:i,includeAssetSummary:!0}))},accessibilityLabel:s._('Search ad accounts', '[m10n]bizAccess.assetGroup.add.search.accessibilityLabel', 'Accessibility label for search box that prompts to allow searching ad accounts by ID or name'),placeholder:s._('Search ad accounts', '[m10n]bizAccess.assetGroup.add.search.placeholder', 'Search box prompt to allow searching ad accounts by ID or name')};break;case"PROFILE":t={onSearch:function(){c((0,e_.A9)({businessId:o,searchBy:/\d{12}/.test(i)?"id":"name",searchTerm:i}))},accessibilityLabel:s._('Search profiles', '[m10n]bizAccess.profile.add.search.accessibilityLabel', 'Accessibility label for search box that prompts to allow searching profiles by ID or name'),placeholder:s._('Search profiles', '[m10n]bizAccess.profile.add.search.placeholder', 'Search box prompt to allow searching profiles by ID or name')};break;case"PEOPLE":t={onSearch:function(){c((0,ed.JC)({searchBy:["FULL_NAME","EMAIL","USERNAME"],sortBy:"FULL_NAME",searchTerm:i,businessId:o,limit:v.w2,filters:d}))},accessibilityLabel:s._('Search employees', '[m10n]bizAccess.assetGroup.employee.search.accessibilityLabel', 'Accessibility label for search box that prompts to allow searching employee by name, username or email'),placeholder:s._('Employee name, username or email', '[m10n]bizAccess.assetGroup.employee.search.placeholder', 'Search box prompt to allow searching employee name, username or email')};break;case"SYSTEM_USERS":t={onSearch:function(){c((0,ef.ye)({searchBy:["FULL_NAME"],sortBy:"FULL_NAME",searchTerm:i,businessId:o,limit:v.w2,filters:d}))},accessibilityLabel:s._('Search system users', '[m10n]bizAccess.assetGroup.system-user.search.accessibilityLabel', 'Accessibility label for search box that prompts to allow searching system users by name'),placeholder:s._('System user name', '[m10n]bizAccess.assetGroup.system-user.search.placeholder', 'Search box prompt to allow searching system users by name, username, or email')};break;case"PARTNER":t={onSearch:function(){c((0,eu.Eg)({businessId:o,searchBy:["FULL_NAME","USERNAME","BUSINESS_ID"],sortBy:"FULL_NAME",searchTerm:i,partnerType:"INTERNAL",filters:u}))},accessibilityLabel:s._('Search partners', '[m10n]bizAccess.partner.add.search.accessibilityLabel', 'Accessibility label for search box that prompts to allow searching partners by ID or name'),placeholder:s._('Search partners', '[m10n]bizAccess.partner.add.search.placeholder', 'Search box prompt to allow searching partner by name, username, or business ID')};break;case"CATALOG":t={onSearch:function(){c((0,ec.L_)({businessId:o,sortDirection:v.IR.ASCENDING,searchBy:"NAME",searchTerm:i,limit:v.xX}))},accessibilityLabel:s._('Search catalogs', '[m10n]bizAccess.catalog.add.search.accessibilityLabel', 'Accessibility label for catalogs search box'),placeholder:s._('Search catalogs', '[m10n]bizAccess.catalog.add.search.placeholder', 'Search box prompt to allow searching catalogs')};break;default:t={onSearch:function(){},accessibilityLabel:"",placeholder:""}}return(0,K.Z)(t.onSearch,J.I.debounceTimeOut,[i]),(0,U.jsx)(m.xu,{"data-test-id":"search-for-asset-to-add",children:(0,U.jsx)(m.Um,{accessibilityLabel:t.accessibilityLabel,id:"bizAdAccountSearch",onChange:function(e){l(e.value)},placeholder:t.placeholder,size:"lg",value:i})})},eR=function(e,t,n,r,s,o,a,i,l,c,u,d,m,h,p,b,y,A,g,S){var x=(0,f.v9)(ep.G$),E=(0,f.v9)(ep.X4),P=(0,f.v9)(ep.x9),T=(0,_.useMemo)(function(){var e;return((null==x?void 0:x.length)||0)>0&&(e=eC(eC({},e),{},{ignore_business_ids:x.map(function(e){return e.id})})),e},[x]),C=(0,_.useMemo)(function(){var e;return((null==P?void 0:P.length)||0)>0&&(e=eC(eC({},e),{},{ignore_business_ids:P.map(function(e){return e.id})})),e},[P]),O=(0,_.useMemo)(function(){var e;return((null==E?void 0:E.length)||0)>0&&(e=eC(eC({},e),{},{ignore_business_ids:E.map(function(e){return e.id})})),e},[E]),j=function(e){var t=l.findIndex(function(t){return t===e});t>=0?u(l.slice(0,t).concat(l.slice(t+1))):u(l.concat([e]))},z=(0,(0,I.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,w=function(t){var n={12:e._('The number of assets within asset group would exceed the upper limit 20 for this business', '[m10n].bizAccess.addAssetError.message', 'message in error toast to show error occured because they would exceed the limit')},s=t&&t in n&&n[t.toString()];r(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:s||(0,H.sQ)(e),type:"error"})})};switch(a){case"AD_ACCOUNT":return{modalTitle:e._('Add ad accounts', '[m10].bizAccess.assetGroupsAddAssetOrUser.modalTitle', 'title of modal for adding ad account to asset group'),getData:function(){n((0,ei.cE)({businessId:t,sortBy:"name",sortDirection:v.IR.ASCENDING,searchBy:"name",searchTerm:"",limit:v.xX,includeAssetSummary:!0}))},selectIsLoading:eh.wk,selectAlreadyAdded:ep.ou,onSortChange:function(e,r){n((0,ei.cE)({businessId:t,sortBy:e,sortDirection:r,includeAssetSummary:!0}))},headerSubText:e._('You can add or remove ad accounts any time, and you can add them to multiple asset groups. After adding, everyone with permissions for this asset group will also have them for the ad account. To view or change permissions for employees or partners, go to the members tab.', '[m10].bizAccess.assetGroupsAddAssetOrUser.headerSubText', 'information telling user to select which ad accounts to add to asset group. They can add or remove ad accounts any time, or assign one ad account to multiple asset groups'),columnDefs:[(0,er.Z)({selectedIds:l,onSelectChange:j,disableFilter:g?function(e,n){return e!==t||!!n}:void 0}),(0,ee.Z)(e,{headerName:e._('Ad account name', '[m10].bizAccess.assetGroup.adAccount, header for ad account column', 'Header of ad account name column in table'),clickable:!1}),(0,et.Z)(e)],onSubmit:function(){eI(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,em.Ct)({assetGroupId:i.id,assetsToAdd:l,businessId:t,businessHierarchyNodeId:c});case 3:n((0,el.NQ)({businessId:t,resourceType:"AD_ACCOUNT"},{assetsToAdd:l})),r(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,R.nk)(e.ngettext('{{numAdAccounts}} ad account has been successfully added to {{assetGroupName}}', '{{numAdAccounts}} ad accounts have been successfully added to {{assetGroupName}}', l.length, '[m10n]bizAccess.assetGroup.adAdAccount.success', 'Toast message for successfully adding ad accounts to asset groups numAdAccounts: number of ad accounts user is adding, assetGroupName: name of asset group'),{numAdAccounts:l.length,assetGroupName:i.name}).join("")})}),S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"add-ad-accounts-to-asset-group-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:t}),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),w((0,q.Z)(o.t0,"api_error_code"));case 11:s();case 12:case"end":return o.stop()}},o,null,[[0,8]])}))()}};case"PEOPLE":return{modalTitle:e._('Add employees', '[m10].bizAccess.assetGroupsAddAssetOrUser.employees.modalTitle', 'title of modal for adding employees to asset group'),getData:function(){n((0,ed.JC)({searchBy:["FULL_NAME","EMAIL","USERNAME"],sortBy:"FULL_NAME",searchTerm:"",businessId:t,limit:v.w2,filters:C}))},selectIsLoading:ev.gB,onSortChange:function(e,r){n((0,ed.JC)({sortBy:e,sortDirection:r,businessId:t,limit:v.w2,filters:C}))},headerSubText:(0,R.nk)(e._('The selected default permissions will be applied to all employees added to {{assetGroupName}}. If an employee has access to an individual asset within the asset group, they will retain the highest permissions applicable.', '[m10].bizAccess.assetGroupsAddAssetOrUser.employees.headerSubText', 'information telling user to select which employees to add to asset group. They can add or remove employees at a later time, or assign one employee to multiple asset groups, assetGroupName: name of asset group'),{assetGroupName:i.name}).join(""),columnDefs:0===d?[(0,er.Z)({selectedIds:l,onSelectChange:j}),(0,es.Z)(e,{headerName:e._('Employee name', '[m10].bizAccess.assetGroup.employee, header for employee column', 'Header of employee name column in table'),type:"PEOPLE",clickable:!1}),(0,ea.Z)(e,{field:"business_roles"})]:[(0,es.Z)(e,{headerName:e._('Employee name', '[m10].bizAccess.assetGroup.employee, header for employee column', 'Header of employee name column in table'),type:"PEOPLE",clickable:!1}),(0,ea.Z)(e,{field:"business_roles"}),(0,eo.Z)(e,function(e,t){p(eC(eC({},h),{},eO({},e,t)))},h,"ASSET_GROUPS",{},void 0,void 0,void 0,void 0,void 0,!0,!0,e._('Ad account permissions', '[m10n]bizAccess.business.assetGroup.employee.permission', 'employee permission'))].concat(z?(0,en.Z)({individualAssignedPermissionsMap:b,i18n:e,pageType:"ASSET_GROUPS",updateCatalogPermission:function(e,t){y(eC(eC({},b),{},eO({},e,t)))},useButtons:!1}):[]),onSubmit:function(){0===d?m(1):eI(regeneratorRuntime.mark(function e(){var r,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=o.filter(function(e){return l.includes(e.id)&&h[e.id].length>0}).map(function(e){return{id:e.id,user:e.user,permissions:[].concat(eE(h[e.id]),eE(b[e.id]||[]))}}),e.next=5,Promise.allSettled(r.filter(function(e){return e.permissions.length>0}).map(function(e){return(0,em.AY)({businessId:t,assetGroupId:i.id,employeeId:e.id,permissions:e.permissions,businessHierarchyNodeId:c})}));case 5:u=e.sent,d=r.filter(function(e,t){return"fulfilled"===u[t].status}),u.filter(function(e){return"rejected"===e.status}).length>0&&w(),s(),d.length>0&&(A({employeeOrPartnerPermissions:d,assetOrMemberType:a}),n((0,el.dQ)({businessId:t},{userType:"PEOPLE"})),S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"add-people-to-asset-group-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:t})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w();case 16:case"end":return e.stop()}},e,null,[[0,13]])}))()},selectAlreadyAdded:ep.x9};case"SYSTEM_USERS":return{modalTitle:e._('Add system users', '[m10].bizAccess.assetGroupsAddAssetOrUser.systemUsers.modalTitle', 'title of modal for adding system users to asset group'),getData:function(){n((0,ef.ye)({searchBy:["FULL_NAME","EMAIL","USERNAME"],sortBy:"FULL_NAME",searchTerm:"",businessId:t,limit:v.w2,filters:O}))},selectIsLoading:eg._v,onSortChange:function(e,r){n((0,ef.ye)({sortBy:e,sortDirection:r,businessId:t,limit:v.w2,filters:O}))},headerSubText:(0,R.nk)(e._('The selected default permissions will be applied to all system users added to {{assetGroupName}}. If a system user has access to an individual asset within the asset group, they will retain the highest permissions applicable.', '[m10].bizAccess.assetGroupsAddAssetOrUser.systemUsers.headerSubText', 'information telling user to select which system users to add to asset group. They can add or remove system users at a later time, or assign one system user to multiple asset groups, assetGroupName: name of asset group'),{assetGroupName:i.name}).join(""),columnDefs:0===d?[(0,er.Z)({selectedIds:l,onSelectChange:j}),(0,es.Z)(e,{headerName:e._('System user name', '[m10].bizAccess.assetGroup.systemUser, header for system user column', 'Header of employee name column in table'),type:"SYSTEM_USER",clickable:!1,hidesAvatar:!0}),(0,ea.Z)(e,{field:"business_roles"})]:[(0,es.Z)(e,{headerName:e._('System user name', '[m10].bizAccess.assetGroup.systemUser, header for system user column', 'Header of employee name column in table'),type:"SYSTEM_USER",clickable:!1,hidesAvatar:!0}),(0,ea.Z)(e,{field:"business_roles"}),(0,eo.Z)(e,function(e,t){p(eC(eC({},h),{},eO({},e,t)))},h,"ASSET_GROUPS",{},void 0,void 0,void 0,void 0,void 0,!0,!0,e._('Ad account permissions', '[m10n]bizAccess.business.assetGroup.systemUser.permission', 'system ser permission'))].concat(z?(0,en.Z)({individualAssignedPermissionsMap:b,i18n:e,pageType:"ASSET_GROUPS",updateCatalogPermission:function(e,t){y(eC(eC({},b),{},eO({},e,t)))},useButtons:!1}):[]),onSubmit:function(){0===d?m(1):eI(regeneratorRuntime.mark(function e(){var r,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=o.filter(function(e){return l.includes(e.id)&&h[e.id].length>0}).map(function(e){return{id:e.id,user:e.user,permissions:[].concat(eE(h[e.id]),eE(b[e.id]||[]))}}),e.next=5,Promise.allSettled(r.filter(function(e){return e.permissions.length>0}).map(function(e){return(0,em.AY)({businessId:t,assetGroupId:i.id,employeeId:e.id,permissions:e.permissions,businessHierarchyNodeId:c})}));case 5:u=e.sent,d=r.filter(function(e,t){return"fulfilled"===u[t].status}),u.filter(function(e){return"rejected"===e.status}).length>0&&w(),s(),d.length>0&&(A({employeeOrPartnerPermissions:d,assetOrMemberType:a}),n((0,el.dQ)({businessId:t},{userType:"SYSTEM_USERS"})),S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"add-system-users-to-asset-group-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:t})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w();case 16:case"end":return e.stop()}},e,null,[[0,13]])}))()},selectAlreadyAdded:ep.X4};case"PROFILE":return{modalTitle:e._('Add profiles', '[m10].bizAccess.assetGroupsAddProfile.modalTitle', 'title of modal for adding profiles to asset group'),getData:function(){n((0,e_.A9)({businessId:t,sortBy:"name",sortDirection:v.IR.ASCENDING,searchBy:"name",searchTerm:"",limit:v.cU}))},selectIsLoading:eA.JQ,selectAlreadyAdded:ep.Gw,onSortChange:function(e,r){n((0,e_.A9)({businessId:t,sortBy:e,sortDirection:r}))},headerSubText:e._('Select which profiles you would like to include in this asset group. You can always add or remove profiles at a later time. Profiles can be added to multiple asset groups.', '[m10].bizAccess.assetGroupsAddProfiles.headerSubText', 'information telling user to select which profiless to add to asset group. They can add or remove profiles at a later time, or assign one profile to multiple asset groups'),columnDefs:[(0,er.Z)({selectedIds:l,onSelectChange:j,disableFilter:g?function(e){return e!==t}:void 0}),(0,ee.Z)(e,{headerName:e._('Profile name', '[m10].bizAccess.assetGroup.profile, header for profile column', 'Header of profile name column in table'),clickable:!1,hidesAvatar:!1}),(0,et.Z)(e)],onSubmit:function(){eI(regeneratorRuntime.mark(function o(){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,em.Ct)({assetGroupId:i.id,assetsToAdd:l,businessId:t,businessHierarchyNodeId:c});case 3:n((0,el.NQ)({businessId:t,resourceType:"PROFILE"},{assetsToAdd:l})),r(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,R.nk)(e.ngettext('{{numProfiles}} profile has been successfully added to {{assetGroupName}}', '{{numProfiles}} profiles have been successfully added to {{assetGroupName}}', l.length, '[m10n]bizAccess.assetGroup.adAdAccount.success', 'Toast message for successfully adding profiles to asset groups numProfiles: number of profiles user is adding, assetGroupName: name of asset group'),{numProfiles:l.length,assetGroupName:i.name}).join("")})}),S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"add-profiles-to-asset-group-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:t}),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),w(null!=(a=(0,q.Z)(o.t0,"api_error_code"))?a:0);case 11:s();case 12:case"end":return o.stop()}},o,null,[[0,8]])}))()}};case"PARTNER":return{modalTitle:e._('Add partners', '[m10].bizAccess.assetGroupsAddAssetOrUserPartner.modalTitle', 'title of modal for adding partner to asset group'),getData:function(){n((0,eu.Eg)({businessId:t,sortBy:"full_name",sortDirection:v.IR.ASCENDING,searchBy:"FULL_NAME",searchTerm:"",limit:v.xX,partnerType:"INTERNAL",filters:T}))},selectIsLoading:ey._1,selectAlreadyAdded:ep.G$,onSortChange:function(e,r){n((0,eu.Eg)({businessId:t,sortBy:e,sortDirection:r,partnerType:"INTERNAL",filters:T}))},headerSubText:(0,R.nk)(e._('The selected default permissions will be applied to all partners added to {{assetGroupName}}. If a partner has individual access to a specific asset within the asset group, they will retain the highest permissions applicable.', '[m10].bizAccess.assetGroupsAddAssetOrUserPartner.headerSubText', 'Sub header text to inform user that the partners they select can be given permissions on individual assets in the asset group, and they will retain the highest applicable permission assetGroupName: name of asset group'),{assetGroupName:i.name}).join(""),columnDefs:0===d?[(0,er.Z)({selectedIds:l,onSelectChange:j}),(0,es.Z)(e,{headerName:e._('Partner name', '[m10].bizAccess.assetGroup.partner, header for partner column', 'Header of partner name column in table'),type:"PARTNER",clickable:!1})]:[(0,es.Z)(e,{headerName:e._('Partner name', '[m10].bizAccess.assetGroup.partner, header for partner column', 'Header of partner name column in table'),type:"PARTNER",clickable:!1}),(0,eo.Z)(e,function(e,t){p(eC(eC({},h),{},eO({},e,t)))},h,"ASSET_GROUPS",{},void 0,void 0,void 0,void 0,void 0,!0,!0)].concat(z?(0,en.Z)({individualAssignedPermissionsMap:b,i18n:e,pageType:"ASSET_GROUPS",updateCatalogPermission:function(e,t){y(eC(eC({},b),{},eO({},e,t)))},useButtons:!1}):[]),onSubmit:function(){0===d?m(1):eI(regeneratorRuntime.mark(function e(){var r,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=o.filter(function(e){return l.includes(e.id)&&h[e.id].length>0}).map(function(e){return{id:e.id,user:e.user,permissions:[].concat(eE(h[e.id]),eE(b[e.id]||[]))}}),e.next=5,Promise.allSettled(r.filter(function(e){return e.permissions.length>0}).map(function(e){return(0,em.i8)({businessId:t,assetGroupId:i.id,partnerId:e.id,permissions:e.permissions,businessHierarchyNodeId:c})}));case 5:u=e.sent,d=r.filter(function(e,t){return"fulfilled"===u[t].status}),u.filter(function(e){return"rejected"===e.status}).length>0&&w(),s(),d.length>0&&(A({employeeOrPartnerPermissions:d,assetOrMemberType:a}),n((0,el.dQ)({businessId:t},{userType:"PARTNER"})),S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"add-partners-to-asset-group-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:t})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),w();case 16:case"end":return e.stop()}},e,null,[[0,13]])}))()}};case"CATALOG":return{modalTitle:e._('Add catalogs', '[m10].bizAccess.assetGroupsAddAssetOrUser.modalTitle.catalogs', 'title of modal for catalogs to asset group'),getData:function(){n((0,ec.jk)({businessId:t,limit:v.xX}))},selectIsLoading:eb.e_,selectAlreadyAdded:ep.wi,onSortChange:function(){n((0,ec.jk)({businessId:t,limit:v.xX}))},headerSubText:e._('Select which catalogs you would like to include in this asset group. You can always add or remove catalogs at a later time. Catalogs can be added to multiple asset groups.', '[m10].bizAccess.assetGroupsAddAssetOrUser.headerSubText.catalogs', 'information telling user to select which catalogs to add to asset group. They can add or remove catalogs any time, or assign one ad account to multiple asset groups'),columnDefs:[(0,er.Z)({selectedIds:l,onSelectChange:j,disableFilter:g?function(e,n){return e!==t||!!n}:void 0}),(0,ee.Z)(e,{headerName:e._('Catalog', '[m10].bizAccess.assetGroup.catalog', 'Header of catalog name column in table'),clickable:!1}),(0,et.Z)(e)],onSubmit:function(){eI(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,em.Ct)({assetGroupId:i.id,assetsToAdd:l,businessId:t,businessHierarchyNodeId:c});case 3:n((0,el.NQ)({businessId:t,resourceType:"CATALOG"},{assetsToAdd:l})),r(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:e._('Success!', '[m10n]bizAccess.assetGroup.adAdAccount.success', 'Toast message for successfully adding catalogs to asset groups'),type:"success"})}),S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"add-catalogs-to-asset-group-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:t}),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),w((0,q.Z)(o.t0,"api_error_code"));case 11:s();case 12:case"end":return o.stop()}},o,null,[[0,8]])}))()}};default:return{modalTitle:"",headerSubText:"",getData:function(){},onSortChange:function(){},selectIsLoading:function(){return!1},selectAlreadyAdded:function(){return[]},columnDefs:[],onSubmit:function(){}}}};function eD(e){var t,n=e.assetOrMemberType,r=e.step,s=(0,N.Z)();switch(n){case"PEOPLE":t=s._('Employees', '[m10n].bizAccess.assetGroupAddAsset.employees.progressIndicator', 'Text for add employees to ad accounts modal progress bar');break;case"PARTNER":t=s._('Partners', '[m10n].bizAccess.assetGroupAddAsset.partners.progressIndicator', 'Text for add partners to ad accounts modal progress bar');break;default:t=s._('System users', '[m10n].bizAccess.assetGroupAddAsset.systemUsers.progressIndicator', 'Text for add system users to asset group progress bar')}var o=0===r?"subtle":"default",a=s._('Permissions', '[m10n].bizAccess.assetGroupAddAsset.permissions.progressIndicator', 'Text for add people to ad accounts modal progress bar');return(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsxs)(m.kC,{alignItems:"center",gap:3,justifyContent:"center",width:"100%",children:[(0,U.jsxs)(m.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,U.jsx)(m.JO,{accessibilityLabel:s._('Label for icon for adding employees information banner', '[m10n].bizAccess.assetGroupAddAsset.employees.progressIndicator.icon', 'Accessibility text for icon for banner showing constraints on asset group permissions granted to employees'),color:0===r?"default":"success",icon:0===r?"workflow-status-in-progress":"check-circle"}),(0,U.jsx)(m.xv,{align:"center",color:"default",weight:"bold",children:t})]}),(0,U.jsx)(m.kC.Item,{flex:"grow",children:(0,U.jsx)("hr",{"data-gestalt-valid-html":"Divider",style:{height:"2px",border:"none",backgroundColor:"#111111"}})}),(0,U.jsxs)(m.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[(0,U.jsx)(m.JO,{accessibilityLabel:s._('Label for icon for adding partners information banner', '[m10n].bizAccess.assetGroupAddAsset.partners.progressIndicator.icon', 'Accessibility text for icon for banner showing constraints on asset group permissions granted to partners'),color:o,icon:0===r?"workflow-status-unstarted":"workflow-status-in-progress"}),(0,U.jsx)(m.xv,{align:"end",color:o,weight:"bold",children:a})]})]})})}var ek=function(e){var t,n=e.assetOrMemberType,r=e.assetGroupInfo,s=(0,N.Z)(),o=r.id,a=(0,L.KJ)(),i=(0,$.Z)().inRmnFoundations,l=ej((0,_.useState)(0),2),c=l[0],u=l[1],d=(0,f.I0)(),h=(0,W.dI)().showToast,p=(0,L.HU)(),b=p.clearModal,A=p.setAddUserToAssetGroupConfirmation,S=(0,(0,y.g)().getParentHierarchyForIdIfExists)(a),x=null==S?void 0:S.id,E=(0,X.Z)().containsSharedPartner,P=((0,f.v9)(ep.ou)||[]).length>0,I=(0,g.ZP)(x?"BUSINESS_ACCESS_BUSINESS_HIERARCHY":"BUSINESS_ACCESS_ASSET_GROUPS");switch(n){case"AD_ACCOUNT":t=eS.Xj;break;case"PROFILE":t=eS.ZD;break;case"PEOPLE":t=eS.Aj;break;case"SYSTEM_USERS":t=eS.GK;break;case"PARTNER":t=eS.im;break;case"CATALOG":t=eb.zW;break;default:t=function(){return[]}}var T=(0,f.v9)(t),C="CATALOG"===n?Object.values(T||{}):T,O=ej((0,_.useState)([]),2),j=O[0],z=O[1],w=ej((0,_.useState)({}),2),R=w[0],D=w[1],k=ej((0,_.useState)({}),2),B=eR(s,a,d,h,b,C,n,r,j,x,z,c,u,R,D,k[0],k[1],A,E,I),M=B.getData,G=B.selectIsLoading,F=B.selectAlreadyAdded,Y=B.onSortChange,V=B.modalTitle,q=B.headerSubText,Q=B.columnDefs,K=B.onSubmit;(0,_.useEffect)(function(){M(),("PEOPLE"===n||"SYSTEM_USERS"===n||"PARTNER"===n)&&d((0,el.dQ)({businessId:a,limit:v.xX},{userType:n,updateDataOnly:!0}))},[a]);var ee=(0,f.v9)(G),et=(0,f.v9)(F),en=(0,_.useMemo)(function(){if(["PARTNER","PEOPLE","SYSTEM_USERS"].includes(n)&&et&&Array.isArray(et))return et.map(function(e){return"string"==typeof e?e:e.id})},[et,n]),er=C.filter(function(e){if("PROFILE"===n||"AD_ACCOUNT"===n){var t=Array.isArray(et)&&!et.some(function(t){return t===e.asset_id});return i&&"AD_ACCOUNT"===n&&(t=t&&!e.targeting_rmn_business_id),t}return"CATALOG"===n?Array.isArray(et)&&!et.some(function(t){return t===e.id})&&"COLLABORATIVE"!==e.resource_subtype:0===c||j.includes(e.id)}),es="PEOPLE"!==n&&"PARTNER"!==n&&"SYSTEM_USERS"!==n||1!==c||j.every(function(e){return R[e]&&R[e].length>0});return(0,U.jsxs)(Z.Z,{accessibilityLabel:s._('modal for adding an ad account, profile, catalog, partner, system user, or employee to an asset group', '[m10n].bizAccess.assetGroupAddAsset.modalAccessibilityLabel', 'accessibility label for modal that adds an asset or user to an asset group'),cancelText:(0,H.I9)(s),onDismiss:function(){},primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"assetGroup-addition-submit-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:0===j.length||!es,onClick:function(){return K()},size:"lg",text:"AD_ACCOUNT"===n||"PROFILE"===n||"CATALOG"===n||1===c?(0,H.nI)(s):(0,H.L$)(s)})}),size:"lg",title:V,children:[["PEOPLE","PARTNER","SYSTEM_USERS"].includes(n)&&(0,U.jsx)(eD,{assetOrMemberType:n,step:c}),(0,U.jsxs)(m.kC,{direction:"column",height:524,children:[(0,U.jsxs)(m.xu,{children:[(0,U.jsxs)(m.xu,{width:"100%",children:[(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingY:4,children:(0,U.jsx)(m.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:(0,U.jsx)(m.xu,{children:q&&(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xv,{size:"300",children:q})})})})}),(0,U.jsxs)(m.xu,{marginBottom:E?4:void 0,children:["PEOPLE"===n&&1===c&&P&&(0,U.jsx)(m.he,{iconAccessibilityLabel:s._('Icon for adding employees information banner', '[m10n].bizAccess.assetGroupAddAsset.employees.banner.icon', 'Icon for banner showing constraints on asset group permissions granted to employees'),message:s._('This asset group includes ad accounts with varying permission levels. If you assign permissions that exceed your own permission level, the employee will receive the same permission level as the business owner.', '[m10n].bizAccess.assetGroupAddAsset.employees.banner', 'Banner showing constraints on asset group permissions granted to employees'),type:"info"}),"SYSTEM_USERS"===n&&1===c&&P&&(0,U.jsx)(m.he,{iconAccessibilityLabel:s._('Icon for adding system users\' information banner', '[m10n].bizAccess.assetGroupAddAsset.systemUsers.banner.icon', 'Icon for banner showing constraints on asset group permissions granted to system users'),message:s._('This asset group includes ad accounts with varying permission levels. If you assign permissions that exceed your own permission level, the system user will receive the same permission level as the business owner.', '[m10n].bizAccess.assetGroupAddAsset.systemUsers.banner', 'Banner showing constraints on asset group permissions granted to system users'),type:"info"}),"PARTNER"===n&&1===c&&P&&(0,U.jsx)(m.he,{iconAccessibilityLabel:s._('Icon for adding partner information banner', '[m10n].bizAccess.assetGroupAddAsset.partners.banner.icon', 'Icon for banner showing constraints on asset group permissions granted to partners'),message:s._('This asset group includes ad accounts with varying permission levels. If you assign permissions that exceed your own permission level, the partner will receive the same permission level as the business owner.', '[m10n].bizAccess.assetGroupAddAsset.employees.banner', 'Banner showing constraints on asset group permissions granted to employees'),type:"info"}),"AD_ACCOUNT"===n&&E&&(0,U.jsx)(m.he,{iconAccessibilityLabel:s._('Icon for adding ad account when asset group contains partners information banner', '[m10n].bizAccess.assetGroupAddAsset.adAccountsWithPartner.banner.icon', 'Icon for banner showing constraints for adding ad accounts when they have shared partners'),message:s._('This asset group contains partners. You may only add ad accounts you own to this asset group.', '[m10n].bizAccess.assetGroupAddAsset.adAccountsWithPartner.banner', 'Banner showing constraints for adding ad accounts when they have shared partners'),type:"info"}),"PROFILE"===n&&E&&(0,U.jsx)(m.he,{iconAccessibilityLabel:s._('Icon for adding profile when asset group contains partners information banner', '[m10n].bizAccess.assetGroupAddAsset.profilesWithPartner.banner.icon', 'Icon for banner showing constraints for adding profiles when they have shared partners'),message:s._('This asset group contains partners. You may only add profiles you own to this asset group.', '[m10n].bizAccess.assetGroupAddAsset.profilesWithPartner.banner', 'Banner showing constraints for adding ad accounts when they have shared partners'),type:"info"}),"CATALOG"===n&&E&&(0,U.jsx)(m.he,{iconAccessibilityLabel:s._('Icon for adding catalog when asset group contains partners information banner', '[m10n].bizAccess.assetGroupAddAsset.catalogsWithPartner.banner.icon', 'Icon for banner showing constraints for adding catalogs when they have shared partners'),message:s._('This asset group contains partners. You may only add catalogs you own to this asset group.', '[m10n].bizAccess.assetGroupAddAsset.catalogsWithPartner.banner', 'Banner showing constraints for adding catalogs when they have shared partners'),type:"info"})]})]}),(!["PEOPLE","PARTNER","SYSTEM_USERS"].includes(n)||0===c)&&(0,U.jsx)(m.xu,{marginBottom:4,marginTop:0,children:(0,U.jsx)(eN,{alreadyAdded:en,assetOrMemberType:n})}),"PROFILE"===n&&(0,U.jsx)(m.he,{iconAccessibilityLabel:s._('Icon for describing how profile permissions in asset groups work when adding a profile', '[m10n].bizAccess.assetGroupAddAsset.profilesDescription.banner.icon', 'Icon for banner showing how profile permissions in asset groups work'),message:s._('Profiles selected below will be granted Publisher permissions to all employees, system users and partners added to this asset group', '[m10n].bizAccess.assetGroupAddAsset.profileModalDescription.banner', 'Banner describing how profile permissions in asset groups work'),type:"infoBare"})]}),(0,U.jsx)(m.kC.Item,{flex:"grow",children:(0,U.jsx)(m.xu,{height:"100%",overflow:"auto",children:(0,U.jsx)(J.Z,{columnDefs:Q,id:o,isLoading:ee,onRowCountChange:function(){},onSortChange:Y,pageType:v.Q6.ASSET_GROUPS,rowData:er})})})]})]})},eL=function(){var e=(0,N.Z)(),t=(0,a.s0)(),n=(0,L.KJ)(),r=(0,L.HU)().setRequestCatalogsGeneralModal,s={modalAccessibilityLabel:e._('Add catalog modal', '[m10n]bizAccess.addCatalog.modal.accessibilityLabel', 'accessibility label for the modal used to add an catalog'),modalTitle:e._('Add a catalog', '[m10n]bizAccess.addCatalog.modal.heading', 'heading for the modal used to add an catalog'),addCircleIconAccessibilityLabel:e._('Add circle icon', '[m10n]bizAccess.addCatalog.modal.addCircleIcon.accessibilityLabel', 'accessibility label for the add circle icon'),sendIconAccessibilityLabel:e._('Send icon', '[m10n]bizAccess.addCatalog.modal.SendIcon.accessibilityLabel', 'accessibility label for the send icon'),selectedIconAccessibilityLabel:e._('Check circle icon', '[m10n]bizAccess.addCatalog.modal.checkCircleIcon.accessibilityLabel', 'accessibility label for the check circle icon'),createAsset:e._('Create new catalog', '[m10n]bizAccess.addCatalog.modal.createNewCatalog', 'text for creating a new catalog'),createAssetDescription:e._('Create a catalog for your business or partner', '[m10n]bizAccess.addCatalog.modal.createNewCatalog.description', 'description for creating a new catalog'),requestAssetAccess:e._('Request catalog access', '[m10n]bizAccess.requestCatalog.modal.requestCatalogAccess', 'text for requesting access to an catalog'),requestAssetAccessDescription:e._('Request access to catalogs your partners own', '[m10n]bizAccess.addCatalog.modal.equestCatalogAccess.description', 'description for requesting access to an catalog')};return(0,U.jsx)(Y,{setCreateAssetModal:function(){return t("/business/catalogs/data-sources/?subjectBusinessId=".concat(n))},setRequestAssetModal:function(){return r({})},strings:s})},eU=n(696749),eB=n(218376),eM=n(739228),eH=n(305583),eZ=n(739283),eG=n(520803);function eF(e){return(eF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||eV(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eV(e,t){if(e){if("string"==typeof e)return eq(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eq(e,t):void 0}}function eq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eQ=function(e,t,n){return function(r,s){var o=s.join((0,H.bH)(e));switch(r){case v.O1.BUSINESS_ACCESS_PERSONAL_ACCOUNT:return(0,eU.Z)(e.ngettext('{{ businessIds }} is a personal Pinterest account. You can only invite business accounts to a business hierarchy.', '{{ businessIds }} are personal Pinterest accounts. You can only invite business accounts to a business hierarchy.', s.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.businessIds.personalAccounts', 'Error message shown when business ids to invite are personal accounts. businessIds: business ids with errors'),{businessIds:o});case v.O1.BUSINESS_INVITE_INVALID:case v.O1.INVALID_USERNAME:if(n)return e.ngettext('The business id is not associated with a Pinterest account', 'Some business ids are not associated with a Pinterest account', t.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.businessIds.not.associated.pinterestAccount', 'Error message shown when business ids to invite are not associated with a Pinterest account');return(0,eU.Z)(e.ngettext('{{ businessIds }} is not associated with a Pinterest account', '{{ businessIds }} are not associated with a Pinterest account', s.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.businessIds.not.associated.pinterestAccount', 'Error message shown when business ids to invite are not associated with a Pinterest account. businessIds: business ids with errors'),{businessIds:o});case v.O1.ACCESS_DENIED:if(n)return e._('User not allowed to create invite', '[m10n]bizAccess.childBusiness.notAllowed.sendInvite', 'Error message shown when is not allowed to send invite');return;case v.O1.ODO_BUSINESS_RELATIONSHIP_ALREADY_EXISTS:case v.O1.BUSINESS_RELATIONSHIP_ALREADY_EXISTS:return(0,eU.Z)(e.ngettext('{{ businessIds }} is already in a business hierarchy', '{{ businessIds }} are already in a business hierarchy', s.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.businessIds.already.in.businessHierarchy', 'Error message shown when business ids to invite are already in a business hierarchy. businessIds: business ids with errors'),{businessIds:o});case v.O1.BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:if(n){var a,i,l=(0,eU.Z)(e._('You reached a limit of {{ limit }} pending invites. To invite more employees, delete your pending invites.', '[m10n]bizAccess.childBusiness.sendInvite.reachedMaxInvites', 'Error message explaining you have exceeded maximum number of pending invites. limit: max number of child business invites.'),{limit:v.sy}),c=e.ngettext('The recipient of this invite has reached their invite limit. To invite them, please ask them to respond to their existing invitations', 'The recipients of this invite have reached their invite limit. To invite them, please ask them to respond to their existing invitations', t.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.emails.already.in.businessHierarchy', 'Error message shown when child business ids to invite exceeded maximum number of pending invites.');return(null==(a=n.extraData)||null==(i=a.message)?void 0:i.includes("receiver"))?c:l}return(0,eU.Z)(e._('{{ businessIds }} reached their invite limit. To invite them, please ask them to respond to their existing invitations', '[m10n]bizAccess.childBusiness.sendInvite.emails.already.in.businessHierarchy', 'Error message shown when business ids to invite exceed the max number of members they can managed. businessIds: business ids with errors.'),{businessIds:o});case v.O1.ODO_BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:case v.O1.BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:return(0,eU.Z)(e.ngettext('{{ businessIds }} exceeds the limit of {{ limit }} members allowed to manage', '{{ businessIds }} exceed the limit of {{ limit }} members allowed to manage', s.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.businessIds.exceedMaxNumberOfMembers', 'Error message shown when business ids to invite exceed the max number of members they can managed. businessIds: business ids with errors, limit: max number of child businesses within a business hierarchy.'),{businessIds:o,limit:v.Je});case v.O1.ODO_BIZ_INVITE_EXISTS:case v.O1.BUSINESS_INVITE_STACKED_ERROR:return(0,eU.Z)(e.ngettext('{{ businessIds }} was already invited to this business hierarchy.', '{{ businessIds }} were already invited to this business hierarchy', s.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.businessIds.already.invited', 'Error message shown when business ids to invite were already invited. businessIds: business ids with errors'),{businessIds:o});default:if(n)return(0,eM.ZB)(e,n);return}}},eW=function(e){var t=e.onClose,n=(0,S.u)().logContextEvent,r=(0,N.Z)(),s=(0,f.I0)(),o=eY((0,_.useState)([]),2),a=o[0],i=o[1],l=eY((0,_.useState)(),2),c=l[0],u=l[1],d=eY((0,_.useState)({}),2),h=d[0],p=d[1],b=eY((0,_.useState)(!0),2),y=b[0],v=b[1],A=(0,L.HU)().setAddChildBusinessesConfirmationModal,g=(0,eG.Z)().params.businessHierarchyId,x=g||"",E=function(e){if(v(!1),(null==(t=e.extraData)?void 0:t.message)==="None"&&e.extraData.objects)u(""),p(null==(l=e.extraData)?void 0:l.objects);else{var t,s,o,i,l,c,d=(0,eM.Ax)((null==(c=e.extraData)?void 0:c.message)||"");u(i=eQ(r,a,e)(e.api_error_code,d)||""),d.length>0?p(d.reduce(function(t,n){var r,s,o,a,i;return s={},o=e.api_error_code,a=t[e.api_error_code]?[].concat(function(e){if(Array.isArray(e))return eq(e)}(r=t[e.api_error_code])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||eV(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]):[n],(i=function(e,t){if("object"!=eF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eF(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),(o="symbol"==eF(i)?i:i+"")in s)?Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[o]=a,s},{})):p({})}n({event_type:8966,component:14435,aux_data:{business_hierarchy_id:g,error_class:null==e||null==(s=e.status)?void 0:s.slice(0,64),error_message:i?i.slice(0,4096):JSON.stringify((null==(o=e.error)?void 0:o.objects)||null).slice(0,4096)}})};return(0,U.jsxs)(Z.Z,{accessibilityLabel:r._('Add child business to hierarchy modal', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.modal', 'Accessibility label for the modal used to add child businesses to a business hierarchy'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"add-child-businesses-submit-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:0===a.length||!!c||!y,name:"add-child-businesses-submit",onClick:function(){u(void 0),s((0,eH.RO)({hierarchyId:x,peopleIdentifiers:a,assignedRole:"CHILD_BUSINESS",onSuccess:function(e){A({hierarchyId:x,inviteIds:e,onClose:t}),n({event_type:8965,component:14435,aux_data:{business_hierarchy_id:g}})},onFailure:E}))},size:"lg",text:r._('Invite', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.modal.submitLabel', 'Label for the submit button on the Add child businesses modal')})}),size:"lg",title:r._('Invite businesses to your hierarchy', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.title', 'Heading for the modal used to add child businesses to a business hierarchy'),children:[(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsxs)(m.xv,{inline:!0,children:[r._('Businesses that are a part of your hierarchy will appear on your Business hierarchy page. Once they accept, you will be able to manage the assets and members that belong to them.', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.modal.description', 'Description text in the add child businesses modal'),(0,U.jsx)(m.rU,{accessibilityLabel:r._('Link to learn more about add child businesses to a business hierarchy', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.modal.learnMoreText', 'Accessibility label for the learn more link in the add child businesses modal description text'),display:"inline",href:"https://help.pinterest.com/en/business/article/get-a-business-account",target:"blank",children:r._('Learn more', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.modal.description.learnMore', 'Text for the learn more link within the add child businesses modal description text')})]})}),(0,U.jsx)(m.xu,{marginBottom:2,children:(0,U.jsx)(m.xu,{"data-test-id":"add-child-businesses-users-input",children:(0,U.jsx)(eB.Z,{errorMap:h,errorMessage:c,getErrorMessageByErrorCode:eQ(r,a),helperText:r._('Invite up to 20 businesses at a time, comma separated', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.multiSelect.helperText', 'Helper text for the multi select component in the add child business modal'),hideErrorMapText:!!c,peopleIdentifiers:a,placeholderText:r._('Add business IDs', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.multiSelect.placeholderText', 'Placeholder text for the multi select component in the add child business modal'),setPeopleIdentifiers:function(e){i(e),(0,eZ.Z)(n,{event_type:8964,component:14435,aux_data:{business_hierarchy_id:g,field_name:"user-identifiers"}})},setResolvedErrors:v,useRedStyle:!0})})})]})},eX=n(905526);function eK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e$=function(e){var t,n=(0,N.Z)(),r=e.hierarchyId,s=e.inviteIds,o=(0,y.g)().businessHierarchies,a=function(e){if(Array.isArray(e))return e}(t=(0,eX.Z)("businessHierarchyChildBusinessInvite",r,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),3!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,3)||function(e,t){if(e){if("string"==typeof e)return eK(e,3);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eK(e,3):void 0}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=a[0],l=a[1],c=a[2],u=(0,W.dI)().showToast,d=(0,L.HU)().clearModal,h=(0,f.I0)(),p=i.data,b=o.map(function(e){return"BUSINESS_HIERARCHY"===e.entity_type?e:null}).find(function(e){return!!e&&e.id===r});if((0,_.useEffect)(function(){l&&u(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,H.sQ)(n),type:"error"})})},[l]),c)return(0,U.jsx)(Z.Z,{accessibilityLabel:(0,eM.ZE)(n),size:"sm",title:(0,eM.Hp)(n),children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(n),show:!0})});var A=s.length;return(0,U.jsxs)(Z.Z,{accessibilityLabel:(0,eM.ZE)(n),cancelText:n._('Done', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.confirmation.done', 'Cancel text for the add child businesses confirmation modal'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"add-child-businesses-confirmation-modal-submit-button",children:(0,U.jsx)(m.zx,{color:"red",onClick:function(){var t;h({type:"CLEAR_ERROR"}),null==(t=e.onClose)||t.call(e,v.K3.PENDING),d()},size:"lg",text:n._('View pending invites', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.confirmation.cta', 'Call-to-action text for the add child businesses confirmation modal')})}),size:"sm",title:n._('Invites sent!', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.confirmation.title', 'Title text for the add child businesses confirmation modal'),children:[(0,U.jsx)(m.xv,{children:(0,eU.Z)(n.ngettext('You\'ve invited the following business to {{businessHierarchyName}}\'s business hierarchy:', 'You\'ve invited the following {{numInvites}} businesses to {{businessHierarchyName}}\'s business hierarchy:', A, '[m10n]bizAccess.businessHierarchy.addChildBusinesses.confirmation.description', 'Description text for the add child businesses confirmation modal. numInvites: the number of invites created businessHierarchyName: the name of the business hierarchy that is sending the invite'),{numInvites:A,businessHierarchyName:(null==b?void 0:b.name)||n._('this business', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.confirmation.placeholderName', 'Placeholder name for the confirmation modal if no name exists')})}),(0,U.jsx)(m.xu,{"data-test-id":"add-child-businesses-confirmation-modal-body-container",marginBottom:2,marginTop:4,children:s.map(function(e){var t,n,r,s;return(0,U.jsx)(m.xu,{paddingY:1,children:(0,U.jsxs)(m.kC,{alignItems:"center",justifyContent:"center",children:[(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.qE,{name:null==(t=p[e].user)?void 0:t.full_name,size:"xs",src:null==(n=p[e].user)?void 0:n.image_small_url})}),(0,U.jsx)(m.xu,{paddingX:2,children:(0,U.jsx)(m.xv,{weight:"bold",children:null==(r=p[e].user)?void 0:r.full_name})}),(0,U.jsx)(m.xu,{flex:"grow",children:(0,U.jsx)(m.xv,{children:"(ID: ".concat(null==(s=p[e].user)?void 0:s.id,")")})})]})},e)})})]})},eJ=n(681698),e0=n(300112),e1=n(917429);function e2(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function e5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e6(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e6(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e3=function(e){var t,n,r=e.restrictedDomains,s=e.partnerId,o=e.setFetchDomainRestrictions,a=(0,N.Z)(),i=(0,L.KJ)(),l=(0,L.HU)().clearModal,c=(0,W.dI)().showToast,u=(0,g.ZP)(),d=(0,_.useRef)(u),f=e5((0,_.useState)(!0),2),h=f[0],p=f[1],b=e5((0,_.useState)((null==r?void 0:r.map(function(e,t){return{index:t,domainUrl:e,error:""}}))||[]),2),y=b[0],A=b[1],S=(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,eJ.Z)({method:"PUT",url:"ads/v4/business_access/businesses/".concat(i,"/rmn/partners/").concat(s,"/allowed_domains"),data:{domain_destinations:(0,e1.Wv)(y)}});case 3:o&&o(!0),l(),c(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:a._('Domain restrictions updated successfully', '[m10n]bizAccess.addEditDomainRestrictionsModal.modal.requestSuccessful.text', 'Text to tell the user the request was sent successfully'),type:"success"})}),d.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"add-edit-domain-restrictions-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button"}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),l(),c(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(a),type:"error"})}),d.current({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"add-edit-domain-restrictions-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(0,q.Z)(e.t0,"message")||(0,H.sQ)(a)});case 14:case"end":return e.stop()}},e,null,[[0,9]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){e2(o,r,s,a,i,"next",e)}function i(e){e2(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)});return(0,U.jsx)(Z.Z,{accessibilityLabel:a._('Add or edit domain restrictions modal', '[m10n]businessAccess.addEditDomainRestrictions.modal.a11y', 'Accessibility label for the modal used to add or edit domain restrictions'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"save-restricted-domains-submit-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:h,name:"save-restricted-domains-submit",onClick:function(){S()},size:"lg",text:a._('Save', '[m10n]businessAccess.addEditDomainRestrictions.modal.submitLabel', 'Label for the submit button to save the list of restricted domains')})}),size:"sm",title:a._('Add or edit domain restrictions', '[m10n]businessAccess.addEditDomainRestrictions.title', 'Heading for the modal used to add or edit domain restrictions'),children:(0,U.jsxs)(m.kC,{direction:"column",gap:4,children:[(0,U.jsx)(m.xv,{children:a._('Domain restrictions ensure that ad traffic related to the assets you share are directed to your site', '[m10n]businessAccess.addEditDomainRestrictions.description', 'Description for the modal used to add or edit domain restrictions')}),(0,U.jsx)(m.xu,{margin:-3,children:(0,U.jsx)(m.he,{message:a._('Any edits to domain restrictions will be applied to future campaigns', '[m10n]businessAccess.addEditDomainRestrictions.warning.banner', 'Disclaimer informing user that any edits to domain restrictions will be applied to future campaigns'),type:"warning"})}),(0,U.jsx)(e0.Z,{domainRestrictions:y,hideHeading:!0,setDisableNextButton:p,setDomainRestrictions:A})]})})};function e8(e){return(e8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||e7(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e7(e,t){if(e){if("string"==typeof e)return e9(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e9(e,t):void 0}}function e9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var te=function(e,t,n){return function(r,s){var o,a=s.join((0,H.bH)(e));switch(r){case v.O1.BUSINESS_ACCESS_PERSONAL_ACCOUNT:if(n)return e._('Cannot use Business Access with a personal account', '[m10n]bizAccess.orgManagers.sendInvite.emails.personalAccounts', 'Error message shown when organizations manager emails to invite are personal accounts.');return(0,eU.Z)(e.ngettext('{{ orgManagersEmails }} is a personal account. Cannot use Business Access with a personal account.', '{{ orgManagersEmails }} are personal accounts. Cannot use Business Access with a personal account.', s.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.emails.personalAccounts', 'Error message shown when organizations manager emails to invite are personal accounts. orgManagersEmails: organization manager emails with errors'),{orgManagersEmails:a});case v.O1.BUSINESS_INVITE_INVALID:case v.O1.INVALID_USERNAME:if(n)return e.ngettext('The username is not associated with a Pinterest account', 'Some usernames are not associated with a Pinterest account', t.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.username.not.associated.pinterestAccount', 'Error message shown when organizations manager usernames to invite are not associated with a Pinterest account');return(0,eU.Z)(e.ngettext('{{ orgManagersEmails }} is not associated with a Pinterest account', '{{ orgManagersEmails }} are not associated with a Pinterest account', s.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.emails.not.associated.pinterestAccount', 'Error message shown when organizations manager emails to invite are not associated with a Pinterest account. orgManagersEmails: organization manager emails with errors'),{orgManagersEmails:a});case v.O1.ACCESS_DENIED:if(n)return e._('User not allowed to create invite', '[m10n]bizAccess.orgManagers.notAllowed.sendInvite', 'Error message shown when is not allowed to send invite');return;case v.O1.ODO_BUSINESS_RELATIONSHIP_ALREADY_EXISTS:case v.O1.BUSINESS_RELATIONSHIP_ALREADY_EXISTS:return(0,eU.Z)(e.ngettext('{{ orgManagersEmails }} is already in a business hierarchy', '{{ orgManagersEmails }} are already in a business hierarchy', s.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.emails.already.in.businessHierarchy', 'Error message shown when organizations manager emails to invite are already in a business hierarchy. orgManagersEmails: organization manager emails with errors'),{orgManagersEmails:a});case v.O1.BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:if(n){var i,l,c=(0,eU.Z)(e._('You reached a limit of {{ limit }} pending invites. To invite more organization managers, delete your pending invites.', '[m10n]bizAccess.orgManagers.sendInvite.reachedMaxInvites', 'Error message explaining you have exceeded maximum number of pending invites. limit: max number of org manager invites.'),{limit:v.yR}),u=e.ngettext('The recipient of this invite has reached their invite limit. To invite them, please ask them to respond to their existing invitations', 'The recipients of this invite have reached their invite limit. To invite them, please ask them to respond to their existing invitations', t.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.emails.already.in.businessHierarchy', 'Error message shown when organizations manager emails to invite exceeded maximum number of pending invites.');return(null==(i=n.extraData)||null==(l=i.message)?void 0:l.includes("receiver"))?u:c}return(0,eU.Z)(e._('{{ orgManagersEmails }} is already in your business hierarchy', '[m10n]bizAccess.orgManagers.sendInvite.emails.already.in.businessHierarchy', 'Error message shown when organizations manager emails to invite exceeded maximum number of pending invites. orgManagersEmails: organization manager emails with errors'),{orgManagersEmails:a});case v.O1.ODO_BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:case v.O1.BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:return(0,eU.Z)(e.ngettext('{{ orgManagersEmails }} exceeds the limit of {{ limit }} members allowed to manage', '{{ orgManagersEmails }} exceed the limit of {{ limit }} members allowed to manage', s.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.emails.exceedMaxNumberOfMembers', 'Error message shown when organizations manager emails to invite exceed the max number of members they can managed. orgManagersEmails: organization manager emails with errors, limit: max number of managers in a business hierarchy.'),{orgManagersEmails:a,limit:v.EF});case v.O1.ODO_BIZ_INVITE_EXISTS:case v.O1.BUSINESS_INVITE_STACKED_ERROR:return(0,eU.Z)(e.ngettext('{{ orgManagersEmails }} was already invited to this business hierarchy', '{{ orgManagersEmails }} were already invited to this business hierarchy', s.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.emails.already.invited', 'Error message shown when organizations manager emails to invite were already invited. orgManagersEmails: organization manager emails with errors'),{orgManagersEmails:a});default:if(n){if(o=t.join((0,H.bH)(e)),/\S+@\S+\.\S+/.test(o))return e._('To invite a manager for this business hierarchy, enter a valid username', '[m10n]bizAccess.orgManagers.sendInvite.emailsNotAllowed', 'Error message explaining user cannot use emails to invite organization managers.');return(0,eM.ZB)(e,n)}return}}},tt=function(e){var t=e.onClose,n=(0,S.u)().logContextEvent,r=(0,N.Z)(),s=(0,f.I0)(),o=e4((0,_.useState)([]),2),a=o[0],i=o[1],l=e4((0,_.useState)(),2),c=l[0],u=l[1],d=e4((0,_.useState)({}),2),h=d[0],p=d[1],b=e4((0,_.useState)(!0),2),y=b[0],v=b[1],A=(0,L.HU)(),g=A.setAddOrganizationManagersConfirmationModal,x=A.clearModal,E=(0,eG.Z)().params.businessHierarchyId,P=E||"",I=function(e){if(v(!1),(null==(t=e.extraData)?void 0:t.message)==="None"&&e.extraData.objects)u(""),p(null==(l=e.extraData)?void 0:l.objects);else{var t,s,o,i,l,c,d=(0,eM.Ax)((null==(c=e.extraData)?void 0:c.message)||"");u(i=te(r,a,e)(e.api_error_code,d)||""),d.length>0?p(d.reduce(function(t,n){var r,s,o,a,i;return s={},o=e.api_error_code,a=t[e.api_error_code]?[].concat(function(e){if(Array.isArray(e))return e9(e)}(r=t[e.api_error_code])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||e7(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]):[n],(i=function(e,t){if("object"!=e8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e8(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),(o="symbol"==e8(i)?i:i+"")in s)?Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[o]=a,s},{})):p({})}n({event_type:8966,component:14435,aux_data:{business_hierarchy_id:E,error_class:null==e||null==(s=e.status)?void 0:s.slice(0,64),error_message:i?i.slice(0,4096):JSON.stringify((null==(o=e.error)?void 0:o.objects)||null).slice(0,4096)}})};return(0,U.jsx)(m.xu,{"data-test-id":"add-managers-modal",children:(0,U.jsxs)(Z.Z,{accessibilityLabel:r._('Invite managers', '[m10n]businessAccess.managers.modal.a11y', 'Heading text of the modal'),onDismiss:function(){i([]),x()},primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"add-managers-modal-submit-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:!a.length||!!c||!y,onClick:function(){u(void 0),s((0,eH.RO)({hierarchyId:P,peopleIdentifiers:a,assignedRole:"ORGANIZATION_MANAGER",onSuccess:function(e){g({hierarchyId:P,inviteIds:e,onClose:t}),n({event_type:8965,component:14466,aux_data:{business_hierarchy_id:E}})},onFailure:I}))},size:"lg",text:r._('Invite', '[m10n]businessAccess.managers.modal.cta', 'CTA Button to send the invite')})}),size:900,style:{footer:{marginEnd:0}},title:r._('Invite managers', '[m10n]businessAccess.managers.modal.heading', 'Heading text of the modal'),children:[(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xv,{children:r._('Invite employees to become managers for your business hierarchy. Managers will be able to do the following for child businesses:', '[m10n]businessAccess.managers.modal.description', 'Describe what is invite managers for')})}),(0,U.jsx)(m.xu,{marginBottom:4,marginTop:2,children:(0,U.jsxs)(m.aV,{spacing:"condensed",type:"unordered",children:[(0,U.jsx)(m.aV.Item,{text:r._('Add and delete employees and partners', '[m10n]businessAccess.managers.modal.description.listitem.1', 'Describe what managers can do, item 1')}),(0,U.jsx)(m.aV.Item,{text:r._('Create ad accounts', '[m10n]businessAccess.managers.modal.description.listitem.2', 'Describe what managers can do, item 2')}),(0,U.jsx)(m.aV.Item,{text:r._('Assign and revoke permissions for employees and partners', '[m10n]businessAccess.managers.modal.description.listitem.3', 'Describe what managers can do, item 3')}),(0,U.jsx)(m.aV.Item,{text:r._('Enforce two-factor authentication', '[m10n]businessAccess.managers.modal.description.listitem.4', 'Describe what managers can do, item 4')}),(0,U.jsx)(m.aV.Item,{text:r._('Have full access to all assets including child businesses', '[m10n]businessAccess.managers.modal.description.listitem.5', 'Describe what managers can do, item 5')})]})}),(0,U.jsx)(m.xu,{marginBottom:2,children:(0,U.jsx)(eB.Z,{errorMap:h,errorMessage:c,getErrorMessageByErrorCode:te(r,a),helperText:r._('Add up to 20 usernames at a time', '[m10n]businessAccess.managers.modal.helper.text', 'message explaining that the list of usernames is limited to 20 entries'),hideErrorMapText:!!c,peopleIdentifiers:a,placeholderText:r._('Add employee usernames', '[m10n]businessAccess.managers.modal.placeholder.text', 'placeholder text explaining what kind of inputs to put into the add managers modal'),setPeopleIdentifiers:function(e){i(e),(0,eZ.Z)(n,{event_type:8964,component:14466,aux_data:{business_hierarchy_id:E,field_name:"user-identifiers"}})},setResolvedErrors:v,useRedStyle:!0})})]})})},tn=n(583875);function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ts=function(e){var t,n=(0,N.Z)(),r=e.hierarchyId,s=e.inviteIds,o=(0,L.HU)().clearModal,a=(0,y.g)().businessHierarchies,i=function(e){if(Array.isArray(e))return e}(t=(0,eX.Z)("businessHierarchyOrganizationManagersInvite",r,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),3!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,3)||function(e,t){if(e){if("string"==typeof e)return tr(e,3);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tr(e,3):void 0}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=i[0],c=i[1],u=i[2],d=(0,W.dI)().showToast,f=l.data,h=a.map(function(e){return"BUSINESS_HIERARCHY"===e.entity_type?e:null}).find(function(e){return!!e&&e.id===r});if((0,_.useEffect)(function(){c&&d(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,H.sQ)(n),type:"error"})})},[c]),u)return(0,U.jsx)(Z.Z,{accessibilityLabel:(0,eM.ZE)(n),size:"sm",title:(0,eM.Hp)(n),children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(n),show:!0})});var p=s.length;return(0,U.jsxs)(Z.Z,{accessibilityLabel:(0,eM.ZE)(n),cancelText:n._('Done', '[m10n]bizAccess.managers.addManager.confirmation.done', 'Cancel text for the add organization managers confirmation modal'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"add-managers-confirmation-modal-submit-button",children:(0,U.jsx)(m.zx,{color:"red",onClick:function(){var t;null==(t=e.onClose)||t.call(e,v.K3.PENDING),o()},size:"lg",text:n._('View pending invites', '[m10n]bizAccess.managers.addManager.confirmation.cta', 'Call-to-action text for the add organization managers confirmation modal')})}),size:"sm",title:n._('Invites sent!', '[m10n]bizAccess.managers.addManager.confirmation.title', 'Title text for the add organization managers confirmation modal'),children:[(0,U.jsx)(m.xv,{children:(0,eU.Z)(n.ngettext('You\'ve invited the following manager to {{businessHierarchyName}}\'s business hierarchy:', 'You\'ve invited the following {{numInvites}} managers to {{businessHierarchyName}}\'s business hierarchy:', p, '[m10n]bizAccess.managers.addManager.confirmation.description', 'Description text for the add organization managers confirmation modal. numInvites: the number of invites created businessHierarchyName: the name of the business hierarchy that is sending the invite'),{numInvites:p,businessHierarchyName:(null==h?void 0:h.name)||n._('this business', '[m10n]bizAccess.managers.addManager.confirmation.placeholderName', 'Placeholder name for the confirmation modal if no name exists')})}),(0,U.jsx)(m.xu,{"data-test-id":"add-managers-confirmation-modal-body-container",marginBottom:2,marginTop:4,children:s.map(function(e){var t,n,r,s;return(0,U.jsx)(m.xu,{paddingY:1,children:(0,U.jsxs)(m.kC,{alignItems:"center",justifyContent:"start",children:[(0,U.jsx)(m.xu,{children:(0,U.jsx)(tn.qE,{color:null==(t=f[e].user)?void 0:t.avatar_color_index,name:null==(n=f[e].user)?void 0:n.full_name,size:"xs",src:null==(r=f[e].user)?void 0:r.image_small_url})}),(0,U.jsx)(m.xu,{paddingX:2,children:(0,U.jsx)(m.xv,{inline:!0,overflow:"noWrap",weight:"bold",children:null==(s=f[e].user)?void 0:s.full_name})})]})},e)})})]})},to=n(856853),ta=n(978066),ti=function(e){var t=e.onChange,n=e.currentRole,r=e.regularRoleEntry,s=e.adminRoleEntry,o=e.withBadge,a=(0,N.Z)();return(0,U.jsxs)(m.FX,{id:"role-chooser",legend:a._('Role chooser', '[m10n]role_chooser.legend', 'Hidden legend to describe the radio button group'),legendDisplay:"hidden",children:[(0,U.jsx)(m.xu,{margin:1,paddingY:1,children:(0,U.jsx)(m.xu,{"data-test-id":"role-button-REGULAR-ROLE",children:(0,U.jsxs)(m.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,U.jsxs)(m.xu,{alignItems:"start",display:"flex",paddingY:1,children:[(0,U.jsx)(m.FX.RadioButton,{checked:n===r.constant,id:"regular-role",onChange:function(){return t(r.constant)},value:"regular-role"}),(0,U.jsxs)(m.__,{htmlFor:"regular-role",children:[(0,U.jsxs)(m.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:2}},display:"flex",paddingX:2,children:[(0,U.jsx)(m.xv,{weight:"bold",children:r.title}),o&&(0,U.jsx)(m.xu,{paddingX:1,children:(0,U.jsx)(m.Ct,{text:a._('Recommended', '[m10n]bizAccess.roleChooser.recommended', 'Recommended badge'),type:"recommendation"})})]}),(0,U.jsx)(m.xu,{padding:2,children:(0,U.jsx)(m.xv,{color:"subtle",children:r.description})})]})]}),r.meta&&(0,U.jsx)(m.xu,{children:r.meta})]})})}),(0,U.jsx)(m.xu,{margin:1,paddingY:1,children:(0,U.jsx)(m.xu,{"data-test-id":"role-button-ADMIN-ROLE",children:(0,U.jsxs)(m.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,U.jsxs)(m.xu,{alignItems:"start",display:"flex",paddingY:1,children:[(0,U.jsx)(m.FX.RadioButton,{checked:n===s.constant,id:"admin-role",onChange:function(){return t(s.constant)},value:"admin-role"}),(0,U.jsxs)(m.__,{htmlFor:"admin-role",children:[(0,U.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{marginTop:2}},paddingX:2,children:(0,U.jsx)(m.xv,{weight:"bold",children:s.title})}),(0,U.jsx)(m.xu,{padding:2,children:(0,U.jsx)(m.xv,{color:"subtle",children:s.description})})]})]}),s.meta&&(0,U.jsx)(m.xu,{children:s.meta})]})})})]})},tl=n(672539),tc=n(2877);function tu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return td(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?td(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function td(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var t_=function(){var e=(0,S.u)().logContextEvent,t=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),n=(0,N.Z)(),r=(0,L.KJ)(!0),s=(0,L.nU)(!0),o=(0,b.NM)().selectedHierarchyId,i=(0,f.I0)(),l=tu((0,_.useState)("EMPLOYEE"),2),c=l[0],u=l[1],d=tu((0,_.useState)([]),2),h=d[0],p=d[1],y=tu((0,_.useState)(),2),A=y[0],x=y[1],E=tu((0,_.useState)(),2),T=E[0],C=E[1],O=tu((0,_.useState)({}),2),j=O[0],w=O[1],D=tu((0,_.useState)(!0),2),k=D[0],B=D[1],M=tu((0,_.useState)(500),2),H=M[0],G=M[1],F=(0,L.HU)().setAssignAdAccountsModal,Y=(0,f.v9)(ev.Bk),V=(0,eG.Z)().path,Q=(0,a.TH)(),W=V.includes(":userBizId/employees/pending"),X=(0,I.Z)().checkExperiment,K=(0,I.Z)().checkExperiment("ba_mfa_enabled").anyEnabled,$=X("web_m10n_business_access_employee_redesign").anyEnabled,J=tu((0,z.Z)(tc.R,!1,{id:r,is_member:!0,filters:{invite_status:["PENDING"]}}),4),ee=J[0],et=J[2],en=J[3];(0,_.useEffect)(function(){(0,to.Z)(r)||et||ee||en({id:r,is_member:!0,filters:{invite_status:["PENDING"]}})},[r,et,en,ee]),(0,_.useEffect)(function(){null!=ee&&ee.data.total_data_count?G(500-(Y+ee.data.total_data_count)):G(500-Y)},[ee,Y]),(0,_.useEffect)(function(){T&&h.length<=H&&(C(void 0),x(void 0),B(!0))},[h,H,T]);var er={constant:"EMPLOYEE",title:n._('Employee', '[m10n]bizAccess.choose.employeeRole', 'employee role'),description:n._('Employees can work on assigned ad accounts and profiles', '[m10n]bizAccess.addPeople.employeeRole.description', 'description of employee role')},es={constant:"BIZ_ADMIN",title:n._('Manager', '[m10n]bizAccess.choose.adminRole', 'admin role'),description:K?n._('Managers can add and delete employees and partners, create ad accounts, assign and revoke permissions for employees and partners and enforce two-factor authentication', '[m10n]bizAccess.addPeople.managerRole.2faDescription', 'description of manager role'):n._('Managers can add and remove employees and partners from businesses, create ad accounts and assign themselves to ad accounts and profiles ', '[m10n]bizAccess.addPeople.managerRole.description', 'description of manager role')};return(0,U.jsxs)(Z.Z,{accessibilityLabel:n._('Add employees to business modal', '[m10n]bizAccess.business.assignPerson.modal', 'accessibility label for the modal used to add employees to a business account'),footerSecondaryContent:(0,U.jsx)(m.xv,{color:"subtle",size:"200",children:"Step 1 of 2"}),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"add-people-submit-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:0===h.length||!!A||!k,name:"add-people-submit",onClick:function(){x(void 0),i((0,ed.Rx)({businessId:r,detailId:s,businessHierarchyNodeId:o,isPendingTabActive:W,peopleIdentifiers:h,assignedRole:c,onSuccess:function(n){F({selectedIds:[],inviteIds:n,selectionType:v.c7.AD_ACCOUNT,dataToRefresh:W?"PENDING_PEOPLE_LIST":"PEOPLE_LIST",assignmentType:"PEOPLE",roleType:c,peopleIdentifiers:h,showProfiles:!0,showCatalogs:!0}),(0,P.dK)(Q)?t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"add-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",business_id:r}):e({event_type:8965,component:13632,aux_data:{business_id:r}}),$&&i((0,tl.Iy)({businessId:r,inviteIds:n}))},onFailure:function(s){switch(B(!1),null!=(o=s.api_error_code)?o:s.code){case 6:case 2939:case 2940:case 2941:x(i=(0,eM.ZB)(n,s));break;case 2769:var o,a,i,l,c,u,d=(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:(0,R.nk)(n.ngettext('You can only invite {{ numberOfInvites }} employee', 'You can only invite {{ numberOfInvites }} employees', H, '[m10n]bizAccess.addEmployees.businessRelationshipCountExceeded.boldedSentence', 'Bolded sentence informing user of invites left to use. numberOfInvites: number of invites left to use.'),{numberOfInvites:H})},"1");C((0,U.jsx)(m.xv,{size:"300",children:(0,R.nk)(n._('{{ maxInviteCount }} because you\u2019ve reached a limit of {{ limit }} total active and pending employees. To invite more, remove existing employees or delete pending invites.', '[m10n]bizAccess.addEmployees.businessRelationshipCountExceeded.limit', 'Error message shown when the user tries to invite more than the max number of employees to a business. maxInviteCount: the sentence with maximum invites left, limit: the maximum amount of allowed business members.'),{maxInviteCount:d,limit:500})},"0")),x((0,eM.ZB)(n,s));break;case 2935:w(null==s||null==(a=s.extraData)?void 0:a.objects);break;default:x(n._('Sorry, something went wrong on our end. Please try again.', '[m10n]bizAccess.sendInvite.undknowError', 'Error message shown below the Business ID field when an unexpected error occurs'))}(0,P.dK)(Q)?t({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"add-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(s).slice(0,64),errorMessage:(null==(l=(0,q.Z)(s,"stack"))?void 0:l.slice(0,4096))||(0,q.Z)(s,"message")||""}):e({event_type:8966,component:13632,aux_data:{business_id:r,error_class:null==s||null==(c=s.status)?void 0:c.slice(0,64),error_message:i?i.slice(0,4096):JSON.stringify((null==(u=s.error)?void 0:u.objects)||null).slice(0,4096)}})}}))},size:"lg",text:n._('Add employees', '[m10n]bizAccess.addEmployees.submitLabel', 'Label for the submit button on the Add employees modal')})}),size:900,title:n._('Add employees', '[m10n]bizAccess.business.assignEmployee.title', 'Heading for the modal used to add people to a business account.'),children:[(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(m.xv,{children:n._('Adding employees allows people that work for your business to work on ad accounts and profiles for your business and partner businesses', '[m10n]bizAccess.addEmployees.employeeDetails.description', 'Description of the modal used to add employees to a business account')})}),(0,U.jsx)(m.xu,{marginBottom:1,children:(0,U.jsx)(m.X6,{size:"400",children:n._('Choose a role', '[m10n]bizAccess.employeesPage.addEmployees.chooseBizRole.title', 'Wizard-ish workflow title to prompt to choose a business role for the employees being added to the business')})}),(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.xv,{children:n._('The role you choose will be applied to everyone added below', '[m10n]bizAccess.employeesPage.addEmployees.chooseBizRole.description', 'Wizard-ish workflow description to prompt to choose a business role for the employees being added to the business')})}),(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(ti,{adminRoleEntry:es,currentRole:c,onChange:function(t){u(t),(0,eZ.Z)(e,{event_type:8964,component:13632,aux_data:{business_id:r,field_name:"role"}})},regularRoleEntry:er,withBadge:!0})}),(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(m.xu,{"data-test-id":"add-people-users-input",children:(0,U.jsx)(eB.Z,{errorMap:j,errorMessage:A,messageToDisplay:T,peopleIdentifiers:h,setPeopleIdentifiers:function(t){p(t),(0,eZ.Z)(e,{event_type:8964,component:13632,aux_data:{business_id:r,field_name:"user-identifiers"}})},setResolvedErrors:B,useRedStyle:!0})})})]})},tf=n(741752),tm=n(540015),th=n(982671),tp=n(326023),tb=n(289935),ty=n(563218),tv=n(151910),tA=n(131806),tg=n(767415);function tS(e){return(tS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tx(Object(n),!0).forEach(function(t){tP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tP(e,t,n){var r;return(r=function(e,t){if("object"!=tS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tS(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tS(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tT(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tT(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tC(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function tO(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){tC(o,r,s,a,i,"next",e)}function i(e){tC(o,r,s,a,i,"throw",e)}a(void 0)})}}var tj=(r=tO(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,tf.Z)({advertiser_id:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,tg.nP)("sterling.ads_business_info.create_sfdc_account_error",{sampleRate:1,tags:{advertiser_id:t}});case 8:case"end":return e.stop()}},e,null,[[0,5]])})),function(e){return r.apply(this,arguments)}),tz=(s=tO(regeneratorRuntime.mark(function e(t,n){var r,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object.entries(n).reduce(function(e,t){var n=tI(t,2),r=n[0],s=n[1];return s?tE(tE({},e),{},tP({},r,s)):e},{}),s="/ads/v4/advertisers/".concat(t),e.next=5,(0,eJ.Z)({url:s,method:"PUT",data:r});case 5:return o=e.sent,e.abrupt("return",o);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject());case 12:case"end":return e.stop()}},e,null,[[0,9]])})),function(e,t){return s.apply(this,arguments)}),tw=function(e){var t,n=e.id,r=e.name,s=e.country,o=e.state,a=e.shouldDisableState,i=e.resellerBusinessName,l=e.resellerUserId,c=e.page,u=e.adAccountsToMigrate,d=e.onInviteSent,f="BUSINESS_ACCESS_AD_ACCOUNTS_CEE_MIGRATION"===c,h=f?"add-required-rmaa-information-modal-for-cee-migration":"add-required-rmaa-information-modal",p=tI((0,_.useState)({id:n,name:r,addressLine1:"",addressLine2:"",addressLine3:"",addressLine4:"",city:"",state:o||"",postalCode:"",isCommercialCommunication:!0,vatNumber:"",country:s}),2),b=p[0],y=p[1],v=tI((0,_.useState)({}),2),A=v[0],S=v[1],x=tI((0,_.useState)(!1),2),E=x[0],P=x[1],I=(0,N.Z)(),T=(0,L.HU)(),C=T.setSavedRMAAInformationSuccessModal,O=T.setCeeMigrationBusinessInformationModal,j=(0,L.KJ)(),w=tI((0,z.Z)(ty.xZ,!0,j),3),R=w[0],D=w[2],k=(0,_.useMemo)(function(){var e=(R||[]).map(function(e){var t=e.code;return{label:e.name,value:t}});if(!f)return e;var t=e.reduce(function(e,t){return tE(tE({},e),{},tP({},t.value,t))},{});return Object.values(tE(tE({},{CY:{label:I._('Cyprus', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.cy', 'Cyprus country name'),value:"CY"},CZ:{label:I._('Czech Republic', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.cz', 'Czech Republic country name'),value:"CZ"},GR:{label:I._('Greece', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.gr', 'Greece country name'),value:"GR"},HU:{label:I._('Hungary', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.hu', 'Hungary country name'),value:"HU"},IL:{label:I._('Israel', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.il', 'Israel country name'),value:"IL"},KR:{label:I._('South Korea', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.kr', 'South Korea country name'),value:"KR"},MT:{label:I._('Malta', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.mt', 'Malta country name'),value:"MT"},PL:{label:I._('Poland', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.pl', 'Poland country name'),value:"PL"},RO:{label:I._('Romania', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.ro', 'Romania country name'),value:"RO"},SK:{label:I._('Slovakia', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.sk', 'Slovakia country name'),value:"SK"},TR:{label:I._('Turkey', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.tr', 'Turkey country name'),value:"TR"}}),t)).sort(function(e,t){return e.label.localeCompare(t.label)})},[I,R,f]),B=(0,g.ZP)(c);(0,_.useEffect)(function(){B({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_MODAL",component_id:h,ad_account_id:n})},[n,c,B,h]);var M=tI((0,_.useState)({name:"",helpText:""}),2),G=M[0],F=M[1],Y=(0,_.useCallback)(function(e){if(e){var t,n=tp.Bc(null!=(t=tm.tN[e.toString()])?t:0,I);F({name:(null==n?void 0:n.name)||"",helpText:(null==n?void 0:n.helpText)||""})}},[I,F]);(0,_.useEffect)(function(){Y(b.country)},[Y,b.country]);var V=I._('Add required RMAA information modal', '[m10n]bizAccess.addRequiredRMAAInformation.modal.accessibilityLabel', 'accessibility label for the modal used to add required RMAA information'),q=f?I._('Confirm ad account information', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.ceeMigration', 'Title for the ad account information modal for CEE Migration flow'):I._('Ad account information', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation', 'Title for the ad account information modal'),Q=I._('Commercial communication includes any form of communication designed to promote, directly or indirectly, the goods, services or image of a company, organization or person pursuing a commercial, industrial or craft activity or exercising a regulated profession', '[m10n]billing.BusinessInformationSection.radioButtonHeader.commercialCommunication.tooltip', 'Tooltip explaining what comercial communication is for use on the billing page'),W=I._('These details are required for tax and publishing purposes', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.description', 'Description for the ad account information modal'),X=I._('Add later', '[m10n]bizAccess.addLater', 'Add later'),K=f?I._('Continue', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.continueCeeMigrationButton', 'text for the primary button of the modal to save account information and continue cee migration process'):I._('Save', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.saveButton', 'Button for save'),$=I._('Registered business address', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.businessTitle', 'Title for the registered business address'),J=I._('Name should represent the business\u2019s legal entity name', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.businessHelperText', 'Helper text for the business name'),ee=I._('Business name', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.businessName', 'Label for the name of the business'),et=I._('Address line 1', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.addressLine1', 'Label for address line 1'),en=I._('Address line 2 (optional)', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.addressLine2', 'Label for address line 2'),er=I._('Address line 3 (optional)', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.addressLine3', 'Label for address line 3'),es=I._('Address line 4 (optional)', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.addressLine4', 'Label for address line 4'),eo=I._('City', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.addressCity', 'Label for the city'),ea=I._('State / Province', 'm10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.addressState', 'Required label for the state / province'),ei=I._('State / Province (optional)', 'm10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.addressState', 'Optional label for the state / province'),el=I._('Zip Code', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.addressZip', 'Label for the zip code'),ec=I._('Country', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.addressCountry', 'Label for the country'),eu=I._('Taxpayer Information', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.taxPayer', 'Title for the taxpayer information'),ed=G?G.helpText:"",e_=G&&G.name?G.name:I._('Business Tax Registration Number (E.g. VAT/GST ID)', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.businessTax', 'Label for the business tax registration number'),ef=I._('Will your advertising content contain commercial communications?', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.commercialCommunications', 'Legend for the commercial communications question'),em={country:b.country,name:b.name},eh={country:b.country,state:b.state||"",vat_number:b.vatNumber,is_reseller_managed:!0},ep={country:b.country,state:b.state||""},eb={country:b.country,postal_code:b.postalCode},ey={name:em,address_line_1:b.addressLine1||"",address_line_2:b.addressLine2||"",address_line_3:b.addressLine3||"",address_line_4:b.addressLine4||"",city:b.city,country:b.country,state:ep,postal_code:eb,is_commercial_communication:b.isCommercialCommunication,vat_number:eh,hasAcceptedTos:!0},ev=(t=tO(regeneratorRuntime.mark(function e(){var t,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!1),r=(t=(0,tA.G)(th.D0.BUSINESS_INFORMATION_RESELLER_MANAGED,ey,I)).isValid,S(t.errorObject),r){e.next=7;break}P(!0),e.next=18;break;case 7:if(s={name:b.name,address_line_1:b.addressLine1,address_line_2:b.addressLine2,address_line_3:b.addressLine3,address_line_4:b.addressLine4,city:b.city,state:b.state,postal_code:b.postalCode,country:b.country,is_commercial_communication:b.isCommercialCommunication,vat_number:b.vatNumber},!f){e.next=11;break}return l&&O({adAccountsToMigrate:u||[],resellerUserId:l,onInviteSent:d,businessInformation:s}),e.abrupt("return");case 11:return e.next=13,tz(n,s);case 13:if(!e.sent){e.next=18;break}return e.next=17,tj(n);case 17:C({resellerBusinessName:i,avatarUrl:"",adAccountId:n,businessId:j});case 18:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});if(D)return(0,U.jsx)(Z.Z,{accessibilityLabel:V,size:"md",title:q,children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(I),show:!0})});var eA=th.I.includes(b.country);return(0,U.jsxs)(Z.Z,{accessibilityLabel:V,cancelText:X,hideCancelAction:f,onDismiss:function(){B({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"".concat(h,"-button"),element:"BUSINESS_ACCESS_BUTTON",elementId:"close-required-rmaa-information-modal",ad_account_id:n})},primaryAction:(0,U.jsx)(m.zx,{accessibilityLabel:K,color:"red",onClick:function(){B({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:h,element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-required-rmaa-information-modal-button",ad_account_id:n}),ev()},size:"lg",text:K}),size:"md",subtitle:W,title:q,children:[(0,U.jsx)(m.xv,{size:"400",weight:"bold",children:$}),(0,U.jsx)(m.nv,{errorMessage:A.name||"",helperText:J,id:"business-name",label:ee,onChange:function(e){var t=e.value;y(tE(tE({},b),{},{name:t})),S(tE(tE({},A),{},{name:""}))},type:"text",value:b.name}),(0,U.jsxs)(m.kC,{direction:"row",children:[(0,U.jsx)(m.xu,{paddingY:2,width:"100%",children:(0,U.jsx)(m.nv,{errorMessage:A.address_line_1||"",id:"address-line-1",label:et,onChange:function(e){var t=e.value;y(tE(tE({},b),{},{addressLine1:t})),S(tE(tE({},A),{},{address_line_1:""}))},type:"text",value:b.addressLine1})}),(0,U.jsx)(m.xu,{width:8}),(0,U.jsx)(m.xu,{paddingY:2,width:"100%",children:(0,U.jsx)(m.nv,{errorMessage:A.address_line_2||"",id:"address-line-2",label:en,onChange:function(e){var t=e.value;y(tE(tE({},b),{},{addressLine2:t})),S(tE(tE({},A),{},{address_line_2:""}))},type:"text",value:b.addressLine2})})]}),(0,U.jsxs)(m.kC,{direction:"row",children:[(0,U.jsx)(m.xu,{paddingY:2,width:"100%",children:(0,U.jsx)(m.nv,{errorMessage:A.address_line_3||"",id:"address-line-3",label:er,onChange:function(e){var t=e.value;y(tE(tE({},b),{},{addressLine3:t})),S(tE(tE({},A),{},{address_line_3:""}))},type:"text",value:b.addressLine3})}),(0,U.jsx)(m.xu,{width:8}),(0,U.jsx)(m.xu,{paddingY:2,width:"100%",children:(0,U.jsx)(m.nv,{errorMessage:A.address_line_4||"",id:"address-line-4",label:es,onChange:function(e){var t=e.value;y(tE(tE({},b),{},{addressLine4:t})),S(tE(tE({},A),{},{address_line_4:""}))},type:"text",value:b.addressLine4})})]}),(0,U.jsxs)(m.kC,{direction:"row",children:[(0,U.jsx)(m.xu,{paddingY:2,width:"100%",children:(0,U.jsx)(m.nv,{errorMessage:A.city||"",id:"address-city",label:eo,onChange:function(e){var t=e.value;y(tE(tE({},b),{},{city:t})),S(tE(tE({},A),{},{city:""}))},type:"text",value:b.city})}),(0,U.jsx)(m.xu,{width:8}),(0,U.jsx)(m.xu,{paddingY:2,width:"100%",children:eA?(0,U.jsxs)(m.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",width:"100%",children:[(0,U.jsx)(m.xu,{marginBottom:1,children:(0,U.jsx)(m.__,{htmlFor:"state",children:(0,U.jsx)(m.xv,{align:"start",size:"100",children:ea})})}),(0,U.jsx)(tv.Z,{country:b.country||"",disabled:a,dropdownListSize:"md",errorMessage:A.state||"",id:"state",onChange:function(e){var t=e.value;y(tE(tE({},b),{},{state:t})),S(tE(tE({},A),{},{state:""}))},placeholder:" ",shouldCheckForValueMatch:!0,value:b.state})]}):(0,U.jsx)(m.nv,{errorMessage:A.state||"",id:"address-state-province",label:ei,onChange:function(e){var t=e.value;y(tE(tE({},b),{},{state:t})),S(tE(tE({},A),{},{state:""}))},type:"text",value:b.state})})]}),(0,U.jsxs)(m.kC,{direction:"row",children:[(0,U.jsx)(m.xu,{paddingY:2,width:"100%",children:(0,U.jsx)(m.nv,{errorMessage:A.postal_code||"",id:"address-zip-code",label:el,onChange:function(e){var t=e.value;y(tE(tE({},b),{},{postalCode:t})),S(tE(tE({},A),{},{postal_code:""}))},type:"text",value:b.postalCode})}),(0,U.jsx)(m.xu,{width:8}),(0,U.jsx)(m.xu,{paddingY:2,width:"100%",children:(0,U.jsx)(m.EI,{disabled:!f,errorMessage:0===k.length?I._('Oops! An error occurred and the list of available countries did not load. We recommend disabling ad-blocker or checking your internet connection.', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.countriesError', 'error message saying available countries could not be loaded for ad account creation, and we recommend disabling ad blockers or checking internet connection'):A.country||"",id:"country",label:ec,name:"country",onChange:function(e){var t=e.value;y(tE(tE({},b),{},{country:t,state:eA?"":b.state}))},placeholder:I._('Select', '[m10n]bizAccess.createAdAccount.countrySelectList.placeholder', 'Placeholder for country select list field in the account creation flow'),value:b.country,children:k.map(function(e){return(0,U.jsx)(m.EI.Option,tE({},e),e.label)})})})]}),G&&G.name&&(0,U.jsxs)(_.Fragment,{children:[(0,U.jsx)(m.xu,{height:16}),(0,U.jsx)(m.xv,{size:"400",weight:"bold",children:eu}),(0,U.jsx)(m.nv,{errorMessage:A.vat_number||"",helperText:ed,id:"business-tax",label:e_,onChange:function(e){var t=e.value;y(tE(tE({},b),{},{vatNumber:t})),S(tE(tE({},A),{},{vat_number:""}))},type:"text",value:b.vatNumber}),(0,U.jsx)(m.xu,{height:16})]}),(0,U.jsxs)(m.kC,{alignItems:"center",direction:"row",children:[(0,U.jsx)(m.xv,{children:ef}),(0,U.jsx)(m.hU,{accessibilityLabel:I._('info', '[m10n]bizAccess.info', 'Info'),icon:"info-circle",iconColor:"gray",size:"sm",tooltip:{accessibilityLabel:Q,text:Q,zIndex:tb.b7}})]}),(0,U.jsxs)(m.FX,{direction:"row",id:"adQuestionResponse",legend:"",children:[(0,U.jsx)(m.FX.RadioButton,{checked:b.isCommercialCommunication,id:"Yes",label:I._('Yes', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.yes', 'Yes'),onChange:function(){return y(tE(tE({},b),{},{isCommercialCommunication:!0}))},value:"Yes"}),(0,U.jsx)(m.FX.RadioButton,{checked:!b.isCommercialCommunication,id:"No",label:I._('No', '[m10n]bizAccess.addRequiredRMAAInformation.adAccountInformation.no', 'No'),name:"No",onChange:function(){return y(tE(tE({},b),{},{isCommercialCommunication:!1}))},value:"No"})]}),E&&(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginTop:2,children:(0,U.jsx)(m.xv,{align:"end",color:"error",weight:"bold",children:I._('Please fix any form errors', '[m10n]billing.BillingInformationForm.messaging', 'Message to indicate there is an error with the business information form')})})]})},tN=n(591786),tR=function(e){var t=e.employeeOrPartnerPermissions,n=e.assetOrMemberType,r=(0,N.Z)(),s=(0,L.HU)().clearModal,o=(0,tN.e6)(r),a={PEOPLE:"email",PARTNER:"full_name",SYSTEM_USERS:"full_name"},i={PEOPLE:{titleText:r._('Employees added', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.employees.title', 'tile for add employees to group confirmation modal'),listTitleText:r._('The following employees have been added to the asset group:', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.employees.listTitleText', 'list tile for add employees to group confirmation modal'),countText:r._('{{userCount}} employee(s)', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.employees.countText', 'employees counter text, userCount: number of employees')},PARTNER:{titleText:r._('Partners added', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.partner.title', 'tile for add partners to group confirmation modal'),listTitleText:r._('The following partners have been added to the asset group:', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.partners.listTitleText', 'list tile for add partners to group confirmation modal'),countText:r._('{{userCount}} partners(s)', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.partners.countText', 'partners counter text, userCount: number of partners')},SYSTEM_USERS:{titleText:r._('System users added', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.systemUsers.title', 'tile for add system users to group confirmation modal'),listTitleText:r._('The following system users have been added to the asset group:', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.systemUsers.listTitleText', 'list tile for add system users to group confirmation modal'),countText:r._('{{userCount}} system user(s)', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.systemUsers.countText', 'system users counter text, userCount: number of system users')}};return(0,U.jsx)(Z.Z,{accessibilityLabel:r._('confirmation modal after an employee or partner is added to the group', '[m10n].bizAccess.assetGroup.addUserConfirmationModal', 'accessibility label for add user to group confirmation modal'),hideCancelAction:!0,onDismiss:s,primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"assetGroup-user-added-confirmation-button",children:(0,U.jsx)(m.zx,{color:"red",onClick:s,size:"lg",text:r._('Done', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.closeButton', 'text for for add user to group confirmation modal button')})}),size:"sm",title:i[n].titleText,children:(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsxs)(m.xu,{marginBottom:4,children:[(0,U.jsx)(m.xv,{size:"200",children:i[n].listTitleText}),(0,U.jsx)(m.xu,{marginBottom:2,marginTop:2,children:(0,U.jsx)(m.xv,{size:"300",children:(0,R.nk)(i[n].countText,{userCount:t.length})})}),t.map(function(e){var t=e.id,s=e.user,i=e.permissions.map(o).join((0,H.bH)(r));return(0,U.jsx)(m.xu,{marginStart:3,marginTop:1,children:(0,U.jsx)(m.xv,{color:"subtle",size:"100",children:"• ".concat(s[a[n]]," (").concat(i,")")})},t)})]})})})},tD=n(476823),tk=n(915200),tL=n(632323),tU=n(208422);function tB(e){return(tB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tM(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function tH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tZ(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tZ(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tG=function(e){var t,n=e.partnerBusinessInfo,r=e.ownerInfo,s=e.accountInfo,o=(0,I.Z)().checkExperiment,a=o("web_m10n_business_access_catalogs").anyEnabled,i=o("web_business_access_finance_manager_role").anyEnabled,l=(0,N.Z)(),c=(0,L.HU)(),u=c.setUnsavedPermissionsConfirmationModal,h=c.setAOAARequestCreationSuccessModal,p=(0,L.KJ)(!0),b=(0,g.ZP)("BUSINESS_ACCESS_AD_ACCOUNTS"),y=(0,f.I0)(),A=(0,eG.Z)().path.includes(":userBizId/ad-accounts/pending"),S=(0,W.dI)().showToast,x=tH((0,z.Z)(tU.kH,!0,{id:p,limit:v.cU}),3),E=x[0],P=x[1],T=x[2],C=tH((0,_.useState)(!1),2),O=C[0],j=C[1];if(P)throw new d.zu("peopleError=".concat(P),(0,eM.BL)(l));var w=i?v.hd:v.j$,R=(null==E||null==(t=E.data.data)?void 0:t.map(function(e){var t=e.user,n=t.id,r=t.email;return{id:n,text:t.full_name,subtext:r,image:t.image_small_url,assignableRoles:a?v.cZ:w,isPartner:!1}}))||[],D={id:n.id,text:n.full_name,image:n.image_small_url||"",assignableRoles:a?v.cZ:w,isPartner:!0};return R.push(D),(0,U.jsx)(tD.Z,{buttonLabel:(0,eM.e$)(l),footerSecondaryContent:(0,U.jsx)(m.xv,{color:"subtle",size:"200",children:l._('Step 2 of 2', '[m10n]bizAccess.aoaaPermissionAssignment.modal.steps.second', 'Label to identify the current step, second, on AOAA permission assignment flow')}),isAoaaAssignmentModal:!0,loading:T||O,modalAccessibilityLabel:(0,eM.li)(l),modalTitle:(0,eM.BL)(l),onDismiss:function(){return u({partnerBusinessInfo:n,ownerInfo:r,accountInfo:s})},onSubmit:function(e){var t;(t=regeneratorRuntime.mark(function t(){var o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),o=Object.keys(e).map(function(t){var n,r,s;return n={},r=t,s=e[t],(r=function(e){var t=function(e,t){if("object"!=tB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tB(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tB(t)?t:t+""}(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}),t.next=5,(0,tL.tu)({businessId:p,partnerId:n.id,name:s.name,country:s.country,businessIdToPermissions:o});case 5:y((0,tk.vm)({businessId:p,updateDataOnly:!A})),b({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"request-agency-owned-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",requesting_agency_id:p}),h({partnerBusinessInfo:n,ownerInfo:r,businessIdToPermissions:o}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),S(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:l._('Sorry! Something went wrong.', '[m10n]businessAccess.principalAssignment.error.toast', 'Error toast informing user that the profile role assignment has failed.'),type:"error"})}),b({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"request-agency-owned-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(t.t0).slice(0,64),errorMessage:(null==(a=(0,q.Z)(t.t0,"stack"))?void 0:a.slice(0,4096))||(0,q.Z)(t.t0,"message")||""});case 14:case"end":return t.stop()}},t,null,[[0,10]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){tM(o,r,s,a,i,"next",e)}function i(e){tM(o,r,s,a,i,"throw",e)}a(void 0)})})()},searchPlaceholder:l._('Search name or email', '[m10n]businessAccess.principalAssignment.filterPrincipalListText', 'Filter principal list text field'),selectedOptionDetailsText:(0,eM.ms)(l),selectionOptions:R,selectionPlaceholder:l._('Select an employee or partner to assign permissions', '[m10n]businessAccess.principalAssignment.grantAccessToMessage', 'Select an employee to assign permissions message. Shows when no role person is selected'),subtext:s.name,text:n.full_name||""})},tF=function(e){var t=e.partnerBusinessInfo,n=e.ownerInfo,r=e.businessIdToPermissions,s=(0,N.Z)(),o=(0,(0,I.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,a=(0,L.HU)().clearModal,i=t.full_name,l=t.image_small_url,c=t.id,u=n.full_name,d=n.image_medium_url,_=[],f={};return r.forEach(function(e){var t=Object.keys(e)[0],n=e[t],r=(n.includes("ADMIN")?["ADMIN"]:n).map(function(e){return(0,tN.e6)(s)(e)});t===c?_=r:r.forEach(function(e){f[e]?f[e]+=1:f[e]=1})}),(0,U.jsxs)(Z.Z,{accessibilityLabel:(0,eM.ZE)(s),hideCancelAction:!0,primaryAction:(0,U.jsx)(m.zx,{accessibilityLabel:(0,H.Hf)(s),color:"red",onClick:a,size:"lg",text:(0,H.Hf)(s)}),size:"sm",title:s._('Ad account creation request pending', '[m10n]bizAccess.AOAARequestCreationSuccess.title', 'title of modal notifying user that the add account creation request is pending'),children:[o&&(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.ci,{iconAccessibilityLabel:s._('ad account creation request will need approval', '[m10n]bizAccess.AOAARequestCreationSuccess.callout.iconAccessibilityLabel', 'icon accessibilityLabel notifying user that they cannot modify the ad account until partner approves their request to create the ad account'),message:s._('You will be unable to modify the ad account until you receive ad account creation approval from your partner', '[m10n]bizAccess.AOAARequestCreationSuccess.calloutmessage', 'message notifying user that they cannot modify the ad account until partner approves their request to create the ad account'),type:"info"}),(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:6,marginTop:6,children:(0,U.jsx)(m.xv,{children:s._('Partners are automatically notified each time an ad account is created on their behalf', '[m10n].bizAccess.AOAARequestCreationSuccess.successSubtitle', 'Subtitle for modal notifying that partners will be notified each time ad account is created')})}),(0,U.jsxs)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:2,children:[(0,U.jsx)(m.xu,{children:(0,U.jsx)(tn.qE,{name:i||"",size:"sm",src:l})}),(0,U.jsx)(m.xu,{flex:"grow",marginStart:4,children:(0,U.jsx)(m.xv,{size:"400",weight:"bold",children:i})})]}),(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",marginBottom:4,marginStart:12,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(s._('\u2022 {{partnerPermissions}} permissions', '[m10n]bizAccess.AOAARequestCreationSuccess.partnerPermissions', 'Text listing permissions given to partner. partnerPermissions: list of permissions for partner'),{partnerPermissions:_.join(", ")})})}),Object.keys(f).length>0&&(0,U.jsxs)(m.xu,{children:[(0,U.jsxs)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:2,children:[(0,U.jsx)(m.xu,{children:(0,U.jsx)(tn.qE,{name:u||"",size:"sm",src:d})}),(0,U.jsx)(m.xu,{flex:"grow",marginStart:4,children:(0,U.jsx)(m.xv,{size:"400",weight:"bold",children:u})})]}),Object.keys(f).map(function(e){return(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",marginBottom:2,marginStart:12,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(s.ngettext('\u2022 {{numEmployees}} employee with {{permission}} permissions', '\u2022 {{numEmployees}} employees with {{permission}} permissions', f[e], '[m10n]bizAccess.AOAARequestCreationSuccess.employeePermission', 'Text listing number of employees with given permission. numEmployees: num of employees with permission, permission: permission type for empoloyees'),{numEmployees:f[e],permission:e})})},e)})]})]})]})};function tY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||tV(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tV(e,t){if(e){if("string"==typeof e)return tq(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tq(e,t):void 0}}function tq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tQ(e){var t=e.isEdit,n=e.onSuccess,r=(0,L.KJ)(),s=(0,f.v9)(ep.FS),o=(0,f.v9)(ep.HW),a=tY((0,_.useState)(t&&s?s.name:""),2),i=a[0],l=a[1],c=tY((0,_.useState)(!1),2),u=c[0],d=c[1],h=tY((0,_.useState)(t&&s?s.description:""),2),p=h[0],b=h[1],A=tY((0,_.useState)(t&&s?s.asset_group_types:[]),2),g=A[0],S=A[1],x=(0,f.I0)(),E=(0,N.Z)(),P=(0,W.dI)().showToast,I=(0,L.HU)(),T=I.setDeleteAssetGroupConfirmationModal,C=I.clearModal,O=(0,f.v9)(ep.Ts),j=(0,(0,y.g)().getParentHierarchyForIdIfExists)(r),z=null==j?void 0:j.id;(0,_.useEffect)(function(){if(!u||o||O){if(u&&!o&&O){var e={12:E._('The number of assets groups would exceed the upper limit 20 for this business', '[m10n].bizAccess.addAssetError.message', 'message in error toast to show error occured because they would exceed the limit')},r=O.api_error_code,s=r&&e[r.toString()];P(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:s||(0,H.sQ)(E),type:"error"})}),C()}}else P(function(e){var n=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:t?E._('Asset group edited', '[m10n]businessAccess.assetGroups.edited.toast', 'text for toast shown when an asset group is edited'):(0,R.nk)(E._('Asset group {{name}} created', '[m10n]businessAccess.assetGroups.created.toast', 'text for toast shown when an asset group is created. name: asset group name'),{name:i}).join("")})}),n()},[o,u,P,n,t,E,i]);var w=function(e){g.includes(e)?S(g.filter(function(t){return t!==e})):S([].concat(function(e){if(Array.isArray(e))return tq(e)}(g)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(g)||tV(g)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]))},D=function(){t&&s?x((0,el.Ro)({businessId:r,assetGroup:{name:i,description:p,asset_group_types:g,id:s.id},businessHierarchyNodeId:z})):x((0,el.FL)({businessId:r,assetGroup:{name:i,description:p,asset_group_types:g},businessHierarchyNodeId:z})),d(!0)},k=E._('Limit reached. You can only use {{ maxCharCount }} characters in this field.', '[m10n]businessAccess.assetGroups.form.limit.error', 'accessibility label for text field limit reached error, maxCharCount: max character count');return(0,U.jsxs)(m.xu,{paddingX:6,children:[(0,U.jsxs)(m.kC,{direction:"column",gap:2,children:[(0,U.jsx)(m.xu,{marginTop:-1,children:(0,U.jsx)(m.xv,{size:"400",weight:"bold",children:E._('Asset group details', '[m10n]businessAccess.assetGroups.form.heading', 'label for asset groups form details heading')})}),(0,U.jsx)(m.xv,{size:"200",children:E._('Information in asset group details can be edited at any time', '[m10n]businessAccess.assetGroups.form.notice', 'information about when asset groups can be edited')}),(0,U.jsx)(m.xu,{"data-test-id":"create-asset-name-text-field",children:(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(m.nv,{disabled:o,helperText:E._('Choose a name that will help your employees identify the asset group', '[m10n]businessAccess.assetGroups.form.name.label', 'label of asset group description field'),id:"name field",maxLength:{characterCount:50,errorAccessibilityLabel:(0,R.nk)(k,{maxCharCount:50}).join("")},onChange:function(e){l(e.event.target.value)},placeholder:E._('Name', '[m10n]businessAccess.assetGroups.form.name.placeholder', 'placeholder for asset group name field'),value:i})})}),(0,U.jsx)(m.xu,{"data-test-id":"asset-groups-form-description-field",children:(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(m.nv,{disabled:o,helperText:E._('Optional', '[m10n]businessAccess.assetGroups.form.description.label', 'label of asset group description field'),id:"description field",maxLength:{characterCount:200,errorAccessibilityLabel:(0,R.nk)(k,{maxCharCount:200}).join("")},onChange:function(e){b(e.event.target.value)},placeholder:E._('Description', '[m10n]businessAccess.assetGroups.form.description.placeholder', 'placeholder for asset group description field'),value:p})})}),(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(m.xv,{size:"300",weight:"bold",children:E._('What type of asset group is this?', '[m10n]businessAccess.assetGroups.form.type.label', 'label of asset group type field')})}),(0,U.jsx)(m.xv,{size:"200",children:E._('Choose the options that best describe your asset group', '[m10n]businessAccess.assetGroups.form.type.directions', 'directions for asset group type field')}),(0,U.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,U.jsx)(m.xu,{"data-test-id":"asset-groups-form-brand-checkbox",children:(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(m.XZ,{checked:g.includes(el.Yd.BRAND),disabled:o,id:el.Yd.BRAND,image:(0,U.jsx)(m.kC,{direction:"column",justifyContent:"center",children:(0,U.jsx)(m.JO,{accessibilityLabel:E._('Brand icon', '[m10n]businessAccess.assetGroups.form.type.iconLabel.brand', 'Accessibility label for type BRAND checkbox'),color:"dark",icon:"ad",size:"24"})}),label:(0,H.h7)(E)(el.Yd.BRAND),onChange:function(){return w(el.Yd.BRAND)}})})})}),(0,U.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,U.jsx)(m.xu,{"data-test-id":"asset-groups-form-loclang-checkbox",children:(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(m.XZ,{checked:g.includes(el.Yd.LOCATION_OR_LANGUAGE),disabled:o,id:el.Yd.LOCATION_OR_LANGUAGE,image:(0,U.jsx)(m.kC,{direction:"column",justifyContent:"center",children:(0,U.jsx)(m.JO,{accessibilityLabel:E._('Location or language icon', '[m10n]businessAccess.assetGroups.form.type.iconLabel.locationLanguage', 'Accessibility label for type location checkbox'),color:"dark",icon:"globe",size:"24"})}),label:(0,H.h7)(E)(el.Yd.LOCATION_OR_LANGUAGE),onChange:function(){return w(el.Yd.LOCATION_OR_LANGUAGE)}})})})}),(0,U.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,U.jsx)(m.xu,{"data-test-id":"asset-groups-form-product-checkbox",children:(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(m.XZ,{checked:g.includes(el.Yd.PRODUCT_LINE),disabled:o,id:el.Yd.PRODUCT_LINE,image:(0,U.jsx)(m.kC,{direction:"column",justifyContent:"center",children:(0,U.jsx)(m.JO,{accessibilityLabel:E._('Product icon', '[m10n]businessAccess.assetGroups.form.type.iconLabel.product', 'Accessibility label for type PRODUCT checkbox'),color:"dark",icon:"insights-conversion",size:"24"})}),label:(0,H.h7)(E)(el.Yd.PRODUCT_LINE),onChange:function(){return w(el.Yd.PRODUCT_LINE)}})})})}),(0,U.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,U.jsx)(m.xu,{"data-test-id":"asset-groups-form-other-checkbox",children:(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(m.XZ,{checked:g.includes(el.Yd.OTHER),disabled:o,id:el.Yd.OTHER,image:(0,U.jsx)(m.kC,{direction:"column",justifyContent:"center",children:(0,U.jsx)(m.JO,{accessibilityLabel:E._('Other icon', '[m10n]businessAccess.assetGroups.form.type.iconLabel.other', 'Accessibility label for type OTHER checkbox'),color:"dark",icon:"file-unknown",size:"24"})}),label:(0,H.h7)(E)(el.Yd.OTHER),onChange:function(){return w(el.Yd.OTHER)}})})})})]}),t?(0,U.jsxs)(m.xu,{display:"flex",justifyContent:"between",onClick:function(){},paddingY:6,children:[(0,U.jsx)(m.xu,{"data-test-id":"open-delete-asset-group-modal-button",children:(0,U.jsx)(m.zx,{color:"transparent",onClick:function(){C(),T({onSuccess:n})},size:"lg",text:E._('Delete asset group', '[m10n]businessAccess.assetGroups.form.delete.button', 'delete asset group button')})}),(0,U.jsxs)(m.kC,{gap:2,children:[(0,U.jsx)(m.zx,{onClick:function(){C()},size:"lg",text:E._('Cancel', '[m10n]businessAccess.assetGroups.form.cancel.button', 'cancel asset group button')}),(0,U.jsx)(m.xu,{"data-test-id":"asset-groups-save-updates-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:0===i.length||o,onClick:D,size:"lg",text:E._('Save', '[m10n]businessAccess.assetGroups.form.save.button', 'save asset group button')})})]})]}):(0,U.jsx)(m.xu,{display:"flex",justifyContent:"end",onClick:function(){},paddingY:6,children:(0,U.jsx)(m.xu,{"data-test-id":"create-asset-group-submit-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:0===i.length||o,onClick:D,size:"lg",text:E._('Create', '[m10n]businessAccess.assetGroups.form.create.button', 'create asset group button')})})})]})}var tW=function(e){var t=e.isEdit,n=(0,L.HU)().clearModal,r=(0,L.KJ)(),s=(0,N.Z)(),o=(0,g.ZP)("BUSINESS_ACCESS_ASSET_GROUPS"),a=function(e){o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"asset-groups-form",element:"BUSINESS_ACCESS_BUTTON",business_id:r,elementId:e})},i=function(e){n(),a(e)},l={heading:t?s._('Edit asset group', '[m10n]businessAccess.assetGroups.form.edit.heading', 'Title of edit asset groups form modal'):s._('Create an asset group', '[m10n]businessAccess.assetGroups.form.heading', 'Title of asset groups form modal'),a11yLabel:t?s._('Edit asset group', '[m10n]businessAccess.assetGroups.edit.form', 'accessibility label of modal for edit asset groups form'):s._('Create an asset group', '[m10n]businessAccess.assetGroups.form', 'accessibility label of modal for asset groups form')},c=(0,U.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,U.jsx)(m.X6,{accessibilityLevel:1,size:"600",children:l.heading}),(0,U.jsx)(m.hU,{accessibilityLabel:(0,H.I9)(s),icon:"cancel",iconColor:"gray",onClick:function(){i("asset-groups-form-modal-dismissed")},size:"sm"})]});return(0,U.jsx)(w.ZP,{accessibilityModalLabel:l.a11yLabel,align:"start",heading:c,onDismiss:function(){i("asset-groups-form-modal-dismissed")},size:"lg",children:(0,U.jsx)(m.xu,{children:(0,U.jsx)(tQ,{isEdit:t,onSuccess:function(){return i(t?"edit-asset-group-form":"create-asset-group-form")}})})})},tX=n(139879),tK=n(969560),t$=function(e){var t=e.id,n=e.creator,r=e.permissions,s=(0,N.Z)();return(0,U.jsxs)(_.Fragment,{children:[t,s._(' \xB7 ', '[m10n]businessAccess.resourceAssignment.separator', 'Visual separator between an account creator and its status'),(0,R.nk)(s._('Creator: {{creator}}', '[m10n]businessAccess.resourceAssignment.creatorText', 'Shows the creator of the selected resource.'),{creator:n}),s._(' \xB7 ', '[m10n]businessAccess.resourceAssignment.separator', 'Visual separator between an account creator and its status'),r.includes("OWNER")||r.includes("ADMIN")?s._('Admin access', '[m10n]businessAccess.resourceAssignment.accessLevelText.full', 'Describes the access an account has to a resource.'):s._('Limited access', '[m10n]businessAccess.resourceAssignment.accessLevelText.limited', 'Describes the access an account has to a resource.')]})},tJ=n(91912),t0=n(355750),t1=n(498452),t2=n(300214);function t5(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function t6(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return t3(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t3(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var t8=function(e){var t=e.selectedId,n=e.handleError,r=e.refreshData,s=e.inviteId,o=(0,(0,I.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,i=(0,S.u)().logContextEvent,l=(0,N.Z)(),c=(0,f.I0)(),u=(0,L.KJ)(!0),h=(0,f.v9)(t2.t_),p=(0,L.HU)(),b=p.setAddPartnerInviteConfirmationModal,A=p.clearModal,x=(0,(0,y.g)().getParentHierarchyForIdIfExists)(u),E=null==x?void 0:x.id,T=(0,g.ZP)("BUSINESS_ACCESS_PARTNER_DETAIL_AD_ACCOUNTS"),C=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),O=(0,a.TH)(),j=(0,W.dI)(),w=j.showToast,D=j.showOneToast,k=t6((0,z.Z)(t1.Eg,!0,{id:u,limit:v.xX}),3),B=k[0],M=k[1],H=k[2],Z=v.xX,G=t6((0,z.Z)(t1.SB,!1,u,t,Z),4),F=G[0],Y=G[1],V=G[2],X=G[3];(0,_.useEffect)(function(){s||X({businessId:u,partnerId:t,limit:Z})},[u,t,s]);var K=t6((0,z.Z)(ty.cE,!0,{id:u,limit:v.xX,forPartner:!0,includeAssetSummary:!0}),3),$=K[0],J=K[1],ee=K[2],et=(0,eG.Z)().path.includes(":userBizId/partners/pending"),en=(0,eX.Z)("partnerInvite",null!=s?s:"",!!s),er=t6(s?en:[void 0,void 0,void 0],3),es=er[0],eo=er[1],ea=er[2],ei=t6((0,_.useState)(!1),2),el=ei[0],ec=ei[1],eu=M||Y||J||eo;if(eu)throw new d.zu("partnersV4Error=".concat(M," partnerAssetsError=").concat(Y," ")+"adAccountsError=".concat(J," inviteError=").concat(eo||""),(0,eM.Jl)(l));var ed=null==B?void 0:B.data.data.find(function(e){return e.id===t}),e_=(null==F?void 0:F.data.data)||[],ef=(null==$?void 0:$.data.data.filter(function(e){return null===e.client_business}))||[],em=(null==ed?void 0:ed.user.full_name)||(null==es?void 0:es.extended_user_info.full_name)||"",eh=l._('Partner', '[m10n]bizAccess.partners.role', 'Partners business role'),ep=(0,U.jsx)(m.qE,{name:em,size:"md",src:(null==ed?void 0:ed.user.image_medium_url)||(null==es?void 0:es.extended_user_info.image_small_url)}),eb=ef.map(function(e){var t=e.asset,n=t.id,r=t.name,s=e.created_by.full_name,a=e.permissions;return{id:n,text:r,subtext:n,extendedSubtext:(0,U.jsx)(t$,{creator:s,id:n,permissions:a}),disabled:!!(null!=e_&&e_.find(function(e){return e.asset_id===n})),assignableRoles:(0,tJ.u)(a,o)}});return(0,U.jsx)(tD.Z,{buttonLabel:(0,eM.hu)(l),cancelText:s?l._('Skip for now', '[m10n]bizAccess.invite.adAccounts.skip', 'Text to skip requesting ad account step'):l._('Cancel', '[m10n]bizAccess.invite.adAccounts.cancel', 'Text to cancel requesting ad account'),counterTextFunction:function(e){return(0,R.nk)(l.ngettext('{{count}} account selected', '{{count}} accounts selected', e, '[m10n]businessAccess.resourceAssignment.selectedAccounts', 'Selected accounts count.'),{count:e})},footerSecondaryContent:s?(0,U.jsx)(m.xv,{color:"subtle",size:"200",children:l._('Step 2 of 2', '[m10n]bizAccess.addPartner.modal.steps.second', 'Label to identify the current step, second, on add a partner flow')}):null,image:ep,loading:H||V||ee||el||ea,modalAccessibilityLabel:(0,eM.li)(l),modalTitle:(0,eM.Jl)(l),onDismiss:s?function(){b({selectedId:t,role:v.uE.PARTNER,inviteId:s||""})}:null,onSubmit:function(e){var o;(o=regeneratorRuntime.mark(function o(){var a,d;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,ec(!0),!s){o.next=8;break}return o.next=5,(0,ty.ib)(u,e,[s],"PARTNER",E);case 5:et&&c((0,t0.R)(h,"PARTNER",u)),o.next=10;break;case 8:return o.next=10,(0,ty.oC)(u,Object.keys(e).map(function(n){return{assigneeIds:[t],adAccountIds:[n],permissions:e[n]}}),"PARTNER",E);case 10:r(),Object.keys(e).forEach(function(e){(0,P.dK)(O)?C({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"ad-accounts-to-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:e}):(T({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"ad-accounts-to-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:e}),i({event_type:8965,component:13640,aux_data:{business_id:u,ad_account_id:e}}))}),s?b({selectedId:t,role:v.uE.PARTNER,inviteId:s}):(A(),D(function(e){var t=e.hideToast;return(0,U.jsx)(tK.Z,{onHide:t})})),o.next=21;break;case 15:o.prev=15,o.t0=o.catch(0),n(),w(function(e){var t,n=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,eM.dg)(null!=(t=(0,q.Z)(o.t0,"api_error_code"))?t:0,l,!0),type:"error"})}),d=(null==(a=(0,q.Z)(eu,"stack"))?void 0:a.slice(0,4096))||(0,q.Z)(eu,"message")||"",(0,P.dK)(O)?C({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"ad-accounts-to-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(o.t0).slice(0,64),errorMessage:d}):(T({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"ad-accounts-to-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(o.t0).slice(0,64),errorMessage:d}),i({event_type:8966,component:13640,aux_data:{business_id:u,error_class:JSON.stringify(o.t0).slice(0,64),error_message:d}}));case 21:case"end":return o.stop()}},o,null,[[0,15]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var s=o.apply(e,t);function a(e){t5(s,n,r,a,i,"next",e)}function i(e){t5(s,n,r,a,i,"throw",e)}a(void 0)})})()},searchPlaceholder:l._('Search ad accounts', '[m10n]businessAccess.resourceAssignment.filterResourceListText', 'Filter resource list text field'),selectedOptionDetailsText:(0,eM.ms)(l),selectionOptions:eb,selectionPlaceholder:l._('Select an ad account to assign permissions', '[m10n]businessAccess.resourceAssignment.grantAccessToMessage', 'Select an ad account to assign permissions message. Shows when no role resource is selected'),subtext:eh,text:em})},t4=n(239426);function t7(e){return(t7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t9(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=t7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=t7(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==t7(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nt(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function nn(e){return function(e){if(Array.isArray(e))return no(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ns(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||ns(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ns(e,t){if(e){if("string"==typeof e)return no(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?no(e,t):void 0}}function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var na=function(e){var t,n,r,s,o=e.selectedIds,i=e.handleError,l=e.refreshData,c=e.roleType,u=e.peopleIdentifiers,h=e.inviteIds,p=e.showProfiles,b=e.showCatalogs,A=(0,S.u)().logContextEvent,x=(0,N.Z)(),E=(0,L.HU)().clearModal,T=(0,L.HU)().setAddPeopleInviteWithAssetsConfirmationModal,C=(0,L.KJ)(!0),O=(0,(0,y.g)().getParentHierarchyForIdIfExists)(C),j=null==O?void 0:O.id,w=(0,g.ZP)("BUSINESS_ACCESS_EMPLOYEE_DETAIL_AD_ACCOUNTS"),k=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),B=(0,a.TH)(),M=(0,f.I0)(),Z=(0,W.dI)(),G=Z.showToast,F=Z.showOneToast,Y=(0,I.Z)().checkExperiment,V=Y("web_m10n_business_access_employee_redesign").anyEnabled,X=Y("web_m10n_business_access_catalogs").anyEnabled,K=nr((0,z.Z)(D.b,!0,C),3),$=K[0],J=K[1],ee=K[2],et=nr((0,z.Z)(function(e){return(0,t4.dF)(e,v.cU,"PEOPLE")},!0,{id:C,limit:v.cU}),3),en=et[0],er=et[1],es=et[2],eo=nr((0,z.Z)(function(e){return(0,t4.dF)(e,v.cU,"PARTNER")},!0,{id:C,limit:v.cU}),3),ea=eo[0],ei=eo[1],el=eo[2],ec=nr((0,z.Z)(tU.UQ,!1,C,o[0],0),4),eu=ec[0],ed=ec[1],e_=ec[2],ef=ec[3],em=nr((0,z.Z)(ty.cp,!0,{id:C,limit:v.xX}),3),eh=em[0],ep=em[1],eb=em[2];(0,_.useEffect)(function(){h&&h.length>0||ef(C,o[0],0)},[C,o[0],h]);var ey=nr((0,z.Z)(ty.eo,!1,{id:C,assetIds:[],limit:v.cU,type:v.tP.PROFILE}),4),ev=ey[0],eA=ey[1],eg=ey[2],eS=ey[3];(0,_.useEffect)(function(){!eb&&eh&&eS({id:C,assetIds:eh.data.data.map(function(e){return e.asset_id}),limit:v.cU,type:v.tP.PROFILE})},[C,eh,eb]);var ex=nr((0,z.Z)(function(e){return(0,t4.dF)(e,v.cU,void 0,function(e){var t=e.limit,n=e.startIndex;return(0,ty.cE)({id:C,limit:t,startIndex:n,includeAssetSummary:!0})})},!0,{id:C,limit:v.cU}),3),eE=ex[0],eP=ex[1],eI=ex[2],eT=nr((0,z.Z)(function(e){return(0,t4.dF)(e,v.cU,void 0,function(e){var t=e.limit,n=e.startIndex;return(0,ty.jk)({id:C,limit:t,startIndex:n,includeAssetSummary:!0})})},!0,{id:C,limit:v.cU}),3),eC=eT[0],eO=eT[1],ej=eT[2],ez=nr((0,_.useState)(!1),2),ew=ez[0],eN=ez[1],eR=J||er||ei||ed||eP||ep||eO||eA;if(eR)throw new d.zu("businessDetailsError=".concat(J," peopleError=").concat(er," ")+"partnersV4Error=".concat(ei," personAssetsError=").concat(ed," adAccountsError=").concat(eP),(0,eM.Jl)(x));var eD=ee||es||el||e_||eI||ej||ew||eg,ek=(null==en?void 0:en.data.data.filter(function(e){var t=e.id;return o.includes(t)}))||[],eL=null==ek?void 0:ek.map(function(e){return e.user}),eU=(0,H.MX)(c?[c]:null==ek?void 0:ek.map(function(e){return e.business_roles[0]}),x),eB=eu||[],eH=(null==ea||null==(t=ea.data)?void 0:t.data)||[],eZ=(null==eE||null==(n=eE.data)?void 0:n.data)||[],eG=(null==ev||null==(r=ev.data)?void 0:r.data)||[],eF=(null==eC||null==(s=eC.data)?void 0:s.data)||[],eY=1===ek.length?eL[0].full_name:eU,eV=1===ek.length?eU:void 0,eq=ek.length||o.length||h&&h.length||0,eQ=new Set(eZ.map(function(e){return e.owner.id})),eW=new Set(Object.keys(eG)),eX=eH.filter(function(e){return eQ.has(e.user.id)||p&&eW.has(e.user.id)}),eK=[{id:C,text:(null==$?void 0:$.full_name)||"",subtext:x._('Your business', '[m10n]businessAccess.resourceAssignment.yourBusinessText', 'Text to show in case the owner owns the business'),image:null==$?void 0:$.image_small_url,experience:{experienceId:504998,placementId:1000303}}].concat(nn(eX.map(function(e){var t=e.user,n=t.id,r=t.full_name,s=t.image_small_url;return{id:n,text:r,subtext:x._('Partner', '[m10n]bizAccess.partners.role', 'Partners business role'),image:s,experience:{experienceId:504998,placementId:1000303}}}))),e$=1===ek.length?(0,U.jsx)(m.qE,{name:eL[0].full_name,size:"md",src:eL[0].image_medium_url}):(0,U.jsx)(m.xu,{alignItems:"center",color:"secondary",display:"flex",height:32,justifyContent:"center",rounding:"circle",width:32,children:(0,U.jsx)(m.xv,{weight:"bold",children:eq})}),eJ=p?Object.keys(eG).map(function(e){return{id:e,text:eG[e].asset.name,subtext:e,extendedSubtext:(0,U.jsx)(t$,{creator:eG[e].created_by.full_name,id:e,permissions:C===eG[e].owner.id?[v.V3.OWNER]:v.Hg}),category:"profile-".concat(eG[e].owner.id),disabled:!!(null!=eB&&eB.find(function(t){return t.asset_id===e})),assignableRoles:v.Hg}}):[],e0=eZ.map(function(e){var t=e.asset,n=t.id,r=t.name,s=e.created_by.full_name,o=e.owner,a=e.permissions;return{id:n,text:r,subtext:n,extendedSubtext:(0,U.jsx)(t$,{creator:s,id:n,permissions:a}),category:"ad-account-".concat(o.id),disabled:!!(null!=eB&&eB.find(function(e){return e.asset_id===n})),assignableRoles:(0,tJ.u)(a,X)}}),e1=X&&b?eF.map(function(e){var t=e.asset,n=e.owner,r=e.permissions;return{id:(null==t?void 0:t.id)||"",text:(null==t?void 0:t.name)||"",subtext:(null==t?void 0:t.id)||"",extendedSubtext:(0,U.jsx)(t$,{creator:(null==n?void 0:n.full_name)||"",id:(null==t?void 0:t.id)||"",permissions:r}),category:"catalog-".concat(n.id),disabled:!!(null!=eB&&eB.find(function(e){return e.id===(null==e?void 0:e.id)})),assignableRoles:(0,tJ.s)(r)}}):[],e2=[].concat(nn(e0),nn(eJ),nn(e1));return(0,U.jsx)(tD.Z,{buttonLabel:(0,eM.e$)(x),cancelText:(0,H.nD)(x),counterTextFunction:function(e){return(0,R.nk)(x.ngettext('{{count}} account selected', '{{count}} accounts selected', e, '[m10n]businessAccess.resourceAssignment.selectedAccounts', 'Selected accounts count.'),{count:e})},footerSecondaryContent:(0,U.jsx)(m.xv,{color:"subtle",size:"200",children:"Step 2 of 2"}),image:e$,invitedPeopleIdentifiers:h&&h.length>0&&u?u:[],loading:eD,modalAccessibilityLabel:(0,eM.li)(x),modalTitle:(0,eM.BL)(x),onDismiss:h&&h.length>0?function(){var e=u&&u.length||0,t=eU.toLowerCase();G(function(n){var r=n.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:r,text:(0,R.nk)(x.ngettext('{{numPeople}} {{role}} invitation sent!', '{{numPeople}} {{role}} invitations sent!', e, '[m10n]bizAccess.invite.confirmationModal.business.numAdAccountsInvite', 'Text describing the number of ad accounts for business is including in invite. numPeople: number of people invited role: type of role invited people were assigned'),{numPeople:e,role:t}).join("")})})}:null,onSubmit:function(e){var t;(t=regeneratorRuntime.mark(function t(){var n,r,s,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,eN(!0),!(h&&h.length>0)){t.next=7;break}return t.next=5,(0,ty.ib)(C,e,h,"PEOPLE",j);case 5:t.next=11;break;case 7:return n=Object.keys(e),t.next=10,(0,ty.oC)(C,n.map(function(t){return{assigneeIds:o,adAccountIds:[t],permissions:e[t]}}),"PEOPLE",j);case 10:V&&M((0,tl.Fg)({employeeId:o[0],addedAdAccounts:eZ.filter(function(e){return n.includes(e.asset.id)}).map(function(t){return ne(ne({},t),{},{permissions:e[t.asset.id].includes("ADMIN")?["ADMIN"]:e[t.asset.id]})})}));case 11:l(),E(),r=X?v.k_:v.hd,Object.keys(e).forEach(function(t){var n=r.some(function(n){return e[t].includes(n)}),s=v.Hg.some(function(n){return e[t].includes(n)}),o=v.pk.some(function(n){return e[t].includes(n)});(0,P.dK)(B)?k(ne(ne(ne({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"ad-accounts-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button"},n&&t.length<=16?{ad_account_id:t}:{}),s?{profile_id:t}:{}),o?{catalog_id:t}:{})):(w(ne(ne(ne({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"ad-accounts-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button"},n&&t.length<=16?{ad_account_id:t}:{}),s?{profile_id:t}:{}),o?{catalog_id:t}:{})),A({event_type:8965,component:13640,aux_data:ne(ne(ne({business_id:C},n&&t.length<=16?{ad_account_id:t}:{}),s?{profile_id:t}:{}),o?{catalog_id:t}:{})}))}),h&&h.length>0&&u&&T({inviteIds:h,invitedPeopleIdentifiers:u}),h&&0!==h.length||F(function(e){var t=e.hideToast;return(0,U.jsx)(tK.Z,{onHide:t})}),t.next=25;break;case 19:t.prev=19,t.t0=t.catch(0),i(),G(function(e){var n,r=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:r,text:(0,eM.dg)(null!=(n=(0,q.Z)(t.t0,"api_error_code"))?n:0,x),type:"error"})}),a=(null==(s=(0,q.Z)(eR,"stack"))?void 0:s.slice(0,4096))||(0,q.Z)(eR,"message")||"",(0,P.dK)(B)?k({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"ad-accounts-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(t.t0).slice(0,64),errorMessage:a}):(w({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"ad-accounts-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(t.t0).slice(0,64),errorMessage:a}),A({event_type:8966,component:13640,aux_data:{business_id:C,error_class:JSON.stringify(t.t0).slice(0,64),error_message:a}}));case 25:case"end":return t.stop()}},t,null,[[0,19]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){nt(o,r,s,a,i,"next",e)}function i(e){nt(o,r,s,a,i,"throw",e)}a(void 0)})})()},searchPlaceholder:x._('Business ad account name or ID', '[m10n]businessAccess.resourceAssignment.filterResourceListText', 'Filter resource list text field'),selectedOptionDetailsText:(0,eM.ms)(x),selectionCategories:eK,selectionOptions:e2,selectionPlaceholder:x._('Select a business to assign permissions', '[m10n]businessAccess.resourceAssignment.grantAccessToMessage', 'Select an ad account to assign permissions message. Shows when no role resource is selected'),subtext:eV,text:eY})};function ni(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function nl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nc(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nc(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nu=function(e){var t=e.selectedId,n=e.handleError,r=e.refreshData,s=e.resellerUserId,o=(0,(0,I.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,i=(0,S.u)().logContextEvent,l=(0,a.TH)(),c=(0,N.Z)(),u=(0,L.HU)().clearModal,f=(0,L.KJ)(),m=(0,L.KJ)(!0),h=f||m,p=(0,(0,y.g)().getParentHierarchyForIdIfExists)(h),b=null==p?void 0:p.id,A=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),x=(0,W.dI)(),E=x.showToast,T=x.showOneToast,C=nl((0,z.Z)(t1.M9,!0,h,v.cU,!1,s),3),O=C[0],j=C[1],w=C[2],D=nl((0,z.Z)(ty.cE,!0,{id:h,limit:v.xX,includeAssetSummary:!0}),3),k=D[0],B=D[1],M=D[2],H=nl((0,_.useState)(!1),2),Z=H[0],G=H[1];if(j||B)throw new d.zu("partnersWithAssetsError=".concat(j," adAccountsError=").concat(B),(0,eM.Jl)(c));var F=null==k?void 0:k.data.data.find(function(e){return e.asset_id===t}),Y=(null==F?void 0:F.permissions)||[],V=(null==F?void 0:F.asset.name)||"",X=(null==F?void 0:F.asset_id)||"",K=(null==O?void 0:O.filter(function(e){var t;return(null==(t=e.created_by_business)?void 0:t.id)===h}).map(function(e){var n=e.user,r=n.id,s=n.username;return{id:r,text:n.full_name,subtext:s,image:n.image_small_url,disabled:!!e.assets.find(function(e){return e.asset_id===t}),assignableRoles:(0,tJ.u)(Y,o)}}))||[];return(0,U.jsx)(tD.Z,{buttonLabel:(0,eM.hu)(c),counterTextFunction:function(e){return(0,R.nk)(c.ngettext('{{count}} partner selected', '{{count}} partners selected', e, '[m10n]businessAccess.principalAssignment.selectedPartners', 'Selected partners count.'),{count:e})},loading:w||M||Z,modalAccessibilityLabel:(0,eM.li)(c),modalTitle:(0,eM.Jl)(c),onSubmit:function(e){var s;(s=regeneratorRuntime.mark(function s(){var o,a;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,G(!0),s.next=4,(0,ty.oC)(h,Object.keys(e).map(function(n){return{assigneeIds:[n],adAccountIds:[t],permissions:e[n]}}),"PARTNER",b);case 4:r(),u(),(0,P.dK)(l)?A({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"partners-to-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:t}):i({event_type:8965,component:13640,aux_data:{business_id:h,ad_account_id:t}}),T(function(e){var t=e.hideToast;return(0,U.jsx)(tK.Z,{onHide:t})}),s.next=16;break;case 10:s.prev=10,s.t0=s.catch(0),n(),E(function(e){var t,n=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,eM.dg)(null!=(t=(0,q.Z)(s.t0,"api_error_code"))?t:0,c,!0),type:"error"})}),a=(null==(o=(0,q.Z)(s.t0,"stack"))?void 0:o.slice(0,4096))||(0,q.Z)(s.t0,"message")||"",(0,P.dK)(l)?A({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"partners-to-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(s.t0).slice(0,64),errorMessage:a}):i({event_type:8966,component:13640,aux_data:{business_id:h,error_class:JSON.stringify(s.t0).slice(0,64),error_message:a}});case 16:case"end":return s.stop()}},s,null,[[0,10]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var o=s.apply(e,t);function a(e){ni(o,n,r,a,i,"next",e)}function i(e){ni(o,n,r,a,i,"throw",e)}a(void 0)})})()},searchPlaceholder:c._('Search name', '[m10n]businessAccess.principalAssignment.filterPrincipalListText', 'Filter principal list text field'),selectedOptionDetailsText:(0,eM.ms)(c),selectionOptions:K,selectionPlaceholder:c._('Select a partner to assign permissions', '[m10n]businessAccess.principalAssignment.grantAccessToMessage', 'Select a partner to assign permissions message. Shows when no role partner is selected'),subtext:X,text:V})},nd=n(184587);function n_(e){return(n_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nf(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nm(Object(n),!0).forEach(function(t){np(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function np(e,t,n){var r;return(r=function(e,t){if("object"!=n_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=n_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n_(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ny(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ny(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ny(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nv=function(e){var t,n=e.selectedId,r=e.handleError,s=e.refreshData,o=e.isPendingAoaa,i=e.assetId,l=(0,(0,I.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,c=(0,S.u)().logContextEvent,u=(0,a.TH)(),m=(0,N.Z)(),h=(0,L.HU)().clearModal,p=(0,L.KJ)(),b=(0,L.KJ)(!0),A=p||b,x=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),E=(0,L.nU)(),T=(0,L.nU)(!0),C=E||T,O=(0,(0,y.g)().getParentHierarchyForIdIfExists)(A),j=null==O?void 0:O.id,w=(0,W.dI)(),D=w.showToast,k=w.showOneToast,B=(0,f.v9)((0,nd.PP)(C)),M=nb((0,z.Z)(function(e){return(0,tU.Qd)(tU.kH,nh(nh({},e),{},{id:A}))},!0,{id:A}),3),H=M[0],Z=M[1],G=M[2],F=nb((0,z.Z)(o?function(){return[null,null,null]}:ty.BG,!0,{businessId:A,assetId:C||i,MAX_FETCH_LIMIT:v.cU}),3),Y=F[0],V=F[1],X=F[2],K=nb((0,z.Z)(ty.cE,!0,{id:A,limit:v.xX,includeAssetSummary:!0}),3),$=K[0],J=K[1],ee=K[2],et=nb((0,_.useState)(!1),2),en=et[0],er=et[1];if(J||Z||V)throw new d.zu("adAccountsError=".concat(J," peopleError=").concat(Z," assetPeopleError=").concat(V),(0,eM.Jl)(m));var es=null==$?void 0:$.data.data.find(function(e){return e.asset_id===n}),eo=(null==es?void 0:es.permissions)||[],ea=o?(null==B?void 0:B.name)||"":(null==es?void 0:es.asset.name)||"",ei=(null==es?void 0:es.asset_id)||"",el=l?v.k_:v.hd,ec=(null==H||null==(t=H.data.data)?void 0:t.map(function(e){var t=e.user,n=t.id,r=t.username;return{id:n,text:t.full_name,subtext:r,image:t.image_small_url,disabled:o?!!(null!=B&&B.permissions.find(function(e){return Object.keys(e)[0]===n})):!!(null!=Y&&Y.data.data.find(function(e){return e.id===n})),assignableRoles:o?el:(0,tJ.u)(eo,l)}}))||[];return(0,U.jsx)(tD.Z,{buttonLabel:(0,eM.hu)(m),counterTextFunction:function(e){return(0,R.nk)(m.ngettext('{{count}} employee selected', '{{count}} employees selected', e, '[m10n]businessAccess.principalAssignment.selectedEmployee', 'Selected employee count.'),{count:e})},loading:ee||en||G||X,modalAccessibilityLabel:(0,eM.li)(m),modalTitle:(0,eM.Jl)(m),onSubmit:function(e){var t;(t=regeneratorRuntime.mark(function t(){var a,i,l,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,er(!0),!o){t.next=10;break}return a=nh({},e),B.permissions.forEach(function(e){var t=Object.keys(e)[0];a[t]=e[t]}),i=Object.keys(a).map(function(e){return np({},e,a[e])}),t.next=8,(0,tL.SA)({businessId:A,partnerId:B.client_business.id,requestId:C,businessHierarchyNodeId:j,businessIdToPermissions:i});case 8:t.next=12;break;case 10:return t.next=12,(0,ty.oC)(A,Object.keys(e).map(function(t){return{assigneeIds:[t],adAccountIds:[n],permissions:e[t]}}),"PEOPLE",j);case 12:s(),h(),(0,P.dK)(u)?x({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"people-to-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:n}):c({event_type:8965,component:13640,aux_data:{business_id:A,ad_account_id:n}}),k(function(e){var t=e.hideToast;return(0,U.jsx)(tK.Z,{onHide:t})}),t.next=24;break;case 18:t.prev=18,t.t0=t.catch(0),r(),D(function(e){var n,r=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:r,text:(0,eM.dg)(null!=(n=(0,q.Z)(t.t0,"api_error_code"))?n:0,m),type:"error"})}),d=(null==(l=(0,q.Z)(t.t0,"stack"))?void 0:l.slice(0,4096))||(0,q.Z)(t.t0,"message")||"",(0,P.dK)(u)?x({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"people-to-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(t.t0).slice(0,64),errorMessage:d,ad_account_id:n}):c({event_type:8966,component:13640,aux_data:{business_id:A,error_class:JSON.stringify(t.t0).slice(0,64),error_message:d}});case 24:case"end":return t.stop()}},t,null,[[0,18]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){nf(o,r,s,a,i,"next",e)}function i(e){nf(o,r,s,a,i,"throw",e)}a(void 0)})})()},searchPlaceholder:m._('Search name', '[m10n]businessAccess.principalAssignment.filterPrincipalListText', 'Filter principal list text field'),selectedOptionDetailsText:(0,eM.ms)(m),selectionOptions:ec,selectionPlaceholder:m._('Select an employee to assign permissions', '[m10n]businessAccess.principalAssignment.grantAccessToMessage', 'Select an employee to assign permissions message. Shows when no role person is selected'),subtext:ei,text:ea})};function nA(e){return(nA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ng(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function nS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nS(Object(n),!0).forEach(function(t){nE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nE(e,t,n){var r;return(r=function(e,t){if("object"!=nA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nA(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==nA(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nI(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nI(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nT=function(e){var t,n=e.selectedId,r=e.handleError,s=e.refreshData,o=e.isPendingAoaa,i=e.assetId,l=(0,(0,I.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,c=(0,S.u)().logContextEvent,u=(0,a.TH)(),m=(0,N.Z)(),h=(0,L.HU)().clearModal,p=(0,L.KJ)(),b=(0,L.KJ)(!0),A=p||b,x=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),E=(0,L.nU)(),T=(0,L.nU)(!0),C=E||T,O=(0,(0,y.g)().getParentHierarchyForIdIfExists)(A),j=null==O?void 0:O.id,w=(0,W.dI)(),D=w.showToast,k=w.showOneToast,B=(0,f.v9)((0,nd.PP)(C)),M=nP((0,z.Z)(function(e){return(0,tU.Qd)(tU.kH,nx(nx({},e),{},{id:A,fetchSystemUsers:!0}))},!0,{id:A,fetchSystemUsers:!0}),3),H=M[0],Z=M[1],G=M[2],F=nP((0,z.Z)(o?function(){return[null,null,null]}:ty.BG,!0,{businessId:A,assetId:C||i,MAX_FETCH_LIMIT:v.cU,fetchSystemUsers:!0}),3),Y=F[0],V=F[1],X=F[2],K=nP((0,z.Z)(ty.cE,!0,{id:A,limit:v.xX,includeAssetSummary:!0}),3),$=K[0],J=K[1],ee=K[2],et=nP((0,_.useState)(!1),2),en=et[0],er=et[1];if(J||Z||V)throw new d.zu("adAccountsError=".concat(J," systemUsersError=").concat(Z," assetSystemUsersError=").concat(V),(0,eM.Jl)(m));var es=null==$?void 0:$.data.data.find(function(e){return e.asset_id===n}),eo=(null==es?void 0:es.permissions)||[],ea=o?(null==B?void 0:B.name)||"":(null==es?void 0:es.asset.name)||"",ei=(null==es?void 0:es.asset_id)||"",el=l?v.k_:v.hd,ec=(null==H||null==(t=H.data.data)?void 0:t.map(function(e){var t=e.user,n=t.id;return{id:n,text:t.full_name,subtext:n,disabled:o?!!(null!=B&&B.permissions.find(function(e){return Object.keys(e)[0]===n})):!!(null!=Y&&Y.data.data.find(function(e){return e.id===n})),assignableRoles:o?el:(0,tJ.u)(eo,l)}}))||[];return(0,U.jsx)(tD.Z,{buttonLabel:(0,eM.hu)(m),counterTextFunction:function(e){return(0,R.nk)(m.ngettext('{{count}} system user selected', '{{count}} system users selected', e, '[m10n]businessAccess.principalAssignment.selectedSystemUser', 'Number of selected system users. count: the number of system users selected'),{count:e})},loading:ee||en||G||X,modalAccessibilityLabel:(0,eM.li)(m),modalTitle:(0,eM.Jl)(m),onSubmit:function(e){var t;(t=regeneratorRuntime.mark(function t(){var a,i,l,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,er(!0),!o){t.next=10;break}return a=nx({},e),B.permissions.forEach(function(e){var t=Object.keys(e)[0];a[t]=e[t]}),i=Object.keys(a).map(function(e){return nE({},e,a[e])}),t.next=8,(0,tL.SA)({businessId:A,partnerId:B.client_business.id,requestId:C,businessHierarchyNodeId:j,businessIdToPermissions:i});case 8:t.next=12;break;case 10:return t.next=12,(0,ty.oC)(A,Object.keys(e).map(function(t){return{assigneeIds:[t],adAccountIds:[n],permissions:e[t]}}),"SYSTEM_USERS",j);case 12:s(),h(),(0,P.dK)(u)?x({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"system-users-to-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:n}):c({event_type:8965,component:13640,aux_data:{business_id:A,ad_account_id:n}}),k(function(e){var t=e.hideToast;return(0,U.jsx)(tK.Z,{onHide:t})}),t.next=24;break;case 18:t.prev=18,t.t0=t.catch(0),r(),D(function(e){var n,r=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:r,text:(0,eM.dg)(null!=(n=(0,q.Z)(t.t0,"api_error_code"))?n:0,m),type:"error"})}),d=(null==(l=(0,q.Z)(t.t0,"stack"))?void 0:l.slice(0,4096))||(0,q.Z)(t.t0,"message")||"",(0,P.dK)(u)?x({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"system-user-to-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(t.t0).slice(0,64),errorMessage:d,ad_account_id:n}):c({event_type:8966,component:13640,aux_data:{business_id:A,error_class:JSON.stringify(t.t0).slice(0,64),error_message:d}});case 24:case"end":return t.stop()}},t,null,[[0,18]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){ng(o,r,s,a,i,"next",e)}function i(e){ng(o,r,s,a,i,"throw",e)}a(void 0)})})()},searchPlaceholder:m._('Search name', '[m10n]businessAccess.principalAssignment.filterPrincipalListText', 'Filter principal list text field'),selectedOptionDetailsText:(0,eM.ms)(m),selectionOptions:ec,selectionPlaceholder:m._('Select a system user to assign permissions', '[m10n]businessAccess.principalAssignment.grantAccessToMessage', 'Select a system user to assign permissions message. Shows when no role system user is selected'),subtext:ei,text:ea})},nC=n(343015);function nO(e){return(nO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nj(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=nO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nO(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nO(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nN(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nN(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nR(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function nD(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){nR(o,r,s,a,i,"next",e)}function i(e){nR(o,r,s,a,i,"throw",e)}a(void 0)})}}var nk=function(e){var t,n,r,s,o=e.selectedId,a=e.handleError,i=e.refreshData,l=e.assignmentType,c=(0,g.ZP)("BUSINESS_ACCESS_EMPLOYEE_CATALOGS"),u=(0,g.ZP)("BUSINESS_ACCESS_PARTNER_CATALOGS"),h=(0,N.Z)(),p=(0,L.KJ)(!0),b="PEOPLE"===l,y=(0,f.I0)(),A=(0,f.v9)(nC.Wb),S=b&&o&&A[o],x=(0,L.HU)().clearModal,E=(0,W.dI)().showOneToast,P=(t=nD(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout(function(){},2e3);case 2:return e.abrupt("return",{data:{data:[S]}});case 3:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),I=nw((0,z.Z)(b?P:t1.Eg,!0,{id:p,limit:v.xX}),3),T=I[0],C=I[1],O=I[2],j=nw((0,z.Z)(b?tU.kZ:t1.UC,!1,p,o,b?0:"CATALOG"),4),w=j[0],D=j[1],k=j[2],B=j[3];(0,_.useEffect)(function(){B&&(b?B(p,o,0):B(p,o,"CATALOG"))},[p,o]);var M=nw((0,z.Z)(function(e){return(0,t4.dF)(e,v.xX,void 0,function(e){var t=e.limit,n=e.startIndex;return(0,ty.jk)({id:p,limit:t,startIndex:n,includeAssetSummary:!0})})},!0,{id:p,limit:v.xX}),3),G=M[0],F=M[1],Y=M[2],V=nw((0,_.useState)(!1),2),q=V[0],Q=V[1],X=nw((0,_.useState)(!1),2),K=X[0],$=X[1],J=nw((0,_.useState)([]),2),ee=J[0],et=J[1],en=nw((0,_.useState)({}),2),er=en[0],es=en[1];if(C||D||F)throw new d.zu("detailsV4Error=".concat(C," detailAssetsError=").concat(D," ")+"catalogsError=".concat(F),(0,eM.GK)(h));var eo=null==T||null==(n=T.data)||null==(r=n.data)?void 0:r.find(function(e){return e.id===o}),ea=w||[],ei=(null==G||null==(s=G.data)?void 0:s.data)||[],el=ei.map(function(e){var t,n,r,s;return{id:null==(t=e.asset)?void 0:t.id,category:"catalog-".concat(null==(n=e.asset)?void 0:n.id),text:null==(r=e.asset)?void 0:r.name,subtext:(0,R.nk)(h._('ID: {{catalogId}}', '[m10n]businessAccess.modal.catalogs.assignment', 'Catalog assignment selection subtext, catalogId: Id of the catalog selection'),{catalogId:null==(s=e.asset)?void 0:s.id}).join(""),disabled:!!(null!=ea&&ea.find(function(t){var n;return t.asset_id===(null==(n=e.asset)?void 0:n.id)})),assignableRoles:(0,tJ.s)(e.permissions)}}),ec=(0,U.jsx)(m.zx,{color:"white",onClick:x,text:(0,H.I9)(h)});if(K){var ed=h._('Back', '[m10n]bizAccess.catalogs.assignCatalogModal.cancelButtonText', 'Button label for cancel'),e_=h._('Assign catalog modal', '[m10n]bizAccess.catalogs.assignCatalogModal.a11yLabel', 'accessibility label for the assign catalog modal'),ef=h._('Assign access', '[m10n]bizAccess.catalogs.assignCatalogModal.assignAccessButtonLabel', 'Label of button to assign access to a catalog'),em=h._('Review your assignment', '[m10n]bizAccess.catalogs.assignCatalogModal.assignAccessButtonLabel', 'Title of modal to assign access to a catalog'),eh=ee.filter(function(e){return e.permissions.includes("CATALOGS_VIEWER")}),ep=ee.filter(function(e){return e.permissions.includes("CATALOGS_MANAGER")}),eb=(0,R.nk)(h.ngettext('You will assign {{detailName}} {{adminCatalogs}} catalog with Catalog admin access', 'You will assign {{detailName}} {{adminCatalogs}} catalogs with Catalog admin access', ep.length, '[m10n]bizAccess.catalogs.assignCatalogModal.catalogAdminConfirmationText.withId', 'Confirmation text for assignming employees to a catalog, adminCatalogs: number of selected catalogs with admin access, detailName: name of the partner or employee getting the permissions'),{adminCatalogs:ep.length,detailName:null==eo?void 0:eo.user.full_name}),ey=(0,R.nk)(h.ngettext('You will assign {{detailName}} {{viewerCatalogs}} catalog with Catalog viewer access', 'You will assign {{detailName}} {{viewerCatalogs}} catalogs with Catalog viewer access', eh.length, '[m10n]bizAccess.catalogs.assignCatalogModal.catalogAdminConfirmationText.withId', 'Confirmation text for assignming employees to a catalog, viewerCatalogs: number of selected catalogs with viewer access, detailName: name of the partner or employee getting the permissions'),{viewerCatalogs:eh.length,detailName:null==eo?void 0:eo.user.full_name});return(0,U.jsxs)(Z.Z,{accessibilityLabel:e_,cancelText:ed,footerSecondaryContent:ec,onCancel:function(){return $(!1)},primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"assign-catalog-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:0===el.length&&0===ee.length,onClick:function(){try{Q(!0);var e=Object.keys(er);b?((0,ty.oC)(p,e.map(function(e){return{assigneeIds:[o],adAccountIds:[e],permissions:er[e]}}),b?"PEOPLE":"PARTNER"),y((0,tl.TM)({employeeId:o,addedCatalogs:ei.filter(function(t){var n,r;return e.includes(null!=(n=null==t||null==(r=t.asset)?void 0:r.id)?n:"")}).map(function(e){var t,n,r,s;return nz(nz({},e),{},{permissions:er[null!=(t=null==e||null==(n=e.asset)?void 0:n.id)?t:""].includes("CATALOGS_MANAGER")?["CATALOGS_MANAGER"]:er[null!=(r=null==e||null==(s=e.asset)?void 0:s.id)?r:""]})})})),Object.keys(er).map(function(e){return c({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"catalogs-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",catalog_id:e})})):(nD(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,ty.oC)(p,e.map(function(e){return{assigneeIds:[o],adAccountIds:[e],permissions:er[e]}}),b?"PEOPLE":"PARTNER");case 2:y((0,eu.Kb)({businessId:p,detailId:o,partnerType:"INTERNAL"}));case 3:case"end":return t.stop()}},t)}))(),Object.keys(er).map(function(e){return u({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"catalogs-to-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",catalog_id:e})})),i(),x(),E(function(e){var t=e.hideToast;return(0,U.jsx)(tK.Z,{onHide:t})})}catch(e){a()}},size:"lg",text:ef})}),size:"sm",title:em,children:[ep.length>0&&(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.aV,{label:eb.join(""),type:"unordered",children:ep.map(function(e){return(0,U.jsx)(m.aV.Item,{text:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:e.name})},e.id)})})}),eh.length>0&&(0,U.jsx)(m.xu,{marginTop:ep.length>0?2:void 0,children:(0,U.jsx)(m.aV,{label:ey.join(""),type:"unordered",children:eh.map(function(e){return(0,U.jsx)(m.aV.Item,{text:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:e.name})},e.id)})})})]})}return(0,U.jsx)(tD.Z,{buttonLabel:(0,eM.mg)(h),counterTextFunction:function(e){return(0,R.nk)(h.ngettext('{{count}} catalog selected', '{{count}} catalogs selected', e, '[m10n]businessAccess.resourceAssignment.selectedCatalogs', 'Selected catalogs count, count: number of selected catalogs'),{count:e})},footerSecondaryContent:ec,isCatalogAccessAssignmentModal:!0,loading:O||k||Y||q,modalAccessibilityLabel:(0,eM.kH)(h),modalHeight:528,modalSize:"lg",modalSubtitle:b?h._('Select catalogs and assign employee permissions', '[m10n]bizAccess.assignCatalog.employee.subtitle', 'Assign catalog modal subtitle'):h._('Select catalogs and assign partner permissions', '[m10n]bizAccess.assignCatalog.partner.subtitle', 'Assign catalog modal subtitle'),modalTitle:(0,R.nk)((0,eM.GK)(h),{detailName:null==eo?void 0:eo.user.full_name}).join(""),onSubmit:function(e){et(el.filter(function(t){var n;return!!(null!=(n=e[t.id])&&n.length)}).map(function(t){return nz(nz({},t),{},{permissions:e[t.id],name:t.text})})),es(e),$(!0)},searchPlaceholder:h._('Search catalogs', '[m10n]businessAccess.resourceAssignment.filterResourceListText', 'Filter resource list text field'),selectedOptionDetailsText:(0,eM.uc)(h),selectionOptions:el,selectionPlaceholder:h._('Select a catalog to assign permissions', '[m10n]businessAccess.resourceAssignment.grantAccessToMessage', 'Select a catalog to assign permissions message. Shows when no role resource is selected')})},nL=n(196090),nU=function(e){var t=e.dataToRefresh,n=e.selectedIds,r=e.selectionType,s=e.assignmentType,o=e.inviteIds,a=e.roleType,i=e.peopleIdentifiers,l=e.showProfiles,c=e.resellerUserId,u=e.showCatalogs,d=(0,I.Z)(),_=(0,N.Z)(),m=(0,W.dI)().showToast,h=(0,f.I0)(),p=(0,L.KJ)(),b=(0,L.KJ)(!0),y=p||b,A=(0,L.nU)(),g=(0,L.nU)(!0),S=A||g,x=(0,f.v9)(t2.t_),E=(0,L.HU)().clearModal,P=(0,tX.Z)(y,S),T=function(){y&&("PENDING_PEOPLE_LIST"===t&&h((0,t0.R)(x,"MEMBER",y)),"PEOPLE_LIST"===t&&h((0,ed.JC)({businessId:y,detailId:S})),"PARTNER_INVITE"===t&&h((0,nL.H7)()),S&&("HIERARCHY_AD_ACCOUNT_DETAILS_EMPLOYEES"===t&&(h((0,eH.Q3)({businessId:y,detailId:S})),h((0,ei.yX)({businessId:y,detailId:S,updateDataOnly:!0}))),"HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"===t&&h((0,eH.yX)({businessId:y,detailId:S})),"HIERARCHY_EMPLOYEE_DETAILS_AD_ACCOUNTS"===t&&(null==P||P()),"PEOPLE"===t&&h((0,ed.UQ)({businessId:y,detailId:S,includeAssetSummary:!0,assetPermissionType:0,experimentsClient:d})),"PARTNER"===t&&h((0,eu.ek)({businessId:y,detailId:S,experimentsClient:d})),"AD_ACCOUNT_PEOPLE"===t&&h((0,ei.Q3)({businessId:y,detailId:S})),"AD_ACCOUNT_SYSTEM_USERS"===t&&h((0,ei.P5)({businessId:y,detailId:S})),"AD_ACCOUNT_PARTNER"===t&&h((0,ei.yX)({businessId:y,detailId:S})),"AOAA_REQUEST_DETAIL_PAGE"===t&&h((0,tk.vm)({businessId:y,updateDataOnly:!1,updateDetailPageVisibleData:!0,requestIds:[S]}))))},C=function(){m(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,H.sQ)(_),type:"error"})}),E()};return r===v.c7.AD_ACCOUNT?"PEOPLE"===s?(0,U.jsx)(na,{handleError:C,inviteIds:o||[],peopleIdentifiers:i,refreshData:T,roleType:a,selectedIds:n,showCatalogs:u,showProfiles:l}):(0,U.jsx)(t8,{handleError:C,inviteId:o&&o[0],refreshData:T,roleType:a,selectedId:n[0]}):r===v.c7.CATALOG?(0,U.jsx)(nk,{assignmentType:s,handleError:C,refreshData:T,roleType:a,selectedId:n[0]}):r===v.c7.SYSTEM_USER?(0,U.jsx)(nT,{assetId:n[0],handleError:C,isPendingAoaa:"AOAA_REQUEST_DETAIL_PAGE"===t,refreshData:T,selectedId:n[0]}):r===v.c7.PERSON?(0,U.jsx)(nv,{assetId:n[0],handleError:C,isPendingAoaa:"AOAA_REQUEST_DETAIL_PAGE"===t,refreshData:T,selectedId:n[0]}):(0,U.jsx)(nu,{handleError:C,refreshData:T,resellerUserId:c,selectedId:n[0]})};function nB(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function nM(e){return function(e){if(Array.isArray(e))return nG(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nZ(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||nZ(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nZ(e,t){if(e){if("string"==typeof e)return nG(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nG(e,t):void 0}}function nG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nF=function(e){var t=e.selectedId,n=e.handleError,r=e.refreshData,s=e.inviteId,o=(0,S.u)().logContextEvent,a=(0,N.Z)(),i=(0,f.I0)(),l=(0,L.KJ)(!0),c=(0,f.v9)(t2.t_),u=(0,L.HU)(),h=u.setAddPartnerInviteConfirmationModal,p=u.clearModal,b=(0,g.ZP)("BUSINESS_ACCESS_PARTNER_DETAIL_AD_ACCOUNTS"),y=(0,W.dI)(),A=y.showToast,x=y.showOneToast,E=(0,(0,I.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,P=nH((0,z.Z)(t1.Eg,!0,{id:l,limit:v.xX}),3),T=P[0],C=P[1],O=P[2],j=v.xX,w=nH((0,z.Z)(t1.SB,!1,l,t,j),4),k=w[0],B=w[1],M=w[2],H=w[3];(0,_.useEffect)(function(){s||H(l,t)},[l,t,s]);var Z=nH((0,z.Z)(ty.cE,!0,{id:l,limit:v.xX,forPartner:!0,includeAssetSummary:!0}),3),G=Z[0],F=Z[1],Y=Z[2],V=nH((0,z.Z)(function(e){return(0,t4.dF)(e,v.cU,void 0,function(e){var t=e.limit,n=e.startIndex;return(0,ty.jk)({id:l,limit:t,startIndex:n,includeAssetSummary:!0})})},!0,{id:l,limit:v.cU}),3),X=V[0],K=V[1],$=V[2],J=nH((0,z.Z)(D.b,!0,l),3),ee=J[0],et=J[1],en=J[2],er=(0,eG.Z)().path.includes(":userBizId/partners/pending"),es=(0,eX.Z)("partnerInvite",null!=s?s:"",!!s,!0),eo=nH(s?es:[void 0,void 0,void 0],3),ea=eo[0],ei=eo[1],el=eo[2],ec=nH((0,_.useState)(!1),2),eu=ec[0],ed=ec[1];if(C||B||F||ei||et||K)throw new d.zu("partnersV4Error=".concat(C," partnerAssetsError=").concat(B," ")+"adAccountsError=".concat(F," inviteError=").concat(ei||""," catalogsError=").concat(K||""),(0,eM.BL)(a));var e_=O||M||Y||eu||el||en||$,ef=null==T?void 0:T.data.data.find(function(e){return e.id===t}),em=null==k?void 0:k.data,eh=(null==G?void 0:G.data.data)||[],ep=(null==X?void 0:X.data.data)||[],eb=(null==ef?void 0:ef.user.full_name)||(null==ea?void 0:ea.extended_user_info.full_name)||"",ey=a._('Partner', '[m10n]bizAccess.partners.role', 'Partners business role'),ev=(0,U.jsx)(m.qE,{name:eb,size:"md",src:(null==ef?void 0:ef.user.image_medium_url)||(null==ea?void 0:ea.extended_user_info.image_small_url)}),eA=[{id:l,text:(null==ee?void 0:ee.full_name)||"",subtext:a._('Your business', '[m10n]businessAccess.resourceAssignment.yourBusinessText', 'Text to show in case the owner owns the business'),level:0},{id:"".concat(l,"-ad-accounts"),text:a._('Ad accounts', '[m10n]businessAccess.resourceAssignment.adAccounts', 'Text to show to group ad accounts'),level:1}];E&&eA.push({id:"".concat(l,"-catalogs"),text:a._('Catalogs', '[m10n]businessAccess.resourceAssignment.Catalogs', 'Text to show to group catalogs'),level:1});var eg=E?ep.map(function(e){var t=e.asset,n=t.id,r=t.name,s=e.owner.full_name,o=e.permissions;return{id:n,text:r,subtext:n,extendedSubtext:(0,U.jsx)(t$,{creator:s,id:n,roles:o}),category:"".concat(l,"-catalogs"),disabled:!!(null!=em&&em.find(function(e){return e.id===n})),assignableRoles:(0,tJ.s)(o),level:1}}):[],eS=eh.filter(function(e){return!e.client_business}).map(function(e){var t=e.asset,n=t.id,r=t.name,s=e.created_by.full_name,o=e.permissions;return{id:n,text:r,subtext:n,extendedSubtext:(0,U.jsx)(t$,{creator:s,id:n,permissions:o}),disabled:!!(null!=em&&em.find(function(e){return e.asset_id===n})),assignableRoles:(0,tJ.u)(o,E),category:"".concat(l,"-ad-accounts"),level:1}}),ex=[].concat(nM(eg),nM(eS));ex.push({id:"".concat(l,"-profile"),text:a._('Profile', '[m10n]businessAccess.resourceAssignment.profiles', 'Text to show to select a business profile permission settings'),disabled:!1,assignableRoles:["PROFILE_PUBLISHER"],category:l,level:0});var eE=E?a._('Select assets that you would like to assign to your partner', '[m10n]businessAccess.resourceAssignment.grantAssetAccessToMessageV2', 'Select a asset to assign permissions message. Shown when no role resource is selected'):a._('Select a profile or ad account to assign permissions', '[m10n]businessAccess.resourceAssignment.grantAssetAccessToMessage', 'Select a profile or ad account to assign permissions message. Shown when no role resource is selected');return(0,U.jsx)(tD.Z,{buttonLabel:(0,eM.hu)(a),cancelText:s?a._('Skip for now', '[m10n]bizAccess.invite.adAccounts.skip', 'Text to skip requesting ad account step'):a._('Cancel', '[m10n]bizAccess.invite.adAccounts.cancel', 'Text to cancel requesting ad account'),counterTextFunction:function(e){return(0,R.nk)(a.ngettext('{{count}} asset selected', '{{count}} assets selected', e, '[m10n]businessAccess.resourceAssignment.selectedAssets', 'Selected assets count. count:number of assets selected'),{count:e})},footerSecondaryContent:s?(0,U.jsx)(m.xv,{color:"subtle",size:"200",children:a._('Step 2 of 2', '[m10n]bizAccess.addPartner.modal.steps.second', 'Label to identify the current step, second, on add a partner flow')}):null,hasSelectionTreeCategories:!0,image:ev,loading:e_,modalAccessibilityLabel:(0,eM.li)(a),modalTitle:(0,eM.BL)(a),onDismiss:s?function(){h({selectedId:t,role:v.uE.PARTNER,inviteId:s||""})}:null,onSubmit:function(e){var u;(u=regeneratorRuntime.mark(function u(){var d,_,f;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,d=Object.keys(e).reduce(function(t,n){var r=n.match(/\d+/g);return t[r?r[0]:""]=e[n],t},{}),ed(!0),!s){u.next=7;break}return u.next=6,(0,ty.ib)(l,d,[s],"PARTNER");case 6:er&&i((0,t0.R)(c,"PARTNER",l));case 7:r(),Object.keys(eh).forEach(function(e){b({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"assets-to-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:e}),o({event_type:8965,component:13640,aux_data:{business_id:l,ad_account_id:e}})}),s?h({selectedId:t,role:v.uE.PARTNER,inviteId:s}):(p(),x(function(e){var t=e.hideToast;return(0,U.jsx)(tK.Z,{onHide:t})})),u.next=18;break;case 12:u.prev=12,u.t0=u.catch(0),n(),A(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:a._('Sorry! Something went wrong.', '[m10n]businessAccess.principalAssignment.error.toast', 'Error toast informing user that the asset assignment has failed.'),type:"error"})}),b({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"assets-to-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(u.t0).slice(0,64),errorMessage:(null==(_=(0,q.Z)(u.t0,"stack"))?void 0:_.slice(0,4096))||(0,q.Z)(u.t0,"message")||""}),o({event_type:8966,component:13640,aux_data:{business_id:l,error_class:JSON.stringify(u.t0).slice(0,64),error_message:(null==(f=(0,q.Z)(u.t0,"stack"))?void 0:f.slice(0,4096))||(0,q.Z)(u.t0,"message")||""}});case 18:case"end":return u.stop()}},u,null,[[0,12]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var s=u.apply(e,t);function o(e){nB(s,n,r,o,a,"next",e)}function a(e){nB(s,n,r,o,a,"throw",e)}o(void 0)})})()},searchPlaceholder:a._('Search ad accounts', '[m10n]businessAccess.resourceAssignment.filterResourceListText', 'Filter resource list text field'),selectedOptionDetailsText:(0,eM.ms)(a),selectionCategories:eA,selectionOptions:ex,selectionPlaceholder:eE,subtext:ey,text:eb})},nY=function(e){var t=(0,N.Z)(),n=e.selectedIds,r=e.inviteId,s=e.dataToRefresh,o=(0,W.dI)().showToast,a=(0,f.I0)(),i=(0,L.KJ)(),l=(0,L.HU)().clearModal;return(0,U.jsx)(nF,{handleError:function(){o(function(e){var n=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,H.sQ)(t),type:"error"})}),l()},inviteId:r,refreshData:function(){i&&"PARTNER_INVITE"===s&&a((0,nL.H7)())},selectedId:n[0]})},nV=function(e){var t=e.segmentType,n=(0,N.Z)(),r={EMPLOYEE:n._('Employees who are assigned catalog access must also have access to at least one ad account in order to utilize catalogs.', '[m10n]bizAccess.catalogAssignment.info.banner', 'Info banner for catalog assignment'),PARTNER:n._('Partners who are assigned catalog access must also have access to at least one ad account in order to utilize catalogs.', '[m10n]bizAccess.catalogAssignment.info.banner', 'Info banner for catalog assignment'),SYSTEM_USER:n._('System users who are assigned catalog access must also have access to at least one ad account in order to utilize catalogs.', '[m10n]bizAccess.catalogAssignment.info.banner', 'Info banner for catalog assignment')},s=(0,U.jsx)(m.xv,{children:r[void 0===t?"PARTNER":t]});return(0,U.jsx)(m.xu,{marginEnd:3,marginStart:3,marginTop:3,children:(0,U.jsx)(m.ci,{message:s,type:"info"})})};function nq(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function nQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||nW(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nW(e,t){if(e){if("string"==typeof e)return nX(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nX(e,t):void 0}}function nX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nK=function(e){var t,n,r,s,o,a,i,l,c,u,h,p,b,A,g,S,x=e.restrictedAssignmentType,E=e.catalogFromProps,P=(0,N.Z)(),I=(0,W.dI)().showToast,T=(0,f.I0)(),C=(0,y.g)().getParentHierarchyForIdIfExists,O=(0,L.KJ)(!0),j=C(O),w=null==j?void 0:j.id,D=(0,f.v9)(eb.Rf),k=E||D,B=k.name||(null==(n=k.asset)?void 0:n.name)||"",M=k.id||(null==(r=k.asset)?void 0:r.id),G=(0,R.nk)(P._('Assign catalog access to {{ catalogName }}', '[m10n]bizAccess.catalogs.assignCatalogModal.title', 'Title of modal to assign catalog access to a user, catalogName: name of catalog'),{catalogName:B}),F=(0,L.HU)().clearModal,Y=nQ((0,_.useState)(null!=x?x:"EMPLOYEE"),2),V=Y[0],q=Y[1],Q=nQ((0,_.useState)([]),2),X=Q[0],K=Q[1],$=nQ((0,_.useState)(""),2),J=$[0],ee=$[1],et=nQ((0,_.useState)([]),2),en=et[0],er=et[1],es=nQ((0,_.useState)(""),2),eo=es[0],ea=es[1],ei=nQ((0,_.useState)([]),2),el=ei[0],eu=ei[1],ed=nQ((0,_.useState)(""),2),e_=ed[0],ef=ed[1],em=nQ((0,_.useState)(!1),2),eh=em[0],ep=em[1],ey=nQ((0,_.useState)(!1),2),ev=ey[0],eA=ey[1],eg=nQ((0,_.useState)(!1),2),eS=eg[0],ex=eg[1],eE=nQ((0,_.useState)(""),2),eP=eE[0],eI=eE[1],eT=nQ((0,_.useState)(""),2),eC=eT[0],eO=eT[1],ej=nQ((0,_.useState)(""),2),ez=ej[0],ew=ej[1],eN=nQ((0,_.useState)(!1),2),eR=eN[0],eD=eN[1],ek=function(){return[]},eL=nQ((0,z.Z)("EMPLOYEE"!==x?ek:ty.BG,!0,{businessId:O,assetId:M,MAX_FETCH_LIMIT:v.cU}),3),eU=eL[0],eB=eL[1],eH=eL[2],eZ=nQ((0,z.Z)(tU.kH,!0,{id:O,limit:v.cU}),3),eG=eZ[0],eF=eZ[1],eY=eZ[2],eV=nQ((0,z.Z)(tU.kH,!0,O?{id:O,limit:v.cU,fetchSystemUsers:!0}:null),3),eq=eV[0],eQ=eV[1],eW=eV[2],eX=nQ((0,z.Z)("PARTNER"!==x?ek:t1.UC,!0,O,v.cU,"CATALOG"),3),eK=eX[0],e$=eX[1],eJ=eX[2];if(eF||eB||e$||eQ)throw new d.zu("peopleError=".concat(eF," assetPeopleError=").concat(eB," assetPartnerError=").concat(e$," systemUserError=").concat(eQ),G.join(""));var e0=(null==eq||null==(s=eq.data.data)?void 0:s.map(function(e){var t,n=e.user,r=n.id;return{id:r,text:n.full_name,subtext:r,image:n.image_small_url,disabled:!!(null!=eU&&null!=(t=eU.data)&&t.data.find(function(e){return e.id===r})),assignableRoles:(0,tJ.s)(k.permissions)}}))||[],e1=(null==eG||null==(o=eG.data.data)?void 0:o.map(function(e){var t,n=e.user,r=n.id,s=n.full_name,o=n.image_small_url;return{id:r,text:s,subtext:n.email,image:o,disabled:!!(null!=eU&&null!=(t=eU.data)&&t.data.find(function(e){return e.id===r})),assignableRoles:(0,tJ.s)(k.permissions)}}))||[],e2=(null==eK?void 0:eK.filter(function(e){var t;return(null==(t=e.created_by_business)?void 0:t.id)===O}).map(function(e){var t=e.user,n=t.id,r=t.full_name,s=t.image_small_url,o=e.assets;return{id:n,text:r,subtext:(0,R.nk)(P._('ID: {{id}}', '[m10n]bizAccess.catalogs.assignCatalogModal.partner.id', 'id of partner id: partner id'),{id:n}),image:s,disabled:!!o.find(function(e){return e.asset_id===M}),assignableRoles:(0,tJ.s)(k.permissions)}}))||[],e5=null!=(a=({EMPLOYEE:eP,PARTNER:eC,SYSTEM_USER:ez})[V])?a:"",e6=null!=(i=({EMPLOYEE:eI,PARTNER:eO,SYSTEM_USER:ew})[V])?i:function(){},e3=null!=(l=({EMPLOYEE:X,PARTNER:en,SYSTEM_USER:el})[V])?l:[],e8=null!=(c=({EMPLOYEE:K,PARTNER:er,SYSTEM_USER:eu})[V])?c:K,e4=null!=(u=({EMPLOYEE:J,PARTNER:eo,SYSTEM_USER:e_})[V])?u:"",e7=null!=(h=({EMPLOYEE:ee,PARTNER:ea,SYSTEM_USER:ef})[V])?h:function(){},e9=null!=(p=({EMPLOYEE:eh,PARTNER:ev,SYSTEM_USER:eS})[V])&&p,te=null!=(b=({EMPLOYEE:ep,PARTNER:eA,SYSTEM_USER:ex})[V])?b:function(){},tt=null!=(A=({EMPLOYEE:e1,PARTNER:e2,SYSTEM_USER:e0})[V])?A:[],tr=(null==(g=tt[0])?void 0:g.assignableRoles)||[],ts=tt.filter(function(e){return!e.disabled}),to=0===ts.length,ta=P._('Search employees', 'm10n]bizAccess.catalogs.assignCatalogModal.searchEmployeesPlaceholder', 'Search employees placeholder'),ti=P._('Search System Users', 'm10n]bizAccess.catalogs.assignCatalogModal.searchSystemUsersPlaceholder', 'Search System User placeholder'),tl=P._('Assign catalog modal', '[m10n]bizAccess.catalogs.assignCatalogModal.a11yLabel', 'accessibility label for the assign catalog modal'),tc=P._('Select members and their permission to assign them access', '[m10n]bizAccess.catalogs.assignCatalogModal.subtitle', 'Subtitle of modal to assign catalog access to a user.'),tu={EMPLOYEE:P._('Select employees and their permission to assign them access', '[m10n]bizAccess.catalogs.assignCatalogModal.subtitleEmployees', 'Subtitle of modal to assign catalog access to a user.'),PARTNER:P._('Select partners and their permission to assign them access', '[m10n]bizAccess.catalogs.assignCatalogModal.subtitlePartners', 'Subtitle of modal to assign catalog access to a user.'),SYSTEM_USER:P._('Select system users and their permission to assign them access', '[m10n]bizAccess.catalogs.assignCatalogModal.subtitleSystemUsers', 'Subtitle of modal to assign catalog access to a system user.')},td=x?tu[x]:"",t_=P._('Review assignment', '[m10n]bizAccess.catalogs.assignCatalogModal.primaryButtonText', 'Button label for review assignment'),tf=P._('Back', '[m10n]bizAccess.catalogs.assignCatalogModal.cancelButtonText', 'Button label for cancel'),tm=[P._('Employees', '[m10n]bizAccess.catalogs.assignCatalogModal.employeesSegment', 'Label for employees segment'),P._('Partners', '[m10n]bizAccess.catalogs.assignCatalogModal.partnersSegment', 'Label for partners segment'),P._('System Users', '[m10n]bizAccess.catalogs.assignCatalogModal.systemUsersSegment', 'Label for system users segment')],th=P._('Search partners', 'm10n]bizAccess.catalogs.assignCatalogModal.searchPartnersPlaceholder', 'Search partners placeholder'),tp=P._('Catalog admin', 'm10n]bizAccess.catalogs.assignCatalogModal.catalogsManagerLabel', 'Description of catalogs manager permission label'),tb=P._('Catalog ad creator', 'm10n]bizAccess.catalogs.assignCatalogModal.catalogsViewerLabel', 'Description of catalogs viewer permission label'),tv=P._('Can create, edit and delete product groups and data sources in the catalog, as well as create ads using product groups in the catalog', 'm10n]bizAccess.catalogs.assignCatalogModal.catalogsManagerText', 'Description of catalogs manager permission'),tA=P._('Can create ads using product groups in the catalog and view the catalog\'s details', 'm10n]bizAccess.catalogs.assignCatalogModal.catalogsViewerText', 'Description of catalogs viewer permission'),tg=P._('Partial access', 'm10n]bizAccess.catalogs.assignCatalogModal.partialAccessText', 'Partial access section title'),tS=P._('Select all', 'm10n]bizAccess.catalogs.assignCatalogModal.selectAllLabel', 'Select all checkbox label'),tx=(0,R.nk)(P._('You will assign {{ count }} employee(s) {{ permissionLabel }} permission to {{ catalogName }}', '[m10n]bizAccess.catalogs.assignCatalogModal.employeesConfirmationText', 'Confirmation text for assigning employees to a catalog, count: number of selected employees, permissionLabel: permission name, catalogName: name of catalog'),{count:X.length,permissionLabel:"CATALOGS_MANAGER"===J?tp:tb,catalogName:B}),tE=(0,R.nk)(P._('You will assign {{ count }} partner(s) {{ permissionLabel }} permission to {{ catalogName }}', '[m10n]bizAccess.catalogs.assignCatalogModal.partnersConfirmationText', 'Confirmation text for assigning partners to a catalog, count: number of selected partners, permissionLabel: permission name, catalogName: name of catalog'),{count:en.length,permissionLabel:"CATALOGS_MANAGER"===eo?tp:tb,catalogName:B}),tP=(0,R.nk)(P._('You will assign {{ count }} system user(s) {{ permissionLabel }} permission to {{ catalogName }}', '[m10n]bizAccess.catalogs.assignCatalogModal.systemUsersConfirmationText', 'Confirmation text for assigning system users to a catalog, count: number of selected system users, permissionLabel: permission name, catalogName: name of catalog'),{count:el.length,permissionLabel:"CATALOGS_MANAGER"===e_?tp:tb,catalogName:B}),tI=(0,R.nk)(P._('You will assign {{ count }} employee(s) {{ permissionLabel }} permission to {{ catalogName }} (Catalog ID: {{catalogId}})', '[m10n]bizAccess.catalogs.assignCatalogModal.employeesConfirmationText.withId', 'Confirmation text for assigning employees to a catalog, count: number of selected employees, permissionLabel: permission name, catalogName: name of catalog, catalogId: id of catalog'),{count:X.length,permissionLabel:"CATALOGS_MANAGER"===J?tp:tb,catalogName:B,catalogId:M}),tT=(0,R.nk)(P._('You will assign {{ count }} partner(s) {{ permissionLabel }} permission to {{ catalogName }} (Catalog ID: {{catalogId}})', '[m10n]bizAccess.catalogs.assignCatalogModal.partnersConfirmationText.withId', 'Confirmation text for assigning partners to a catalog, count: number of selected partners, permissionLabel: permission name, catalogName: name of catalog, catalogId: id of catalog'),{count:en.length,permissionLabel:"CATALOGS_MANAGER"===eo?tp:tb,catalogName:B,catalogId:M}),tC=(0,R.nk)(P._('You will assign {{ count }} system user(s) {{ permissionLabel }} permission to {{ catalogName }} (Catalog ID: {{catalogId}})', '[m10n]bizAccess.catalogs.assignCatalogModal.systemUsersConfirmationText.withId', 'Confirmation text for assigning system users to a catalog, count: number of selected system users, permissionLabel: permission name, catalogName: name of catalog, catalogId: id of catalog'),{count:el.length,permissionLabel:"CATALOGS_MANAGER"===e_?tp:tb,catalogName:B,catalogId:M}),tO=P._('Assign access', '[m10n]bizAccess.catalogs.assignCatalogModal.assignAccessButtonLabel', 'Label of button to assign access to a catalog'),tj=P._('Confirm your assignment', '[m10n]bizAccess.catalogs.assignCatalogModal.assignAccessButtonLabel', 'Title of modal to assign access to a catalog'),tz=(0,U.jsx)(m.zx,{color:"white",onClick:F,text:(0,H.I9)(P)}),tw=null!=(S=({EMPLOYEE:ta,PARTNER:th,SYSTEM_USER:ti})[V])?S:"",tN=tt.filter(function(e){return""===e5||e.id===e5||e.text.toLowerCase().includes(e5.toLowerCase())}),tR={backgroundColor:"#f9f9f9",borderColoer:"#e9e9e9"};return eR?(0,U.jsx)(Z.Z,{accessibilityLabel:tl,cancelText:tf,footerSecondaryContent:tz,onCancel:function(){return eD(!1)},primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"assign-catalog-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:0===X.length&&0===en.length||X.length>0&&""===J||en.length>0&&""===eo,onClick:(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(e4&&e3.length>0&&M)){e.next=5;break}return e.next=4,(0,ty.oC)(O,e3.map(function(e){return{assigneeIds:[e],adAccountIds:[M],permissions:[e4]}}),"EMPLOYEE"===V?"PEOPLE":"PARTNER",w);case 4:"EMPLOYEE"===V?T((0,ec.VS)({businessId:O})):T((0,ec.ke)({businessId:O}));case 5:F(),I(function(e){var t=e.hideToast;return(0,U.jsx)(tn.FN,{duration:v.QE,onHide:t,text:(0,eM.Hp)(P),type:"success"})}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),I(function(e){var t=e.hideToast;return(0,U.jsx)(tn.FN,{duration:v.QE,onHide:t,text:(0,H.sQ)(P),type:"error"})});case 12:case"end":return e.stop()}},e,null,[[0,9]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){nq(o,r,s,a,i,"next",e)}function i(e){nq(o,r,s,a,i,"throw",e)}a(void 0)})}),size:"lg",text:tO})}),size:"sm",title:tj,children:(0,U.jsxs)(m.xu,{children:[X.length>0&&""!==J&&(0,U.jsx)(m.xv,{children:x?tI:tx}),en.length>0&&""!==eo&&(0,U.jsx)(m.xv,{children:x?tT:tE}),el.length>0&&""!==e_&&(0,U.jsx)(m.xv,{children:x?tC:tP})]})}):(0,U.jsx)(Z.Z,{accessibilityLabel:tl,cancelText:tf,footerSecondaryContent:tz,hideCancelAction:!!x,primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"assign-catalog-review-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:0===X.length&&0===en.length&&0===el.length||X.length>0&&""===J||en.length>0&&""===eo||el.length>0&&""===e_,onClick:function(){eD(!0)},size:"lg",text:t_})}),size:"lg",subtitle:x?td:tc,title:G,children:eH||eY||eJ||eW?(0,U.jsx)(m.kC,{alignItems:"stretch",direction:"column",height:600,justifyContent:"center",width:"100%",children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(P),show:!0})}):(0,U.jsxs)(m.xu,{children:[!x&&(0,U.jsx)(m.sY,{items:tm,onChange:function(e){var t=["EMPLOYEE","PARTNER","SYSTEM_USER"][e.activeIndex];t&&q(t)},selectedItemIndex:["EMPLOYEE","PARTNER","SYSTEM_USER"].indexOf(V),size:"sm"}),(0,U.jsx)(m.xu,{borderStyle:"sm",marginTop:4,rounding:2,children:(0,U.jsxs)(m.kC,{alignItems:"stretch",height:524,width:"100%",children:[(0,U.jsx)(m.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderWidth:"0 1px 0 0"}},flex:"grow",height:"100%",overflow:"auto",children:(0,U.jsxs)(m.xu,{padding:3,children:[(0,U.jsx)(m.xu,{marginBottom:5,children:(0,U.jsx)(m.Um,{accessibilityLabel:tw,id:"filterField",onChange:function(e){e6(e.value)},placeholder:tw,size:"lg",value:e5})}),(0,U.jsxs)(m.kC,{direction:"row",justifyContent:"between",children:[(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsxs)(m.kC,{alignItems:"center",justifyContent:"start",children:[(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.XZ,{checked:e9,disabled:to,id:"select-all",onChange:function(e){var t=e.checked;te(t),t?e8(tt.filter(function(e){return!e.disabled}).map(function(e){return e.id})):e8([])}})}),(0,U.jsx)(m.xu,{paddingX:2,children:(0,U.jsx)(m.__,{htmlFor:"select-all",children:(0,U.jsx)(m.kC,{alignItems:"center",gap:{row:2,column:0},children:(0,U.jsx)(m.xv,{size:"200",children:tS})})})})]})}),(0,U.jsx)(m.xu,{marginTop:1,children:(0,U.jsxs)(m.xv,{size:"200",children:[e3.length,"/",tt.length," Selected"]})})]}),(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xu,{children:tN.map(function(e){return(0,U.jsx)(m.xu,{"data-test-id":"catalog-assignment-selection-".concat(e.id),paddingY:2,children:(0,U.jsxs)(m.kC,{alignItems:"start",justifyContent:"start",children:[(0,U.jsx)(m.xu,{marginTop:1,children:(0,U.jsx)(m.XZ,{checked:e3.includes(e.id),disabled:e.disabled,helperText:e.subtext,id:e.id,onChange:function(t){var n=t.checked;e8(function(t){var r=n?[].concat(function(e){if(Array.isArray(e))return nX(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||nW(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.id]):t.filter(function(t){return t!==e.id});return te(r.length===ts.length),r})}})}),(0,U.jsxs)(m.xu,{alignItems:"center",direction:"row",display:"flex",paddingX:2,children:[e.image&&(0,U.jsx)(m.xu,{marginEnd:1,paddingX:1,children:(0,U.jsx)(tn.qE,{name:e.text,size:"sm",src:e.image})}),(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.__,{htmlFor:e.id,children:(0,U.jsx)(m.kC,{alignItems:"center",gap:{row:2,column:0},children:(0,U.jsx)(m.xv,{size:"200",children:e.text})})}),(0,U.jsx)(m.xu,{marginTop:1,children:(0,U.jsx)(m.xv,{size:"100",children:e.subtext})})]})]})]})},e.id)})})})]})}),(0,U.jsxs)(m.xu,{height:"100%",overflow:"auto",width:488,children:[(0,U.jsx)(nV,{segmentType:V}),(0,U.jsxs)(m.xu,{padding:3,children:[tr.includes("CATALOGS_MANAGER")&&(0,U.jsxs)(_.Fragment,{children:[(0,U.jsx)(m.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:tR},padding:4,rounding:2,children:(0,U.jsxs)(m.kC,{alignItems:"start",justifyContent:"start",children:[(0,U.jsx)(m.xu,{"data-test-id":"role-selector-CATALOGS_MANAGER",children:(0,U.jsx)(m.XZ,{checked:"CATALOGS_MANAGER"===e4,id:"CATALOGS_MANAGER",onChange:function(e){e.checked?e7("CATALOGS_MANAGER"):e7("")}})}),(0,U.jsxs)(m.xu,{paddingX:2,children:[(0,U.jsx)(m.__,{htmlFor:"CATALOGS_MANAGER",children:(0,U.jsx)(m.kC,{alignItems:"center",gap:{row:2,column:0},children:(0,U.jsx)(m.xv,{weight:"bold",children:tp})})}),(0,U.jsx)(m.xu,{marginTop:1,children:(0,U.jsx)(m.xv,{children:tv})})]})]})}),(0,U.jsx)(m.xu,{marginTop:2,padding:2,children:(0,U.jsx)(m.xv,{size:"100",children:tg})})]}),(0,U.jsx)(m.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:tR},padding:4,rounding:2,children:(0,U.jsxs)(m.kC,{alignItems:"start",justifyContent:"start",children:[(0,U.jsx)(m.xu,{"data-test-id":"role-selector-CATALOGS_VIEWER",children:(0,U.jsx)(m.XZ,{checked:"CATALOGS_VIEWER"===e4,id:"CATALOGS_VIEWER",onChange:function(e){e.checked?e7("CATALOGS_VIEWER"):e7("")}})}),(0,U.jsxs)(m.xu,{paddingX:2,children:[(0,U.jsx)(m.__,{htmlFor:"CATALOGS_VIEWER",children:(0,U.jsx)(m.kC,{alignItems:"center",gap:{row:2,column:0},children:(0,U.jsx)(m.xv,{weight:"bold",children:tb})})}),(0,U.jsx)(m.xu,{marginTop:1,children:(0,U.jsx)(m.xv,{children:tA})})]})]})})]})]})]})})]})})},n$=n(481841),nJ=n(801502);function n0(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function n1(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n2(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?n2(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var n5=function(e){var t=e.selectedId,n=e.handleError,r=e.refreshData,s=(0,S.u)().logContextEvent,o=(0,N.Z)(),i=(0,a.TH)(),l=(0,L.KJ)(!0),c=(0,L.nU)(!0),u=(0,L.HU)().clearModal,m=(0,(0,y.g)().getParentHierarchyForIdIfExists)(l),h=null==m?void 0:m.id,p=(0,f.v9)((0,eA.Tj)(c)).owner,b=(0,g.ZP)("BUSINESS_ACCESS_PROFILE_DETAIL_PARTNERS"),A=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),x=(0,W.dI)(),E=x.showToast,I=x.showOneToast,T=o._('{{name}} profile permissions', '[m10n]businessAccess.resourceAssignment.accessForText', 'Shows the name of the selected partner for profile permission sharing. name: Name of selected partner'),C=n1((0,z.Z)(t1.M9,!0,l,v.xX,!0),3),O=C[0],j=C[1],w=C[2],R=n1((0,_.useState)(!1),2),D=R[0],k=R[1];if(j)throw new d.zu("partnersWithAssetsError=".concat(j),(0,eM.sv)(o));var B=null==p?void 0:p.full_name,M=null==p?void 0:p.username,H=(null==O?void 0:O.filter(function(e){var t;return(null==(t=e.created_by_business)?void 0:t.id)===l}).map(function(e){var n=e.user;return{id:n.id,text:n.full_name,image:n.image_small_url,disabled:!!e.assets.find(function(e){return e.asset_id===t}),assignableRoles:v.Hg}}))||[];return(0,U.jsx)(tD.Z,{buttonLabel:(0,eM.Ab)(o),loading:w||D,modalAccessibilityLabel:(0,eM.uV)(o),modalTitle:(0,eM.sv)(o),onSubmit:function(e){var a;(a=regeneratorRuntime.mark(function a(){var c,d,_;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,k(!0),a.next=4,(0,ty.oC)(l,Object.keys(e).map(function(n){return{assigneeIds:[n],adAccountIds:[t],permissions:e[n]}}),"PARTNER",h);case 4:r(),u(),I(function(e){var t=e.hideToast;return(0,U.jsx)(tK.Z,{onHide:t})}),(0,P.dK)(i)?A({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"partners-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:t}):(b({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"partners-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:t}),s({event_type:8965,component:13852,aux_data:{business_id:l,profile_id:t}})),a.next=17;break;case 10:a.prev=10,a.t0=a.catch(0),n(),E(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,eM.dg)(a.t0.api_error_code,o,!0),type:"error"})}),c=a.t0,a.t0 instanceof Error||(c=Error(c)),(0,P.dK)(i)?A({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"partners-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:t,errorClass:JSON.stringify(c).slice(0,64),errorMessage:(null==(d=(0,q.Z)(c,"stack"))?void 0:d.slice(0,4096))||(0,q.Z)(c,"message")||""}):(b({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"partners-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(c).slice(0,64),errorMessage:(null==(_=(0,q.Z)(c,"stack"))?void 0:_.slice(0,4096))||(0,q.Z)(c,"message")||""}),s({event_type:8966,component:13852,aux_data:{business_id:l}}));case 17:case"end":return a.stop()}},a,null,[[0,10]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var s=a.apply(e,t);function o(e){n0(s,n,r,o,i,"next",e)}function i(e){n0(s,n,r,o,i,"throw",e)}o(void 0)})})()},searchPlaceholder:o._('Search businesses', '[m10n]businessAccess.principalAssignment.filterPrincipalListText', 'Filter principal list text field'),selectedOptionDetailsText:T,selectionOptions:H,selectionPlaceholder:o._('Select a business to assign permissions', '[m10n]businessAccess.principalAssignment.grantAccessToMessage', 'Select a partner to assign permissions message. Shows when no role person is selected'),subtext:M,text:B})};function n6(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function n3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n8(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?n8(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var n4=function(e){var t=e.selectedId,n=e.handleError,r=e.refreshData,s=(0,S.u)().logContextEvent,o=(0,N.Z)(),i=(0,L.KJ)(!0),l=(0,L.nU)(!0),c=(0,a.TH)(),u=(0,L.HU)().clearModal,m=(0,(0,y.g)().getParentHierarchyForIdIfExists)(i),h=null==m?void 0:m.id,p=(0,f.v9)((0,eA.Tj)(l)).owner,b=(0,W.dI)(),A=b.showToast,x=b.showOneToast,E=(0,g.ZP)("BUSINESS_ACCESS_PROFILE_DETAIL_EMPLOYEES"),I=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),T=o._('{{name}} profile permissions', '[m10n]businessAccess.resourceAssignment.accessForText', 'Shows the name of the selected employee for profile sharing. name: Name of selected employee'),C=n3((0,z.Z)(tU.kH,!0,{id:i,limit:v.cU}),3),O=C[0],j=C[1],w=C[2],R=n3((0,z.Z)(ty.BG,!0,{businessId:i,assetId:l,MAX_FETCH_LIMIT:v.cU}),3),D=R[0],k=R[1],B=R[2],M=n3((0,z.Z)(ty.eo,!0,{id:i,assetIds:[t],limit:v.cU,type:v.tP.PROFILE}),3),H=M[0],Z=M[1],G=M[2],F=n3((0,_.useState)(!1),2),Y=F[0],V=F[1];if(Z||j||k)throw new d.zu("profilesResponseError=".concat(Z," peopleError=").concat(j," assetPeopleError=").concat(k),(0,eM.sv)(o));var X=null==p?void 0:p.full_name,K=null==p?void 0:p.username;if(!p){var $,J,ee,et=(null==H?void 0:H.data.data)||[];X=null==(J=et[t])?void 0:J.owner.full_name,K=(null==(ee=et[t])?void 0:ee.owner.username)+" • Partner"}var en=(null==O||null==($=O.data.data)?void 0:$.map(function(e){var t=e.user,n=t.id;return{id:n,text:t.full_name,image:t.image_small_url,disabled:!!(null!=D&&D.data.data.find(function(e){return e.id===n})),assignableRoles:v.Hg}}))||[];return(0,U.jsx)(tD.Z,{buttonLabel:(0,eM.Ab)(o),loading:G||Y||w||B,modalAccessibilityLabel:(0,eM.uV)(o),modalTitle:(0,eM.sv)(o),onSubmit:function(e){var a;(a=regeneratorRuntime.mark(function a(){var l,d,_;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,V(!0),a.next=4,(0,ty.oC)(i,Object.keys(e).map(function(n){return{assigneeIds:[n],adAccountIds:[t],permissions:e[n]}}),"PEOPLE",h);case 4:r(),u(),x(function(e){var t=e.hideToast;return(0,U.jsx)(tK.Z,{onHide:t})}),(0,P.dK)(c)?I({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"people-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:t}):(E({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"people-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:t}),s({event_type:8965,component:13852,aux_data:{business_id:i,profile_id:t}})),a.next=17;break;case 10:a.prev=10,a.t0=a.catch(0),n(),A(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,eM.dg)(a.t0.api_error_code,o),type:"error"})}),l=a.t0,a.t0 instanceof Error||(l=Error(l)),(0,P.dK)(c)?I({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"people-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(l).slice(0,64),errorMessage:(null==(d=(0,q.Z)(l,"stack"))?void 0:d.slice(0,4096))||(0,q.Z)(l,"message")||"",profile_id:t}):(E({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"people-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(l).slice(0,64),errorMessage:(null==(_=(0,q.Z)(l,"stack"))?void 0:_.slice(0,4096))||(0,q.Z)(l,"message")||""}),s({event_type:8966,component:13852,aux_data:{business_id:i}}));case 17:case"end":return a.stop()}},a,null,[[0,10]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var s=a.apply(e,t);function o(e){n6(s,n,r,o,i,"next",e)}function i(e){n6(s,n,r,o,i,"throw",e)}o(void 0)})})()},searchPlaceholder:o._('Search name', '[m10n]businessAccess.principalAssignment.filterPrincipalListText', 'Filter principal list text field'),selectedOptionDetailsText:T,selectionOptions:en,selectionPlaceholder:o._('Select an employee to assign permissions', '[m10n]businessAccess.principalAssignment.grantAccessToMessage', 'Select an employee to assign permissions message. Shows when no role person is selected'),subtext:K,text:X})};function n7(e){return(n7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n9(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=n7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=n7(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n7(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rt(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rr(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rr(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rs=function(e){var t=e.selectedId,n=e.handleError,r=e.refreshData,s=(0,S.u)().logContextEvent,o=(0,N.Z)(),i=(0,L.KJ)(!0),l=(0,L.HU)().clearModal,c=(0,(0,y.g)().getParentHierarchyForIdIfExists)(i),u=null==c?void 0:c.id,f=(0,W.dI)(),h=f.showToast,p=f.showOneToast,b=(0,g.ZP)("BUSINESS_ACCESS_EMPLOYEE_DETAIL_PROFILES"),A=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),x=(0,a.TH)(),E=o._('{{name}} profile permissions for {{employeeName}}', '[m10n]businessAccess.resourceAssignment.accessForText', 'Shows the name of the selected employee for profile sharing'),I=rn((0,z.Z)(tU.kH,!0,{id:i,limit:v.cU}),3),T=I[0],C=I[1],O=I[2],j=rn((0,z.Z)(tU.mZ,!0,{businessId:i,personId:t,limit:v.xX,assetPermissionType:0,includeAssetSummary:!1}),3),w=j[0],D=j[1],k=j[2],B=rn((0,z.Z)(ty.cp,!0,{id:i,limit:v.xX,includeAssetSummary:!0}),3),M=B[0],H=B[1],Z=B[2],G=rn((0,_.useState)(!1),2),F=G[0],Y=G[1],V=null==T?void 0:T.data.data.find(function(e){return e.id===t}),X=(null==V?void 0:V.user.full_name)||"",K=(null==V?void 0:V.user.email)||"",$=(0,U.jsx)(m.qE,{name:(null==V?void 0:V.user.full_name)||"",size:"md",src:null==V?void 0:V.user.image_medium_url}),J=rn((0,z.Z)(ty.eo,!1,{id:i,assetIds:[],limit:v.xX,type:v.tP.PROFILE}),4),ee=J[0],et=J[1],en=J[2],er=J[3];if((0,_.useEffect)(function(){!Z&&M&&er({id:i,assetIds:M.data.data.map(function(e){return e.asset_id}),limit:v.cU,type:v.tP.PROFILE})},[i,M,Z]),H||C||et||D)throw new d.zu("profilesIdError=".concat(H," peopleError=").concat(C," profilesError=").concat(et," personAssetsError=").concat(D),(0,eM.sv)(o));var es=F||Z||en||O||k,eo=(null==ee?void 0:ee.data.data)||[],ea=(null==w?void 0:w.data.data)||[],ei=Object.values(eo).map(function(e){var t=e.owner,n=t.id;return{id:n,text:t.full_name,subtext:t.username,image:t.image_small_url,disabled:!!(null!=ea&&ea.find(function(e){return e.asset_id===n})),assignableRoles:v.Hg}});return(0,U.jsx)(tD.Z,{buttonLabel:(0,eM.Ab)(o),counterTextFunction:function(e){return(0,R.nk)(o.ngettext('{{count}} profile selected', '{{count}} profiles selected', e, '[m10n]businessAccess.resourceAssignment.selectedProfiles', 'Selected profiles count.'),{count:e})},image:$,loading:es,modalAccessibilityLabel:(0,eM.uV)(o),modalTitle:(0,eM.sv)(o),onSubmit:function(e){var a;(a=regeneratorRuntime.mark(function a(){var c,d;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,Y(!0),a.next=4,(0,ty.oC)(i,Object.keys(e).map(function(n){return{assigneeIds:[t],adAccountIds:[n],permissions:e[n]}}),"PEOPLE",u);case 4:r(Object.keys(e).map(function(t){return re(re({},eo[t]),{},{permissions:e[t]})})),l(),(0,P.dK)(x)?A({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"profiles-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",employee_id:t}):(b({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"profiles-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button"}),s({event_type:8965,component:13852,aux_data:{business_id:i}})),p(function(e){var t=e.hideToast;return(0,U.jsx)(tK.Z,{onHide:t})}),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),n(),h(function(e){var t,n=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,eM.dg)(null!=(t=(0,q.Z)(a.t0,"api_error_code"))?t:0,o),type:"error"})}),(0,P.dK)(x)?A({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"profiles-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(a.t0).slice(0,64),errorMessage:(null==(c=(0,q.Z)(a.t0,"stack"))?void 0:c.slice(0,4096))||(0,q.Z)(a.t0,"message")||"",employee_id:t}):(b({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"profiles-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(a.t0).slice(0,64),errorMessage:(null==(d=(0,q.Z)(a.t0,"stack"))?void 0:d.slice(0,4096))||(0,q.Z)(a.t0,"message")||""}),s({event_type:8966,component:13852,aux_data:{business_id:i}}));case 16:case"end":return a.stop()}},a,null,[[0,11]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var s=a.apply(e,t);function o(e){rt(s,n,r,o,i,"next",e)}function i(e){rt(s,n,r,o,i,"throw",e)}o(void 0)})})()},searchPlaceholder:o._('Search businesses', '[m10n]businessAccess.resourceAssignment.filterResourceListText', 'Filter resource list text field'),selectedOptionDetailsGetter:function(e){return{name:e.selectedOptionDetails.text,employeeName:X}},selectedOptionDetailsText:E,selectionOptions:ei,selectionPlaceholder:o._('Select a profile to assign permissions', '[m10n]businessAccess.resourceAssignment.grantAccessToMessage', 'Select an a profile to assign permissions message. Shows when no role resource is selected'),subtext:K,text:X})},ro=n(458704),ra=function(e){var t=e.text,n=e.name,r=e.avatar,s=e.id,o=e.headingAboveSubtext,a=e.avatarSize,i=e.textSize,l=(0,N.Z)(),c=(0,H.aV)((0,u.Z)(),s,n,l),d=(0,u.Z)(),_=d.isAuth?null==d?void 0:d.avatar_color_index:void 0;return(0,U.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,U.jsx)(m.qE,{color:_,name:c,size:a||"lg",src:r}),(0,U.jsx)(m.xu,{direction:"column",display:"flex",justifyContent:"around",marginBottom:2,marginStart:2,marginTop:2,children:void 0!==o&&o?(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.xu,{marginBottom:1,children:(0,U.jsx)(m.X6,{size:"400",children:c})}),(0,U.jsx)(m.xv,{size:"100",children:t})]}):(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.xv,{size:"100",children:t}),(0,U.jsx)(m.X6,{size:i||"400",children:c})]})})]})},ri=n(173255);function rl(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function rc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ru(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ru(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rd=function(e){var t,n,r,s,o,a,i=e.selectedId,l=e.handleError,c=e.refreshData,u=(0,(0,I.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,f=!!(0,eG.Z)().params.businessHierarchyId,h=(0,S.u)().logContextEvent,p=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),b=(0,N.Z)(),A=(0,L.KJ)(!0),x=(0,L.nU)(!0),E=(0,L.HU)().clearModal,P=(0,(0,y.g)().getParentHierarchyForIdIfExists)(A),T=null==P?void 0:P.id,C=(0,W.dI)(),O=C.showToast,j=C.showOneToast,w=rc((0,_.useState)([]),2),R=w[0],D=w[1],k=rc((0,_.useState)(!1),2),B=k[0],M=k[1],G=rc((0,z.Z)(ty.eo,!0,{id:A,assetIds:[i],limit:v.cU,type:v.tP.PROFILE}),3),F=G[0],Y=G[1],V=G[2],X=(null==F?void 0:F.data.data)||[],K=(null==(t=X[i])||null==(n=t.owner)?void 0:n.username)||"",$=(null==(r=X[i])||null==(s=r.owner)?void 0:s.image_small_url)||"",J=(null==(o=X[i])||null==(a=o.owner)?void 0:a.full_name)||"",ee=[];if(V)return(0,U.jsx)(ri.Z,{});var et=b._('Assign profile permissions', '[m10n]businessAccess.principalAssignment.accessForText', 'Shows the name of the the selected partner or person.');if(Y)throw new d.zu("profileInfoResponseError=".concat(Y),et);return(0,U.jsxs)(Z.Z,{accessibilityLabel:b._('Assign profile permissions with partner modal', '[m10n]bizAccess.editAdAccountRoles.modal', 'accessibility label for the modal used to edit ad account assignments'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"save-edits-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:!B||0===R.length,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ty.EB)(x,R,i,A,"PARTNER",void 0,T);case 3:c(),E(),j(function(e){var t=e.hideToast;return(0,U.jsx)(tK.Z,{onHide:t})}),f?p({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"single-partner-to-profile-assignment-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",partner_id:x}):h({event_type:8965,component:13852,aux_data:{business_id:A}}),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),l(),O(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(b),type:"error"})}),f?p({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"single-partner-to-profile-assignment-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(t=(0,q.Z)(e.t0,"stack"))?void 0:t.slice(0,4096))||(0,q.Z)(e.t0,"message")||""}):h({event_type:8966,component:13852,aux_data:{business_id:A}}),E();case 15:case"end":return e.stop()}},e,null,[[0,9]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){rl(o,r,s,a,i,"next",e)}function i(e){rl(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:b._('Assign profile', '[m10n]bizAccess.editAdAccountRoles.sumbitLabel', 'Label for the submit button on the assign profile permissions modal')})}),size:"sm",title:et,children:[u&&f&&(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(ta.Z,{display:"block"})}),!f&&(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(ra,{avatar:$,headingAboveSubtext:!0,id:x,name:J,text:K})}),(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(ro.Z,{assignableRoles:v.Hg,initialRoles:ee,onChange:function(e){e.every(function(e){return ee.indexOf(e)})&&M(!1),M(!0),D(e),(0,eZ.Z)(h,{event_type:8964,component:13641,aux_data:{business_id:A,field_name:"permissions"}})}})})]})};function r_(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function rf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rm(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rm(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rh=function(e){var t=e.selectedId,n=e.handleError,r=e.refreshData,s=(0,S.u)().logContextEvent,o=(0,N.Z)(),i=(0,L.KJ)(!0),l=(0,L.nU)(!0),c=(0,a.TH)(),u=(0,L.HU)().clearModal,m=(0,(0,y.g)().getParentHierarchyForIdIfExists)(i),h=null==m?void 0:m.id,p=(0,f.v9)((0,eA.Tj)(l)).owner,b=(0,W.dI)(),A=b.showToast,x=b.showOneToast,E=(0,g.ZP)("BUSINESS_ACCESS_PROFILE_DETAIL_EMPLOYEES"),I=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),T=o._('{{name}} profile permissions', '[m10n]businessAccess.resourceAssignment.accessForText', 'Shows the name of the selected system user for profile sharing. name: Name of selected system user'),C=rf((0,z.Z)(tU.JC,!0,{id:i,limit:v.cU,fetchSystemUsers:!0}),3),O=C[0],j=C[1],w=C[2],R=rf((0,z.Z)(ty.BG,!0,{businessId:i,assetId:l,MAX_FETCH_LIMIT:v.cU,fetchSystemUsers:!0}),3),D=R[0],k=R[1],B=R[2],M=rf((0,z.Z)(ty.pI,!0,{businessId:i,assetIds:[t],limit:v.xX,resourceType:v.ww[v.tP.PROFILE]}),3),H=M[0],Z=M[1],G=M[2],F=rf((0,_.useState)(!1),2),Y=F[0],V=F[1];if(Z||j||k)throw new d.zu("profilesResponseError=".concat(Z," systemUsersError=").concat(j," assetSystemUsersError=").concat(k),(0,eM.sv)(o));var X=null==p?void 0:p.full_name,K=null==p?void 0:p.username;if(!p){var $,J,ee,et=(null==H?void 0:H.data.data)||[];X=null==(J=et[t])?void 0:J.owner.full_name,K=(null==(ee=et[t])?void 0:ee.owner.username)+(o._(' \u2022 Partner', '[m10n]businessAccess.systemUserToProfileAssignment.partnerText', 'Partner subtext'))}var en=(null==O||null==($=O.data.data)?void 0:$.map(function(e){var t=e.user,n=t.id;return{id:n,text:t.full_name,image:t.image_small_url,disabled:!!(null!=D&&D.data.data.find(function(e){return e.id===n})),assignableRoles:v.Hg}}))||[];return(0,U.jsx)(tD.Z,{buttonLabel:(0,eM.Ab)(o),loading:G||Y||w||B,modalAccessibilityLabel:(0,eM.uV)(o),modalTitle:(0,eM.sv)(o),onSubmit:function(e){var a;(a=regeneratorRuntime.mark(function a(){var l,d,_;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,V(!0),a.next=4,(0,ty.oC)(i,Object.keys(e).map(function(n){return{assigneeIds:[n],adAccountIds:[t],permissions:e[n]}}),"SYSTEM_USERS",h);case 4:r(),u(),x(function(e){var t=e.hideToast;return(0,U.jsx)(tK.Z,{onHide:t})}),(0,P.dK)(c)?I({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"systemUsers-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:t}):(E({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"systemUsers-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:t}),s({event_type:8965,component:13852,aux_data:{business_id:i,profile_id:t}})),a.next=17;break;case 10:a.prev=10,a.t0=a.catch(0),n(),A(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,eM.dg)(null===a.t0||void 0===a.t0?void 0:a.t0.api_error_code,o),type:"error"})}),l=a.t0,a.t0 instanceof Error||(l=Error(String(a.t0))),(0,P.dK)(c)?I({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"systemUsers-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(l).slice(0,64),errorMessage:(null==(d=(0,q.Z)(l,"stack"))?void 0:d.slice(0,4096))||(0,q.Z)(l,"message")||"",profile_id:t}):(E({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"systemUsers-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(l).slice(0,64),errorMessage:(null==(_=(0,q.Z)(l,"stack"))?void 0:_.slice(0,4096))||(0,q.Z)(l,"message")||""}),s({event_type:8966,component:13852,aux_data:{business_id:i}}));case 17:case"end":return a.stop()}},a,null,[[0,10]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var s=a.apply(e,t);function o(e){r_(s,n,r,o,i,"next",e)}function i(e){r_(s,n,r,o,i,"throw",e)}o(void 0)})})()},searchPlaceholder:o._('Search name', '[m10n]businessAccess.principalAssignment.filterPrincipalListText', 'Filter principal list text field'),selectedOptionDetailsText:T,selectionOptions:en,selectionPlaceholder:o._('Select a system user to assign permissions', '[m10n]businessAccess.principalAssignment.grantAccessToMessage', 'Select a system user to assign permissions message. Shows when no role person is selected'),subtext:K,text:X})},rp=function(e){var t=(0,N.Z)(),n=e.selectedIds,r=e.selectionType,s=e.dataToRefresh,o=e.assignmentType,a=e.refreshData,i=(0,W.dI)().showToast,l=(0,f.I0)(),c=(0,L.KJ)(!0),u=(0,L.nU)(!0),d=(0,L.HU)().clearModal,_=(0,n$.Z)(c,u),m=(0,nJ.Z)(c),h=(0,I.Z)(),p=(0,h.checkExperiment)("web_m10n_business_access_employee_redesign").anyEnabled,b=function(e){c&&("PROFILE_PEOPLE"===s&&(r===v.Hl.PROFILE?p&&e?l((0,tl.Ni)({employeeId:u,addedProfiles:e})):l((0,ed.fR)({businessId:c,detailId:u,assetPermissionType:0,includeAssetSummary:!0,experimentsClient:h})):l((0,e_.iS)({businessId:c,detailId:u}))),"PROFILE_SYSTEM_USERS"===s&&(r===v.Hl.PROFILE?p&&e?l((0,ef.GL)({systemUserId:u,addedProfiles:e})):l((0,ef.zQ)({businessId:c,detailId:u,assetPermissionType:0,includeAssetSummary:!0,experimentsClient:h})):l((0,e_.IV)({businessId:c,detailId:u}))),"PROFILE_PARTNERS"===s&&l((0,e_.XA)({businessId:c,detailId:u})),"PARTNER_PROFILE"===s&&l((0,eu.JL)({businessId:c,detailId:u,experimentsClient:h})),"HIERARCHY_EMPLOYEE_DETAILS_PROFILES"===s&&(null==_||_()),"HIERARCHY_PARTNER_PROFILE"===s&&(null==m||m()))},y=function(){i(function(e){var n=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,H.sQ)(t),type:"error"})}),d()};if(r===v.Hl.PROFILE)return"PARTNER"===o?(0,U.jsx)(rd,{handleError:y,refreshData:null!=a?a:b,selectedId:n[0]}):(0,U.jsx)(rs,{handleError:y,refreshData:a?function(){return a()}:b,selectedId:n[0]});switch(r){case v.Hl.PERSON:return(0,U.jsx)(n4,{handleError:y,refreshData:null!=a?a:b,selectedId:n[0]});case v.Hl.PARTNER:return(0,U.jsx)(n5,{handleError:y,refreshData:null!=a?a:b,selectedId:n[0]});case v.Hl.SYSTEM_USER:default:return(0,U.jsx)(rh,{handleError:y,refreshData:null!=a?a:b,selectedId:n[0]})}},rb=n(221325),ry=n(893957),rv=function(e){var t=e.businessHierarchy,n=(0,y.g)().switchAccount,r=(0,b.NM)().setActingBusiness,s=(0,N.Z)(),o=(0,u.Z)(),a=o.isAuth?null==o?void 0:o.avatar_color_index:void 0,i=(0,L.KJ)(!0),l=(0,g.ZP)((0,g.QK)("DASHBOARD"));(0,ry.Z)(function(){l({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_UPDATE_BUSINESS_HIERARCHY_AVATAR_IMAGE_MODAL",component_id:"business-hierarchy-creation-success-modal",business_id:i})});var c=function(){r({id:t.id,name:t.name,img:t.img_medium_url}),n(t.id,p.Oz.BUSINESS_HIERARCHY)},d=s._('Success label', '[m10n]bizAccess.businessHierarchyCreationSuccess.modal', 'accessibility label for the modal used to show business hierarchy creation success'),_=s._('Success', '[m10n]bizAccess.businessHierarchyCreationSuccess.title', 'Title for the modal used to show business hierarchy creation success');return(0,U.jsx)(Z.Z,{accessibilityLabel:d,cancelText:s._('Stay in Business Manager', '[m10n]bizAccess.businessHierarchyCreationSuccess.stayInBusinessManagerButton', 'Button to stay in Business Manager'),primaryAction:(0,U.jsx)(m.zx,{accessibilityLabel:s._('Go to Business hierarchy', '[m10n]bizAccess.businessHierarchyCreationSuccess.goToBusinessHiearchyButtonLabel.a11y', 'a11y Label for the button to go to the business hierarchy'),color:"red",onClick:function(){c()},size:"lg",text:s._('Go to Business hierarchy', '[m10n]bizAccess.businessHierarchyCreationSuccess.goToBusinessHiearchyButton.a11y', 'Button to go to the business hierarchy')}),size:"sm",title:_,children:(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsxs)(m.kC,{direction:"column",gap:6,children:[(0,U.jsx)(m.xv,{children:s._('You have created the following parent business:', '[m10n]bizAccess.businessHierarchyCreationSuccess.infoText', 'Text explaining that the parent business hierarchy has been created')}),(0,U.jsxs)(m.kC,{alignItems:"center",direction:"row",gap:2,children:[(0,U.jsx)(tn.qE,{accessibilityLabel:s._('Business hierarchy avatar image', '[m10n]bizAccess.businessHierarchyCreationSuccess.avatarImage', 'a11y Label for Business hierarchy avatar image'),color:a,name:t.name,size:"lg",src:t.img_medium_url}),(0,U.jsx)(m.xv,{size:"400",weight:"bold",children:t.name})]}),(0,U.jsx)(m.xv,{children:s._('You may now add child businesses and invite organizational managers to this parent business', '[m10n]bizAccess.businessHierarchyCreationSuccess.explanationText', 'Explanation text about next steps for business hierarchy')})]})})})},rA=n(10953),rg=n(237937),rS=n(774838),rx=n(496883),rE=n(398548),rP=n(160744);function rI(e){return(rI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(t){rO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rO(e,t,n){var r;return(r=function(e,t){if("object"!=rI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rI(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==rI(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rj(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function rz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rw(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rw(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rN=function(e){var t,n,r,s=e.resellerUserId,o=e.adAccountsToMigrate,a=e.onInviteSent,i=e.businessInformation,l=(0,g.ZP)("BUSINESS_ACCESS_AD_ACCOUNTS_CEE_MIGRATION"),c=(0,rS.B)(),u=(null==(r=c.advertiser)?void 0:r.id)||"",d=(0,L.KJ)(),f=(0,L.HU)().setResellerInviteSentSuccessfulModal,h=rz((0,_.useState)(""),2),p=h[0],b=h[1],y=rz((0,_.useState)(""),2),A=y[0],S=y[1],x=rz((0,_.useState)(""),2),E=x[0],P=x[1],I=rz((0,_.useState)(),2),T=I[0],C=I[1],O=rz((0,_.useState)(),2),j=O[0],z=O[1],w=rz((0,_.useState)(),2),D=w[0],k=w[1],B=rz((0,_.useState)(""),2),M=B[0],H=B[1],G=rz((0,_.useState)(!1),2),F=G[0],Y=G[1],V=(0,N.Z)();(0,_.useEffect)(function(){l({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_MODAL",component_id:"cee-migration-businesss-information-modal",ad_account_id:u})},[u,l]);var q=(t=regeneratorRuntime.mark(function e(){var t,n,r,c,u,_,m,h,b,y,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=2;break}return e.abrupt("return");case 2:if(t=!!p,n=!!A,r=!!E.match(rx.CU),c=t&&n&&r,t||C(V._('First name can not empty', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.firstNameCannotBeEmpty', 'error validation for first name')),n||z(V._('Last name can not empty', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.lastNameCannotBeEmpty', 'error validation for last name')),r||k(V._('Invalid email', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.invalidEmail', 'error validation for email')),!(c&&i)){e.next=41;break}return e.prev=10,H(""),Y(!0),u=o.map(function(e){return(0,rA.Z)({advertiser_id:e.id},{tos_id:rP.dt})}),e.next=16,Promise.all(u);case 16:return e.next=18,(0,t1.Zk)({businessId:d,partnerId:s,businessHierarchyNodeId:void 0});case 18:if(!(_=e.sent).error){e.next=21;break}throw Error(_.error.message_detail||_.error.message);case 21:return h=(m=(null==_?void 0:_.data)||{}).data,b=m.is_reseller,y=h[s],e.next=25,(0,ty.xD)(d,y,o.reduce(function(e,t){return rC(rC({},e),{},rO({},t.id,["ADMIN"]))},{}));case 25:return e.next=27,(0,ty.Yg)({businessId:d,firstName:p,lastName:A,email:E,resellerUserId:s,businessInformation:i});case 27:l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"cee-migration-businesss-information-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-cee-migration-businesss-information-button-invite",business_id:d,partner_request_id:y}),f({inviteId:y,isReseller:b,onInviteSent:a}),e.next=38;break;case 31:e.prev=31,e.t0=e.catch(10),v=e.t0,g=V._('There was an error in sending the invite. Please try again.', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.invite.send.error', 'Error message if sending an invite to reseller fails'),(v.api_error_code||v.code)&&(g=(0,eM.ZB)(V,v)),l({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"cee-migration-businesss-information-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-cee-migration-businesss-information-button-invite",errorClass:v.toString(),errorMessage:g,business_id:d}),H(g);case 38:return e.prev=38,Y(!1),e.finish(38);case 41:case"end":return e.stop()}},e,null,[[10,31,38,41]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){rj(o,r,s,a,i,"next",e)}function i(e){rj(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)}),Q=""===T&&""===j&&""===D,W=(0,rg.Yd)(c).country;return(0,U.jsxs)(Z.Z,{accessibilityLabel:V._('Invite reseller as a partner', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.accessibilityLabel', 'Label to add reseller as a partner'),onDismiss:function(){l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"cee-migration-businesss-information-modal-button",element:"BUSINESS_ACCESS_BUTTON",elementId:"close-cee-migration-businesss-information-modal",ad_account_id:u})},primaryAction:(0,U.jsx)(m.zx,{accessibilityLabel:V._('Send invite to reseller', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.sendButton.accessibilityLabel', 'button label to add reseller as partner'),color:"red",disabled:!Q||F,onClick:function(){l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"cee-migration-businesss-information-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-cee-migration-businesss-information-button",ad_account_id:u}),q()},size:"lg",text:V._('Send invite', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.sendButton.title', 'button text to send reseller invite')}),size:"md",title:(0,R.nk)(V._('Add {{ resellerName }} as a partner', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.title', 'Title to invite reseller as a partner, resellerName: is the reseller name'),{resellerName:v.p}).join(""),children:[(0,U.jsx)(m.xv,{size:"400",weight:"bold",children:V._('Add contact information', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.addContactInformationTitle', 'add contact information title')}),(0,U.jsxs)(m.xu,{dangerouslySetInlineStyle:{__style:rC({},"KR"===W?{flexDirection:"row-reverse"}:{flexDirection:"row"})},display:"flex",children:[(0,U.jsx)(m.xu,{marginEnd:2,paddingY:2,width:"100%",children:(0,U.jsx)(m.nv,{errorMessage:T,id:"firstName",label:V._('First name', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.firstName', 'First name for the business that is inviting the reseller'),onChange:function(e){b(e.value),C("")},type:"text",value:p})}),(0,U.jsx)(m.xu,{paddingY:2,width:"100%",children:(0,U.jsx)(m.nv,{errorMessage:j,id:"lastName",label:V._('Last name', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.lastName', 'Last name for the business that is inviting the reseller'),onChange:function(e){S(e.value),z("")},type:"text",value:A})})]}),(0,U.jsx)(m.kC,{direction:"row",children:(0,U.jsx)(m.xu,{paddingY:2,width:"100%",children:(0,U.jsx)(m.nv,{errorMessage:D,id:"businessEmail",label:V._('Business email address', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.businessEmail', 'email address for the business that is inviting the reseller'),onChange:function(e){P(e.value),k("")},type:"text",value:E})})}),(0,U.jsx)(m.xu,{marginTop:4,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(V._('As part of the exclusive partnership, {{ resellerName }} will have admin access to these ad accounts if the invite is accepted. Admin access cannot be revoked or modified.', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.resellerAccessToBusinessText', 'text explaning the reseller access to the business, resellerName: is the reseller name'),{resellerName:v.p}).join("")})}),(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(rE.Z,{adAccounts:o||[]})}),(0,U.jsx)(m.xu,{marginBottom:M?void 0:4,marginTop:4,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(V._('By inviting this partner to access your ad accounts, you represent that you are authorized to do so, and you agree to the {{ advertisingAgreement }}. Furthermore, by inviting this partner you agree to allow Pinterest to share your contact information with this partner. Pinterest will share the following information with the partner: business name and ID, your name, email, and billing country.', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.pasaText', 'Legal disclaimer. advertisingAgreement: Link to the Pinterest Advertising Agreement'),{advertisingAgreement:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:(0,U.jsx)(m.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/business/pinterest-advertising-services-agreement",onClick:function(e){var t=e.dangerouslyDisableOnNavigation;return null==t?void 0:t()},target:"blank",underline:"always",children:V._('Pinterest Advertising Agreement', '[m10n]bizAccess.ceeMigrationBusinessInformationModal.pasaLink', 'Linked text description for the Pinterest advertising agreement')})},"advertisingAgreementText")})})}),M&&(0,U.jsx)(m.xu,{marginBottom:4,marginTop:4,children:(0,U.jsx)(m.xv,{color:"error",children:M})})]})},rR=function(e){var t=e.businessName,n=e.onCloseModal,r=(0,N.Z)(),s=(0,L.HU)().clearModal,o=(0,g.ZP)("BUSINESS_ACCESS_AD_ACCOUNTS_CEE_MIGRATION");return(0,_.useEffect)(function(){o({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_MODAL",component_id:"reseller-accepted-invite-successful-modal"})},[o]),(0,U.jsx)(Z.Z,{accessibilityLabel:r._('Invite accepted successfully', '[m10n]bizAccess.resellerAcceptedModal.accessibilityLabel', 'Title saying reseller accepted the invite'),hideCancelAction:!0,onDismiss:function(){o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"reseller-accepted-invite-modal-button",element:"BUSINESS_ACCESS_BUTTON",elementId:"close-reseller-accepted-invite-modal"})},primaryAction:(0,U.jsx)(m.zx,{accessibilityLabel:r._('Close accepted invite modal', '[m10n]bizAccess.resellerAcceptedModal.okay.accessibilityLabel', 'primary button label to close the modal'),color:"red",onClick:function(){o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"reseller-accepted-invite-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-reseller-accepted-invite-modal-button"}),null==n||n(),s()},size:"lg",text:r._('Okay', '[m10n]bizAccess.resellerAcceptedModal.okay.title', 'primary button text to close the modal')}),size:"sm",title:r._('Invite accepted', '[m10n]bizAccess.resellerAcceptedModal.title', 'Title saying reseller accepted the invite'),children:(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xv,{children:(0,R.nk)(r._('You are now partners with {{ businessName }}. It may take up to 10 minutes to see their accounts reflected in your Business Manager. Once this process is finished, you may begin creating order lines in Billing.', '[m10n]bizAccess.resellerAcceptedModal.resellerAcceptedBusinessInviteText', 'text explaning the reseller accepted the partnership with the business, businessName: is the business name'),{businessName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:t},"businessNameText")})})})})},rD=function(e){var t=e.inviteId,n=e.isReseller,r=e.onInviteSent,s=(0,N.Z)(),o=(0,L.HU)().clearModal,a=(0,g.ZP)("BUSINESS_ACCESS_AD_ACCOUNTS_CEE_MIGRATION");return(0,_.useEffect)(function(){a({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_MODAL",component_id:"reseller-invite-sent-successful-modal"})},[a]),(0,U.jsxs)(Z.Z,{accessibilityLabel:s._('Invite sent to reseller', '[m10n]bizAccess.resellerInviteSentModal.accessibilityLabel', 'Title saying reseller was already invited'),hideCancelAction:!0,onDismiss:function(){a({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"reseller-invite-sent-modal-button",element:"BUSINESS_ACCESS_BUTTON",elementId:"close-reseller-invite-sent-modal"})},primaryAction:(0,U.jsx)(m.zx,{accessibilityLabel:s._('Close invite sent modal', '[m10n]bizAccess.resellerInviteSentModal.okay.accessibilityLabel', 'primary button label to close the modal'),color:"red",onClick:function(){a({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"reseller-invite-sent-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-reseller-invite-sent-modal-button"}),null==r||r(t,n),o()},size:"lg",text:s._('Okay', '[m10n]bizAccess.resellerInviteSentModal.okay.title', 'primary button text to close the modal')}),size:"sm",title:s._('Invite sent', '[m10n]bizAccess.resellerInviteSentModal.title', 'Title saying reseller was already invited'),children:[(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xv,{children:(0,R.nk)(s._('You\u2019ve invited {{ resellerName }} to become a partner. You\u2019ll receive a notification once they accept or reject this invitation.', '[m10n]bizAccess.resellerInviteSentModal.resellerInvitedText', 'text explaning the reseller was invited, resellerName: is the reseller name'),{resellerName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:v.p},"resellerNameText")})})}),(0,U.jsx)(m.xu,{marginTop:4,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(s._('If {{ resellerName }} accepts your invite, they will automatically be assigned admin permissions to ad accounts you create in their designated countries.', '[m10n]bizAccess.resellerInviteSentModal.resellerInvitedPermissionsText', 'text explaning the reseller permissions over the business, resellerName: is the reseller name'),{resellerName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:v.p},"resellerNameText")})})})]})},rk=n(936948),rL=n(472504);function rU(e){return(rU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rB(e,t,n){var r;return(r=function(e,t){if("object"!=rU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rU(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==rU(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rM(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var rH=function(e){var t,n,r,s=e.partner,o=e.assetRequest,i=e.assetsRequested,l=(0,N.Z)(),c=(0,f.I0)(),u=(0,L.HU)(),d=u.clearModal,_=u.setRequestAdAccountsGeneralModal,h=u.setRequestCatalogsGeneralModal,p=(0,W.dI)().showToast,b=(0,L.KJ)(!0),A="AD_ACCOUNT"===o,S="CATALOG"===o,x="PROFILE"===o;r=A?"BUSINESS_ACCESS_AD_ACCOUNTS":S?"BUSINESS_ACCESS_CATALOGS":"BUSINESS_ACCESS_PROFILES";var E=(0,g.ZP)(r),I=A&&(!i||!!i&&i.length<1),T=(0,(0,y.g)().getParentHierarchyForIdIfExists)(b),C=null==T?void 0:T.id,O=(0,tN.e6)(l,S),j=A?(null==i?void 0:i.map(function(e){var t=e.accessList.includes(v.gO.ADMIN)?[v.gO.ADMIN].map(O):e.accessList.map(O).join((0,H.bH)(l));return{id:e.id,permissions:t}}))||[]:void 0,z=S?null==i?void 0:i.map(function(e){return(0,U.jsx)(m.xv,{children:(0,R.nk)(l._('{{boldedCatalogIdText}} {{catalogId}} \u2022 {{permission}}', '[m10n]bizAccess.confirmAssetAccessRequest.modal.catalogId', 'id of catalog text and permission. boldedCatalogIdText: catalog id text in bold; catalogId: id of catalog; permission: permission requested on catalog'),{catalogId:e.id,permission:O(e.accessList[0]),boldedCatalogIdText:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:l._('Catalog ID:', '[m10n]bizAccess.confirmAssetAccessRequest.modal.heading.catalogIdBolded', 'catalog id with colon')},"2")})},e.id)}):void 0,D=function(){d(),c({type:"CLEAR_ERROR"})},k=(0,U.jsx)(m.xu,{marginBottom:1,marginTop:1,children:(0,U.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,U.jsx)(m.X6,{accessibilityLevel:1,size:"600",children:S?l._('Review your request', '[m10n]bizAccess.confirmAssetAccessRequest.modal.heading.catalogs', 'heading for the modal used to confirm catalog access request'):l._('Confirm request', '[m10n]bizAccess.confirmAssetAccessRequest.modal.heading', 'heading for the modal used to confirm asset access request')}),(0,U.jsx)(m.hU,{accessibilityLabel:(0,H.I9)(l),icon:"cancel",iconColor:"darkGray",onClick:D,size:"sm"})]})}),B=(0,a.TH)(),M=(0,P.mW)(B),Z=(t=regeneratorRuntime.mark(function e(){var t,n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(null==i?void 0:i.filter(function(e){return e.id&&0!==e.accessList.length}).map(function(e){return rB({},e.id,e.accessList)}))||[],n=[rB({},s.id,["PROFILE_PUBLISHER"])],r=(A||S)&&i?t:n,e.prev=3,e.next=6,(0,ty.Br)(b,s.id,r,C);case 6:d(),M?c((0,ec.oY)({businessId:b})):c((0,rL.Mm)(["PENDING"],b,!0)),A&&i?i.forEach(function(e){E({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"confirm-asset-access-request-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"request-button",asset_type:o,ad_account_id:e.id})}):S&&i?i.forEach(function(e){E({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"confirm-asset-access-request-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"request-button",asset_type:o,catalog_id:e.id})}):E({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"confirm-asset-access-request-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"request-button",asset_type:o,profile_id:s.id}),p(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:l._('Your request was successful', '[m10n]bizAccess.confirmAssetAccessRequest.modal.requestSuccessful.text', 'Text to tell the user the request was sent successfully')})}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),d(),p(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(l),type:"error"})}),E({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"confirm-asset-access-request-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"request-button",asset_type:o,errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(a=(0,q.Z)(e.t0,"stack"))?void 0:a.slice(0,4096))||(0,q.Z)(e.t0,"message")||""});case 17:case"end":return e.stop()}},e,null,[[3,12]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){rM(o,r,s,a,i,"next",e)}function i(e){rM(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)}),G=(0,U.jsx)(m.xu,{as:"footer",marginStart:2,children:(0,U.jsxs)(m.kC,{alignItems:"center",justifyContent:"between",children:[(0,U.jsx)(m.xu,{children:A&&(0,U.jsx)(m.iP,{onTap:D,children:(0,U.jsx)(m.xv,{children:(0,H.I9)(l)})})}),(0,U.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[A||S?(0,U.jsx)(m.zx,{onClick:function(){return S?h({partner:s,assetsRequested:i}):_({partner:s,adAccountsRequested:i})},size:"lg",text:(0,rk.RW)(l)}):(0,U.jsx)(m.zx,{onClick:D,size:"lg",text:(0,H.I9)(l)}),(0,U.jsx)(m.xu,{marginStart:2,children:(0,U.jsx)(m.zx,{color:"red",dataTestId:"request-asset-access-button",disabled:I,onClick:function(){Z()},size:"lg",text:l._('Request', '[m10n]bizAccess.confirmAssetAccessRequest.modal.requestAccess.button', 'text for button requesting asset access')})})]})]})}),F=j&&(0,U.jsx)(m.aV,{label:(0,U.jsx)(m.xv,{size:"200",children:l._('Requested ad accounts:', '[m10n]bizAccess.confirmAssetAccessRequest.modal.requestedAdAccounts.text', 'text for requested ad accounts')}),type:"unordered",children:null==j?void 0:j.map(function(e){return(0,U.jsx)(m.aV.Item,{text:(0,U.jsx)(m.xv,{children:(0,U.jsxs)(m.kC,{direction:"column",gap:1,children:[(0,U.jsx)(m.xv,{children:(0,R.nk)(l._('Ad account ID: {{accountId}}', '[m10n]bizAccess.confirmAssetAccessRequest.modal.adAccountId', 'Text edisplaying ad account id. accountId: account Id'),{accountId:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:e.id},"2")})},"0"),(0,U.jsx)(m.xv,{children:(0,R.nk)(l._('Permissions: {{requestedPermissions}}', '[m10n]bizAccess.confirmAssetAccessRequest.modal.requestedAccountPermissions', 'Text displaying requested ad account permissions. requestedPermissions: requested account permissions'),{requestedPermissions:(0,U.jsx)(m.xv,{inline:!0,overflow:"breakWord",weight:"bold",children:e.permissions},"3")})},"1")]})})},e.id)})});return(0,U.jsx)(w.ZP,{accessibilityModalLabel:l._('Confirm request modal', '[m10n]bizAccess.confirmAssetAccessRequest.modal.accessibilityLabel', 'accessibility label for the modal used to confirm asset access request'),footer:G,heading:k,onDismiss:D,size:"sm",children:(0,U.jsxs)(m.xu,{"data-test-id":"confirm-asset-access-request",marginEnd:6,marginStart:6,children:[(0,U.jsxs)(m.xu,{marginBottom:4,width:"100%",children:[(A||x)&&(0,U.jsxs)(m.kC,{alignItems:"center",gap:3,children:[(0,U.jsx)(m.qE,{name:s.name,size:"lg",src:s.image}),(0,U.jsx)(m.xv,{children:(0,R.nk)(l._('You will be able to view the status of your requests on the {{partnerName}}\u2019s partner page', '[m10n]bizAccess.confirmAssetAccessRequest.modal.whereToViewStatus', 'Text explaining where to view asset request status. partnerName: bolded text partner name'),{partnerName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:s.name},"1")})})]}),S&&(0,U.jsx)(m.xv,{children:(0,R.nk)(l.ngettext('You will request access to {{numCatalogs}} catalog from {{partnerName}}', 'You will request access to {{numCatalogs}} catalogs from {{partnerName}}', (null == i ? void 0 : i.length) || 1, '[m10n]bizAccess.confirmAssetAccessRequest.modal.whereToViewStatus', 'Text explaining where to view asset request status. numCatalogs: number of catalogs requested; partnerName: bolded text partner name'),{numCatalogs:null==i?void 0:i.length,partnerName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:s.name},"1")})})]}),A&&(0,U.jsx)(m.xu,{marginBottom:1,children:(0,U.jsx)(m.kC,{direction:"column",children:F})}),S&&(0,U.jsx)(m.xu,{marginBottom:1,children:(0,U.jsx)(m.kC,{direction:"column",gap:2,children:z})})]})})},rZ=n(281067),rG=n(254925),rF=n(721819);function rY(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function rV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rq(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rq(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rQ=function(e){var t=e.conversionId,n=e.partnerId,r=e.ownerId,s=(0,S.u)().logContextEvent,o=(0,N.Z)(),a=(0,L.KJ)(),i=(0,f.I0)(),l=(0,L.HU)().clearModal,c=(0,W.dI)().showToast,u=rV((0,_.useState)(!0),2),d=u[0],h=u[1],p=rV((0,_.useState)({name:"",country:null,currency:null}),2),b=p[0],y=p[1],A=rV((0,_.useState)([]),2),g=A[0],x=A[1];return(0,_.useEffect)(function(){var e,t;g.length>0||b.name&&null!=(e=b.country)&&e.value&&null!=(t=b.currency)&&t.value?h(!1):h(!0)},[g,b,h]),(0,U.jsx)(Z.Z,{accessibilityLabel:o._('Assign ad account modal', '[m10n]bizAccess.conversionData.assignAdAccount.a11yLabel', 'Accessibility label for the assign ad account modal'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"assign-adaccount-confirmation-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:d,onClick:function(){var e;h(!0),(e=regeneratorRuntime.mark(function e(){var u,d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,rF.pG)({businessId:a,ownerId:r,conversionId:t,adAccounts:g.map(function(e){return e.id}),accountName:b.name,country:(null==(u=b.country)?void 0:u.value)||"",currency:(null==(d=b.currency)?void 0:d.value)||""});case 3:g.length>0?c(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:o._('Ad accounts assigned.', '[m10n]bizAccess.createAdAccount.success.toast', 'Toast prompting user that ad accounts have been assigned.')})}):c(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:o._('Ad account created.', '[m10n]bizAccess.createAdAccount.success.toast', 'Toast prompting user that ad account has been created.')})}),i((0,rG.zs)({accountId:a,businessId:a,conversionId:t||"",partnerId:n||""})),s({event_type:8965,component:13942,aux_data:{business_id:a}}),l(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),l(),c(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(o),type:"error"})}),s({event_type:8966,component:13942,aux_data:{business_id:a,error_class:JSON.stringify(e.t0).slice(0,64),error_message:(null==(_=(0,q.Z)(e.t0,"stack"))?void 0:_.slice(0,4096))||(0,q.Z)(e.t0,"message")||""}});case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,9,14,17]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){rY(o,r,s,a,i,"next",e)}function i(e){rY(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:o._('Assign', '[m10n]bizAccess.conversionData.assignAdAccount.primaryActionButton', 'Button confirming assignment of ad account')})}),size:"md",title:o._('Assign ad account', '[m10n]bizAccess.conversionData.assignAdAccount.title', 'Title for the assign ad account modal'),children:(0,U.jsx)(m.xu,{children:(0,U.jsx)(rZ.x,{adAccountFilter:function(e){return null!=e.targeting_rmn_business_id&&e.targeting_rmn_business_id===r},adAccountSelectionState:{newAdAccountInformation:b,setNewAdAccountInformation:y,relatedAdAccounts:g,setRelatedAdAccounts:x},partnerId:n,setNextDisabled:function(){},showHeader:!1})})})},rW=n(140537);function rX(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function rK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var r$=function(e){var t,n=e.conversionId,r=e.advertiserId,s=(0,S.u)().logContextEvent,o=(0,N.Z)(),a=(0,f.I0)(),i=(0,L.KJ)(),l=(0,f.v9)(rW.kg),c=(0,f.v9)(rW.As),u=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return rK(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rK(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=u[0],h=u[1],p=(0,L.HU)().clearModal,b=(0,W.dI)().showToast;return(0,U.jsx)(Z.Z,{accessibilityLabel:o._('Delete conversion segment modal', '[m10n]bizAccess.deleteConversionSegment.a11yLabel', 'Accessibility label for the delete conversion segment modal'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"delete-conversion-confirmation-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:l||d,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,a((0,rG.zg)(n,r));case 4:return e.next=6,a((0,rG.UK)((null==(t=c[0])?void 0:t.id)||""));case 6:a((0,rG.oF)({businessId:i,accountId:i,id:""})),b(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:o._('Conversion segment deleted.', '[m10n]bizAccess.deleteConversionSegment.success.toast', 'Toast prompting user that conversion segment has been deleted.')})}),s({event_type:8965,component:13942,aux_data:{business_id:i}}),p(),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),h(!1),p(),b(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(o),type:"error"})}),s({event_type:8966,component:13942,aux_data:{business_id:i,error_class:JSON.stringify(e.t0).slice(0,64),error_message:(null==(l=(0,q.Z)(e.t0,"stack"))?void 0:l.slice(0,4096))||(0,q.Z)(e.t0,"message")||""}});case 18:h(!1);case 19:case"end":return e.stop()}},e,null,[[0,12]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){rX(o,r,s,a,i,"next",e)}function i(e){rX(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:o._('Confirm', '[m10n]bizAccess.deleteConversionSegment.primaryActionButton', 'Button confirming deletion of conversion segment')})}),size:"sm",title:o._('Delete conversion segment', '[m10n]bizAccess.deleteConversionSegment.title', 'Title for the delete conversion segment modal'),children:(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.xv,{size:"200",children:o._('Once you delete this conversion segment, any partners using it will no longer have access to the segment or be able to use its data in their campaigns', '[m10n]bizAccess.deleteConversionSegment.checkboxHeader', 'Header explaining the effects of deleting conversion segment. ')})})})})},rJ=n(308592),r0=n(160611);function r1(e){return(r1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r2(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=r1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=r1(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r1(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function r6(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function r3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var r8=function(e){var t,n,r=e.conversionDataType,s=e.itemToRemove,o=(0,N.Z)(),a=(0,f.I0)(),i=(0,L.KJ)(),l=(0,L.HU)().clearModal,c=(0,W.dI)().showToast,u=(0,f.v9)(rW.Vf),d=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return r3(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r3(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=d[0],p=d[1],b=(0,_.useCallback)(function(e){c(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e,"message")||(0,H.sQ)(o),type:"error"})})},[c,o]),y=(0,_.useCallback)(function(e){c(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:e,type:"success"})})},[c]),A=(0,_.useCallback)((n=regeneratorRuntime.mark(function e(){var t,n,c,d,_,f,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=3;break}return b(Error(o._('Conversion segment data not found', '[m10n]bizAccess.conversionData.removeConversionData.error', 'Error message for remove conversion data modal when conversion segment data is not found.'))),e.abrupt("return");case 3:if(p(!0),e.prev=4,d={name:u.name,conversionTypes:u.conversionTypes||[],sourceAdAccountId:null!=(t=u.adAccountId)?t:void 0,sourceCatalogId:null!=(n=u.catalogId)?n:void 0,filters:null,additionalItemIds:u.additionalItemIds||[],retargetingEnabled:u.retargetingEnabled},"CONVERSION_TYPE"!==r){e.next=12;break}_=s.eventName,d.conversionTypes=(u.conversionTypes||[]).filter(function(e){return e!==_}),e.next=18;break;case 12:if("SOURCE_DATA"!==r){e.next=17;break}f=s,d.additionalItemIds=(u.additionalItemIds||[]).filter(function(e){return e!==f}),e.next=18;break;case 17:case 31:throw Error("Unsupported conversionDataType: ".concat(r));case 18:return m=(0,r0.uZ)({},{type:"initializeFilters",payload:{filterV2Object:null!=(c=u.filterV2Object)?c:{},countryCode:null,feedProfileId:null,catalogBasedCountry:null,catalogBasedLocale:null}}),h=r5(r5({},d),{},{filters:m}),e.next=22,(0,rF.oh)({segmentId:u.id,conversionSegment:h});case 22:if(a((0,rG.oF)({businessId:i,accountId:i,id:i})),"CONVERSION_TYPE"!==r){e.next=27;break}y(o._('Conversion type removed successfully', '[m10n]bizAccess.conversionData.removeConversionType.success', 'Success message for removing conversion type')),e.next=32;break;case 27:if("SOURCE_DATA"!==r){e.next=31;break}y(o._('Product ID removed successfully', '[m10n]bizAccess.conversionData.removeProductId.success', 'Success message for removing product ID')),e.next=32;break;case 32:l(),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(4),b(e.t0);case 38:return e.prev=38,p(!1),e.finish(38);case 41:case"end":return e.stop()}},e,null,[[4,35,38,41]])}),function(){var e=this,t=arguments;return new Promise(function(r,s){var o=n.apply(e,t);function a(e){r6(o,r,s,a,i,"next",e)}function i(e){r6(o,r,s,a,i,"throw",e)}a(void 0)})}),[u,i,r,s,y,b,l,a,o]),g=function(){if("CONVERSION_TYPE"===r){var e=s.eventName,t=(0,rJ.Z)(e,o);return{headerText:o._('Remove conversion type', '[m10n]bizAccess.conversionData.removeConversionType.header', 'Header for remove conversion type modal'),primaryButtonText:o._('Remove', '[m10n]bizAccess.conversionData.removeConversionType.submit', 'Primary button text for remove conversion type modal'),descriptionText:(0,R.nk)(o._('Are you sure you want to remove conversion type {{eventName}} from the selected conversion segment?', '[m10n]bizAccess.conversionData.removeConversionType.description', 'Description for remove conversion type modal. eventName: Name of the conversion type to remove.'),{eventName:t})}}if("SOURCE_DATA"===r)return{headerText:o._('Remove product ID', '[m10n]bizAccess.conversionData.removeProductId.header', 'Header for remove product ID modal'),primaryButtonText:o._('Remove', '[m10n]bizAccess.conversionData.removeProductId.submit', 'Primary button text for remove product ID modal'),descriptionText:(0,R.nk)(o._('Are you sure you want to remove product ID {{productId}} from the selected conversion segment?', '[m10n]bizAccess.conversionData.removeProductId.description', 'Description for remove product ID modal. productId: Product ID to remove.'),{productId:s})};throw Error("Unsupported conversionDataType: ".concat(r))}();return(0,U.jsx)(Z.Z,{accessibilityLabel:g.headerText,hideCancelAction:h,primaryAction:(0,U.jsx)(m.zx,{color:"red",disabled:h,onClick:A,size:"lg",text:g.primaryButtonText}),size:"sm",title:g.headerText,children:h?(0,U.jsx)(m.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,U.jsx)(m.xH,{accessibilityLabel:"Loading...",show:!0})}):(0,U.jsx)(m.xv,{children:g.descriptionText})})};function r4(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function r7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var r9=function(e){var t,n=e.partnerId,r=e.conversionId,s=(0,S.u)().logContextEvent,o=(0,N.Z)(),a=(0,f.I0)(),i=(0,L.KJ)(),l=(0,f.v9)(rW.kg),c=(0,f.v9)(rW.As),u=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return r7(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r7(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=u[0],h=u[1],p=(0,L.HU)().clearModal,b=(0,W.dI)().showToast;return(0,U.jsx)(Z.Z,{accessibilityLabel:o._('Remove conversion segment modal', '[m10n]bizAccess.removeConversionSegment.a11yLabel', 'Accessibility label for the remove conversion segment modal'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"remove-conversion-confirmation-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:l||d,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,a((0,rG.Sf)(i,r,n));case 4:return e.next=6,a((0,rG.UK)((null==(t=c[0])?void 0:t.id)||""));case 6:a((0,rG.oF)({businessId:i,accountId:i,id:""})),a((0,eu.uQ)({businessId:i,detailId:n,partnerType:"EXTERNAL"})),b(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:o._('Conversion segment removed.', '[m10n]bizAccess.removeConversionSegment.success.toast', 'Toast prompting user that conversion segment has been removed.')})}),s({event_type:8965,component:13942,aux_data:{business_id:i}}),p(),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(0),h(!1),p(),b(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(o),type:"error"})}),s({event_type:8966,component:13942,aux_data:{business_id:i,error_class:JSON.stringify(e.t0).slice(0,64),error_message:(null==(l=(0,q.Z)(e.t0,"stack"))?void 0:l.slice(0,4096))||(0,q.Z)(e.t0,"message")||""}});case 19:h(!1);case 20:case"end":return e.stop()}},e,null,[[0,13]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){r4(o,r,s,a,i,"next",e)}function i(e){r4(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:o._('Confirm', '[m10n]bizAccess.removeConversionSegment.primaryActionButton', 'Button confirming removal of conversion segment')})}),size:"sm",title:o._('Remove conversion segment', '[m10n]bizAccess.removeConversionSegment.title', 'Title for the remove conversion segment modal'),children:(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.xv,{size:"200",children:o._('Once you remove this conversion segment, you will no longer have access to this segment or be able to use its data in your campaigns', '[m10n]bizAccess.removeConversionSegment.checkboxHeader', 'Header explaining the effects of removing the conversion segment. ')})})})})};function se(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sn=function(e){var t,n=e.partnerId,r=e.partnerName,s=e.conversionId,o=(0,S.u)().logContextEvent,a=(0,N.Z)(),i=(0,f.I0)(),l=(0,L.KJ)(),c=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return st(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],d=c[1],h=(0,f.v9)(rW.kg),p=(0,L.HU)().clearModal,b=(0,W.dI)().showToast;return(0,U.jsx)(Z.Z,{accessibilityLabel:a._('Revoke conversion segment access modal', '[m10n]bizAccess.revokeConversionAccess.a11yLabel', 'Accessibility label for the revoke conversion segment access modal'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"revoke-conversion-access-confirmation-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:h||u,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,i((0,rG.Sf)(l,s,n));case 4:return e.next=6,i((0,rG.sS)(l,s,!1,["BIZ_CONVERSION_SEGMENT_RESTRICTED_SHARER"]));case 6:b(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:a._('Access revoked.', '[m10n]bizAccess.revokeConversionAccess.success.toast', 'Toast prompting user that access has been revoked.')})}),o({event_type:8965,component:13942,aux_data:{business_id:l}}),p(),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),d(!1),b(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(a),type:"error"})}),o({event_type:8966,component:13942,aux_data:{field_name:"confirmRevokeConversionSegmentAccessCheckbox",business_id:l,error_class:JSON.stringify(e.t0).slice(0,64),error_message:(null==(t=(0,q.Z)(e.t0,"stack"))?void 0:t.slice(0,4096))||(0,q.Z)(e.t0,"message")||""}}),p();case 17:d(!1);case 18:case"end":return e.stop()}},e,null,[[0,11]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){se(o,r,s,a,i,"next",e)}function i(e){se(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:a._('Confirm', '[m10n]bizAccess.revokeConversionAccess.primaryActionButton', 'Button confirming revoke of conversion segment access')})}),size:"sm",title:a._('Revoke conversion segment access', '[m10n]bizAccess.revokeConversionAccess.title', 'Title for the revoke conversion segment access modal'),children:(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.xv,{size:"200",children:(0,R.nk)(a._('{{partnerName}} will lose access to this conversion segment and will no longer be able to use its data in their campaigns', '[m10n]bizAccess.revokeConversionAccess.checkboxHeader', 'Header explaining what the effects of revoking access to conversion segment. partnerName: Name of the partner.'),{partnerName:r})})})})})},sr=n(180483),ss=n(124828),so=n(601366),sa=function(e){var t=e.onChange,n=e.isAoaaSelected,r=e.errorMessage,s=(0,N.Z)();return(0,U.jsxs)(m.FX,{id:"ad-account-type-chooser",legend:s._('Ad Account Type Chooser', '[m10n]bizAccess.adAccount.choose.adAccountType.legend', 'Legend of radio group button'),legendDisplay:"hidden",children:[(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xu,{"data-test-id":"advertiser-owned-ad-account-button",children:(0,U.jsx)(m.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,U.jsxs)(m.kC,{alignItems:"start",justifyContent:"start",children:[(0,U.jsx)(m.FX.RadioButton,{checked:!n,id:"advertiser-owned-ad-account",onChange:function(){return t(v.Z4.ADVERTISER_OWNED_AD_ACCOUNT)},value:"ADVERTISER_OWNED_AD_ACCOUNT"}),(0,U.jsx)(m.__,{htmlFor:"partner-invite",children:(0,U.jsx)(m.xu,{paddingX:2,paddingY:1,children:(0,U.jsx)(m.xv,{children:s._('Create for my business', '[m10n]]bizAccess.adAccount.choose.adAccountType.description', 'Description for type of ad account ownership selected')})})})]})})})}),(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xu,{"data-test-id":"agency-owned-ad-account-button",children:(0,U.jsx)(m.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,U.jsx)(m.xu,{"data-test-id":"request-partner-button",children:(0,U.jsxs)(m.kC,{alignItems:"start",justifyContent:"start",children:[(0,U.jsx)(m.FX.RadioButton,{checked:n,id:"agency-owned-ad-account",onChange:function(){return t(v.Z4.AGENCY_OWNED_AD_ACCOUNT)},value:"AGENCY_OWNED_AD_ACCOUNT"}),(0,U.jsx)(m.__,{htmlFor:"request-partner-button",children:(0,U.jsx)(m.xu,{paddingX:2,paddingY:1,children:(0,U.jsx)(m.xv,{children:s._('Create for a partner\'s business', '[m10n]]bizAccess.adAccount.choose.adAccountType.description', 'Description for type of ad account ownership selected')})})})]})})})})}),r&&(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(m.xv,{color:"error",size:"100",children:r})})]})};function si(e){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||su(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function su(e,t){if(e){if("string"==typeof e)return sd(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sd(e,t):void 0}}function sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s_=function(){var e,t,n,r,s,o,i,l,c,u,d,h,p,b=(0,S.u)().logContextEvent,A=(0,I.Z)().checkExperiment,x=(0,N.Z)(),E=(0,a.TH)(),T=A("web_m10n_business_hierarchy_beta").anyEnabled,C=(0,L.KJ)(!0),O=(0,L.nU)(!0),j=(0,f.I0)(),w=(0,g.ZP)((0,g.QK)("AD_ACCOUNTS")),k=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),B=(0,so.Z)(C),M=(0,(0,y.g)().getParentHierarchyForIdIfExists)(C),G=null==M?void 0:M.id,F=A("web_business_access_aoaa").anyEnabled,Y=sc((0,_.useState)(!1),2),V=Y[0],X=Y[1],K=sc((0,z.Z)(D.b,!0,C),3),$=K[0],J=K[1],ee=K[2],et={"Puerto Rico":"PR"},en=sc((0,z.Z)(ty.xZ,!0,C),3),er=en[0],es=en[2],eo=(er||[]).map(function(e){var t=e.code;return{label:e.name,value:t}}),ea=new Map((er||[]).map(function(e){return[e.code,{default:e.currency_code,currencies:e.allowed_currencies.map(function(e){var t=e.code;return{label:e.name,value:t}})}]})),el={},ec=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=su(e))){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(er||[]);try{for(ec.s();!(p=ec.n()).done;){var eu=p.value;el[eu.code]=eu}}catch(e){ec.e(e)}finally{ec.f()}var ed=sc((0,z.Z)(function(e){return(0,t4.dF)(e,v.cU,"PARTNER")},!0,{id:C,limit:v.cU,partnerType:"EXTERNAL"}),3),e_=ed[0],ef=ed[1],em=ed[2],eh=((null==e_?void 0:e_.data.data)||[]).map(function(e){var t=e.id,n=e.user;return{label:null==n?void 0:n.full_name,value:t,image_small_url:null==n?void 0:n.image_small_url}}),ep=sc((0,_.useState)(""),2),eb=ep[0],ey=ep[1],ev=(0,L.HU)(),eA=ev.setCreateAdAccountConfirmationModal,eg=ev.setAOAAPermissionAssignmentModal,eS=ev.setRequiredRMAAInformationModal,ex=(0,f.v9)(function(e){var t;return null!=(t=e.businessAccess.adAccounts)?t:{}}),eE=ex.error,eP=ex.loading,eI=sc((0,_.useState)(C),1)[0],eT=sc((0,_.useState)(""),2),eC=eT[0],eO=eT[1],ej=sc((0,_.useState)(""),2),ez=ej[0],ew=ej[1],eN=sc((0,_.useState)(""),2),eR=eN[0],eD=eN[1],ek=sc((0,_.useState)(""),2),eL=ek[0],eU=ek[1],eB=(0,W.dI)().showToast,eM=x._('Create ad account modal', '[m10n]bizAccess.createAdAccount.modal', 'accessibility label for the modal used to create ad account'),eH=x._('Create new ad account', '[m10n]bizAccess.createAdAccount.new.title', 'Title for the modal used to create a new ad account'),eG=!!el[ez],eF=Object.fromEntries(((null==(e=el[ez])||null==(t=e.reseller)?void 0:t.non_reseller_regions)||[]).map(function(e){return[e,!1]}).concat(((null==(n=el[ez])||null==(r=n.reseller)?void 0:r.regions)||[]).map(function(e){return[e,!0]}))),eY=eG&&(null==(s=el[ez].reseller)?void 0:s.business_name),eV=!!eG&&(null==(o=el[ez].reseller)?void 0:o.regions),eq=eF[eL]||!1,eQ=(0,_.useMemo)(function(){return!!eY&&(!eV||eq)},[eY,eV,eq]);if(eP||ee||es||em)return(0,U.jsx)(Z.Z,{accessibilityLabel:eM,size:"sm",title:eH,children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(x),show:!0})});var eW=eE||J||ef,eX=eW&&(null!=eW&&eW.code?eW.message:(0,H.sQ)(x)),eK=eW.api_error_code===v.O1.SANCTIONED_COUNTRY_FOR_BUSINESS,e$=0===eC.length||0===ez.length||eV&&0===eL.length,eJ=V&&(!eb||0===eC.length||0===eo.length);return(0,U.jsxs)(Z.Z,{accessibilityLabel:eM,primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"create-ad-account-submit-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:e$||eJ,onClick:function(){var e,t=$||{};if(F&&V){var n=eh.find(function(e){return e.value===eb});eg({partnerBusinessInfo:{image_small_url:null==n?void 0:n.image_small_url,full_name:n.label,id:eb},ownerInfo:t,accountInfo:{name:eC,country:ez}});return}j((0,ei.Br)({businessId:C,detailId:O,ownerBusinessId:eI||C||"",agencyBusinessId:eI&&eI!==C?C:null,accountName:eC,country:ez,currency:eR,tosId:(0,rP.Fc)(null!=(e=tm.tN[ez])?e:0,eQ),businessHierarchyNodeId:G,skipReseller:eV&&!eq,onSuccess:function(e){if(eQ){var n,r;(0,ty.EB)((null==(n=el[ez].reseller)?void 0:n.id)||"",[v.gO.ADMIN],e.id,C,"PARTNER"),eS({id:e.id,name:e.name,country:ez||"UNKNOWN",state:eq?et[eL]:void 0,resellerBusinessName:(null==(r=el[ez].reseller)?void 0:r.business_name)||"",page:"BUSINESS_ACCESS_AD_ACCOUNTS",shouldDisableState:eq}),eB(function(e){var t,n=e.hideToast;return(0,U.jsx)(Q.Z,{dismissButton:{onDismiss:n},duration:v.QE,onHide:n,text:(0,sr.Z)(x._('Ad account created and assigned to {{name}}', '[m10n] businessAccess.createAdAccount.successToast', 'message confirming that ad account was created and assigned, name: name of reseller partner'),{name:(null==(t=el[ez].reseller)?void 0:t.business_name)||""}),type:"success"})})}else eA({accountInfo:e,ownerInfo:t,refreshData:B});(0,P.dK)(E)?k({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"create-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:e.id,ad_account_name:eC,ad_account_country:ez}):(w({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"create-ad-account-form",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:e.id,ad_account_name:eC,ad_account_country:ez}),b({event_type:8965,component:13638,aux_data:{business_id:C,ad_account_id:e.id}}))},onFailure:function(e){var t,n,r;(0,P.dK)(E)?k({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"create-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e).slice(0,64),errorMessage:(null==(t=(0,q.Z)(e,"stack"))?void 0:t.slice(0,4096))||(0,q.Z)(e,"message")||""}):(w({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"create-ad-account-form",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e).slice(0,64),errorMessage:(null==(n=(0,q.Z)(e,"stack"))?void 0:n.slice(0,4096))||(0,q.Z)(e,"message")||""}),b({event_type:8966,component:13638,aux_data:{business_id:C,error_class:JSON.stringify(e).slice(0,64),error_message:(null==(r=(0,q.Z)(e,"stack"))?void 0:r.slice(0,4096))||(0,q.Z)(e,"message")||""}}))}}))},size:"lg",text:V?x._('Next', '[m10n]bizAccess.createAdAccount.nextLabel', 'Label for the button prompting the next step in the creation of an agency owned ad account'):x._('Create', '[m10n]bizAccess.createAdAccount.submitLabel', 'Label for the button confirming the creation of an ad account')})}),size:"sm",title:eH,children:[T&&(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsx)(m.xu,{"data-test-id":"ad-account-name",marginBottom:6,children:(0,U.jsx)(m.nv,{errorMessage:eK?"":eX,helperText:x._('Use a descriptive name for search purposes', '[m10n]bizAccess.createAdAccount.accountNameHelperText.new', 'Helper text for a text field in the account creation flow'),id:"accountName",label:x._('Ad account name', '[m10n]bizAccess.createAdAccount.accountNameLabel', 'Label for a text field in the account creation flow'),maxLength:{characterCount:64,errorAccessibilityLabel:x._('Ad account may not exceed 64 characters', '[m10n]bizAccess.createAdAccount.accountNameMaxLength', 'error accessibility label if ad account name input exceeds 64 characters')},name:"accountName",onChange:function(e){eO(e.value),(0,eZ.Z)(b,{event_type:8964,component:13638,aux_data:{business_id:C,field_name:"accountName"}})},placeholder:x._('Account name', '[m10n]bizAccess.createAdAccount.accountNamePlaceholder', 'Placeholder for the account name field in the account creation flow'),size:"lg",type:"text",value:eC})}),(0,U.jsx)(m.xu,{display:"flex",marginBottom:4,children:(0,U.jsx)(m.xu,{flex:"grow",marginStart:0,width:0,children:(0,U.jsx)(m.EI,{errorMessage:0===eo.length?x._('Oops! An error occurred and the list of available countries did not load. We recommend disabling ad-blocker or checking your internet connection.', '[m10n]bizAccess.createAdAccount.countriesError', 'error message saying available countries could not be loaded for ad account creation, and we recommend disabling ad blockers or checking internet connection'):void 0,helperText:x._('Select the country where your business is located', '[m10n]bizAccess.createAdAccount.countrySelectList.helperText', 'Helper text for country select list field in the account creation flow'),id:"country",label:x._('Country', '[m10n]bizAccess.createAdAccount.countryLabel', 'Label for a country dropdown'),name:"country",onChange:function(e){var t,n,r=e.value;ew(r),eD(null!=(t=null==(n=ea.get(r))?void 0:n.default)?t:""),(0,eZ.Z)(b,{event_type:8964,component:13638,aux_data:{business_id:C,field_name:"country"}})},placeholder:x._('Select', '[m10n]bizAccess.createAdAccount.countrySelectList.placeholder', 'Placeholder for country select list field in the account creation flow'),size:"lg",value:ez,children:eo.map(function(e){return(0,U.jsx)(m.EI.Option,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=si(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=si(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==si(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),e.label)})})})}),(0,U.jsx)(m.xu,{paddingY:2,children:(0,U.jsx)(m.he,{iconAccessibilityLabel:x._('Information icon', '[m10n] businessManager.createAdAccount.countryWarningBanner', 'Information icon accessibility label for country warning'),message:(0,U.jsx)(m.xv,{children:(0,R.nk)(x._('Can\'t find your country? Visit our {{ helpCenter }} to see which advertising partner can help you get started.', '[m10n]bizAccess.createAdAccount.countryWarningBanner', 'Banner warning about countries not listed with link to help center. helpCenter: Link to help center'),{helpCenter:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:(0,U.jsx)(m.rU,{display:"inlineBlock",href:"https://help.pinterest.com/business/article/promoted-pins-overview#section-31877/",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"always",children:x._('Help Center', '[m10n]bizAccess.createAdAccount.helpCenterLink', 'Link text for Help Center in country warning banner')})},"helpCenterLinkText")})}),type:"info"})}),(0,U.jsx)(m.xu,{display:"flex",marginBottom:4,children:(0,U.jsx)(m.xu,{flex:"grow",marginStart:0,width:0,children:(0,U.jsx)(m.EI,{disabled:!ez||(null!=(i=null==(l=ea.get(ez))?void 0:l.currencies)?i:[]).length<=1,errorMessage:ea&&0!==ea.size?void 0:x._('Oops! An error occurred and the list of available currencies did not load. We recommend disabling ad-blocker or checking your internet connection.', '[m10n]bizAccess.createAdAccount.currenciesError', 'error message saying available currencies could not be loaded for ad account creation, and we recommend disabling ad blockers or checking internet connection'),helperText:x._('Select the currency that will be used for advertising spend', '[m10n]bizAccess.createAdAccount.currencySelectList.helperText', 'Helper text for currency select list field in the account creation flow'),id:"currency",label:x._('Currency', '[m10n]bizAccess.createAdAccount.currencyLabel', 'Label for a currency dropdown'),name:"currency",onChange:function(e){eD(e.value),(0,eZ.Z)(b,{event_type:8964,component:13638,aux_data:{business_id:C,field_name:"currency"}})},placeholder:x._('Select a country first', '[m10n]bizAccess.createAdAccount.currencySelectList.placeholder', 'Placeholder for currency select list field in the account creation flow'),size:"lg",value:eR,children:(null!=(c=null==(u=ea.get(ez))?void 0:u.currencies)?c:[]).map(function(e){return(0,U.jsx)(m.EI.Option,{label:"".concat(e.value," - ").concat(e.label),value:e.value},e.value)})})})}),(0,U.jsx)(m.xu,{paddingY:2,children:(0,U.jsx)(m.he,{iconAccessibilityLabel:x._('Warning icon', '[m10n] businessManager.createAdAccount.createAdAccountBanner', 'Information icon accessibility label'),message:x._('Please note that the country and currency cannot be changed after the ad account is created.', '[m10n]bizAccess.createAdAccount.warningBanner', 'Banner that warns the user that currency & country cannot be changed after created a new ad account'),type:"warning"})}),eV&&(0,U.jsx)(m.xu,{display:"flex",marginBottom:4,children:(0,U.jsx)(m.xu,{flex:"grow",marginStart:0,width:0,children:(0,U.jsx)(m.EI,{errorMessage:0===Object.keys(eF).length?x._('Oops! An error occurred and the list of available regions did not load. We recommend disabling ad-blocker or checking your internet connection.', '[m10n]bizAccess.createAdAccount.', 'error message saying available regions couldregionsError not be loaded for ad account creation, and we recommend disabling ad blockers or checking internet connection'):void 0,helperText:x._('Select the region where your business is located', '[m10n]bizAccess.createAdAccount.regionSelectList.helperText', 'Helper text for region select list field in the account creation flow'),id:"region",label:x._('Region', '[m10n]bizAccess.createAdAccount.regionLabel', 'Label for a region dropdown'),name:"region",onChange:function(e){eU(e.value),(0,eZ.Z)(b,{event_type:8964,component:13638,aux_data:{business_id:C,field_name:"region"}})},placeholder:x._('Select', '[m10n]bizAccess.createAdAccount.regionSelectList.placeholder', 'Placeholder for region select list field in the account creation flow'),size:"lg",value:eL,children:Object.keys(eF).map(function(e){return(0,U.jsx)(m.EI.Option,{label:e,value:e},e)})})})}),eQ&&(0,U.jsx)(m.xu,{"data-test-id":"reseller-has-admin-permissions-banner",paddingY:2,children:(0,U.jsx)(m.he,{iconAccessibilityLabel:x._('Information icon', '[m10n] businessManager.createAdAccount.resellerBanner', 'Information icon accessibility label'),message:(0,R.Wc)(x._('{{ resellerBusinessName }} will have admin permissions to this ad account. Admin access cannot be revoked or modified.', '[m10n] businessManager.createAdAccount.resellerBanner', 'Banner that tells the user that the reseller will be granted admin access to the ad account. resellerBusinessName:The business account name of the reseller'),{resellerBusinessName:(null==(d=el[ez].reseller)?void 0:d.business_name)||""}),type:"info"})}),F&&eh.length>0&&(0,U.jsx)(sa,{isAoaaSelected:V,onChange:function(e){X(e===v.Z4.AGENCY_OWNED_AD_ACCOUNT)}}),V&&(0,U.jsxs)(m.xu,{paddingY:4,children:[(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.he,{iconAccessibilityLabel:"Info",message:x._('As the creator of an ad account, you will own it and be able to limit partner permissions', '[m10n]bizAccess.createAdAccount.partnerBusinessName.callout', 'Callout that describes an agency owned ad account'),type:"info"})}),(0,U.jsx)(m.xu,{"data-test-id":"partner-business-name-combo-box",children:(0,U.jsx)(m.BC,{accessibilityClearButtonLabel:x._('clear partner selection', '[m10n]bizAccess.createAdAccount.partnerClearLabel', 'accessibility label for clearing partner selection '),id:"partner-business-name",label:x._('Partner\'s business name', '[m10n]bizAccess.createAdAccount.partnerBusinessNameLabel', 'Label for a partner business name dropdown'),noResultText:x._('No partner results for your selection', '[m10n]bizAccess.createAdAccount.noResultsText', 'text for combo box if no partner results show up for selection'),onChange:function(){ey("")},onClear:function(){ey("")},onSelect:function(e){ey(e.item.value),(0,eZ.Z)(b,{event_type:8964,component:13638,aux_data:{business_id:C,field_name:"partnerBusinessId"}})},options:eh.map(function(e){return{label:e.label,value:e.value}}),placeholder:x._('Select a partner', '[m10n]bizAccess.createAdAccount.partnerBusinessName.Placeholder', 'Placeholder for a partner business name dropdown'),size:"lg",zIndex:tb.b7})})]}),eQ&&(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(x._('By clicking \u201CCreate\u201D, you represent that you are authorized to create an account, and you agree to the terms and conditions of the {{ advertisingAgreement }}, which shall govern the use of the ad service under this ad account. You also agree that all your payments for services received under this ad account will be facilitated by {{ resellerBusinessName }}.', '[m10n]bizAccess.createAdAccount.reseller.disclaimer', 'Legal disclaimer. advertisingAgreement: Link to the Pinterest Advertising Agreement, resellerBusinessName: ther reseller business name'),{resellerBusinessName:(null==(h=el[ez].reseller)?void 0:h.business_name)||"",advertisingAgreement:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:(0,U.jsx)(m.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/business/pinterest-advertising-services-agreement",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"always",children:x._('Pinterest Advertising Services Agreement', '[m10n]bizAccess.createAdAccount.disclaimerAgreement', 'Linked text description for the Pinterest advertising agreement')})},"advAgreementLinkText")})})}),!eQ&&(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(x._('By creating this account, you represent that you are authorized to do so, and you agree to the {{ advertisingAgreement }}.', '[m10n]bizAccess.createAdAccount.disclaimer', 'Legal disclaimer. advertisingAgreement: Link to the Pinterest Advertising Agreement'),{advertisingAgreement:(0,e1.Jc)(x)})})}),eK&&(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(ss.Z,{})})]})},sf=function(e){var t=e.content,n=e.subcontent,r=e.face;return(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.xu,{children:(0,U.jsxs)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.qE,{name:(null==r?void 0:r.name)||"",size:"lg",src:null==r?void 0:r.src})}),(0,U.jsx)(m.xu,{flex:"grow",marginStart:4,children:(0,U.jsx)(m.xv,{children:t})})]})}),n?(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",marginBottom:8,children:(0,U.jsx)(m.xv,{children:n})})}):""]})},sm=function(e){var t=e.ownerInfo,n=e.accountInfo,r=e.refreshData,s=(0,S.u)().logContextEvent,o=(0,N.Z)(),a=(0,I.Z)().checkExperiment,i=(0,L.KJ)(),l=a("web_m10n_business_hierarchy_beta").anyEnabled,c=(0,L.HU)().setAssignAdAccountsModal;return(0,_.useEffect)(function(){null==r||r()},[r]),(0,U.jsxs)(Z.Z,{accessibilityLabel:(0,eM.ZE)(o),cancelText:(0,eM.Ty)(o),primaryAction:(0,U.jsx)(m.zx,{color:"red",fullWidth:!0,onClick:function(){c({selectedIds:[n.id],selectionType:v.c7.PERSON,dataToRefresh:"AD_ACCOUNT_PEOPLE",assignmentType:"PEOPLE"}),s({event_type:8965,component:13639,aux_data:{business_id:i}})},size:"lg",text:o._('Assign people', '[m10n]bizAccess.createAdAccount.confirmation.assign', 'Label for a button that shows up for newly created ad account')}),size:"sm",title:(0,eM.Hp)(o),children:[l&&(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsx)(sf,{content:(0,R.nk)(o._('{{ adAccountName }} was successfully created for {{ businessName }}.', '[m10n]bizAccess.createAdAccount.confirmation.content', 'Content for a modal confirming that an ad account (adAccountName) has been created under the business (businessName)'),{adAccountName:n.name||"",businessName:t.full_name||""}),face:{name:t.full_name||"",src:t.image_medium_url},subcontent:""})]})},sh=n(862429);function sp(e){return(sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sb(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=sp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sp(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sp(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sv(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function sA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sg=function(e){var t,n=e.businessAccount,r=(0,N.Z)(),s=(0,L.KJ)(!0),o=(0,g.ZP)((0,g.QK)("DASHBOARD")),a=(0,L.HU)(),i=a.clearModal,l=a.setUploadBusinessHierarchyAvatarImageModal,c=(0,W.dI)().showToast,u=(0,y.g)().switchAccount,d=(0,(0,I.Z)().checkExperiment)("web_m10n_business_manager_business_settings").anyEnabled;(0,ry.Z)(function(){o({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_CREATE_BUSINESS_HIERARCHY_MODAL",component_id:"create-business-hierarchy-modal",business_id:s})});var f=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return sA(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sA(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=f[0],b=f[1],A=r._('Create business hierarchy modal', '[m10n]bizAccess.createBusinessHierarchy.modal', 'accessibility label for the modal used to create business hierarchy'),S=r._('Create business hierarchy', '[m10n]bizAccess.createBusinessHierarchy.title', 'Title for the modal used to create a business hierarchy');return(0,U.jsx)(Z.Z,{accessibilityLabel:A,hideCancelAction:!0,primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"create-bisiness-hierarchy-submit-button",children:(0,U.jsx)(m.zx,{accessibilityLabel:r._('Create business hierarchy', '[m10n]bizAccess.createBusinessHierarchy.submitLabel.a11y', 'a11y Label for the button confirming the creation of a business hierarchy'),color:"red",disabled:0===h.length||(0,H.Zn)(h),onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t,n,a,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"create-business-hierarchy-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:s}),e.prev=1,e.next=4,(0,sh.FD)({name:h});case 4:a=(n=void 0===(n=((t=e.sent)||{data:{}}).data)?{business_hierarchy_id:""}:n).business_hierarchy_id,c(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:r._('Business hierarchy successfully created.', '[m10n]bizAccess.createBusinessHierarchy.modal.successToast', 'Toast prompting business hierarchy has been created successfully.')})}),d?l({businessHierarchy:sy(sy({},(null==t?void 0:t.data)||{}),{},{id:(null==t||null==(_=t.data)?void 0:_.business_hierarchy_id)||"",name:h,children:[]})}):u(a,p.Oz.BUSINESS_HIERARCHY),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),c(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:r._('Failed to create business hierarchy.', '[m10n]bizAccess.createBusinessHierarchy.modal.failToast', 'Toast prompting business hierarchy has failed to be created.'),type:"error"})}),d||i();case 16:case"end":return e.stop()}},e,null,[[1,12]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){sv(o,r,s,a,i,"next",e)}function i(e){sv(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:r._('Create', '[m10n]bizAccess.createBusinessHierarchy.submitLabel', 'Label for the button confirming the creation of a business hierarchy')})}),size:"sm",title:S,children:(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsxs)(m.kC,{direction:"column",gap:4,height:"100%",children:[(0,U.jsxs)(m.xv,{children:[r._('Creating a business hierarchy will let you view and manage your child businesses in one place. ', '[m10n]bizAccess.createBusinessHierarchy.infoText', 'information about business hiearchies'),(0,U.jsx)(m.rU,{accessibilityLabel:r._('Learn more about creating business hierarchy', '\'[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.learnMore.ally', 'link to learn more about creating business hierarchy'),display:"inline",href:"https://help.pinterest.com/en/business/article/get-a-business-account",target:"blank",children:r._('Learn more', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.learnMore', 'text for link to learn more')})]}),(0,U.jsx)(m.he,{message:(0,R.nk)(r._('{{businessAccountName}} will be added as a child business within your hierarchy', '[m10n]bizAccess.createBusinessHierarchy.slimBanner', 'text in callout to say that the business will become a child in the business hierarchy after creation businessAccountName: name of business creating the hierarchy'),{businessAccountName:n.user.full_name}).join(""),type:"infoBare"}),(0,U.jsx)(m.nv,{errorMessage:h.length>=100?r._('You may not exceed 100 characters', '[m10n]bizAccess.createBusinessHierarchy.maxLength', 'error message for exceeding max length'):(0,H.Zn)(h)?r._('Special characters are not allowed', '[m10n]businessAccess.editBusinesDetails.modal.specialCharacterError', 'error message for when user tries to name a business hiearchy with special characters'):null,helperText:r._('This will be the name of the parent business in your hierarchy', '[m10n]bizAccess.createBusinessHierarchy.nameHelperText', 'Helper text for a text field in the business hierarchy creation flow'),id:"businessHierarchyName",maxLength:{characterCount:100,errorAccessibilityLabel:r._('You may not exceed 100 characters for business hierarchy name', '[m10n]bizAccess.createBusinessHierarchy.maxLength.a11y', 'a11y for exceeding character count in business hierarchy name.')},onChange:function(e){b(e.value)},placeholder:r._('Name your hierarchy', '[m10n]bizAccess.createBusinessHierarchy.namePlaceholder', 'Placeholder for the name field in the business hierarchy creation flow'),size:"lg",type:"text",value:h})]})})})};function sS(e){return function(e){if(Array.isArray(e))return sE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sx(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sx(e,t){if(e){if("string"==typeof e)return sE(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sE(e,t):void 0}}function sE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function sP(e){var t,n=e.onSuccess,r=e.onDismiss,s=(0,f.v9)(ep.FS),o=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||sx(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],i=o[1],l=(0,N.Z)(),c=(0,L.KJ)(),u=(0,f.I0)(),d=(0,W.dI)().showToast,h=s.employees.length,p=s.partners.length,b=sS(new Set(s.employees.flatMap(function(e){return e.permissions}))),A=sS(new Set(s.partners.flatMap(function(e){return e.permissions}))),g=sS(new Set(b.concat(A))),S=s.child_profile_ids.length,x=s.child_ad_account_ids.length,E=(0,(0,y.g)().getParentHierarchyForIdIfExists)(c),P=null==E?void 0:E.id,I=[(0,R.nk)(l.ngettext('{{numEmployees}} employee', '{{numEmployees}} employees', h, '[m10n]bizAccess.invite.confirmationModal.business.numAdAccountsInvite', 'Text describing the number of employees in an asset group. numEmployees: number of employees in asset group'),{numEmployees:h}).join(""),(0,R.nk)(l.ngettext('{{numPartners}} partner', '{{numPartners}} partners', p, '[m10n]businessAccess.assetGroups.deleteConfirmation.numPartners', 'Text describing the number of partners in an asset group. numPartners: number of partners in asset group'),{numPartners:p}).join("")].join((0,H.qD)(l)),T={calloutText:l._('Once you delete an asset group, you will need to reassign permissions for employees and partners to access assets', '[m10n]businessAccess.assetGroups.deleteConfirmation.calloutText', 'Text for delete asset group confirmation callout'),calloutA11yLabel:l._('Warning about deleting an asset group', '[m10n]businessAccess.assetGroups.deleteConfirmation.calloutA11yLabel', 'Accessibility label for delete asset group callout'),title:(0,R.nk)(l._('Deleting {{ groupName }} ({{ groupId }}) will result in the following:', '[m10n]businessAccess.assetGroups.deleteConfirmation.title', 'title of delete asset group modal text, groupName: name of asset group, groupId: id of asset group'),{groupName:s.name,groupId:s.id}),adAccountsText:(0,R.nk)(l.ngettext('\u2022 {{ usersAssigned }} will lose access to {{ numAdAccounts }} ad account with {{ permissions }} permissions', '\u2022 {{ usersAssigned }} will lose access to {{ numAdAccounts }} ad accounts with {{ permissions }} permissions', x, '[m10n]businessAccess.assetGroups.deleteConfirmation.adAccountsText', 'bullet showing who will lose access to the deleted asset group ad accounts, usersAssigned: employees and partners assigned, numAdAccounts: number of ad accounts, permissions: ad account permissions'),{usersAssigned:I,numAdAccounts:x,permissions:(0,H.If)(g.map((0,tN.e6)(l)),l)}).join(""),profilesText:(0,R.nk)(l.ngettext('\u2022 {{ usersAssigned }} will lose access to {{ numProfiles }} profile with Publisher permissions', '\u2022 {{ usersAssigned }} will lose access to {{ numProfiles }} profiles with Publisher permissions', S, '[m10n]businessAccess.assetGroups.deleteConfirmation.profilesText', 'bullet showing who will lose access to the deleted asset group profiles, usersAssigned: employees and partners assigned, numProfiles: number of profiles'),{usersAssigned:I,numProfiles:S}).join(""),checkboxLabel:l._('Check this box to confirm', '[m10n]businessAccess.assetGroups.deleteConfirmation.checkboxLabel', 'Label of confirmation checkbox'),cancelButtonText:l._('Cancel', '[m10n]businessAccess.assetGroups.deleteConfirmation.cancel', 'Cancel button text'),deleteButtonText:l._('Delete', '[m10n]businessAccess.assetGroups.deleteConfirmation.delete', 'Delete button text')};return(0,U.jsx)(m.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,U.jsxs)(m.kC,{direction:"column",gap:4,maxWidth:600,children:[(0,U.jsx)(m.ci,{iconAccessibilityLabel:T.calloutA11yLabel,message:T.calloutText,type:"warning"}),(0,U.jsx)(m.xv,{children:T.title}),(0,U.jsx)(m.xu,{marginStart:2,children:(0,U.jsxs)(m.kC,{direction:"column",gap:2,children:[(0,U.jsx)(m.xv,{children:T.adAccountsText}),(0,U.jsx)(m.xv,{children:T.profilesText})]})}),(0,U.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,U.jsx)(m.xu,{"data-test-id":"delete-asset-group-confirmation-box",children:(0,U.jsx)(m.XZ,{checked:a,id:"checkbox",label:T.checkboxLabel,onChange:function(e){return i(e.checked)}})})}),(0,U.jsx)(m.xu,{marginTop:8,children:(0,U.jsxs)(m.kC,{justifyContent:"end",children:[(0,U.jsx)(m.xu,{marginEnd:2,children:(0,U.jsx)(m.zx,{onClick:r,size:"lg",text:T.cancelButtonText})}),(0,U.jsx)(m.xu,{"data-test-id":"delete-asset-group-button",children:(0,U.jsx)(m.zx,{disabled:!a,onClick:function(){s&&u((0,el.RE)({businessId:c,assetGroupId:s.id,businessHierarchyNodeId:P,onSuccess:function(){n(),d(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,R.nk)(l._('Asset group {{name}} has been deleted', '[m10n]businessAccess.assetGroups.deleted.toast', 'text for toast shown when an asset group is deleted. name: asset group name'),{name:s.name}).join("")})})},onFailure:function(e){var t=(0,R.nk)(l._('Failed to delete asset group {{name}}', '[m10n]businessAccess.assetGroups.deleteFailed.toast', 'text for toast shown when an asset group fails to be deleted. name: asset group name'),{name:s.name}).join("");r(),d(function(n){var r=n.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:r,text:e.message_detail||t,type:"error"})})}}))},size:"lg",text:T.deleteButtonText})})]})})]})})}var sI=function(e){var t=e.onSuccess,n=(0,L.HU)().clearModal,r=(0,L.KJ)(),s=(0,N.Z)(),o=(0,g.ZP)("BUSINESS_ACCESS_ASSET_GROUPS"),a=(0,f.I0)();(0,_.useEffect)(function(){a((0,el.dQ)({businessId:r,limit:100},{userType:"PEOPLE",updateDataOnly:!0})),a((0,el.dQ)({businessId:r,limit:100},{userType:"PARTNER",updateDataOnly:!0}))},[r]);var i=(0,f.v9)(ep.qy),l=(0,f.v9)(ep.fW),c=function(e){o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"asset-groups-delete",element:"BUSINESS_ACCESS_BUTTON",business_id:r,elementId:e})},u=function(){t(),n(),c("delete-asset-group-confirmation")},d={heading:s._('Delete asset group', '[m10n]businessAccess.assetGroups.deleteConfirmation.heading', 'Title of delete asset groups modal'),a11yLabel:s._('Delete asset group', '[m10n]businessAccess.assetGroups.deleteConfirmation', 'accessibility label of modal for delete asset group modal')};return(0,U.jsx)(w.ZP,{accessibilityModalLabel:d.a11yLabel,heading:d.heading,onDismiss:function(){u()},size:"sm",children:(0,U.jsx)(m.xu,{padding:4,children:i||l?(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(s),show:!0}):(0,U.jsx)(sP,{onDismiss:function(){n(),c("delete-asset-group-confirmation-dismissed")},onSuccess:u})})})};function sT(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function sC(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){sT(o,r,s,a,i,"next",e)}function i(e){sT(o,r,s,a,i,"throw",e)}a(void 0)})}}function sO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sj(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sj(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sz=function(e){var t,n,r,s,o,i,l,c=e.dataToRefresh,u=e.resourceId,d=e.principalId,h=e.assignmentType,p=e.rolesForAoaa,b=e.clientBusinessId,A=(0,I.Z)(),x=A.checkExperiment,E=x("web_m10n_business_hierarchy_beta").anyEnabled,T=x("web_m10n_business_access_catalogs").anyEnabled,C=(0,S.u)().logContextEvent,O=(0,g.ZP)((0,g.o1)(c)),j=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),w=(0,a.TH)(),k=(0,N.Z)(),B=(0,L.KJ)(),M=(0,L.KJ)(!0),G=B||M,F=(0,L.nU)(),Y=(0,L.nU)(!0),V=F||Y,X=(0,W.dI)().showToast,K=(0,f.I0)(),$=(0,L.HU)(),J=$.setRemoveAdAccountAccessModal,ee=$.clearModal,et=(0,(0,y.g)().getParentHierarchyForIdIfExists)(G),en=null==et?void 0:et.id,er=sO((0,_.useState)([]),2),es=er[0],eo=er[1],ea=(t=sC(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[null,null,null]);case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),el="AOAA_REQUEST_DETAIL_PAGE"===c,ec=(0,f.v9)((0,nd.PP)(V)),e_=ec.permissions,ef=ec.client_business,em=e_&&e_.find(function(e){return Object.keys(e).includes(d)})[d],eh=sO((0,_.useState)(!1),2),ep=eh[0],eb=eh[1],ey=sO((0,z.Z)(D.b,!0,d),3),ev=ey[0],eA=ey[1],eg=ey[2],eS=sO((0,z.Z)(el?ea:ty.G2,!0,{assetId:u,businessId:G,resourceType:"AD_ACCOUNT",includeAssetSummary:!0}),3),ex=eS[0],eE=eS[1],eP=eS[2],eI="PARTNER"===h?t1.h9:tU.GL,eT=sO((0,z.Z)(p||el?ea:eI,!0,"PARTNER"===h?{businessId:G,assetId:u,partnerId:d}:{businessId:G,assetId:u,personId:d}),3),eC=eT[0],eO=eT[1],ej=eT[2],ez=null==eC||null==(n=eC.data)?void 0:n.data,ew=el?em:p||(null==ez?void 0:ez.permissions)||[],eN=T?v.k_:v.hd,eR=el?eN:(0,tJ.u)((null==ex||null==(r=ex.data)||null==(s=r.data)?void 0:s.permissions)||[],T);if(ej||eg||eP)return(0,U.jsx)(ri.Z,{});var eD=eO||eA||eE;if(eD){var ek=(null==eD?void 0:eD.message)||(0,H.sQ)(k);return X(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:ek,type:"error"})}),ee(),null}return(0,U.jsxs)(Z.Z,{accessibilityLabel:k._('Edit ad account roles modal', '[m10n]bizAccess.editAdAccountRoles.modal', 'accessibility label for the modal used to edit ad account assignments'),footerSecondaryContent:!(el&&"PARTNER"===h)&&(0,U.jsx)(m.xu,{"data-test-id":"remove-ad-account-access-button",children:(0,U.jsx)(m.zx,{color:"transparent",onClick:function(){J({resourceId:u,principalId:d,dataToRefresh:c,assignmentType:h})},size:"lg",text:k._('Remove', '[m10n]bizAccess.editAdAccountRoles.removeLabel', 'Label for a button that initiates removing a person\'s permissions to an account')})}),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"save-edits-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:!ep||0===es.length,onClick:function(){sC(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!el){e.next=7;break}return e_[e_.findIndex(function(e){return Object.keys(e).includes(d)})][d]=es,e.next=5,(0,tL.SA)({businessId:G,partnerId:ef.id,requestId:V,businessIdToPermissions:e_});case 5:e.next=9;break;case 7:return e.next=9,(0,ty.EB)(d,es,u,G,h,b,en);case 9:X(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:k._('Permissions updated.', '[m10n]adAccountAssignment.edit.success.toast', 'Success toast prompting user that the ad account role assignment has been successful.')})}),"PEOPLE"===c&&K((0,ed.UQ)({businessId:G,detailId:V,includeAssetSummary:!0,experimentsClient:A})),"PARTNER"===c&&K((0,eu.ek)({businessId:G,detailId:V,experimentsClient:A})),"AD_ACCOUNT_PEOPLE"===c&&K((0,ei.Q3)({businessId:G,detailId:V})),"AD_ACCOUNT_PARTNER"===c&&K((0,ei.yX)({businessId:G,detailId:V,updateDataOnly:!!b})),"AOAA_REQUEST_DETAIL_PAGE"===c&&K((0,tk.vm)({businessId:G,updateDataOnly:!1,updateDetailPageVisibleData:!0,requestIds:[V]})),"HIERARCHY_AD_ACCOUNT_DETAILS_EMPLOYEES"===c&&(K((0,eH.Q3)({businessId:G,detailId:V})),K((0,ei.yX)({businessId:G,detailId:V,updateDataOnly:!0}))),"HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"===c&&K((0,eH.yX)({businessId:G,detailId:V})),(0,P.dK)(w)?j({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"edit-ad-account-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:u}):(C({event_type:8965,component:13641,aux_data:{business_id:G,ad_account_id:u}}),O({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"edit-ad-account-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button"})),ee(),e.next=27;break;case 21:e.prev=21,e.t0=e.catch(0),X(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(k),type:"error"})}),n=(null==(t=(0,q.Z)(eD,"stack"))?void 0:t.slice(0,4096))||(0,q.Z)(eD,"message")||"",(0,P.dK)(w)?j({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"edit-ad-account-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:n,ad_account_id:u}):C({event_type:8966,component:13641,aux_data:{business_id:G,error_class:JSON.stringify(e.t0).slice(0,64),error_message:n}}),ee();case 27:case"end":return e.stop()}},e,null,[[0,21]])}))()},size:"lg",text:k._('Save edits', '[m10n]bizAccess.editAdAccountRoles.sumbitLabel', 'Label for the submit button on the account role editing modal')})}),size:"sm",title:k._('Edit permissions', '[m10n]businessAccess.principalAssignment.accessForText', 'Shows the name of the the selected partner or person.'),children:[E&&(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsxs)(m.xu,{alignItems:"center",display:"flex",marginBottom:8,children:[(0,U.jsx)(m.qE,{color:(null==ev?void 0:ev.avatar_color_index)||void 0,name:(null==ev?void 0:ev.full_name)||"",size:"lg",src:(null==ev?void 0:ev.image_large_url)||""}),(0,U.jsxs)(m.xu,{paddingX:2,children:[(0,U.jsx)(m.xv,{size:"300",weight:"bold",children:(null==ev?void 0:ev.full_name)||""}),(0,U.jsx)(m.xv,{children:(0,R.nk)(k._('Ad account: {{ adAccountName }}', '[m10n]businessAccess.editAdAccountRoles.adAccount.name', 'The ad account name which the user is editing on. adAccountName: name of the ad account'),{adAccountName:(null==ex||null==(o=ex.data)||null==(i=o.data)||null==(l=i.asset)?void 0:l.name)||""})})]})]}),(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(ro.Z,{assignableRoles:eR,initialRoles:ew,isAoaaAssignmentModal:!!p||!!b,onChange:function(e){e.every(function(e){return ew.indexOf(e)})&&eb(!1),eb(!0),eo(e),(0,eZ.Z)(C,{event_type:8964,component:13641,aux_data:{business_id:G,field_name:"permissions"}})}})})]})};function sw(e){return(sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sN(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=sw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sw(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sw(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sD(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function sk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sL(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sL(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sU=function(e){var t,n,r=e.businessAccount,s=(0,L.HU)().clearModal,o=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),a=(0,y.g)().fetchData,i=(0,N.Z)(),l=sk((0,_.useState)(r.name),2),c=l[0],d=l[1],f=sk((0,_.useState)(!1),2),h=f[0],p=f[1],b=(0,W.dI)().showToast,A=(0,u.Z)(),S=A.isAuth?null==A?void 0:A.avatar_color_index:void 0;(0,ry.Z)(function(){o({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_EDIT_BUSINESS_DETAILS_MODAL",business_id:r.id})});var x=function(){b(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:i._('Business hierarchy successfully updated.', '[m10n]businessAccess.editBusinesDetails.modal.update.toast.successful', 'Toast prompting business hierarchy account has been updated successfully.')})})},E=function(){b(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:i._('Business hierarchy failed to update.', '[m10n]businessAccess.editBusinesDetails.modal.update.toast.fail', 'Toast prompting business hierarchy account has failed to update.'),type:"error"})})},P=function(){s()},I=(t=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"edit-business-details-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:r.id}),p(!0),t=sR(sR({},r),{},{name:c.trim()}),e.prev=3,e.next=6,(0,sh.wH)({hierarchyId:t.id,name:t.name});case 6:return x(),e.next=9,a();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),E();case 14:return e.prev=14,p(!1),e.finish(14);case 17:P();case 18:case"end":return e.stop()}},e,null,[[3,11,14,17]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){sD(o,r,s,a,i,"next",e)}function i(e){sD(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)});return(0,U.jsx)(m.xu,{"data-test-id":"edit-business-details-modal",children:(0,U.jsx)(Z.Z,{accessibilityLabel:i._('Edit business details title', '[m10n]businessAccess.editBusinesDetails.modal.heading.a11y', 'A11y heading text for the edit business details modal'),hideCancelAction:!0,onDismiss:P,primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"edit-business-details-modal-submit-button",children:(0,U.jsx)(m.zx,{accessibilityLabel:i._('Save business details changes', '[m10n]businessAccess.editBusinesDetails.modal.cta', 'CTA Button to save business details'),color:"red",disabled:!c.trim()||c.trim()===r.name||(0,H.Zn)(c)||h,onClick:function(){I()},size:"lg",text:i._('Save', '[m10n]businessAccess.editBusinesDetails.modal.cta', 'CTA Button to save business details')})}),size:600,title:i._('Edit details', '[m10n]businessAccess.editBusinesDetails.modal.heading', 'Heading text for the edit business details modal'),children:(0,U.jsxs)(m.kC,{alignItems:"center",justifyContent:"start",children:[(0,U.jsx)(tn.qE,{color:S,name:r.name,size:"md",src:r.img_medium_url}),(0,U.jsx)(m.xu,{height:90,marginEnd:2,marginStart:2,paddingY:5,width:"100%",children:(0,U.jsx)(m.nv,{errorMessage:(0,H.Zn)(c)?i._('Special characters are not allowed', '[m10n]businessAccess.editBusinesDetails.modal.specialCharacterError', 'error message for when user tries to name a business hiearchy with special characters'):void 0,id:"edit-business-details-name-text",onChange:function(e){d(e.value)},placeholder:i._('Name your business', '[m10n]businessAccess.editBusinesDetails.modal.name.textfield.placeholder', 'Placeholder for name your business text field.'),value:c})})]})})})},sB=function(e){var t=(0,N.Z)(),n=e.empty,r=(0,W.dI)().showToast,s=(0,L.HU)().clearModal;return(0,_.useEffect)(function(){r(function(e){var r=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:r,text:n?(0,H.BC)(t):(0,H.sQ)(t),type:"error"})}),s()}),null},sM=n(769147),sH=n(255094);function sZ(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function sG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sF(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sF(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sY=function(e){var t,n,r=e.selectedId,s=e.onRefresh,o=e.businessId,i=e.isBusinessAccess,l=(0,eG.Z)().params.businessHierarchyId,c=(0,S.u)().logContextEvent,u=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),d=(0,a.TH)(),h=(0,N.Z)(),p=(0,W.dI)().showToast,b=(0,L.KJ)(!0),A=o||b,x=(0,I.Z)().checkExperiment,E=(0,L.HU)(),T=E.setRemovePersonModal,C=E.clearModal,O=(0,(0,y.g)().getParentHierarchyForIdIfExists)(A),j=null==O?void 0:O.id,w=sG((0,z.Z)(D.b,!0,r),3),R=w[0],k=w[1],B=w[2],M=sG((0,eX.Z)("people",r,!0,!0,A),4),G=M[0],F=M[1],Y=M[2],V=M[3],X=(0,sM.Z)(A),K=x("web_m10n_business_hierarchy_beta").anyEnabled,$=x("web_m10n_business_access_employee_redesign").anyEnabled,J=(0,I.Z)().checkExperiment("ba_mfa_enabled").anyEnabled,ee=(0,f.v9)(sH.Wb).find(function(e){return e.id===r}),et=!!l&&!i,en=null==ee||null==(t=ee.business_roles)?void 0:t[0],er=null==G||null==(n=G.business_roles)?void 0:n[0],es=et?en:er,eo=sG((0,_.useState)("EMPLOYEE"),2),ea=eo[0],ei=eo[1],el=(0,f.I0)();(0,_.useEffect)(function(){es&&ei(es)},[es]);var ec=h._('Edit role modal', '[m10n]bizAccess.editPersonRole.label', 'Label for a modal to edit an employee\'s access to a business'),eu=h._('Edit role', '[m10n]bizAccess.editRole.title', 'Title for a modal to edit an employee\'s access to a business');if(k||F)return(0,U.jsx)(Z.Z,{accessibilityLabel:ec,size:"sm",title:eu,children:(0,U.jsx)(sB,{empty:!0})});if(B||Y)return(0,U.jsx)(Z.Z,{accessibilityLabel:ec,size:"sm",title:eu,children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(h),show:!0})});var ed={constant:"EMPLOYEE",title:h._('Employee', '[m10n]bizAccess.choose.employeeRole', 'employee role'),description:h._('Employees can work on assigned ad accounts and profiles', '[m10n]bizAccess.editPerson.employeeRole.description', 'description of employee role')},e_={constant:"BIZ_ADMIN",title:h._('Manager', '[m10n]bizAccess.choose.adminRole', 'admin role'),description:J?h._('Managers can add and delete employees and partners, create ad accounts, assign and revoke permissions for employees and partners and enforce two-factor authentication', '[m10n]bizAccess.editPerson.managerRole.mfaDescription', 'description of manager role'):h._('Managers can add and remove employees and partners from businesses, create ad accounts and assign themselves to ad accounts and profiles ', '[m10n]bizAccess.editPerson.managerRole.Description', 'description of manager role')};return(0,U.jsxs)(Z.Z,{accessibilityLabel:ec,footerSecondaryContent:(0,U.jsx)(m.xu,{"data-test-id":"edit-person-role-remove-button",children:(0,U.jsx)(m.zx,{color:"gray",fullWidth:!0,onClick:function(){T({selectedId:r})},size:"lg",text:h._('Remove', '[m10n]bizAccess.people.remove', 'remove employee from business')})}),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"edit-person-role-submit-button",children:(0,U.jsx)(m.zx,{accessibilityLabel:h._('Save edits', '[m10n]bizAccess.people.update', 'save edits made'),color:ea&&ea!==es?"red":"gray",disabled:!ea||ea===es,fullWidth:!0,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,tU.p6)(ea,r,A,j);case 3:V(),K&&(s?s():$?el((0,tl.e7)({employeeId:r,role:ea})):et&&(null==X||X())),p(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,sr.Z)(h._('Successfully updated role for {{name}} to {{role}}. ', '[m10n]bizAccess.people.update.toast', 'message confirming that update action was taken'),{name:(null==R?void 0:R.full_name)||"",role:(0,tN.B)(h)(ea)})})}),(0,P.dK)(d)?u({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"edit-person-role-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",employee_id:r}):c({event_type:8965,component:13635,aux_data:{business_id:A}}),C(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),n=(null==(t=(0,q.Z)(e.t0,"stack"))?void 0:t.slice(0,4096))||(0,q.Z)(e.t0,"message")||"",(0,P.dK)(d)?u({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"edit-person-role-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:n,employee_id:r}):c({event_type:8966,component:13635,aux_data:{business_id:A,error_class:JSON.stringify(e.t0).slice(0,64),error_message:n}}),p(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,H.sQ)(h),type:"error"})});case 15:case"end":return e.stop()}},e,null,[[0,10]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){sZ(o,r,s,a,i,"next",e)}function i(e){sZ(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:h._('Save edits', '[m10n]bizAccess.people.update', 'save edits made')})}),size:"sm",title:eu,children:[(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(ra,{avatar:(null==R?void 0:R.image_large_url)||"",name:(null==R?void 0:R.full_name)||"",text:h._('Editing role for', '[m10n]businessAccess.editPersonRole.personLabel', 'Label shown above the selected employee\'s name')})}),(0,U.jsx)(ti,{adminRoleEntry:e_,currentRole:ea,onChange:function(e){ei(e),(0,eZ.Z)(c,{event_type:8964,component:13635,aux_data:{business_id:A,field_name:"role"}})},regularRoleEntry:ed,withBadge:!0})]})};function sV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sq=function(e){var t,n=(0,N.Z)(),r=e.inviteId,s=e.isReseller,o=(0,a.TH)(),i=function(e){if(Array.isArray(e))return e}(t=(0,eX.Z)("partnerInvite",r,!0,(0,P.dK)(o)))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),3!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,3)||function(e,t){if(e){if("string"==typeof e)return sV(e,3);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sV(e,3):void 0}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=i[0],c=i[1],u=i[2],d=(0,W.dI)().showToast,f=(0,I.Z)().checkExperiment,h=f("web_m10n_business_hierarchy_beta").anyEnabled,p=f("web_m10n_business_access_catalogs").anyEnabled,b=(0,L.HU)().clearModal;if((0,_.useEffect)(function(){c&&d(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,H.sQ)(n),type:"error"})})},[c]),u)return(0,U.jsx)(Z.Z,{accessibilityLabel:(0,eM.ZE)(n),size:"sm",title:(0,eM.Hp)(n,s),children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(n),show:!0})});var y=(null==l?void 0:l.assets)||[],A=y.filter(function(e){return"AD_ACCOUNT"===e.type}).length,g=y.filter(function(e){return"PROFILE"===e.type}).length,S=p?y.filter(function(e){return"CATALOG"===e.type}).length:0,x=s?(0,U.jsx)(m.xu,{"data-test-id":"invite-reseller-submit-button",children:(0,U.jsx)(m.zx,{color:"red",name:"invite-reseller-submit",onClick:b,size:"lg",text:n._('Okay', '[m10n]bizAccess.modal.addReseller.success.okay.button', 'Button label for close modal button')})}):void 0,E=s?(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(n._('You\'ve invited {{ name }} to become a partner. You\'ll receive a notification once they accept or reject this invitation.', '[m10n]bizAccess.addReseller.inviteSuccessMessage', 'Content in a confirmation dialog, name: invitee name'),{name:(null==l?void 0:l.extended_user_info.full_name)||""})})}),(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xv,{children:(0,R.nk)(n._('If {{ name }} accepts your invite, they will automatically be assigned admin permissions to ad accounts you create in their designated countries.', '[m10n]bizAccess.addReseller.inviteSuccessMessageExplanation', 'Explanation of what will happen if the reseller accepts the invite, name: invitee name'),{name:(null==l?void 0:l.extended_user_info.full_name)||""})})})]}):(0,eM.Uo)((null==l?void 0:l.extended_user_info.full_name)||"",A,g>0,S,n);return(0,U.jsxs)(Z.Z,{accessibilityLabel:(0,eM.ZE)(n),cancelText:(0,eM.Fd)(n),hideCancelAction:s,primaryAction:x,size:"sm",title:(0,eM.Hp)(n,s),children:[h&&(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsx)(sf,{content:E,face:{src:(null==l?void 0:l.extended_user_info.image_small_url)||"",name:(null==l?void 0:l.extended_user_info.full_name)||""}})]})},sQ=function(e){var t=(0,S.u)().logContextEvent,n=(0,N.Z)(),r=e.inviteIds,s=e.role,o=e.isPendingTabActive,a=(0,L.KJ)(),i={name:"",src:"https://s.pinimg.com/images/user/default_60.png"},l=(0,L.HU)().setAssignAdAccountsModal,c=(0,f.v9)(t2.ai);if(1===r.length){var u,d,_=c[r[0]];_&&_.extended_user_info&&(i={name:(null==(u=_.extended_user_info)?void 0:u.full_name)||"",src:null==(d=_.extended_user_info)?void 0:d.image_small_url})}return(0,U.jsx)(Z.Z,{accessibilityLabel:(0,eM.ZE)(n),cancelText:(0,eM.Ty)(n),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"ad-account-access-submit-button",children:(0,U.jsx)(m.zx,{color:"red",fullWidth:!0,onClick:function(){l({selectedIds:[],inviteIds:r,selectionType:v.c7.AD_ACCOUNT,dataToRefresh:o?"PENDING_PEOPLE_LIST":"PEOPLE_LIST",assignmentType:"PEOPLE",roleType:s,showCatalogs:!0}),t({event_type:8965,component:13633,aux_data:{business_id:a}})},size:"lg",text:n._('Assign assets', '[m10n]bizAccess.invite.confirmation.assign', 'Label for a button that shows up for newly sent people invites')})}),size:"sm",title:(0,eM.Hp)(n),children:(0,U.jsx)(sf,{content:(0,R.nk)("EMPLOYEE"===s?n.ngettext('{{ number }} employee invitation was successfully sent.', '{{ number }} employee invitations were successfully sent.', r.length, '[m10n]bizAccess.invitePeople.employeesSuccessMessage', 'Content in an employee invite confirmation dialog'):n.ngettext('{{ number }} manager invitation was successfully sent.', '{{ number }} manager invitations were successfully sent.', r.length, '[m10n]bizAccess.invitePeople.adminsSuccessMessage', 'Content in an manager invite confirmation dialog'),{number:r.length}),face:i})})};function sW(e){return(sW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sX(e,t){if(e){if("string"==typeof e)return sK(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sK(e,t):void 0}}function sK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s$=function(e){var t=e.fullName,n=e.numAdAccounts,r=e.numCatalogs,s=e.image,o=e.hasProfile,a=e.isPartnerBusiness,i=(0,N.Z)(),l=(0,u.Z)(),c=l.isAuth?null==l?void 0:l.avatar_color_index:void 0;return(0,U.jsxs)(m.xu,{marginBottom:6,children:[(0,U.jsx)(m.xu,{children:(0,U.jsxs)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:2,children:[(0,U.jsx)(m.xu,{children:(0,U.jsx)(tn.qE,{color:c,name:t||"",size:"sm",src:s})}),(0,U.jsx)(m.xu,{flex:"grow",marginStart:4,children:(0,U.jsx)(m.xv,{size:"400",weight:"bold",children:t})})]})}),(0,U.jsxs)(m.xu,{marginStart:12,children:[a&&(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",marginBottom:2,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(i._('\u2022 {{fullName}} as a partner', '[m10n]bizAccess.invite.confirmationModal.business.partnerBusiness', 'Text describing if assets in invite belong to partner business. fullName: name of partner business with assets included in invite'),{fullName:t}).join("")})}),o&&(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",marginBottom:2,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(i._('\u2022 {{fullName}}\'s profile', '[m10n]bizAccess.invite.confirmationModal.business.profileInvite', 'Text describing if profile for business is included in invite. fullName:name of business with profile included in invite'),{fullName:t}).join("")})}),n>0&&(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",marginBottom:2,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(i.ngettext('\u2022 {{numAdAccounts}} ad account', '\u2022 {{numAdAccounts}} ad accounts', n, '[m10n]bizAccess.invite.confirmationModal.business.numAdAccountsInvite', 'Text describing the number of ad accounts for business is including in invite. numAdAccounts: number of ad accounts that belong to a business included in invite'),{numAdAccounts:n})})}),r>0&&(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",marginBottom:2,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(i.ngettext('\u2022 {{numCatalogs}} catalog', '\u2022 {{numCatalogs}} catalogs', r, '[m10n]bizAccess.invite.confirmationModal.business.numCatalogsInvite', 'Text describing the number of catalogs for business is including in invite. numCatalogs: number of catalogs that belong to a business included in invite'),{numCatalogs:r})})})]})]})},sJ=function(e){var t,n,r=(0,N.Z)(),s=e.inviteIds,o=e.invitedPeopleIdentifiers,a=(0,L.KJ)(),i=(0,I.Z)().checkExperiment,l=i("web_m10n_business_access_error_handling").anyEnabled,c=i("web_m10n_business_hierarchy_beta").anyEnabled,u=function(e){if(Array.isArray(e))return e}(t=(0,eX.Z)("memberInvite",s[0],!0,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),3!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,3)||sX(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=u[0],h=u[1],p=u[2],b=r._('Permissions Assigned', '[m10n]bizAccess.invite.confirmationModal.title', 'Title for a invite confirmation modal');if(l&&h)throw new d.zu(h,b);if(p||h)return null;for(var y=(null==f?void 0:f.assets)||[],v=Object.assign.apply(Object,[{}].concat(function(e){if(Array.isArray(e))return sK(e)}(n=y.map(function(e){return e.owner}).map(function(e){var t,n,r;return t={},(r=function(e,t){if("object"!=sW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sW(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n=e.id,"string"),(n="symbol"==sW(r)?r:r+"")in t)?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||sX(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),A=0,g=Object.keys(v);A<g.length;A++)!function(){var e=g[A];v[e].numAdAccounts=y.filter(function(t){return"AD_ACCOUNT"===t.type&&t.owner.id===e}).length,v[e].hasProfileRequest=y.filter(function(t){return"PROFILE"===t.type&&t.owner.id===e}).length>0,v[e].isPartnerBusiness=e!==a,v[e].numCatalogs=y.filter(function(t){return"CATALOG"===t.type&&t.owner.id===e}).length}();return(0,U.jsxs)(Z.Z,{accessibilityLabel:(0,eM.ZE)(r),cancelText:(0,H.Hf)(r),footerSecondaryContent:(0,U.jsx)(m.xv,{color:"subtle",size:"200",children:r._('Your invite will expire after 14 days', '[m10n]bizAccess.invite.confirmationModal.expiry', 'Text explaining the invite will expire after 14 days time')}),size:"sm",title:b,children:[c&&(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(r._('You\'ve assigned permissions to {{invitedPeopleIdentifiersTruncated}}', '[m10n]bizAccess.invite.confirmationModal.subTitle', 'Subtitle informing user who was invited. invitedPeopleIdentifiersTruncated: The usernames and emails of people invited, truncated if more than 2 people were invited.'),{invitedPeopleIdentifiersTruncated:(0,eM.LK)(o,r)}).join("")})}),(0,U.jsx)(_.Fragment,{children:Object.keys(v).map(function(e){return(0,U.jsx)(m.xu,{children:(0,U.jsx)(s$,{fullName:v[e].full_name,hasProfile:v[e].hasProfileRequest,image:v[e].image_url||"https://s.pinimg.com/images/user/default_60.png",isPartnerBusiness:v[e].isPartnerBusiness,numAdAccounts:v[e].numAdAccounts||0,numCatalogs:v[e].numCatalogs||0})},e)})})]})},s0=n(293772),s1=n(721703),s2=function(e){var t=e.ceeMigrationInfo,n=(0,L.KJ)(!0),r=(0,N.Z)(),s=(0,_.useMemo)(function(){var e=(0,A.Z)(v.Q6.AD_ACCOUNTS_CEE_MIGRATION,n);return(0,s1.Z)({site:"www",path:e})},[n]);return(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.he,{message:(0,U.jsx)(m.xv,{inline:!0,children:(0,R.nk)(r._('{{ resellerInfo }} {{ partnershipInfo }} {{ ceeMigrationLink }} ', '[m10n]bizAccess.ceeMigrationPartnerInviteBanner.ceeMigrationInfo', 'text displaying cee migration information, resellerInfo: is the reseller info, partnershipInfo: is the partnership info, ceeMigrationLink: is the link to the cee migration page'),{resellerInfo:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:(0,R.nk)(r._('Pinterest is working exclusively with {{ resellerName }} in select markets where you advertise today.', '[m10n]bizAccess.ceeMigrationPartnerInviteBanner.ceeMigrationInfo.resellerInfo', 'text displaying cee migration reseller information, resellerName: is the reseller name'),{resellerName:null==t?void 0:t.resellerMarketInfo.resellerName})},"resellerInfoText"),partnershipInfo:(0,U.jsx)(m.xv,{inline:!0,children:(0,R.nk)(r._('This new partnership will offer you in-market representation, local language support and deeper expertise to drive performance on Pinterest. Invite {{ resellerName }} to be your partner today to access this enhanced service.', '[m10n]bizAccess.ceeMigrationPartnerInviteBanner.ceeMigrationInfo.partnershipInfo', 'text displaying cee migration partnership information, resellerName: is the reseller name'),{resellerName:null==t?void 0:t.resellerMarketInfo.resellerName})},"partnershipInfoText"),ceeMigrationLink:(0,U.jsx)(m.xv,{inline:!0,children:(0,U.jsx)(s0.rU,{display:"inlineBlock",href:s,logEventProps:{},target:"blank",underline:"always",children:r._('View details', '[m10n]bizAccess.ceeMigrationPartnerInviteBanner.ceeMigrationInfo.ceeMigrationPageLink', 'link to the cee migra page')})},"ceeMigrationLink")})},"ceeMigrationInfoText"),type:"info"})})},s5=function(e){var t=e.onChange,n=e.partnershipType,r=e.errorMessage,s=e.partnerIsACeeMigrationReseller,o=(0,N.Z)();return(0,U.jsxs)(m.FX,{id:"partner-type-chooser",legend:o._('Partner Type Chooser', '[m10n]bizAccess.partner.choose.invite.legend', 'Legend of radio group button'),legendDisplay:"hidden",children:[(0,U.jsx)(m.xu,{margin:1,paddingY:1,children:(0,U.jsx)(m.xu,{"data-test-id":"partner-button-PARTNER-INVITE",children:(0,U.jsx)(m.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,U.jsxs)(m.xu,{alignItems:"start",display:"flex",paddingY:1,children:[(0,U.jsx)(m.FX.RadioButton,{checked:"PARTNER_INVITE"===n,id:"partner-invite",onChange:function(){return t("PARTNER_INVITE")},value:"PARTNER_INVITE"}),(0,U.jsxs)(m.__,{htmlFor:"partner-invite",children:[(0,U.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{marginTop:2}},paddingX:2,children:(0,U.jsx)(m.xv,{weight:"bold",children:o._('Invite this partner to access your ad accounts and tools', '[m10n]bizAccess.partner.choose.invite.title', 'CTA of radio button selected when user wants to share it\'s assets')})}),(0,U.jsx)(m.xu,{padding:2,children:(0,U.jsx)(m.xv,{color:"subtle",children:o._('Recommended for brands who want to add their agencies and share their business\' assets with them', '[m10n]bizAccess.partner.choose.invite.description', 'Descrition that details who should invite businesses, not request assets access')})})]})]})})})}),(0,U.jsx)(m.xu,{margin:1,paddingY:1,children:(0,U.jsx)(m.xu,{"data-test-id":"partner-button-PARTNER-REQUEST",children:(0,U.jsx)(m.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,U.jsx)(m.xu,{"data-test-id":"request-partner-button",children:(0,U.jsxs)(m.xu,{alignItems:"start",display:"flex",paddingY:1,children:[(0,U.jsx)(m.FX.RadioButton,{checked:"PARTNER_REQUEST"===n,disabled:s,id:"partner-request",onChange:function(){return t("PARTNER_REQUEST")},value:"PARTNER_REQUEST"}),(0,U.jsxs)(m.__,{htmlFor:"partner-request",children:[(0,U.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{marginTop:2}},paddingX:2,children:(0,U.jsx)(m.xv,{weight:"bold",children:o._('Request access to this partner\'s ad accounts and tools', '[m10n]bizAccess.partner.choose.request.title', 'CTA of radio button selected when user wants to get access to partner\'s assets')})}),(0,U.jsx)(m.xu,{padding:2,children:(0,U.jsx)(m.xv,{color:"subtle",children:o._('Recommended for agencies and external partners who need access to their partner\'s ad accounts and tools', '[m10n]bizAccess.partner.choose.request.description', 'Descrition that details who should select to request access to businesses\' assets')})})]})]})})})})}),r&&(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(m.xv,{color:"error",size:"100",children:r})})]})},s6=n(257936);function s3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s8(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s8(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s4=function(e){var t=e.partnershipType,n=e.pageForLogger,r=(0,rS.B)(),s=(0,W.dI)().showToast,o=(0,N.Z)(),a=(0,f.I0)(),i=s3((0,_.useState)(""),2),l=i[0],c=i[1],u=s3((0,_.useState)(t),2),d=u[0],h=u[1],p=s3((0,_.useState)(""),2),y=p[0],A=p[1],S=s3((0,_.useState)(!1),2),x=S[0],E=S[1],P=v.uE.PARTNER,T=(0,L.KJ)(!0),C=(0,g.ZP)(n||(0,g.QK)("PARTNERS")),j=(0,L.HU)(),z=j.setRequiredRMAAInformationModal,w=j.setAddPartnerInviteConfirmationModal,D=j.setAssignAssetsModal,k=j.setRequestAdAccountsModal,B=j.clearModal,M=j.businessAccess.isActingUserReseller,G=(0,b.NM)().selectedHierarchyId,F=(0,f.v9)(function(e){var t;return null!=(t=e.businessAccess.partners)?t:{}}).isLoading,Y=(0,f.v9)(s6.m),V=s3((0,_.useState)(""),2),q=V[0],X=V[1],K=(0,O.Z)(!0),$=K.loading,J=K.data,ee=(null==J?void 0:J.resellerMarketInfo.status)!=="RESELLER_INVITE_ACCEPTED",et=(0,I.Z)().checkExperiment,en=et("web_m10n_business_access_catalogs").anyEnabled,er=et("web_m10n_business_hierarchy_beta").anyEnabled,es=et("tiger_cee_reseller_migration").anyEnabled;(0,_.useEffect)(function(){M?E(l.length>0):E(l.length>0&&!!d)},[M,l,d]);var eo=es&&(null==J?void 0:J.resellerMarketInfo.resellerUserId)===l&&ee&&J.adAccountsToMigrate.length>0,ea=(0,eG.Z)().path.includes(":userBizId/partners/pending"),ei=(0,f.v9)(t2.t_);(0,_.useEffect)(function(){eo&&h("PARTNER_INVITE")},[eo]);var el=o._('Choose partnership type modal', '[m10n]bizAccess.business.assignPartner.modal', 'accessibility label for the modal used to add a partner to a business account'),ec=M?o._('Add an advertiser as your partner', '[m10n]bizAccess.business.addAdvertiserAsPartner.title', 'heading for the modal used to add an advertiser as partner'):o._('Choose how to add your partner', '[m10n]bizAccess.business.assignPartner.title', 'heading for the modal used to add a partner to a business account'),ed=M?(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xv,{children:o._('To add a new advertiser as a partner, you will need to provide their business ID. The business ID is located in the Business Information section of the Business Manager Dashboard.', '[m10n]bizAccess.addPartner.businessID.advertiserAsPartner.description.paragraph1', 'Describe the Business ID usage to establish a partnership')})}),(0,U.jsx)(m.xu,{marginTop:2,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(o._('You can only add advertisers that are billing out of regions designated to you in the {{ agreementText }}', '[m10n]bizAccess.addPartner.businessID.advertiserAsPartner.description.paragraph2', '[m10n] describe the Business ID usage to establish a partnership with the reseller, agreementText: is the agreement link'),{agreementText:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:(0,U.jsx)(s0.rU,{display:"inlineBlock",href:rP.sg,logEventProps:{},target:"blank",underline:"hover",children:o._('Master Advertising Reseller Agreement with Pinterest.', '[m10n]bizAccess.addPartner.businessID.advertiserAsPartner.agreement.link', '[m10n] link to the reseller agreement to terms of service')})},"resellerTosLink")})})})]}):(0,U.jsx)(m.xv,{children:o._('To add a partner, you will need to provide their business ID. The business ID is located below the partner\'s name on the Business Access page.', '[m10n]bizAccess.addPartner.businessID.description', 'Describe the Business ID usage to establish a partnership')});if(F||Y||$)return(0,U.jsx)(Z.Z,{accessibilityLabel:el,size:"md",title:ec,children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(o),show:!0})});var e_=M?o._('Request access', '[m10n]bizAccess.addPartner.requestLabel', 'Label for the request button on the Add Partner modal'):o._('Add partner', '[m10n]bizAccess.addPartner.sumbitLabel', 'Label for the submit button on the Add Partner modal');return(0,U.jsxs)(Z.Z,{accessibilityLabel:el,footerSecondaryContent:!M&&(0,U.jsx)(m.xv,{color:"subtle",size:"200",children:en?o._('Step 1 of 4', '[m10n]bizAccess.addPartner.modal.steps.first', 'Label to identify the current step, first, on add a partner flow'):o._('Step 1 of 3', '[m10n]bizAccess.addPartner.modal.steps.first', 'Label to identify the current step, first, on add a partner flow')}),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"add-partner-submit-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:!x,onClick:function(){var e,t,n,i=function(e,t){a((0,t0.R)(ei,"PARTNER",T,!ea)),eo||(t?w({selectedId:l,role:P,inviteId:e,isReseller:t}):D({selectedIds:[l],dataToRefresh:"PARTNER_INVITE",inviteId:e}))};eo&&"PARTNER_INVITE"===d?z({id:(null==(e=r.advertiser)?void 0:e.id)||"",name:(null==(t=r.advertiser)?void 0:t.name)||"",country:tm.iV[(null==(n=r.advertiser)?void 0:n.country)||""]||"UNKNOWN",resellerUserId:J.resellerMarketInfo.resellerUserId,resellerBusinessName:J.resellerMarketInfo.resellerName,adAccountsToMigrate:J.adAccountsToMigrate,page:"BUSINESS_ACCESS_AD_ACCOUNTS_CEE_MIGRATION",onInviteSent:function(e,t){C({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"invite-request-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-invite-to-required-rmaa-information-modal",business_id:T,partner_request_id:e}),i(e,t)}}):M||"PARTNER_INVITE"!==d?M||"PARTNER_REQUEST"===d?a((0,eu.PN)({partnerId:l,onSuccess:function(e,t){C({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"invite-request-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-request",business_id:T,partner_request_id:t}),a((0,t0.R)(ei,"PARTNER",T,!ea)),M?(s(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:5e3,onHide:t,text:o._('Access requested successfully!', '[m10n]bizAccess.request.advertiserAsPartner.successful', '[m10n] Toast for access requested successfully')})}),B()):k({requestId:t,partnerId:e})},onFailure:function(e){var t=(0,eM.ZB)(o,e);C({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"invite-request-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-request",errorClass:e.code,errorMessage:t,business_id:T}),X(t)},businessId:T})):A(o._('Please select to invite the partner to access your ad accounts or request access to partner\'s ad accounts.', '[m10n]bizAccess.addPartner.partnership.select.missing', 'Error message shown below the Business ID field when user skips a selection step')):a((0,eu.Yj)({partnerId:l,businessHierarchyNodeId:G,onSuccess:function(e,t){C({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"invite-request-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-invite",business_id:T,partner_request_id:e}),i(e,t)},onFailure:function(e){var t,n=(0,eM.ZB)(o,e);C({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"invite-request-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-invite",errorClass:null!=(t=e.code)?t:e.api_error_code,errorMessage:n,business_id:T}),X(n)},businessId:T}))},size:"lg",text:e_})}),size:"md",title:ec,children:[er&&(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsx)(m.xu,{marginBottom:6,children:ed}),(0,U.jsx)(m.xu,{marginBottom:2,children:(0,U.jsx)(m.__,{htmlFor:"partnerId",children:(0,U.jsx)(m.xv,{size:"300",children:o._('Partner business ID', '[m10n]bizAccess.addPartner.partnerIdLabel', 'Label for the Business ID field in the modal used to add a partner to a business')})})}),(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(m.xu,{"data-test-id":"search-biz-partner-id-input",children:(0,U.jsx)(m.nv,{errorMessage:q,id:"partnerId",onChange:function(e){c((e.value||"").replace(/[^\d]/g,""))},size:"lg",type:"text",value:l})})}),eo&&J&&(0,U.jsx)(s2,{ceeMigrationInfo:J}),!M&&(0,U.jsx)(s5,{errorMessage:y,onChange:function(e){h(e),A("")},partnerIsACeeMigrationReseller:eo,partnershipType:d}),M&&(0,U.jsx)(m.xu,{marginTop:2,paddingX:2,children:(0,U.jsx)(m.xv,{weight:"bold",children:o._('Request access to this advertiser\'s ad accounts in your designated coverage area', '[m10n]bizAccess.advertiserAsPartner.request.description', 'Awareness describing advertiser\'s ad accounts will have access in your designated coverage area')})})]})},s7=function(e){return[{getText:function(){return(0,U.jsxs)(_.Fragment,{children:[(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(m.X6,{accessibilityLevel:1,size:"700",children:e._('Introducing Business Manager', '[m10n]bizAccess.onboarding.step1.title', 'Title for the first page of the onboarding flow')})}),(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(m.xv,{size:"300",children:e._('A new, improved way for businesses to seamlessly manage access to ad accounts.', '[m10n]bizAccess.onboarding.step1.p1', 'Content for the first page of the onboarding flow')})}),(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(m.xv,{size:"300",children:e._('Your existing access permissions have migrated to a new format that allows you to manage people, partners and ad accounts from a single, centralized management system.', '[m10n]bizAccess.onboarding.step1.p2', 'Content for the first page of the onboarding flow')})})]})},image:{alt:function(){return e._('Example of Business Manager', '[m10n].bizAccess.onboarding.altText.intro', 'Alt text for an image of Business Manager')},src:"https://s.pinimg.com/webapp/tour-step1-hero@3x-5dc0ba8f.png",height:497,width:450}},{getText:function(){return(0,U.jsxs)(_.Fragment,{children:[(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(m.X6,{accessibilityLevel:1,size:"700",children:e._('Seamlessly add team members', '[m10n]bizAccess.onboarding.step2.title', 'Title for the page 2 of the onboarding flow')})}),(0,U.jsx)(m.xu,{marginBottom:2,children:(0,U.jsx)(m.X6,{accessibilityLevel:2,size:"400",children:e._('Choose business managers', '[m10n]bizAccess.onboarding.step2.title1', 'Content for the page 2 of the onboarding flow')})}),(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(m.xv,{size:"300",children:e._('Business managers can add and remove employees, partners and create ad accounts', '[m10n]bizAccess.onboarding.step2.p1', 'Content for the page 2 of the onboarding flow')})}),(0,U.jsx)(m.xu,{marginBottom:2,children:(0,U.jsx)(m.X6,{accessibilityLevel:2,size:"400",children:e._('Add employees', '[m10n]bizAccess.onboarding.step2.title2', 'Content for the page 2 of the onboarding flow')})}),(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(m.xv,{size:"300",children:e._('Employees can work on assigned ad accounts', '[m10n]bizAccess.onboarding.step2.p2', 'Content for the page 2 of the onboarding flow')})})]})},image:{alt:function(){return e._('Example of employees', '[m10n].bizAccess.onboarding.altText.employees', 'Alt text for an image of Business Manager employees')},src:"https://s.pinimg.com/webapp/tour-step2-hero@3x-cab6f155.png",height:460,width:323}},{getText:function(){return(0,U.jsxs)(_.Fragment,{children:[(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(m.X6,{accessibilityLevel:1,size:"700",children:e._('Easy collaboration with partners', '[m10n]bizAccess.onboarding.step3.title', 'Title for the page 3 of the onboarding flow')})}),(0,U.jsx)(m.xu,{marginBottom:2,children:(0,U.jsx)(m.X6,{accessibilityLevel:2,size:"400",children:e._('Brands', '[m10n]bizAccess.onboarding.step3.title1', 'Content for the page 3 of the onboarding flow')})}),(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(m.xv,{size:"300",children:e._('Add your agency as a partner and then share access to relevant ad accounts', '[m10n]bizAccess.onboarding.step3.p1', 'Content for the page 3 of the onboarding flow')})}),(0,U.jsx)(m.xu,{marginBottom:2,children:(0,U.jsx)(m.X6,{accessibilityLevel:2,size:"400",children:e._('Agencies', '[m10n]bizAccess.onboarding.step3.title2', 'Content for the page 3 of the onboarding flow')})}),(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(m.xv,{size:"300",children:e._('After a brand adds your agency as a partner, assign your employees access to ad accounts', '[m10n]bizAccess.onboarding.step3.p2', 'Content for the page 3 of the onboarding flow')})})]})},image:{alt:function(){return e._('Example of partners', '[m10n].bizAccess.onboarding.altText.partners', 'Alt text for an image of Business Manager partners')},src:"https://s.pinimg.com/webapp/tour-step3-hero@3x-8c8fea6a.png",height:335,width:214}}]};function s9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oe=function(e){var t,n=e.onComplete,r=e.onDismiss,s=(0,N.Z)(),o=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s9(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s9(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],i=o[1],l=(0,L.HU)().clearModal,c=function(){r(),l()},u=s._('Skip', '[m10n]bizAccess.onboarding.skip', 'Label for button to skip the onboarding flow'),d=s7(s)[a-1],f=d.image,h=d.getText,p=(0,U.jsx)(m.kC,{alignItems:"stretch",justifyContent:"end",children:(0,U.jsx)(m.hU,{accessibilityLabel:u,icon:"cancel",iconColor:"gray",onClick:c,size:"sm"})}),b=(0,U.jsxs)(m.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginStart:8,children:[(0,U.jsx)(m.xv,{color:"subtle",size:"300",children:(0,R.nk)(s.ngettext('{{ index }} of {{ total }}', '{{ index }} of {{ total }}', a, '[m10n]bizAccess.onboarding.count', 'Short text showing the current page number out of the total number of pages in a modal'),{index:a,total:s7(s).length})}),(0,U.jsx)(m.xu,{display:"flex",marginStart:2,children:(0,U.jsx)(m.zx,{color:"red",onClick:function(){a===s7(s).length?(n(),l()):i(a+1)},size:"lg",text:a===s7(s).length?s._('Got it', '[m10n]bizAccess.onboarding.complete', 'Label for the button to complete the onboarding flow and return to the product'):s._('Next', '[m10n]bizAccess.onboarding.next', 'Label for the button to go to the next step in the onboarding flow')})})]});return(0,U.jsx)(w.ZP,{accessibilityModalLabel:s._('Business Access product tour modal', '[m10n]bizAccess.onboarding.accessibilityLabel', 'Accessibility label for the onboarding modal'),onDismiss:c,size:"lg",children:(0,U.jsxs)(m.kC,{alignItems:"stretch",minHeight:500,children:[(0,U.jsx)(m.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#FBFBFB"}},display:"flex",justifyContent:"center",minWidth:333,children:(0,U.jsx)("img",{alt:f.alt(),height:f.height,src:f.src,width:f.width})}),(0,U.jsxs)(m.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"between",margin:8,children:[p,(0,U.jsx)(m.xu,{marginEnd:8,marginStart:8,children:h()}),(0,U.jsx)(m.xu,{marginTop:8,children:b})]})]})})};function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=ot(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ot(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ot(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function os(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function oo(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){os(o,r,s,a,i,"next",e)}function i(e){os(o,r,s,a,i,"throw",e)}a(void 0)})}}function oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oi(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oi(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ol=function(e){var t,n,r,s,o,i,l=e.dataToRefresh,c=e.resourceId,u=e.principalId,d=e.assignmentType,_=e.resourceType,h=void 0===_?"AD_ACCOUNT":_,p=(0,I.Z)(),b=(0,p.checkExperiment)("web_m10n_business_access_employee_redesign").anyEnabled,A=(0,S.u)().logContextEvent,x=(0,g.ZP)((0,g.o1)(l)),E=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),T=(0,a.TH)(),C=(0,N.Z)(),O=(0,L.KJ)(),j=(0,L.KJ)(!0),w=O||j,k=(0,L.nU)(),B=(0,L.nU)(!0),M=k||B,G=(0,L.HU)().clearModal,F=(0,(0,y.g)().getParentHierarchyForIdIfExists)(w),Y=null==F?void 0:F.id,V=(0,W.dI)().showToast,X=(0,f.I0)(),K=oa((0,z.Z)(D.b,!0,u),3),$=K[0],J=K[1],ee=K[2],et="AOAA_REQUEST_DETAIL_PAGE"===l,en=(t=oo(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[null,null,null]);case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),er=(0,f.v9)((0,nd.PP)(M)),es=er.name,eo=er.permissions,ea=er.client_business,el=oa((0,z.Z)(et?en:ty.pI,!0,{businessId:w,assetIds:[c],resourceType:h}),3),e_=el[0],em=el[1],eh=el[2],ep=null!=(s=Object.values(null!=(n=null==e_||null==(r=e_.data)?void 0:r.data)?n:{})[0])?s:{};if(ee||eh)return(0,U.jsx)(ri.Z,{});var eb=J||em;if(eb){var ey=(null==eb?void 0:eb.message)||(0,H.sQ)(C);return V(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:ey,type:"error"})}),G(),null}switch(h){case"CATALOG":i={accessibilityLabel:C._('Remove catalog roles modal', '[m10n]bizAccess.removeAdAccountRoles.modal', 'accessibility label for the modal used to remove catalog assignment'),title:C._('Remove catalog access', '[m10n]bizAccess.removeAdAccountAccess.title', 'Title of the modal to remove a person from a catalog'),content:C._('{{ entityName }} will no longer have access to the catalog: {{ adAccount}}', '[m10n]businessAccess.removeAdAccountAccess.content', 'Text in the modal to remove an Entity from an catalog. entityName: name of the business or employee, adAccount: name of  the catalog')};break;case"CONSUMER":i={accessibilityLabel:C._('Remove app roles modal', '[m10n]bizAccess.removeAppRoles.modal', 'accessibility label for the modal used to remove app assignment'),title:C._('Remove app', '[m10n]bizAccess.removeAppAccess.title', 'Title of the modal to remove a person from an app'),content:C._('{{ entityName }} will no longer have access to the app: {{ adAccount}}', '[m10n]businessAccess.removeAppAccess.content', 'Text in the modal to remove an Entity from an app. entityName: name of the business or employee, adAccount: name of  the app')};break;default:i={accessibilityLabel:C._('Remove ad account roles modal', '[m10n]bizAccess.removeAdAccountRoles.modal', 'accessibility label for the modal used to remove ad account assignment'),title:C._('Remove ad account access', '[m10n]bizAccess.removeAdAccountAccess.title', 'Title of the modal to remove a person from an ad account'),content:C._('{{ entityName }} will no longer have access to the ad account: {{ adAccount}}', '[m10n]businessAccess.removeAdAccountAccess.content', 'Text in the modal to remove an Entity from an ad account. entityName: name of the business or employee, adAccount: name of  the ad account')}}return(0,U.jsxs)(Z.Z,{accessibilityLabel:i.accessibilityLabel,primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"remove-from-ad-accounts-submit-button",children:(0,U.jsx)(m.zx,{color:"red",fullWidth:!0,onClick:function(){oo(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!et){e.next=6;break}return e.next=4,(0,tL.SA)({businessId:w,partnerId:ea.id,requestId:M,businessIdToPermissions:eo.filter(function(e){return!Object.keys(e).includes(u)})});case 4:case 9:e.next=13;break;case 6:if("PARTNER"!==d){e.next=11;break}return e.next=9,(0,t1.OA)({businessId:w,partnerId:u,assetId:c,businessHierarchyNodeId:Y});case 11:return e.next=13,(0,tU.bP)({businessId:w,memberId:u,assetId:c,businessHierarchyNodeId:Y});case 13:V(function(e){var t,n=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,R.nk)(C._('Access to {{adAccountName}} has been removed.', '[m10n]adAccountAssignment.removeAssignment.success.toast', 'Toast prompting user that the assigned ad account has been removed. {adAccountName} is an interpolated variable.'),{adAccountName:(null==ep||null==(t=ep.asset)?void 0:t.name)||""}).join("")})}),"PEOPLE"===l&&(b?"AD_ACCOUNT"===h?X((0,tl.V_)({adAccountId:c,employeeId:M})):X((0,tl.$w)({catalogId:c,employeeId:M})):X((0,ed.UQ)({businessId:w,detailId:M,includeAssetSummary:!0,assetPermissionType:0,experimentsClient:p}))),"PARTNER"===l&&("AD_ACCOUNT"===h?X((0,eu.ek)({businessId:w,detailId:M,experimentsClient:p})):"CATALOG"===h&&X((0,eu.Kb)({businessId:w,detailId:M,partnerType:"INTERNAL"})),X((0,eu.ek)({businessId:w,detailId:M,experimentsClient:p}))),"AD_ACCOUNT_PEOPLE"===l&&X((0,ei.Q3)({businessId:w,detailId:M})),"AD_ACCOUNT_SYSTEM_USERS"===l&&X((0,ei.P5)({businessId:w,detailId:M})),"AD_ACCOUNT_PARTNER"===l&&X((0,ei.yX)({businessId:w,detailId:M})),"SYSTEM_USER_APP"===l&&("CONSUMER"===h&&X((0,ef.fP)({assetId:c,systemUserId:M})),"AD_ACCOUNT"===h&&X((0,ef.Gg)({assetId:c,systemUserId:M})),"CATALOG"===h&&X((0,ef.IP)({assetId:c,systemUserId:M})),"PROFILE"===h&&X((0,ef.BY)({assetId:c,systemUserId:M}))),"AOAA_REQUEST_DETAIL_PAGE"===l&&X((0,tk.vm)({businessId:w,updateDataOnly:!1,updateDetailPageVisibleData:!0,requestIds:[M]})),"HIERARCHY_AD_ACCOUNT_DETAILS_EMPLOYEES"===l&&(X((0,eH.Q3)({businessId:w,detailId:M})),X((0,ei.yX)({businessId:w,detailId:M,updateDataOnly:!0}))),"HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"===l&&X((0,eH.yX)({businessId:w,detailId:M})),"CATALOG_PEOPLE"===l&&X((0,ec.VS)({businessId:w})),"CATALOG_PARTNER"===l&&X((0,ec.ke)({businessId:w})),(0,P.dK)(T)?E(or(or(or({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-ad-account-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button"},"AD_ACCOUNT"===h?{ad_account_id:c}:{}),"PROFILE"===h?{profile_id:c}:{}),"CATALOG"===h?{catalog_id:c}:{})):(A({event_type:8965,component:13642,aux_data:or(or(or(or({business_id:w},"AD_ACCOUNT"===h?{ad_account_id:c}:{}),"CONSUMER"===h?{app_id:c}:{}),"PROFILE"===h?{profile_id:c}:{}),"CATALOG"===h?{catalog_id:c}:{})}),x({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-ad-account-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button"})),G(),e.next=35;break;case 29:e.prev=29,e.t0=e.catch(0),V(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(C),type:"error"})}),n=(null==(t=(0,q.Z)(eb,"stack"))?void 0:t.slice(0,4096))||(0,q.Z)(eb,"message")||"",(0,P.dK)(T)?E(or(or(or({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-ad-account-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:n},"AD_ACCOUNT"===h?{ad_account_id:c}:{}),"PROFILE"===h?{profile_id:c}:{}),"CATALOG"===h?{catalog_id:c}:{})):A({event_type:8966,component:13642,aux_data:or(or(or(or({business_id:w,error_class:JSON.stringify(e.t0).slice(0,64),error_message:n},"AD_ACCOUNT"===h?{ad_account_id:c}:{}),"CONSUMER"===h?{app_id:c}:{}),"PROFILE"===h?{profile_id:c}:{}),"CATALOG"===h?{catalog_id:c}:{})}),G();case 35:case"end":return e.stop()}},e,null,[[0,29]])}))()},size:"lg",text:C._('Remove', '[m10n]businessAccess.removeAdAccountAccess.submit', 'Label for the submit button on the modal to remove a person from an ad account')})}),size:"sm",title:i.title,children:[(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsxs)(m.xu,{alignItems:"center",display:"flex",marginBottom:4,children:["SYSTEM_USERS"!==d&&(0,U.jsx)(m.qE,{name:(null==$?void 0:$.full_name)||"",size:"lg",src:(null==$?void 0:$.image_large_url)||""}),(0,U.jsx)(m.xu,{paddingX:2,children:(0,U.jsx)(m.kC,{children:(0,U.jsx)(m.xv,{inline:!0,children:(0,R.nk)(i.content,{entityName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:(null==$?void 0:$.full_name)||""},"1"),adAccount:et?es:(null==ep||null==(o=ep.asset)?void 0:o.name)||""})},"0")})})]})]})},oc=n(278090),ou=n(145309),od=n(88606);function o_(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var of=function(e,t,n,r,s){var o=(0,W.dI)().showToast,a=(0,L.HU)().clearModal,i=(0,f.I0)();return"AD_ACCOUNT"===n?{primaryButtonText:e._('Revoke access', '[m10].bizAccess.share.tag.removeAdAccount.submit', 'Primary button of remove ad account from tag modal'),headerText:e._('Revoke access to Pinterest tag', '[m10].bizAccess.share.tag.removeAdAccount.header', 'Header of remove ad account from asset group modal'),entityCardText:(0,R.nk)(e._('Revoke access to {{tagName}} (Tag ID: {{tagId}}) from {{adAccountName}} (Ad account ID: {{adAccountId}})', '[m10].bizAccess.share.tag.removeAdAccount.content', 'text telling the user which ad account is being removed from which tagtagName: name of the tag revoking accesstagId: id of the tag revoking accessadAccountName: name of the ad account being removedadAccountId: id of the ad account being removed'),{tagName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:r.name},"".concat(r.id,"label")),tagId:r.id,adAccountName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:s.name},"".concat(s.id,"label")),adAccountId:s.id}),warnText:e._('Once access is revoked:', '[m10].bizAccess.share.tag.removeAdAccount.warning', 'warning of remove ad account from tag modal'),summary:(0,U.jsx)(_.Fragment,{children:(0,U.jsxs)(m.aV,{spacing:"regular",type:"unordered",children:[(0,U.jsx)(m.aV.Item,{text:e._('Ad accounts will no longer be able to apply the tag to their ad campaigns', '[m10].bizAccess.share.tag.removeAdAccount.list.apply', 'list item explaining ad accounts wont be able to apply the tag anymore')},"ad-accounts-no-longer-available"),(0,U.jsx)(m.aV.Item,{text:e._('Campaigns only using this Pinterest tag will be paused', '[m10].bizAccess.share.tag.removeAdAccount.list.use', 'list item explaining campaigns using the shared tag will be paused')},"campaigns-only-using-pinterest"),(0,U.jsx)(m.aV.Item,{text:e._('Event data will no longer be shared, but historical data will be available', '[m10].bizAccess.share.tag.removeAdAccount.list.noshared', 'list item explaining event data will no longer be shared, but historical data will')},"event-no-longer-shared")]})}),onSubmit:function(){var n;(n=regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,s.id){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,(0,ou.oZ)({businessId:t,tagId:s.tagId,leaderTagId:r.id});case 5:i((0,oc.oZ)({sharedTagId:s.tagId,adAccountId:s.id})),o(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,R.nk)(e._('Access to {{tagName}} (Tag ID: {{tagId}}) has been revoked', '[m10].bizAccess.share.tag.removeAdAccount.toast', 'toast telling the user which tag revoked access tagName: name of the tag revoking access tagId: id of the tag revoking access'),{tagName:r.name,tagId:r.id}).join("")})}),a(),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),o(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,H.sQ)(e),type:"error"})});case 13:case"end":return n.stop()}},n,null,[[0,10]])}),function(){var e=this,t=arguments;return new Promise(function(r,s){var o=n.apply(e,t);function a(e){o_(o,r,s,a,i,"next",e)}function i(e){o_(o,r,s,a,i,"throw",e)}a(void 0)})})()}}:{primaryButtonText:"",headerText:"",entityCardText:"",warnText:"",summary:null,onSubmit:function(){}}},om=function(e){var t=e.assetOrMemberType,n=e.toRemove,r=(0,N.Z)(),s=(0,f.v9)(od.iX),o=of(r,(0,L.KJ)(),t,s,n),a=o.primaryButtonText,i=o.headerText,l=o.entityCardText,c=o.warnText,u=o.onSubmit,d=o.summary;return(0,U.jsx)(Z.Z,{accessibilityLabel:r._('modal for removing an ad account from share tag', '[m10n].bizAccess.share.tag.modalAccessibilityLabel', 'accessibility label for modal that removes an asset from a Pinterest tag'),cancelText:(0,H.I9)(r),onDismiss:function(){},primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"tag-delete-submit-button",children:(0,U.jsx)(m.zx,{color:"red",onClick:function(){return u()},size:"lg",text:a})}),size:"sm",title:i,children:(0,U.jsxs)(m.xu,{marginBottom:8,children:[(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.xv,{size:"300",children:l})}),(0,U.jsx)(m.xu,{marginBottom:1,children:(0,U.jsx)(m.he,{iconAccessibilityLabel:"warning",message:(0,U.jsx)(m.xv,{weight:"bold",children:c},"warn-text"),type:"warningBare"})}),(0,U.jsx)(m.xu,{children:d})]})})};function oh(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function op(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){oh(o,r,s,a,i,"next",e)}function i(e){oh(o,r,s,a,i,"throw",e)}a(void 0)})}}var ob=function(e,t,n,r,s,o){var a,i,l,c,u,d=(0,W.dI)().showToast,_=(0,L.HU)().clearModal;function m(t){d(function(n){var r=n.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:r,text:(0,q.Z)(t,"message")||(0,H.sQ)(e),type:"error"})})}var h=(0,f.I0)();switch(r){case"PROFILE":return{primaryButtonText:e._('Remove Profile', '[m10].bizAccess.assetGroup.removeProfile.submit', 'Primary button of remove profile from asset group modal'),headerText:e._('Remove Profile', '[m10].bizAccess.assetGroup.removeProfile.header, header for profile column', 'Header of remove profile from asset group modal'),entityCardText:(0,R.nk)(e._('Removing {{profileName}} from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removeProfile.content', 'text telling the user which profile is being removed from which asset group profileName: name of the profile being removed assetGroupName: name of asset group'),{assetGroupName:s.name,profileName:o.profileName}).join(""),warnText:e._('Employees and partners will lose access to this profile if they do not have permissions for this profile outside of this asset group. You can always add this profile later.', '[m10].bizAccess.assetGroup.removeProfile.warning', 'warning of remove profile from asset group modal'),selectAvatar:o.profileAvatar||"",onSubmit:function(){op(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o.profileId){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,(0,em.nk)({businessId:t,assetGroupId:s.id,assetsToRemove:[o.profileId],businessHierarchyNodeId:n});case 5:h((0,el.NQ)({businessId:t,resourceType:"PROFILE"},{assetsToRemove:[o.profileId]})),d(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,R.nk)(e._('{{profileName}} has been removed from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removedProfile.toast', 'toast telling the user which profile was removed from which asset group profileName: name of the profile being removed assetGroupName: name of asset group'),{assetGroupName:s.name,profileName:o.profileName}).join("")})}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),m(r.t0);case 12:_();case 13:case"end":return r.stop()}},r,null,[[2,9]])}))()}};case"AD_ACCOUNT":return{primaryButtonText:e._('Remove ad account', '[m10].bizAccess.assetGroup.removeAdAccount.submit', 'Primary button of remove ad account from asset group modal'),headerText:e._('Remove ad account', '[m10].bizAccess.assetGroup.removeAdAccount.header', 'Header of remove ad account from asset group modal'),entityCardText:(0,R.nk)(e._('Removing {{adAccountName}} from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removeAdAccount.content', 'text telling the user which ad account is being removed from which asset group adAccountName: name of the ad account being removed assetGroupName: name of asset group'),{assetGroupName:s.name,adAccountName:o.name}).join(""),warnText:e._('Employees and partners will lose access to this ad account if they do not have permissions for this ad account outside of this asset group. You can always add this ad account later.', '[m10].bizAccess.assetGroup.removeAdAccount.warning', 'warning of remove ad account from asset group modal'),selectAvatar:"",onSubmit:function(){op(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o.id){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,(0,em.nk)({assetGroupId:s.id,businessId:t,assetsToRemove:[o.id],businessHierarchyNodeId:n});case 5:h((0,el.NQ)({businessId:t,resourceType:"AD_ACCOUNT"},{assetsToRemove:[o.id]})),d(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,R.nk)(e._('{{adAccountName}} has been removed from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removeAdAccount.toast', 'toast telling the user which profile was removed from which asset group adAccountName: name of the ad account being removed assetGroupName: name of asset group'),{assetGroupName:s.name,adAccountName:o.name}).join("")})}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),m(r.t0);case 12:_();case 13:case"end":return r.stop()}},r,null,[[2,9]])}))()}};case"CATALOG":return{primaryButtonText:e._('Remove catalog', '[m10].bizAccess.assetGroup.removeCatalog.submit', 'Primary button of remove catalog from asset group modal'),headerText:e._('Remove catalog', '[m10].bizAccess.assetGroup.removeCatalog.header', 'Header of remove catalog from asset group modal'),entityCardText:(0,R.nk)(e._('Removing {{catalogName}} from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removeCatalog.content', 'text telling the user which catalog is being removed from which asset group catalogName: name of the catalog being removed assetGroupName: name of asset group'),{assetGroupName:s.name,catalogName:o.name}).join(""),warnText:e._('Employees and partners will lose access to this catalog if they do not have permissions for this catalog outside of this asset group. You can always add this catalog later.', '[m10].bizAccess.assetGroup.removeCatalog.warning', 'warning of remove catalog from asset group modal'),selectAvatar:"",onSubmit:function(){op(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o.id){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,(0,em.nk)({assetGroupId:s.id,businessId:t,assetsToRemove:[o.id],businessHierarchyNodeId:n});case 5:h((0,el.NQ)({businessId:t,resourceType:"CATALOG"},{assetsToRemove:[o.id]})),d(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,R.nk)(e._('{{catalogName}} has been removed from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removeCatalog.toast', 'toast telling the user which profile was removed from which asset group catalogName: name of the catalog being removed assetGroupName: name of asset group'),{assetGroupName:s.name,catalogName:o.name}).join("")})}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),r.t0 instanceof Error&&m(r.t0);case 12:_();case 13:case"end":return r.stop()}},r,null,[[2,9]])}))()}};case"PEOPLE":return{primaryButtonText:e._('Remove employee', '[m10].bizAccess.assetGroup.removeEmployee.submit', 'Primary button of remove employee from asset group modal'),headerText:e._('Remove employee', '[m10].bizAccess.assetGroup.removeEmployee.header, header for employee column', 'Header of remove employee from asset group modal'),entityCardText:(0,R.nk)(e._('Removing {{employeeName}} ({{employeeEmail}}) from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removeEmployee.content', 'text telling the user which employee is being removed from which asset group employeeName: name of the employee being removed assetGroupName: name of asset group, employeeEmail: email of the employee'),{assetGroupName:s.name,employeeName:null==(a=o.user)?void 0:a.full_name,employeeEmail:null==(i=o.user)?void 0:i.email}).join(""),warnText:e._('Once this employee is removed, they will lose access to all assets within this asset group unless they had pre-existing access to the asset', '[m10].bizAccess.assetGroup.removeEmployee.warning', 'warning of remove employee from asset group modal'),selectAvatar:o.user&&o.user.image_small_url?o.user.image_small_url:"",onSubmit:function(){op(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(o.id&&o.user)){r.next=12;break}return r.prev=1,r.next=4,(0,em.AJ)({assetGroupId:s.id,businessId:t,employeeId:o.id,businessHierarchyNodeId:n});case 4:h((0,el.dQ)({businessId:t},{userType:"PEOPLE"})),d(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,R.nk)(e._('{{employeeName}} {{employeeEmail}} has been removed from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removedEmployee.toast', 'toast telling the user which employee was removed from which asset group employeeName: name of the employee being removed assetGroupName: name of asset group, employeeEmail: email of the employee'),{assetGroupName:s.name,employeeName:o.user.full_name,employeeEmail:o.user.email}).join(""),thumbnail:{avatar:(0,U.jsx)(tn.qE,{name:o.user.full_name,size:"sm",src:o.user.image_small_url})}})}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),m(r.t0);case 11:_();case 12:case"end":return r.stop()}},r,null,[[1,8]])}))()}};case"SYSTEM_USER":return{primaryButtonText:e._('Remove system user', '[m10].bizAccess.assetGroup.removeSystemUser.submit', 'Primary button of remove system user from asset group modal'),headerText:e._('Remove system user', '[m10].bizAccess.assetGroup.removeSystemUser.header, header for system user column', 'Header of remove system user from asset group modal'),entityCardText:(0,R.nk)(e._('Removing {{systemUserName}} from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removeSystemUser.content', 'text telling the user which system user is being removed from which asset group systemUserName: name of the system user being removed assetGroupName: name of asset group, systemUserEmail: email of the system user'),{assetGroupName:s.name,systemUserName:null==(l=o.user)?void 0:l.full_name}).join(""),warnText:e._('Once this system user is removed, they will lose access to all assets within this asset group unless they had pre-existing access to the asset', '[m10].bizAccess.assetGroup.removeSystemUser.warning', 'warning of remove system user from asset group modal'),onSubmit:function(){op(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(o.id&&o.user)){r.next=12;break}return r.prev=1,r.next=4,(0,em.AJ)({assetGroupId:s.id,businessId:t,employeeId:o.id,businessHierarchyNodeId:n});case 4:h((0,el.dQ)({businessId:t},{userType:"SYSTEM_USERS"})),d(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,R.nk)(e._('{{systemUserName}} has been removed from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removedEmployee.toast', 'toast telling the user which system user was removed from which asset group systemUserName: name of the system user being removed assetGroupName: name of asset group, systemUserEmail: email of the system user'),{assetGroupName:s.name,systemUserName:o.user.full_name}).join("")})}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),m(r.t0);case 11:_();case 12:case"end":return r.stop()}},r,null,[[1,8]])}))()}};case"PARTNER":return{primaryButtonText:e._('Remove partner', '[m10].bizAccess.assetGroup.removePartner.submit', 'Primary button of remove partner from asset group modal'),headerText:e._('Remove partner', '[m10].bizAccess.assetGroup.removePartner.header, header for partner column', 'Header of remove partner from asset group modal'),entityCardText:(0,R.nk)(e._('Removing {{partnerName}} ({{partnerEmail}}) from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removePartner.content', 'text telling the user which partner is being removed from which asset group partnerName: name of the partner being removed assetGroupName: name of asset group, partnerEmail: email of the partner'),{assetGroupName:s.name,partnerName:null==(c=o.user)?void 0:c.full_name,partnerEmail:null==(u=o.user)?void 0:u.email}).join(""),warnText:e._('Once this partner is removed, they will lose access to all assets within this asset group unless they had pre-existing access to the asset', '[m10].bizAccess.assetGroup.removePartner.warning', 'warning of remove partner from asset group modal'),selectAvatar:o.user&&o.user.image_small_url?o.user.image_small_url:"",onSubmit:function(){op(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(o.id&&o.user)){r.next=12;break}return r.prev=1,r.next=4,(0,em.ld)({assetGroupId:s.id,businessId:t,partnerId:o.id,businessHierarchyNodeId:n});case 4:h((0,el.dQ)({businessId:t},{userType:"PARTNER"})),d(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,R.nk)(e._('{{partnerName}} {{partnerEmail}} has been removed from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removedEmployee.toast', 'toast telling the user which employee was removed from which asset group partnerName: name of the employee being removed assetGroupName: name of asset group, partnerEmail: email of the employee'),{assetGroupName:s.name,partnerName:o.user.full_name,partnerEmail:o.user.email}).join(""),thumbnail:{avatar:(0,U.jsx)(tn.qE,{name:o.user.full_name,size:"sm",src:o.user.image_small_url})}})}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),m(r.t0);case 11:_();case 12:case"end":return r.stop()}},r,null,[[1,8]])}))()}};default:return{primaryButtonText:"",headerText:"",entityCardText:"",warnText:"",selectAvatar:"",onSubmit:function(){}}}},oy=function(e){var t=e.assetOrMemberType,n=e.toRemove,r=(0,N.Z)(),s=(0,f.v9)(ep.FS),o=(0,L.KJ)(),a=(0,(0,y.g)().getParentHierarchyForIdIfExists)(o),i=ob(r,o,null==a?void 0:a.id,t,s,n),l=i.primaryButtonText,c=i.headerText,u=i.entityCardText,d=i.warnText,_=i.selectAvatar,h=i.onSubmit;return(0,U.jsx)(Z.Z,{accessibilityLabel:r._('modal for removing an ad account, profile, partner, or employee to an asset group', '[m10n].bizAccess.assetGroupRemoveAsset.modalAccessibilityLabel', 'accessibility label for modal that removes an asset or user from an asset group'),cancelText:(0,H.I9)(r),onDismiss:function(){},primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"assetGroup-delete-submit-button",children:(0,U.jsx)(m.zx,{color:"red",onClick:function(){return h()},size:"lg",text:l})}),size:"sm",title:c,children:(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.xu,{marginBottom:4,children:_?(0,U.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,U.jsx)(tn.qE,{name:"",size:"lg",src:_}),(0,U.jsx)(m.xu,{direction:"column",display:"flex",justifyContent:"around",marginBottom:2,marginStart:2,marginTop:2,children:(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xv,{size:"300",children:u})})})]}):(0,U.jsx)(m.xv,{size:"300",children:u})}),(0,U.jsx)(m.he,{iconAccessibilityLabel:"warning",message:d,type:"warningBare"})]})})},ov=n(157498);function oA(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var og=function(){var e,t,n=(0,N.Z)(),r=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),s=(0,W.dI)().showToast,o=(0,L.HU)().clearModal,a=(0,(0,I.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,i=(0,eG.Z)().params.businessHierarchyId,l=(0,y.g)(),c=l.businessHierarchies,u=l.fetchData,d=c.find(function(e){return e.id===i}),_=(0,L.MC)(),f=null!=(e=null==_?void 0:_.user.id)?e:"",h=(0,ov.mN)()(null!=f?f:""),p=null==h?void 0:h.avatar_color_index;return a&&d&&_?(0,U.jsx)(Z.Z,{accessibilityLabel:n._('Remove child business modal', '[m10n]bizAccess.removeChildBusinessModal.a11yLabel', 'Accessibility label for the remove child business modal'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"remove-child-business-confirmation-button",children:(0,U.jsx)(m.zx,{color:"red",onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,sh.$N)({hierarchyId:null!=i?i:"",childHierarchyId:_.user.id});case 3:return s(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,R.nk)(n._('{{name}} has been removed from your business hierarchy', '[m10n]bizAccess.childBusiness.delete.toast', 'message confirming that child business was deletedname: name of business removing from hierarchy'),{name:_.user.full_name}).join("")})}),r({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-child-business",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-child-business-confirmation-button",business_id:_.user.id}),e.next=7,u();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-child-business",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-child-business-confirmation-button",business_id:_.user.id,errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(t=(0,q.Z)(e.t0,"stack"))?void 0:t.slice(0,4096))||(0,q.Z)(e.t0,"message")||""}),s(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,H.sQ)(n),type:"error"})});case 13:o();case 14:case"end":return e.stop()}},e,null,[[0,9]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){oA(o,r,s,a,i,"next",e)}function i(e){oA(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:n._('Remove business', '[m10n]bizAccess.removeChildBusiness.primaryActionButton', 'Button confirming removal of child business')})}),size:"sm",title:n._('Remove business', '[m10n]bizAccess.removeChildBusiness.title', 'Title for the remove child business modal'),children:(0,U.jsx)(m.xu,{children:(0,U.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,U.jsx)(tn.qE,{color:p,name:null!=(t=d.name)?t:"",size:"lg",src:d.img_medium_url}),(0,U.jsx)(m.xu,{direction:"column",display:"flex",justifyContent:"around",marginBottom:4,marginStart:3,children:(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xv,{size:"300",children:(0,R.nk)(n._('Remove {{ childBusinessName }} from {{ businessHierarchyName }}\'s business hierarchy', '[m10n]businessAccess.childBusiness.callout.businessId', 'Remove child business confirmation text. childBusinessName: name of the child business, businessHierarchyName: name of the business hierarchy'),{childBusinessName:_.user.full_name,businessHierarchyName:d.name})})})})]})})}):null};function oS(e){return(oS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ox(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ox(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=oS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oS(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oS(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ox(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oP(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var oI=function(e){var t,n,r=e.adAccountId,s=(0,N.Z)(),o=(0,W.dI)().showToast,a=(0,L.HU)().clearModal,i=(0,f.v9)((0,eh.sA)(r)),l=(0,f.I0)(),c=(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l((0,ei.l_)(oE(oE({},i),{},{default_utm_source_enabled:!1})));case 2:a(),o(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:s._('URL parameters removed', '[m10n].bizAccess.adAccounts.urlParameters.remove.toast.text', 'Toast text for URL parameter removal from campaigns'),type:"success"})});case 4:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){oP(o,r,s,a,i,"next",e)}function i(e){oP(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)});return(0,U.jsx)(Z.Z,{accessibilityLabel:s._('modal for removing the URL parameter settings from an ad account', '[m10n].bizAccess.adAccounts.urlParameters.modal.AccessibilityLabel', 'accessibility label for modal that removes URL parameters from campaigns'),cancelText:s._('Cancel', '[m10n].bizAccess.adAccounts.urlParameters.modal.cancel', 'Button that cancels the removal of URL parameters from an ad account'),onDismiss:function(){},primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"url-delete-submit-button",children:(0,U.jsx)(m.zx,{color:"red",onClick:function(){c()},size:"lg",text:s._('Remove', '[m10n].bizAccess.adAccounts.urlParameter.modal.remove', 'Button that submits the removal of a URL parameter from an ad account')})}),size:"sm",title:(0,U.jsxs)(m.kC,{alignItems:"center",gap:2,children:[(0,U.jsx)(m.JO,{accessibilityLabel:"Pin",color:"warning",icon:"workflow-status-warning",size:24}),(0,U.jsx)(m.xv,{align:"center",color:"default",size:"400",weight:"bold",children:s._('Remove URL parameters?', '[m10n].bizAccess.adAccounts.urlParameter.modal.title', 'Title of the modal for the removal of url parameters from an ad account')})]}),children:(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xu,{paddingX:6,children:(0,U.jsx)(m.xv,{size:"300",children:s._('This will remove URL parameters from all destination URLs in your current and future campaigns. Campaigns that already have custom URL parameters will not be changed.', '[m10n].bizAccess.adAccounts.urlParameter.modal.title', 'Title of the modal for the removal of URL parameters from an ad account')})})})})};function oT(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var oC=function(){var e,t,n,r=(0,f.I0)(),s=(0,N.Z)(),o=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),a=(0,W.dI)().showToast,i=(0,L.HU)().clearModal,l=(0,(0,I.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,c=(0,eG.Z)().params.businessHierarchyId,u=(0,y.g)().businessHierarchies.find(function(e){return e.id===c}),d=(0,L.Sx)(),_=(0,f.v9)(eS.Aj),h=null!=(e=null==d?void 0:d.user.id)?e:"",p=(0,ov.mN)()(null!=h?h:""),b=null==p?void 0:p.avatar_color_index;return l&&u&&d?(0,U.jsx)(m.xu,{"data-test-id":"remove-organization-manager-modal",children:(0,U.jsx)(Z.Z,{accessibilityLabel:s._('Remove organization manager modal', '[m10n]bizAccess.removeOrganizationManager.modal', 'Accessibility label for the remove organization manager modal'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"remove-organization-manager-confirmation-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:_.length<2,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_.length>1)){e.next=13;break}return e.prev=1,e.next=4,(0,sh.Ay)({hierarchyId:null!=c?c:"",managerId:d.user.id});case 4:a(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,R.nk)(s._('{{name}} has been removed from your business hierarchy', '[m10n]bizAccess.organizationManager.delete.toast', 'message confirming that organization manager was deletedname: name of the manager removed from hierarchy'),{name:d.user.full_name}).join("")})}),r((0,eH.iS)({hierarchyId:null!=c?c:""})),o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-organization-manager-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",organization_manager_id:d.user.id}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),a(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,H.sQ)(s),type:"error"})}),o({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-organization-manager-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",organization_manager_id:d.user.id,errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(t=(0,q.Z)(e.t0,"stack"))?void 0:t.slice(0,4096))||(0,q.Z)(e.t0,"message")||""});case 13:i();case 14:case"end":return e.stop()}},e,null,[[1,9]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){oT(o,r,s,a,i,"next",e)}function i(e){oT(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:s._('Remove manager', '[m10n]bizAccess.removeOrganizationManager.primaryActionButton', 'Button confirming removal of organization manager')})}),size:"sm",title:s._('Remove manager', '[m10n]bizAccess.removeOrganizationManager.title', 'Title for the remove organization manager modal'),children:(0,U.jsx)(m.xu,{children:(0,U.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,U.jsx)(tn.qE,{color:b,name:null!=(t=d.user.full_name)?t:"",size:"lg",src:null!=(n=d.user.image_medium_url)?n:""}),(0,U.jsx)(m.xu,{direction:"column",display:"flex",justifyContent:"around",marginBottom:4,marginStart:3,children:(0,U.jsx)(m.xv,{inline:!0,size:"300",children:(0,R.nk)(s._('Removing {{ managerName }} ({{ managerEmail }}) from {{ businessHierarchyName }}\'s business hierarchy', '[m10n]businessAccess.removeOrganizationManager.content', 'Remove organization manager confirmation text. managerName: name of the organization manager, managerEmail: email of the organization manager, businessHierarchyName: name of the business hierarchy'),{managerName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:d.user.full_name},"1"),managerEmail:d.user.email,businessHierarchyName:u.name})},"0")})]})})})}):null},oO=function(e){var t=e.text,n=(0,N.Z)();return(0,U.jsxs)(m.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#FCF6F2"}},display:"flex",padding:3,rounding:2,children:[(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:2,children:(0,U.jsx)(m.qb,{accessibilityLabel:n._('Warning', '[m10n]bizAccess.removePartner.warningIcon', 'Accessibility label for warning icon'),type:"warning"})}),(0,U.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,U.jsx)(m.xv,{align:"start",overflow:"normal",size:"200",children:t})})]})},oj=function(e){var t=e.onHide,n=e.name,r=(0,N.Z)();return(0,U.jsx)(Q.Z,{dismissButton:{onDismiss:t},duration:1e4,onHide:t,text:(0,sr.Z)(r._('{{name}} removed. Changes may take several hours to process. Members will retain their existing permissions until removal is processed.', '[m10n] businessAccess.memberRemoved.successToast', 'message confirming that member was deleted, name: name of business being removed'),{name:n}),type:"success"})};function oz(e){return(oz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ow(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oD(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oD(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ok=function(e){var t=e.businessId,n=e.partnerId,r=e.refreshData,s=(0,S.u)().logContextEvent,o=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),i=(0,a.TH)(),l=(0,N.Z)(),c=oR((0,z.Z)(t1.Eg,!0,{id:t,partnerId:n,includeAssetSummary:!0}),3),u=c[0],d=c[2],h=oR((0,z.Z)(t1.Bq,!0,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=oz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oz(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oz(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({businessId:t,partnerId:n},v.vk)),3),p=h[0],b=h[2],x=(0,(0,I.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,E=(p||{data:{}}).data.total_data_count,T=void 0===E?0:E,C=null==u?void 0:u.data.data.find(function(e){return e.id===n}),O=null!=C?C:{},j=O.business_roles,w=O.user,D=(w=void 0===w?{}:w).full_name,k=void 0===D?"":D,B=w.image_medium_url,M=O.assets_summary,G=(M=void 0===M?{}:M).profiles,F=M.ad_accounts,Y=(void 0===F?[]:F).length,V=(0,L.nU)(),X=(0,L.HU)().clearModal,K=(0,(0,y.g)().getParentHierarchyForIdIfExists)(t),$=null==K?void 0:K.id,J=(0,f.I0)(),ee=(0,W.dI)(),et=ee.showToast,en=ee.showOneToast,er=(0,a.s0)(),es=oR((0,_.useState)(!1),2),eo=es[0],ea=es[1],ei=!!(G&&G.find(function(e){return e.id===t})),el=(0,R.nk)(l.ngettext('{{adAccountsCount}} ad account', '{{adAccountsCount}} ad accounts', Y, '[m10n]bizAccess.removePartner.adAccountstext', 'text to be used inside sentence to represent the number of ad accounts. adAccountsCount: number of shared ad accounts'),{adAccountsCount:Y}).join(""),ec=(0,R.nk)(l.ngettext('{{assetGroupsCount}} asset group', '{{assetGroupsCount}} asset groups', T, '[m10n]bizAccess.removePartner.assetGroupsCount', 'text to be used inside sentence to represent the number of ad accounts. assetGroupsCount: number of shared ad accounts'),{assetGroupsCount:T}).join(""),ed=(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(oO,{text:l._('Once you remove a partner, you will need to resend an invite to grant access to your business', '[m10n]bizAccess.removePartner.assetGroupsGa.warningText', 'Warning explaining what happens once you remove a partner')})}),(0,U.jsx)(m.xu,{marginBottom:2,children:(0,U.jsx)(m.xv,{size:"300",weight:"bold",children:(0,sr.Z)(l._('Removing {{fullName}} will result in the following:', '[m10n]bizAccess.removePartner.checkboxHeader', 'Header explaining what the effects of removing a partner. fullName: name of business partner being removed'),{fullName:k})})}),0!==Y&&T<=0&&(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",paddingX:2,paddingY:1,children:(0,U.jsx)(m.xv,{size:"300",children:(0,sr.Z)(l._('\u2022 {{fullName}} will lose access to {{adAccountsCountText}} and associated tools', '[m10n]bizAccess.removePartner.loseAdAccountAccessText', 'Text explaining removing a partner will result in loss of ad account access. adAccountsCountText: number of shared ad accounts. fullName: name of business partner being removed'),{fullName:k,adAccountsCountText:el})})}),0!==T&&Y<=0&&(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",paddingX:2,paddingY:1,children:(0,U.jsx)(m.xv,{size:"300",children:(0,sr.Z)(l._('\u2022 {{fullName}} will lose access to {{assetGroupsCountText}} and associated tools', '[m10n]bizAccess.removePartner.loseAssetGrouppAccessText', 'Text explaining removing a partner will result in loss of asset group access. assetGroupsCountText: number of shared asset groups. fullName: name of business partner being removed'),{fullName:k,assetGroupsCountText:ec})})}),0!==T&&0!==Y&&(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",paddingX:2,paddingY:1,children:(0,U.jsx)(m.xv,{size:"300",children:(0,sr.Z)(l._('\u2022 {{fullName}} will lose access to {{adAccountsCountText}}, {{assetGroupsCountText}} and associated tools', '[m10n]bizAccess.removePartner.loseAdAccountAccessText', 'Text explaining removing a partner will result in loss of ad account and asset group access. adAccountsCountText: number of shared ad accounts. assetGroupsCountText: number of shared asset groups fullName: name of business partner being removed'),{fullName:k,assetGroupsCountText:ec,adAccountsCountText:el})})}),(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",paddingX:2,paddingY:1,children:(0,U.jsx)(m.xv,{size:"300",children:(0,sr.Z)(l._('\u2022 {{fullName}} employees will lose access to all shared accounts', '[m10n]bizAccess.removePartner.sharedAccountAccessText', 'Text explaining removing a partner will result in loss of shared account access. fullName: name of business partner being removed'),{fullName:k})})}),ei&&(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",paddingX:2,paddingY:1,children:(0,U.jsx)(m.xv,{size:"300",children:(0,sr.Z)(l._('\u2022 {{fullName}} and its employees will lose access to your profile', '[m10n]bizAccess.removePartner.profileAccessText', 'Text explaining removing a partner will result in loss of profile access. fullName: name of business partner being removed'),{fullName:k})})}),(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:2,children:(0,U.jsx)(m.xu,{"data-test-id":"confirm-remove-partner-checkbox",children:(0,U.jsx)(m.XZ,{checked:eo,id:"confirmRemovePartnerCheckbox",label:l._('Check this box to confirm', '[m10n]bizAccess.removePartner.checkbox', 'Button confirming removal of partner business'),onChange:function(){ea(!eo),(0,eZ.Z)(s,{event_type:8964,component:13646,aux_data:{business_id:t,field_name:"confirmRemovePartnerCheckbox"}})}})})})]});return d||b?null:(0,U.jsxs)(Z.Z,{accessibilityLabel:l._('Remove partner modal', '[m10n]bizAccess.removePartnerModal.a11yLabel', 'Accessibility label for the remove partner modal'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"remove-partner-confirmation-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:!eo,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,t1.K7)({role:j[0],partnerId:n,businessId:t,businessHierarchyNodeId:$,partner_type:"INTERNAL"});case 3:r?r():t&&J((0,eu.Eg)({businessId:t})),en(function(e){var t=e.hideToast;return(0,U.jsx)(oj,{name:k||"",onHide:t})}),(0,P.dK)(i)?o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",partner_id:n}):s({event_type:8965,component:13646,aux_data:{business_id:t}}),X(),V===n&&er((0,A.Z)(v.Q6.PARTNERS,t),{replace:!0}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),X(),et(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(l),type:"error"})}),(0,P.dK)(i)?o({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(a=(0,q.Z)(e.t0,"stack"))?void 0:a.slice(0,4096))||(0,q.Z)(e.t0,"message")||"",partner_id:n}):s({event_type:8966,component:13646,aux_data:{business_id:t,error_class:JSON.stringify(e.t0).slice(0,64),error_message:(null==(c=(0,q.Z)(e.t0,"stack"))?void 0:c.slice(0,4096))||(0,q.Z)(e.t0,"message")||""}});case 15:case"end":return e.stop()}},e,null,[[0,10]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){ow(o,r,s,a,i,"next",e)}function i(e){ow(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:l._('Remove', '[m10n]bizAccess.removePartner.primaryActionButton', 'Button confirming removal of partner business')})}),size:"sm",title:l._('Remove partner', '[m10n]bizAccess.removePartner.title', 'Title for the remove partner modal'),children:[x&&(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsx)(m.xu,{marginBottom:5,children:(0,U.jsx)(ra,{avatar:B,name:k,text:l._('Removing from business', '[m10n]bizAccess.removePartner.subHeaderTitle', 'Subheader title for removing the business')})}),ed]})};function oL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oU(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oU(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oB="EMPLOYEE",oM=function(e){var t,n,r,s,o=e.selectedId,i=e.onRefresh,l=e.businessId,c=(0,S.u)().logContextEvent,u=(0,N.Z)(),d=(0,f.I0)(),h=(0,W.dI)().showOneToast,p=(0,L.KJ)(),b=(0,L.KJ)(!0),x=l||p||b,E=(0,L.nU)(),P=(0,L.nU)(!0),T=E||P,C=(0,a.s0)(),O=oL((0,z.Z)(D.b,!0,o),3),j=O[0],w=O[1],k=O[2],B=oL((0,z.Z)(D.b,!0,x),3),M=B[0],G=B[1],F=B[2],Y=oL((0,eX.Z)("people",o),3),V=Y[0],Q=Y[1],X=Y[2],K=(0,sM.Z)(x),$=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),J=(0,(0,I.Z)().checkExperiment)("web_m10n_business_access_employee_redesign").anyEnabled,ee=oL((0,_.useState)(!1),2),et=ee[0],en=ee[1],er=(0,L.HU)(),es=er.clearModal,eo=er.setSelectedEmployeeId,ea=er.setSelectedDetail,ei=(0,(0,y.g)().getParentHierarchyForIdIfExists)(x),el=null==ei?void 0:ei.id,ec=!!(0,eG.Z)().params.businessHierarchyId,eu=(null==V||null==(t=V.biz_roles)?void 0:t[0])||(null==V||null==(n=V.business_roles)?void 0:n[0])||oB,e_=(0,f.v9)(sH.Wb).find(function(e){return e.id===o}),ef=(null==e_||null==(r=e_.biz_roles)?void 0:r[0])||(null==e_||null==(s=e_.business_roles)?void 0:s[0])||oB,em=ec?ef:eu,eh=u._('Remove employee modal', '[m10n]bizAccess.business.removeEmployee.modal', 'accessibility label for the modal used to remove a employee from a business'),ep=u._('Remove employee', '[m10n]bizAccess.employees.removeTitle', 'title of the modal to remove an employee from the business');if(w||G||Q)return(0,U.jsx)(Z.Z,{accessibilityLabel:eh,size:"sm",title:ep,children:(0,U.jsx)(sB,{empty:!0})});if(k||F||X)return(0,U.jsx)(Z.Z,{accessibilityLabel:eh,size:"sm",title:ep,children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(u),show:!0})});var eb=function(){j&&h(function(e){var t=e.hideToast;return(0,U.jsx)(oj,{name:j.full_name,onHide:t})}),ec?$({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-person-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",employee_id:o}):c({event_type:8965,component:13634,aux_data:{business_id:x}}),es(),i?i():ec?(eo(),d(K)):J?(C((0,A.Z)(v.Q6.PEOPLE,x)),ea({detailId:""}),d((0,tl.P6)({employeeId:o}))):T===o?C((0,A.Z)("PEOPLE",x),{replace:!0}):d(ed.JC)},ey=function(e){var t,n;ec?$({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-person-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e).slice(0,64),errorMessage:(null==(t=(0,q.Z)(e,"stack"))?void 0:t.slice(0,4096))||(0,q.Z)(e,"message")||"",employee_id:o}):c({event_type:8966,component:13634,aux_data:{business_id:x,error_class:JSON.stringify(e).slice(0,64),error_message:(null==(n=(0,q.Z)(e,"stack"))?void 0:n.slice(0,4096))||(0,q.Z)(e,"message")||""}})};return(0,U.jsxs)(Z.Z,{accessibilityLabel:eh,primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"remove-person-confirmation-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:!et,fullWidth:!0,onClick:function(){d((0,ed.Fx)({businessId:x,detailId:T,removeId:o,assignedRole:em,businessHierarchyNodeId:el,onSuccess:eb,onFailure:ey,disablePeopleV4EndpointCall:!!i}))},size:"lg",text:u._('Remove', '[m10n]businessAccess.removePerson.remove.button', 'Label for the button to Remove employee')})}),size:"sm",title:ep,children:[(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(ra,{avatar:(null==j?void 0:j.image_large_url)||"",name:(null==j?void 0:j.full_name)||"",text:u._('Removing from business', '[m10n]businessAccess.removePerson.personLabel', 'Label shown above the selected person\'s name')})}),(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.he,{iconAccessibilityLabel:"Info",message:u._('Once you remove an employee, you will need to send an invite and assign permissions to add them again', '[m10n]businessAccess.removeAdAccountRoles.banner', 'Banner shown when removing a person from a business'),type:"warning"})}),(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.xu,{marginBottom:1,children:(0,U.jsx)(m.xv,{weight:"bold",children:(0,R.nk)(u._('Removing {{employeeName}} from {{ businessName }} will result in the following:', '[m10n]businessAccess.removeEmployee.content', 'Text in the modal to remove an employee from a business. employeeName: employee name, businessName: business name'),{businessName:(null==M?void 0:M.full_name)||"",employeeName:null==j?void 0:j.full_name})})}),(0,U.jsx)(m.xu,{paddingX:2,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(u._('\u2022 {{employeeName}} will lose access to assigned ad accounts, profiles and asset groups', '[m10n]businessAccess.removeEmployee.item', 'Text in the modal to remove an employee from a business. employeeName: employee name'),{employeeName:null==j?void 0:j.full_name})})}),(0,U.jsx)(m.xu,{"data-test-id":"remove-person-confirmation-checkbox",marginTop:5,children:(0,U.jsx)(m.XZ,{checked:et,id:"confirmRemoveEmployeeCheckbox",label:u._('Check this box to confirm', '[m10n]bizAccess.removeEmployee.checkbox', 'Button confirming removal of employee'),onChange:function(e){en(e.checked)}})})]})]})};function oH(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var oZ=function(e){var t,n,r=(0,S.u)().logContextEvent,s=(0,I.Z)(),o=s.checkExperiment,i=(0,N.Z)(),l=(0,a.TH)(),c=(0,L.KJ)(!0),u=(0,L.nU)(!0),d=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),_=(0,f.I0)(),h=(0,L.HU)().clearModal,p=(0,(0,y.g)().getParentHierarchyForIdIfExists)(c),b=null==p?void 0:p.id,A=(0,W.dI)().showToast,x=o("web_m10n_business_hierarchy_beta").anyEnabled,E=o("web_m10n_business_access_employee_redesign").anyEnabled,T=(0,nJ.Z)(c),C=(0,f.v9)((0,eA.Tj)(e.profileId)),O=(0,f.v9)((0,ey.BK)(e.profileId)),j=(0,L.Un)(),z="";return z=E&&e.profileName?e.profileName:(null==C||null==(t=C.asset)?void 0:t.name)||(null==O||null==(n=O.user)?void 0:n.full_name)||(null==j?void 0:j.asset.name)||"",(0,U.jsxs)(Z.Z,{accessibilityLabel:i._('Remove profile access', '[m10n]businessAccess.removePermissions', '[m10n]Modal to remove the user permisisons'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"remove-profile-permissions-button",children:(0,U.jsx)(m.zx,{color:"red",onClick:function(){var t;(t=regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.selectionType!==v.Hl.PERSON){t.next=7;break}return t.next=4,(0,tU.bP)({businessId:c,memberId:e.userData.id,assetId:e.profileId,businessHierarchyNodeId:b});case 4:"PEOPLE"===e.dataToRefresh?E?_((0,tl.NW)({employeeId:u,profileId:e.profileId})):_((0,ed.fR)({businessId:c,detailId:u,assetPermissionType:0,includeAssetSummary:!0,experimentsClient:s})):"PROFILE_PEOPLE"===e.dataToRefresh&&_((0,e_.iS)({businessId:c,detailId:u})),t.next=17;break;case 7:if(e.selectionType!==v.Hl.SYSTEM_USER){t.next=13;break}return t.next=10,(0,tU.bP)({businessId:c,memberId:e.userData.id,assetId:e.profileId,businessHierarchyNodeId:b});case 10:"SYSTEM_USERS"===e.dataToRefresh?E?_((0,ef.$k)({systemUserId:u,profileId:e.profileId})):_((0,ef.zQ)({businessId:c,detailId:u,assetPermissionType:0,includeAssetSummary:!0,experimentsClient:s})):"PROFILE_SYSTEM_USERS"===e.dataToRefresh&&_((0,e_.IV)({businessId:c,detailId:u})),t.next=17;break;case 13:if(e.selectionType!==v.Hl.PARTNER){t.next=17;break}return t.next=16,(0,t1.OA)({businessId:c,partnerId:e.userData.id,assetId:e.profileId,businessHierarchyNodeId:b});case 16:"PARTNER_PROFILE"===e.dataToRefresh?_((0,eu.JL)({businessId:c,detailId:u,experimentsClient:s})):"HIERARCHY_PARTNER_PROFILE"===e.dataToRefresh?null==T||T():_((0,e_.XA)({businessId:c,detailId:u}));case 17:null==(n=e.refreshData)||n.call(e,{}),h(),A(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:i._('Profile permissions removed.', '[m10n]businessAccess.profileAssignment.remove.success.toast', 'Success toast prompting user that the profile role removal has been successful.')})}),(0,P.dK)(l)?d({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-profile-permissions-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:e.profileId}):r({event_type:8965,component:13852,aux_data:{business_id:c,profile_id:e.profileId}}),t.next=28;break;case 23:t.prev=23,t.t0=t.catch(0),h(),A(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:i._('Sorry! Something went wrong.', '[m10n]businessAccess.principalAssignment.error.toast', 'Error toast informing user that the profile role assignment has failed.'),type:"error"})}),(0,P.dK)(l)?d({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-profile-permissions-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(t.t0).slice(0,64),errorMessage:(null==(o=(0,q.Z)(t.t0,"stack"))?void 0:o.slice(0,4096))||(0,q.Z)(t.t0,"message")||"",profile_id:e.profileId}):r({event_type:8966,component:13852,aux_data:{business_id:c}});case 28:case"end":return t.stop()}},t,null,[[0,23]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){oH(o,r,s,a,i,"next",e)}function i(e){oH(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:i._('Remove Access', '[m10n]businessAccess.removePermissions.button', '[m10n]Button to remove the user permisisons')})}),size:"sm",title:i._('Remove profile access', '[m10n]businessAccess.removePermissions', '[m10n]Modal to remove the user permisisons'),children:[x&&(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[e.selectionType!==v.Hl.SYSTEM_USER&&(0,U.jsx)(m.qE,{name:e.userData.full_name,size:"lg",src:e.userData.image_small_url}),(0,U.jsx)(m.xu,{direction:"column",display:"flex",justifyContent:"around",marginBottom:4,marginStart:3,children:(0,U.jsx)(m.xv,{inline:!0,size:"300",children:function(){switch(e.selectionType){case v.Hl.PERSON:return(0,R.nk)(i._('{{ employeeName }} will no longer have access to {{ profileName }}\'s profile', '[m10n]businessAccess.removeProfilePermission.employee.content', 'Remove employee from accessing the profile. employeeName: name of the employee, profileName: name of the profile'),{employeeName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:e.userData.full_name},"1"),profileName:z});case v.Hl.SYSTEM_USER:return(0,R.nk)(i._('{{ systemUserName }} will no longer have access to {{ profileName }}\'s profile', '[m10n]businessAccess.removeProfilePermission.employee.content', 'Remove system user from accessing the profile. systemUserName: name of the system user, profileName: name of the profile'),{systemUserName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:e.userData.full_name},"1"),profileName:z});default:return e.userData.full_name}}()},"0")})]})}),e.selectionType===v.Hl.PARTNER&&(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.xu,{marginBottom:2,children:(0,U.jsx)(m.xv,{children:i._('Do you want to remove permissions for this partner to work on your business profile?', '[m10n]businessAccess.removePermissions', '[m10n]Confirmation text on modal')})}),(0,U.jsx)(m.xv,{weight:"bold",children:i._('This action cannot be undone.', '[m10n]businessAccess.removePermissions', '[m10n]Confirmation text on modal')})]})]})};function oG(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function oF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oY(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oY(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oV=function(e){var t,n=e.business,r=e.employee,s=(0,N.Z)(),o=n.id,i=(0,a.s0)(),l=(0,L.HU)().clearModal,c=(0,W.dI)().showToast,u=oF((0,_.useState)(!1),2),d=u[0],f=u[1],h=oF((0,_.useState)(!1),2),p=h[0],b=h[1],y=r.id,g=(0,_.useCallback)(function(e){c(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e,"message")||(0,H.sQ)(s),type:"error"})})},[c,s]),S=(0,_.useCallback)(function(e){c(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:e,type:"success"})})},[c]);return(0,U.jsxs)(Z.Z,{accessibilityLabel:s._('Remove self as employee modal', '[m10n]bizAccess.myInformation.selfEmployeeRemoval.accessibilityLabel', 'Accessibility label for the modal used to remove self as an employee of a business'),primaryAction:(0,U.jsx)(m.zx,{color:"red",disabled:d||!p,onClick:(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,(0,tU.dx)(o,y,"EMPLOYEE");case 4:i((0,A.Z)(v.Q6.DASHBOARD,y),{replace:!0}),window.location.reload(),l(),S(s._('Employee removed successfully', '[m10n]bizAccess.myInformation.selfEmployeeRemoval.success', 'Success message for removing self as employee')),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),g(e.t0);case 13:return e.prev=13,f(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){oG(o,r,s,a,i,"next",e)}function i(e){oG(o,r,s,a,i,"throw",e)}a(void 0)})}),size:"lg",text:s._('Confirm', '[m10n]bizAccess.myInformation.selfEmployeeRemoval.submit', 'Primary button text for remove self as employee modal')}),size:"sm",title:s._('Remove access to this business?', '[m10n]bizAccess.myInformation.selfEmployeeRemoval.header', 'Header for remove self as employee modal'),children:[(0,U.jsx)(m.xv,{children:s._('Once you remove access to this business, you will lose access to all the assets it has assigned to you. Should you want to regain access, this business will need to invite you and reassign assets and roles.', '[m10n]bizAccess.myInformation.selfEmployeeRemoval.description', 'Description for remove self as employee modal')}),(0,U.jsx)(m.xu,{marginTop:4,children:(0,U.jsx)(m.XZ,{checked:p,id:"terms",label:s._('I confirm that I am removing myself from this business', '[m10n]bizAccess.myInformation.selfEmployeeRemoval.confirmation', 'Confirmation text for checkbox on remove self as employee modal'),onChange:function(e){return b(e.checked)}})})]})};function oq(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function oQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oW(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oW(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oX=function(e){var t,n,r,s,o,i,l,c,d,h=e.assetId,p=e.refreshData,y=(0,I.Z)(),x=(0,S.u)().logContextEvent,E=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),T=(0,N.Z)(),C=(0,u.Z)(),O=(0,f.I0)(),j=(0,L.KJ)(),w=(0,L.KJ)(!0),k=j||w,B=(0,L.nU)(),M=(0,L.nU)(!0),G=B||M,F=oQ((0,z.Z)(D.b,!0,k),3),Y=F[0],V=F[2],X=oQ((0,z.Z)(ty.G2,!0,{businessId:k,assetId:h,resourceType:"AD_ACCOUNT",includeAssetSummary:!0}),3),K=X[0],$=X[2],J=oQ((0,z.Z)(tU.kF,!0,{businessId:k,assetId:h}),3),ee=J[0],et=J[2],en=(0,f.v9)(ep.A0),er=(0,f.v9)(ep.HW),es=null!=(t=null==ee?void 0:ee.total_data_count)?t:0,eo=null==K||null==(n=K.data)||null==(r=n.data)||null==(s=r.owner)?void 0:s.id,ea=null!=(o=null==Y?void 0:Y.full_name)?o:"",el=null!=(i=null==K||null==(l=K.data)||null==(c=l.data)||null==(d=c.asset)?void 0:d.name)?i:"",ec=(0,L.HU)().clearModal,ed=(0,W.dI)().showToast,e_=(0,b.NM)().selectedHierarchyId,ef=(0,a.s0)(),em=(0,a.TH)(),eh=(0,eG.Z)().path,eb=oQ((0,_.useState)(!1),2),ey=eb[0],ev=eb[1];return((0,_.useEffect)(function(){O((0,ei.fc)({businessId:k,detailId:G,updateDataOnly:!0}))},[O,k,G]),$||et||V||er)?null:(0,U.jsxs)(Z.Z,{accessibilityLabel:T._('Remove shared ad account modal', '[m10n]bizAccess.removeSharedAdAccount.a11yLabel', 'Accessibility label for the remove shared ad account modal'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"remove-shared-ad-account-confirmation-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:!ey,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,t1.OA)({businessId:k,assetId:h,partnerId:eo,businessHierarchyNodeId:e_,partner_type:"EXTERNAL"});case 3:null==p||p({}),eh.includes(":userBizId/shared")?O((0,eu.CM)({businessId:k,detailId:G,experimentsClient:y})):eh.includes(":userBizId/ad-accounts")&&O((0,ei.cE)({businessId:k})),ed(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,R.nk)(T._('Access to {{adAccountName}} has been removed.', '[m10n]sharedAdAccountAssignment.removeAssignment.success.toast', 'Toast prompting user that the assigned ad account has been removed. {adAccountName} is an interpolated variable.adAccountName: ad accout name'),{adAccountName:el}).join("")})}),(0,P.dK)(em)?E({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-shared-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",asset_id:h}):x({event_type:8965,component:14171,aux_data:{business_id:k}}),ec(),eh.includes(":userBizId/ad-accounts/:detailId/details")&&ef((0,A.Z)(v.Q6.AD_ACCOUNTS,k),{replace:!0}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),ec(),ed(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(T),type:"error"})}),(0,P.dK)(em)?E({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-shared-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(t=(0,q.Z)(e.t0,"stack"))?void 0:t.slice(0,4096))||(0,q.Z)(e.t0,"message")||"",asset_id:h}):x({event_type:8966,component:14171,aux_data:{business_id:k,error_class:JSON.stringify(e.t0).slice(0,64),error_message:(null==(n=(0,q.Z)(e.t0,"stack"))?void 0:n.slice(0,4096))||(0,q.Z)(e.t0,"message")||""}});case 16:case"end":return e.stop()}},e,null,[[0,11]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){oq(o,r,s,a,i,"next",e)}function i(e){oq(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:T._('Remove', '[m10n]bizAccess.removeSharedAdAccount.primaryActionButton', 'Button confirming removal of shared ad account')})}),size:"sm",title:T._('Remove ad account', '[m10n]bizAccess.removeSharedAdAccount.title', 'Title for the remove shared ad account modal'),children:[(0,U.jsxs)(m.xu,{marginBottom:5,children:[(0,U.jsx)(m.X6,{size:"400",children:(0,H.aV)(C,"",el,T)}),(0,U.jsx)(m.xv,{size:"100",children:(0,eU.Z)(T._('ID: {{assetId}}', '[m10n]bizAccess.removeSharedAdAccount.sutitle.id', 'The ad account id. assetId: ad account name'),{assetId:h})})]}),(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(oO,{text:T._('Once you remove this ad account, you will need to request permissions to gain access again', '[m10n]bizAccess.removeSharedAdAccount.warningText', 'Warning explaining what happens once you remove access to a shared ad account')})}),(0,U.jsx)(m.xu,{marginBottom:2,children:(0,U.jsx)(m.xv,{size:"300",weight:"bold",children:(0,R.nk)(T._('Removing {{adAccountName}} will result in the following:', '[m10n]bizAccess.removeSharedAdAccount.checkboxHeader', 'Header explaining what the effects of removing access to shared ad account. adAccountName: ad account name'),{adAccountName:el})})}),(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",paddingX:2,paddingY:1,children:(0,U.jsx)(m.xv,{size:"300",children:es>0?(0,R.nk)(T.ngettext('\u2022 {{businessFullName}} and {{numberEmployees}} employee will lose access to this ad account', '\u2022 {{businessFullName}} and {{numberEmployees}} employees will lose access to this ad account', es, '[m10n]bizAccess.removeSharedPartner.loseAdAccountAccessText', 'Text explaining removing a partner will result in loss of ad account access. adAccountsCount: number of shared ad accounts. businessFullName: name of business removing its own access.numberEmployees: number of employees with access to that ad account'),{businessFullName:(0,H.aV)(C,"",ea,T),numberEmployees:es}):(0,R.nk)(T._('\u2022 {{businessFullName}} will lose access to this ad account', '[m10n]bizAccess.removeSharedPartner.loseAdAccountAccessText', 'Text explaining removing a partner will result in loss of ad account access. businessFullName: name of business removing its own access.'),{businessFullName:(0,H.aV)(C,"",ea,T),numberEmployees:es})})}),Object.keys(en).length>0&&(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",paddingX:2,paddingY:1,children:(0,U.jsx)(m.xv,{size:"300",children:(0,R.nk)(T._('\u2022 {{assetGroups}} will no longer include this shared ad account', '[m10n]bizAccess.removeSharedPartner.assetGroupLoseAdAccountText', 'Text explaining removing an ad account will result in ad account not beign included in asset group. assetGroups: name of asset groups losing access to this ad account.'),{assetGroups:Object.keys(en).map(function(e){return en[e].name}).join(", ")})})}),(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:7,children:(0,U.jsx)(m.xu,{"data-test-id":"confirm-remove-partner-checkbox",children:(0,U.jsx)(m.XZ,{checked:ey,id:"confirmRemoveAdAccountCheckbox",label:T._('Check this box to confirm', '[m10n]bizAccess.removePartner.checkbox', 'Button confirming removal of partner business'),onChange:function(){ev(!ey),(0,eZ.Z)(x,{event_type:8964,component:14171,aux_data:{business_id:k,field_name:"confirmRemoveAdAccountCheckbox"}})}})})}),(0,U.jsx)(m.iz,{})]})]})};function oK(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function o$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oJ(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oJ(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o0=function(e){var t,n,r,s=e.businessId,o=e.partnerId,i=e.refreshData,l=(0,S.u)().logContextEvent,c=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),u=(0,a.TH)(),d=(0,N.Z)(),h=o$((0,z.Z)(t1.Eg,!0,{id:s,searchBy:"BUSINESS_ID",searchTerm:o,includeAssetSummary:!0}),3),p=h[0],b=h[2],x=o$((0,z.Z)(D.b,!0,s),3),E=x[0],T=x[2],C=null!=(n=null==p||null==(r=p.data)?void 0:r.data[0])?n:{},O=C.business_roles,j=C.user,w=(j=void 0===j?{}:j).full_name,k=void 0===w?"":w,B=j.image_medium_url,M=C.assets_summary,G=(M=void 0===M?{}:M).profiles,F=(null!=E?E:{}).full_name,Y=void 0===F?"":F,V=!!(G&&G.find(function(e){return e.id===o})),X=(null==p||null==(t=p.data)?void 0:t.data[0].assets_summary.ad_accounts.length)||0,K=(0,L.nU)(),$=(0,L.HU)().clearModal,J=(0,(0,y.g)().getParentHierarchyForIdIfExists)(s),ee=null==J?void 0:J.id,et=(0,f.I0)(),en=(0,W.dI)(),er=en.showToast,es=en.showOneToast,eo=(0,a.s0)(),ea=(0,(0,I.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,ei=o$((0,_.useState)(!1),2),el=ei[0],ec=ei[1];return b||T?null:(0,U.jsxs)(Z.Z,{accessibilityLabel:d._('Remove shared partner modal', '[m10n]bizAccess.removeSharedPartnerModal.a11yLabel', 'Accessibility label for the remove shared partner modal'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"remove-shared-partner-confirmation-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:!el,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,t1.K7)({partner_type:"EXTERNAL",role:O[0],partnerId:o,businessId:s,businessHierarchyNodeId:ee});case 3:i?i():s&&et((0,eu.Eg)({businessId:s})),es(function(e){var t=e.hideToast;return(0,U.jsx)(oj,{name:k,onHide:t})}),(0,P.dK)(u)?c({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-shared-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",partner_id:o}):l({event_type:8965,component:13646,aux_data:{business_id:s}}),$(),K===o&&eo((0,A.Z)(v.Q6.PARTNERS,s),{replace:!0}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),$(),er(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(d),type:"error"})}),(0,P.dK)(u)?c({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-shared-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(t=(0,q.Z)(e.t0,"stack"))?void 0:t.slice(0,4096))||(0,q.Z)(e.t0,"message")||"",partner_id:o}):l({event_type:8966,component:13646,aux_data:{business_id:s,error_class:JSON.stringify(e.t0).slice(0,64),error_message:(null==(n=(0,q.Z)(e.t0,"stack"))?void 0:n.slice(0,4096))||(0,q.Z)(e.t0,"message")||""}});case 15:case"end":return e.stop()}},e,null,[[0,10]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){oK(o,r,s,a,i,"next",e)}function i(e){oK(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:d._('Remove', '[m10n]bizAccess.removeSharedPartner.primaryActionButton', 'Button confirming removal of shared partner business')})}),size:"sm",title:d._('Remove access to partner', '[m10n]bizAccess.removeSharedPartner.title', 'Title for the remove shared partner modal'),children:[ea&&(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsx)(m.xu,{marginBottom:5,children:(0,U.jsx)(ra,{avatar:B,name:k,text:d._('Removing from business', '[m10n]bizAccess.removeSharedPartner.subHeaderTitle', 'Subheader title for removing the shared partner')})}),(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(oO,{text:d._('Once you remove your business from a partner, you will need to request permissions to gain access again', '[m10n]bizAccess.removeSharedPartner.warningText', 'Warning explaining what happens once you remove access to a partner')})}),(0,U.jsx)(m.xu,{marginBottom:2,children:(0,U.jsx)(m.xv,{size:"300",weight:"bold",children:(0,R.nk)(d._('Removing access to {{partnerFullName}} will result in the following:', '[m10n]bizAccess.removeSharedPartner.checkboxHeader', 'Header explaining what the effects of removing access to a partner. partnerFullName: name of business partner being removed'),{partnerFullName:k})})}),0!==X&&(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",paddingX:2,paddingY:1,children:(0,U.jsx)(m.xv,{size:"300",children:(0,R.nk)(d.ngettext('\u2022 {{businessFullName}} will lose access to {{adAccountsCount}} shared ad account and associated tools', '\u2022 {{businessFullName}} will lose access to {{adAccountsCount}} shared ad accounts and associated tools', X, '[m10n]bizAccess.removeSharedPartner.loseAdAccountAccessText', 'Text explaining removing a partner will result in loss of ad account access. adAccountsCount: number of shared ad accounts. businessFullName: name of business removing its own access.'),{businessFullName:Y,adAccountsCount:X})})}),(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",paddingX:2,paddingY:1,children:(0,U.jsx)(m.xv,{size:"300",children:(0,R.nk)(d._('\u2022 {{businessFullName}} employees will lose access to all shared accounts', '[m10n]bizAccess.removeSharedPartner.sharedAccountAccessText', 'Text explaining removing a partner will result in loss of shared account access. businessFullName: name of business removing its own access'),{businessFullName:Y})})}),V&&(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",paddingX:2,paddingY:1,children:(0,U.jsx)(m.xv,{size:"300",children:(0,R.nk)(d._('\u2022 {{businessFullName}} and its employees will lose access to 1 profile', '[m10n]bizAccess.removeSharedPartner.profileAccessText', 'Text explaining removing a shared partner will result in loss of profile access. businessFullName: name of business removing its own access'),{businessFullName:Y})})}),(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:2,children:(0,U.jsx)(m.xu,{"data-test-id":"confirm-remove-partner-checkbox",children:(0,U.jsx)(m.XZ,{checked:el,id:"confirmRemovePartnerCheckbox",label:d._('Check this box to confirm', '[m10n]bizAccess.removePartner.checkbox', 'Button confirming removal of partner business'),onChange:function(){ec(!el),(0,eZ.Z)(l,{event_type:8964,component:13646,aux_data:{business_id:s,field_name:"confirmRemovePartnerCheckbox"}})}})})})]})]})},o1=n(569401);function o2(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var o5=function(e,t,n,r,s){var o,a=(0,W.dI)().showToast,i=(0,L.HU)().clearModal,l=(0,f.I0)();return{primaryButtonText:e._('Remove system user', '[m10].bizAccess.app.removeSystemUser.submit', 'Primary button of remove system user from app modal'),headerText:e._('Remove system user', '[m10].bizAccess.app.removeSystemUser.header, header for system user column', 'Header of remove system user from app modal'),warnText:(0,R.nk)(e._('{{systemUserName}} will no longer have access to app {{appName}} (ID: {{appId}})', '[m10].bizAccess.app.removeSystemUser.warning', 'warning of remove system user from app modal. systemUserName: name of the system user being removed appName: name of app, appId: id of app'),{systemUserName:null==(o=s.user)?void 0:o.full_name,appName:r.name,appId:r.id}).join(""),onSubmit:function(){var o;(o=regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(s.id&&s.user)){o.next=12;break}return o.prev=1,o.next=4,(0,tU.bP)({assetId:r.id||"",businessId:t,memberId:s.id,businessHierarchyNodeId:n});case 4:l((0,ef.OA)({assetId:r.id||"",businessId:t,id:t})),a(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,R.nk)(e._('{{systemUserName}} has been removed from {{appName}}', '[m10].bizAccess.app.removedEmployee.toast', 'toast telling the user which system user was removed from which app systemUserName: name of the system user being removed appName: name of app'),{appName:r.name,systemUserName:s.user.full_name}).join("")})}),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(1),function(t){a(function(n){var r=n.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:r,text:(0,q.Z)(t,"message")||(0,H.sQ)(e),type:"error"})})}(o.t0);case 11:i();case 12:case"end":return o.stop()}},o,null,[[1,8]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var s=o.apply(e,t);function a(e){o2(s,n,r,a,i,"next",e)}function i(e){o2(s,n,r,a,i,"throw",e)}a(void 0)})})()}}},o6=function(e){var t=e.toRemove,n=(0,N.Z)(),r=(0,f.v9)(o1.Pm),s=(0,L.KJ)(),o=(0,(0,y.g)().getParentHierarchyForIdIfExists)(s),a=o5(n,s,null==o?void 0:o.id,r,t),i=a.primaryButtonText,l=a.headerText,c=a.warnText,u=a.onSubmit;return(0,U.jsx)(Z.Z,{accessibilityLabel:n._('modal for removing system user from an app', '[m10n].bizAccess.appRemoveSystemUser.modalAccessibilityLabel', 'accessibility label for modal that removes a system user from an app'),cancelText:(0,H.I9)(n),onDismiss:function(){},primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"app-delete-submit-button",children:(0,U.jsx)(m.zx,{color:"red",onClick:function(){return u()},size:"lg",text:i})}),size:"sm",title:l,children:(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.he,{iconAccessibilityLabel:"warning",message:c,type:"warningBare"})})})},o3=n(165015),o8=n(190557);function o4(e){return(o4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o7(e,t,n){var r;return(r=function(e,t){if("object"!=o4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o4(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==o4(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o9(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function ae(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){o9(o,r,s,a,i,"next",e)}function i(e){o9(o,r,s,a,i,"throw",e)}a(void 0)})}}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return an(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ar=function(e){var t,n=e.requestId,r=e.partnerId,s=(0,S.u)().logContextEvent,o=(0,N.Z)(),i=(0,f.I0)(),l=(0,L.KJ)(!0),c=at((0,_.useState)(null),2),u=c[0],d=c[1],h=at((0,_.useReducer)(o8.I6,[]),2),p=h[0],b=h[1],A=at((0,_.useState)(!0),2),x=A[0],E=A[1],T=(0,f.v9)(t2.t_),C=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),O=(0,a.TH)(),j=(0,W.dI)().showToast,z=(0,I.Z)().checkExperiment,w=(0,eG.Z)().path.includes(":userBizId/partners/pending"),R=(0,L.HU)(),D=R.clearModal,k=R.setRequestProfileAccessModal,B=R.setRequestCatalogAccessModal,M=(0,(0,y.g)().getParentHierarchyForIdIfExists)(l),G=null==M?void 0:M.id,F=z("web_m10n_business_access_catalogs").anyEnabled,Y=z("web_m10n_business_hierarchy_beta").anyEnabled,V=(t=ae(regeneratorRuntime.mark(function e(t){var n,s,a,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(e){return(0,o8.Qg)(e.id,e.index,o,t,l,b,!1,null,r)}));case 2:return n=e.sent,s=t.map(function(e){return(0,o8.sM)(e,e.accessList,o,b)}),a=t.some(function(e){return e.id||e.accessList.length>0}),i=(0,o8.Pl)(t,n,s),c=null,a||(c=o._('Please set at least one ad account id and one access level before proceeding', '[m10n]bizAccess.request.adAccounts.noValidAdAccount', 'Text to instruct user to set at least one ad account and its access level')),i&&(c=o._('Please fix the following errors before proceeding.', '[m10n]bizAccess.request.adAccounts.hasErrors', 'Text to instruct user to fix highlighted errors')),e.abrupt("return",Promise.resolve(c));case 10:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,U.jsxs)(Z.Z,{accessibilityLabel:(0,rk.Mz)(o),cancelText:n?o._('Skip', '[m10n]bizAccess.request.adAccounts.skip', 'Text to skip requesting ad account step'):o._('Cancel', '[m10n]bizAccess.request.adAccounts.cancel', 'Text to cancel requesting ad account'),footerSecondaryContent:n?(0,U.jsx)(m.xv,{color:"subtle",size:"200",children:F?o._('Step 2 of 4', '[m10n]bizAccess.addPartner.modal.steps.second', 'Label to identify the current step, second, on add a partner flow'):o._('Step 2 of 3', '[m10n]bizAccess.addPartner.modal.steps.second', 'Label to identify the current step, second, on add a partner flow')}):null,onDismiss:function(){n&&(F?B({requestId:n}):k({requestId:n}))},primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"request-assets-submit-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:x,fullWidth:!0,onClick:function(){ae(regeneratorRuntime.mark(function e(){var t,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=11;break}return e.next=4,V(p);case 4:if(!(t=e.sent)){e.next=8;break}return d(t),e.abrupt("return");case 8:d(null),e.next=15;break;case 11:if(a=!1,p.forEach(function(e){e.id&&0===e.accessList.length&&(a=!0,(0,o8.sM)(e,e.accessList,o,b))}),!a){e.next=15;break}return e.abrupt("return");case 15:if(!n){e.next=22;break}return e.next=18,(0,ty.ot)(l,p.filter(function(e){return e.id&&0!==e.accessList.length}).map(function(e){return o7({},e.id,e.accessList)}),n,G);case 18:i((0,nL.HC)()),w&&i((0,t0.R)(T,"PARTNER",l)),e.next=25;break;case 22:return e.next=24,(0,ty.Br)(l,r,p.filter(function(e){return e.id&&0!==e.accessList.length}).map(function(e){return o7({},e.id,e.accessList)}));case 24:i((0,rL.Mm)(["PENDING"],l,!0));case 25:D(),n&&(F?B({requestId:n}):k({requestId:n})),p.forEach(function(e){(0,P.dK)(O)?C({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"request-ad-accounts-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:e.id}):s({event_type:8965,component:13786,aux_data:{business_id:l,ad_account_id:e.id}})}),e.next=35;break;case 30:e.prev=30,e.t0=e.catch(0),D(),j(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(o),type:"error"})}),(0,P.dK)(O)?C({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"request-ad-accounts-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(c=(0,q.Z)(e.t0,"stack"))?void 0:c.slice(0,4096))||(0,q.Z)(e.t0,"message")||""}):s({event_type:8961,component:13786,aux_data:{business_id:l,error_class:"RequestAdAccounts",error_message:JSON.stringify({message:e.t0?(0,q.Z)(e.t0,"message"):"No message"})}});case 35:case"end":return e.stop()}},e,null,[[0,30]])}))()},size:"lg",text:o._('Request', '[m10n]bizAccess.request.adAccounts.send', 'Label for a button that sends the ad accounts request')})}),size:"sm",title:(0,rk.jZ)(o),children:[Y&&(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(ta.Z,{display:"block"})}),u&&(0,U.jsx)(m.xu,{marginBottom:3,children:(0,U.jsx)(m.ci,{iconAccessibilityLabel:"Error icon",message:u,type:"error"})}),(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.xv,{size:"200",children:o._('You will need to request the specific ad account IDs from your partner to request access', '[m10n]bizAccess.request.adAccounts.heading', 'Text above the list of ad account access requests')})}),(0,U.jsx)(o3.Z,{assets:p,assetType:"AD_ACCOUNT",haveInvalidAssets:x,partnerId:r,setHaveInvalidAssets:E,updateAsset:b})]})},as=n(185806),ao=n(910421),aa=n(433427);function ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return al(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?al(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ac=function(e){var t=e.partner,n=e.assetsRequested,r=e.heading,s=e.subHeading,o=e.onClickBack,a=e.onNext,i=e.assetType,l=(0,N.Z)(),c=(0,f.I0)(),u=(0,L.KJ)(!0),d=n?n.length:0,h=(0,_.useRef)(d),p=(0,_.useRef)(null),b=(0,L.HU)().clearModal,y=ai((0,_.useState)(t||null),2),v=y[0],A=y[1],g=ai((0,_.useState)(t||null),2),S=g[0],x=g[1],E=ai((0,_.useState)(!0),2),P=E[0],I=E[1],T=ai((0,_.useState)(!0),2),C=T[0],O=T[1],j=ai((0,_.useState)("ADD_ITEM"),2),z=j[0],R=j[1],D=ai((0,_.useReducer)(o8.I6,n||[]),2),k=D[0],B=D[1];(0,_.useEffect)(function(){if("ADD_ITEM"===z&&p.current){var e;R(null),null==(e=p.current)||e.focus()}(0,o8.iD)(k,O)},[k]),(0,_.useEffect)(function(){k.length<10&&!(null!=n&&n.length)&&B({type:"ADD",index:h.current})},[]),(0,_.useEffect)(function(){var e=S&&v&&v.id!==S.id;null==v||e?(O(!0),null==v&&I(!0),h.current=0,R("CLEAR_ALL"),B({type:"CLEAR_ALL",index:h.current})):(R(null),I(!1)),x(v)},[v]);var M=function(){b(),c({type:"CLEAR_ERROR"})},Z=(0,U.jsx)(m.xu,{children:(0,U.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,U.jsx)(m.X6,{accessibilityLevel:1,size:"600",children:r}),(0,U.jsx)(m.hU,{accessibilityLabel:(0,H.I9)(l),icon:"cancel",iconColor:"darkGray",onClick:M,size:"sm"})]})}),G=(0,U.jsx)(m.xu,{as:"footer",marginEnd:2,marginStart:2,children:(0,U.jsxs)(m.kC,{alignItems:"center",justifyContent:"between",children:[(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.zx,{color:"transparent",dataTestId:"request-asset-cancel-button",onClick:function(){return M()},size:"lg",text:(0,H.I9)(l)})}),(0,U.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,U.jsx)(m.zx,{onClick:o,size:"lg",text:(0,rk.RW)(l)}),(0,U.jsx)(m.xu,{marginStart:2,children:(0,U.jsx)(m.zx,{color:"red",dataTestId:"request-asset-next-button",disabled:P||C,onClick:function(){return a(v,k,B)},size:"lg",text:(0,H.L$)(l)})})]})]})});return(0,U.jsx)(w.ZP,{_dangerouslyDisableScrollBoundaryContainer:!0,accessibilityModalLabel:(0,rk.Mz)(l),footer:G,heading:Z,onDismiss:M,size:"sm",children:(0,U.jsxs)(m.xu,{marginEnd:6,marginStart:6,children:[(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.xv,{children:s})}),(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(as.Z,{label:l._('Partner', '[m10n]businessAccess.requestAdAccount.modal.sharedPartnerSelector.label.text', 'Label text for shared partner selector'),placeholder:l._('Enter a partner name', '[m10n]businessAccess.requestAdAccount.modal.sharedPartnerSelector.placeholder.text', 'Placeholder text for shared partner selector'),selectedPartner:t,setPartner:function(e){return A(e)}})}),(0,U.jsxs)(m.xu,{marginBottom:4,children:[(0,U.jsxs)(m.xu,{display:"flex",marginBottom:2,children:[(0,U.jsx)(m.sg,{span:6,children:"AD_ACCOUNT"===i?(0,rk.G3)(l):(0,rk.Wz)(l)}),(0,U.jsx)(m.sg,{span:6,children:l._('Permission', '[m10n]bizAccess.adAccounts.access', 'Text that is on the top of column of ad account permissions levels')})]}),(0,U.jsx)(m.xu,{children:k.map(function(e){return(0,U.jsxs)(m.xu,{children:["AD_ACCOUNT"===i&&(0,U.jsx)(ao.Z,{adAccount:e,adAccountsLength:k.length,disabled:P,onAdAccountChange:function(t){B({type:"SET_ID",id:t.value,index:e.index})},onRemoveItem:function(){R("REMOVE_ITEM"),B({type:"DELETE",index:e.index})},onSetAccessList:function(t){B({type:"SET_ACCESS",accessList:t,index:e.index}),(0,o8.sM)(e,t,l,B),"CLEAR_ALL"===z&&R(null)},onValidateAdAccountField:function(t){var n=t.value;return(0,o8.Qg)(n,e.index,l,k,u,B,!0,v)},permissions:e.accessList,resetAccess:"CLEAR_ALL"===z,setRef:function(e){p.current=e}}),"CATALOG"===i&&(0,U.jsx)(aa.Z,{catalog:e,catalogsLength:k.length,disabled:P,onCatalogChange:function(t){B({type:"SET_ID",id:t.value,index:e.index})},onRemoveItem:function(){R("REMOVE_ITEM"),B({type:"DELETE",index:e.index})},onSetAccessList:function(t){B({type:"SET_ACCESS",accessList:t,index:e.index}),(0,o8.sM)(e,t,l,B),"CLEAR_ALL"===z&&R(null)},onValidateCatalogField:function(t){var n=t.value;return(0,o8.ax)(n,e.index,l,k,u,B,!0,"CATALOG",v)},permissions:e.accessList,resetAccess:"CLEAR_ALL"===z,setRef:function(e){p.current=e}})]},e.index)})})]}),(0,U.jsxs)(m.xu,{alignContent:"start",alignItems:"center",display:"flex",marginBottom:2,children:[(0,U.jsx)(m.xu,{marginEnd:2,children:(0,U.jsx)(m.zx,{disabled:k.length>=10||P||C,iconEnd:"add",onClick:function(){h.current+=1,R("ADD_ITEM"),B({type:"ADD",index:h.current})},text:"CATALOG"===i?(0,rk.pO)(l):(0,rk.UF)(l)})}),k.length>=10&&(0,U.jsx)(m.xv,{color:"subtle",size:"100",children:(0,rk.nX)(l)})]})]})})},au=function(e){var t=e.partner,n=e.adAccountsRequested,r=(0,N.Z)(),s=(0,L.HU)(),o=s.setConfirmAssetAccessRequestModal,a=s.setAddAdAccountModal;return(0,U.jsx)(ac,{assetsRequested:n,assetType:"AD_ACCOUNT",heading:(0,rk.jZ)(r),onClickBack:a,onNext:function(e,t,n){var s=t.filter(function(e){return e.id&&0===e.accessList.length}),a=s.length>0;if(s.map(function(e){return(0,o8.sM)(e,e.accessList,r,n)}),!a){var i=t.filter(function(e){return e.id&&0!==e.accessList.length&&!e.error&&!e.accessError});e&&0!==i.length&&o({partner:e,assetRequest:"AD_ACCOUNT",assetsRequested:i})}},partner:t,subHeading:r._('Once you request ad account access, your partners have 14 days to respond', '[m10n]businessAccess.requestAdAccount.modal.message.text', 'Main message for the request ad account modal')})};function ad(e){return(ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a_(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function af(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){a_(o,r,s,a,i,"next",e)}function i(e){a_(o,r,s,a,i,"throw",e)}a(void 0)})}}function am(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ah(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ah(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ah(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ap=function(e){var t,n=e.requestId,r=(0,S.u)().logContextEvent,s=(0,N.Z)(),o=(0,f.I0)(),a=(0,L.KJ)(!0),i=am((0,_.useState)(null),2),l=i[0],c=i[1],u=am((0,_.useReducer)(o8.I6,[]),2),d=u[0],h=u[1],p=am((0,_.useState)(!0),2),b=p[0],y=p[1],A=(0,W.dI)().showToast,g=(0,L.HU)(),x=g.clearModal,E=g.setRequestProfileAccessModal,P=(t=af(regeneratorRuntime.mark(function e(t){var n,r,o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(e){return(0,o8.ax)(e.id,e.index,s,t,a,h,!1,"CATALOG")}));case 2:return n=e.sent,r=t.map(function(e){return(0,o8.sM)(e,e.accessList,s,h)}),o=t.some(function(e){return e.id||e.accessList.length>0}),i=(0,o8.Pl)(t,n,r),l=null,o||(l=s._('Please set at least one catalog id and one access level before proceeding', '[m10n]bizAccess.request.catalogs.noValidCatalog', 'Text to instruct user to set at least one catalog and its access level')),i&&(l=s._('Please fix the following errors before proceeding.', '[m10n]bizAccess.request.catalogs.hasErrors', 'Text to instruct user to fix highlighted errors')),e.abrupt("return",Promise.resolve(l));case 10:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,U.jsxs)(Z.Z,{accessibilityLabel:(0,rk.RQ)(s),cancelText:s._('Skip', '[m10n]bizAccess.request.catalogs.skip', 'Text to skip requesting catalog step'),footerSecondaryContent:(0,U.jsx)(m.xv,{color:"subtle",size:"200",children:s._('Step 3 of 4', '[m10n]bizAccess.addPartner.modal.steps.third', 'Label to identify the current step, second, on add a partner flow')}),onDismiss:function(){E({requestId:n})},primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"request-assets-submit-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:b,fullWidth:!0,onClick:function(){af(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(d);case 3:if(!(t=e.sent)){e.next=7;break}return c(t),e.abrupt("return");case 7:return c(null),e.next=10,(0,ty.ot)(a,d.filter(function(e){return e.id&&0!==e.accessList.length}).map(function(e){var t,n,r;return t={},n=e.id,r=e.accessList,(n=function(e){var t=function(e,t){if("object"!=ad(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ad(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ad(t)?t:t+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}),n);case 10:o((0,nL.HC)()),x(),E({requestId:n}),d.forEach(function(e){r({event_type:8965,component:15094,aux_data:{business_id:a,catalog_id:e.id}})}),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),x(),A(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:e.t0 instanceof Error?e.t0.message:(0,H.sQ)(s),type:"error"})}),r({event_type:8961,component:13904,aux_data:{business_id:a,error_class:"RequestCatalogAccess",error_message:JSON.stringify({message:e.t0&&e.t0 instanceof Error?e.t0.message:"No message"})}});case 21:case"end":return e.stop()}},e,null,[[0,16]])}))()},size:"lg",text:s._('Request', '[m10n]bizAccess.request.catalogs.send', 'Label for a button that sends the catalog request')})}),size:"sm",title:s._('Request catalog access', '[m10n]bizAccess.requestCatalog.modal.requestCatalogAccess', 'text for requesting access to an catalog'),children:[l&&(0,U.jsx)(m.xu,{marginBottom:3,children:(0,U.jsx)(m.ci,{iconAccessibilityLabel:"Error icon",message:l,type:"error"})}),(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.xv,{size:"200",children:s._('You will need to request the specific catalog IDs from your partner to request access', '[m10n]bizAccess.request.catalogs.heading', 'Text above the list of catalogs access requests')})}),(0,U.jsx)(o3.Z,{assets:d,assetType:"CATALOG",haveInvalidAssets:b,setHaveInvalidAssets:y,updateAsset:h})]})};function ab(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ay(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ay(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ay(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var av=function(e){var t=e.assetsRequested,n=e.heading,r=e.subHeading,s=e.onClickBack,o=e.onNext,a=e.assetType,i=e.partnerId,l=(0,N.Z)(),c=(0,f.I0)(),u=(0,L.KJ)(!0),d=t?t.length:0,h=(0,_.useRef)(d),p=(0,_.useRef)(null),b=(0,L.HU)().clearModal,y=ab((0,_.useState)(!0),2),v=y[0],A=y[1],g=ab((0,_.useState)("ADD_ITEM"),2),S=g[0],x=g[1],E=ab((0,_.useReducer)(o8.I6,t||[]),2),P=E[0],I=E[1];(0,_.useEffect)(function(){if("ADD_ITEM"===S&&p.current){var e;x(null),null==(e=p.current)||e.focus()}(0,o8.iD)(P,A)},[P]),(0,_.useEffect)(function(){P.length<10&&!(null!=t&&t.length)&&I({type:"ADD",index:h.current})},[]);var T=function(){b(),c({type:"CLEAR_ERROR"})},C=(0,U.jsx)(m.xu,{children:(0,U.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,U.jsx)(m.X6,{accessibilityLevel:1,size:"600",children:n}),(0,U.jsx)(m.hU,{accessibilityLabel:(0,H.I9)(l),icon:"cancel",iconColor:"darkGray",onClick:T,size:"sm"})]})}),O=(0,U.jsx)(m.xu,{as:"footer",marginEnd:2,marginStart:2,children:(0,U.jsxs)(m.kC,{alignItems:"center",justifyContent:"between",children:[(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.zx,{color:"transparent",dataTestId:"request-asset-cancel-button",onClick:function(){return T()},size:"lg",text:(0,H.I9)(l)})}),(0,U.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[s&&(0,U.jsx)(m.zx,{onClick:s,size:"lg",text:(0,rk.RW)(l)}),(0,U.jsx)(m.xu,{marginStart:2,children:(0,U.jsx)(m.zx,{color:"red",dataTestId:"request-asset-next-button",disabled:v,onClick:function(){return o(P,I)},size:"lg",text:(0,H.L$)(l)})})]})]})});return(0,U.jsx)(w.ZP,{_dangerouslyDisableScrollBoundaryContainer:!0,accessibilityModalLabel:(0,rk.Mz)(l),footer:O,heading:C,onDismiss:T,size:"sm",children:(0,U.jsxs)(m.xu,{marginEnd:6,marginStart:6,children:[(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.xv,{children:r})}),(0,U.jsxs)(m.xu,{marginBottom:4,children:[(0,U.jsxs)(m.xu,{display:"flex",marginBottom:2,children:[(0,U.jsx)(m.sg,{span:6,children:"AD_ACCOUNT"===a?(0,rk.G3)(l):(0,rk.Wz)(l)}),(0,U.jsx)(m.sg,{span:6,children:l._('Permission', '[m10n]bizAccess.adAccounts.access', 'Text that is on the top of column of ad account permissions levels')})]}),(0,U.jsx)(m.xu,{children:P.map(function(e){return(0,U.jsxs)(m.xu,{children:["AD_ACCOUNT"===a&&(0,U.jsx)(ao.Z,{adAccount:e,adAccountsLength:P.length,onAdAccountChange:function(t){I({type:"SET_ID",id:t.value,index:e.index})},onRemoveItem:function(){x("REMOVE_ITEM"),I({type:"DELETE",index:e.index})},onSetAccessList:function(t){I({type:"SET_ACCESS",accessList:t,index:e.index}),(0,o8.sM)(e,t,l,I),"CLEAR_ALL"===S&&x(null)},onValidateAdAccountField:function(t){var n=t.value;return(0,o8.Qg)(n,e.index,l,P,u,I,!1,null,i)},permissions:e.accessList,resetAccess:"CLEAR_ALL"===S,setRef:function(e){p.current=e}}),"CATALOG"===a&&(0,U.jsx)(aa.Z,{catalog:e,catalogsLength:P.length,onCatalogChange:function(t){I({type:"SET_ID",id:t.value,index:e.index})},onRemoveItem:function(){x("REMOVE_ITEM"),I({type:"DELETE",index:e.index})},onSetAccessList:function(t){I({type:"SET_ACCESS",accessList:t,index:e.index}),(0,o8.sM)(e,t,l,I),"CLEAR_ALL"===S&&x(null)},onValidateCatalogField:function(t){var n=t.value;return(0,o8.ax)(n,e.index,l,P,u,I,!0,"CATALOG",null,i)},permissions:e.accessList,resetAccess:"CLEAR_ALL"===S,setRef:function(e){p.current=e}})]},e.index)})})]}),(0,U.jsxs)(m.xu,{alignContent:"start",alignItems:"center",display:"flex",marginBottom:2,children:[(0,U.jsx)(m.xu,{marginEnd:2,children:(0,U.jsx)(m.zx,{disabled:P.length>=10||v,iconEnd:"add",onClick:function(){h.current+=1,x("ADD_ITEM"),I({type:"ADD",index:h.current})},text:"CATALOG"===a?(0,rk.pO)(l):(0,rk.UF)(l)})}),P.length>=10&&(0,U.jsx)(m.xv,{color:"subtle",size:"100",children:(0,rk.nX)(l)})]})]})})},aA=function(e){var t=e.partner,n=e.assetsRequested,r=(0,N.Z)(),s=(0,L.HU)().setConfirmAssetAccessRequestModal,o=(0,R.nk)(r._('You are requesting catalog access from {{partnerName}}. Once requested you have requested access, your partner will have 14 days to respond.', '[m10n]businessAccess.requestCatalogPartner.modal.message.text', 'Main message for the request catalog modal. partnerName: The name of the partner we are asking access for.'),{partnerName:null==t?void 0:t.name}).join("");return(0,U.jsx)(av,{assetsRequested:n,assetType:"CATALOG",heading:r._('Request catalog access', '[m10n].bizAccess.requestCatalog.heading', 'header of request catalog modal'),onNext:function(e,n){var o=e.filter(function(e){return e.id&&0===e.accessList.length}),a=o.length>0;if(o.map(function(e){return(0,o8.sM)(e,e.accessList,r,n)}),!a){var i=e.filter(function(e){return e.id&&0!==e.accessList.length&&!e.error&&!e.accessError});t&&0!==i.length&&s({partner:t,assetRequest:"CATALOG",assetsRequested:i})}},partnerId:(null==t?void 0:t.id)||"",subHeading:o})},ag=function(e){var t=e.partner,n=e.assetsRequested,r=(0,N.Z)(),s=(0,L.HU)(),o=s.setAddCatalogModal,a=s.setConfirmAssetAccessRequestModal;return(0,U.jsx)(ac,{assetsRequested:n,assetType:"CATALOG",heading:r._('Request catalog access', '[m10n].bizAccess.requestCatalog.heading', 'header of request catalog modal'),onClickBack:o,onNext:function(e,t,n){var s=t.filter(function(e){return e.id&&0===e.accessList.length}),o=s.length>0;if(s.map(function(e){return(0,o8.sM)(e,e.accessList,r,n)}),!o){var i=t.filter(function(e){return e.id&&0!==e.accessList.length&&!e.error&&!e.accessError});e&&0!==i.length&&a({partner:e,assetRequest:"CATALOG",assetsRequested:i})}},partner:t,subHeading:r._('Once you request catalog access, your partner will have 14 days to respond', '[m10n]businessAccess.requestCatalog.modal.message.text', 'Main message for the request catalog modal')})},aS=n(162295);function ax(e){return(ax="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aE(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function aP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var aI=function(e){var t,n=(0,S.u)().logContextEvent,r=(0,f.I0)(),s=(0,N.Z)(),o=e.requestId,i=e.requesteeId,l=e.profilePermissions,c=(0,W.dI)().showToast,u=(0,L.KJ)(!0),d=(0,f.v9)(t2.t_),h=(0,f.v9)((0,ey.BK)(i||"")),p=(0,f.v9)((0,sH.BK)(i||"")),b=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),A=(0,a.TH)(),x=h.user?h:p,E=(0,L.HU)(),T=E.setRequestPartnerConfirmationSuccessModal,C=E.clearModal,O=(0,(0,y.g)().getParentHierarchyForIdIfExists)(u),j=null==O?void 0:O.id,w=(0,eG.Z)().path.includes(":userBizId/partners/pending"),R=(0,I.Z)().checkExperiment,D=R("web_m10n_business_hierarchy_beta").anyEnabled,k=R("web_m10n_business_access_catalogs").anyEnabled,B=function(e){if(Array.isArray(e))return e}(t=(0,z.Z)(aS.Ts,!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),4!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,4)||function(e,t){if(e){if("string"==typeof e)return aP(e,4);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aP(e,4):void 0}}(t,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),M=B[0],G=B[1],F=B[2],Y=B[3],V=o?null==M?void 0:M.data.data.extended_user_info:null==x?void 0:x.user,X=o?null==M?void 0:M.data.data.user.id:null==V?void 0:V.id;if((0,_.useEffect)(function(){o&&Y({businessId:u,inviteOrRequestId:o,type:"PARTNER_REQUEST"})},[o]),(0,_.useEffect)(function(){G&&c(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,H.sQ)(s),type:"error"})})},[G]),o&&!M&&F)return(0,U.jsx)(Z.Z,{accessibilityLabel:(0,rk.wx)(s),size:"sm",title:(0,rk.k5)(s),children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(s),show:!0})});var K=s._('Step 3 of 3', '[m10n]bizAccess.addPartner.modal.steps.third', 'Label to identify the current step, second, on request a partner flow'),$=s._('Step 4 of 4', '[m10n]bizAccess.addPartner.modal.steps.third', 'Label to identify the current step, second, on request a partner flow');return(0,U.jsxs)(Z.Z,{accessibilityLabel:(0,rk.wx)(s),cancelText:o&&s._('Skip', '[m10n]bizAccess.partnerRequest.confirmation.assign', 'Text to skip modal'),footerSecondaryContent:o&&(0,U.jsx)(m.xv,{color:"subtle",size:"200",children:k?$:K}),onDismiss:function(){o&&T({requestId:o})},primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"request-profile-button",children:(0,U.jsx)(m.zx,{color:"red",fullWidth:!0,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var a,_,f;if(e.prev=0,!(o&&X)){e.next=11;break}return e.next=4,(0,ty.ot)(u,[(a={},f=["PROFILE_PUBLISHER"],(_=function(e){var t=function(e,t){if("object"!=ax(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ax(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ax(t)?t:t+""}(_=X))in a?Object.defineProperty(a,_,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[_]=f,a)],o,j);case 4:r((0,nL.HC)()),w&&r((0,t0.R)(d,"PARTNER",u)),C(),T({requestId:o}),(0,P.dK)(A)?b({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"request-profile-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:X}):n({event_type:8965,component:14113,aux_data:{business_id:u}}),e.next=17;break;case 11:if(!(i&&l)){e.next=17;break}return e.next=14,(0,ty.Br)(u,i,l);case 14:C(),r((0,rL.Mm)(["PENDING"],u,!0)),c(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:s._('Your profile request was successful!', '[m10n]bizAccess.request.profile.success', 'Text to tell the user that the request was sent successfully')})});case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(0),C(),c(function(t){var n=t.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:n,text:(0,q.Z)(e.t0,"message")||(0,H.sQ)(s),type:"error"})}),(0,P.dK)(A)?b({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"request-profile-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(t=(0,q.Z)(e.t0,"stack"))?void 0:t.slice(0,4096))||(0,q.Z)(e.t0,"message")||""}):n({event_type:8961,component:13786,aux_data:{business_id:u,error_class:"RequestAdAccounts",error_message:JSON.stringify({message:e.t0?(0,q.Z)(e.t0,"message"):"No message"})}});case 24:case"end":return e.stop()}},e,null,[[0,19]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){aE(o,r,s,a,i,"next",e)}function i(e){aE(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:s._('Request', '[m10n]bizAccess.requestProfile.confirmation', 'Label for a button to request profile of partner')})}),size:"sm",title:(0,rk.k5)(s),children:[D&&(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(ta.Z,{display:"block"})}),(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(m.xv,{size:"200",children:s._('Profile access will allow you to create, edit and organize Pins and boards', '[m10n]bizAccess.request.profile.heading', 'Text above the list of profile access requests')})}),(0,U.jsx)(m.xu,{marginBottom:8,children:(0,U.jsx)(ra,{avatar:null==V?void 0:V.image_small_url,avatarSize:"md",name:null==V?void 0:V.full_name,textSize:"300"})})]})};function aT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var aC=function(){var e,t=(0,N.Z)(),n=(0,f.v9)(eS.ZD),r=(0,L.HU)().setConfirmAssetAccessRequestModal,s=function(e){if(Array.isArray(e))return e}(e=(0,_.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return aT(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aT(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=s[0],a=s[1],i=new Set(n.map(function(e){return e.owner.id})),l=t._('publisher', '[m10n]businessAccess.requestProfile.modal.publisher.text', 'Access level for managing organic assets'),c=function(){o&&r({partner:o,assetRequest:"PROFILE"})};return(0,U.jsx)(m.xu,{"data-test-id":"request-profile-access-general-modal",children:(0,U.jsxs)(Z.Z,{accessibilityLabel:(0,rk.wx)(t),id:"request-profile-access-general-modal",primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"request-profile-access-general-next-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:null==o,onClick:function(){return c()},size:"lg",text:(0,H.L$)(t)})}),size:"sm",title:(0,rk.k5)(t),children:[(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(t._('Select partner to gain profile access. With profile access, you will be granted {{ publisher }} permissions that will allow you to create, edit, and organize Pins and boards without your partner\u2019s approval.', '[m10n]businessAccess.requestProfile.modal.text', 'Modal text informing user of what permissions they will get with requesting profile access from a partner. publisher: publisher text in bold'),{publisher:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:l},"1")})},"0")}),(0,U.jsx)(m.xu,{marginBottom:2,children:(0,U.jsx)(as.Z,{helperText:t._('Partners may only receive one asset request, including ad accounts, at a time', '[m10n]businessAccess.requestProfile.modal.sharedPartnerSelector.helper.text', 'Helper text for shared partner selector'),partnersToExclude:i,placeholder:t._('Partner name', '[m10n]businessAccess.requestProfile.modal.sharedPartnerSelector.placeholder.text', 'Placeholder text for shared partner selector'),setPartner:function(e){return a(e)}})})]})})};function aO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var aj=function(e){var t,n=(0,S.u)().logContextEvent,r=(0,N.Z)(),s=e.requestId,o=e.partnerId,a=function(e){if(Array.isArray(e))return e}(t=(0,eX.Z)("partnerRequest",s,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),3!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,3)||function(e,t){if(e){if("string"==typeof e)return aO(e,3);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aO(e,3):void 0}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=a[0],l=a[1],c=a[2],u=(0,W.dI)().showToast,d=(0,L.KJ)(),f=(0,L.HU)().setRequestAdAccountsModal;return((0,_.useEffect)(function(){l&&u(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,H.sQ)(r),type:"error"})})},[l]),!i&&c)?(0,U.jsx)(Z.Z,{accessibilityLabel:(0,eM.ZE)(r),size:"sm",title:(0,eM.Hp)(r),children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(r),show:!0})}):(0,U.jsx)(Z.Z,{accessibilityLabel:(0,eM.ZE)(r),cancelText:r._('Close', '[m10n]bizAccess.partnerRequest.confirmation.assign', 'Text to close modal'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"request-ad-accounts-button",children:(0,U.jsx)(m.zx,{color:"red",fullWidth:!0,onClick:function(){f({requestId:s,partnerId:o}),n({event_type:8965,component:13785,aux_data:{business_id:d}})},size:"lg",text:r._('Request ad accounts', '[m10n]bizAccess.invite.confirmation.assign', 'Label for a button that shows up for newly sent people invites')})}),size:"sm",title:(0,eM.Hp)(r),children:(0,U.jsx)(sf,{content:(0,R.nk)(r._('{{ name }} has successfully been requested as a partner.', '[m10n]bizAccess.partnerRequest.success.requestSuccessMessage', 'Content in a confirmation dialog'),{name:(null==i?void 0:i.extended_user_info.full_name)||""}),face:{src:(null==i?void 0:i.extended_user_info.image_small_url)||"",name:(null==i?void 0:i.extended_user_info.full_name)||""}})})};function az(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var aw=function(e){var t,n=(0,N.Z)(),r=e.requestId,s=function(e){if(Array.isArray(e))return e}(t=(0,eX.Z)("partnerRequest",r,!0,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),3!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,3)||function(e,t){if(e){if("string"==typeof e)return az(e,3);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?az(e,3):void 0}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=s[0],a=s[1],i=s[2],l=(0,W.dI)().showToast,c=(0,(0,I.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,u=(0,eM.fv)(n);if((0,_.useEffect)(function(){a&&l(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,H.sQ)(n),type:"error"})})},[a]),!o&&i)return(0,U.jsx)(Z.Z,{accessibilityLabel:(0,eM.ZE)(n),size:"sm",title:u,children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(n),show:!0})});var d=(null==o?void 0:o.extended_user_info.full_name)||"",f=(null==o?void 0:o.assets)||[],h=f.filter(function(e){return"AD_ACCOUNT"===e.type}).length,p=f.filter(function(e){return"CATALOG"===e.type}).length,b=f.filter(function(e){return"PROFILE"===e.type}).length>0,y=(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsxs)(m.kC,{alignItems:"start",direction:"column",gap:{row:0,column:4},children:[(0,U.jsx)(m.xv,{children:n._('You\'ve successfully requested access to the following:', '[m10n]bizAccess.partnerRequest.success.heading', 'Text above the list of profile access requests')}),(0,U.jsx)(m.xv,{children:(0,R.nk)(n._('\u2022 {{ name }} as a partner', '[m10n]bizAccess.partnerRequest.success.summary', 'Confirmation that the business was requested as a partner. name: Full name of business.'),{name:d})}),h>0&&(0,U.jsx)(m.xv,{children:(0,eU.Z)(n.ngettext('\u2022 {{assignedAccountsCount}} ad account', '\u2022 {{assignedAccountsCount}} ad accounts', h, '[m10n]bizAccess.partnerRequest.success.numberOfAdAccounts', 'Number of ad accounts requested from a partner. assignedAccountsCount: number of ad accounts'),{assignedAccountsCount:h})}),b&&(0,U.jsx)(m.xv,{children:(0,R.nk)(n._('\u2022 {{ name }}\'s profile', '[m10n]bizAccess.partnerRequest.success.profile', 'Confirmation that the business profile was requested. name: Full name of business.'),{name:d})}),p>0&&(0,U.jsx)(m.xv,{children:(0,eU.Z)(n.ngettext('\u2022 {{assignedCatalogsCount}} catalog', '\u2022 {{assignedCatalogsCount}} catalogs', p, '[m10n]bizAccess.partnerRequest.success.numberOfCatalogs', 'Number of catalogs requested from a partner. assignedCatalogsCount: number of catalogs'),{assignedCatalogsCount:p})}),(0,U.jsx)(m.xv,{children:n._('Your request will expire after 14 days', '[m10n]bizAccess.partnerRequest.expiry', 'Text explaining the request will expire after 14 days time')})]})});return(0,U.jsxs)(Z.Z,{accessibilityLabel:(0,eM.ZE)(n),cancelText:(0,eM.Fd)(n),size:"sm",title:u,children:[c&&(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(ta.Z,{display:"block"})}),y]})};function aN(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function aR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var aD=function(e){var t,n,r,s=e.data,o=e.refreshData,a=e.source,i="user"in s,l="owner"in s,c=(0,L.nU)(),u=(0,f.v9)((0,ey.BK)(c)),d=i?s.user:u.user,h=(null==d?void 0:d.id)||"",p=(null==d?void 0:d.full_name)||"",b=(0,f.v9)(eb.Rf),y=l?s:b,v=(null==y?void 0:y.name)||"",A=(null==y?void 0:y.id)||"",g=(null==y||null==(n=y.owner)?void 0:n.id)||"",S=null!=(r=null==y?void 0:y.assigned_access_by)?r:g,x=((null==b?void 0:b.permissions)||[]).includes("OWNER"),E="BUSINESS_ACCESS_CATALOGS"===a&&x,P="BUSINESS_ACCESS_PARTNERS_ACTIVE"===a&&((null==u?void 0:u.rmn_or_brand)==="BRAND"||!!u&&null==u.rmn_or_brand&&!u.is_shared_partner),I="BUSINESS_ACCESS_CATALOGS"===a&&i&&"business_partner_type"in s&&("REGULAR"===s.business_partner_type||"BRAND"===s.business_partner_type),T="BUSINESS_ACCESS_PARTNERS_ACTIVE"===a&&((null==u?void 0:u.rmn_or_brand)==="RMN"||!!u&&null==u.rmn_or_brand&&u.is_shared_partner),C=E||P||I?"INTERNAL":"EXTERNAL",O=(0,N.Z)(),j=(0,W.dI)().showToast,z=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return aR(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aR(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=z[0],D=z[1],k=(0,L.KJ)(),B=(0,f.I0)(),M=(0,L.HU)().clearModal;return a&&("BUSINESS_ACCESS_CATALOGS"===a||"BUSINESS_ACCESS_PARTNERS_ACTIVE"===a)?(0,U.jsx)(Z.Z,{accessibilityLabel:O._('Revoke catalog access modal', '[m10n]catalogSharing.revokeAccessModal.accessibilityLabel', 'Accessibility label for a modal confirming to revoke access to an catalog'),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"remove-catalog-confirmation-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:w,onClick:function(){var e,t;(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,(0,t1.OA)({businessId:k,partnerId:h||S,assetId:A,partner_type:C});case 3:M(),B({type:"CLEAR_ERROR"}),j(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:5e3,onHide:function(){t()},text:(0,R.nk)(O._('Access to {{catalogName}} has been removed.', '[m10n]businessAccess.catalogAssignment.removeAssignment.success.toast', 'Toast prompting user that the assigned catalog has been removed. catalogName: name of the catalog from which access has been removed'),{catalogName:v}).join(""),type:"success"})}),null==o||o(),D(!1);case 8:case"end":return e.stop()}},e)}),t=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){aN(o,r,s,a,i,"next",e)}function i(e){aN(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)})()},size:"lg",text:x||I||P?O._('Revoke access', '[m10n]businessAccess.removeCatalog.primaryActionButton', 'Button confirming removal of catalog access'):O._('Confirm', '[m10n]businessAccess.removeCatalog.primaryActionButton', 'Button confirming removal of catalog access')})}),size:"sm",title:O._('Revoke catalog access', '[m10n]catalogSharing.revokeAccessModal.heading.alpha', 'Heading for a modal confirming to revoke access to an catalog, when catalog sharing experiment is in alpha.'),children:(0,U.jsx)(m.xu,{marginBottom:2,children:x||I||P?(0,U.jsx)(m.xv,{children:(0,R.nk)(O._('{{partnerName}} will lose access to this catalog. Any campaigns using this catalog will be paused.', '[m10n]catalogSharing.revokeAccessModal.secondaryText', 'Text that appears below the primary text in a modal for confirmation of catalog permission removalpartnerName: name of the partner business from which we are removing the catalog'),{partnerName:p})}):T||l&&!E?(0,U.jsx)(m.xv,{children:O._('My business, including all employees, will lose access to this catalog. Any campaigns using this catalog will be paused.', '[m10n]catalogSharing.revokeAccessModal.secondaryText', 'Text that appears below the primary text in a modal for confirmation of catalog permission removalpartnerName: name of the partner business from which we are removing the catalog')}):null})}):null},ak=n(735571),aL=n(377823),aU=n(384408),aB=n(88666),aM=n(549979);function aH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||aZ(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aZ(e,t){if(e){if("string"==typeof e)return aG(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aG(e,t):void 0}}function aG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var aF=function(e){var t=e.name,n=e.status,r=(0,N.Z)(),s=r._('Add your ad account information to begin advertising', '[m10n]bizAccess.rmaaUncompleteModal.modal.rmaaissue.addAccountInfoMsg', 'message to let the user know the ad acount needs to complete ad account information'),o=r._('Your ad account requires more time for approval', '[m10n]bizAccess.rmaaUncompleteModal.modal.rmaaissue.adAccountRequiresMoreTimeMsg', 'message to let the user know the ad acount needs more time for approval'),a={PENDING_CREATE_RETRY:{message:o,icon:(0,U.jsx)(m.qb,{accessibilityLabel:o,type:"warning"})},PENDING_UPDATE_RETRY:{message:o,icon:(0,U.jsx)(m.qb,{accessibilityLabel:o,type:"warning"})},VALIDATION_FAILED:{message:s,icon:(0,U.jsx)(m.JO,{accessibilityLabel:s,color:"info",icon:"info-circle"})},WAITING_BUSINESS_INFORMATION:{message:s,icon:(0,U.jsx)(m.JO,{accessibilityLabel:s,color:"info",icon:"info-circle"})}},i=n?a[n]:a.WAITING_BUSINESS_INFORMATION;return(0,U.jsxs)(m.kC,{alignItems:"center",direction:"row",justifyContent:"center",children:[(0,U.jsx)(m.xu,{marginEnd:2,children:i.icon}),(0,U.jsx)(m.xv,{size:"200",children:"".concat(t,": ").concat(i.message)})]})},aY=function(e){var t=e.data,n=e.page,r=(0,L.HU)().setRequiredRMAAInformationModal,s=(0,N.Z)(),o=aH((0,_.useState)(1),2),a=o[0],i=o[1],l=aH((0,_.useState)(10),2),c=l[0],u=l[1],d=aH((0,_.useState)([]),2),h=d[0],p=d[1],b=(0,f.v9)(eS.fI),y=(0,f.I0)();(0,_.useEffect)(function(){y((0,aM.o)({sortDirection:"ASCENDING"}))},[y]),(0,_.useEffect)(function(){p(((function(e){if(Array.isArray(e))return aG(e)})(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||aZ(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,t){return"ASCENDING"===b?e.adAccountCreatedTime-t.adAccountCreatedTime:t.adAccountCreatedTime-e.adAccountCreatedTime}).slice((a-1)*c,a*c))},[t,a,c,b]);var v=(0,_.useMemo)(function(){return[(0,aB.Z)(s,{headerName:s._('Date', '[m10n]bizAccess.rmaaTable.date', 'column name for date'),sortField:"adAccountCreatedTime",sortable:!0,width:"10%",renderCell:function(e){var t=e.data;return(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xv,{inline:!0,size:"200",children:(0,U.jsx)(ak.Z,{dateFormatType:ak.k.NUMERIC,useUTC:!1,value:new Date(1e3*t.adAccountCreatedTime)},"rmaa_ad_account_created_time")})})}}),(0,aB.Z)(s,{headerName:s._('Issue', '[m10n]bizAccess.rmaaTable.issue', 'column name for issue'),width:"50%",renderCell:function(e){var t=e.data;return(0,U.jsx)(m.xu,{children:(0,U.jsx)(aF,{name:t.adAccountName,status:"number"==typeof t.adAccountSfdcStatus?th.G2[t.adAccountSfdcStatus]:t.adAccountSfdcStatus})})}}),(0,aU.t)(s,{headerName:s._('Actions', '[m10n]bizAccess.rmaaTable.actions', 'column of actions that can be taken on an ad account'),justifying:"start",type:"button",width:"40%",actions:[{key:"addAccountInformation",text:s._('Add account information', '[m10n]bizAccess.rmaaTable.actions.addInfoButton', 'action button to add ad account information'),onClick:function(e){return r({id:e.adAccountId,name:e.adAccountName,country:e.adAccountCountry,resellerBusinessName:e.resellerBusinessName,page:n,state:"US"===e.adAccountCountry?"PR":void 0,shouldDisableState:"US"===e.adAccountCountry})},hide:function(e){return["PENDING_CREATE_RETRY","PENDING_UPDATE_RETRY"].includes(e.adAccountSfdcStatus)}}]})]},[s,n,r]),A=(0,_.useCallback)(function(){return a},[a]),g=(0,_.useCallback)(function(){return c},[c]),S=(0,_.useCallback)(function(){return t.length},[t]),x=(0,_.useCallback)(function(e){var t=e.page||1,n=e.limit||10;i(t),u(n),y((0,aM.o)({sortDirection:e.sortDirection,sortBy:e.sortBy}))},[y]);return(0,U.jsx)(aL.Z,{columnDefs:v,currentPageSelector:A,data:h,disableFirstRender:!0,fetchData:x,isLoading:!1,pageSizeSelector:g,pageType:"AD_ACCOUNTS",searchPlaceholder:"",totalCountSelector:S})};function aV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return aq(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aq(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var aQ=function(e){var t=e.displayData,n=e.page,r=(0,N.Z)(),s=aV((0,_.useState)([]),2),o=s[0],a=s[1];return(0,_.useEffect)(function(){a(Object.entries(t).map(function(e){var t=aV(e,2),n=t[0],r=t[1];return{adAccountId:n,adAccountName:r.name,adAccountCountry:r.country,adAccountSfdcStatus:r.sfdc_account_status,adAccountCreatedTime:r.created_time,resellerBusinessName:r.reseller_business_name}}))},[t]),(0,U.jsx)(Z.Z,{accessibilityLabel:r._('Uncompleted reseller managed ad accounts', '[m10n]bizAccess.rmaaUncompleteModal.modal.accessibilityLabel', 'accessibility label for the modal used to view uncompleted ad accounts info'),hideCancelAction:!0,size:"md",title:(0,R.nk)(r.ngettext('{{ numberOfIssues }} issue', '{{ numberOfIssues }} issues', o.length, 'Number of RMAA having issues, numberOfIssues: is the number of issues', 'Number of RMAA having issues, numberOfIssues: is the number of issues'),{numberOfIssues:o.length}),children:(0,U.jsx)(m.xu,{"data-test-id":"rmaa-incomplete-modal-content-container",children:(0,U.jsx)(aY,{data:o,page:n})})})},aW=function(e){var t=e.resellerBusinessName,n=e.avatarUrl,r=e.adAccountId,s=e.businessId,o=(0,N.Z)(),a=(0,L.HU)().clearModal,i=(0,u.Z)(),l=i.isAuth?null==i?void 0:i.avatar_color_index:void 0,c=v.Q6.AD_ACCOUNTS_DETAIL,d=s&&r?(0,A.Z)(c,s,r):"";return(0,U.jsx)(Z.Z,{accessibilityLabel:o._('Successfully saved reseller managed ad account information', '[m10n]businessAccess.SavedRMAAInformationSuccessModal.accessibilityLabel', 'Accessibility label for modal used to show that reseller managed ad account information has been saved'),hideCancelAction:!0,onDismiss:a,primaryAction:(0,U.jsx)(m.xu,{id:"saved-rmaa-info-ok",children:(0,U.jsx)(m.ZP,{accessibilityLabel:o._('Okay', '[m10n]businessAccess.savedRMAAInformationSuccessModal.button.ok', 'Ok button to close the modal'),color:"red",href:d,onClick:a,text:o._('Okay', '[m10n]businessAccess.savedRMAAInformationSuccessModal.button.ok', 'Ok button to close the modal')})}),size:"sm",title:o._('Ad account information saved', '[m10n]businessAccess.SavedRMAAInformationSuccessModal.title', 'Title to show that reseller managed ad account information has been saved'),children:(0,U.jsxs)(m.xu,{direction:"row",display:"flex",id:"saved-rmaa-info-content-container",children:[(0,U.jsx)(m.xu,{marginEnd:2,marginTop:1,children:(0,U.jsx)(tn.qE,{color:l,name:t,size:"md",src:n})}),(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.xv,{children:(0,R.nk)(o._('{{ resellerBusinessName }} will be able to start advertising once your ad account is validated. You\u2019ll receive a banner notification within 10 minutes.', '[m10n]businessManager.savedRMAAInformationSuccessModal.modalInfo', 'Modal information explaining that reseller will be able to start advertising once ad account is validated, resellerBusinessName: is the reseller business name'),{resellerBusinessName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:t},"resellerBusinessName")})})})]})})},aX=n(247387);function aK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a$(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a$(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function aJ(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function a0(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){aJ(o,r,s,a,i,"next",e)}function i(e){aJ(o,r,s,a,i,"throw",e)}a(void 0)})}}var a1=function(e){var t=e.clientBusinessId,n=e.ownerUserId;return t||n},a2=function(){var e,t=(0,N.Z)(),n=(0,g.ZP)("BUSINESS_ACCESS_AUDIENCES"),r=(0,L.KJ)(),s=(0,u.Z)(),o=s.isAuth?s.id:void 0,a=(0,_.useCallback)((e=a0(regeneratorRuntime.mark(function e(t,n){var r,s,o,a,i,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1,o=null,e.prev=2,i={businessId:t,id:t,personId:n,searchBy:"name",sortBy:"name",sortDirection:v.IR.ASCENDING,includeAssetSummary:!0},e.next=6,(0,tU.QC)(i);case 6:if(e.t2=a=e.sent,e.t1=null===e.t2,e.t1){e.next=10;break}e.t1=void 0===a;case 10:if(!e.t1){e.next=14;break}e.t3=void 0,e.next=15;break;case 14:e.t3=a.data.data;case 15:if(e.t0=e.t3,e.t0){e.next=18;break}e.t0={};case 18:r=e.t0,e.next=25;break;case 21:e.prev=21,e.t4=e.catch(2),s=!0,o=(0,q.Z)(e.t4,"code");case 25:return e.prev=25,(0,tg.nP)("audience_sharing.ui.searchbox.get_ad_accounts",{sampleRate:1,tags:{error:s,error_code:o}}),e.finish(25);case 28:return l=new Set([v.V3.OWNER,v.gO.ADMIN,v.gO.AUDIENCE_MANAGER]),c=Object.values(r||{}).filter(function(e){var n;return(e.permissions||[]).some(function(e){return l.has(e)})&&a1({clientBusinessId:null==(n=e.client_business)?void 0:n.id,ownerUserId:e.owner.id})===t}).map(function(e){return{id:e.asset.id,name:e.asset.name}}),e.abrupt("return",{adAccountsInBusiness:c,error:s});case 32:case"end":return e.stop()}},e,null,[[2,21,25,28]])})),function(t,n){return e.apply(this,arguments)}),[]),i=aK((0,_.useState)([]),2),l=i[0],c=i[1];(0,_.useEffect)(function(){function e(){return(e=a0(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(r,o||"");case 2:c(e.sent.adAccountsInBusiness||null);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[r,o,a]);var d=aK((0,_.useState)([]),2),h=d[0],p=d[1],b=aK((0,_.useState)([]),2),y=b[0],A=b[1],S=aK((0,_.useState)(null),2),x=S[0],E=S[1],P=aK((0,_.useState)(""),2),I=P[0],T=P[1],C=(0,f.I0)();return(0,_.useEffect)(function(){h.length>0?(A(h),E(h[0]),T(h[0].label)):C((0,ei.cE)({businessId:r,sortBy:"name",sortDirection:v.IR.ASCENDING}))},[h,r,C]),(0,_.useEffect)(function(){l.length>0&&p(l.map(function(e){return{label:e.name?e.name:"",value:e.id?e.id:""}}))},[l]),(0,U.jsx)(Z.Z,{accessibilityLabel:t._('Select ad account to share an audience modal', '[m10n].bizAccess.audienceSharing.dropdownModal.a11yLabel', 'Accessibility label for the select ad account to share an audience modal'),cancelText:(0,H.I9)(t),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"select-ad-account-to-share-from-button",children:(0,U.jsx)(m.ZP,{color:"red",disabled:null==x,href:"".concat(aX.auO,"/advertiser/").concat((null==x?void 0:x.value)||"","/audiences/"),onClick:function(){n({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"audiences-page-empty-select-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"audiences-page-empty-submit-go-to-ad-account"})},size:"lg",text:t._('Go to Audiences', '[m10n].bizAccess.audienceSharing.dropdownModal.primaryActionButton', 'Button confirming ad account selection')})}),size:"lg",title:t._('Select an ad account to share an audience from', '[m10n].bizAccess.audienceSharing.dropdownModal.title', 'Title for the select ad account to share an audience modal'),children:(0,U.jsxs)(m.xu,{height:120,children:[(0,U.jsx)(m.xv,{children:t._('Before you can share an audience, you need to select which ad account to share from.', '[m10n].bizAccess.audienceSharing.dropdownModal.subtitle', 'Subtitle for letting users know that they will have to select an ad account to share audiences from')}),(0,U.jsx)(m.BC,{helperText:t._('To get started, please select one ad account. Only ad accounts that you own will be shown.', '[m10n].bizAccess.audienceSharing.dropdownModal.helperText', 'Helper text for the ad account ComboBox'),id:"adAccountComboBox",inputValue:I,label:t._('Your ad accounts', '[m10n].bizAccess.audienceSharing.dropdownModal.comboBoxLabel', 'Label for the ad account ComboBox'),onChange:function(e){var t=e.value;E(null),T(t),t?A(h.filter(function(e){return e.label.includes(t)})):A(h)},onClear:function(){E(null),T(""),A(h)},onSelect:function(e){var t=e.item;A(h),E(t),T(t.label)},options:y,selectedOption:x||{label:"",value:""},size:"lg",zIndex:new m.Ry(1e3)})]})})};function a5(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function a6(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a3(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a3(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a8=function(e){var t,n,r=e.pageForLogger,s=(0,N.Z)(),o=(0,g.ZP)(r||(0,g.QK)("SHARED_TAGS")),a=(0,f.v9)(od.iX),i=(0,f.v9)(od.TX),l=(0,L.HU)(),c=l.setShareTagSummaryModal,u=l.setShareTagModal,d=(0,L.KJ)(),h=(0,f.I0)(),p=a6((0,_.useState)(!1),2),b=p[0],y=p[1],A=a6((0,_.useState)(!1),2),S=A[0],x=A[1],E=(0,W.dI)().showToast,P=(0,f.v9)(od.aw),I=s._('Pinterest tag share legal modal', '[m10n]bizAccess.business.share.tag.legal.modal', 'accessibility label for the modal used to show legal information about shared tags ad accounts'),T=s._('Share Pinterest tag with an ad account', '[m10n]bizAccess.business.share.tag.legal.title', 'heading for the modal used to summarize shared tags added ad accounts');if(P||S)return(0,U.jsx)(Z.Z,{accessibilityLabel:I,size:"md",title:T,children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(s),show:!0})});var C=(t=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"share-tag-legal-modal-submit",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-legal-modal-submit-button",business_id:d}),e.next=4,(0,ou.Ol)({businessId:d,tagId:a.id,assetsToAdd:i.map(function(e){return e.id})});case 4:null!=(t=(n=e.sent).resource_response.data)&&t.data&&(h((0,oc.a3)({addedTags:n.resource_response.data.data})),c({pageForLogger:r})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),E(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:(0,H.sQ)(s),type:"error"})}),x(!1);case 12:case"end":return e.stop()}},e,null,[[0,8]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){a5(o,r,s,a,i,"next",e)}function i(e){a5(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)});return(0,U.jsxs)(Z.Z,{accessibilityLabel:I,cancelText:s._('Back', '[m10n]bizAccess.share.tag.legal.modal.back', 'Label for the back button on share tag legal modal'),footerSecondaryContent:(0,U.jsx)(m.xv,{color:"subtle",size:"200",children:s._('Step 2 of 2', '[m10n]bizAccess.share.tag.modal.steps.second', 'Label to identify the current step, second, on share tag flow')}),onDismiss:function(){return u({pageForLogger:r})},primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"share-tag-modal-submit-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:!b,onClick:function(){x(!0),C()},size:"lg",text:s._('Share Pinterest tag', '[m10n]bizAccess.share.tag.legal.modal.sumbit', 'Label for the submit button on share tag legal modal')})}),size:"lg",title:T,children:[(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(m.xv,{size:"400",weight:"bold",children:s._('Legal disclaimer', '[m10n]bizAccess.share.tag.legal.description', 'Present the following disclaimer statement')})}),(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(m.xv,{color:"subtle",children:s._('By sharing your Pinterest Tag, you agree to allow Pinterest to share all data collected by your Pinterest Tag, including conversion events, for measuring ad effectiveness, ad delivery, reporting, and targeting for the ad account selected above. This agreement shall supersede any conflicting terms in Pinterest\u2019s Ad Data Terms. You represent that you comply with all applicable laws when sharing this Pinterest Tag data and that you have the rights and the legally required consents for the sharing and use of the data (including use by Pinterest) as described herein.  You further agree that you shall indemnify, defend, and hold harmless Pinterest and its officers, directors, employees, agents and affiliates, against any and all liabilities, damages, losses, costs and expenses (including legal fees) arising from or related to any third-party allegation or legal proceeding arising from or related to the sharing of your Pinterest Tag, pursuant to the indemnification procedures described in the Pinterest Advertising Services Agreement.', '[m10n]bizAccess.share.tag.legal.firstLine', 'First paragraph of legal statement')})}),(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(m.xv,{color:"subtle",children:s._('By sharing your Pinterest Tag, you give the selected ad account the right to access reporting and measurement services based on conversion events from your Tag and to create audiences utilizing your Tag data.  You agree and accept that, if in the future you revoke access to your Pinterest Tag, the selected ad account will maintain access to all historic data that has already been shared through your Tag subject to Pinterest\u2019s standard data retention policies.', '[m10n]bizAccess.share.tag.legal.secondLine', 'First paragraph of legal statement')})}),(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(m.XZ,{checked:b,id:"tagSharingLegalCheckbox",label:s._('By checking this box, you agree to the above legal terms and conditions', '[m10n]bizAccess.share.tag.legal.checkbox', 'Agreement checkbox for tag sharing'),onChange:function(e){return y(e.checked)}})})]})},a4=n(196482);function a7(e){return(a7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a9(e){return function(e){if(Array.isArray(e))return io(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||is(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=a7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a7(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a7(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||is(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function is(e,t){if(e){if("string"==typeof e)return io(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?io(e,t):void 0}}function io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ia=new m.Ry(9999),ii=function(e){var t=e.pageForLogger,n=(0,N.Z)(),r=(0,f.I0)(),s=(0,L.HU)().setShareTagLegalModal,o=(0,L.KJ)(),a=(0,g.ZP)(t||(0,g.QK)("SHARED_TAGS")),i=ir((0,_.useState)([]),2),l=i[0],c=i[1],d=ir((0,_.useState)(""),2),h=d[0],p=d[1],b=(0,u.Z)(),A=(0,f.v9)(eh.wk),S=(0,f.v9)(od.iX),x=(0,f.v9)(od.Jb),E=(0,f.v9)(eh.Xy),P=(0,f.v9)(od.HR),T=(0,f.v9)(od.TX),C=(0,I.Z)(),O=C.checkExperiment,j=O("web_m10n_business_hierarchy_beta").anyEnabled,z=O("web_m10n_business_access_agency_tag_sharing").anyEnabled,w=(0,f.v9)(a4.ZP),D=(0,y.g)().businessHierarchies,k=(0,tN._4)(w,o,D,j),B=ir((0,_.useState)(!1),2),M=B[0],G=B[1],F=n._('You can only share a Pinterest tag with 20 ad accounts at a time. To keep sharing, remove ad accounts you would no longer like to share with.', '[m10n]bizAccess.business.share.tag.maxadaccounts.error', 'Error message when tag cannot be shared any further as the maximum amount has been reached.'),Y=function(){return x.length+l.length>=20};(0,_.useEffect)(function(){var e=b.isAuth?b.id:"";z&&"EMPLOYEE"===k?r((0,ed.UQ)({businessId:S.business_id,detailId:e,sortBy:"name",sortDirection:v.IR.ASCENDING,searchBy:void 0,searchTerm:void 0,limit:v.cU,includeAssetSummary:!0,experimentsClient:C})):r((0,ei.cE)({businessId:o,limit:v.xX,includeAssetSummary:!0}))},[r,o,b,z,S,k,C]),(0,_.useEffect)(function(){c(T.map(function(e){return{value:e.id,label:e.name,tagType:e.ownedOrEnabled?"DEFAULT":"WARNING"}}))},[T]);var V=ir((0,_.useState)(""),2),q=V[0],Q=V[1],W=(0,_.useMemo)(function(){return Object.keys(E).reduce(function(e,t){var n=E[t];return n.owner&&n.owner.id===S.business_id&&S.ad_account_id!==n.asset.id&&!S.tags.find(function(e){return e.ad_account_id===n.asset.id})&&(e=e.concat(it(it({},n),n.asset))),e},[]).map(function(e){return{label:e.name,value:e.id,subtext:(0,R.nk)(n._('ID: {{adAccountId}} | Account Owner: {{adAccountOwner}}', '[m10n]bizAccess.business.share.tag.modal.combobox.option.subtext', 'accessibility label for the modal used to share tag with ad accountadAccountId: Ad account Id for optionadAccountOwner: Ad account owner for option'),{adAccountId:e.id,adAccountOwner:e.owner.full_name}).join("")}})},[E,S,n]),X=ir((0,_.useState)(W.filter(function(e){return!l.find(function(t){return t.value===e.value})})),2),K=X[0],$=X[1];(0,_.useEffect)(function(){$(W.filter(function(e){return!l.find(function(t){return t.value===e.value})}))},[W,l]);var J=function(e){var t=l.filter(function(t){return t.value!==e});c(t),$(W.filter(function(e){return!t.find(function(t){return t.value===e.value})}))},ee=function(e){var t=e.value,r=W.find(function(e){return e.label===t});if(Y())Q(F);else if(""===t||r){if(r){var s=[].concat(a9(l),[{label:r.label,value:r.value}]);c(s),$(W.filter(function(e){return!s.find(function(t){return t.value===e.value})})),p("")}}else{var a=n._('This is not a valid ad account name or ID', '[m10n]bizAccess.business.share.tag.combobox.error', 'Error message when option does not exist on combobox.');z&&!Number.isNaN(t)?(G(!0),(0,ou.qE)({owner_business_id:S.business_id,account_ids:[t],validate_owned_only:!0,businessId:o}).then(function(e){var n=e.resource_response.data.accounts.find(function(e){return e.account_id===t});if(null!=n&&n.is_valid){var r=[].concat(a9(l),[{label:n.account_name,value:t,tagType:v.qq.WARNING}]);c(r),$(W.filter(function(e){return!r.find(function(t){return t.value===e.value})})),p("")}else Q(a)}).catch(function(){Q(a)}).finally(function(){G(!1)})):Q(a)}},et=n._('Share tag with ad account modal', '[m10n]bizAccess.business.share.tag.modal', 'accessibility label for the modal used to share tag with ad account'),en=n._('Share Pinterest tag with an ad account', '[m10n]bizAccess.business.share.tag.title', 'heading for the modal used to add a partner to a business account');return A?(0,U.jsx)(Z.Z,{accessibilityLabel:et,size:"md",title:en,children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(n),show:!0})}):(0,U.jsxs)(Z.Z,{accessibilityLabel:et,footerSecondaryContent:(0,U.jsx)(m.xv,{color:"subtle",size:"200",children:n._('Step 1 of 2', '[m10n]bizAccess.share.tag.modal.steps.first', 'Label to identify the current step, first, on share tag flow')}),onDismiss:function(){return r((0,oc.at)({adAccounts:[]}))},primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"share-tag-modal-submit-button",children:(0,U.jsx)(m.zx,{color:"red",disabled:l.length<1,onClick:function(){if(!(l.length<1)){var e=l.reduce(function(e,t){if(t.tagType!==v.qq.WARNING){var n=E[t.value];e=e.concat(it(it(it({},n),n.asset),{},{ownedOrEnabled:!0}))}else e=e.concat({id:t.value,name:t.label,owner:{id:S.business_id,full_name:(null==P?void 0:P.owner.full_name)||S.business_id},tagId:S.id,ownedOrEnabled:!1});return e},[]);r((0,oc.at)({adAccounts:e})),s({pageForLogger:t}),a({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"share-tag-modal-submit",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-modal-submit-button",business_id:o})}},size:"lg",text:n._('Next', '[m10n]bizAccess.share.tag.modal.sumbit', 'Label for the submit button on the Share tag modal')})}),size:"lg",title:en,children:[(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(n._('Share Pinterest tag {{tagName}} (Tag ID: {{tagId}}) by selecting the ad accounts that should receive this tag from the dropdown below. You can only share this tag with ad accounts that you own.', '[m10n]bizAccess.share.tag.description', 'Describe the tag being shared, tagName: Selected tag name, tagId: Selected tag ID'),{tagName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:S.name},S.id),tagId:S.id})})}),(0,U.jsx)(m.xu,{marginBottom:1,children:(0,U.jsxs)(m.kC,{alignItems:"center",gap:2,children:[(0,U.jsx)(m.JO,{accessibilityLabel:n._('Info icon', '[m10n]bizAccess.share.tag.modal.info.icon', 'Info icon for share tag modal'),color:"info",icon:"info-circle",size:"24"}),(0,U.jsx)(m.xv,{size:"300",weight:"bold",children:n._('Once the Pinterest tag shared:', '[m10n]bizAccess.share.tag.modal.info', 'Label for title of list of information')})]})}),(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsxs)(m.aV,{spacing:"regular",type:"unordered",children:[(0,U.jsx)(m.aV.Item,{text:n._('Everyone with access to that ad account will be able to see the Pinterest Tag immediately and will be able to use it within 24 hours', '[m10n]bizAccess.share.tag.modal.info.viewAccess', 'Label that describes who will be getting access by sharing this tag')}),(0,U.jsx)(m.aV.Item,{text:n._('Ad accounts that receive the Pinterest tag may only use it in their targeting and audience creation; they cannot edit, delete or share this Pinterest tag with other ad accounts or businesses', '[m10n]bizAccess.share.tag.modal.info.permissions', 'Label that describes what permissions will the recipients get')}),(0,U.jsx)(m.aV.Item,{text:n._('Ad accounts retain access to this Pinterest tag until the tag owner revokes access or the recipient removes this Pinterest tag from their ad accounts', '[m10n]bizAccess.share.tag.modal.info.revoke', 'Label that describes that the tag owner can revoke permissions and access at any time')})]})}),(0,U.jsx)(m.xu,{color:"lightWash",marginBottom:4,padding:3,rounding:2,children:(0,U.jsxs)(m.kC,{alignItems:"center",gap:3,children:[(0,U.jsx)(m.JO,{accessibilityLabel:n._('Sharing icon', '[m10n]bizAccess.share.tag.modal.sharing.icon', 'Sharing icon for share tag modal'),color:"dark",icon:"code",size:"24"}),(0,U.jsx)(m.xv,{size:"300",children:(0,R.nk)(n._('You are sharing: {{tagName}} (Tag ID: {{tagId}})', '[m10n]bizAccess.share.tag.modal.sharing.label', 'Label to describe what tag is being sharedtagName: Selected tag nametagId: Selected tag ID'),{tagName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:S.name},"".concat(S.id,"label")),tagId:S.id})})]})}),(0,U.jsx)(m.xu,{marginBottom:2,width:"100%",children:(0,U.jsx)(m.xu,{"data-test-id":"share-tag-ad-account-combobox",children:M?(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(n),show:!0}):(0,U.jsx)(m.BC,{accessibilityClearButtonLabel:n._('A combo box to select multiple Ad Accounts', '[m10n]bizAccess.share.tag.modal.adAccount.combobox.accessibility', 'Describes the purpose of the combobox'),errorMessage:q,helperText:n._('Select one or more ad accounts. Only ad accounts that you own will appear.', '[m10n]bizAccess.share.tag.modal.adAccount.combobox.helpertext', 'Label to let the users know they can select multiple options'),id:"tags",inputValue:h,label:n._('Ad accounts you would like to share with', '[m10n]bizAccess.share.tag.modal.adAccount.combobox.description', 'Describes what needs to be selected on the following combo box'),noResultText:n._('No Result', '[m10n]bizAccess.share.tag.modal.adAccount.combobox.noresult', 'Label to be shown when no ad account was found'),onBlur:ee,onChange:function(e){var t=e.value;Q(""),p(t);var n=W.filter(function(e){return!l.find(function(t){return t.value===e.value})});$(t?n.filter(function(e){return e.label.toLowerCase().includes(t.toLowerCase())||e.value.toLowerCase().includes(t.toLowerCase())}):n)},onClear:function(){c([]),$(W),Q("")},onKeyDown:function(e){var t=e.event,n=e.value,r=t.keyCode,s=t.currentTarget;if(8===r&&0===s.selectionEnd){var o=a9(l.slice(0,-1));c(o),$(W.filter(function(e){return!o.find(function(t){return t.value===e.value})}))}13===r&&ee({event:t,value:n})},onSelect:function(e){var t=e.item,n=t.label,r=t.value;if(Y())Q(F);else if(!l.find(function(e){return e.value===r})){var s=[].concat(a9(l),[{label:n,value:r}]);c(s),$(W.filter(function(e){return!s.find(function(t){return t.value===e.value})})),p("")}},options:K,placeholder:l.length>0?"":n._('Search ad account name or ID', '[m10n]bizAccess.share.tag.modal.adAccount.combobox.placeholder', 'Placeholder text with a tip to search for ad accounts in combobox'),tags:l.map(function(e){return(0,U.jsx)(m.Vp,{accessibilityRemoveIconLabel:n._('Search ad account name or ID', '[m10n]bizAccess.share.tag.modal.adAccount.combobox.tag.a11y', 'Close button to remove an ad account from combobox'),onRemove:function(){return J(e.value)},text:e.label,type:e.tagType===v.qq.WARNING?"warning":"default"},e.value)}),zIndex:ia})})}),(0,U.jsx)(m.xu,{marginBottom:6,children:l.find(function(e){return e.tagType===v.qq.WARNING})&&(0,U.jsx)(m.he,{iconAccessibilityLabel:"Info",message:(0,U.jsx)(m.xv,{color:"warning",size:"100",children:n._('This ad account belongs to a business within your business hierarchy. Please confirm this ad account before sharing this Pinterest tag.', '[m10n]bizAccess.share.tag.modal.adAccount.not.owned', 'Warning text to tell the user this ad account is not shared with him and validate before sharing')}),type:"warningBare"})})]})},il=function(e){var t=e.pageForLogger,n=(0,N.Z)(),r=(0,g.ZP)(t||(0,g.QK)("SHARED_TAGS")),s=(0,f.v9)(od.iX),o=(0,f.v9)(od.TX),a=(0,L.HU)().clearModal,i=(0,L.KJ)(),l=(0,f.I0)(),c=(0,f.v9)(od.aw),u=n._('Pinterest tag shared summary modal', '[m10n]bizAccess.business.share.tag.summary.modal', 'accessibility label for the modal used to summarize shared tags ad accounts'),d=n._('Pinterest tag shared', '[m10n]bizAccess.business.share.tag.summary.title', 'heading for the modal used to summarize shared tags added ad accounts');if(c)return(0,U.jsx)(Z.Z,{accessibilityLabel:u,size:"md",title:d,children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(n),show:!0})});var _=function(){r({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"share-tag-summary-modal-submit",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-summary-modal-submit-button",business_id:i}),l((0,oc.at)({adAccounts:[]})),a()};return(0,U.jsxs)(Z.Z,{accessibilityLabel:u,hideCancelAction:!0,onDismiss:_,primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"share-tag-modal-submit-button",children:(0,U.jsx)(m.zx,{color:"red",onClick:_,size:"lg",text:n._('Done', '[m10n]bizAccess.share.tag.summary.modal.sumbit', 'Label to close summary modal')})}),size:"sm",title:d,children:[(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.xv,{children:(0,R.nk)(n._('You have shared Pinterest Tag {{tagName}} (Tag ID: {{tagId}}) with the following ad accounts:', '[m10n]bizAccess.share.tag.summary.description', 'Describe the tag being shared, tagName: Selected tag name, tagId: Selected tag ID'),{tagName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:s.name},s.id),tagId:s.id})})}),(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsx)(m.aV,{spacing:"condensed",type:"unordered",children:o.map(function(e){return(0,U.jsx)(m.aV.Item,{text:(0,R.nk)(n._('{{adAccountName}} (Ad account ID: {{adAccountId}})', '[m10n]bizAccess.share.tag.summary.ad_account', 'Describe an ad account beign shared to tagadAccountName: ad account name getting accessadAccountId: ad account id getting access'),{adAccountName:e.name,adAccountId:e.id}).join("")},e.id)})})})]})},ic=n(982965),iu=n(516251);function id(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function i_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var im=function(e){var t,n=e.app,r=(0,N.Z)(),s=(0,L.KJ)(!0),o=(0,g.ZP)((0,g.QK)("APPS")),a=(0,L.HU)().clearModal,i=(0,W.dI)().showToast,l=(0,f.I0)();(0,ry.Z)(function(){o({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_APP_SECRET_KEY_RESET_MODAL",component_id:"app-secret-key-reset-modal",business_id:s})});var c=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return i_(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i_(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],d=c[1],h={text:(0,U.jsxs)(m.kC,{alignItems:"center",gap:4,children:[(0,U.jsx)(m.JO,{accessibilityLabel:r._('Warning', '[m10n]businessAccess.secretKeyReset.title.icon', 'accessibility label for the icon in the title of the app secret key reset modal'),color:"warning",icon:"workflow-status-warning",size:24}),(0,U.jsx)(m.X6,{align:"center",color:"default",size:"600",children:r._('App secret key reset', '[m10n]businessAccess.secretKeyReset.title', 'Title for the modal used to reset app secret key. warningIcon: icon to show in the title')})]}),a11y:r._('App secret key reset modal', '[m10n]businessAccess.secretKeyReset.modal', 'accessibility label for the modal used to reset app secret key')};return(0,U.jsx)(Z.Z,{accessibilityLabel:h.a11y,cancelText:(0,H.I9)(r),primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"app-secret-key-reset-submit-button",children:(0,U.jsx)(m.zx,{accessibilityLabel:r._('Confirm secret key reset', '[m10n]businessAccess.secretKeyReset.submitLabel.a11y', 'a11y Label for the button confirming the app secret key reset'),color:"red",disabled:!u,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"app-secret-key-reset-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"confirmation-button",business_id:s}),e.prev=1,e.next=4,(0,iu.Ao)({appId:(null==n?void 0:n.id)||""});case 4:i(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:r._('App secret key successfully reset.', '[m10n]businessAccess.secretKeyReset.modal.successToast', 'Toast prompting app secret key has been reset successfully.')})}),l((0,ic.XZ)({appId:(null==n?void 0:n.id)||"",businessId:s})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:r._('Failed to reset app secret key.', '[m10n]businessAccess.secretKeyReset.modal.failToast', 'Toast prompting app secret key has failed to be reset.'),type:"error"})});case 11:a();case 12:case"end":return e.stop()}},e,null,[[1,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){id(o,r,s,a,i,"next",e)}function i(e){id(o,r,s,a,i,"throw",e)}a(void 0)})})()},size:"lg",text:r._('Confirm', '[m10n]businessAccess.secretKeyReset.submitLabel', 'Label for the button confirming the app secret key reset')})}),size:"sm",title:h.text,children:(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsxs)(m.kC,{direction:"column",gap:4,height:"100%",children:[(0,U.jsx)(m.xv,{children:(0,R.nk)(r._('Are you sure you want to reset {{appName}}\u2019s app secret key? A new secret will replace your old secret. This action cannot be undone.', '[m10n]businessAccess.secretKeyReset.infoText', 'Confirmation text for the app secret key reset modal. appName: name of the app'),{appName:(0,U.jsx)(m.xv,{inline:!0,weight:"bold",children:n.name},"app-name")})}),(0,U.jsxs)(m.kC,{alignItems:"center",gap:2,children:[(0,U.jsx)(m.XZ,{checked:u,id:"confirm-reset",onChange:function(e){d(e.checked)}}),(0,U.jsx)(m.iP,{onTap:function(){return d(!u)},children:(0,U.jsx)(m.xv,{children:r._('Reset app secret key', '[m10n]businessAccess.secretKeyReset.confirmationCheckbox', 'Label for the checkbox confirming the app secret key reset')})})]})]})})})},ih=n(145626);function ip(e){return(ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ib(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return iy(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iy(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iv(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=ip(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ip(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ip(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ig=new m.Ry(9999),iS=function(e){var t=e.pageForLogger,n=(0,N.Z)(),r=(0,g.ZP)(t||(0,g.QK)("SHARED_TAGS")),s=(0,L.KJ)(),o=(0,f.I0)(),a=(0,f.v9)(eh.Xy),i=(0,f.v9)(eh.wk),l=(0,_.useMemo)(function(){return Object.keys(a).reduce(function(e,t){var n=a[t];return n.owner.id===s&&(e=e.concat(iA(iA({},n),n.asset))),e},[]).map(function(e){return{label:e.name,value:e.id,subtext:(0,R.nk)(n._('ID: {{adAccountId}}', '[m10n]bizAccess.business.tag.getstarted.modal.combobox.option.subtext', 'accessibility label for the modal used to get started with pinterest tagadAccountId: Ad account Id for option'),{adAccountId:e.id}).join("")}})},[a,n,s]),c=ib((0,_.useState)(null),2),u=c[0],d=c[1],h=ib((0,_.useState)(l),2),p=h[0],b=h[1],y=ib((0,_.useState)(""),2),v=y[0],A=y[1],S=n._('Pinterest tag get started modal', '[m10n]bizAccess.business.share.tag.getstarted.modal', 'accessibility label for the modal used to get started on shared tags'),x=n._('Get started', '[m10n]bizAccess.business.share.tag.getstarted.title', 'heading for the modal used to get started on shared tags');return((0,_.useEffect)(function(){a.length<1&&o((0,ei.cE)({businessId:s}))},[o,s,a]),(0,_.useEffect)(function(){r({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"share-tag-getstarted-modal-adaccount",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-getstarted-modal-adaccount-combobox",business_id:s})},[u,r,s]),i)?(0,U.jsx)(Z.Z,{accessibilityLabel:S,size:"md",title:x,children:(0,U.jsx)(m.xH,{accessibilityLabel:(0,H.hC)(n),show:!0})}):(0,U.jsx)(Z.Z,{accessibilityLabel:S,primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"share-tag-modal-submit-button",children:(0,U.jsx)(m.ZP,{color:"red",disabled:!u,href:u?"".concat(ih.vI,"/advertiser/").concat(u.value,"/conversions/tag"):"#",text:n._('Set up tag', '[m10n]bizAccess.share.tag.getstarted.modal.sumbit', 'Label to go to set up page')})}),size:"md",title:x,children:(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsxs)(m.UQ,{id:"set-up-pinterest-tag-module",title:n._('Set up my Pinterest Tag', '[m10n]bizAccess.business.share.tag.getstarted.modal.title', 'title for the module to instruct the user how to set up pinterest tags'),children:[(0,U.jsx)(m.xu,{marginBottom:6,children:(0,U.jsx)(m.xv,{size:"300",children:n._('Before you can share your tag, you\u2019ll need to set it up and connect a data source. Select which ad account you would like to set up your tag under.', '[m10n]bizAccess.business.share.tag.getstarted.modal.statement', 'statement for the module to instruct the user how to set up pinterest tags')})}),(0,U.jsx)(m.xu,{marginBottom:2,width:"100%",children:(0,U.jsx)(m.BC,{accessibilityClearButtonLabel:n._('Clear ad account selector for get started combo box', '[m10n]bizAccess.business.share.tag.getstarted.modal.combobox.a11yClear', 'A11y label to clear ad account combobox on pinterest tag get started modal'),helperText:n._('To get started, please select one ad account. Only ad accounts that you own will be shown.', '[m10n]bizAccess.business.share.tag.getstarted.modal.combobox.helperText', 'Helper text for the ad account combobox on pinterest tag get started modal'),id:"header",inputValue:v,label:n._('Your ad accounts', '[m10n]bizAccess.business.share.tag.getstarted.modal.combobox.label', 'Label for the ad account combobox on pinterest tag get started modal'),noResultText:n._('No Result', '[m10n]bizAccess.business.share.tag.getstarted.modal.combobox.noResultText', 'No result label for the ad account combobox on pinterest tag get started modal'),onBlur:function(){u||A("")},onChange:function(e){var t=e.value;d(null),A(t),b(t&&p.length>0?p.filter(function(e){return e.label.toLowerCase().includes(t.toLowerCase())||e.value.toLowerCase().includes(t.toLowerCase())}):l.filter(function(e){return e.label.toLowerCase().includes(t.toLowerCase())||e.value.toLowerCase().includes(t.toLowerCase())}))},onClear:function(){A(""),d(null),b(l)},onSelect:function(e){var t=e.item;A(t.label),d(t)},options:p,placeholder:n._('Search by ad account name or ID', '[m10n]bizAccess.business.share.tag.getstarted.modal.combobox.placeholder', 'Search placeholder for the ad account combobox on pinterest tag get started modal'),zIndex:ig})})]})})})},ix=function(e){var t=e.partnerBusinessInfo,n=e.ownerInfo,r=e.accountInfo,s=(0,N.Z)(),o=(0,L.HU)(),a=o.setAOAAPermissionAssignmentModal,i=o.clearModal;return(0,U.jsx)(Z.Z,{accessibilityLabel:(0,eM.T_)(s),cancelText:s._('Cancel creation', '[m10n]businessAccess.assignPermissionsValidation.assignPermissionsButton', 'label for button to cancel ad account request creation'),onDismiss:i,primaryAction:(0,U.jsx)(m.xu,{"data-test-id":"go-back-and-assign-permissions",children:(0,U.jsx)(m.zx,{color:"red",fullWidth:!0,onClick:function(){return a({partnerBusinessInfo:t,ownerInfo:n,accountInfo:r})},size:"lg",text:s._('Assign permissions', '[m10n]businessAccess.assignPermissionsValidation.assignPermissionsButton', 'Label for the button to assign permissions for ad account')})}),size:"sm",title:s._('Assign permissions to create ad account', '[m10n]businessAccess.assignPermissionsValidation.title', 'Title to show permissions must be assigned to create ad account'),children:(0,U.jsx)(m.xv,{children:s._('Ad account permissions must be assigned to a partner to create an ad account. If permission is not assigned, this ad account will be deleted.', '[m10n]businessAccess.assignPermissionsValidation.text', 'description that explains ad account will be deleted if the user does not assign permissions')})})},iE=n(415927),iP=n(257026),iI=n(268617),iT=n(424304),iC=n(701116);function iO(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function ij(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){iO(o,r,s,a,i,"next",e)}function i(e){iO(o,r,s,a,i,"throw",e)}a(void 0)})}}function iz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return iw(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iw(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var iN=function(e){var t,n=e.businessHierarchy,r=(0,N.Z)(),s=(0,rS.B)(),o=(0,W.dI)().showToast,a=(0,u.Z)(),i=a.isAuth?null==a?void 0:a.avatar_color_index:void 0,l=(0,L.KJ)(!0),c=(0,g.ZP)((0,g.QK)("DASHBOARD")),d=iz((0,_.useState)({image:void 0,imageUrl:void 0}),2),f=d[0],h=d[1],p=iz((0,_.useState)(!1),2),b=p[0],y=p[1],A=(0,L.HU)().setBusinessHierarchyCreationSuccessModal,S=(0,iE.Z)();(0,ry.Z)(function(){c({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_UPDATE_BUSINESS_HIERARCHY_AVATAR_IMAGE_MODAL",component_id:"create-business-hierarchy-modal",business_id:l})});var x=r._('Create business hierarchy modal', '[m10n]bizAccess.uploadBusinessHierarchyAvatarImage.modal', 'accessibility label for the modal used to upload business hierarchy image'),E=r._('Create business hierarchy', '[m10n]bizAccess.uploadBusinessHierarchyAvatarImage.title', 'Title for the modal used to upload a business hierarchy avatar image'),P=function(){o(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:r._('Error uploading the image. Please try again later.', '[m10n]bizAccess.uploadBusinessHierarchyAvatarImage.errorUploadingImageToast', 'Toast prompting business hierarchy avatar image upload has failed'),type:"error"})})},I=(t=ij(regeneratorRuntime.mark(function e(){var t,s,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.image){e.next=34;break}return y(!0),e.next=4,(0,iT.Z)({i18n:r,ideaPinRenamingEnabled:!1,file:f.image,options:{allowVideo:!1}});case 4:if(t=e.sent,!(S&&f.imageUrl)){e.next=34;break}if("localImage"!==t.type){e.next=32;break}return e.prev=7,e.next=10,(0,iC.Ix)(f.imageUrl,r);case 10:return s=e.sent.image_url,e.next=14,(0,sh.wH)({hierarchyId:n.id,image_url:s});case 14:i=(a=void 0===(a=(e.sent||{data:{}}).data)?{img_medium_url:s,img_small_url:s}:a).img_medium_url,l=a.img_small_url,n.img_medium_url=i,n.img_small_url=l,o(function(e){var t=e.hideToast;return(0,U.jsx)(Q.Z,{duration:v.QE,onHide:t,text:r._('Parent business photo successfully updated.', '[m10n]bizAccess.uploadBusinessHierarchyAvatarImage.successToast', 'Toast prompting business hierarchy avatar image has been updated successfully.')})}),A({businessHierarchy:n}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(7),P();case 27:return e.prev=27,y(!1),e.finish(27);case 30:e.next=34;break;case 32:P(),Promise.resolve();case 34:return e.abrupt("return",Promise.resolve());case 35:case"end":return e.stop()}},e,null,[[7,24,27,30]])})),function(){return t.apply(this,arguments)}),T=function(){ij(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"upload-business-hierarchy-avatar-image-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"next-button",business_id:l}),f.image?I():A({businessHierarchy:n});case 2:case"end":return e.stop()}},e)}))()};return(0,U.jsx)(Z.Z,{accessibilityLabel:x,primaryAction:(0,U.jsx)(m.zx,{accessibilityLabel:r._('Next', '[m10n]bizAccess.uploadBusinessHierarchyAvatarImage.nextButtonLabel.a11y', 'a11y Label for the button to go to the next modal step'),color:"red",disabled:b,onClick:function(){return T()},size:"lg",text:r._('Next', '[m10n]bizAccess.uploadBusinessHierarchyAvatarImage.nextButton.a11y', 'Button to go to the next modal step')}),size:"sm",title:E,children:(0,U.jsx)(m.xu,{marginBottom:4,children:(0,U.jsxs)(m.kC,{direction:"column",gap:6,children:[(0,U.jsx)(m.xv,{children:r._('Upload a profile picture for your parent business', '[m10n]bizAccess.uploadBusinessHierarchyAvatarImage.infoText', 'information about business hiearchies')}),(0,U.jsxs)(m.kC,{direction:"column",gap:2,children:[(0,U.jsx)(m.xv,{size:"100",children:r._('Parent business photo', '[m10n]bizAccess.uploadBusinessHierarchyAvatarImage.avatarDescription', 'Test that explains what the image is for')}),(0,U.jsxs)(m.kC,{alignItems:"center",direction:"row",gap:2,children:[(0,U.jsx)(tn.qE,{accessibilityLabel:r._('Business hierarchy avatar image', '[m10n]bizAccess.uploadBusinessHierarchyAvatarImage.avatarImage', 'a11y Label for Business hierarchy avatar image'),color:i,name:n.name,size:"lg",src:f.imageUrl}),(0,U.jsx)(iP.Z,{accept:(0,iI.Z)(s.userAgent.browserName).join(","),allowMultipleFiles:!1,color:"white",id:"asset-picker-upload",onChange:function(e){var t=(e.target.files?Array.from(e.target.files):[])[0];f.imageUrl&&URL.revokeObjectURL(f.imageUrl),h({image:t,imageUrl:URL.createObjectURL(t)})},children:function(){return(0,U.jsx)(m.xu,{"data-test-id":"upload-business-hierarchy-avatar-image",children:(0,U.jsx)(m.zx,{accessibilityLabel:r._('Upload label', '[m10n]bizAccess.uploadBusinessHierarchyAvatarImage.uploadLabel.a11y', 'a11y Label for the button to upload business hierarchy avatar image'),disabled:b,name:"Upload",text:f.imageUrl?r._('Change', '[m10n]bizAccess.uploadBusinessHierarchyAvatarImage.uploadButton.a11y', 'Button to upload business hierarchy avatar image'):r._('Upload', '[m10n]bizAccess.uploadBusinessHierarchyAvatarImage.uploadButton.a11y', 'Button to upload business hierarchy avatar image')})})}})]}),(0,U.jsx)(m.xv,{color:"subtle",size:"100",children:r._('Optional', '[m10n]bizAccess.uploadBusinessHierarchyAvatarImage.optionalLabel', 'Test that explains that the avatar image is optional')})]})]})})})},iR=function(e){var t,n=e.businessAccount,r=(0,a.s0)(),s=(0,u.Z)(),o=(0,L.HU)(),i=o.clearModal,l=o.setCreateBusinessHierarchyModal,d=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),_=(0,N.Z)(),f=(0,c._P)({id:1000483}),h=!!(f&&505651===f.experience_id),p=(s.isAuth?s.id:void 0)===n.user.id,b=(0,ov.mN)()(null!=(t=n.user.id)?t:""),y=null==b?void 0:b.avatar_color_index,v=!n.parentName,A=s.isAuth&&s.has_mfa_enabled||h;(0,ry.Z)(function(){d({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_VIEW_BUSINESS_DETAILS_MODAL",component_id:"view-business-details-modal",business_id:n.id})});var S=v?_._('Create a business hierarchy ', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.headingCreate', 'heading to create a new business hierarchy'):_._('Business Hierarchy', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.heading', 'Heading for the advanced settings section'),x=v?_._('View and manage your child businesses in one place. Save time with a view of all your business, employee and partner permissions and make changes at scale. ', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.headingCreate', 'description for advanced settings section to create a business hierarchy'):(0,R.nk)(_._('{{childBusinessName}} is a child business of {{parentBusinessName}}. To remove your business, contact support.', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.heading', 'Heading for the advanced settings section. childBusinessName: is the child business name, parentBusinessName: is the busines name the child belongs to'),{childBusinessName:n.user.full_name,parentBusinessName:n.parentName}).join(""),E=_._('Once you\u2019ve enabled two-factor authentication, return here to create your business hierarchy', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.mfaRequiredReason', 'text in tool tip and accessibility label to indicate why button is disabled');return(0,U.jsx)(m.xu,{"data-test-id":"view-business-details-modal",children:(0,U.jsxs)(Z.Z,{accessibilityLabel:_._('Edit business details title', '[m10n]businessAccess.viewBusinesDetails.modal.heading.a11y', 'A11y heading text for the edit business details modal'),hideCancelAction:!0,hideFooter:!0,onDismiss:function(){i()},size:600,title:_._('Edit business details', '[m10n]businessAccess.viewBusinesDetails.modal.heading', 'Heading text for the edit business details modal'),children:[(0,U.jsxs)(m.kC,{alignItems:"center",justifyContent:"start",children:[(0,U.jsx)(tn.qE,{color:y,name:n.user.full_name||"",size:"md",src:n.user.image_medium_url||""}),(0,U.jsxs)(m.kC,{alignItems:"center",justifyContent:"between",width:"100%",children:[(0,U.jsxs)(m.xu,{alignItems:"baseline",direction:"column",display:"flex",justifyContent:"between",marginStart:2,children:[(0,U.jsx)(m.xv,{size:"300",weight:"bold",children:n.user.full_name}),(0,U.jsx)(m.xv,{color:"subtle",size:"200",children:(0,R.nk)(_._('ID: {{id}}', '[m10n]businessAccess.viewBusinesDetails.modal.businessId', 'text showing the business account id with a description. id: id of the business account being detailed'),{id:n.id}).join("")})]}),p&&(0,U.jsx)(m.xu,{children:(0,U.jsx)(m.zx,{accessibilityLabel:_._('Go to edit business details', '[m10n]businessAccess.viewBusinesDetails.modal.updateBusinessDetails.button.a11y', 'A11y edit business details button text'),iconEnd:"arrow-up-right",onClick:function(){d({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"view-business-details-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"update-business-details-button",business_id:n.id}),r("/settings")},text:_._('Update', '[m10n]businessAccess.viewBusinesDetails.modal.updateBusinessDetails.button.text', 'Edit business details button text')})})]})]}),(0,U.jsx)(m.xu,{marginBottom:4,marginTop:4,children:(0,U.jsx)(m.xv,{children:_._('Additional features', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.heading', 'Heading for the advanced settings section')})}),(0,U.jsx)(m.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderColor:"#e9e9e9"}},marginBottom:6,padding:4,rounding:4,children:(0,U.jsxs)(m.kC,{direction:"column",gap:4,children:[(0,U.jsxs)(m.xu,{children:[(0,U.jsx)(m.xu,{marginBottom:1,children:(0,U.jsxs)(m.xv,{weight:"bold",children:[S,v&&(0,U.jsx)(m.Ct,{text:_._('New', '[m10n]bizAccess.viewBusinesDetails.titleBadge.new', 'badge to signify that this is a new feature'),type:"info"})]})}),(0,U.jsxs)(m.xv,{color:"dark",inline:!0,children:[x,v&&(0,U.jsx)(m.rU,{accessibilityLabel:_._('Learn more about creating business hierarchy', '\'[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.learnMore.ally', 'link to learn more about creating business hierarchy'),display:"inline",href:"".concat(aX.gOE,"business/article/create-and-manage-accounts"),target:"blank",children:_._('Learn more', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.learnMore', 'text for link to learn more')})]})]}),v&&!A&&(0,U.jsx)(m.he,{iconAccessibilityLabel:"s",message:(0,U.jsxs)(m.xv,{children:[_._('To create a business hierarchy, you must ', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.mfaRequired', 'text saying they must enable two factor authentication in order to create a business hierarchy'),(0,U.jsx)(m.rU,{accessibilityLabel:_._('go to security and logins to enable two factor authentication', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.mfaRequiredLink.a11y', 'ally label to click on link to go to security and logins'),display:"inline",href:"/settings/security",children:_._('enable two factor authentication', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.mfaRequiredLink', 'text in link at the end of sentence to enable two factor authentication')})]},"slim-banner-text"),type:"infoBare"}),v&&(0,U.jsxs)(m.kC,{alignContent:"center",justifyContent:"end",width:"100%",children:[(0,U.jsx)(m.zx,{accessibilityLabel:_._('Create business hierarchy', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.button.a11y', 'text in button to create new business hierarchy'),color:"red",dataTestId:"open-create-hierarchy-modal",disabled:!A,onClick:function(){l({businessAccount:n})},text:_._('Create business hierarchy', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.button', 'text in button to create new business hierarchy')}),!A&&(0,U.jsx)(m.hU,{accessibilityLabel:E,bgColor:"transparent",icon:"info-circle",size:"md",tooltip:{text:E,accessibilityLabel:"",zIndex:tb.b7}})]})]})})]})})};function iD(e){return(iD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ik(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=iD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iD(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iD(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var iU=function(e){switch(e.modalType){case"CREATE_PEOPLE":return{component:(0,U.jsx)(t_,{}),loggingConst:13632};case"CREATE_PEOPLE_INVITE_CONFIRMATION":return{component:(0,U.jsx)(sQ,iL({},e.modalProps)),loggingConst:13633};case"CREATE_PEOPLE_INVITE_WITH_ASSETS_CONFIRMATION":return{component:(0,U.jsx)(sJ,iL({},e.modalProps)),loggingConst:14154};case"EDIT_PERSON_ROLE":return{component:(0,U.jsx)(sY,iL({},e.modalProps)),loggingConst:13635};case"REMOVE_PERSON":return{component:(0,U.jsx)(oM,iL({},e.modalProps)),loggingConst:13634};case"REMOVE_PROFILE_PERMISSIONS":return{component:(0,U.jsx)(oZ,iL({},e.modalProps)),loggingConst:null};case"INVITE_REQUEST_PARTNER":return{component:(0,U.jsx)(s4,iL({},e.modalProps)),loggingConst:13636};case"CREATE_PARTNER_INVITE_CONFIRMATION":return{component:(0,U.jsx)(sq,iL({},e.modalProps)),loggingConst:13637};case"CREATE_PARTNER_REQUEST_CONFIRMATION":return{component:(0,U.jsx)(aj,iL({},e.modalProps)),loggingConst:13785};case"CREATE_PARTNER_REQUEST_CONFIRMATION_SUCCESS":return{component:(0,U.jsx)(aw,iL({},e.modalProps)),loggingConst:13785};case"REMOVE_CHILD_BUSINESS":return{component:(0,U.jsx)(og,{}),loggingConst:14434};case"REMOVE_ORGANIZATION_MANAGER":return{component:(0,U.jsx)(oC,{}),loggingConst:14443};case"REMOVE_PARTNER":return{component:(0,U.jsx)(ok,iL({},e.modalProps)),loggingConst:13646};case"REMOVE_SELF_EMPLOYEE":return{component:(0,U.jsx)(oV,iL({},e.modalProps)),loggingConst:13942};case"REMOVE_SHARED_PARTNER":return{component:(0,U.jsx)(o0,iL({},e.modalProps)),loggingConst:14153};case"REMOVE_SHARED_AD_ACCOUNT":return{component:(0,U.jsx)(oX,iL({},e.modalProps)),loggingConst:14171};case"CREATE_AD_ACCOUNT":return{component:(0,U.jsx)(s_,{}),loggingConst:13638};case"CREATE_AD_ACCOUNT_CONFIRMATION":return{component:(0,U.jsx)(sm,iL({},e.modalProps)),loggingConst:13639};case"ASSIGN_AD_ACCOUNTS":return{component:(0,U.jsx)(nU,iL({},e.modalProps)),loggingConst:13640};case"ASSIGN_PROFILES":return{component:(0,U.jsx)(rp,iL({},e.modalProps)),loggingConst:null};case"ASSIGN_AUDIENCES":return{component:(0,U.jsx)(rb.Z,iL({},e.modalProps)),loggingConst:null};case"ASSIGN_ASSETS":return{component:(0,U.jsx)(nY,iL({},e.modalProps)),loggingConst:null};case"REQUEST_AD_ACCOUNTS":return{component:(0,U.jsx)(ar,iL({},e.modalProps)),loggingConst:13786};case"REQUEST_CATALOG_ACCESS":return{component:(0,U.jsx)(ap,iL({},e.modalProps)),loggingConst:15094};case"REQUEST_AD_ACCOUNTS_GENERAL":return{component:(0,U.jsx)(au,iL({},e.modalProps)),loggingConst:14861};case"REQUEST_PROFILE_ACCESS":return{component:(0,U.jsx)(aI,iL({},e.modalProps)),loggingConst:14113};case"REQUEST_PROFILE_ACCESS_GENERAL":return{component:(0,U.jsx)(aC,{}),loggingConst:14860};case"EDIT_AD_ACCOUNT_ACCESS":return{component:(0,U.jsx)(sz,iL({},e.modalProps)),loggingConst:13641};case"REMOVE_AD_ACCOUNT_ACCESS":return{component:(0,U.jsx)(ol,iL({},e.modalProps)),loggingConst:13642};case"ONBOARDING":return{component:(0,U.jsx)(oe,iL({},e.modalProps)),loggingConst:13643};case"SWITCH_AD_ACCOUNT":return{component:(0,U.jsx)(M,iL({},e.modalProps)),loggingConst:13770};case"AOAA_PERMISSION_ASSIGNMENT":return{component:(0,U.jsx)(tG,iL({},e.modalProps)),loggingConst:null};case"UNSAVED_PERMISSIONS_CONFIRMATION":return{component:(0,U.jsx)(ix,iL({},e.modalProps)),loggingConst:null};case"AOAA_REQUEST_CREATION_SUCCESS":return{component:(0,U.jsx)(tF,iL({},e.modalProps)),loggingConst:null};case"ASSET_GROUPS_FORM":return{component:(0,U.jsx)(tW,iL({},e.modalProps)),loggingConst:null};case"SHARE_TAG_FORM":return{component:(0,U.jsx)(ii,iL({},e.modalProps)),loggingConst:null};case"SHARE_TAG_GET_STARTED_FORM":return{component:(0,U.jsx)(iS,iL({},e.modalProps)),loggingConst:null};case"SHARE_TAG_SUMMARY_FORM":return{component:(0,U.jsx)(il,iL({},e.modalProps)),loggingConst:null};case"SHARE_TAG_LEGAL_FORM":return{component:(0,U.jsx)(a8,iL({},e.modalProps)),loggingConst:null};case"DELETE_ASSET_GROUP_CONFIRMATION":return{component:(0,U.jsx)(sI,iL({},e.modalProps)),loggingConst:null};case"ADD_ASSET_OR_USER_TO_ASSET_GROUP":return{component:(0,U.jsx)(ek,iL({},e.modalProps)),loggingConst:null};case"ADD_USER_TO_ASSET_GROUP_CONFIRMATION":return{component:(0,U.jsx)(tR,iL({},e.modalProps)),loggingConst:null};case"REMOVE_ASSET_OR_USER_TO_ASSET_GROUP":return{component:(0,U.jsx)(oy,iL({},e.modalProps)),loggingConst:null};case"REMOVE_SYSTEM_USER_FROM_APP":return{component:(0,U.jsx)(o6,iL({},e.modalProps)),loggingConst:null};case"REMOVE_ASSET_FROM_TAG":return{component:(0,U.jsx)(om,iL({},e.modalProps)),loggingConst:null};case"REMOVE_DEFAULT_UTMS_CONFIRMATION":return{component:(0,U.jsx)(oI,iL({},e.modalProps)),loggingConst:null};case"EDIT_BUSINESS_DETAILS":return{component:(0,U.jsx)(sU,iL({},e.modalProps)),loggingConst:13942};case"VIEW_BUSINESS_DETAILS":return{component:(0,U.jsx)(iR,iL({},e.modalProps)),loggingConst:null};case"ADD_CHILD_BUSINESSES":return{component:(0,U.jsx)(eW,iL({},e.modalProps)),loggingConst:14435};case"ADD_CHILD_BUSINESSES_CONFIRMATION":return{component:(0,U.jsx)(e$,iL({},e.modalProps)),loggingConst:14436};case"ADD_ORGANIZATION_MANAGERS":return{component:(0,U.jsx)(tt,iL({},e.modalProps)),loggingConst:14466};case"ADD_ORGANIZATION_MANAGERS_CONFIRMATION":return{component:(0,U.jsx)(ts,iL({},e.modalProps)),loggingConst:14467};case"SELECT_AD_ACCOUNT_TO_SHARE_FROM":return{component:(0,U.jsx)(a2,{}),loggingConst:null};case"CREATE_BUSINESS_HIERARCHY":return{component:(0,U.jsx)(sg,iL({},e.modalProps)),loggingConst:13942};case"UPLOAD_BUSINESS_HIERARCHY_AVATAR_IMAGE":return{component:(0,U.jsx)(iN,iL({},e.modalProps)),loggingConst:13942};case"BUSINESS_HIERARCHY_CREATION_SUCCESS":return{component:(0,U.jsx)(rv,iL({},e.modalProps)),loggingConst:13942};case"ADD_AD_ACCOUNT":return{component:(0,U.jsx)(V,{}),loggingConst:null};case"CONFIRM_ASSET_ACCESS_REQUEST":return{component:(0,U.jsx)(rH,iL({},e.modalProps)),loggingConst:null};case"ASSIGN_CATALOG":return{component:(0,U.jsx)(nK,iL({},e.modalProps)),loggingConst:null};case"ADD_REQUIRED_RMAA_INFORMATION":return{component:(0,U.jsx)(tw,iL({},e.modalProps)),loggingConst:null};case"RMAA_UNCOMPLETE_MODAL":return{component:(0,U.jsx)(aQ,iL({},e.modalProps)),loggingConst:null};case"SAVED_RMAA_INFORMATION_SUCCESS":return{component:(0,U.jsx)(aW,iL({},e.modalProps)),loggingConst:null};case"ADD_CATALOG":return{component:(0,U.jsx)(eL,{}),loggingConst:null};case"REQUEST_CATALOGS_GENERAL":return{component:(0,U.jsx)(ag,iL({},e.modalProps)),loggingConst:null};case"REQUEST_CATALOGS":return{component:(0,U.jsx)(aA,iL({},e.modalProps)),loggingConst:null};case"CEE_MIGRATION_BUSINESS_INFORMATION_MODAL":return{component:(0,U.jsx)(rN,iL({},e.modalProps)),loggingConst:null};case"RESELLER_INVITE_SENT_SUCCESSFUL_MODAL":return{component:(0,U.jsx)(rD,iL({},e.modalProps)),loggingConst:null};case"RESELLER_INVITE_ACCEPTED_SUCCESSFUL_MODAL":return{component:(0,U.jsx)(rR,iL({},e.modalProps)),loggingConst:null};case"APP_SECRET_KEY_RESET":return{component:(0,U.jsx)(im,iL({},e.modalProps)),loggingConst:13942};case"ADD_EDIT_DOMAIN_RESTRICTIONS":return{component:(0,U.jsx)(e3,iL({},e.modalProps)),loggingConst:13942};case"REVOKE_CONVERSION_SEGMENT_ACCESS":return{component:(0,U.jsx)(sn,iL({},e.modalProps)),loggingConst:13942};case"REMOVE_CONVERSION_SEGMENT":return{component:(0,U.jsx)(r9,iL({},e.modalProps)),loggingConst:13942};case"DELETE_CONVERSION_SEGMENT":return{component:(0,U.jsx)(r$,iL({},e.modalProps)),loggingConst:13942};case"ASSIGN_AD_ACCOUNT_TO_CONVERSION_SEGMENT":return{component:(0,U.jsx)(rQ,iL({},e.modalProps)),loggingConst:13942};case"REMOVE_CONVERSION_DATA":return{component:(0,U.jsx)(r8,iL({},e.modalProps)),loggingConst:13942};case"REVOKE_CATALOG_ACCESS":return{component:(0,U.jsx)(aD,iL({},e.modalProps)),loggingConst:13942};default:return{component:null,loggingConst:null}}},iB=function(){var e=(0,S.u)().logContextEvent,t=(0,L.KJ)(),n=(0,L.dd)(),r=iU(n),s=r.component,o=r.loggingConst;return(0,_.useEffect)(function(){return s?(e({event_type:8962,component:o,aux_data:{business_id:t}}),function(){e({event_type:8963,component:o,aux_data:{business_id:t}})}):function(){}},[n]),s},iM=n(213491),iH=n(575820),iZ=n(81632),iG=(0,iM.Z)("IntentContext").Provider,iF=function(e){var t=e.children,n=(0,a.s0)(),r=(0,a.TH)(),s=(0,iH.mB)(r.search).intentType,o=(0,L.HU)(),i=o.setAddPeopleModal,l=o.setCreateAdAccountModal,c=o.setInviteRequestPartnerModal,u=function(e){switch(e){case"ADD_EMPLOYEE":i();break;case"CREATE_AD_ACCOUNT":l();break;case"INVITE_REQUEST_PARTNER":c()}},d=function(){n((0,iH.Gw)((0,iZ.Z)(),["intentType"]),{replace:!0})};return(0,ry.Z)(function(){s&&(u(s),d())}),(0,U.jsx)(iG,{value:{setIntent:u},children:t})},iY=n(680405),iV=n(42810),iq=n(416474),iQ=n(378951),iW=n(31593),iX=n(923769),iK=function(e){var t=(0,N.Z)(),n=e.employer,r=n.user,s=r.id,o=r.full_name,i=r.image_small_url,l=n.business_roles,c=e.onClose,d=(0,eG.Z)().params.userBizId,_=(void 0===l?[]:l)[0],f=(0,u.Z)(),h=f.isAuth?f.id:"",p=f.isAuth?null==f?void 0:f.avatar_color_index:void 0,b=(0,a.s0)(),y=s===d;return(0,U.jsx)(m.iP,{onTap:function(){y||(b((0,A.Z)("DASHBOARD",s)),c())},rounding:4,children:(0,U.jsxs)(m.xu,{display:"flex",justifyContent:"between",rounding:4,children:[(0,U.jsxs)(m.xu,{display:"flex",padding:1,children:[(0,U.jsx)(m.xu,{padding:2,children:(0,U.jsx)(m.qE,{color:p,name:o,size:"sm",src:i})}),(0,U.jsxs)(m.xu,{padding:1,children:[(0,U.jsx)(m.xv,{weight:"bold",children:(0,U.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{wordBreak:"break-all"}},children:o})}),(0,U.jsx)(m.xv,{color:"subtle",size:"100",children:h===s?t._('Your business', '[m10n]BizAccess.navigation.switcher.employerCard', 'This option is the viewer\'s own business'):(0,tN.B)(t)(_)})]})]}),(0,U.jsx)(m.xu,{alignItems:"center",display:"flex",padding:2,children:y&&(0,U.jsx)(m.JO,{accessibilityLabel:t._('Label for an icon marking the selected business', '[m10n]BizAccess.navigation.switcher.employerCard', 'selected a business to manage'),color:"default",icon:"check"})})]})})},i$=n(436029),iJ=n(338785);function i0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||i1(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i1(e,t){if(e){if("string"==typeof e)return i2(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i2(e,t):void 0}}function i2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i5=function(){var e=(0,N.Z)(),t=(0,eG.Z)().params.userBizId,n=(0,u.Z)(),r=n.isAuth?n.id:"",s=(0,f.I0)(),o=(0,f.v9)(a4.ZP),a=(0,f.v9)(a4.pf),i=i0((0,_.useState)(!1),2),l=i[0],c=i[1],d=i0((0,_.useState)(!1),2),h=d[0],p=d[1],b=(0,_.useRef)(null),y=(0,_.useRef)(null),A=new m.Ry(700),g=(0,j.Z)();(0,_.useEffect)(function(){s((0,i$.N)(g,r))},[r]),(0,_.useEffect)(function(){a&&(a.length>0&&!l?c(!0):0===a.length&&l&&c(!1))},[a,l,c]);var S=(0,_.useMemo)(function(){var e;return n&&o?[(0,iJ.Z)(n)].concat(function(e){if(Array.isArray(e))return i2(e)}(e=o.sort(function(e,t){return e.user.full_name<t.user.full_name?-1:+(e.user.full_name>t.user.full_name)}))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i1(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):[]},[o,n]);if(!o)return null;var x=S.map(function(e){return(0,U.jsx)(iK,{employer:e,onClose:function(){return p(!1)}},e.id)}),E=S.find(function(e){return e.user.id===t});if(!E)return null;var P=S.length>1,I=P?241:v.cg,T=function(e,t){return e.user.full_name?e.user[t]:""};return(0,U.jsxs)(_.Fragment,{children:[(0,U.jsxs)(m.xu,{alignItems:"center",color:P?"secondary":void 0,display:"flex",justifyContent:"between",marginEnd:P?"auto":void 0,marginStart:P?"auto":void 0,marginTop:6,paddingX:3,rounding:P?"pill":void 0,width:I,children:[(0,U.jsxs)(m.kC,{alignItems:"center",justifyContent:"start",maxWidth:I-(P?158:200),children:[(0,U.jsx)(m.xu,{padding:2,children:(0,U.jsx)(m.qE,{name:T(E,"full_name"),size:"sm",src:T(E,"image_small_url")})}),(0,U.jsxs)(m.xu,{ref:b,padding:1,width:P?158:200,children:[(0,U.jsx)(m.xv,{weight:"bold",children:T(E,"full_name")}),(0,U.jsx)(m.xv,{color:P?"default":"subtle",size:"100",children:(0,R.nk)(e._('Business ID: {{id}}', '[m10n]bizAccess.navigation.switcher.business.id', 'business id label'),{id:T(E,"id")})})]})]}),(0,U.jsx)(m.xu,{padding:2,children:P&&(0,U.jsx)(m.hU,{ref:y,accessibilityLabel:e._('Open Employer List', '[m10n]BizAccess.navigation.switcher.employerList.button', 'This button opens a list of business to choose from'),icon:"arrow-down",iconColor:"gray",onClick:function(){p(!h)},size:"sm"})})]}),l&&(0,U.jsx)(m.mh,{zIndex:A,children:(0,U.jsx)(m.J2,{_deprecatedShowCaret:!0,anchor:y.current,color:"deprecatedBlue",idealDirection:"up",onDismiss:function(){s(i$.i)},size:"xs",children:(0,U.jsx)(m.xu,{padding:3,children:(0,U.jsx)(m.xv,{align:"center",color:"inverse",children:(0,sr.Z)(e.ngettext('{{businessName}} now appears in your list of businesses', 'You have new businesses in your list of businesses', a.length, '[m10n]businessAccess.accountSwitcher.tooltip.newEmployers', 'Text for a tooltip that tells an employer of new employers in their account switcher'),{businessName:a[0]})})})})}),h&&(0,U.jsx)(m.mh,{children:(0,U.jsx)(m.J2,{anchor:b.current,idealDirection:"down",onDismiss:function(){p(!1)},positionRelativeToAnchor:!1,size:"sm",children:(0,U.jsx)(m.xu,{direction:"column",display:"flex",padding:1,rounding:4,width:"100%",children:x})})})]})},i6=n(554346),i3=n(587488),i8=n(190128),i4=n(497131),i7=n(340642);function i9(e){return(i9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function lt(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){le(o,r,s,a,i,"next",e)}function i(e){le(o,r,s,a,i,"throw",e)}a(void 0)})}}function ln(e,t,n){var r;return(r=function(e,t){if("object"!=i9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i9(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i9(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lr(e,t){if(e){if("string"==typeof e)return ls(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ls(e,t):void 0}}function ls(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var lo=function(e,t,n,r,s,o){if("EMPLOYEE"===t||n||o.isBusinessHierarchyAlphaEnabled&&s)return[];var a,i=[{key:v.Q6.USERS,label:r._('Members', '[m10n]bizAccess.nav.header.members', 'Side navigation collapsable item that includes members consisting of Employees and Partners'),icon:{label:"people",accessibilityLabel:r._('people', '[m10n]bizAccess.nav.header.usersIcon', 'Icon to represent users navigation section')},children:[{childKey:v.Q6.PEOPLE,childLabel:r._('Employees', '[m10n]bizAccess.nav.link.employees', 'Side navigation item to visit employee management section of the Business Manager')},{childKey:v.Q6.PARTNERS,childLabel:r._('Partners', '[m10n]bizAccess.nav.link.partner', 'Side navigation item to visit partner management section of the Business Manager')}].concat(function(e){if(Array.isArray(e))return ls(e)}(a=o.isSystemUsersEnabled?[{childKey:v.Q6.SYSTEM_USERS,childLabel:r._('System users', '[m10n]bizAccess.nav.link.systemUsers', 'Side navigation item to visit the system users page on business access')}]:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||lr(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},{key:v.Q6.ASSETS,label:r._('Assets', '[m10n]bizAccess.nav.header.assets', 'Side navigation collapsable item that includes accounts consisting of Ad Accounts and Profiles'),icon:{label:"ad-group",accessibilityLabel:r._('assets', '[m10n]bizAccess.nav.header.assetsIcon', 'Icon to represent assets navigation section')},children:[{childKey:v.Q6.AD_ACCOUNTS,childLabel:r._('Ad accounts', '[m10n]bizAccess.nav.link.assets', 'Side navigation item to visit ad account management section of the Business Manager')}]}];return i[1].children=i[1].children.concat([{childKey:v.Q6.PROFILES,childLabel:r._('Profiles', '[m10n]bizAccess.nav.link.profiles', 'Side navigation item to visit the profiles page on business access'),experience:{experienceId:504997,placementId:1000303}}]),i[1].children=i[1].children.concat([{childKey:v.Q6.ASSET_GROUPS,childLabel:r._('Asset groups', '[m10n]bizAccess.nav.link.assetGroups', 'Side navigation item to visit the asset groups page on business access')}]),o.isConversionDataEnabled&&(i[1].children=i[1].children.concat([{childKey:v.Q6.CONVERSION_DATA,childLabel:r._('Conversion data', '[m10n]bizAccess.nav.link.conversion_data', 'Side navigation item to visit the conversion data page on business access')}])),i[1].children=i[1].children.concat([{childKey:v.Q6.AUDIENCES,childLabel:r._('Audiences', '[m10n]bizAccess.nav.link.audiences', 'Side navigation item to visit the shared audiences page on business access')}]),o.catalogs&&(i[1].children=i[1].children.concat([{childKey:v.Q6.CATALOGS,childLabel:r._('Catalogs', '[m10n]bizAccess.nav.link.catalogs', 'Side navigation item to visit the catalogs page on business access')}])),o.sharedTags&&(i[1].children=i[1].children.concat([{childKey:v.Q6.SHARED_TAGS,childLabel:r._('Tags', '[m10n]bizAccess.nav.link.tags', 'Side navigation item to visit the sharedTags page on business access'),labelBadge:(0,U.jsx)(m.Ct,{position:"middle",text:r._('Alpha', '[m10n]bizAccess.tags.titleBadge.alpha', 'badge to signify that this is an alpha feature')})}])),o.isSystemUsersEnabled&&(i[1].children=i[1].children.concat([{childKey:v.Q6.APPS,childLabel:r._('Apps', '[m10n]bizAccess.nav.link.apps', 'Side navigation item to visit the apps page on business access')}])),i},la=function(e,t,n,r,s,o,a,i,l){if((s||o)&&r){var c=[{key:v.Q6.DASHBOARD,label:t._('Dashboard', '[m10n]bizAccess.nav.link.dashboard.redesign', 'Side navigation item to visit business user dashboard section of the Business Manager'),dataTestId:"Dashboard",icon:{svg:[iW.Z,iX.Z],accessibilityLabel:t._('dashboard', '[m10n]bizAccess.nav.link.dashboardIcon', 'Icon within side navigation item to visit business user dashboard section of the Business Manager')},logger:l}];return n||(c.push({key:v.Q6.BUSINESS_HIERARCHY,label:t._('Business hierarchy', '[m10n]bizAccess.nav.link.businessHierarchy', 'Side navigation item to visit business hierarchy section of the Business Manager'),dataTestId:"Business hierarchy",icon:{svg:[iq.Z,iQ.Z],accessibilityLabel:t._('business hierarchy', '[m10n]bizAccess.nav.link.businessHierarchyIcon', 'Icon within side navigation item to visit business hierarchy section of the Business Manager')},logger:l},{key:v.Q6.MANAGERS,label:t._('Managers', '[m10n]bizAccess.nav.link.managers', 'Side navigation item to visit managers section of the Business Manager'),dataTestId:"Managers",icon:{label:"people",accessibilityLabel:t._('managers', '[m10n]bizAccess.nav.link.managersIcon', 'Icon within side navigation item to visit managers section of the Business Manager')},logger:l}),c.push({key:v.Q6.BUSINESS_HIERARCHY_BUSINESS_SECURITY,label:t._('Business security', '[m10n]bizAccess.nav.link.security', 'Side navigation item to visit business security section of Business Hierarchy'),dataTestId:"Business security",labelBadge:(0,U.jsx)(m.Ct,{position:"middle",text:t._('New', '[m10n]bizAccess.businessHierarchyBusinessSecurity.titleBadge.new', 'badge to signify that this is a new feature')}),icon:{label:"security",accessibilityLabel:t._('business hierarchy business security', '[m10n]bizAccess.nav.link.businessHierarchy.businessSecurityIcon', 'Icon within side navigation item to visit business security section of Business Hierarchy')},logger:l})),c}return[{key:v.Q6.DASHBOARD,label:t._('Dashboard', '[m10n]bizAccess.nav.link.dashboard.redesign', 'Side navigation item to visit business user dashboard section of the Business Manager'),dataTestId:"Dashboard",icon:{svg:[iW.Z,iX.Z],accessibilityLabel:t._('dashboard', '[m10n]bizAccess.nav.link.dashboardIcon', 'Icon within side navigation item to visit business user dashboard section of the Business Manager')}}]},li=function(e,t,n,r,s,o){var a={key:v.Q6.INVOICE_MANAGEMENT,label:n._('Invoice management', '[m10n]bizAccess.nav.link.invoicemanagement', 'Side navigation item to visit invoice management section of the Business Manager'),dataTestId:"INVOICE_MANAGEMENT",icon:{label:"invoice",accessibilityLabel:n._('invoice', '[m10n]bizAccess.nav.link.invoiceManagementIcon', 'Icon within side navigation item to visit business invoice management section of the Business Manager')},labelBadge:(0,U.jsx)(m.Ct,{position:"middle",text:n._('Beta', '[m10n]bizAccess.billing.invoice_access.badge', 'Badge for invoice management indicating that this is still a beta feature')})},i={key:v.Q6.SHARED_TAGS,label:n._('Tags', '[m10n]bizAccess.nav.link.tagsAgency', 'Side navigation item to visit the sharedTags page on business access'),dataTestId:"SHARED_TAGS",icon:{label:"ad-group",accessibilityLabel:n._('tags', '[m10n]bizAccess.nav.header.shareTagIcon', 'Icon to represent tags navigation section')}},l=[];return"EMPLOYEE"===e||t||s.isBusinessHierarchyAlphaEnabled&&r?("EMPLOYEE"===e&&s.invoiceManagementUi&&l.push(a),"EMPLOYEE"===e&&s.sharedAgencyTags&&o&&l.push(i)):(s.invoiceManagementUi&&l.push(a),s.brandSafety&&l.push({key:v.Q6.BRAND_SAFETY,label:n._('Brand safety', '[m10n]bizAccess.nav.link.brandSafety', 'Side navigation item to visit the brand safety page of Business Manager'),dataTestId:"BRAND_SAFETY",icon:{label:"protect",accessibilityLabel:n._('brand safety', '[m10n]bizAccess.nav.link.brandSafetyIcon', 'Icon within side navigation item to visit brand safety page of Business Manager')},labelBadge:(0,U.jsx)(m.Ct,{position:"middle",text:n._('New', '[m10n]bizAccess.brandSafety.titleBadge.new', 'badge to signify that this is a new feature')})}),s.mfaEnforcement&&!s.isBusinessSettingsEnabled?l.push({key:v.Q6.BUSINESS_SECURITY,label:n._('Business security', '[m10n]bizAccess.nav.link.businessSecurity', 'Side navigation item to visit the business security page on business access'),dataTestId:"BUSINESS_SECURITY",icon:{label:"security",accessibilityLabel:n._('security', '[m10n]bizAccess.nav.header.securityIcon', 'Icon to represent business security navigation section')},experience:{experienceId:505046,placementId:1000303}}):s.mfaEnforcement&&s.isBusinessSettingsEnabled&&l.push({key:v.Q6.BUSINESS_SETTINGS,label:n._('Business settings', '[m10n]bizAccess.nav.link.businessSettings', 'Side navigation item to visit the business settings page on business manager'),dataTestId:"BUSINESS_SETTINGS",icon:{label:"security",accessibilityLabel:n._('security', '[m10n]bizAccess.nav.header.securityIcon', 'Icon to represent business security navigation section')},labelBadge:(0,U.jsx)(m.Ct,{position:"middle",text:n._('New', '[m10n]bizAccess.settings.titleBadge.new', 'badge to signify that this is a new feature')})}),l.push({key:v.Q6.HISTORY,label:n._('History', '[m10n]bizAccess.nav.link.history', 'Side navigation item to visit history section of the Business Manager'),dataTestId:"HISTORY",icon:{label:"history",accessibilityLabel:n._('history', '[m10n]bizAccess.nav.link.historyIcon', 'Icon within side navigation item to visit business history section of the Business Manager')}})),l},ll=function(e,t,n,r,s,o,a){var i=[];if(o.rmnHub){var l={key:"MEDIA_NETWORK_HUB",label:r._('Media Network Hub', '[m10n]bizAccess.nav.header.mediaNetworkHub', 'Side navigation section for Media Network Hub'),hideHeader:!0,marginBottom:4,topItems:[{key:v.Q6.MEDIA_NETWORK_DASHBOARD,label:r._('Media Network Hub', '[m10n]bizAccess.nav.link.mediaNetworkDashboard', 'Side navigation item to visit media network dashboard section of the Business Manager'),dataTestId:v.Q6.MEDIA_NETWORK_DASHBOARD,icon:{label:"globe",accessibilityLabel:r._('dashboard', '[m10n]bizAccess.nav.link.mediaNetworkDashboardIcon', 'Icon within side navigation item to visit media network dashboard')}}]};i.push(l);var c={key:"MY_BUSINESS",label:r._('My business', '[m10n]bizAccess.nav.header.myBusiness', 'Side navigation section for My Business'),topItems:la(t,r,n,s,o.isBusinessHierarchyAlphaEnabled,o.isBusinessHierarchyBetaEnabled,o.isBusinessHierarchyGateEnabled,!1),groups:lo(e,t,n,r,s,o),bottomItems:li(t,n,r,s,o,a)};return i.push(c),i}},lc=(ln(o={},v.Q6.DASHBOARD,v.Q6.DASHBOARD),ln(o,v.Q6.MEDIA_NETWORK_DASHBOARD,v.Q6.MEDIA_NETWORK_DASHBOARD),ln(o,v.Q6.PEOPLE,v.Q6.PEOPLE),ln(o,v.Q6.PEOPLE_DETAIL,v.Q6.PEOPLE),ln(o,v.Q6.PARTNERS,v.Q6.PARTNERS),ln(o,v.Q6.PARTNERS_DETAIL,v.Q6.PARTNERS),ln(o,v.Q6.SHARED_PARTNERS_DETAIL,v.Q6.PARTNERS),ln(o,v.Q6.AD_ACCOUNTS,v.Q6.AD_ACCOUNTS),ln(o,v.Q6.AD_ACCOUNTS_DETAIL,v.Q6.AD_ACCOUNTS),ln(o,v.Q6.AD_ACCOUNTS_PENDING_TAB,v.Q6.AD_ACCOUNTS),ln(o,v.Q6.PENDING_AD_ACCOUNTS_DETAIL,v.Q6.AD_ACCOUNTS),ln(o,v.Q6.HISTORY,v.Q6.HISTORY),ln(o,v.Q6.CHOOSER,v.Q6.CHOOSER),ln(o,v.Q6.PROFILES,v.Q6.PROFILES),ln(o,v.Q6.ASSET_GROUPS,v.Q6.ASSET_GROUPS),ln(o,v.Q6.PROFILES_DETAIL,v.Q6.PROFILES),ln(o,v.Q6.PARTNERS_PENDING_TAB,v.Q6.PARTNERS),ln(o,v.Q6.PEOPLE_PENDING_TAB,v.Q6.PEOPLE),ln(o,v.Q6.BUSINESS_SECURITY,v.Q6.BUSINESS_SECURITY),ln(o,v.Q6.INVOICE_MANAGEMENT,v.Q6.INVOICE_MANAGEMENT),ln(o,v.Q6.BUSINESS_HIERARCHY,v.Q6.BUSINESS_HIERARCHY),ln(o,v.Q6.BUSINESS_HIERARCHY_BUSINESS_SECURITY,v.Q6.BUSINESS_HIERARCHY_BUSINESS_SECURITY),ln(o,v.Q6.MANAGERS,v.Q6.MANAGERS),ln(o,v.Q6.AUDIENCES,v.Q6.AUDIENCES),ln(o,v.Q6.SHARED_TAGS,v.Q6.SHARED_TAGS),ln(o,v.Q6.CATALOGS,v.Q6.CATALOGS),ln(o,v.Q6.CATALOGS_DETAIL,v.Q6.CATALOGS_DETAIL),ln(o,v.Q6.BRAND_SAFETY,v.Q6.BRAND_SAFETY),ln(o,v.Q6.AD_ACCOUNTS_CEE_MIGRATION,v.Q6.AD_ACCOUNTS_CEE_MIGRATION),ln(o,v.Q6.BUSINESS_SETTINGS,v.Q6.BUSINESS_SETTINGS),ln(o,v.Q6.SYSTEM_USERS,v.Q6.SYSTEM_USERS),ln(o,v.Q6.APPS,v.Q6.APPS),ln(o,v.Q6.CONVERSION_DATA,v.Q6.CONVERSION_DATA),o),lu=function(e){var t=[v.Q6.PEOPLE,v.Q6.PEOPLE_DETAIL,v.Q6.PEOPLE_PENDING_TAB,v.Q6.PARTNERS,v.Q6.PARTNERS_DETAIL,v.Q6.SHARED_PARTNERS_DETAIL,v.Q6.PARTNERS_PENDING_TAB,v.Q6.SYSTEM_USERS],n=[v.Q6.AD_ACCOUNTS,v.Q6.AD_ACCOUNTS_DETAIL,v.Q6.AD_ACCOUNTS_PENDING_TAB,v.Q6.PENDING_AD_ACCOUNTS_DETAIL,v.Q6.AD_ACCOUNTS_CEE_MIGRATION,v.Q6.PROFILES,v.Q6.PROFILES_DETAIL,v.Q6.ASSET_GROUPS,v.Q6.AUDIENCES,v.Q6.CATALOGS,v.Q6.CATALOGS_DETAIL,v.Q6.SHARED_TAGS,v.Q6.APPS,v.Q6.CONVERSION_DATA];return t.includes(e)?"USERS":n.includes(e)?"ASSETS":null},ld=function(e){var t,n=e.pageType,r=e.width,s=(0,f.I0)();(0,c.Ow)(1000483);var o=(0,c._P)({id:1000483}),i=!!(o&&505651===o.experience_id),l=(0,N.Z)(),d=(0,I.Z)().checkExperiment,p=(0,eG.Z)().params,b=p.businessHierarchyId,S=p.userBizId,x=(0,a.s0)(),E=(0,L.KJ)(),P=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||lr(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),C=P[0],O=P[1],j=(0,f.v9)(a4.ZP),z=(0,u.Z)(),w=(0,g.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),R=(0,iV.Z)(z),D=(0,iY.N)().is_sterling_on_steroids,k=(0,y.g)().businessHierarchies,B=(0,f.v9)(i7.gs);(0,_.useEffect)(function(){var e,t=(e=lt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i8.dB)(E);case 3:t=e.sent,s((0,i4.w)(t.length>0?"ALLOWED":"NOT-ALLOWED")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s((0,i4.w)("NOT-ALLOWED"));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return e.apply(this,arguments)});"PROGRESS"===B&&t()},[s,B,E]);var M={mfaEnforcement:d("ba_mfa_enabled").anyEnabled,invoiceManagementUi:"ALLOWED"===B,isBusinessHierarchyAlphaEnabled:d("web_m10n_business_hierarchy_alpha").anyEnabled,isBusinessHierarchyBetaEnabled:d("web_m10n_business_hierarchy_beta").anyEnabled,isBusinessHierarchyGateEnabled:i,inAccountSwitcherExperiment:(0,h.Z)(),sharedTags:d("web_m10n_business_access_tag_sharing").anyEnabled,sharedAgencyTags:d("web_m10n_business_access_agency_tag_sharing").anyEnabled,catalogs:d("web_m10n_business_access_catalogs").anyEnabled,brandSafety:d("web_m10n_business_access_brand_safety").anyEnabled,isBusinessSettingsEnabled:d("web_m10n_business_manager_business_settings").anyEnabled,isSystemUsersEnabled:d("web_m10n_system_user").anyEnabled,isConversionDataEnabled:d("web_business_access_conversion_sharing").anyEnabled,rmnHub:d("web_m10n_rmn_hub").anyEnabled&&d("business_access_rmn_foundations").anyEnabled},H=z.isAuth?z.id:"";(0,_.useEffect)(function(){if(M.rmnHub&&!(M.isBusinessHierarchyAlphaEnabled&&b)){var e=lu(n);s({type:"SET_INITIAL_COLLAPSED_STATE",payload:{usersCollapsed:"USERS"!==e,accountsCollapsed:"ASSETS"!==e}})}},[s,M.rmnHub,M.isBusinessHierarchyAlphaEnabled,b,n]),(0,_.useEffect)(function(){if(d("web_m10n_business_access_agency_tag_sharing").anyEnabled&&E){var e;(e=lt(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,tU.QC)({id:E,businessId:E,personId:H,startIndex:0,page:1,searchBy:"name",searchTerm:"",sortBy:"name",sortDirection:"ASCENDING",includeAssetSummary:!1});case 2:(n=(t=e.sent).data.data&&Object.values(t.data.data)).length>0&&(r=[v.gO.CAMPAIGN_MANAGER,v.gO.ADMIN],n.some(function(e){return r.some(function(t){return e.permissions.includes(t)})})&&O(!0));case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()}},[E,H,d]);var Z=(0,tN._4)(j,E,k,M.isBusinessHierarchyBetaEnabled),G=(0,i6.Z)(Z,E,b).viewerNeedsToSetupMfa;if(!j||null==R||"PROGRESS"===B)return null;var F=T.Z,Y=(0,U.jsxs)(m.xu,{as:"nav","data-test-id":"business-manager-navigation-sidebar",height:M.isBusinessHierarchyBetaEnabled?"calc(100% - ".concat(lb+F,"px)"):void 0,overflow:M.isBusinessHierarchyBetaEnabled?"auto":void 0,children:[!M.isBusinessHierarchyAlphaEnabled&&(0,U.jsx)(i5,{}),(0,U.jsx)(i3.Z,{bottomItems:li(Z,G,l,b,M,C),groups:lo(S,Z,G,l,b,M),onChange:function(e){var t=e.activeItem;b?x((0,A.Z)(t,null,null,b)):x((0,A.Z)(t,S))},sections:M.isBusinessHierarchyAlphaEnabled&&b?void 0:ll(S,Z,G,l,b,M,C),selectedItem:lc[n],topItems:la(Z,l,G,b,M.isBusinessHierarchyAlphaEnabled,M.isBusinessHierarchyBetaEnabled,M.isBusinessHierarchyGateEnabled,D,w),width:r})]});return M.isBusinessHierarchyBetaEnabled&&(Y=(0,U.jsx)(m.xu,{height:"100%",position:"fixed",children:Y})),(0,U.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid #efefef"}},height:"100%",overflow:"hidden",width:"100%",children:Y})};function l_(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var lf=function(e){var t,n;return t=regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_ACTING_USER"}),t.prev=1,t.next=4,(0,D.b)(e);case 4:n({type:"GET_ACTING_USER_SUCCESS",payload:t.sent}),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(1),n({type:"GET_ACTING_USER_ERROR",error:t.t0}),t.t0;case 12:case"end":return t.stop()}},t,null,[[1,8]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){l_(o,r,s,a,i,"next",e)}function i(e){l_(o,r,s,a,i,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}},lm=n(37755),lh=n(237480),lp=n(969623),lb=80,ly=function(e){var t=e.children;return(0,U.jsx)(C.g,{children:(0,U.jsx)(iF,{children:t})})},lv=function(e){var t=(0,S.u)().logContextEvent,n=(0,L.HU)(),r=n.setRouterParams,s=n.businessAccess.lastFetchedBusinessId,o=n.setLastFetchedBusinessId,l=n.setBusinessExperiments,c=e.children,C=e.pageType,z=(0,a.TH)(),w=(0,a.s0)(),N=(0,eG.Z)().params,R=N.userBizId,D=N.detailId,k=(0,i.Z)(),B=(0,u.Z)(),M=B.isAuth?B.id:"",H=(0,f.I0)(),Z=(0,f.v9)(a4.ZP),G=(0,f.v9)(a4.$H),F=(0,g.ZP)((0,g.QK)(C)),Y=(0,I.Z)().checkExperiment,V=Y("web_m10n_business_hierarchy_alpha").anyEnabled,q=(0,h.Z)(),Q=Y("web_m10n_business_hierarchy_beta").anyEnabled,W=Y("web_m10n_business_access_tag_sharing").anyEnabled,X=Y("web_m10n_business_access_agency_tag_sharing").anyEnabled,K=Y("web_m10n_business_access_brand_safety").anyEnabled,$=Y("business_access_business_level_experiment_status").anyEnabled,J=(0,j.Z)(),ee=(0,y.g)(),et=ee.businessHierarchies,en=ee.loadingAccounts,er=ee.fetchData,es=(0,b.NM)().setSelectedAccount,eo=(0,_.useMemo)(function(){return(0,P.or)(z)},[z]),ea=(0,O.Z)(eo,!0),ei=ea.loading,el=ea.data;(0,_.useEffect)(function(){if(!ei&&C&&R&&Z){var e=(0,tN._4)(Z,R,et,Q);if(eo){var n=!!el&&el.adAccountsToMigrate.length>0;if(![v.V3.BIZ_ADMIN,v.V3.OWNER].some(function(t){return t===e})||!n){es({type:p.Oz.BUSINESS_ACCOUNT,id:M,name:B.isAuth&&B.fullName||"",img:B.isAuth&&B.imageMediumUrl||"",ownerImg:B.isAuth&&B.imageMediumUrl||"",ownerName:B.isAuth&&B.fullName||"",actingBusinessFullName:B.isAuth&&B.fullName||""}),w((0,A.Z)("DASHBOARD",M));return}}F({eventName:"BUSINESS_ACCESS_PAGE_VIEW",business_role:e}),t({event_type:8960,component:(0,lp.Z)(C),aux_data:{business_id:R,session_id:k,business_role:e}}),(0,tg.nP)("web.business_access.page.view",{sampleRate:1,tags:{pageType:C}})}},[C,R,Z,et,eo,el,ei]),(0,_.useEffect)(function(){$&&R&&R!==s&&((0,L.Dl)(R,l),o(R))},[R,s,o,l,$]),(0,_.useEffect)(function(){H((0,i$.N)(J,M))},[M]),(0,_.useEffect)(function(){er()},[er]);var ec=C&&C.includes("DETAIL");if((0,_.useEffect)(function(){R&&(H(lf(R)),(!ec||D)&&(r({businessId:R,detailId:D}),H((0,aM.C)({businessId:R,detailId:D}))))},[R,D]),(0,_.useEffect)(function(){"DASHBOARD"===C&&H(lh.p)},[C]),(0,_.useEffect)(function(){"DASHBOARD"===C&&H((0,lm.O)(R||""))},[C]),(0,_.useEffect)(function(){if(!eo&&Z&&(!Q||!en||!ei)){var e,t,n,r=Z.filter(function(e){return e.business_roles.includes("BIZ_ADMIN")}).sort(function(e,t){return e.user.full_name.localeCompare(t.user.full_name)}),s=et.filter(function(e){return"BUSINESS_HIERARCHY"===e.entity_type}),o=Q&&s.some(function(e){var t;return null==(t=e.children)?void 0:t.some(function(e){return e.user.id===R})});(!en&&R&&R!==M&&!(Z.some(function(e){return e.id===R})||o)||(e=z.pathname).endsWith("business-access/")||e.endsWith("business-access")||e.endsWith("business-manager/")||e.endsWith("business-manager"))&&(q&&0!==s.length?(t={type:p.Oz.BUSINESS_HIERARCHY,id:s[0].id,name:s[0].name||"",img:s[0].img_medium_url||""},n=(0,A.Z)("DASHBOARD",null,null,s[0].id)):0!==r.length?(n=(0,A.Z)("DASHBOARD",r[0].id),t={type:p.Oz.BUSINESS_ACCOUNT,id:r[0].id,name:(r[0].user||{}).full_name,img:(r[0].user||{}).image_medium_url}):0!==Z.length?(n=(0,A.Z)("DASHBOARD",Z[0].id),t={type:p.Oz.BUSINESS_ACCOUNT,id:Z[0].id,name:(Z[0].user||{}).full_name,img:(Z[0].user||{}).image_medium_url}):(n=(0,A.Z)("DASHBOARD",M),t={type:p.Oz.BUSINESS_ACCOUNT,id:M,name:B.isAuth&&B.fullName||"",img:B.isAuth&&B.imageMediumUrl||"",ownerImg:B.isAuth&&B.imageMediumUrl||"",actingBusinessFullName:B.isAuth&&B.fullName||""}),es(t),w(n)),!R||R===M||r.find(function(e){return e.id===R})||o||z.pathname.includes("dashboard")||z.pathname.includes("invoice-management")||W&&X&&(0,P.Q8)(z)||w((0,A.Z)("DASHBOARD",R))}},[Z,en,ei,eo]),G)throw G;if(!Z||Q&&en||ei)return(0,U.jsx)(m.kC,{alignContent:"center",height:"calc(100vh - ".concat(lb,"px)"),width:"100%",children:(0,U.jsx)(ri.Z,{})});var eu=V&&((0,P.Y8)(z)||(0,P.lY)(z)||(0,P.dK)(z)||(0,P.dm)(z)||(0,P.N6)(z)||(0,P.QD)(z)||(0,P.H_)(z)||(0,P.Lj)(z))||!!(0,a.LX)({path:"/business/business-access/:businessId/employees/:userBizId/details",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/employees/:userBizId/details",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/partners/:partnerId/details",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/partners/:partnerId/details",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/shared/:sharedPartnerId/details",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/shared/:sharedPartnerId/details",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/ad-accounts/pending/:detailId/details",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/ad-accounts/pending/:detailId/details",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/ad-accounts/:detailId/details",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/ad-accounts/:detailId/details",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/profiles/:detailId/details",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/profiles/:detailId/details",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/employees",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/employees",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/employees/pending",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/employees/pending",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/partners",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/partners",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/partners/pending",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/partners/pending",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/ad-accounts",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/ad-accounts",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/ad-accounts/pending",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/ad-accounts/pending",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/ad-accounts/cee-migration",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/history",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/history",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/profiles",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/profiles",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/settings",end:!0},z.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/media-network-hub/dashboard",end:!0},z.pathname)||W&&((0,P.Q8)(z)||X)||K&&(0,P.Y_)(z)||(0,P.mW)(z),ed=T.Z,e_=(0,U.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:eu?x.W6M:E.Wyp}},"data-test-id":"".concat(C,"-page"),minHeight:Q?"calc(100vh - ".concat(lb+ed,"px)"):void 0,minWidth:1e3,width:Q?void 0:"calc(100% - ".concat(v.cg,"px)"),children:(0,U.jsxs)(d.ZP,{errorType:"PARTIAL",name:"businessAccessPage",pageType:C,children:[eu&&c,!eu&&(0,U.jsx)(m.xu,{padding:6,children:c})]})});return Q&&(e_=(0,U.jsx)(m.xu,{overflow:"auto",width:"100%",children:e_})),(0,U.jsx)(m.xu,{minWidth:Q?void 0:1024,children:(0,U.jsx)(d.ZP,{errorType:"FULL_PAGE",name:"businessAccessRoot",pageType:C,children:(0,U.jsxs)(ly,{children:[(0,U.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",minHeight:"calc(100vh - ".concat(lb+ed,"px)"),width:"100%",children:[(0,U.jsx)(m.xu,{minHeight:"100%",minWidth:Q?v.cg:void 0,width:v.cg,children:(0,U.jsx)(ld,{pageType:C,width:v.cg})}),e_]}),(0,U.jsx)(d.ZP,{errorType:"MODAL",name:"businessAccessModal",pageType:C,children:(0,U.jsx)(iB,{})})]})})})},lA=(0,c.RL)(1000303)(function(e){var t=e.children,n=e.pageType,r=(0,i.Z)(),s=(0,eG.Z)().params.userBizId;(0,l.Q)({view_type:465,aux_data:{session_id:r,business_id:s}},r);var o=(0,u.Z)(),c=(0,a.s0)();return o.isAuth&&o.isPartner?(0,U.jsx)(d.ZP,{errorType:"FULL_PAGE",name:"businessAccessRouteWrapper",pageType:n,children:(0,U.jsx)(lv,{pageType:n,children:t})}):(c("/",{replace:!0}),null)})},566373:function(e,t,n){"use strict";var r=n(20256),s=n(24246),o=n(680811);t.Z=function(e){var t=e.errorMessages,n=e.messageToDisplay,a=e.useRedStyle,i=(0,s.Z)();if(0===t.length)return null;var l=0===t.length?null:Array.isArray(t)&&t.length>0&&"string"==typeof t[0]?t.map(function(e,t){return(0,o.jsx)("li",{style:{listStyle:"disc",marginLeft:"28px"},children:(0,o.jsx)(r.xv,{size:"300",children:e})},t)}):t;return(0,o.jsxs)(r.xu,{alignItems:"center",borderStyle:a?void 0:"sm",color:a?"errorWeak":void 0,display:"flex",marginTop:4,padding:4,rounding:2,children:[a&&(0,o.jsx)(r.xu,{marginEnd:2,children:(0,o.jsx)(r.JO,{accessibilityLabel:i._('Problem', '[m10n]bizAccess.issues.heading.icon.problem', 'Accessibility text to icon on heading before the list of problems found in the invitees list'),color:"error",icon:"workflow-status-problem",size:20})}),(0,o.jsx)(r.xu,{children:(0,o.jsxs)(r.st,{children:[(0,o.jsx)(r.kC,{direction:"row",children:!a&&(0,o.jsx)(r.xu,{marginEnd:2,children:(0,o.jsx)(r.JO,{accessibilityLabel:i._('Warning', '[m10n]bizAccess.issues.heading.icon', 'Accessibility text to icon on heading before the list of issues found in the invitees list'),color:"error",icon:"workflow-status-warning",size:20})})}),n||(0,o.jsx)("ul",{children:l})]})})]})}},946659:function(e,t,n){"use strict";var r=n(387784),s=n(20256),o=n(143754),a=n(24246),i=n(501010),l=n(545299),c=n(900373),u=n(591786),d=n(680811);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e,t){return function(n,r){return{value:n,label:(0,u.e6)(e,t)(n),subtext:(0,u.To)(e)(n,r,!1,t)}}};t.Z=function(e){var t=e.onChange,n=e.noAccessAllowed,f=e.permissions,h=e.ownerRoles,p=e.id,b=e.assetType,y=e.isForRequestAdAccountAccess,v=e.disabled,A=void 0!==v&&v,g=e.resetAccess,S=void 0!==g&&g,x=e.errorMessage,E=e.textfieldLabel,P=e.includeMarginBottom,I=e.showNewTextFieldView,T=(0,i.Z)().checkExperiment,C=T("web_m10n_business_access_catalogs").anyEnabled,O=T("web_business_access_finance_manager_role").anyEnabled,j=(0,a.Z)(),z=new s.Ry(1e3),w=new s.H3([c.C,z]),N=_((0,r.useState)(!1),2),R=N[0],D=N[1],k=_((0,r.useState)(f),2),L=k[0],U=k[1],B=(0,r.useRef)(null),M="PROFILE"===b,H=(0,l.p)(h,void 0!==n&&n,b||"AD_ACCOUNT",C,C&&"CATALOG"===b?["CATALOGS_MANAGER"]:[]),Z=void 0!==y&&y?j._('Select permission', '[m10n]bizAccess.accessControlFlyout.new.permissionsPlaceholder', 'Placeholder for selecting permissions'):j._('Select access', '[m10n]bizAccess.accessControlFlyout.permissionsPlaceholder', 'Placeholder for selecting permissions'),G=L.includes("ADMIN")?(0,u.e6)(j,"CATALOG"===b)("ADMIN"):L.map((0,u.e6)(j,"CATALOG"===b)).join((0,o.bH)(j)),F=L.length>0?G:Z,Y=L.length>0?"default":"subtle",V=(0,d.jsxs)(s.xu,{ref:B,alignItems:"center",display:"flex",id:"".concat(p,"-flyout"),justifyContent:"between",width:"100%",children:[(0,d.jsx)(s.nv,{disabled:A,errorMessage:x,id:"".concat(p,"-textfield"),onBlur:function(){},onChange:function(){},onFocus:function(){},onKeyDown:function(){},placeholder:Z,size:"md",value:G}),(0,d.jsx)(s.xu,{marginBottom:5*!!x,children:(0,d.jsx)(s.hU,{accessibilityLabel:j._('Change access permissions', '[m10n]bizAccess.business.accessRolesEditorFlyout', 'Click to change access permissions for an ad account'),bgColor:"transparent",disabled:A,icon:"arrow-down",iconColor:"darkGray",onClick:function(){R&&t(L),D(!R)},size:"xs"})})]}),q=(0,d.jsx)(s.xu,{ref:B,dangerouslySetInlineStyle:{__style:{border:"1px solid #757569"}},height:E?56:36,rounding:3,children:(0,d.jsx)(s.kC,{direction:"column",height:"100%",justifyContent:"center",children:(0,d.jsxs)(s.xu,{padding:2,children:[E&&(0,d.jsx)(s.__,{htmlFor:"adAccountsPermissions",children:(0,d.jsx)(s.xv,{size:"100",children:E})}),(0,d.jsxs)(s.kC,{alignItems:E?"start":"center",direction:"row",height:"100%",justifyContent:"between",children:[(0,d.jsx)(s.xv,{color:Y,lineClamp:1,children:F}),(0,d.jsx)(s.xu,{marginEnd:1,children:(0,d.jsx)(s.JO,{accessibilityLabel:j._('Change access permissions', '[m10n]bizAccess.business.accessRolesEditorFlyout', 'Click to change access permissions for an ad account'),color:"default",icon:"arrow-down",inline:!0,size:12})})]})]})})});return(0,r.useEffect)(function(){S&&U([])},[S]),(0,d.jsxs)(s.xu,{marginBottom:x||void 0!==P&&P?2:0,width:"100%",children:[(0,d.jsx)(s.iP,{accessibilityControls:"menu",accessibilityExpanded:R,accessibilityHaspopup:!0,accessibilityLabel:j._('Change access permissions', '[m10n]bizAccess.business.accessRolesEditorFlyout', 'Click to change access permissions for an ad account'),disabled:A,onTap:function(){R||D(!R)},children:void 0!==I&&I?q:V}),R&&(0,d.jsx)(s.Lt,{anchor:B.current,id:p,idealDirection:"down",onDismiss:function(){t(L),D(!1)},zIndex:w,children:H.map(function(e){return(0,d.jsx)(s.Lt.Item,{onSelect:function(){U((0,l.D)({permission:e,selectedPermissions:L,assetType:b,inCatalogManagment:C,inFinanceRoleMigration:O}))},option:m(j,"CATALOG"===b)(e,M),selected:L.map(function(e){return m(j,"CATALOG"===b)(e,M)})},e)})})]})}},969560:function(e,t,n){"use strict";var r=n(20256),s=n(924591),o=n(24246),a=n(680811);t.Z=function(e){var t=e.onHide,n=e.primaryAction,i=(0,o.Z)();return(0,a.jsx)(s.Z,{dismissButton:{onDismiss:t},duration:1e4,onHide:t,primaryAction:n,text:(0,a.jsx)(r.xv,{children:(0,a.jsxs)(r.kC,{direction:"column",children:[(0,a.jsx)(r.xv,{children:i._('Permissions updated. Changes may take several hours to process.', '[m10n] businessAccess.permissionUpdate.successToast.part1', 'Toast confirming you have updated a user permission')}),(0,a.jsx)(r.xv,{children:i._('Members will retain their existing permissions until requested changes are processed.', '[m10n] businessAccess.permissionUpdate.successToast.part2', 'Toast explaining the permissions update will take some time to be processed')})]})}),type:"success"})}},165015:function(e,t,n){"use strict";var r=n(387784),s=n(20256),o=n(24246),a=n(910421),i=n(433427),l=n(936948),c=n(190557),u=n(89446),d=n(680811);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n=e.assetsRequested,f=e.assetType,m=e.partnerId,h=e.isForNewPartnerInviteFlow,p=void 0!==h&&h,b=e.haveInvalidAssets,y=e.setHaveInvalidAssets,v=e.assets,A=e.updateAsset,g=(0,o.Z)(),S=(0,u.KJ)(!0),x=n?n.length:0,E=(0,r.useRef)(x),P=(0,r.useRef)(null),I=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)("ADD_ITEM"))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return _(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),T=I[0],C=I[1];(0,r.useEffect)(function(){if("ADD_ITEM"===T&&P.current){var e;C(null),null==(e=P.current)||e.focus()}(0,c.iD)(v,y)},[v]),(0,r.useEffect)(function(){(p?null!=n&&n.length||v.length:!(v.length<10)||null!=n&&n.length)||A({type:"ADD",index:E.current})},[f]);var O=g._('Permission', '[m10n]bizAccess.adAccounts.access', 'Text that is on the top of column of ad account permissions levels');return(0,d.jsxs)(s.xu,{children:[(0,d.jsxs)(s.xu,{marginBottom:4,children:[!p&&(0,d.jsxs)(s.xu,{display:"flex",marginBottom:2,children:[(0,d.jsx)(s.sg,{span:6,children:"AD_ACCOUNT"===f?(0,l.G3)(g):(0,l.Wz)(g)}),(0,d.jsx)(s.sg,{span:6,children:g._('Access', '[m10n]bizAccess.catalogs.access', 'Text that is on the top of column of catalog permissions levels')})]}),(0,d.jsx)(s.xu,{children:v.map(function(e){return(0,d.jsxs)(s.xu,{children:["AD_ACCOUNT"===f&&(0,d.jsx)(a.Z,{adAccount:e,adAccountsLength:v.length,onAdAccountChange:function(t){A({type:"SET_ID",id:t.value,index:e.index})},onRemoveItem:function(){C("REMOVE_ITEM"),A({type:"DELETE",index:e.index})},onSetAccessList:function(t){A({type:"SET_ACCESS",accessList:t,index:e.index}),(0,c.sM)(e,t,g,A),"CLEAR_ALL"===T&&C(null)},onValidateAdAccountField:function(t){var n=t.value;return(0,c.Qg)(n,e.index,g,v,S,A,!1,null,m)},permissions:e.accessList,permissionsLabel:p?O:void 0,resetAccess:"CLEAR_ALL"===T,setRef:function(e){P.current=e},showNewPermissionsView:p,textfieldLabel:p?(0,l.G3)(g):void 0}),"CATALOG"===f&&(0,d.jsx)(i.Z,{catalog:e,catalogsLength:v.length,onCatalogChange:function(t){A({type:"SET_ID",id:t.value,index:e.index})},onRemoveItem:function(){C("REMOVE_ITEM"),A({type:"DELETE",index:e.index})},onSetAccessList:function(t){A({type:"SET_ACCESS",accessList:t,index:e.index}),(0,c.sM)(e,t,g,A),"CLEAR_ALL"===T&&C(null)},onValidateCatalogField:function(t){var n=t.value;return(0,c.ax)(n,e.index,g,v,S,A,!1,"CATALOG")},permissions:e.accessList,permissionsLabel:p?O:void 0,permissionsPlaceholder:p?g._('Select permission', '[m10n]bizAccess.catalogs.permissionsPlaceholder', 'Placeholder for the select input for the catalog permissions'):void 0,resetAccess:"CLEAR_ALL"===T,setRef:function(e){P.current=e},textfieldLabel:p?(0,l.Wz)(g):void 0})]},e.index)})})]}),(0,d.jsxs)(s.xu,{alignContent:"start",alignItems:"center",display:"flex",marginBottom:2,children:[(0,d.jsx)(s.xu,{marginEnd:2,children:(0,d.jsx)(s.zx,{disabled:v.length>=10||b,iconEnd:"add",onClick:function(){E.current+=1,C("ADD_ITEM"),A({type:"ADD",index:E.current})},text:"CATALOG"===f?(0,l.pO)(g):(0,l.UF)(g)})}),v.length>=10&&(0,d.jsx)(s.xv,{color:"subtle",size:"100",children:(0,l.nX)(g)})]})]})}},204012:function(e,t){"use strict";t.Z=72},124828:function(e,t,n){"use strict";var r=n(20256),s=n(24246),o=n(216975),a=n(680811);t.Z=function(){var e=(0,s.Z)();return(0,a.jsxs)(r.xu,{children:[(0,a.jsx)(r.xu,{children:(0,a.jsx)(r.xv,{color:"error",children:e._('Pinterest advertising accounts aren\'t available in your country at this time. Although you\u2019re not eligible for a Pinterest advertising account, you\u2019re welcome to continue using your Pinterest personal or business account.', '[m10n]bizAccess.createAdAccount.disclaimer', 'Error text saying pinterest advertising accounts are not available in the country of the user')})}),(0,a.jsx)(r.xu,{marginTop:2,children:(0,a.jsx)(r.xv,{color:"error",children:(0,o.nk)(e._('If you need help please {{ contactUs }}.', '[m10n]bizAccess.createAdAccount.contactUsText', 'Legal disclaimer. contactUs: Link to contact us'),{contactUs:(0,a.jsx)(r.xv,{color:"error",inline:!0,children:(0,a.jsx)(r.rU,{display:"inlineBlock",href:"https://help.pinterest.com/contact",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"always",children:e._('contact us', '[m10n]bizAccess.createAdAccount.contactUsLink', 'Linked text description for contact us')})},"contactUsLinkText")})})})]})}},203490:function(e,t,n){"use strict";n.d(t,{DI:function(){return y},Di:function(){return h},Ym:function(){return b},h2:function(){return v},yM:function(){return p},zi:function(){return A}});var r=n(387784),s=n(20256),o=n(465784),a=n(24246),i=n(216975),l=n(945946),c=n(204012),u=n(900373),d=n(476823),_=n(680811);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t=e.errorCodes,n=void 0===t?[]:t,r=e.size,o=(0,a.Z)(),l=(0,_.jsxs)(s.xu,{children:[(0,_.jsx)(s.qE,{name:"",size:"xl"}),(0,_.jsx)(s.xu,{color:"secondary",height:10,marginTop:2,width:120}),(0,_.jsx)(s.xu,{color:"secondary",height:10,marginTop:2,width:120})]}),c=(0,_.jsx)(s.X6,{accessibilityLevel:1,align:"center",size:"400",children:o._('Oops! An error occurred and this page could not load.', '[m10n]bizAccess.errorHandler.errorPages.fullPageTitle', 'Title for error full page')}),u=(0,_.jsxs)(s.xv,{align:"center",size:"200",weight:"bold",children:[o._('Oops! An error occurred and this data could not load.', '[m10n]bizAccess.errorHandler.errorPages.modalTitle', 'Title for error modal')," "]}),d={FULL:o._('We recommend disabling ad-blockers or checking your internet connection. Please refresh page to continue.', '[m10n]bizAccess.errorHandler.errorPages.subTitle', 'Subtitle for full error page error if no error is supplied.'),MODAL:o._('Please try again.', '[m10n]bizAccess.errorHandler.errorPages.modalSubTitle', 'Subtitle for modal error page.'),SHEET:o._('Please close this sheet and try again.', '[m10n]bizAccess.errorHandler.errorPages.sheetSubTitle', 'Subtitle for sheet error page.'),SIDEBAR:o._('Please refresh page.', '[m10n]bizAccess.errorHandler.errorPages.sidebarSubTitle', 'Subtitle for sidebar error page.'),TABLE:o._('Please refresh this page and try again.', '[m10n]bizAccess.errorHandler.errorPages.tableSubTitle', 'Subtitle for table error page.')},f="FULL"===r?"200":"100";return(0,_.jsxs)(s.kC,{alignItems:"center",direction:"column",children:["SIDEBAR"===r&&(0,_.jsx)(s.xu,{marginBottom:6,children:l}),(0,_.jsx)(s.xu,{marginBottom:6,children:{FULL:c,MODAL:u,SHEET:u,SIDEBAR:u,TABLE:u}[r]}),(0,_.jsx)(s.xu,{marginBottom:6,maxWidth:"600px",children:(0,_.jsxs)(s.xv,{align:"center",size:f,children:[d[r]," ",n&&o._('If the problem persists, please reach out with the error code listed bellow.', '[m10n]bizAccess.errorHandler.errorPages.errorCodeSubTitle', 'Complementary subtitle for error page')]})}),n.map(function(e){return(0,_.jsx)(s.xu,{children:(0,_.jsx)(s.xv,{align:"center",color:"subtle",size:f,children:(0,i.nk)(o._('Error code: {{ errorCode }}.', '[m10n]bizAccess.errorHandler.errorPages.errorCode', 'Error code for different page errors'),{errorCode:e})})},e)})]})},h=function(e){var t=e.errorCodes;return(0,_.jsx)(s.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:8,width:"100%",children:m({errorCodes:t,size:"FULL"})})},p=function(e){var t=e.errorCodes;return(0,_.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",minHeight:"calc(95vh - ".concat(c.Z,"px)"),padding:8,width:"100%",children:m({errorCodes:t,size:"FULL"})})},b=function(e){var t,n=e.errorCodes,a=e.error,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=i[0],u=i[1],h=a instanceof l.zu?a.modalTitle:null;return c?(0,_.jsx)(o.ZP,{accessibilityModalLabel:"error a11y",onDismiss:function(){return u(!1)},size:"lg",children:(0,_.jsxs)(s.xu,{padding:8,children:[(0,_.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"between",children:[h&&(0,_.jsx)(s.X6,{accessibilityLevel:1,size:"600",children:h}),(0,_.jsx)(s.hU,{accessibilityLabel:"cancel",icon:"cancel",iconColor:"gray",onClick:function(){return u(!1)},size:"sm"})]}),(0,_.jsx)(s.xu,{alignItems:"center",display:"flex",height:"".concat(d.M,"px"),justifyContent:"center",padding:8,width:"100%",children:m({errorCodes:n,size:"MODAL"})})]})}):null},y=function(e){var t=e.errorCodes,n=e.error,r=n instanceof l.jX?n.sheetTitle:"";return(0,_.jsx)(u.Z,{hideSheet:function(){},title:r,children:(0,_.jsx)(s.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:8,width:"100%",children:m({errorCodes:t,size:"SHEET"})})})},v=function(e){var t=e.errorCodes;return(0,_.jsx)(s.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",maxWidth:250,padding:2,children:m({errorCodes:t,size:"SIDEBAR"})})},A=function(e){var t=e.errorCodes;return(0,_.jsx)(s.xu,{alignItems:"center",display:"flex",height:"400px",justifyContent:"center",maxWidth:"100%",padding:2,children:(0,_.jsx)(s.xu,{maxWidth:"380px",children:m({errorCodes:t,size:"TABLE"})})})}},580411:function(e,t){"use strict";t.Z=Object.freeze({FULL_PAGE_ERROR:"UOM-3CJW-CSON",TABLE_DATA_ERROR:"AIO-AHXG-KPOV",SEARCH_DATA_ERROR:"EYT-X76C-DPAG",META_DATA_ERROR:"XGQ-HS3U-EEWR",ASSIGNMENT_MODAL_ERROR:"V2H-EJUP-NQQV",SHEET_DATA_ERROR:"FBK-B1BW-QHXA",SIDEBAR_DATA_ERROR:"DEG-LNNK-JSRR"})},984576:function(e,t,n){"use strict";n.d(t,{w:function(){return Y},Z:function(){return V}});var r=n(387784),s=n(581722),o=n(20256),a=n(24246),i=n(994193);function l(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function c(){var e;return e=regeneratorRuntime.mark(function e(t,n,r){var s,o,a,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,i.t)().api,o=(0,i.u)(),e.prev=2,o.attempt("updateSharedAudienceBusinessToAdvertiser",r),a=new Date().getTime(),l="/ads/v4/business_access/businesses/".concat(t.business_id,"/audiences/advertisers/shared"),e.next=8,s.patch(l,n,!1);case 8:return c=e.sent,o.success("updateSharedAudienceBusinessToAdvertiser",r),o.latency("updateSharedAudienceBusinessToAdvertiser",new Date().getTime()-a,r),e.abrupt("return",c);case 14:throw e.prev=14,e.t0=e.catch(2),o.failure("updateSharedAudienceBusinessToAdvertiser",r),e.t0;case 18:case"end":return e.stop()}},e,null,[[2,14]])}),(c=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){l(o,r,s,a,i,"next",e)}function i(e){l(o,r,s,a,i,"throw",e)}a(void 0)})}).apply(this,arguments)}(0,i.u)();var u=n(540015),d=n(766857),_=n(583875),f=n(501010),m=n(577356),h=n(891875),p=n(926604),b=n(739228),y=n(458630),v=n(458765),A=n(355750),g=n(721819),S=n(498452),x=n(300214),E=n(160744),P=n(89446),I=n(680811);function T(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function C(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){T(o,r,s,a,i,"next",e)}function i(e){T(o,r,s,a,i,"throw",e)}a(void 0)})}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var j=function(e){var t,n,i=e.adAccountSelectionState,l=i.newAdAccountInformation,c=i.relatedAdAccounts,u=e.setNextDisabled,d=e.assetId,_=(0,a.Z)(),f=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return O(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=f[0],b=f[1],v=(0,s.v9)(x.VL)[d],A=!!l.name&&!!l.country&&!!l.currency;return(0,r.useEffect)(function(){u(A&&!m)},[A,m,u]),(0,I.jsxs)(o.kC,{direction:"column",gap:6,children:[(0,I.jsx)(Y,{assetPanelType:function(){switch(null==v?void 0:v.type){case"PINNER_LIST":default:return p.Pl.AUDIENCES_RECEIVED;case"AD_ACCOUNT":return p.Pl.AD_ACCOUNTS_SHARED;case"CONVERSION_SEGMENT":case"CONVERSION_TYPE":return p.Pl.CONVERSIONS_SHARED}}(),assets:[{id:(null==v||null==(n=v.asset)?void 0:n.id)||"",name:(null==v?void 0:v.asset.name)||""}]}),c.length>0&&(0,I.jsx)(Y,{assetPanelType:p.Pl.AD_ACCOUNTS_SHARED,assets:c}),A&&(0,I.jsx)(y.Z,{items:[(0,I.jsxs)(o.kC,{direction:"column",children:[(0,I.jsx)(o.xu,{marginBottom:-6,padding:4,children:(0,I.jsx)(o.xv,{size:"400",children:_._('Asset shared with partner', '[m10n]businessAccess.acceptAsset.summarySheet.newAdAccount.summary.title', 'Heading for the new ad account summary')})}),(0,I.jsx)(h.Z,{adAccountInformation:l,setTermsAndConditionsChecked:b,termsAndConditionsChecked:m})]},"newAdAccountSummary")]})]})},z={name:"",country:null,currency:null};j.Footer=function(e){var t,n=e.navigation,i=e.nextDisabled,l=e.onDismissStart,h=e.adAccountSelectionState,p=h.newAdAccountInformation,y=void 0===p?z:p,T=h.relatedAdAccounts,O=void 0===T?[]:T,j=e.assetId,w=(0,s.I0)(),N=(0,P.KJ)(),R=(0,a.Z)(),D=(0,d.ZP)(),k=(0,r.useRef)(D),L=(0,m.dI)().showOneToast,U=(0,(0,f.Z)().checkExperiment)("web_business_access_table_reload_fix").anyEnabled,B=(0,s.v9)(x.VL)[j],M=(null==B||null==(t=B.owner)?void 0:t.id)||"",H=null==B?void 0:B.type,Z=(0,r.useCallback)(function(e,t){L(function(n){var r=n.hideToast;return(0,I.jsx)(_.FN,{duration:5e3,onHide:r,text:t,type:e})})},[L]),G=(0,r.useCallback)(function(e,t){var n=(0,b.ZB)(R,e);k.current({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_SHEET",componentId:"invite-summary-partners-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-"+t,errorClass:JSON.stringify(e).slice(0,64),errorMessage:n}),Z("error",n)},[R,N,k]),F=(0,r.useCallback)(function(e){var t;(t=C(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=function(){w({type:"CLEAR_PENDING_ASSETS"}),w((0,A.r)(N)),w((0,A.R)(["EXPIRED","PENDING"],"PARTNER",N,void 0,U))},t.prev=1,"CONVERSION_SEGMENT"!==H){t.next=7;break}return t.next=5,(0,g.A1)({businessId:N,conversionId:j,adAccountIds:e});case 5:t.next=9;break;case 7:return t.next=9,function(e,t,n){return c.apply(this,arguments)}({business_id:N},{audience_id:j,operation_type:"SHARE",recipient_account_ids:e});case 9:Z("success",R._('Asset shared successfully', '[m10n]businessAccess.acceptAsset.summarySheet.assetSharedSuccess', 'Success message when asset is shared successfully')),n(),l(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),G(t.t0,"invite");case 17:case"end":return t.stop()}},t,null,[[1,14]])})),function(){return t.apply(this,arguments)})()},[j,H,N,Z,R,l,G,w,U]);return(0,I.jsxs)(o.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[(0,I.jsx)(o.zx,{onClick:function(){l(),D({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"accept-asset-flow-sheet-"+n.currentStep,element:"BUSINESS_ACCESS_BUTTON",elementId:"cancel-button"})},text:R._('Cancel', '[m10n]businessAccess.acceptAsset.summarySheet.cancelButton', 'Cancel button text')}),(0,I.jsx)(o.zx,{onClick:function(){D({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"accept-asset-flow-sheet-"+n.currentStep,element:"BUSINESS_ACCESS_BUTTON",elementId:"back-button"}),n.goToPreviousStep()},text:R._('Back', '[m10n]businessAccess.acceptAsset.summarySheet.backButton', 'Back button text')}),(0,I.jsx)(o.zx,{color:"red",disabled:i,onClick:function(){if(y.name){var e,t,r,s,o;w((0,v.Br)({businessId:N,detailId:M,businessHierarchyNodeId:void 0,ownerBusinessId:N,agencyBusinessId:null,accountName:y.name,country:(null==(e=y.country)?void 0:e.value)||"",currency:(null==(t=y.currency)?void 0:t.value)||"",tosId:(0,E.Fc)(null!=(r=u.tN[(null==(s=y.country)?void 0:s.value)||"UNKNOWN"])?r:0),targetingRmnBusinessId:M,onSuccess:(o=C(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.SZ)({businessId:N,partnerId:M,assetId:t.id,permissions:["ANALYST"]});case 2:n=t.id,F(O.map(function(e){return e.id}).concat(n));case 4:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),onFailure:function(e){G(e,"invite")},dispatchGetAdAccounts:!1}))}else F(O.map(function(e){return e.id}));D({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"accept-asset-flow-sheet-"+n.currentStep,element:"BUSINESS_ACCESS_BUTTON",elementId:"confirm-button"}),l()},text:R._('Confirm', '[m10n]businessAccess.acceptAsset.summarySheet.confirmButton', 'Confirm button text')})]})};var w=n(281067),N=n(239022),R=n(818303);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t=D((0,r.useState)(e),1)[0],n=D((0,r.useState)(e[0]),2),s=n[0],o=n[1];return{currentStep:s,goToNextStep:function(){var e=t.indexOf(s);e<t.length-1&&o(t[e+1])},goToPreviousStep:function(){var e=t.indexOf(s);e>0&&o(t[e-1])}}},U=n(900373);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){Z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z(e,t,n){var r;return(r=function(e,t){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=B(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==B(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Y=function(e){var t=e.assets,n=e.assetPanelType,r=(0,a.Z)(),s=t.reduce(function(e,t){return H(H({},e),{},Z({},t.id,[]))},{}),i=t.reduce(function(e,t){return H(H({},e),{},Z({},t.id,{asset:{id:t.id,name:t.name}}))},{}),l=(0,R.c)({resourceIdToRoles:s,resourceIdToDetails:i});return(0,I.jsx)(y.Z,{items:[(0,I.jsx)(o.xu,{padding:4,children:(0,I.jsxs)(o.kC,{direction:"column",gap:1,children:[(0,I.jsxs)(o.xv,{size:"400",children:[(n===p.Pl.AUDIENCES_RECEIVED||n===p.Pl.CONVERSIONS_RECEIVED)&&r._('Assets shared with me', '[m10n]businessAccess.acceptAsset.summarySheet.audienceReceived.title', 'Title for assets shared with me'),n===p.Pl.AD_ACCOUNTS_SHARED&&r._('Assigned to shared ad account', '[m10n]businessAccess.acceptAsset.summarySheet.adAccountShared.title', 'Title for assets assigned to shared ad account')]}),(0,I.jsx)(N.Z,{assets:l,assetType:n,hidePermissionsToAsset:!0,i18n:r})]})},"assetPanel")]})},V=function(e){var t,n=e.hideSheet,i=e.id,l=e.partnerId,c=(0,a.Z)(),u=G((0,r.useState)(!0),2),d=u[0],_=u[1],f=(0,s.v9)(x.VL)[i],m=null==f||null==(t=f.owner)?void 0:t.full_name,h=G((0,r.useState)({name:"",country:null,currency:null}),2),p=h[0],b=h[1],y=G((0,r.useState)([]),2),v=y[0],A=y[1],g=L(["ACCEPT_ASSET_SHEET","ACCEPT_ASSET_SUMMARY_SHEET"]),S=g.currentStep||"ACCEPT_ASSET_SHEET",E={ACCEPT_ASSET_SHEET:{BODY:w.Z,FOOTER:w.Z.Footer},ACCEPT_ASSET_SUMMARY_SHEET:{BODY:j,FOOTER:j.Footer}},P=E[S].BODY,T=E[S].FOOTER;return(0,I.jsx)(U.Z,{footer:(0,I.jsx)(o.To.DismissingElement,{children:function(e){var t=e.onDismissStart;return(0,I.jsx)(o.xu,{"data-test-id":"accept-asset-flow-sheet-footer",children:(0,I.jsx)(T,{adAccountSelectionState:{newAdAccountInformation:p,setNewAdAccountInformation:b,relatedAdAccounts:v,setRelatedAdAccounts:A},assetId:i,navigation:g,nextDisabled:d,onDismissStart:t,setNextDisabled:_})})}}),hideSheet:function(){n()},size:"lg",subTitle:c._('New assets received', '[m10n]businessAccess.acceptAsset.sheet.subTitle', 'new assets received page sub title'),subTitleStyles:{marginTop:-7},title:m||"",children:(0,I.jsx)(P,{adAccountSelectionState:{newAdAccountInformation:p,setNewAdAccountInformation:b,relatedAdAccounts:v,setRelatedAdAccounts:A},assetId:i,partnerId:l||"",setNextDisabled:_})})}},281067:function(e,t,n){"use strict";n.d(t,{x:function(){return P}});var r=n(387784),s=n(581722),o=n(20256),a=n(719301),i=n(766857),l=n(24246),c=n(984576),u=n(483058),d=n(926604),_=n(506672),f=n(283937),m=n(785096),h=n(502225),p=n(498452),b=n(300214),y=n(89446),v=n(680811);function A(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){var t=e.activeTabIndex,n=e.setActiveTabIndex,r=(0,l.Z)();return(0,v.jsx)(o.mQ,{activeTabIndex:t,onChange:function(e){var t=e.event,r=e.dangerouslyDisableOnNavigation,s=e.activeTabIndex;t.preventDefault(),r(),n(s)},tabs:[{href:"#",text:r._('Related ad accounts', '[m10n]businessAccess.acceptAsset.summarySheet.selectAdAccount.tab.label', 'RMN related ad accounts tab label'),id:"related-adAccounts-tab"},{href:"#",text:r._('New ad account', '[m10n]businessAccess.acceptAsset.summarySheet.selectAdAccount.newAdAccount.tab.label', 'RMN new ad account tab label'),id:"new-adAccount-tab"}]})},E=function(e){var t=e.activeTabIndex,n=e.adAccountSelectionState,s=n.newAdAccountInformation,o=n.setNewAdAccountInformation,i=n.relatedAdAccounts,c=n.setRelatedAdAccounts,d=e.setNextDisabled,b=e.partnerId,S=e.adAccountFilter,x=void 0===S?function(){return!0}:S,E=(0,l.Z)(),P=(0,y.KJ)(),I=g((0,r.useState)(!1),2),T=I[0],C=I[1],O=g((0,r.useState)([]),2),j=O[0],z=O[1];return(0,r.useEffect)(function(){d(0===i.length&&(!s.name||!s.country||!s.currency))},[i,s,d]),(0,r.useEffect)(function(){if(0===t){var e,n;(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,t={id:P,businessId:P,partnerId:b,searchBy:"name",sortBy:"name"},e.next=5,(0,p.SB)(t);case 5:return n=e.sent,e.next=8,(0,h.kv)(P,n.data.data);case 8:z(Object.values(e.sent.data.data||{}).filter(x)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),z([]);case 17:return e.prev=17,C(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,14,17,20]])}),n=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){A(o,r,s,a,i,"next",e)}function i(e){A(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)})()}},[t,x,P,b]),(0,v.jsxs)(r.Fragment,{children:[0===t&&(0,v.jsx)(_.Z,{adAccounts:null!=j?j:[],adAccountsColumnDefs:[(0,m.Z)({onSelectChange:function(e){var t=i.findIndex(function(t){return t.id===e});if(t>=0)c(i.slice(0,t).concat(i.slice(t+1)));else{var n,r=(null==(n=j.find(function(t){return t.asset_id===e}))?void 0:n.asset.name)||"";c(i.concat([{id:e,name:r}]))}},selectedIds:i.map(function(e){return e.id})||[],size:"sm"}),(0,f.Z)(E)],adAccountsIsLoading:T,hidePagination:!0,pageType:a.Q6.PARTNERS}),1===t&&(0,v.jsx)(u.Z,{adAccountInformation:s,setAdAccountInformation:o,setDisableNextButton:function(e){return d(e&&0===i.length)},showHeader:!1})]})},P=function(e){var t,n=e.adAccountSelectionState,s=e.setNextDisabled,a=e.partnerId,i=e.showHeader,c=e.adAccountFilter,d=(0,l.Z)(),_=g((0,r.useState)(null!=(t=n.newAdAccountInformation)&&t.name?1:0),2),f=_[0],m=_[1];return(0,v.jsxs)(o.kC,{direction:"column",gap:3,children:[(void 0===i||i)&&(0,v.jsx)(o.xu,{paddingX:4,children:(0,v.jsx)(o.xv,{size:"400",children:d._('Assign your new assets to a designated ad account', '[m10n]businessAccess.acceptAsset.summarySheet.selectAdAccount.title', 'Title for selecting an Ad Account')})}),(0,v.jsx)(o.xu,{margin:-3,children:(0,v.jsx)(u.Z.Banner,{})}),(0,v.jsx)(x,{activeTabIndex:f,setActiveTabIndex:m}),(0,v.jsx)(E,{activeTabIndex:f,adAccountFilter:void 0===c?function(){return!0}:c,adAccountSelectionState:n,partnerId:a,setNextDisabled:s})]})},I=function(e){var t,n=e.adAccountSelectionState,r=e.setNextDisabled,a=e.partnerId,i=e.assetId,l=(0,s.v9)(b.VL)[i];return(0,v.jsxs)(o.kC,{direction:"column",gap:6,children:[(0,v.jsx)(c.w,{assetPanelType:function(){switch(null==l?void 0:l.type){case"PINNER_LIST":default:return d.Pl.AUDIENCES_RECEIVED;case"AD_ACCOUNT":return d.Pl.AD_ACCOUNTS_SHARED;case"CONVERSION_SEGMENT":case"CONVERSION_TYPE":return d.Pl.CONVERSIONS_SHARED}}(),assets:[{id:(null==l||null==(t=l.asset)?void 0:t.id)||"",name:(null==l?void 0:l.asset.name)||""}]}),(0,v.jsx)(P,{adAccountSelectionState:n,partnerId:a,setNextDisabled:r})]})};I.Footer=function(e){var t=e.navigation,n=e.nextDisabled,r=e.onDismissStart,s=e.setNextDisabled,a=(0,l.Z)(),c=(0,i.ZP)();return(0,v.jsxs)(o.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[(0,v.jsx)(o.zx,{onClick:function(){c({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"accept-asset-flow-sheet-"+t.currentStep,element:"BUSINESS_ACCESS_BUTTON",elementId:"cancel-button"}),r()},text:a._('Cancel', '[m10n]businessAccess.acceptAsset.selectAdAccountSheet.cancelButton', 'Cancel button text')}),(0,v.jsx)(o.zx,{color:"red",disabled:n,onClick:function(){c({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"accept-asset-flow-sheet-"+t.currentStep,element:"BUSINESS_ACCESS_BUTTON",elementId:"next-button"}),t.goToNextStep(),s(!0)},text:a._('Next', '[m10n]businessAccess.acceptAsset.selectAdAccountSheet.nextButton', 'Next button text')})]})},t.Z=I},900373:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var r=n(20256),s=n(24246),o=n(680811),a=new r.Ry(671),i=new r.H3([a]);t.Z=function(e){var t=e.title,n=e.footer,a=e.children,l=e.subTitle,c=e.hideSheet,u=e.size,d=e.subTitleStyles,_=e.subTitleSize,f=(0,s.Z)();return(0,o.jsx)(r.mh,{zIndex:i,children:(0,o.jsx)(r.To,{accessibilityDismissButtonLabel:f._('Close', '[m10n]bizAccess.close.sheet', 'Closes an open sheet of information.'),accessibilityLabel:t,footer:n,heading:t,onDismiss:c,size:void 0===u?"sm":u,subHeading:(0,o.jsx)(r.xu,{marginBottom:null==d?void 0:d.marginBottom,marginTop:(null==d?void 0:d.marginTop)||-6,paddingX:(null==d?void 0:d.paddingX)||6,paddingY:(null==d?void 0:d.paddingY)||0,children:(0,o.jsx)(r.xv,{color:"subtle",size:void 0===_?"200":_,children:l})},"sheet-base-overlay-panel-subheading"),children:a},"sheet-base-overlay-panel")})}},239022:function(e,t,n){"use strict";var r=n(20256),s=n(216975),o=n(917429),a=n(926604),i=n(591786),l=n(680811),c=function(e){var t=e.assets,n=e.isRequestAsset,a=e.iconType,c=e.i18n,u=e.hidePermissionsToAsset,d=e.isForCatalogAssets,_=e.showCatalogType,f=(0,i.e6)(c,d),m=function(e){return(0,l.jsxs)(r.kC,{flex:"grow",gap:{column:0,row:2},children:[(0,o.q7)(c,a),(0,l.jsxs)(r.xu,{children:[!n&&(0,l.jsx)(r.xv,{lineClamp:1,overflow:"breakAll",size:"300",children:e.name}),n&&(0,l.jsx)(r.xv,{size:"300",children:(0,s.nk)(c._('ID: {{ id }}', '[m10n]bizAccess.addPartner.inviteSummarySheet.assetId.request', 'Asset ID requested. id: asset ID'),{id:e.id})}),!n&&(0,l.jsx)(r.xv,{color:"subtle",size:"200",children:(0,s.nk)(c._('ID: {{ id }}', '[m10n]bizAccess.addPartner.inviteSummarySheet.assetId', 'Asset ID. id: asset ID'),{id:e.id})}),!u&&(0,l.jsx)(r.xv,{color:"subtle",size:"200",children:(0,s.nk)(c._('Permissions: {{ permissions }}', '[m10n]bizAccess.addPartner.inviteSummarySheet.assetPermissions', 'Asset permissions. permissions: asset permissions'),{permissions:e.permissions.map(function(e){return f(e)}).join(", ")})}),_&&(0,l.jsx)(r.xv,{color:"subtle",size:"200",children:(0,s.nk)(c._('Type: {{ catalogType }}', '[m10n]bizAccess.addPartner.inviteSummarySheet.assetCatalogType', 'Asset catalog type. catalogType: asset catalog type'),{catalogType:e.type})})]})]})};return(0,l.jsx)(r.xu,{marginBottom:2,marginTop:2,children:2===t.length?(0,l.jsxs)(r.kC,{children:[(0,l.jsx)(r.sg,{"flex-grow":!0,span:6,children:t[0]&&m(t[0])}),(0,l.jsx)(r.sg,{"flex-grow":!0,span:6,children:t[1]&&m(t[1])})]}):(0,l.jsx)(r.kC,{children:(0,l.jsx)(r.sg,{span:12,children:t[0]&&m(t[0])})})})},u=function(e){var t=e.conversionSegments,n=e.i18n,a=function(e){var t,a;return(0,l.jsx)(r.xu,{marginBottom:2,minWidth:300,children:(0,l.jsxs)(r.kC,{gap:{column:0,row:2},children:[(0,o.q7)(n,"graph-pie"),(0,l.jsxs)(r.xu,{children:[(0,l.jsx)(r.xv,{size:"300",children:null==e?void 0:e.name}),(0,l.jsx)(r.xv,{color:"subtle",size:"200",children:(0,s.nk)(n._('Id: {{ id }}', '[m10n]bizAccess.conversionData.summarySheet.conversionId', 'Conversion segment id. id: ID of the conversion segment.'),{id:null==e?void 0:e.id})}),(0,l.jsx)(r.xv,{color:"subtle",size:"200",children:(0,s.nk)(n._('Date created: {{ createdAt }}', '[m10n]bizAccess.conversionData.summarySheet.conversionCreatedAt', 'Date of the partner creation. createdAt: Date of the partner creation.'),{createdAt:null==e||null==(t=e.createdAt)?void 0:t.toLocaleDateString()})}),(0,l.jsx)(r.xv,{color:"subtle",size:"200",children:(0,s.nk)(n.ngettext('Conversion types: {{ typeCnt }} type', 'Conversion types: {{ typeCnt }} types', (null == e ? void 0 : e.typeCount) || 0, '[m10n]bizAccess.conversionData.summarySheet.typeCount', 'The number of conversion types. typeCnt: number of conversion types. '),{typeCnt:(null==e?void 0:e.typeCount)||0})}),(0,l.jsx)(r.xv,{color:"subtle",size:"200",children:(0,s.nk)(n._('Total events: {{ eventCnt }}', '[m10n]bizAccess.conversionData.summarySheet.eventCount', 'The number of events. eventCnt: number of events.'),{eventCnt:(null==e?void 0:e.eventCount)||0})}),(0,l.jsx)(r.xv,{color:"subtle",size:"200",children:(0,s.nk)(n._('Product IDs: {{ idCnt }}', '[m10n]bizAccess.conversionData.summarySheet.productIdCount', 'The number of product IDs. idCnt: number of product IDs.'),{idCnt:(null==e||null==(a=e.additionalItemIds)?void 0:a.length)||0})}),(0,l.jsx)(r.xv,{color:"subtle",size:"200",children:null!=e&&e.retargetingEnabled?n._('Retargeting: Enabled', '[m10n]bizAccess.conversionData.summarySheet.conversionRetargeting', 'Retargeting of the conversion segment. retargeting: retargeting of the conversion segment.'):n._('Retargeting: Not enabled', '[m10n]bizAccess.conversionData.summarySheet.noRetargeting', 'Retargeting not enabled description.')})]})]})})};return(0,l.jsx)(r.xu,{display:"flex",marginTop:2,wrap:!0,children:t.map(function(e){return(0,l.jsx)(r.sg,{span:6,children:a(e)},"conversion-segment-".concat(e.id))})})};t.Z=function(e){var t=e.i18n,n=e.assets,s=e.assetType,o=e.hidePermissionsToAsset,i=e.conversionSegments,d=e.showCatalogType,_=void 0!==d&&d,f=s===a.Pl.AD_ACCOUNTS_REQUESTED||s===a.Pl.CATALOGS_REQUESTED||s===a.Pl.PROFILE_REQUESTED,m=function(){switch(s){case a.Pl.AD_ACCOUNTS_SHARED:return t._('Ad accounts shared', '[m10n]bizAccess.add.partners.sheet.adAccounts.shared', 'Ad accounts shared with the partner');case a.Pl.AD_ACCOUNTS_REQUESTED:return t._('Ad accounts requested', '[m10n]bizAccess.add.partners.sheet.adAccounts.requested', 'Ad accounts requested from the partner');case a.Pl.AUDIENCES_SHARED:return t._('Audiences shared', '[m10n]bizAccess.add.partners.sheet.audiences.shared', 'Audiences shared with the partner');case a.Pl.AUDIENCES_RECEIVED:return t._('Audiences received', '[m10n]bizAccess.add.partners.sheet.audiences.received', 'Audiences received from the partner');case a.Pl.CATALOGS_SHARED:return t._('Catalogs shared', '[m10n]bizAccess.add.partners.sheet.catalogs.shared', 'Catalogs shared with the partner');case a.Pl.CATALOGS_REQUESTED:return t._('Catalogs requested', '[m10n]bizAccess.add.partners.sheet.catalogs.requested', 'Catalogs requested from the partner');case a.Pl.PROFILE_SHARED:return t._('Profile shared', '[m10n]bizAccess.add.partners.sheet.profiles.shared', 'Profiles shared with the partner');case a.Pl.PROFILE_REQUESTED:return t._('Profile requested', '[m10n]bizAccess.add.partners.sheet.profiles.requested', 'Profiles requested from the partner');case a.Pl.CONVERSIONS_SHARED:return t._('Conversion segments shared', '[m10n]bizAccess.add.partners.sheet.conversions.shared', 'Conversion segments shared with the partner');case a.Pl.CONVERSIONS_RECEIVED:return t._('Conversion segments received', '[m10n]bizAccess.add.partners.sheet.conversions.received', 'Conversion segments received from the partner');case a.Pl.RMN_CATALOGS_SHARED:return t._('Media network catalogs shared', '[m10n]bizAccess.add.partners.sheet.rmnCatalogs.shared', 'RMN catalogs shared with the partner');default:return""}}(),h=function(){switch(s){case a.Pl.AD_ACCOUNTS_SHARED:case a.Pl.AD_ACCOUNTS_REQUESTED:return"ad";case a.Pl.AUDIENCES_SHARED:case a.Pl.AUDIENCES_RECEIVED:return"insights-audience";case a.Pl.CONVERSIONS_SHARED:case a.Pl.CONVERSIONS_RECEIVED:return"graph-pie";case a.Pl.CATALOGS_SHARED:case a.Pl.CATALOGS_REQUESTED:case a.Pl.RMN_CATALOGS_SHARED:return"shopping-bag";case a.Pl.PROFILE_SHARED:case a.Pl.PROFILE_REQUESTED:return"person";default:return"ad"}}();return(0,l.jsxs)(r.xu,{paddingY:1,children:[(0,l.jsx)(r.xv,{color:"subtle",size:"100",children:m}),n.map(function(e){var n;return(0,l.jsx)(c,{assets:e,hidePermissionsToAsset:o,i18n:t,iconType:h,isForCatalogAssets:s===a.Pl.CATALOGS_SHARED||s===a.Pl.CATALOGS_REQUESTED||s===a.Pl.RMN_CATALOGS_SHARED,isRequestAsset:f,showCatalogType:_},"asset-group-".concat(null==(n=e[0])?void 0:n.id))}),(s===a.Pl.CONVERSIONS_SHARED||s===a.Pl.CONVERSIONS_RECEIVED)&&(0,l.jsx)(u,{conversionSegments:void 0===i?[]:i,i18n:t})]})}},300112:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(387784),s=n(20256),o=n(24246),a=n(893957),i=n(680811),l=function(e){var t=e.domain,n=e.domainsLength,r=e.onDomainUrlChange,a=e.onRemoveItem,l=e.setRef,c=e.onValidateDomainUrl,u=(0,o.Z)();return(0,i.jsxs)(s.kC,{children:[(0,i.jsx)(s.sg,{span:n>1?11:12,children:(0,i.jsx)(s.xu,{marginBottom:2,marginEnd:2,children:(0,i.jsx)(s.nv,{ref:function(e){l(e)},autoComplete:"off",errorMessage:t.error,id:"domain-".concat(t.index),label:u._('Domain restriction (optional)', '[m10n]bizAccess.domainRestrictionsInput.domainRestrictionsLabel', 'Label for domain restriction input'),onBlur:function(e){c(e.value)},onChange:function(e){r(e.value)},placeholder:u._('mybusiness.com', '[m10n]bizAccess.domainRestrictionsInput.domainRestrictionsPlaceholder', 'Placeholder for adding domain resttriction'),size:"lg",value:t.domainUrl})})}),n>1&&(0,i.jsx)(s.sg,{span:1,children:(0,i.jsx)(function(){return(0,i.jsx)(s.xu,{paddingY:4,children:(0,i.jsx)(s.hU,{accessibilityLabel:u._('Remove domain in current line', '[m10n]bizAccess.domainRestrictionsInput.removeDomain', 'Accessibility text to tell the user that the button excludes a domain from the list'),disabled:1===n,icon:"remove",iconColor:"darkGray",onClick:function(){a()},size:"md"})})},{})})]})},c=n(917429);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||m(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){if(e){if("string"==typeof e)return h(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e,t){switch(t.type){case"ADD":return[].concat(function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{index:t.index,domainUrl:"",error:""}]);case"DELETE":return e.filter(function(e){return e.index!==t.index});case"SET_DOMAIN_URL":return e.map(function(e){return e.index===t.index?f(f({},e),{},{domainUrl:t.domainUrl||""}):e});case"ERROR":return e.map(function(e){return e.index===t.index?f(f({},e),{},{error:t.error||""}):e});default:return e}},b=function(e,t,n,r,s){var o="";t.length>0&&s.some(function(e){return(0,c.oG)(e.domainUrl)===(0,c.oG)(t)&&e.index!==n})&&(o=e._('This domain has already been entered. Please remove it or use a different one.', '[m10n]bizAccess.domainRestrictionsInput.duplicateDomain', 'Error message for duplicate domain')),r({type:"ERROR",error:o,index:n})},y=function(e){var t=e.domainRestrictions,n=e.setDomainRestrictions,c=e.setDisableNextButton,u=e.sectionHeading,_=e.forNewInviteFlow,f=void 0!==_&&_,m=e.hideHeading,h=void 0!==m&&m,y=(0,o.Z)(),v=t?t.length:0,A=(0,r.useRef)(v),g=(0,r.useRef)(null),S=d((0,r.useState)(!0),2),x=S[0],E=S[1],P=d((0,r.useState)("ADD_ITEM"),2),I=P[0],T=P[1],C=d((0,r.useReducer)(p,t||[]),2),O=C[0],j=C[1],z=d((0,r.useState)(O.some(function(e){return""!==e.domainUrl})),2),w=z[0],N=z[1];return(0,a.Z)(function(){null!=t&&t.length||j({type:"ADD",index:A.current})}),(0,r.useEffect)(function(){if("ADD_ITEM"===I&&g.current){var e;T(null),null==(e=g.current)||e.focus()}E(O.some(function(e){return e.error})),N(O.some(function(e){return""!==e.domainUrl})),n(O)},[O]),(0,r.useEffect)(function(){c(x||!w&&f)},[x,w]),(0,i.jsxs)(s.xu,{children:[!h&&(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(s.xu,{marginBottom:3,children:(0,i.jsx)(s.X6,{size:"400",children:u||y._('Set your domain restrictions', '[m10n]bizAccess.set.domain.restrictions.title', 'Heading for setting domain restrictions')})}),(0,i.jsx)(s.xu,{margin:-3,children:(0,i.jsx)(s.he,{message:y._('Domain restrictions ensure that ad traffic related to the assets you share will be routed to your site. You may change restrictions at any time in Partner settings.', '[m10n]bizAccess.domainRestrictions.banner.message', 'Text for domain restrictions banner message'),type:"info"})})]}),(0,i.jsx)(s.xu,{marginBottom:2,marginTop:h?void 0:4,children:(0,i.jsx)(s.xu,{children:O.map(function(e){return(0,i.jsx)(s.xu,{children:(0,i.jsx)(l,{domain:e,domainsLength:O.length,onDomainUrlChange:function(t){j({type:"SET_DOMAIN_URL",domainUrl:t,index:e.index})},onRemoveItem:function(){T("REMOVE_ITEM"),j({type:"DELETE",index:e.index})},onValidateDomainUrl:function(t){b(y,t,e.index,j,O)},setRef:function(e){g.current=e}})},"domain-input-wrapper-".concat(e.index))})})}),(0,i.jsx)(s.xu,{alignContent:"start",alignItems:"center",display:"flex",marginBottom:2,children:(0,i.jsx)(s.xu,{marginEnd:2,children:(0,i.jsx)(s.zx,{disabled:function(){if(O&&O.length>0){var e=O[O.length-1];return(null==e?void 0:e.domainUrl)===""||x}return!1}(),onClick:function(){A.current+=1,T("ADD_ITEM"),j({type:"ADD",index:A.current})},text:y._('Add another', '[m10n]bizAccess.domainRestrictions.add', 'Text for button to add another domain restriction')})})})]})}},483058:function(e,t,n){"use strict";var r=n(387784),s=n(20256),o=n(143754),a=n(851770),i=n(24246),l=n(563218),c=n(89446),u=n(680811);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=e.forNewInviteFlow,n=(0,i.Z)(),r=void 0!==t&&t?n._('In order to view audience, catalog and conversion data shared by a media network partner, you need to create and share a designated ad account with them. They will automatically receive Analyst permission for this ad account.', '[m10n]bizAccess.newAdAccount.banner.newInviteWorkflow.message', 'Text for new ad account banner message in new invite workflow'):n._('In order to receive audience, catalog and conversion data shared by a media network partner, you need to create or designate an ad account to receive these assets. Once the assets are assigned to an ad account, the media network partner will automatically receive Analyst permissions to this ad account.', '[m10n]bizAccess.newAdAccount.banner.message', 'Text for new ad account banner message');return(0,u.jsx)(s.he,{message:r,type:"info"})},p=function(e){var t,n,d,_,p,b,y,v,A,g=e.adAccountInformation,S=e.setAdAccountInformation,x=e.setDisableNextButton,E=e.showHeader,P=e.sectionHeading,I=e.forNewInviteFlow,T=(0,i.Z)(),C=(0,c.KJ)(!0),O=function(e){if(Array.isArray(e))return e}(t=(0,a.Z)(l.xZ,!0,C))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),3!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,3)||function(e,t){if(e){if("string"==typeof e)return m(e,3);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,3):void 0}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=O[0],z=O[2],w=(j||[]).map(function(e){var t=e.code;return{label:e.name,value:t}}),N=new Map(w.map(function(e){return[e.value,e.label]})),R=new Map((j||[]).map(function(e){return[e.code,{default:e.currency_code,currencies:e.allowed_currencies.map(function(e){var t=e.code;return{label:e.name,value:t}})}]})),D=new Map(Array.from(R.values()).flatMap(function(e){return e.default,e.currencies.map(function(e){return{label:"".concat(e.value," - ").concat(e.label),value:e.value}})}).map(function(e){var t=e.label;return[e.value,t]}));return((0,r.useEffect)(function(){var e,t;x(!g.name||!(null!=(e=g.country)&&e.value)||!(null!=(t=g.currency)&&t.value))},[g]),z)?(0,u.jsx)(s.xu,{children:(0,u.jsx)(s.xH,{accessibilityLabel:(0,o.hC)(T),show:!0})}):(0,u.jsxs)(s.xu,{children:[(void 0===E||E)&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(s.xu,{marginBottom:4,children:(0,u.jsx)(s.X6,{size:"400",children:P||T._('Create an ad account for your partnership', '[m10n]bizAccess.new.ad.account.title', 'Heading for creating an ad account')})}),(0,u.jsx)(s.xu,{margin:-3,children:(0,u.jsx)(h,{forNewInviteFlow:void 0!==I&&I})})]}),(0,u.jsx)(s.xu,{marginBottom:4,marginTop:4,children:(0,u.jsx)(s.nv,{autoComplete:"off",helperText:T._('Use a descriptive name for search purposes', '[m10n]bizAccess.createAdAccount.accountNameHelperText.new', 'Helper text for a text field in the account creation flow'),id:"accountName",label:T._('Ad account name', '[m10n]bizAccess.createAdAccount.accountNameLabel', 'Label for a text field in the account creation flow'),maxLength:{characterCount:64,errorAccessibilityLabel:T._('Ad account may not exceed 64 characters', '[m10n]bizAccess.createAdAccount.accountNameMaxLength', 'error accessibility label if ad account name input exceeds 64 characters')},name:"accountName",onChange:function(e){var t=e.value;S(f(f({},g),{},{name:t}))},placeholder:T._('Enter an ad account name', '[m10n]bizAccess.createAdAccount.accountNamePlaceholder', 'Placeholder for the account name field in the account creation flow'),size:"lg",type:"text",value:g.name})}),(0,u.jsxs)(s.kC,{children:[(0,u.jsx)(s.sg,{span:6,children:(0,u.jsx)(s.xu,{marginEnd:1,children:(0,u.jsx)(s.EI,{errorMessage:0===w.length?T._('Oops! An error occurred and the list of available countries did not load. We recommend disabling ad-blocker or checking your internet connection.', '[m10n]bizAccess.createAdAccount.countriesError', 'error message saying available countries could not be loaded for ad account creation, and we recommend disabling ad blockers or checking internet connection'):void 0,helperText:T._('Select the country where your business is located', '[m10n]bizAccess.createAdAccount.countrySelectList.helperText', 'Helper text for country select list field in the account creation flow'),id:"country",label:T._('Country', '[m10n]bizAccess.createAdAccount.countryLabel', 'Label for a country dropdown'),name:"country",onChange:function(e){var t,n,r,s,o=e.value,a=null!=(t=null==(n=R.get(o))?void 0:n.default)?t:"";S(f(f({},g),{},{country:{label:null!=(r=N.get(o))?r:"",value:o},currency:{label:null!=(s=D.get(a))?s:"",value:a}}))},placeholder:T._('Select', '[m10n]bizAccess.createAdAccount.countrySelectList.placeholder', 'Placeholder for country select list field in the account creation flow'),size:"lg",value:null==(n=g.country)?void 0:n.value,children:w.map(function(e){return(0,u.jsx)(s.EI.Option,f({},e),e.label)})})})}),(0,u.jsx)(s.sg,{span:6,children:(0,u.jsx)(s.xu,{marginStart:1,children:(0,u.jsx)(s.EI,{disabled:!g.country||(null!=(d=null==(_=R.get(null==(p=g.country)?void 0:p.value))?void 0:_.currencies)?d:[]).length<=1,errorMessage:R&&0!==R.size?void 0:T._('Oops! An error occurred and the list of available currencies did not load. We recommend disabling ad-blocker or checking your internet connection.', '[m10n]bizAccess.createAdAccount.currenciesError', 'error message saying available currencies could not be loaded for ad account creation, and we recommend disabling ad blockers or checking internet connection'),helperText:T._('Select the currency that will be used for advertising spend', '[m10n]bizAccess.createAdAccount.currencySelectList.helperText', 'Helper text for currency select list field in the account creation flow'),id:"currency",label:T._('Currency', '[m10n]bizAccess.createAdAccount.currencyLabel', 'Label for a currency dropdown'),name:"currency",onChange:function(e){var t,n=e.value;S(f(f({},g),{},{currency:{label:null!=(t=D.get(n))?t:"",value:n}}))},placeholder:T._('Select', '[m10n]bizAccess.createAdAccount.currencySelectList.placeholder', 'Placeholder for currency select list field in the account creation flow'),size:"lg",value:null==(b=g.currency)?void 0:b.value,children:(null!=(y=null==(v=R.get((null==(A=g.country)?void 0:A.value)||""))?void 0:v.currencies)?y:[]).map(function(e){return(0,u.jsx)(s.EI.Option,{label:"".concat(e.value," - ").concat(e.label),value:e.value},e.value)})})})})]})]})};p.Banner=h,t.Z=p},891875:function(e,t,n){"use strict";var r=n(20256),s=n(997526),o=n(24246),a=n(216975),i=n(917429),l=n(680811);t.Z=function(e){var t=e.adAccountInformation,n=e.termsAndConditionsChecked,c=e.setTermsAndConditionsChecked,u=(0,o.Z)(),d=t.name,_=t.country,f=t.currency;return(0,l.jsxs)(r.xu,{children:[(0,l.jsxs)(r.xu,{paddingX:4,paddingY:6,children:[(0,l.jsx)(r.xv,{color:"subtle",size:"100",children:u._('Ad account shared', '[m10n]bizAccess.add.partners.sheet.adAccount.shared', 'Ad account shared with the partner')}),(0,l.jsx)(r.xu,{marginBottom:2,marginTop:2,children:(0,l.jsxs)(r.kC,{gap:{column:0,row:2},children:[(0,l.jsx)(r.xu,{padding:2,children:(0,l.jsx)(r.JO,{accessibilityLabel:u._('Ad icon', '[m10n]bizAccess.addPartner.inviteSummarySheet.adIcon', 'Label for the ad icon'),icon:"ad",size:16})}),(0,l.jsxs)(r.xu,{children:[(0,l.jsx)(r.xv,{size:"300",children:d}),(0,l.jsx)(r.xv,{color:"subtle",size:"200",children:(0,a.nk)(u._('Country: {{ country }}  \u2022  Currency: {{ currency }}', '[m10n]bizAccess.addPartner.inviteSummarySheet.adAccountCountryAndCurrency', 'Ad account country and currency. country: ad account country, currency: ad account currency'),{country:null==_?void 0:_.label,currency:null==f?void 0:f.value})}),(0,l.jsx)(r.xv,{color:"subtle",size:"200",children:u._('Permission: Analyst', '[m10n]bizAccess.createAdAccount.permission.analyst', 'The ad account permission to be given to the partner')})]})]})}),(0,l.jsx)(r.he,{iconAccessibilityLabel:u._('Warning icon', '[m10n] businessManager.createAdAccount.createAdAccountBanner', 'Information icon accessibility label'),message:u._('Please note that the country and currency cannot be changed after the ad account is created.', '[m10n]bizAccess.createAdAccount.warningBanner', 'Banner that warns the user that currency & country cannot be changed after created a new ad account'),type:"warning"})]}),(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:s.W6M}},rounding:2,children:(0,l.jsxs)(r.xu,{padding:4,children:[(0,l.jsx)(r.xu,{marginBottom:2,children:(0,l.jsx)(r.xv,{size:"200",children:u._('Terms and Conditions', '[m10n]bizAccess.add.partners.sheet.adAccount.created.termsAndConditions.title', 'Terms and Conditions title for the created ad account')})}),(0,l.jsx)(r.xu,{marginBottom:3,children:(0,l.jsx)(r.xv,{color:"subtle",size:"200",children:(0,a.nk)(u._('You represent that you are authorized to create this ad account, and you agree to the {{ advertisingAgreement }}.', '[m10n]bizAccess.createAdAccount.disclaimer', 'Legal disclaimer. advertisingAgreement: Link to the Pinterest Advertising Agreement'),{advertisingAgreement:(0,i.Jc)(u,!0)})})}),(0,l.jsx)(r.XZ,{checked:n,id:"adAccountTermsAndConditions",label:u._('By checking this box, you agree to the above Terms and Conditions', '[m10n]bizAccess.createAdAccount.termsAndConditions', 'Terms and conditions checkbox label'),onChange:function(e){c(e.checked)},size:"md"})]})})]})}},818303:function(e,t,n){"use strict";n.d(t,{c:function(){return a},t:function(){return o}});var r=n(143754);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o=function(e){return e.reduce(function(e,t,n){var r=Math.floor(n/2);return e[r]||(e[r]=[]),e[r].push(t),e},[])},a=function(e){var t=e.resourceIdToRoles,n=e.resourceIdToDetails,o=e.includeCatalogType,a=e.i18n;return Object.entries(t).reduce(function(e,t,i){var l=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],u=l[1],d=Math.floor(i/2);return e[d]||(e[d]=[]),e[d].push({id:c,name:n&&n[c]?n[c].asset.name:"",permissions:u,type:o&&a&&n&&n[c]?(0,r.Ov)(a,n[c]):void 0}),e},[])}},917429:function(e,t,n){"use strict";n.d(t,{A2:function(){return m},Bx:function(){return d},Cc:function(){return u},Jc:function(){return c},M8:function(){return l},QV:function(){return b},Uj:function(){return f},Wv:function(){return v},XY:function(){return _},a6:function(){return p},eO:function(){return A},oG:function(){return y},q7:function(){return h},x1:function(){return i}});var r=n(20256),s=n(216975),o=n(926604),a=n(680811),i={MAIN_CONTAINER:{HEIGHT_OFFSET:"29px"},SECTIONS_CONTAINER:{HEIGHT_OFFSET:"203px",CONTENT_CONTAINER:{HEIGHT_OFFSET:"204px",WIDTH:"700px"}}},l={borderColor:"#cdcdcd",borderWidth:1},c=function(e,t){return(0,a.jsx)(r.xv,{color:t?"subtle":"default",inline:!0,size:t?"200":"300",children:(0,a.jsx)(r.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/business/pinterest-advertising-services-agreement",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"always",children:e._('Pinterest Advertising Agreement', '[m10n]bizAccess.createAdAccount.disclaimerAgreement', 'Linked text description for the Pinterest advertising agreement')})},"advAgreementLinkText")},u=function(e){return e._('Ad accounts', '[m10n]bizAccess.employeeInvite.assets.sheet.sidebar.adaccounts.label', 'Label for ad accounts section within sidebar')},d=function(e){return e._('Catalogs', '[m10n]bizAccess.employeeInvite.assets.sheet.sidebar.catalogs.label', 'Label for catalogs section within sidebar')},_=function(e){return e._('Profiles', '[m10n]bizAccess.employeeInvite.assets.sheet.sidebar.profiles.label', 'Label for profiles section within sidebar')},f=function(e,t){return e===o.lm.AGENCY&&t===o.lm.BRAND?o.SX.AGENCY_BRAND:e===o.lm.RMN&&t===o.lm.BRAND?o.SX.RMN_BRAND:e===o.lm.RMN&&t===o.lm.AGENCY?o.SX.RMN_AGENCY:e===o.lm.BRAND&&t===o.lm.AGENCY?o.SX.BRAND_AGENCY:e===o.lm.BRAND&&t===o.lm.RMN?o.SX.BRAND_RMN:void 0},m=function(e){return e===o.SX.BRAND_RMN?2:3},h=function(e,t){return(0,a.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#F9F9F9"}},height:32,padding:2,rounding:2,width:32,children:(0,a.jsx)(r.JO,{accessibilityLabel:(0,s.nk)(e._('{{ iconType }} icon', '[m10n]bizAccess.addPartner.inviteSummarySheet.adIcon', 'Label for the ad icon. iconType: icon type'),{iconType:t}).join(""),color:"default",icon:t,size:16})})};function p(e){return e.reduce(function(e,t){return e[t.asset_id]={asset:{name:t.name,id:t.asset_id},asset_type:t.type,owner:t.owner,type:t.type,resource_subtype:t.resource_subtype},e},{})}function b(e){return e.reduce(function(e,t){return e[t.asset_id]=t.permissions,e},{})}function y(e){return e.trim().replace(/^https?:\/\//,"").replace(/\/$/,"")}function v(e){return e.map(function(e){return e.domainUrl}).filter(Boolean).map(function(e){return y(e)})}var A=function(e,t){return Object.keys(t).reduce(function(n,r){var s=t[r];return e&&s&&s.includes(e)?n[r]=[e]:s&&s.length>0&&(n[r]=s),n},{})}},540846:function(e,t,n){"use strict";n.d(t,{g:function(){return l0},y:function(){return l$}});var r,s,o=n(387784),a=n(213491),i=n(945946),l=n(984576),c=n(581722),u=n(20256),d=n(537391),_=n(540015),f=n(719301),m=n(143754),h=n(766857),p=n(924591),b=n(24246),y=n(216975),v=n(501010),A=n(577356),g=n(661376),S=n(373134),x=n(680811);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=E(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||C(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return O(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var j=function(e){var t=e.selectedCountries,n=e.setSelectedCountries,r=e.onCountryFilter,s=e.useCountryNameFilter,a=e.forceDirection,i=T((0,o.useState)(!1),2),l=i[0],c=i[1],d=T((0,o.useState)(""),2),_=d[0],f=d[1],m=(0,b.Z)(),h=function(e){var r=e.checked,s=e.value;e.exclusive?n([s]):n(r?[].concat(function(e){if(Array.isArray(e))return O(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||C(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[s]):t.filter(function(e){return e!==s}))},p=(0,g.Z)({name:"CountriesResource"}),y=(0,o.useMemo)(function(){return p.data||[]},[p]),v=(0,o.useMemo)(function(){var e=_.toLowerCase().trim();return e?y.filter(function(t){return t.name.toLowerCase().trim().includes(e)}):y},[y,_]).concat().map(function(e){var t=e.name,n=e.key;return{label:t.toString(),value:n,checked:!1}}).map(function(e){return I(I({},e),{},{checked:t.includes(e.value)})}),A=(0,o.useRef)(null),E=function(){f(""),c(!1)};return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(u.hU,{ref:A,accessibilityControls:"button-popover-user-country-filter",accessibilityExpanded:l,accessibilityHaspopup:!0,accessibilityLabel:m._('Filter user country button', '[m10n] userCountryFilter.filterSelector.filterTextAccessibilityLabel', 'Accessibility label for user country filter selector button'),bgColor:"transparent",dataTestId:"button-popover-user-country-filter",icon:"filter",iconColor:"darkGray",onClick:function(){f(""),c(!l)},selected:l,size:"md"}),l&&(0,x.jsx)(u.mh,{children:(0,x.jsxs)(u.J2,{anchor:A.current,forceDirection:a,id:"popover-user-country-filter",idealDirection:"down",onDismiss:E,positionRelativeToAnchor:!1,size:"lg",children:[(0,x.jsx)(u.xu,{margin:2,children:(0,x.jsx)(u.xv,{align:"start",color:"default",size:"100",children:m._('Filter by country of business', '[m10n]userCountryFilter.filterTooltip.filterTitle', 'Title of user country filter')})}),s&&(0,x.jsx)(u.xu,{margin:2,children:(0,x.jsx)(u.Um,{accessibilityLabel:m._('Search by country name', '[m10n]userCountryFilter.searchfield.label', 'Accessibility label for country search field'),id:"countrySearchField",onChange:function(e){f(e.value)},placeholder:m._('Search by country name', '[m10n]userCountryFilter.searchfield.label', 'Accessibility label for country search field'),size:"lg",value:_})}),(0,x.jsx)(u.xu,{maxHeight:480,overflow:"scrollY",children:(0,x.jsx)(S.Z,{checkboxSize:"md",componentType:14877,direction:"column",elementType:13021,enableAllCheckbox:!1,enableLogging:!1,exclusiveSelection:!1,name:"testing",onChange:function(e){return h({checked:e.checked,value:e.value,exclusive:e.exclusive})},options:v,textSize:"200",tooltipType:"icon"})}),(0,x.jsx)(u.xu,{margin:2,paddingX:2,children:(0,x.jsxs)(u.kC,{direction:"row",flex:"grow",gap:1,justifyContent:"evenly",children:[(0,x.jsx)(u.kC.Item,{flex:"grow",children:(0,x.jsx)(u.zx,{fullWidth:!0,onClick:E,size:"sm",text:m._('Cancel', '[m10n]userCountryFilter.filterButton.cancel', 'Button text to close filter selector')})}),(0,x.jsx)(u.kC.Item,{flex:"grow",children:(0,x.jsx)(u.zx,{color:"red",dataTestId:"filter-selector-apply-button",fullWidth:!0,onClick:function(){f(""),r(),c(!1)},size:"sm",text:m._('Apply', '[m10n]userCountryFilter.filterButton.apply', 'Button text to apply changes to the filter selector')})})]})})]})})]})},z=function(e){var t=e.cancelButton,n=e.nextButton,r=(0,b.Z)();return(0,x.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.zx,{color:"transparent",disabled:t.disabled,fullWidth:!0,onClick:t.onCancel,text:t.buttonText||r._('Cancel', '[m10n]bizAccess.cancel.sheet', 'Closes the active sheet')})}),(0,x.jsx)(u.xu,{flex:"none",marginStart:2,children:n&&(0,x.jsx)(u.zx,{color:"red",disabled:n.disabled,fullWidth:!0,onClick:n.onNext,text:n.buttonText||r._('Next', '[m10n]bizAccess.sheet.next', 'Go to the next step')})})]})},w=n(900373),N=n(179168),R=n(534690),D=n(594110),k=n(283937),L=n(84723),U=n(785096),B=n(477291),M=function(e){return{field:"country",sortable:!0,isActivelySorted:!0,headerName:e._('Country', '[m10n]bizAccess.business.country', 'Business country'),minWidth:D.I.columnWidths.md,TableCellComponent:B.Z,valueGetter:function(e){return e.user.country}}},H=n(88666),Z=n(471873),G=n(600600),F=n(822612),Y=n(458765),V=n(656238),q=n(432730),Q=n(502225),W=n(859933),X=n(168583),K=n(59006),$=n(577432),J=n(488335),ee=n(120516),et=n(555787),en=n(408524),er=n(538569),es=n(618550),eo=n(89446);function ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ei(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function eu(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){ec(o,r,s,a,i,"next",e)}function i(e){ec(o,r,s,a,i,"throw",e)}a(void 0)})}}function ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(n),!0).forEach(function(t){ef(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ef(e,t,n){var r;return(r=function(e,t){if("object"!=el(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=el(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==el(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var em=function(e){var t,n=e.assetOrMemberType,r=e.searchQuery,s=e.setSearchQuery,a=e.selectedCountries,i=e.setSelectedCountries,l=(0,b.Z)(),d=(0,eo.KJ)(),_=(0,c.I0)(),m=(0,c.v9)(J.G$),h=(0,c.v9)(J.x9),p=(0,c.v9)(J.ou),y=(0,c.v9)(J.Gw),v=(0,o.useMemo)(function(){var e=e_({},a.length>0?{countries:a}:{});return{partnerFilters:e_(e_({},e),(m||[]).length>0?{ignore_business_ids:m}:{}),peopleFilters:e_(e_({},e),(h||[]).length>0?{ignore_business_ids:h}:{})}},[a,m,h]),A=v.partnerFilters,g=v.peopleFilters;switch(n){case"AD_ACCOUNT":t={onSearch:function(){_((0,Y.cE)({businessId:d,searchBy:/\d{12}/.test(r)?"id":"name",searchTerm:r,includeAssetSummary:!0,countries:a,assetOwnerBusinessIds:[d],ignoreAssetIds:p}))},accessibilityLabel:l._('Search ad accounts', '[m10n]bizAccess.assetGroup.add.search.accessibilityLabel', 'Accessibility label for search box that prompts to allow searching ad accounts by ID or name'),placeholder:l._('Search ad accounts', '[m10n]bizAccess.assetGroup.add.search.placeholder', 'Search box prompt to allow searching ad accounts by ID or name')};break;case"PROFILE":t={onSearch:function(){_((0,X.A9)({businessId:d,searchBy:/\d{12}/.test(r)?"id":"name",searchTerm:r,countries:a,assetOwnerBusinessIds:[d],ignoreAssetIds:y}))},accessibilityLabel:l._('Search profiles', '[m10n]bizAccess.profile.add.search.accessibilityLabel', 'Accessibility label for search box that prompts to allow searching profiles by ID or name'),placeholder:l._('Search profiles', '[m10n]bizAccess.profile.add.search.placeholder', 'Search box prompt to allow searching profiles by ID or name')};break;case"PEOPLE":t={onSearch:function(){_((0,W.JC)({searchBy:["FULL_NAME","EMAIL","USERNAME"],sortBy:"FULL_NAME",searchTerm:r,businessId:d,limit:f.w2,filters:g}))},accessibilityLabel:l._('Search employees', '[m10n]bizAccess.assetGroup.employee.search.accessibilityLabel', 'Accessibility label for search box that prompts to allow searching employee by name, username or email'),placeholder:l._('Employee name, username or email', '[m10n]bizAccess.assetGroup.employee.search.placeholder', 'Search box prompt to allow searching employee name, username or email')};break;case"PARTNER":t={onSearch:function(){_((0,Q.Eg)({businessId:d,searchBy:["FULL_NAME","USERNAME","BUSINESS_ID"],sortBy:"FULL_NAME",searchTerm:r,partnerType:"INTERNAL",filters:A}))},accessibilityLabel:l._('Search partners', '[m10n]bizAccess.partner.add.search.accessibilityLabel', 'Accessibility label for search box that prompts to allow searching partners by ID or name'),placeholder:l._('Search partners', '[m10n]bizAccess.partner.add.search.placeholder', 'Search box prompt to allow searching partner by name, username, or business ID')};break;case"CATALOG":t={onSearch:function(){},accessibilityLabel:l._('Search catalogs', '[m10n]bizAccess.catalog.add.search.accessibilityLabel', 'Accessibility label for catalogs search box'),placeholder:l._('Search catalogs', '[m10n]bizAccess.catalog.add.search.placeholder', 'Search box prompt to allow searching catalogs')};break;default:t={onSearch:function(){},accessibilityLabel:"",placeholder:""}}return(0,R.Z)(t.onSearch,D.I.debounceTimeOut,[r]),(0,x.jsxs)(u.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:[(0,x.jsx)(u.xu,{flex:"grow",marginBottom:4,marginTop:0,children:(0,x.jsx)(u.Um,{accessibilityLabel:t.accessibilityLabel,id:"bizAdAccountSearch",onChange:function(e){s(e.value)},placeholder:t.placeholder,size:"lg",value:r})}),["PARTNER","AD_ACCOUNT","PROFILE","CATALOG"].includes(n)&&(0,x.jsx)(u.xu,{marginBottom:4,children:(0,x.jsx)(j,{onCountryFilter:function(){t.onSearch()},selectedCountries:a,setSelectedCountries:i})})]})},eh=function(e,t,n,r,s,a,i,l,d,h,b,A,g,S,E,P,I,T,C,O){var j=(0,c.v9)(J.G$),z=(0,c.v9)(J.x9),w=(0,c.v9)(J.ou),N=(0,c.v9)(J.Gw),R=(0,o.useMemo)(function(){var e;return C.length>0&&(e=e_(e_({},e),{},{countries:C})),((null==j?void 0:j.length)||0)>0&&(e=e_(e_({},e),{},{ignore_business_ids:j.map(function(e){return e.id})})),e},[C,j]),D=(0,o.useMemo)(function(){var e;return((null==z?void 0:z.length)||0)>0&&(e=e_(e_({},e),{},{ignore_business_ids:z.map(function(e){return e.id})})),e},[z]),B=function(e){var t=d.findIndex(function(t){return t===e});t>=0?b(d.slice(0,t).concat(d.slice(t+1))):b(d.concat([e]))},es=(0,(0,v.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,eo=function(t){var n={12:e._('The number of assets within asset group would exceed the upper limit 20 for this business', '[m10n].bizAccess.addAssetError.message', 'message in error toast to show error occured because they would exceed the limit')},s=t&&t in n&&n[t.toString()];r(function(t){var n=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:s||(0,m.sQ)(e),type:"error"})})};switch(i){case"AD_ACCOUNT":return{sheetTitle:e._('Add ad accounts', '[m10].bizAccess.assetGroupsAddAssetOrUser.sheetTitle', 'title of sheet for adding ad account to asset group'),getData:function(){n((0,Y.cE)(e_(e_({},f.vk),{},{businessId:t,sortBy:"name",sortDirection:f.IR.ASCENDING,searchBy:"name",searchTerm:"",includeAssetSummary:!0,assetOwnerBusinessIds:[t],ignoreAssetIds:w})))},selectIsLoading:$.wk,onSortChange:function(e,r){n((0,Y.cE)({businessId:t,sortBy:e,sortDirection:r,includeAssetSummary:!0,assetOwnerBusinessIds:[t],ignoreAssetIds:w}))},onPageChange:function(e){n((0,Y.cE)({businessId:t,page:e,searchBy:"name",searchTerm:O,includeAssetSummary:!0,assetOwnerBusinessIds:[t],ignoreAssetIds:w}))},onRowCountChange:function(e){n((0,Y.cE)({businessId:t,limit:e,searchBy:"name",searchTerm:O,includeAssetSummary:!0,assetOwnerBusinessIds:[t]}))},headerSubText:e._('You can add or remove ad accounts any time, and you can add them to multiple asset groups. After adding, everyone with permissions for this asset group will also have them for the ad account. To view or change permissions for employees or partners, go to the members tab.', '[m10].bizAccess.assetGroupsAddAssetOrUser.headerSubText', 'information telling user to select which ad accounts to add to asset group. They can add or remove ad accounts any time, or assign one ad account to multiple asset groups'),columnDefs:[(0,U.Z)({selectedIds:d,onSelectChange:B,disableFilter:I?function(e,n){return e!==t||!!n}:void 0,size:"sm"}),(0,k.Z)(e,{headerName:e._('Ad account name', '[m10].bizAccess.assetGroup.adAccount, header for ad account column', 'Header of ad account name column in table'),clickable:!1}),(0,L.Z)(e),(0,H.Z)(e,{width:"30%",headerName:e._('Ad account country', '[m10].bizAccess.assetGroup.adAccountsTable.columns.country', 'Header of ad account country column in table'),renderCell:function(t){var n=t.data.country;return(0,x.jsx)(u.xv,{size:"200",children:(0,_.al)(n,e)})}})],onSubmit:function(){eu(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,K.Ct)({assetGroupId:l.id,assetsToAdd:d,businessId:t,businessHierarchyNodeId:h});case 3:n((0,V.NQ)({businessId:t,resourceType:"AD_ACCOUNT"},{assetsToAdd:d})),r(function(t){var n=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:(0,y.nk)(e.ngettext('{{numAdAccounts}} ad account has been successfully added to {{assetGroupName}}', '{{numAdAccounts}} ad accounts have been successfully added to {{assetGroupName}}', d.length, '[m10n]bizAccess.assetGroup.adAdAccount.success', 'Toast message for successfully adding ad accounts to asset groups numAdAccounts: number of ad accounts user is adding, assetGroupName: name of asset group'),{numAdAccounts:d.length,assetGroupName:l.name}).join("")})}),T({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"add-ad-accounts-to-asset-group-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:t}),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),eo(o.t0&&"object"===el(o.t0)&&"api_error_code"in o.t0?String(o.t0.api_error_code):void 0);case 11:s();case 12:case"end":return o.stop()}},o,null,[[0,8]])}))()}};case"PEOPLE":return{sheetTitle:e._('Add employees', '[m10].bizAccess.assetGroupsAddAssetOrUser.employees.sheetTitle', 'title of sheet for adding employees to asset group'),getData:function(){n((0,W.JC)(e_(e_({},f.vk),{},{searchBy:["FULL_NAME","EMAIL","USERNAME"],sortBy:"FULL_NAME",sortDirection:f.IR.ASCENDING,searchTerm:"",businessId:t,filters:D})))},selectIsLoading:en.gB,allAssetsSelected:!1,onSortChange:function(e,r){n((0,W.JC)({sortBy:e,sortDirection:r,businessId:t,filters:D}))},onPageChange:function(e){n((0,W.JC)({searchBy:["FULL_NAME","EMAIL","USERNAME"],searchTerm:O,page:e,businessId:t,filters:D}))},onRowCountChange:function(e){n((0,W.JC)({searchBy:["FULL_NAME","EMAIL","USERNAME"],searchTerm:O,limit:e,businessId:t,filters:D}))},headerSubText:0===A?e._('Select employees that you would like to add to this asset group. You\'ll be able to assign their permissions on the next step.', '[m10].bizAccess.assetGroupsAddAssetOrUserPartner.employees.first.step.headerSubText', 'Sub header text to inform user to select employees to be added to the asset group.'):e._('Assign Ad account permissions to the selected employees below. All employees will receive Publisher permissions to profiles in this asset group.', '[m10].bizAccess.assetGroupsAddAssetOrUserPartner.employees.second.step.headerSubText', 'Sub header text to inform user to select permissions to employees selected in the previous step.'),columnDefs:0===A?[(0,U.Z)({selectedIds:d,onSelectChange:B}),(0,Z.Z)(e,{headerName:e._('Employee name', '[m10].bizAccess.assetGroup.employee, header for employee column', 'Header of employee name column in table'),type:"PEOPLE",clickable:!1}),(0,F.Z)(e,{field:"business_roles"})]:[(0,Z.Z)(e,{headerName:e._('Employee name', '[m10].bizAccess.assetGroup.employee, header for employee column', 'Header of employee name column in table'),type:"PEOPLE",clickable:!1}),(0,F.Z)(e,{field:"business_roles"}),(0,G.Z)(e,function(e,t){E(e_(e_({},S),{},ef({},e,t)))},S,"ASSET_GROUPS",{},void 0,void 0,void 0,void 0,void 0,!0,!0,e._('Ad account permissions', '[m10n]bizAccess.business.assetGroup.employee.permission', 'employee permission'))],onSubmit:function(){0===A?g(1):eu(regeneratorRuntime.mark(function e(){var r,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=a.filter(function(e){return d.includes(e.id)&&S[e.id].length>0}).map(function(e){return{id:e.id,user:e.user,permissions:S[e.id]}}),e.next=5,Promise.allSettled(r.filter(function(e){return e.permissions.length>0}).map(function(e){return(0,K.AY)({businessId:t,assetGroupId:l.id,employeeId:e.id,permissions:e.permissions,businessHierarchyNodeId:h})}));case 5:o=e.sent,c=r.filter(function(e,t){return"fulfilled"===o[t].status}),o.filter(function(e){return"rejected"===e.status}).length>0&&eo(),s(),c.length>0&&(P({employeeOrPartnerPermissions:c,assetOrMemberType:i}),n((0,V.dQ)({businessId:t},{userType:"PEOPLE"})),T({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"add-people-to-asset-group-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:t})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),eo();case 16:case"end":return e.stop()}},e,null,[[0,13]])}))()}};case"PROFILE":return{sheetTitle:e._('Add profiles', '[m10].bizAccess.assetGroupsAddProfile.sheetTitle', 'title of sheet for adding profiles to asset group'),getData:function(){n((0,X.A9)({businessId:t,sortBy:"name",sortDirection:f.IR.ASCENDING,searchBy:"name",searchTerm:"",limit:f.cU,assetOwnerBusinessIds:[t],ignoreAssetIds:N}))},selectIsLoading:er.JQ,onSortChange:function(e,r){n((0,X.A9)({businessId:t,sortBy:e,sortDirection:r,assetOwnerBusinessIds:[t],ignoreAssetIds:N}))},onPageChange:function(){},onRowCountChange:function(){},headerSubText:e._('Select which profiles you would like to include in this asset group. You can always add or remove profiles at a later time. Profiles can be added to multiple asset groups. Members will be granted Publisher permissions to Profiles selected below. Learn more', '[m10].bizAccess.assetGroupsAddProfiles.headerSubText', 'information telling user to select which profiless to add to asset group. They can add or remove profiles at a later time, or assign one profile to multiple asset groups'),columnDefs:[(0,U.Z)({selectedIds:d,onSelectChange:B,disableFilter:I?function(e){return e!==t}:void 0,size:"sm"}),(0,k.Z)(e,{headerName:e._('Profile name', '[m10].bizAccess.assetGroup.profile, header for profile column', 'Header of profile name column in table'),clickable:!1,hidesAvatar:!1}),(0,L.Z)(e),(0,H.Z)(e,{width:"30%",headerName:e._('Owner\'s country', '[m10].bizAccess.assetGroup.profilesTable.columns.country', 'Header of profile country column in table'),renderCell:function(t){var n=t.data.asset;return(0,x.jsx)(u.xv,{size:"200",children:(0,_.al)((null==n?void 0:n.country)||"",e)})}})],onSubmit:function(){eu(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,K.Ct)({assetGroupId:l.id,assetsToAdd:d,businessId:t,businessHierarchyNodeId:h});case 3:n((0,V.NQ)({businessId:t,resourceType:"PROFILE"},{assetsToAdd:d})),r(function(t){var n=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:(0,y.nk)(e.ngettext('{{numProfiles}} profile has been successfully added to {{assetGroupName}}', '{{numProfiles}} profiles have been successfully added to {{assetGroupName}}', d.length, '[m10n]bizAccess.assetGroup.adAdAccount.success', 'Toast message for successfully adding profiles to asset groups numProfiles: number of profiles user is adding, assetGroupName: name of asset group'),{numProfiles:d.length,assetGroupName:l.name}).join("")})}),T({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"add-profiles-to-asset-group-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:t}),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),eo(o.t0&&"object"===el(o.t0)&&"api_error_code"in o.t0?String(o.t0.api_error_code):void 0);case 11:s();case 12:case"end":return o.stop()}},o,null,[[0,8]])}))()}};case"PARTNER":return{sheetTitle:e._('Add partners', '[m10].bizAccess.assetGroupsAddAssetOrUserPartner.sheetTitle', 'title of sheet for adding partner to asset group'),getData:function(){n((0,Q.Eg)(e_(e_({},f.vk),{},{businessId:t,sortBy:"full_name",sortDirection:f.IR.ASCENDING,searchBy:"FULL_NAME",searchTerm:"",partnerType:"INTERNAL",filters:R})))},selectIsLoading:et._1,allAssetsSelected:!1,onSortChange:function(e,r){n((0,Q.Eg)({businessId:t,sortBy:e,sortDirection:r,partnerType:"INTERNAL",filters:R}))},onPageChange:function(e){n((0,Q.Eg)({searchBy:["FULL_NAME","BUSINESS_ID","USERNAME"],searchTerm:O,page:e,businessId:t,partnerType:"INTERNAL",filters:R}))},onRowCountChange:function(e){n((0,Q.Eg)({searchBy:["FULL_NAME","BUSINESS_ID","USERNAME"],searchTerm:O,limit:e,businessId:t,partnerType:"INTERNAL",filters:R}))},headerSubText:0===A?e._('Select partners that you would like to add to this asset group. You\'ll be able to assign their permissions on the next step.', '[m10].bizAccess.assetGroupsAddAssetOrUserPartner.partners.first.step.headerSubText', 'Sub header text to inform user to select partners to be added to the asset group.'):e._('Assign Ad account permissions to the selected partners below. All partners will receive Publisher permissions to profiles in this asset group.', '[m10].bizAccess.assetGroupsAddAssetOrUserPartner.partners.second.step.headerSubText', 'Sub header text to inform user to select permissions to partners selected in the previous step.'),columnDefs:0===A?[(0,U.Z)({selectedIds:d,onSelectChange:B}),(0,Z.Z)(e,{headerName:e._('Partner name', '[m10].bizAccess.assetGroup.partner, header for partner column', 'Header of partner name column in table'),type:"PARTNER",clickable:!1}),M(e)]:[(0,Z.Z)(e,{headerName:e._('Partner name', '[m10].bizAccess.assetGroup.partner, header for partner column', 'Header of partner name column in table'),type:"PARTNER",clickable:!1}),(0,G.Z)(e,function(e,t){E(e_(e_({},S),{},ef({},e,t)))},S,"ASSET_GROUPS",{},void 0,void 0,void 0,void 0,void 0,!0,!0,e._('Ad account permissions', '[m10n]bizAccess.addAssetOrUserToAssetGroupSheet.adAccount.partnerPermission', 'Label for business permission on a ad account'))],onSubmit:function(){0===A?g(1):eu(regeneratorRuntime.mark(function e(){var r,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=a.filter(function(e){return d.includes(e.id)&&S[e.id].length>0}).map(function(e){return{id:e.id,user:e.user,permissions:S[e.id]}}),e.next=5,Promise.allSettled(r.filter(function(e){return e.permissions.length>0}).map(function(e){return(0,K.i8)({businessId:t,assetGroupId:l.id,partnerId:e.id,permissions:e.permissions,businessHierarchyNodeId:h})}));case 5:o=e.sent,c=r.filter(function(e,t){return"fulfilled"===o[t].status}),o.filter(function(e){return"rejected"===e.status}).length>0&&eo(),s(),c.length>0&&(P({employeeOrPartnerPermissions:c,assetOrMemberType:i}),n((0,V.dQ)({businessId:t},{userType:"PARTNER"})),T({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"add-partners-to-asset-group-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:t})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),eo();case 16:case"end":return e.stop()}},e,null,[[0,13]])}))()}};case"CATALOG":return{sheetTitle:e._('Add catalogs', '[m10].bizAccess.assetGroupsAddAssetOrUser.sheetTitle.catalogs', 'title of sheet for catalogs to asset group'),getData:function(){n((0,q.jk)({businessId:t,limit:f.xX}))},selectIsLoading:ee.e_,allAssetsSelected:!1,onSortChange:function(){n((0,q.jk)({businessId:t,limit:f.xX}))},onPageChange:function(){},onRowCountChange:function(){},headerSubText:e._('Select which catalogs you would like to include in this asset group. You can always add or remove catalogs at a later time. Catalogs can be added to multiple asset groups.', '[m10].bizAccess.assetGroupsAddAssetOrUser.headerSubText.catalogs', 'information telling user to select which catalogs to add to asset group. They can add or remove catalogs any time, or assign one ad account to multiple asset groups'),columnDefs:[(0,U.Z)({selectedIds:d,onSelectChange:B,disableFilter:I?function(e,n){return e!==t||!!n}:void 0}),(0,k.Z)(e,{headerName:e._('Catalog', '[m10].bizAccess.assetGroup.catalog', 'Header of catalog name column in table'),clickable:!1}),(0,L.Z)(e)],onSubmit:function(){eu(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!es){o.next=6;break}return o.next=4,(0,K.Ct)({assetGroupId:l.id,assetsToAdd:d,businessId:t,businessHierarchyNodeId:h});case 4:n((0,V.NQ)({businessId:t,resourceType:"CATALOG"},{assetsToAdd:d})),r(function(t){var n=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:(0,y.nk)(e.ngettext('{{numCatalogs}} catalog has been successfully added to {{assetGroupName}}', '{{numCatalogs}} catalogs have been successfully added to {{assetGroupName}}', d.length, '[m10n]bizAccess.assetGroup.addCatalog.success', 'Toast message for successfully adding catalog to asset groups numCatalogs: number of catalogs user is adding, assetGroupName: name of asset group'),{numCatalogs:d.length,assetGroupName:l.name}).join(""),type:"success"})});case 6:T({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"add-catalogs-to-asset-group-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:t}),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(0),eo(o.t0&&"object"===el(o.t0)&&"api_error_code"in o.t0?String(o.t0.api_error_code):void 0);case 12:s();case 13:case"end":return o.stop()}},o,null,[[0,9]])}))()}};default:return{sheetTitle:"",headerSubText:"",getData:function(){},onSortChange:function(){},onPageChange:function(){},onRowCountChange:function(){},selectIsLoading:function(){return!1},allAssetsSelected:!1,columnDefs:[],onSubmit:function(){}}}},ep=function(e){var t,n=e.assetOrMemberType,r=e.assetGroupInfo,s=e.hideSheet,a=(0,b.Z)(),i=r.id,l=(0,eo.KJ)(),_=ea((0,o.useState)(0),2),p=_[0],y=_[1],v=(0,c.I0)(),g=(0,A.dI)().showToast,S=(0,eo.HU)().setAddUserToAssetGroupConfirmation,E=(0,(0,d.g)().getParentHierarchyForIdIfExists)(l),P=null==E?void 0:E.id,I=(0,N.Z)().containsSharedPartner,T=((0,c.v9)(J.ou)||[]).length>0,C=(0,h.ZP)(P?"BUSINESS_ACCESS_BUSINESS_HIERARCHY":"BUSINESS_ACCESS_ASSET_GROUPS");switch(n){case"AD_ACCOUNT":t=es.Xj;break;case"PROFILE":t=es.ZD;break;case"PEOPLE":t=es.Aj;break;case"PARTNER":t=es.im;break;case"CATALOG":t=ee.zW;break;default:t=function(){return[]}}var O=(0,c.v9)(t),j="CATALOG"===n?Object.values(O||{}):O,R=ea((0,o.useState)([]),2),k=R[0],L=R[1],U=ea((0,o.useState)({}),2),B=U[0],M=U[1],H=ea((0,o.useState)(""),2),Z=H[0],G=H[1],F=ea((0,o.useState)([]),2),Y=F[0],q=F[1],Q=eh(a,l,v,g,s,j,n,r,k,P,L,p,y,B,M,S,I,C,Y,Z),W=Q.getData,X=Q.selectIsLoading,K=Q.onSortChange,$=Q.onRowCountChange,et=Q.onPageChange,en=Q.sheetTitle,er=Q.headerSubText,ei=Q.columnDefs,el=Q.onSubmit;(0,o.useEffect)(function(){W(),("PEOPLE"===n||"PARTNER"===n)&&v((0,V.dQ)({businessId:l,limit:f.xX},{userType:n,updateDataOnly:!0}))},[l]),(0,o.useEffect)(function(){C({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",component_id:"asset-group-sheet",business_id:l})},[C,l]);var ec=(0,c.v9)(X),eu="PEOPLE"!==n&&"PARTNER"!==n||1!==p||k.every(function(e){return B[e]&&B[e].length>0}),ed=j.filter(function(e){return"PEOPLE"===n||"PARTNER"===n?0===p||k.includes(e.id):"CATALOG"!==n||"COLLABORATIVE"!==e.resource_subtype}),e_=a._('Step 1 of 2', '[m10n]bizAccess.addAssetOrUserToAssetGroupSheet.steps.first', 'Label to identify the current step, first, on the add asset or user to asset group flow'),ef=a._('Step 2 of 2', '[m10n]bizAccess.addAssetOrUserToAssetGroupSheet.steps.first', 'Label to identify the current step, second, on the add asset or user to asset group flow'),ep="";return["PEOPLE","PARTNER"].includes(n)&&(ep=0===p?e_:ef),(0,x.jsx)(w.Z,{footer:(0,x.jsx)(u.xu,{"data-test-id":"add-asset-or-user-to-asset-group-flow-sheet-footer",children:(0,x.jsx)(z,{cancelButton:{onCancel:s},nextButton:{onNext:function(){return el()},disabled:0===k.length||!eu,buttonText:"AD_ACCOUNT"===n||"PROFILE"===n||"CATALOG"===n||1===p?(0,m.nI)(a):(0,m.L$)(a)}})}),hideSheet:s,size:"lg",subTitle:ep,title:en,children:(0,x.jsxs)(u.kC,{direction:"column",height:"100%",children:[(0,x.jsxs)(u.xu,{children:[(0,x.jsxs)(u.xu,{width:"100%",children:[(0,x.jsxs)(u.xu,{paddingY:4,children:[er&&(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.he,{iconAccessibilityLabel:a._('Icon for describing how profile permissions in asset groups work when adding a profile', '[m10n].bizAccess.assetGroupAddAsset.profilesDescription.banner.icon', 'Icon for banner showing how profile permissions in asset groups work'),message:er,type:"infoBare"})}),"PARTNER"===n&&1===p&&(0,x.jsx)(u.xu,{marginTop:2,children:(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.he,{message:a._('If your partner already has access to one or more assets within this asset group, they will retain their preexisting permissions and receive the permission you assign below.', '[m10].bizAccess.assetGroupsAddAssetOrUserPartner.partners.second.step.headerSubText2', 'Text explaning to the user about asset permission rules.')})})})]}),(0,x.jsxs)(u.xu,{marginBottom:I?4:void 0,children:["PEOPLE"===n&&1===p&&T&&(0,x.jsx)(u.he,{iconAccessibilityLabel:a._('Icon for adding employees information banner', '[m10n].bizAccess.assetGroupAddAsset.employees.banner.icon', 'Icon for banner showing constraints on asset group permissions granted to employees'),message:a._('This asset group includes ad accounts with varying permission levels. If you assign permissions that exceed your own permission level, the employee will receive the same permission level as the business owner.', '[m10n].bizAccess.assetGroupAddAsset.employees.banner', 'Banner showing constraints on asset group permissions granted to employees')}),"PARTNER"===n&&1===p&&T&&(0,x.jsx)(u.he,{iconAccessibilityLabel:a._('Icon for adding partner information banner', '[m10n].bizAccess.assetGroupAddAsset.partners.banner.icon', 'Icon for banner showing constraints on asset group permissions granted to partners'),message:a._('This asset group includes ad accounts with varying permission levels. If you assign permissions that exceed your own permission level, the partner will receive the same permission level as the business owner.', '[m10n].bizAccess.assetGroupAddAsset.employees.banner', 'Banner showing constraints on asset group permissions granted to employees')}),"AD_ACCOUNT"===n&&I&&(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.he,{iconAccessibilityLabel:a._('Icon for adding ad account when asset group contains partners information banner', '[m10n].bizAccess.assetGroupAddAsset.adAccountsWithPartner.banner.icon', 'Icon for banner showing constraints for adding ad accounts when they have shared partners'),message:a._('This asset group contains partners. You may only add ad accounts you own to this asset group.', '[m10n].bizAccess.assetGroupAddAsset.adAccountsWithPartner.banner', 'Banner showing constraints for adding ad accounts when they have shared partners')})}),"PROFILE"===n&&I&&(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.he,{iconAccessibilityLabel:a._('Icon for adding profile when asset group contains partners information banner', '[m10n].bizAccess.assetGroupAddAsset.profilesWithPartner.banner.icon', 'Icon for banner showing constraints for adding profiles when they have shared partners'),message:a._('This asset group contains partners. You may only add profiles you own to this asset group.', '[m10n].bizAccess.assetGroupAddAsset.profilesWithPartner.banner', 'Banner showing constraints for adding ad accounts when they have shared partners'),type:"info"})}),"CATALOG"===n&&I&&(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.he,{iconAccessibilityLabel:a._('Icon for adding catalog when asset group contains partners information banner', '[m10n].bizAccess.assetGroupAddAsset.catalogsWithPartner.banner.icon', 'Icon for banner showing constraints for adding catalogs when they have shared partners'),message:a._('This asset group contains partners. You may only add catalogs you own to this asset group.', '[m10n].bizAccess.assetGroupAddAsset.catalogsWithPartner.banner', 'Banner showing constraints for adding catalogs when they have shared partners'),type:"neutral"})})]})]}),(!["PEOPLE","PARTNER"].includes(n)||0===p)&&(0,x.jsx)(em,{assetOrMemberType:n,searchQuery:Z,selectedCountries:Y,setSearchQuery:G,setSelectedCountries:q})]}),(0,x.jsx)(u.kC.Item,{flex:"grow",children:(0,x.jsx)(u.xu,{height:"100%",overflow:"auto",children:(0,x.jsx)(D.Z,{columnDefs:ei,id:i,isLoading:ec,isPaginationOptional:!0,onPageChange:et,onRowCountChange:$,onSortChange:K,pageType:f.Q6.ASSET_GROUPS,rowData:ed})})})]})})},eb=n(640059),ey=n(800287),ev=n(696749),eA=function(e){var t=e.closeButton,n=e.deleteButton,r=e.declineButton,s=e.acceptButton,o=e.resendButton,a=(0,b.Z)();return(0,x.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,x.jsxs)(u.xu,{children:[r&&(0,x.jsx)(u.xu,{"data-test-id":"partner-send-invite-decline",children:(0,x.jsx)(u.zx,{color:"transparent",disabled:r.disabled,fullWidth:!0,onClick:r.onDecline,text:r.buttonText||a._('Decline Invite', '[m10n]bizAccess.sheet.decline', 'Decline the active invite')})}),n&&(0,x.jsx)(u.xu,{"data-test-id":"partner-send-invite-delete",children:(0,x.jsx)(u.zx,{color:"transparent",disabled:n.disabled,fullWidth:!0,onClick:n.onDelete,text:n.buttonText||a._('Delete', '[m10n]bizAccess.sheet.delete', 'Delete the active invite')})})]}),(0,x.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.zx,{color:"gray",disabled:t.disabled,fullWidth:!0,onClick:t.onClose,text:t.buttonText||a._('Close', '[m10n]bizAccess.close.sheet', 'Closes the active invite')})}),(0,x.jsxs)(u.xu,{flex:"none",marginStart:2,children:[s&&(0,x.jsx)(u.xu,{"data-test-id":"accept-invite-button",children:(0,x.jsx)(u.zx,{color:"red",disabled:s.disabled,fullWidth:!0,onClick:s.onAccept,text:s.buttonText||a._('Accept Invite', '[m10n]bizAccess.sheet.resend', 'Resend visible invite')})}),o&&(0,x.jsx)(u.zx,{color:"red",disabled:o.disabled,fullWidth:!0,onClick:o.onResend,text:o.buttonText||a._('Resend Invite', '[m10n]bizAccess.sheet.resend', 'Resend visible invite')})]})]})]})},eg=n(305583),eS=n(37755);function ex(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eE=function(e){var t,n=e.hideSheet,r=e.invite,s=(0,c.I0)(),a=(0,b.Z)(),i=(0,A.dI)().showToast,l=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ex(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ex(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=l[0],_=l[1],m=r.sender_business_hierarchy,y=r.receiver_user_info,v=r.invite_data,g=r.id,S=(0,eo.KJ)(),E=(0,h.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY_INVITE"),P=(0,ey.NM)().selectedAccount,I=(null==P?void 0:P.name)||"";if(!m||!y||!v)return null;var T=a._('Approve or reject business hierarchy request', '[m10n]bizAccess.businessHierarchy.invite.sheet.header', 'Header for reviewing business hierarchy invite you have received');return(0,x.jsx)(w.Z,{footer:function(e){var t=e.onDismissStart;return(0,x.jsx)(eA,{acceptButton:{onAccept:function(){g&&s((0,eg.As)({inviteId:g,businessEntityId:S,inviteType:"BUSINESS_HIERARCHY_CHILD",action:"ACCEPT",onSuccess:function(){t(),E({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-hierarchy-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"accept-invite",business_id:S,business_hierarchy_id:m.id||""}),i(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,ev.Z)(a._('You are now a part of {{ hierarchyName }}\u2019s business hierarchy', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.sheet.accept.success', 'Toast message for successfully accepting an invite, hierarchyName: name of the business hierarchy.'),{hierarchyName:m.name||""})})}),s((0,eS.F)(S||""))},onFailure:function(e){var n=a._('There was an error in accepting the invite. Please try again.', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.sheet.accept.error', 'Error message if accepting an invite fails');t(),i(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e.message_detail||n,type:"error"})})}}))},disabled:!d,buttonText:a._('Approve', '[m10n]bizAccess.businessHierarchy.invite.sheet.approve.buttonText', 'Button text for the approve invite button for a received business hierarchy invite')},closeButton:{onClose:n},declineButton:{onDecline:function(){g&&s((0,eg.As)({inviteId:g,businessEntityId:S,inviteType:"BUSINESS_HIERARCHY_CHILD",action:"REJECT",onSuccess:function(){E({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-hierarchy-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"decline-invite",business_id:S,business_hierarchy_id:m.id||""}),t(),i(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:a._('Invitation rejected', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.sheet.reject.success', 'Toast message for successfully rejecting an invite')})}),s((0,eS.F)(S||""))},onFailure:function(e){var n=a._('There was an error in rejecting the invite. Please try again.', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.sheet.reject.error', 'Error message if rejecting an invite fails');t(),i(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e.message_detail||n,type:"error"})})}}))},buttonText:a._('Reject', '[m10n]bizAccess.businessHierarchy.invite.sheet.reject.buttonText', 'Button text for the reject invite button for a received business hierarchy invite')}},"sheet-base-footer")},hideSheet:n,title:T,children:(0,x.jsxs)(u.xu,{"data-test-id":"bh-child-business-invite-review-sheet",marginTop:4,children:[(0,x.jsx)(u.xv,{children:(0,ev.Z)(a._('{{hierarchyName}} has requested to add you to their business hierarchy', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.description', 'Description text for a received child business business hierarchy invite. hierarchyName: name of the business hierarchy'),{hierarchyName:m.name||""})}),(0,x.jsx)(u.xu,{marginBottom:4}),(0,x.jsxs)(u.aV,{label:(0,x.jsx)(u.xv,{weight:"bold",children:(0,ev.Z)(a._('Approving this request will allow {{hierarchyName}} to:', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.explanation.label', 'Label for the bulleted explanation of a received child business business hierarchy invite. hierarchyName: name of the business hierarchy'),{hierarchyName:m.name||""})},"approving-this-request"),type:"unordered",children:[(0,x.jsx)(u.aV.Item,{text:(0,x.jsx)(u.xv,{children:a._('Create and manage assets you own and those that are shared with you', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.explanation.assetPermissions', 'List item text explaining which asset permissions the business hierarchy will gain upon the user accepting the invite')})},"create-and-manage-assets"),(0,x.jsx)(u.aV.Item,{text:(0,x.jsx)(u.xv,{children:a._('Add and manage your employees and partners', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.explanation.userPermissions', 'List item text explaining which user (employees, partners, etc.,) permissions the business hierarchy will gain upon the user accepting the invite')})},"add-and-manage-your-employees-and-partners"),(0,x.jsx)(u.aV.Item,{text:(0,x.jsx)(u.xv,{children:a._('Enforce security features on your business from your account', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.explanation.securityFeatures', 'List item text explaining which security features the business hierarchy will be able to control upon the user accepting the invite')})},"enforce-security-features")]}),(0,x.jsx)(u.xu,{marginBottom:6}),(0,x.jsx)(u.he,{iconAccessibilityLabel:a._('Warning', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.warning.icon', 'A11y description of warning icon in for a warning banner in a child business business hierarchy invite'),message:(0,x.jsx)(u.xv,{children:(0,ev.Z)(a._('Once approved, {{hierarchyName}} will have full access to your Business Manager. You may remove your business from their hierarchy by contacting support.', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.warning', 'Warning text for a child business business hierarchy invite. hierarchyName: name of the business hierarchy'),{hierarchyName:m.name||""})},"sheet-base-content-slim-banner"),type:"warning"}),(0,x.jsx)(u.xu,{marginBottom:4}),(0,x.jsx)(u.XZ,{checked:d,id:"childBusinessBusinessHierarchyconfirmationChecked",label:(0,ev.Z)(a._('I confirm that {{childBusinessName}} can be managed by {{hierarchyName}}', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.confirmationChecked.label', 'Label for the confirmationChecked checkbox for a child business business hierarchy invite. hierarchyName: name of the business hierarchy childBusinessName: name of the child business'),{hierarchyName:m.name||"",childBusinessName:I||y.full_name||""}),onChange:function(e){return _(e.checked)}})]},"sheet-base-content")})},eP=n(583875),eI=n(995514),eT=n(157498),eC=function(e){var t,n=e.hideSheet,r=e.invite,s=(0,c.I0)(),o=(0,b.Z)(),a=(0,A.dI)().showToast,i=(0,eI.Z)(),l=r.sender_business_hierarchy,_=r.invite_data,m=r.receiver_user_info,v=r.id,g=(0,eo.KJ)(),S=(0,h.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY_INVITE"),E=(0,d.g)().fetchData,P=(0,ey.NM)().selectedAccount,I=(null==P?void 0:P.name)||"",T=(0,eT.mN)()(null!=(t=null==P?void 0:P.id)?t:""),C=null==T?void 0:T.avatar_color_index;return(0,x.jsx)(w.Z,{footer:function(e){var t=e.onDismissStart;return(0,x.jsx)(eA,{acceptButton:{onAccept:function(){v&&s((0,eg.As)({inviteId:v,businessEntityId:g,inviteType:"BUSINESS_HIERARCHY_MEMBER",action:"ACCEPT",onSuccess:function(){t(),a(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,ev.Z)(o._('Success! You are now a Manager of {{ hierarchyName }}\u2019s business hierarchy', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.accept.success', 'Toast message for successfully accepting an invite, hierarchyName: name of the business hierarchy.'),{hierarchyName:(null==l?void 0:l.name)||""})})}),S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-hierarchy-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"accept-invite",business_id:g,business_hierarchy_id:(null==l?void 0:l.id)||""}),s((0,eS.F)(g||"")),E(!0)},onFailure:function(e){var n=o._('There was an error in accepting the invite. Please try again.', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.accept.error', 'Error message if accepting an invite fails');t(),a(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e.message_detail||n,type:"error"})})}}))},buttonText:o._('Approve', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.approve.buttonText', 'Button text for the approve invite button for a received business hierarchy invite')},closeButton:{onClose:n},declineButton:{onDecline:function(){v&&s((0,eg.As)({inviteId:v,businessEntityId:g,inviteType:"BUSINESS_HIERARCHY_MEMBER",action:"REJECT",onSuccess:function(){t(),a(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,ev.Z)(o._('You have rejected {{ hierarchyName }}\u2019s invite', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.sheet.reject.success', 'Toast message for successfully rejecting an invite, hierarchyName: name of the business hierarchy.'),{hierarchyName:(null==l?void 0:l.name)||""})})}),S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-hierarchy-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"decline-invite",business_id:g,business_hierarchy_id:(null==l?void 0:l.id)||""}),s((0,eS.F)(g||""))},onFailure:function(e){var n=o._('There was an error in rejecting the invite. Please try again.', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.reject.error', 'Error message if rejecting an invite fails');t(),a(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e.message_detail||n,type:"error"})})}}))},buttonText:o._('Reject', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.reject.buttonText', 'Button text for the reject invite button for a received business hierarchy invite')}})},hideSheet:n,subTitle:null!=_&&_.last_updated_time?i(new Date(_.last_updated_time).toString()):"",title:o._('Organization manager invite', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.header', 'Header for reviewing organization manager invite you have received'),children:(0,x.jsxs)(u.xu,{"data-test-id":"bh-om-invite-review-sheet",children:[(0,x.jsx)(u.xu,{alignItems:"start",display:"flex",justifyContent:"between",marginBottom:6,children:(0,x.jsxs)(u.kC,{alignItems:"center",gap:2,children:[(0,x.jsx)(eP.qE,{color:C,name:(null==l?void 0:l.name)||"",size:"md",src:(null==l?void 0:l.img_medium_url)||""}),(0,x.jsxs)(u.kC,{direction:"column",gap:1,children:[(0,x.jsx)(u.xv,{color:"default",size:"400",weight:"bold",children:null==l?void 0:l.name}),(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:o._('Parent business', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.parentBusiness.text', 'Text to display the parent business subtitle')})]})]})}),(0,x.jsx)(u.xu,{marginBottom:4,width:"100%",children:(0,x.jsx)(u.xv,{align:"start",inline:!0,size:"300",children:(0,y.nk)(o._('{{ businessHierarchyName }} has invited {{ receiverEmail }} to be an Organization manager of their business hierarchy.', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.header.text', 'Text for header organization manager invite. businessHierarchyName: business hierarchy name that is inviting, receiverEmail: invite receiver email.'),{businessHierarchyName:(null==l?void 0:l.name)||"",receiverEmail:(0,x.jsx)(u.xv,{align:"start",inline:!0,size:"300",weight:"bold",children:(0,y.nk)(o._('{{ receiverEmail }}', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.header.text.receiver.email', 'Receiver email for header organization manager invite. receiverEmail: invite receiver email.'),{receiverEmail:I||(null==m?void 0:m.email)||""})},"receiverEmail")})})}),(0,x.jsx)(u.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,x.jsx)(u.xv,{align:"start",size:"300",weight:"bold",children:(0,y.nk)(o._('As an organization manager of {{ businessHierarchyName }}\u2019s business hierarchy, you will be able to do the following for their associated businesses:', '[m10n]bizAccess.businessHierarchy.orgManager.invite.accept.description', 'Text that describes the accept invite action for an organization manager request page. businessHierarchyName: business hierarchy name that is inviting.'),{businessHierarchyName:(null==l?void 0:l.name)||""})})}),(0,x.jsx)(u.xu,{marginBottom:4,width:"100%",children:(0,x.jsxs)(u.aV,{spacing:"condensed",type:"unordered",children:[(0,x.jsx)(u.aV.Item,{text:o._('Add and delete employees and partners', '[m10]bizAccess.businessHierarchy.orgManager.invite.accept.description.list.addDeleteEmployeesAndPartners', 'list item explaining the organization manager will add and delete employees and partners')},"add-delete-employees-and-partners"),(0,x.jsx)(u.aV.Item,{text:o._('Create ad accounts', '[m10]bizAccess.businessHierarchy.orgManager.invite.accept.description.list.createAdAccounts', 'list item explaining the organization manager will create ad accounts')},"create-ad-accounts"),(0,x.jsx)(u.aV.Item,{text:o._('Assign and revoke permissions for employees and partners', '[m10]bizAccess.businessHierarchy.orgManager.invite.accept.description.list.managePermissionsForEmployeesAndPartners', 'list item explaining the organization manager will manage permissions for employees and partners')},"manage-permissions-for-employees-and-partners"),(0,x.jsx)(u.aV.Item,{text:o._('Enforce two-factor authentication', '[m10]bizAccess.businessHierarchy.orgManager.invite.accept.description.list.enforce2FactorAuth', 'list item explaining the organization manager will enforce 2-factor authentication')},"enforce-2-factor-auth"),(0,x.jsx)(u.aV.Item,{text:o._('Have full access to all assets including child businesses', '[m10]bizAccess.businessHierarchy.orgManager.invite.accept.description.list.haveFullAccessToAllAssets', 'list item explaining the organization manager will have full access to all assets')},"have-full-access-to-all-assets")]})})]},"sheet-base-content")})},eO=n(905526);function ej(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ez=function(e){var t,n=e.id,r=(function(e){if(Array.isArray(e))return e}(t=(0,eO.Z)("businessHierarchyInvite",n,!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),1!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,1)||function(e,t){if(e){if("string"==typeof e)return ej(e,1);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ej(e,1):void 0}}(t,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].data[n];return r.invite_data.invite_type===eb.Fe.BUSINESS_HIERARCHY_MEMBER?(0,x.jsx)(eC,{hideSheet:e.hideSheet,invite:r}):(0,x.jsx)(eE,{hideSheet:e.hideSheet,invite:r})},ew=n(6059),eN=n(946659),eR=n(591786);function eD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ek=function(e,t){var n=t.onAccessChange,r=t.inCatalogManagment;return{field:"access",headerName:e._('Permissions', '[m10n]bizAccess.business.people.bizRoleAccess', 'Permissions granted to user'),minWidth:D.I.columnWidths.xl,TableCellComponent:function(e){var t,s,o=e.data,a=o.asset_id,i=o.permissions,l=o.type,c=(function(e){if(Array.isArray(e))return e}(t=(0,eO.Z)("CATALOG"===l?"catalog":"adAccount",a,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),1!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,1)||function(e,t){if(e){if("string"==typeof e)return eD(e,1);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eD(e,1):void 0}}(t,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return(0,x.jsx)(u.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginEnd:-10,width:"100%",children:(0,x.jsx)(eN.Z,{assetType:l,id:a,noAccessAllowed:!0,onChange:function(e){return n({permissions:e,assetId:a,assetType:l})},ownerRoles:null!=(s=null==c?void 0:c.permissions)?s:[],permissions:(0,eR._o)(i||[],r,l)})})},sortable:!1}},eL=n(711538);function eU(e){return(eU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eB(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=eU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eU(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eU(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eH=function(e){var t=e.data,n=e.weight,r=e.size,s=(0,b.Z)(),o="PROFILE"===t.type,a=o?(0,y.nk)(s._('{{ name }}\'s profile permissions', '[m10n]bizAccess.invite.profile.name', 'Invite profile asset name, name:name of business whose profile is being shared'),{name:t.owner.full_name}).join(""):t.name,i=o||!(t.asset_id||t.id)?void 0:(0,y.nk)(s._('ID: {{id}}', '[m10n]bizAccess.table.asset.idLabel', 'Label for asset id'),{id:t.asset_id}).join("");return(0,x.jsx)(eL.Z,{size:r,subtext:i,text:a,weight:n})},eZ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{weight:D.I.weights.bold,clickable:!0,size:"md",isAOAAAdAccount:!1},n=t.weight,r=t.clickable,s=t.size,o=t.isAOAAAdAccount,a=(0,(0,v.Z)().checkExperiment)("web_business_access_finance_manager_role").anyEnabled;return{field:"name",sortable:!1,headerName:o?e._('Ad account name', '[m10n]bizAccess.business.sheet.adAccountName', 'Name of ad account requested for creation'):e._('Asset name', '[m10n]bizAccess.business.history.assetName', 'Name of asset that was changed'),TableCellComponent:function(e){return(0,x.jsx)(eH,eM(eM({},e),{},{clickable:r,size:s}))},minWidth:D.I.columnWidths.xl,width:a?360:void 0,isActivelySorted:!0,weight:n,getMinHeight:function(e){return"PROFILE"!==e.type&&e.asset_id?54:void 0}}};function eG(e){return(eG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eF(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=eG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eG(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eG(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eV=function(e){var t=e.data,n=e.weight,r=e.size,s=(0,b.Z)(),o="PROFILE"===t.type,a=t.type,i={PROFILE:(0,y.nk)(s._('{{ name }}\'s profile permissions', '[m10n]bizAccess.invite.profile.name', 'Invite profile asset name, name:name of business whose profile is being shared'),{name:t.owner.full_name}).join(""),AD_ACCOUNT:s._('Ad account', '[m10n]bizAccess.table.asset.adAccountLabel', 'Label for ad account'),CATALOG:t.name||s._('Catalog', '[m10n]bizAccess.table.asset.catalogLavel', 'Label for catalog')}[a],l=o?void 0:(0,y.nk)(s._('ID: {{id}}', '[m10n]bizAccess.table.asset.idLabel', 'Label for asset id'),{id:t.asset_id||t.id}).join("");return(0,x.jsx)(eL.Z,{size:r,subtext:l,text:i,weight:n})},eq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{weight:D.I.weights.bold,clickable:!0,size:"md"},n=t.weight,r=t.clickable,s=t.size;return{field:"name",sortable:!1,headerName:e._('Asset name', '[m10n]bizAccess.business.history.assetName', 'Name of asset that was changed'),TableCellComponent:function(e){return(0,x.jsx)(eV,eY(eY({},e),{},{clickable:r,size:s}))},minWidth:D.I.columnWidths.lg,isActivelySorted:!0,weight:n,getMinHeight:function(e){return"PROFILE"===e.type?void 0:54}}};function eQ(e){return(eQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=eQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eQ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eQ(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eK=function(e){var t=e.rowData,n=e.onAccessChange,r=void 0===n?void 0:n,s=e.isSentRequest,o=e.customEmptyState,a=(0,(0,v.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,i=(0,b.Z)();return(0,x.jsxs)(u.xu,{marginTop:8,children:[(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xv,{size:"300",weight:"bold",children:i._('Requested Permissions', '[m10n]bizAccess.request.sheet.accesToAdAccountHeader', 'Header for ad account permissions section of sheet')})}),(0,x.jsx)(D.Z,{columnDefs:[r&&!(void 0!==s&&s)?eZ(i):eq(i),r?ek(i,{onAccessChange:r,inCatalogManagment:a}):(0,ew.Z)(i,{field:"permissions",inCatalogManagment:a})],config:eX(eX({},D.I),{},{borderStyle:"none"}),customEmptyState:o,id:"REQUEST_ASSET_ACCOUNTS_SHEET",isLoading:!1,onRowCountChange:function(){},pageType:f.Q6.AD_ACCOUNTS,rowData:t})]})},e$=function(e){var t=e.title,n=e.subTitle,r=e.imageUrl;return(0,x.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,x.jsx)(u.qE,{name:t,size:"md",src:void 0===r?"https://s.pinimg.com/images/user/default_60.png":r}),(0,x.jsxs)(u.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,children:[(0,x.jsx)(u.X6,{accessibilityLevel:1,size:"400",children:t}),n&&(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:n})]})]})},eJ=function(e){var t=e.closeButton,n=e.deleteButton,r=e.declineButton,s=e.acceptButton,o=e.resendButton,a=e.submit,i=(0,b.Z)();return(0,x.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,x.jsxs)(u.xu,{children:[r&&(0,x.jsx)(u.zx,{color:"transparent",fullWidth:!0,onClick:r.onDecline,text:r.buttonText||i._('Decline request', '[m10n]bizAccess.sheet.decline', 'Decline the active request')}),n&&(0,x.jsx)(u.xu,{"data-test-id":"delete-request-button",children:(0,x.jsx)(u.zx,{color:"transparent",fullWidth:!0,onClick:n.onDelete,text:n.buttonText||i._('Delete', '[m10n]bizAccess.sheet.delete', 'Delete the active request')})})]}),(0,x.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"between",children:[t&&(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.zx,{color:"gray",fullWidth:!0,onClick:t.onClose,text:t.buttonText||i._('Close', '[m10n]bizAccess.close.sheet', 'Closes the active request')})}),a&&(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.zx,{color:"red",disabled:a.disabled,fullWidth:!0,onClick:a.onSubmit,text:i._('Submit', '[m10n]bizAccess.submit.sheet', 'Submits the active request(s)')})}),(0,x.jsxs)(u.xu,{flex:"none",marginStart:2,children:[s&&(0,x.jsx)(u.xu,{"data-test-id":"accept-request-button",children:(0,x.jsx)(u.zx,{color:"red",fullWidth:!0,onClick:s.onAccept,text:s.buttonText||i._('Accept request', '[m10n]bizAccess.sheet.resend', 'Accept visible request')})}),o&&(0,x.jsx)(u.zx,{color:"red",fullWidth:!0,onClick:o.onResend,text:o.buttonText||i._('Resend request', '[m10n]bizAccess.sheet.resend', 'Resend visible request')})]})]})]})},e0=n(196090);function e1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e2(e){var t;return((function(e){if(Array.isArray(e))return e1(e)})(t=e||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return e1(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e1(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,t){return("PROFILE"===t.type)-("PROFILE"===e.type)})}var e5=function(e){var t,n=e.hideSheet,r=e.id,s=(0,A.dI)().showToast,o=(0,b.Z)(),a=(0,eI.Z)(),i=(0,c.I0)(),l=(0,c.v9)((0,ee.sL)(r)),d=Object.values(l)[0],_=d.catalog.owner.name||(null==(t=d.catalog.owner)?void 0:t.full_name)||"",m=d.catalog.owner.image_medium_url,v=d.invite_data.sent_at,g=(0,eo.KJ)(),S=(0,h.ZP)("BUSINESS_ACCESS_CATALOGS"),E=o._('You\'ve sent an access request', '[m10n]bizAccess.catalog.invite.sheet.header', 'Header for reviewing an invite you have sent'),P=e2(Object.values(l).map(function(e){return e.catalog}));return(0,x.jsxs)(w.Z,{footer:function(e){var t=e.onDismissStart;return(0,x.jsx)(eJ,{closeButton:{onClose:n},deleteButton:{onDelete:function(){i((0,e0.Jl)({businessId:g,requestId:r,onSuccess:function(){t(),S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"catalog-invite-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"delete-invite"}),s(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(o._('The invite for {{name}} has successfully been deleted', '[m10n]bizAccess.invite.delete.success', 'Toast message for successfully deleting an invite'),{name:_}).join("")})}),i((0,q.oY)({businessId:g}))},onError:function(e){var n=o._('There was an error in deleting the invite. Please try again.', '[m10n]bizAccess.invite.delete.error', 'Error message if deleting an invite fails');t(),s(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e||n,type:"error"})})}}))}},resendButton:{onResend:function(){i((0,e0.JJ)({businessId:g,requestId:r,onSuccess:function(){t(),S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"catalog-invite-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"resend-invite"}),s(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(o._('New invite sent to {{name}}', '[m10n]bizAccess.invite.resend.success', 'Toast message for successfully resending an invite. name: the name of the invitee'),{name:_}).join("")})})},onError:function(e){var n=o._('There was an error in resending the invite. Please try again.', '[m10n]bizAccess.invite.resend.error', 'Error message if resending an invite fails');t(),s(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e||n,type:"error"})})}}))}}})},hideSheet:n,subTitle:v.toString()&&a(new Date(v).toString()),title:E,children:[(0,x.jsx)(e$,{imageUrl:m,subTitle:(0,ev.Z)(o._('Business ID: {{businessId}}', '[m10n]bizAccess.catalog.invite.sheet.entity.subtitle', 'Header for reviewing an invite you have sent. businessId: Business that sent the employee invite name: Name of the employee'),{businessId:g}),title:_}),(0,x.jsx)(u.xu,{marginTop:8,children:(0,x.jsx)(u.xv,{children:o._('You\u2019ve requested access to the assets listed below', '[m10n]bizAccess.catalog.invite.description', 'Warning text for a sent expired manager request.')},"catalog-invite-review-sheet-banner-msg")}),(0,x.jsx)(eK,{rowData:null!=P?P:[]})]})};function e6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e3=function(e){var t,n=e.handleApplyFilter,r=e.hideSheet,s=e.FILTER_OWNER_LABEL,a=e.filterParams,i=(0,b.Z)(),l=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(null==a?void 0:a.owner))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return e6(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e6(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],d=l[1],_=function(e){d(e)},m=(0,x.jsx)(u.To.DismissingElement,{children:function(e){var t=e.onDismissStart;return(0,x.jsx)(u.kC,{alignItems:"center",justifyContent:"end",children:(0,x.jsx)(u.zx,{color:"red",onClick:function(){return n(t,c)},text:i._('Apply', '[m10n].bizAccess.catalogs.filters.aply', 'Button to apply filter catalogs')})})}});return(0,x.jsx)(w.Z,{footer:m,hideSheet:r,title:i._('Filters', '[m10n].bizAccess.catalogs.filters.header', 'Header for overlay filters panel'),children:(0,x.jsx)(u.kC,{direction:"column",gap:{row:0,column:12},children:(0,x.jsxs)(u.kC,{direction:"column",gap:{row:0,column:2},children:[(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xv,{inline:!0,size:"400",weight:"bold",children:i._('Owner', '[m10n].bizAccess.catalogs.filters.owner.header', 'Catalog filters, owner section')}),(0,x.jsx)(u.xv,{size:"100",children:i._('Filter catalogs by owner', '[m10n].bizAccess.catalogs.filters.owner.filter', 'Describe the filter purpose.')})]}),(0,x.jsxs)(u.FX,{id:"catalogsByOwners",legend:i._('Filter catalogs by owner', '[m10n].bizAccess.catalogs.filters.owner.filter', 'Describe the filter purpose.'),legendDisplay:"hidden",children:[(0,x.jsx)(u.FX.RadioButton,{checked:c===f.pg.ALL,id:"all",label:s[f.pg.ALL],name:"filterOwner",onChange:function(){return _(f.pg.ALL)},value:f.pg.ALL}),(0,x.jsx)(u.FX.RadioButton,{checked:c===f.pg.OWNED,id:"owned",label:s[f.pg.OWNED],name:"filterOwner",onChange:function(){return _(f.pg.OWNED)},value:f.pg.OWNED}),(0,x.jsx)(u.FX.RadioButton,{checked:c===f.pg.SHARED,id:"shared",label:s[f.pg.SHARED],name:"filterOwner",onChange:function(){return _(f.pg.SHARED)},value:f.pg.SHARED})]})]})})})},e8=n(243610),e4=n(735571),e7=function(e){var t,n=e.hideSheet,r=e.id,s=(0,A.dI)().showToast,o=(0,b.Z)(),a=(0,eI.Z)(),i=(0,c.I0)(),l=(0,c.v9)((0,ee.sL)(r)),d=Object.values(l)[0],_=d.catalog.owner.name||(null==(t=d.catalog.owner)?void 0:t.full_name)||"",m=d.catalog.owner.image_medium_url,v=d.invite_data.sent_at,g=(0,eo.KJ)(),S=(0,h.ZP)("BUSINESS_ACCESS_CATALOGS"),E=o._('You\u2019ve sent a partner request', '[m10n]bizAccess.catalog.partnerRequest.sheet.header', 'Header for reviewing a partner request you have sent'),P=e2(Object.values(l).map(function(e){return e.catalog}));return(0,x.jsxs)(w.Z,{footer:function(e){var t=e.onDismissStart;return(0,x.jsx)(eA,{closeButton:{onClose:n},deleteButton:{onDelete:function(){i((0,e0.UF)({businessId:g,type:"MEMBER",inviteId:r,onSuccess:function(){t(),S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"catalog-invite-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"delete-invite"}),s(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(o._('The invite for {{name}} has successfully been deleted', '[m10n]bizAccess.partnerRequest.delete.success', 'Toast message for successfully deleting an invite, name: The name of the invitee'),{name:_}).join("")})})},onError:function(e){var n=o._('There was an error in deleting the invite. Please try again.', '[m10n]bizAccess.partnerRequest.delete.error', 'Error message if deleting an invite fails');t(),s(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e||n,type:"error"})})}}))}},resendButton:{onResend:function(){i((0,e0.c_)({businessId:g,inviteId:r,type:"MEMBER",onSuccess:function(){t(),S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"catalog-invite-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"resend-invite"}),s(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(o._('New invite sent to {{name}}', '[m10n]bizAccess.invite.resend.success', 'Toast message for successfully resending an invite'),{name:_}).join("")})})},onError:function(e){var n=o._('There was an error in resending the invite. Please try again.', '[m10n]bizAccess.invite.resend.error', 'Error message if resending an invite fails');t(),s(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e||n,type:"error"})})}}))}}})},hideSheet:n,subTitle:v.toString()&&a(new Date(v).toString()),title:E,children:[(0,x.jsx)(e$,{imageUrl:m,subTitle:(0,ev.Z)(o._('Business ID: {{businessId}}', '[m10n]bizAccess.catalog.partnerRequest.sheet.entity.subtitle', 'Header for reviewing a partner request you have sent. businessId: Business that sent the request'),{businessId:g}),title:_}),(0,x.jsx)(u.xu,{marginTop:8,children:(0,x.jsx)(u.xv,{children:(0,y.nk)(o._('You\'ve sent an invite to {{name}} on {{invitationDate}}. Once they accept, you will be able to work on the assets listed below.', '[m10n]bizAccess.catalog.partnerRequest.description', 'Description about the request sent for partner access. name: The name of the invited partner. invitationDate: The date the invite was sent.'),{name:(0,x.jsx)(u.xv,{inline:!0,weight:"bold",children:_},"invitee_name"),invitationDate:v&&(0,x.jsx)(e4.Z,{dateFormatType:e4.k.LONG,useUTC:!1,value:new Date((0,e8.Z)((v||0)/1e3))},"invitation_date")})},"catalog-partnerRequest-review-sheet-banner-msg")}),(0,x.jsx)(eK,{isSentRequest:!0,rowData:null!=P?P:[]})]})},e9=n(893957),te=n(516037),tt=n(563218);function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach(function(t){to(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function to(e,t,n){var r;return(r=function(e,t){if("object"!=tn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tn(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tn(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ta(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tl(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tl(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tc=function(e){var t,n,r=e.businessId,s=e.permissions,a=e.assetOwnerBusinessIds,i=e.assetId,l=e.assetGroupId,c=e.startIndex,u=void 0===c?0:c,d=e.limit,_=void 0===d?10:d,f=e.sortBy,m=void 0===f?"NAME":f,h=e.searchBy,p=void 0===h?"NAME":h,b=e.searchTerm,y=e.sortDirection,v=void 0===y?"ASCENDING":y,A=e.resourceType,g=void 0===A?"AD_ACCOUNT":A,S=!(arguments.length>1)||void 0===arguments[1]||arguments[1],x=ti((0,o.useState)(!0),2),E=x[0],P=x[1],I=ti((0,o.useState)([]),2),T=I[0],C=I[1],O=ti((0,o.useState)({}),2),j=O[0],z=O[1],w=ti((0,o.useState)(0),2),N=w[0],R=w[1],D=ti((0,o.useState)(!0),2),k=D[0],L=D[1],U=ti((0,o.useState)(),2),B=U[0],M=U[1],H=(t=regeneratorRuntime.mark(function e(t){var n,s,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),C([]),z({}),M(void 0),R(0),e.prev=5,n=ts(ts({},t),{},{startIndex:(t.startIndex||0)*(t.limit||0)}),e.next=9,(0,tt.Vh)(ts(ts({},n),{},{id:r}));case 9:return o=(null==(s=e.sent)?void 0:s.data.data.reduce(function(e,t){return ts(ts({},e),{},to({},t.asset_id,t.permissions))},{}))||{},e.next=13,(0,tt.pI)({businessId:r,assetIds:Object.keys(o),sortBy:t.sortBy,sortDirection:t.sortDirection});case 13:i=Object.values((null==(a=e.sent)?void 0:a.data.data)||{}),z(o),R((null==s?void 0:s.data.total_data_count)||0),C(i.map(function(e){return ts(ts({},e),{},{asset_type:e.type,type:e.type})})),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),M(e.t0);case 23:return e.prev=23,L(!1),e.finish(23);case 26:case"end":return e.stop()}},e,null,[[5,20,23,26]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){ta(o,r,s,a,i,"next",e)}function i(e){ta(o,r,s,a,i,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}),Z=(0,o.useRef)(H);return Z.current=H,(0,o.useEffect)(function(){S&&E&&(P(!1),Z.current({businessId:r,permissions:s,assetOwnerBusinessIds:a,assetId:i,assetGroupId:l,startIndex:u,limit:_,sortBy:m,searchBy:p,searchTerm:b,sortDirection:v,resourceType:g}))},[r,s,a,i,l,u,_,m,p,b,v,g,S,Z,E]),{assets:T,assetsPermissions:j,totalCount:N,loading:k,error:B,fetchAssetsRef:Z}};function tu(e){return(tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(Object(n),!0).forEach(function(t){tf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tf(e,t,n){var r;return(r=function(e,t){if("object"!=tu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tu(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tu(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tm(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function th(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tp(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tp(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tb=function(e){var t,n,r=e.businessId,s=e.startIndex,a=void 0===s?0:s,i=e.limit,l=void 0===i?10:i,c=e.sortBy,u=void 0===c?"NAME":c,d=e.searchBy,_=void 0===d?"NAME":d,f=e.searchTerm,m=e.sortDirection,h=void 0===m?"ASCENDING":m,p=e.resourceType,b=void 0===p?"CATALOG":p,y=e.partnerId,v=e.businessPartnerType,A=void 0===v?"REGULAR":v,g=!(arguments.length>1)||void 0===arguments[1]||arguments[1],S=th((0,o.useState)(!0),2),x=S[0],E=S[1],P=th((0,o.useState)([]),2),I=P[0],T=P[1],C=th((0,o.useState)({}),2),O=C[0],j=C[1],z=th((0,o.useState)(0),2),w=z[0],N=z[1],R=th((0,o.useState)(!0),2),D=R[0],k=R[1],L=th((0,o.useState)(),2),U=L[0],B=L[1],M=(t=regeneratorRuntime.mark(function e(t){var n,s,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),T([]),j({}),B(void 0),N(0),e.prev=5,s=t_(t_({},t),{},{startIndex:(t.startIndex||0)*(t.limit||0)}),e.next=9,(0,tt.IU)(t_(t_({},s),{},{id:r}));case 9:if(!(Object.keys(a=((null==(o=e.sent)||null==(n=o.data)?void 0:n.data)||[]).reduce(function(e,t){return t_(t_({},e),{},tf({},t.asset_id,t.permissions))},{})||{}).length>0)){e.next=20;break}return e.next=15,(0,tt.pI)({businessId:r,assetIds:Object.keys(a),sortBy:t.sortBy,sortDirection:t.sortDirection});case 15:T(Object.values((null==(i=e.sent)?void 0:i.data).data||{}).map(function(e){return t_(t_({},e),{},{asset_type:e.type,type:e.type})})),e.next=21;break;case 20:T([]);case 21:j(a),N((null==o?void 0:o.data).total_data_count||0),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(5),B(e.t0);case 28:return e.prev=28,k(!1),e.finish(28);case 31:case"end":return e.stop()}},e,null,[[5,25,28,31]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){tm(o,r,s,a,i,"next",e)}function i(e){tm(o,r,s,a,i,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}),H=(0,o.useRef)(M);return H.current=M,(0,o.useEffect)(function(){g&&x&&(E(!1),H.current({businessId:r,startIndex:a,limit:l,sortBy:u,searchBy:_,searchTerm:f,sortDirection:h,resourceType:b,partnerId:y,businessPartnerType:A}))},[r,a,l,u,_,f,h,b,y,A,g,H,x]),{assets:I,assetsPermissions:O,totalCount:w,loading:D,error:U,fetchAssetsRef:H}},ty=n(552263),tv=n(289935),tA=function(e){var t=e.id,n=e.checked,r=e.disabled,s=e.onCheck,o=e.label,a=e.tooltipText,i=e.indeterminate;return(0,x.jsxs)(u.xu,{alignItems:"center",color:"secondary",display:"flex",padding:5,rounding:3,width:"100%",children:[(0,x.jsx)(u.XZ,{checked:n,disabled:r,id:t,indeterminate:i,label:o,onChange:function(e){return s(e.checked)},size:"sm"}),(0,x.jsx)(u.xu,{height:12,marginStart:1,width:12,children:(0,x.jsx)(u.u,{inline:!0,text:a,zIndex:tv.b7,children:(0,x.jsx)(u.JO,{accessibilityLabel:o,color:"subtle",icon:"alert",size:"sm"})})})]})},tg=n(545299),tS=n(377823);function tx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tE(e){return(tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var tP=function(e){var t=e.nameColumnWidthPercentage,n=e.nameColumnHeader,r=e.selectedAssetRoles,s=e.roleColumns,a=e.data,i=e.loading,l=e.emptyState,c=e.hidePagination,d=e.currentPageSelector,_=e.pageSizeSelector,f=e.totalCountSelector,m=e.fetchData,h=e.searchPlaceholder,p=e.page,A=e.selectAllCheckboxElement,g=e.tableConfig,S=e.initialSearchTermValue,E=e.adminRoles,P=e.showMediaNetworkAssetType,I=(0,(0,v.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,T=(0,b.Z)(),C=(0,o.useMemo)(function(){return s.length>0?(100-t)/s.length:0},[t,s]),O=(0,o.useMemo)(function(){var e=s.map(function(e){return(0,H.Z)(T,{justifying:"center",tooltipInfo:e.tooltipInfo,tooltipInfoIconSize:12,width:"".concat(C,"%"),headerName:e.name,minWidth:1,renderSubheaderCell:e.subheaderChecked&&e.onSubheaderCheck?function(){if("FINANCE_EDIT"===e.role&&"object"===tE(e.subheaderChecked)&&"object"===tE(e.onSubheaderCheck)){var t=e.onSubheaderCheck,n=t.FINANCE_EDIT,r=t.FINANCE_VIEW,s=e.subheaderChecked,o=s.FINANCE_EDIT,a=s.FINANCE_VIEW;return(0,x.jsxs)(u.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:[(0,x.jsxs)(u.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,x.jsx)(u.xv,{size:"100",children:T._('Edit', '[m10n]bizAccess.adAccountPermissionTable.columns.subheader.finance.edit', 'finance edit subheader checkbox label')}),(0,x.jsx)(u.XZ,{checked:"CHECKED"===o,id:"".concat(e.name,"_subheader_checkbox"),indeterminate:"INDETERMINATE"===o,onChange:function(e){n(e.checked)},size:"sm"})]}),(0,x.jsx)(u.xu,{marginEnd:3}),(0,x.jsxs)(u.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,x.jsx)(u.xv,{size:"100",children:T._('View', '[m10n]bizAccess.adAccountPermissionTable.columns.subheader.finance.view', 'finance view subheader checkbox label')}),(0,x.jsx)(u.XZ,{checked:"CHECKED"===a,id:"".concat(e.name,"_subheader_checkbox"),indeterminate:"INDETERMINATE"===a,onChange:function(e){r(e.checked)},size:"sm"})]})]})}var i=(0,x.jsx)(u.XZ,{checked:"CHECKED"===e.subheaderChecked,id:"".concat(e.name,"_subheader_checkbox"),indeterminate:"INDETERMINATE"===e.subheaderChecked,onChange:function(t){var n=t.checked;"function"==typeof e.onSubheaderCheck&&e.onSubheaderCheck(n)},size:"sm"});return(0,x.jsxs)(u.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:[(0,x.jsx)(u.xu,{marginBottom:5}),i]})}:void 0,renderCell:function(t){var n=t.data;if("FINANCE_EDIT"===e.role&&"object"===tE(e.checked)&&"object"===tE(e.disableCheck)&&"object"===tE(e.onCheck)){var s,o,a,i=(0,tg.p)(n.permissions,!1,n.type,I,E),l=i.includes("FINANCE_EDIT"),c=i.includes("FINANCE_VIEW"),d=e.checked,_=d.FINANCE_VIEW,f=(0,d.FINANCE_EDIT)(n),m=_(n),h=f&&l||(null==(o=r[n.id])?void 0:o.includes("FINANCE_EDIT")),p=m&&c||(null==(a=r[n.id])?void 0:a.includes("FINANCE_VIEW")),b=e.disableCheck,y=b.FINANCE_EDIT,v=b.FINANCE_VIEW,A=e.onCheck,g=A.FINANCE_EDIT,S=A.FINANCE_VIEW;return(0,x.jsxs)(u.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:[(0,x.jsx)(u.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,x.jsx)(u.XZ,{checked:h,disabled:y(n)||!l,id:"".concat(n.id,"_finance_edit_checkbox"),onChange:function(e){return g(n,e.checked)},size:"sm"})}),(0,x.jsx)(u.xu,{marginEnd:5}),(0,x.jsx)(u.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,x.jsx)(u.XZ,{checked:p,disabled:v(n)||!c,id:"".concat(n.id,"_finance_view_checkbox"),onChange:function(e){return S(n,e.checked)},size:"sm"})})]})}var P=(0,tg.p)(n.permissions,!1,n.type,I,E).includes(e.role),T=("function"==typeof e.checked?e.checked(n):e.checked)&&P||(null==(s=r[n.id])?void 0:s.includes(e.role)),C="function"==typeof e.disableCheck?e.disableCheck(n):e.disableCheck,O=(0,x.jsx)(u.XZ,{checked:T,disabled:!!C||!P,id:"".concat(n.id,"_").concat(e.name,"_checkbox"),onChange:function(t){var r=t.checked;return"function"==typeof e.onCheck&&e.onCheck(n,r)},size:"sm"});return!T&&C&&e.disabledTooltipText?O=(0,x.jsx)(u.u,{inline:!0,text:e.disabledTooltipText,zIndex:tv.b7,children:O}):T&&C&&e.disabledAndCheckedTooltipText&&(O=(0,x.jsx)(u.u,{inline:!0,text:e.disabledAndCheckedTooltipText,zIndex:tv.b7,children:O})),(0,x.jsx)(u.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:O})}})});return[(0,H.Z)(T,{width:"".concat(t,"%"),sortable:!0,sortField:"NAME",headerName:n,minWidth:1,renderSubheaderCell:function(){return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(u.xu,{marginBottom:5}),(0,x.jsx)(u.xv,{size:"100",children:T._('Select all', '[m10n]bizAccess.assetsPermissionTable.subheader.selectAll.label', 'Lable for select all subheader in asset permissions table')})]})},renderCell:function(e){var t=e.data;return(0,x.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:{wordBreak:"break-word"}},width:"100%",children:[(0,x.jsx)(u.xv,{lineClamp:1,size:"200",children:t.name}),(0,x.jsx)(u.xv,{color:"subtle",lineClamp:1,size:"200",children:P&&"CATALOG"===t.type?(0,y.nk)(T._('ID: {{ assetId }} \u2022 Type: {{ assetType }}', '[m10n]bizAccess.assetsPermissionTable.columns.asset.id.catalogs', 'ID and type of the asset. assetId: asset id, assetType: asset type'),{assetId:t.id,assetType:t.subtype}).join(""):"".concat(T._('ID', '[m10n]bizAccess.assetsPermissionTable.columns.asset.id', 'id of the asset'),": ").concat(t.id)}),P&&"AD_ACCOUNT"===t.type&&t.mediaNetworkAccount&&(0,x.jsx)(u.xv,{color:"subtle",lineClamp:1,size:"200",children:T._('Media network ad account', '[m10n]bizAccess.assetsPermissionTable.columns.media.network.account', 'name of the media network ad account')}),"PROFILE"!==t.type&&(0,x.jsx)(u.xv,{color:"subtle",lineClamp:1,size:"200",children:"".concat(T._('Owner', '[m10n]bizAccess.assetsPermissionTable.columns.owner.name', 'name of the owner of the asset'),": ").concat(t.ownerName)})]})}})].concat(function(e){if(Array.isArray(e))return tx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return tx(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tx(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},[T,s,r,C,n,t,I,E,P]);return(0,x.jsx)(tS.Z,{borderTop:!0,columnDefs:O,currentPageSelector:d,data:a,disableFirstRender:!0,disableRowHover:!0,emptyState:l,fetchData:m,hidePagination:void 0!==c&&c,initialSearchTermValue:S,isLoading:!!i,pageSizeSelector:_,pageType:p,paginationProps:{paddingY:3,paddingX:3,alignRowsPerPageLabel:"right"},searchBottomContent:A,searchBottomContentStyles:{paddingX:2,marginTop:2},searchInputContainerStyles:{paddingX:2},searchPlaceholder:h,showFiltersOnEmptyState:!0,tableConfig:g,totalCountSelector:f})},tI=function(e){return{type:"SET_ALL_PARTNERS_SELECTED",allOwnersSelected:e}},tT=function(e){return{type:"SET_SELECTED_ASSETS",selectedAssets:e}},tC=function(e){return{type:"SET_SELECTED_RMN_ASSETS",selectedRmnAssets:e}},tO=function(e){return{type:"SET_REQUESTED_ASSETS",requestedAssets:e}},tj=function e(){return{type:"CLEAR_SLICE",clearSlice:e}},tz=function(e){return{type:"SET_SELECTED_AD_ACCOUNTS",selectedAdAccounts:e}},tw=function(e){return{type:"SET_SELECTED_AD_ACCOUNTS_SEARCH_VALUE",adAccountsSearchValue:e}},tN=function(e){return{type:"SET_SELECTED_AD_ACCOUNTS_NUMBER_MAP",roleToNumberOfAssets:e}},tR=function(e){return{type:"SET_ALL_SELECTED_AD_ACCOUNTS",allAssetsSelected:e}},tD=function(e){return{type:"SET_SELECTED_CATALOGS",selectedCatalogs:e}},tk=function(e){return{type:"SET_SELECTED_CATALOGS_NUMBER_MAP",roleToNumberOfAssets:e}},tL=function(e){return{type:"SET_ALL_SELECTED_CATALOGS",allAssetsSelected:e}},tU=function(e){return{type:"SET_SELECTED_RMN_CATALOGS",selectedCatalogs:e}},tB=function(e){return{type:"SET_ALL_SELECTED_RMN_CATALOGS",allAssetsSelected:e}},tM=function(e){return{type:"SET_SELECTED_PROFILES",selectedProfiles:e}},tH=function(e){return{type:"SET_SELECTED_PROFILES_NUMBER_MAP",roleToNumberOfAssets:e}},tZ=function(e){return{type:"SET_ALL_SELECTED_PROFILES",allAssetsSelected:e}},tG=function(e){return{type:"SET_REQUESTED_PROFILES",requestedProfiles:e}},tF=function(e){return{type:"SET_SELECTED_AUDIENCES",selectedAudiences:e}},tY=function(e){return{type:"SET_ALL_SELECTED_AUDIENCES",allAssetsSelected:e}},tV=function(e){return{type:"SET_SELECTED_CONVERSION_SEGMENTS",selectedConversionSegments:e}},tq=function(e){return{type:"SET_ALL_SELECTED_CONVERSION_SEGMENTS",allAssetsSelected:e}},tQ=n(549979),tW=n(366503),tX=n(498539),tK=(0,tW.createSelector)(tX.Z,function(e){return e.newRelationshipAssetAssignmentFlow}),t$=(0,tW.createSelector)(tK,function(e){return e.invites}),tJ=(0,tW.createSelector)(tK,function(e){return e.selectedPartners.selectedPartnerBusinessIds}),t0=(0,tW.createSelector)(tK,function(e){return e.selectedPartners.allOwnersSelected}),t1=(0,tW.createSelector)(tK,function(e){return e.selectedPartners.selectedCountries}),t2=(0,tW.createSelector)(tK,function(e){return e.selectedPartners.searchValue}),t5=(0,tW.createSelector)(tK,function(e){return e.selectedAssets}),t6=(0,tW.createSelector)(tK,function(e){return e.requestedAssets}),t3=(0,tW.createSelector)(tK,function(e){var t=e.selectedAssets.adAccounts;return null==t?void 0:t.resourceIdToRoles}),t8=(0,tW.createSelector)(tK,function(e){var t=e.selectedAssets.adAccounts;return null==t?void 0:t.roleToNumberOfAssets}),t4=(0,tW.createSelector)(tK,function(e){var t=e.selectedAssets.adAccounts;return null==t?void 0:t.allAssetsSelected}),t7=(0,tW.createSelector)(tK,function(e){var t=e.selectedAssets.adAccounts;return null==t?void 0:t.searchValue}),t9=(0,tW.createSelector)(tK,function(e){var t=e.requestedAssets.adAccounts;return null==t?void 0:t.resourceIdToRoles}),ne=(0,tW.createSelector)(tK,function(e){var t=e.selectedAssets.catalogs;return null==t?void 0:t.resourceIdToRoles}),nt=(0,tW.createSelector)(tK,function(e){var t=e.selectedRmnAssets.catalogs;return null==t?void 0:t.allAssetsSelected}),nn=(0,tW.createSelector)(tK,function(e){var t=e.selectedRmnAssets.catalogs;return null==t?void 0:t.resourceIdToRoles}),nr=(0,tW.createSelector)(tK,function(e){var t=e.selectedRmnAssets.catalogs;return null==t?void 0:t.resourceIdToNames}),ns=(0,tW.createSelector)(tK,function(e){var t=e.selectedRmnAssets.catalogs;return null==t?void 0:t.searchValue}),no=(0,tW.createSelector)(tK,function(e){var t=e.selectedAssets.catalogs;return null==t?void 0:t.roleToNumberOfAssets}),na=(0,tW.createSelector)(tK,function(e){var t=e.selectedAssets.catalogs;return null==t?void 0:t.allAssetsSelected}),ni=(0,tW.createSelector)(tK,function(e){var t=e.selectedAssets.catalogs;return null==t?void 0:t.searchValue}),nl=(0,tW.createSelector)(tK,function(e){var t=e.requestedAssets.catalogs;return null==t?void 0:t.resourceIdToRoles}),nc=(0,tW.createSelector)(tK,function(e){var t=e.selectedAssets.profiles;return null==t?void 0:t.resourceIdToRoles}),nu=(0,tW.createSelector)(tK,function(e){var t=e.selectedAssets.profiles;return null==t?void 0:t.roleToNumberOfAssets}),nd=(0,tW.createSelector)(tK,function(e){var t=e.selectedAssets.profiles;return null==t?void 0:t.allAssetsSelected}),n_=(0,tW.createSelector)(tK,function(e){var t=e.selectedAssets.profiles;return null==t?void 0:t.searchValue}),nf=(0,tW.createSelector)(tK,function(e){var t=e.requestedAssets.profiles;return null==t?void 0:t.resourceIdToRoles}),nm=(0,tW.createSelector)(tK,function(e){return e.selectedApps}),nh=(0,tW.createSelector)(tK,function(e){var t=e.selectedRmnAssets.audiences;return null==t?void 0:t.resourceIdToRoles}),np=(0,tW.createSelector)(tK,function(e){var t=e.selectedRmnAssets.audiences;return null==t?void 0:t.resourceIdToNames}),nb=(0,tW.createSelector)(tK,function(e){var t=e.selectedRmnAssets.audiences;return null==t?void 0:t.allAssetsSelected}),ny=(0,tW.createSelector)(tK,function(e){var t=e.selectedRmnAssets.audiences;return null==t?void 0:t.searchValue}),nv=(0,tW.createSelector)(tK,function(e){return e.selectedRmnAssets}),nA=(0,tW.createSelector)(tK,function(e){return e.systemUserData}),ng=(0,tW.createSelector)(tK,function(e){var t=e.selectedRmnAssets.conversionSegments;return null==t?void 0:t.resourceIdToRoles}),nS=(0,tW.createSelector)(tK,function(e){var t=e.selectedRmnAssets.conversionSegments;return null==t?void 0:t.resourceIdToNames}),nx=(0,tW.createSelector)(tK,function(e){var t=e.selectedRmnAssets.conversionSegments;return null==t?void 0:t.allAssetsSelected}),nE=(0,tW.createSelector)(tK,function(e){var t=e.selectedRmnAssets.conversionSegments;return null==t?void 0:t.searchValue});function nP(e){return(nP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nI(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function nT(e){return function(e){if(Array.isArray(e))return nN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nw(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nC(Object(n),!0).forEach(function(t){nj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nj(e,t,n){var r;return(r=function(e,t){if("object"!=nP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nP(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==nP(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||nw(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nw(e,t){if(e){if("string"==typeof e)return nN(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nN(e,t):void 0}}function nN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nR=function(e){var t=e.businessId,n=e.ownerBusinessIds,r=e.allAssetOwnersSelected,s=e.forPartner,a=e.showSelectAllCheckbox,i=e.catalogsToExclude,l=e.partnerId,d=(0,b.Z)(),_=(0,o.useMemo)(function(){return["CATALOGS_MANAGER"]},[]),f=(0,o.useMemo)(function(){return(0,eR.EK)(d)},[d]),p=(0,v.Z)().checkExperiment,y=p("web_m10n_business_access_catalogs").anyEnabled,A=(0,ty.Z)().inRmnFoundations,g=p("business_access_rmn_catalog_sharing").anyEnabled,S=!!(0,te.Z)({customExperimentNames:["business_access_rmn_brand_agency_catalog_sharing"]}).data.business_access_rmn_brand_agency_catalog_sharing,E=!!s&&y&&A&&g&&S,P=(0,c.v9)(ni),I=(0,c.v9)(ne),T=(0,c.I0)(),C=(0,c.v9)(no),O=(0,c.v9)(na),j=(0,h.ZP)(),z=(0,o.useRef)(j),w=nz((0,o.useState)(1),2),N=w[0],R=w[1],D=nz((0,o.useState)(P||""),2),k=D[0],L=D[1],U=(0,o.useRef)(k);U.current=k;var B=nz((0,o.useState)(50),2),M=B[0],H=B[1],Z=(0,o.useRef)(M);Z.current=M;var G=nz((0,o.useState)([]),2),F=G[0],Y=G[1],V=nz((0,o.useState)(!1),2),q=V[0],Q=V[1],W=(0,c.v9)(es.fI),X=(0,o.useRef)(W);X.current=W;var K=(0,c.v9)(es.C9),$=(0,o.useRef)(K);$.current=K;var J=(0,o.useMemo)(function(){return Object.values(I).some(function(e){return e.length>0})},[I]),ee=!!O&&!J&&!k;(0,o.useEffect)(function(){L(P||"")},[P]),(0,o.useEffect)(function(){z.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"catalogs-permissions-table",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"mount"});var e=z.current;return function(){e({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"catalogs-permissions-table",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"unmount"})}},[z]);var et=(0,o.useMemo)(function(){return[{role:"CATALOGS_MANAGER",name:d._('Catalog admin', '[m10n]bizAccess.catalogPermissionTable.columns.catalogAdmin', 'catalog admin checkbox column'),tooltipInfo:f.CATALOGS_MANAGER,onCheck:function(e,t){ee||(z.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"catalogs-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"catalogs-manager-checkbox"}),t?(T(tD(nO(nO({},I),{},nj({},e.id,[].concat(nT((null==I?void 0:I[e.id])||[]),["CATALOGS_MANAGER"]))))),T(tk(nO(nO({},C),{},{CATALOGS_MANAGER:((null==C?void 0:C.CATALOGS_MANAGER)||0)+1})))):(T(tD(nO(nO({},I),{},nj({},e.id,((null==I?void 0:I[e.id])||[]).filter(function(e){return"CATALOGS_MANAGER"!==e}))))),T(tk(nO(nO({},C),{},{CATALOGS_MANAGER:((null==C?void 0:C.CATALOGS_MANAGER)||0)-1})))))},disableCheck:ee,checked:ee,disabledTooltipText:d._('Admin permission will only be granted to employees for catalogs you have full access to', '[m10n]bizAccess.catalogPermissionTable.columns.admin.disabled.tooltip', 'unchecked admin tooltip info'),disabledAndCheckedTooltipText:d._('To deselect this permission, uncheck the Admin assignment checkbox above', '[m10n]bizAccess.catalogPermissionTable.columns.admin.checked.disabled.tooltip', 'checked admin tooltip info')},{role:"CATALOGS_VIEWER",name:d._('Catalog ad creator', '[m10n]bizAccess.catalogPermissionTable.columns.catalogAdCreator', 'catalog ad creator checkbox column'),tooltipInfo:f.CATALOGS_VIEWER,onCheck:function(e,t){ee||(z.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"catalogs-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"catalog-viewer-checkbox"}),t?T(tD(nO(nO({},I),{},nj({},e.id,[].concat(nT((null==I?void 0:I[e.id])||[]),["CATALOGS_VIEWER"]))))):T(tD(nO(nO({},I),{},nj({},e.id,((null==I?void 0:I[e.id])||[]).filter(function(e){return"CATALOGS_VIEWER"!==e}))))),T(tk(nO(nO({},C),{},{CATALOGS_VIEWER:((null==C?void 0:C.CATALOGS_VIEWER)||0)+1}))))},checked:function(e){var t,n;return!!(null==(t=I[e.id])?void 0:t.includes("CATALOGS_MANAGER"))||!!(null==(n=I[e.id])?void 0:n.includes("CATALOGS_VIEWER"))},disableCheck:function(e){var t;return ee||!!(null==(t=I[e.id])?void 0:t.includes("CATALOGS_MANAGER"))}}]},[d,T,I,z,C,ee,f]),en=nz((0,o.useState)([]),2),er=en[0],eo=en[1],ea=nz((0,o.useState)({}),2),ei=ea[0],el=ea[1],ec=nz((0,o.useState)(0),2),eu=ec[0],ed=ec[1],e_=nz((0,o.useState)(!0),2),ef=e_[0],em=e_[1],eh=tc({businessId:t,assetOwnerBusinessIds:n,searchTerm:k,sortDirection:W,startIndex:N-1,limit:M,resourceType:"CATALOG"},!E&&(!!n||r)),ep=eh.assets,eb=eh.assetsPermissions,ey=eh.totalCount,ev=eh.loading,eA=eh.fetchAssetsRef,eg=tb({businessId:t,searchTerm:k,sortDirection:W,startIndex:N-1,limit:M,resourceType:"CATALOG",businessPartnerType:"REGULAR",partnerId:l||t},E),eS=eg.assets,ex=eg.assetsPermissions,eE=eg.totalCount,eP=eg.loading,eI=eg.fetchAssetsRef;(0,o.useEffect)(function(){eo(E?eS:ep),el(E?ex:eb),ed(E?eE:ey),em(E?eP:ev)},[E,eS,ex,eE,eP,ep,eb,ey,ev,eo,el,ed,em]),(0,o.useEffect)(function(){Y((i?er.filter(function(e){return!(e.asset.id in i)}):er).map(function(e){return{id:e.asset.id,name:e.asset.name,ownerId:e.owner.id,ownerName:e.owner.full_name,permissions:ei[e.asset.id]||[],type:"CATALOG",subtype:(0,m.Ov)(d,e)}}))},[er,ei,d,i]);var eT=(0,o.useCallback)(function(){return N},[N]),eC=(0,o.useCallback)(function(){return M},[M]),eO=(0,o.useCallback)(function(){return eu},[eu]),ej=(0,o.useCallback)(function(e){e.searchTerm&&T(tL(!1));var r=e.page||1;(e.limit||0)>0&&(r=1);var s="limit"in e?e.limit:Z.current,o="searchTerm"in e?e.searchTerm:U.current,a="sortDirection"in e?e.sortDirection:X.current,i="sortBy"in e?e.sortBy:$.current;L(o||""),R(r),H(s||50),T((0,tQ.o)({sortDirection:a,sortBy:i})),E?eI.current({businessId:t,searchTerm:o,sortDirection:a,startIndex:r-1,limit:s,resourceType:"CATALOG",businessPartnerType:"REGULAR",partnerId:l||t}):eA.current({businessId:t,assetOwnerBusinessIds:n,searchTerm:o,sortDirection:a,startIndex:r-1,limit:s,resourceType:"CATALOG"}),T({type:"SET_SELECTED_CATALOGS_SEARCH_VALUE",catalogsSearchValue:o})},[T,eA,eI,t,n,U,Z,X,$,E,l]);return(0,x.jsx)(tP,{adminRoles:_,currentPageSelector:eT,data:F,emptyState:(0,x.jsx)(u.kC,{alignItems:"center",direction:"row",height:100,justifyContent:"center",children:(0,x.jsx)(u.xv,{color:"subtle",children:d._('No catalogs found', '[m10n]bizAccess.catalogPermissionTable.catalogs.emptyState', 'No catalogs found empty state')})}),fetchData:ej,initialSearchTermValue:k,loading:ef||q,nameColumnHeader:d._('Catalog name', '[m10n]bizAccess.catalogPermissionTable.columns.name', 'catalog name column'),nameColumnWidthPercentage:50,page:s?"PARTNERS":"PEOPLE",pageSizeSelector:eC,roleColumns:et,searchPlaceholder:d._('Search by catalog name', '[m10n]bizAccess.catalogPermissionTable.searchInput', 'placeholder for catalog name search input'),selectAllCheckboxElement:void 0===a||a?(0,x.jsx)(tA,{checked:ee,disabled:q,id:"catalog-admin-select-all-checkbox",indeterminate:J,label:d._('Assign Catalog admin permission to all catalogs', '[m10n]bizAccess.employeeInvite.assets.sheet.content.selectAllCatalogsCheckbox', 'Select all catalogs checkbox label'),onCheck:function(e){if(!q){var r,s;if(z.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"catalogs-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"select-all-catalogs-catalogs-manager-checkbox"}),e&&J){T(tL(!1)),T(tD({})),T(tk({}));return}if(!e||!k&&0===n.length){T(tL(e)),T(tD({})),T(tk({CATALOGS_MANAGER:e?eu:0}));return}Q(!0),(r=regeneratorRuntime.mark(function e(){var r,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=[],!E){e.next=10;break}return e.next=5,(0,tt.IU)({businessId:t,searchTerm:k,sortDirection:W,resourceType:"CATALOG",businessPartnerType:"REGULAR",id:t,partnerId:l||t});case 5:r=((null==(o=e.sent)||null==(s=o.data)?void 0:s.data)||[]).map(function(e){return e.asset_id}),e.next=13;break;case 10:return e.next=12,(0,tt.NZ)({businessId:t,assetOwnerBusinessIds:n,searchTerm:k,sortDirection:W,resourceType:"CATALOG"},"CATALOGS_MANAGER",eu,y);case 12:r=e.sent;case 13:T(tD(r.reduce(function(e,t){return nO(nO({},e),{},nj({},t,["CATALOGS_MANAGER"]))},{}))),T(tk({CATALOGS_MANAGER:r.length})),T(tL(!0)),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(0),T(tL(!1)),T(tD({})),T(tk({}));case 23:return e.prev=23,Q(!1),e.finish(23);case 26:case"end":return e.stop()}},e,null,[[0,18,23,26]])}),s=function(){var e=this,t=arguments;return new Promise(function(n,s){var o=r.apply(e,t);function a(e){nI(o,n,s,a,i,"next",e)}function i(e){nI(o,n,s,a,i,"throw",e)}a(void 0)})},function(){return s.apply(this,arguments)})()}},tooltipText:d._('Choosing this option will assign your employees Admin permission to all catalogs below', '[m10n]bizAccess.employeeInvite.assets.sheet.content.selectAllCatalogsCheckbox.tooltipText', 'Select all catalogs info tooltip text')}):void 0,selectedAssetRoles:I||{},showMediaNetworkAssetType:E,totalCountSelector:eO})},nD=function(e){var t=e.partner,n=e.setSheetTitle,r=e.setSheetSubTitle,s=e.setCurrentSheet,a=e.setOnNextSheet,i=(0,b.Z)(),l=(0,eo.KJ)(),d=(0,c.v9)(ee.bw),_=(0,c.v9)(ne),f=Object.keys(_).some(function(e){return _[e]&&_[e].length>0}),m=(0,h.ZP)(),p=(0,o.useRef)(m),y=i._('Share catalog access', '[m10n]businessAccess.catalogSharing.selectCatalogsForAgencyPartner.sheet.title', 'Share catalog access sheet title'),v=i._('Step 1 of 2', '[m10n]businessAccess.catalogSharing.selectCatalogs.sheet.subtitle', 'Share catalog access sheet subtitle'),A=i._('Next', '[m10n]bizAccess.catalogSharing.button.next', 'Button to see summary after selecting catalogs'),g=(0,o.useCallback)(function(){s("CATALOG_SUMMARY_FOR_AGENCY_PARTNER_SHEET")},[s]);return(0,e9.Z)(function(){p.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"assign-catalogs-access-sheet",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"select-catalogs-for-agency-partner-sheet-open"})}),(0,o.useEffect)(function(){n(y),r(v),a({onNext:g,disabled:!f,buttonText:A})},[g,A,n,r,a,v,y,f]),(0,x.jsx)(u.xu,{children:(0,x.jsx)(nR,{businessId:l,catalogsToExclude:d,forPartner:!0,ownerBusinessIds:[l],partnerId:(null==t?void 0:t.id)||"",showSelectAllCheckbox:!1})})},nk=function(e){var t=e.setShouldDisplayInfoBanner,n=e.showShareWithAgencyPartner,r=(0,b.Z)(),s=(0,x.jsx)(u.xv,{children:(0,x.jsxs)(u.aV,{children:[(0,x.jsx)(u.aV.Item,{text:r._('Your partner will be able to create ads and product groups with this catalog', '[m10n]bizAccess.catalog.info.banner.1', 'Info banner for catalogs')}),(0,x.jsx)(u.aV.Item,{text:r._('Partners cannot edit, delete or share this catalog with another ad account', '[m10n]bizAccess.catalog.info.banner.2', 'Info banner for catalogs')}),(void 0===n||n)&&(0,x.jsx)(u.aV.Item,{text:r._('Partners may share this catalog with their agency partners', '[m10n]bizAccess.catalog.info.banner.3', 'Info banner for catalogs')}),(0,x.jsx)(u.aV.Item,{text:r._('Partners retain access to this catalog until the catalog owner revokes access, deletes the catalog or the recipient removes the catalog from their business', '[m10n]bizAccess.catalogs.info.banner.3', 'Info banner for catalogs')})]})});return(0,x.jsx)(u.xu,{marginBottom:3,children:(0,x.jsx)(u.ci,{dismissButton:t?{onDismiss:function(){return t(!1)}}:void 0,message:s,type:"info"})})};function nL(e){return(nL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nU(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=nL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nL(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nL(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nM(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function nH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||nZ(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nZ(e,t){if(e){if("string"==typeof e)return nG(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nG(e,t):void 0}}function nG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nF=function(e){var t=e.selectedCatalog,n=e.selectedPartners,r=e.setSelectedPartners,s=e.setSheetTitle,a=e.setSheetSubTitle,i=e.setCurrentSheet,l=e.setOnNextSheet,d=e.shouldDisplayInfoBanner,_=e.setSelectedAgencyPartnerRole,m=e.setShouldDisplayInfoBanner,v=(0,b.Z)(),g=(0,c.I0)(),S=(0,eo.KJ)(),E=(0,A.dI)().showToast,P=(0,h.ZP)(),I=(0,o.useRef)(P),T=(null==t?void 0:t.resource_subtype)==="COLLABORATIVE",C=nH((0,o.useState)({}),2),O=C[0],j=C[1],z=nH((0,o.useState)(n?n.map(function(e){return{label:e.user.full_name,value:e.id}}):[]),2),w=z[0],N=z[1],R=nH((0,o.useState)(n?n.map(function(e){return e.id}):[]),2),D=R[0],k=R[1],L=nH((0,o.useState)(""),2),U=L[0],B=L[1],M=nH((0,o.useState)(!1),2),H=M[0],Z=M[1],G=(0,c.v9)(ee.ji),F=nH((0,o.useState)([]),2),Y=F[0],V=F[1],W=nH((0,o.useState)(""),2),X=W[0],K=W[1],$=Y.filter(function(e){return!w.some(function(t){return t.value===e.value})}),J=w.map(function(e){return(0,x.jsx)(u.Vp,{accessibilityRemoveIconLabel:(0,y.nk)(v._('Remove {{ partnerName }} tag', '[m10n]bizAccess.catalog.partnerTag.removeIcon', 'Accessibility label for removing a partner tag. partnerName: name of the partner'),{partnerName:e.label}).join(""),onRemove:function(){return N(function(t){return t.filter(function(t){return t.value!==e.value})})},text:e.label},e.value)});(0,o.useEffect)(function(){r(w.map(function(e){return O[e.value]}).filter(Boolean))},[w,O]),(0,o.useEffect)(function(){k(w.map(function(e){return e.value}))},[w]),(0,o.useEffect)(function(){var e,t,n=(e=regeneratorRuntime.mark(function e(){var t,n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Q.WP)({businessId:S,searchBy:["FULL_NAME","USERNAME","BUSINESS_ID"],sortBy:"FULL_NAME",businessPartnerType:"REGULAR",partnerType:"INTERNAL"},{},{limit:f.cU,startIndex:0});case 3:n=nB(nB({},null==(t=e.sent)?void 0:t.data),null==t?void 0:t.sharedData),r=(null==G?void 0:G.map(function(e){return e.id}))||[],j(s=Object.values(n).reduce(function(e,t){return r.includes(t.id)||(e[t.id]=t),e},{})),V(Object.values(s).map(function(e){var t=e.id;return{label:e.user.full_name,value:t}})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),E(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:v._('Could not retrieve brand partners', '[m10n]bizAccess.catalog.getPartners.failure.toast', 'Toast that appears if brand partner retrieval fails')})});case 14:return e.prev=14,Z(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){nM(o,r,s,a,i,"next",e)}function i(e){nM(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)});if(!G)return void g((0,q.ke)({businessId:S}));Z(!0),n()},[S,G,g,E,v]);var et=T?v._('Share media network catalog access', '[m10n]businessAccess.catalog.summary.sheet.title', 'Share media network catalog access sheet title'):v._('Share catalog access', '[m10n]businessAccess.catalogSharing.selectCatalogsForAgencyPartner.sheet.title', 'Share catalog access sheet title'),en=v._('Step 1 of 2', '[m10n]businessAccess.catalogSharing.selectCatalogs.sheet.subtitle', 'Share catalog access sheet subtitle'),er=v._('Next', '[m10n]bizAccess.catalogSharing.button.next', 'Button to see summary after selecting catalogs'),es=(0,o.useCallback)(function(){i("CATALOG_SUMMARY_SHEET")},[i]);(0,e9.Z)(function(){g(tj()),I.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"assign-catalogs-access-sheet",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"select-catalogs-for-agency-partner-sheet-open"})}),(0,o.useEffect)(function(){s(et),a(en),l({onNext:es,disabled:!X||0===D.length,buttonText:er,size:"lg"})},[es,er,s,a,l,en,et,X,D,H]);var ea=(0,eR.Fl)(v),ei=(0,eR.uw)(v),el=Object.keys(ea).filter(function(e){return"UNKNOWN"!==e}).map(function(e){var t=ea[e],n=ei[e];return t?{label:t,value:e,subtext:n}:null}).filter(function(e){return null!==e});return(0,x.jsx)(u.xu,{children:(0,x.jsxs)(u.xu,{flex:"grow",marginStart:4,children:[(0,x.jsx)(u.xu,{paddingX:3,children:T&&d&&(0,x.jsx)(nk,{setShouldDisplayInfoBanner:m,showShareWithAgencyPartner:!1})}),H?(0,x.jsx)(u.xH,{show:!0}):(0,x.jsxs)(u.xu,{direction:"column",display:"flex",marginTop:4,children:[(0,x.jsx)(u.xu,{marginBottom:3,children:(0,x.jsx)(u.BC,{id:"partners-select-list",inputValue:U,label:v._('Select agency partners to receive catalog access', '[m10n]bizAccess.catalog.selectPartner.partnerLabel', 'Label for brand partner select list field in the access assign flow'),onChange:function(e){return B(e.value)},onClear:function(){N([]),k([])},onSelect:function(e){var t=e.item;N(function(e){return e.some(function(e){return e.value===t.value})?e:[].concat(function(e){if(Array.isArray(e))return nG(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nZ(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t])}),B("")},options:$,placeholder:v._('Select', '[m10n]bizAccess.catalog.selectPartner.partnerSelectList.placeholder', 'Placeholder for partner select list field in the access assign flow'),size:"lg",tags:J})}),(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.BC,{id:"assign-permissions-combobox",label:v._('Assign Permissions', '[m10n]bizAccess.catalog.selectPartner.partnerLabel', 'Label for brand partner select catalog permissions in the access assign flow'),onSelect:function(e){var t=e.item;_(t.value),K(t.value)},options:el,placeholder:"Select",selectedOption:el.find(function(e){return e.value===X})})})]})]})})};function nY(e){return(nY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nV(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function nq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nq(Object(n),!0).forEach(function(t){nW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nW(e,t,n){return(t=nK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nX(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function nK(e){var t=function(e,t){if("object"!=nY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nY(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nY(t)?t:t+""}function n$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nJ(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nJ(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var n0=function(e){var t=e.shouldDisplayInfoBanner,n=e.setShouldDisplayInfoBanner,r=e.businessId,s=e.partnerId,a=e.sharedWithPartner,i=e.isRMNBrandPartner,l=e.setSelectedCatalogIds,d=void 0===l?function(){}:l,_=(0,b.Z)(),m=(0,c.I0)(),h=(0,eo.nU)(),p=n$((0,o.useState)(!1),2),y=p[0],v=p[1],A=n$((0,o.useState)(1),2),g=A[0],S=A[1],E=(0,o.useCallback)(function(){return g},[g]),P=n$((0,o.useState)(50),2),I=P[0],T=P[1],C=(0,o.useRef)(I);C.current=I;var O=(0,o.useCallback)(function(){return I},[I]),j=(0,c.v9)(ns),z=n$((0,o.useState)(j||""),2),w=z[0],N=z[1],R=(0,o.useRef)(w);R.current=w;var D=(0,c.v9)(nn),L=(0,o.useMemo)(function(){return Object.values(D).some(function(e){return e.length>0})},[D]),B=(0,c.v9)(nr),M=(0,c.v9)(nt),H=tb({businessId:r,searchTerm:void 0,startIndex:g-1,limit:I,resourceType:"CATALOG",businessPartnerType:i?"RMN":"REGULAR",partnerId:s||h},!0),Z=H.assets,G=H.assetsPermissions,F=H.totalCount,Y=H.loading,V=(0,o.useMemo)(function(){return Z.map(function(e){var t,n;return{id:e.asset.id,name:e.asset.name||"",permissions:G[e.asset.id]||[],type:e.asset.type||"",resource_subtype:e.resource_subtype||"",currencies:[],owner:{id:(null==(t=e.owner)?void 0:t.id)||"",name:(null==(n=e.owner)?void 0:n.full_name)||""},languages:[]}})},[Z,G]),Q=(0,o.useCallback)(function(){return F},[F]),W=(0,o.useMemo)(function(){return Object.values(V).reduce(function(e,t){return t.id&&t.name&&(e[t.id]=t.name),e},{})},[V]),X=n$((0,o.useState)(Object.values(V)),2),K=X[0],$=X[1];(0,o.useEffect)(function(){N(j||"")},[j]),(0,o.useEffect)(function(){m((0,q.jk)({businessId:r,limit:f.xX}))},[r,a,m]),(0,o.useEffect)(function(){Array.isArray(V)&&V.length>0&&$((null==w?void 0:w.length)>0?V.filter(function(e){var t,n;return(null==(t=e.name)?void 0:t.toLowerCase().startsWith(w.toLowerCase()))||(null==(n=e.id)?void 0:n.startsWith(w))}):V)},[V,w]);var J=[(0,U.Z)({size:"sm",selectedIds:Object.keys(D),onSelectChange:function(e){if(Object.keys(D).includes(e)){D[e];var t=nX(D,[e].map(nK));B[e];var n=nX(B,[e].map(nK));m(tU({resourceIdToRoles:null!=t?t:{},resourceIdToNames:null!=n?n:{}})),M&&m(tB(!1)),d(Object.keys(n))}else{var r,s=nQ(nQ({},B),{},nW({},e,{asset:{name:null!=(r=W[e])?r:""}}));m(tU({resourceIdToRoles:nQ(nQ({},D),{},nW({},e,["CATALOGS_MANAGER"])),resourceIdToNames:s})),d(Object.keys(s))}},checkbox:{indeterminate:L,checked:!!M,onChange:function(e){if(!y){if(e&&L){m(tB(!1)),m(tU({resourceIdToRoles:{},resourceIdToNames:{}})),d([]);return}var t,n,r=V?V.map(function(e){return e.id}):[],s=r.reduce(function(e,t){return e[t]=["CATALOGS_MANAGER"],e},{}),o=r.reduce(function(e,t){var n=W[t];return n&&(e[t]={asset:{name:n}}),e},{});if(!e||!w){m(tB(e)),m(tU({resourceIdToRoles:s,resourceIdToNames:o})),d(Object.keys(o));return}v(!0),(t=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{n=(t=V.filter(function(e){var t,n;return(null==(t=e.name)?void 0:t.toLowerCase().startsWith(w.toLowerCase()))||(null==(n=e.id)?void 0:n.startsWith(w))}).map(function(e){return e.id})).reduce(function(e,t){return e[t]=["CATALOGS_MANAGER"],e},{}),r=t.reduce(function(e,t){var n=W[t];return n&&(e[t]={asset:{name:n}}),e},{}),m(tU({resourceIdToRoles:n,resourceIdToNames:r})),m(tB(!0))}catch(e){m(tB(!1)),m(tU({resourceIdToRoles:{},resourceIdToNames:{}}))}finally{v(!1)}case 1:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){nV(o,r,s,a,i,"next",e)}function i(e){nV(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)})()}},id:"select-all-catalogs-checkbox",disabled:y}}),(0,k.Z)(_,{headerName:_._('Catalogs', '[m10n]businessAccess.business.partners.catalogName', 'header of column displaying catalog name'),sortable:!1})],ee=(0,o.useCallback)(function(e){e.searchTerm&&m(tB(!1));var t=e.page||1;(e.limit||0)>0&&(t=1);var n="limit"in e?e.limit:C.current,r="searchTerm"in e?e.searchTerm:R.current;N(r||""),S(t),T(n||50),m({type:"SET_SELECTED_RMN_CATALOGS_SEARCH_VALUE",catalogsSearchValue:r})},[m,R,C]);return(0,x.jsxs)(u.kC,{direction:"column",children:[(0,x.jsx)(u.xu,{paddingX:3,children:t&&(0,x.jsx)(nk,{setShouldDisplayInfoBanner:n})}),(0,x.jsx)(tS.Z,{columnDefs:J,currentPageSelector:E,data:K,disableFirstRender:!0,emptyState:(0,x.jsx)(u.kC,{alignItems:"center",direction:"row",height:100,justifyContent:"center",children:(0,x.jsx)(u.xv,{color:"subtle",children:_._('No catalogs found', '[m10n]businessAccess.catalogsTable.emptyState', 'No catalogs found empty state')})}),fetchData:ee,hidePagination:!0,initialSearchTermValue:w,isLoading:y||Y,pageSizeSelector:O,pageType:f.Q6.PARTNERS,paginationProps:{paddingY:3,paddingX:3,alignRowsPerPageLabel:"right"},searchInputContainerStyles:{paddingX:3},searchPlaceholder:_._('Search by catalog name or ID', '[m10n]businessAccess.search.catalogs', 'Placeholder text for the search catalogs field'),showFiltersOnEmptyState:!0,totalCountSelector:Q})]})},n1=function(e){var t=e.catalogIds,n=void 0===t?[]:t,r=e.setCatalogIds,s=e.currentPartner,a=e.setSelectedPartner,i=e.setSheetTitle,l=e.setSheetSubTitle,c=e.setCurrentSheet,d=e.setOnNextSheet,_=e.shouldDisplayInfoBanner,f=e.setShouldDisplayInfoBanner,m=(0,b.Z)(),p=(0,eo.KJ)(),y=(0,h.ZP)(),v=(0,o.useRef)(y),A=m._('Share media network access', '[m10n]businessAccess.catalogSharing.selectCatalogs.sheet.title', 'Share media network access sheet title'),g=m._('Step 1 of 2', '[m10n]businessAccess.catalogSharing.selectCatalogs.sheet.subtitle', 'Share media network access sheet subtitle'),S=m._('Next', '[m10n]bizAccess.catalogSharing.button.next', 'Button to see summary after selecting catalogs'),E=(0,o.useCallback)(function(){c("CATALOG_SUMMARY_SHEET"),s&&a(s)},[c,a,s]);return(0,o.useEffect)(function(){v.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"assign-catalogs-access-sheet",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"select-catalogs-sheet-open"})},[v]),(0,o.useEffect)(function(){i(A),l(g),d({onNext:E,disabled:0===n.length,buttonText:S,size:"lg"})},[E,S,i,l,s,d,g,A,n]),(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xu,{flex:"grow",marginStart:4,children:(0,x.jsx)(n0,{businessId:p,setSelectedCatalogIds:r,setShouldDisplayInfoBanner:f,sharedWithPartner:!1,shouldDisplayInfoBanner:_})})})};function n2(e){return(n2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n5(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=n2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=n2(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n2(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function n3(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function n8(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n4(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?n4(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var n7=function(e){var t=e.selectedPartner,n=e.setSelectedPartner,r=e.setSheetTitle,s=e.setSheetSubTitle,a=e.setCurrentSheet,i=e.setOnNextSheet,l=e.shouldDisplayInfoBanner,d=e.setShouldDisplayInfoBanner,_=(0,b.Z)(),m=(0,c.I0)(),y=(0,eo.KJ)(),v=(0,A.dI)().showToast,g=(0,c.v9)(ee.ji),S=n8((0,o.useState)(null==t?void 0:t.id),2),E=S[0],P=S[1],I=n8((0,o.useState)({}),2),T=I[0],C=I[1],O=n8((0,o.useState)(null),2),j=O[0],z=O[1],w=n8((0,o.useState)(!1),2),N=w[0],R=w[1],D=(0,h.ZP)(),k=(0,o.useRef)(D),L=_._('Share media network catalog access', '[m10n]businessAccess.catalog.selectPartner.sheet.title', 'Share media network catalog access sheet title'),U=_._('Step 1 of 2', '[m10n]businessAccess.catalog.selectPartner.sheet.subtitle', 'Share media network catalog access sheet subtitle'),B=_._('Next', '[m10n]bizAccess.catalog.button.next', 'Button to see summary after selecting partner');(0,o.useEffect)(function(){var e,t,n=(e=regeneratorRuntime.mark(function e(){var t,n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Q.WP)({businessId:y,searchBy:["FULL_NAME","USERNAME","BUSINESS_ID"],sortBy:"FULL_NAME",businessPartnerType:"RMN",partnerType:"INTERNAL"},{},{limit:f.cU,startIndex:0});case 3:n=n6(n6({},null==(t=e.sent)?void 0:t.data),null==t?void 0:t.sharedData),r=null==g?void 0:g.map(function(e){return e.id}),C(s=Object.values(n).reduce(function(e,t){return null!=r&&r.includes(t.id)||(e[t.id]=t),e},{})),z(Object.values(s).map(function(e){var t=e.id;return{label:e.user.full_name,value:t}})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),v(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:_._('Could not retrieve brand partners', '[m10n]bizAccess.catalog.getPartners.failure.toast', 'Toast that appears if brand partner retrieval fails')})});case 14:return e.prev=14,R(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){n3(o,r,s,a,i,"next",e)}function i(e){n3(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)});if(!g)return void m((0,q.ke)({businessId:y}));R(!0),n()},[y,g,m,v,_]);var M=(0,o.useCallback)(function(){var e=Object.values(T).find(function(e){return e.id===E});e&&n(e),a("CATALOG_SUMMARY_SHEET")},[E,T,n,a]);return(0,o.useEffect)(function(){k.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"assign-catalog-access-sheet",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"select-partner-sheet-open"})},[k]),(0,o.useEffect)(function(){r(L),s(U),i({onNext:M,disabled:void 0===E,buttonText:B,size:"lg"})},[M,B,r,s,E,i,U,L,N]),(0,x.jsx)(u.xu,{children:(0,x.jsxs)(u.xu,{flex:"grow",marginStart:4,children:[(0,x.jsx)(u.xu,{paddingX:3,children:l&&(0,x.jsx)(nk,{setShouldDisplayInfoBanner:d})}),N?(0,x.jsx)(u.xH,{show:!0}):j?(0,x.jsx)(u.EI,{id:"partners-select-list",label:_._('Select a brand partner to receive catalog access', '[m10n]bizAccess.catalog.selectPartner.partnerLabel', 'Label for brand partner select list field in the access assign flow'),name:"partner-select-list",onChange:function(e){P(e.value)},placeholder:_._('Select', '[m10n]bizAccess.catalog.selectPartner.partnerSelectList.placeholder', 'Placeholder for partner select list field in the access assign flow'),size:"lg",value:E||"",children:j.map(function(e){return(0,x.jsx)(u.EI.Option,n6({},e),e.label)})}):null]})})},n9=n(997526),re=n(239022),rt=n(818303),rn=function(e){var t=e.transformedPartners,n=e.i18n,r=function(e){return(0,x.jsxs)(u.kC,{alignItems:"center",gap:{column:0,row:2},children:[(0,x.jsx)(u.xu,{height:48,width:48,children:(0,x.jsx)(eP.qE,{name:"partner avatar",size:"md",src:null==e?void 0:e.user.image_medium_url})}),(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xv,{size:"300",children:null==e?void 0:e.user.full_name}),(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:(0,y.nk)(n._('ID: {{ partnerId }}', '[m10n]bizAccess.catalog.summarySheet.partnerId', 'partnerId: ID of the partner.'),{partnerId:null==e?void 0:e.id})})]})]})};return(0,x.jsx)(u.xu,{marginBottom:2,marginTop:2,children:2===t.length?(0,x.jsxs)(u.kC,{children:[(0,x.jsx)(u.sg,{"flex-grow":!0,span:6,children:t[0]&&r(t[0])}),(0,x.jsx)(u.sg,{"flex-grow":!0,span:6,children:t[1]&&r(t[1])})]}):(0,x.jsx)(u.kC,{direction:"row",gap:{column:0,row:4},children:(0,x.jsx)(u.sg,{span:12,children:t[0]&&r(t[0])})})})},rr=function(e){var t=e.partnersSharedToDisplay,n=e.i18n;return(0,x.jsx)(o.Fragment,{children:t.map(function(e){var t;return(0,x.jsx)(rn,{i18n:n,transformedPartners:e},"recipient-partner-group-".concat(null==(t=e[0])?void 0:t.id))})})},rs=n(926604),ro=n(498452),ra=n(520803);function ri(e){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rl(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(n),!0).forEach(function(t){rd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rd(e,t,n){var r;return(r=function(e,t){if("object"!=ri(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ri(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ri(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rf(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rf(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rm=function(e){var t=e.termsAndConditionsChecked,n=e.setTermsAndConditionsChecked,r=e.i18n;return(0,x.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n9.W6M}},rounding:2,children:(0,x.jsxs)(u.xu,{padding:4,children:[(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.xv,{size:"200",children:r._('Terms and Conditions', '[m10n]bizAccess.catalog.termsAndConditions.title', 'Terms and Conditions title for the created ad account')})}),(0,x.jsx)(u.xu,{marginBottom:3,children:(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:r._('By sharing this catalog, you acknowledge and agree that Pinterest will share your catalog with the entity selected above, and such agreement shall supersede any provisions to the contrary in Pinterest\u2019s Ad Data Terms. You represent that you are in compliance with applicable law when sharing this catalog. You further agree that you shall indemnify, defend, and hold harmless Pinterest in the event of any claims brought against Pinterest related to the sharing of this catalog. By sharing a catalog, you acknowledge\xA0that partners may share this asset with agency partners.', '[m10n]bizAccess.catalog.disclaimer', 'Legal disclaimer.')})}),(0,x.jsx)(u.XZ,{checked:t,id:"catalogTermsAndConditions",label:r._('By checking this box, you agree to the above Terms and Conditions', '[m10n]bizAccess.catalog.termsAndConditions.checkboxLabel', 'Terms and conditions checkbox label'),onChange:function(e){n(e.checked)}})]})})},rh=function(e){var t,n=e.selectedCatalogs,r=e.selectedPartner,s=e.setCurrentSheet,a=e.setSheetTitle,i=e.setSheetSubTitle,l=e.setOnNextSheet,c=e.setBackButton,d=e.hideSheet,_=e.refreshData,m=e.selectedAgencies,v=e.selectedAgencyPartnerRole,g=!!r,S=!!m&&m.length>0,E=(0,b.Z)(),P=(0,eo.KJ)(),I=r_((0,o.useState)(S),2),T=I[0],C=I[1],O=r_((0,o.useState)(!1),2),j=O[0],z=O[1],w=(0,h.ZP)(),N=(0,o.useRef)(w),R=(0,A.dI)().showToast,D=(0,ra.Z)().path.includes(":userBizId/shared/:detailId"),k=!!S&&n.some(function(e){return"COLLABORATIVE"===e.resource_subtype}),L=g||k?E._('Share media network catalog access', '[m10n]businessAccess.catalog.summary.sheet.title', 'Share media network catalog access sheet title'):E._('Share catalog access', '[m10n]businessAccess.catalogSharing.selectCatalogsForAgencyPartner.sheet.title', 'Share catalog access sheet title'),U=E._('Step 2 of 2', '[m10n]businessAccess.catalog.summary.sheet.subtitle', 'Share media network catalog access sheet subtitle'),B=E._('Confirm', '[m10n]bizAccess.catalog.button.confirm', 'Button to confirm updates after selecting partner'),M=(0,rt.t)(m||[]),H=(0,rt.c)({resourceIdToRoles:n.reduce(function(e,t){return ru(ru({},e),{},rd({},t.id,S?[v]:["CATALOGS_MANAGER"]))},{}),resourceIdToDetails:n.reduce(function(e,t){return ru(ru({},e),{},rd({},t.id,{asset:{name:t.name}}))},{})}),Z=(0,o.useCallback)(function(){D?s("ASSIGN_CATALOGS_ACCESS_FOR_PARTNER_SHEET"):S?s("ASSIGN_AGENCY_PARTNERS_FOR_CATALOGS_SHEET"):s("ASSIGN_ACCESS_FOR_CATALOG_SHEET")},[s,D,S]),G=(0,o.useCallback)((t=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(z(!0),!g||!(r&&n.length>0)){e.next=15;break}return e.prev=3,e.next=6,Promise.all(n.map(function(e){return(0,ro.SZ)({businessId:P,partnerId:r.id,assetId:e.id,permissions:["CATALOGS_MANAGER"]})}));case 6:_(),R(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:E._('Permission assigned!', '[m10n]bizAccess.catalog.summarySheet.update.success.toast', 'Toast message if updating a catalog succeeds'),type:"default"})}),d(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),R(function(t){var n=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:e.t0 instanceof Error?e.t0.message:E._('There was an error in assigning the permission. Please try again.', '[m10n]bizAccess.catalog.summarySheet.update.error.toast', 'Error message if assigning the permission fails'),type:"error"})}),d();case 15:if(!S||(t=Array.isArray(n)?n:[],!(m&&m.length>0&&t.length>0))){e.next=30;break}return e.prev=18,e.next=21,(0,tt.oC)(P,[{assigneeIds:m.map(function(e){return e.id}),adAccountIds:t.map(function(e){return e.id}),permissions:[v||"CATALOGS_MANAGER"]}],"PARTNER");case 21:_(),R(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:E._('Permissions assigned', '[m10n]bizAccess.catalog.summarySheet.update.success.toast', 'Toast message if updating catalogs for multiple partners succeeds'),type:"default"})}),d(),e.next=30;break;case 26:e.prev=26,e.t1=e.catch(18),R(function(t){var n=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:e.t1 instanceof Error?e.t1.message:E._('There was an error in assigning permissions. Please try again.', '[m10n]bizAccess.catalog.summarySheet.update.error.toast', 'Error message if assigning permissions fails'),type:"error"})}),d();case 30:z(!1);case 31:case"end":return e.stop()}},e,null,[[3,11],[18,26]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){rl(o,r,s,a,i,"next",e)}function i(e){rl(o,r,s,a,i,"throw",e)}a(void 0)})}),[g,S,d,z,R,E,P,n,r,m,v,_]);return(0,o.useEffect)(function(){N.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"assign-catalog-access-sheet",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"summary-sheet-open"})},[N]),(0,o.useEffect)(function(){a(L),i(U),c({onBack:Z,size:"lg"}),l({onNext:G,disabled:!1===T||j,buttonText:B,size:"lg"})},[Z,G,c,a,i,U,L,B,l,T,j]),(0,x.jsxs)(u.xu,{borderStyle:"sm",rounding:2,children:[(0,x.jsxs)(u.xu,{padding:4,children:[(0,x.jsx)(u.X6,{size:"400",children:E._('Catalog sharing summary', '[m10n]bizAccess.catalog.summarySheet.title', 'Title for the summary sheet in the catalog sharing flow')}),(0,x.jsxs)(u.xu,{marginTop:4,children:[(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.xv,{color:"subtle",size:"100",children:E._('Recipient', '[m10n]bizAccess.catalog.summarySheet.subTitle', 'Subtitle for the summary sheet in the catalog partner flow')})}),(0,x.jsxs)(u.xu,{marginBottom:2,children:[g&&(0,x.jsxs)(u.kC,{alignItems:"center",gap:{column:0,row:2},children:[(0,x.jsx)(u.xu,{height:48,width:48,children:(0,x.jsx)(eP.qE,{name:"partner avatar",size:"md",src:null==r?void 0:r.user.image_medium_url})}),(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xv,{size:"300",children:null==r?void 0:r.user.full_name}),(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:(0,y.nk)(E._('ID: {{ partnerId }}', '[m10n]bizAccess.catalog.summarySheet.partnerId', 'partnerId: ID of the partner.'),{partnerId:null==r?void 0:r.id})})]})]}),S&&(0,x.jsx)(rr,{i18n:E,partnersSharedToDisplay:M})]})]})]}),(0,x.jsx)(u.iz,{}),(0,x.jsx)(u.xu,{paddingX:4,paddingY:5,children:(0,x.jsx)(re.Z,{assets:H,assetType:rs.Pl.CATALOGS_SHARED,hidePermissionsToAsset:g,i18n:E})}),g&&(0,x.jsx)(rm,{i18n:E,setTermsAndConditionsChecked:C,termsAndConditionsChecked:T})]})},rp=n(173255);function rb(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function ry(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){rb(o,r,s,a,i,"next",e)}function i(e){rb(o,r,s,a,i,"throw",e)}a(void 0)})}}function rv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rA(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rA(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rg=function(e){var t=e.hidePermissionsToAsset,n=void 0!==t&&t,r=e.adAccountsRequested,s=e.adAccountsShared,a=e.audiencesShared,i=e.conversionSegmentsShared,l=e.catalogsRequested,c=e.catalogsShared,d=e.profilesRequested,_=e.profilesShared,f=e.adAccountNames,m=e.catalogNames,h=e.isAgencyRequestedInvite,p=void 0!==h&&h,y=e.isBrandAgencyInvite,A=void 0!==y&&y,g=(0,b.Z)(),S=(0,eo.KJ)(),E=(0,(0,v.Z)().checkExperiment)("business_access_rmn_catalog_sharing").anyEnabled,P=!!(0,te.Z)({customExperimentNames:["business_access_rmn_brand_agency_catalog_sharing"]}).data.business_access_rmn_brand_agency_catalog_sharing,I=E&&P,T=!r&&!s&&!a&&!i&&!l&&!c&&!d&&!_,C=rv((0,o.useState)(!1),2),O=C[0],j=C[1],z=rv((0,o.useState)(),2),w=z[0],N=z[1],R=rv((0,o.useState)(),2),D=R[0],k=R[1],L=rv((0,o.useState)(),2),U=L[0],B=L[1],M=rv((0,o.useState)(),2),H=M[0],Z=M[1],G=rv((0,o.useState)(),2),F=G[0],Y=G[1],V=r?(0,rt.c)({resourceIdToRoles:r}):void 0,q=a?(0,rt.c)({resourceIdToRoles:a.resourceIdToRoles,resourceIdToDetails:a.resourceIdToNames}):void 0,Q=i?(0,rt.c)({resourceIdToRoles:i.resourceIdToRoles,resourceIdToDetails:i.resourceIdToNames}):void 0,W=l?(0,rt.c)({resourceIdToRoles:l}):void 0,X=d?(0,rt.c)({resourceIdToRoles:d}):void 0,K=(0,o.useCallback)(ry(regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,l,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:if(t=[],n=[],f){e.next=20;break}return j(!0),e.prev=6,e.next=9,(0,tt.pI)({businessId:S,assetIds:Object.keys(s),resourceType:"AD_ACCOUNT"});case 9:a=null==(o=e.sent)||null==(r=o.data)?void 0:r.data,I&&A&&a?(i=new Set(Object.values(a).filter(function(e){return!!e.targeting_rmn_business_id}).map(function(e){return e.asset.id})),c=(l=Object.entries(s).reduce(function(e,t){var n=rv(t,2),r=n[0],s=n[1];return i.has(r)?e.rmnResourceIdToRoles[r]=s:e.nonRmnResourceIdToRoles[r]=s,e},{rmnResourceIdToRoles:{},nonRmnResourceIdToRoles:{}})).rmnResourceIdToRoles,u=l.nonRmnResourceIdToRoles,t=(0,rt.c)({resourceIdToRoles:u,resourceIdToDetails:a}),n=(0,rt.c)({resourceIdToRoles:c,resourceIdToDetails:a})):t=(0,rt.c)({resourceIdToRoles:s,resourceIdToDetails:a}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),t=(0,rt.c)({resourceIdToRoles:s});case 17:j(!1),e.next=21;break;case 20:t=(0,rt.c)({resourceIdToRoles:s,resourceIdToDetails:f});case 21:N(t&&t.length>0?t:void 0),k(n&&n.length>0?n:void 0);case 23:case"end":return e.stop()}},e,null,[[6,14]])})),[s,f,S,A,I]),$=(0,o.useCallback)(ry(regeneratorRuntime.mark(function e(){var t,n,r,s,o,a,i,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:if(t=[],n=[],j(!0),r=m,m){e.next=17;break}return e.prev=7,e.next=10,(0,tt.pI)({businessId:S,assetIds:Object.keys(c),resourceType:"CATALOG"});case 10:r=null==(o=e.sent)||null==(s=o.data)?void 0:s.data,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),t=(0,rt.c)({resourceIdToRoles:c});case 17:I&&A&&r?(a=new Set(Object.values(r).filter(function(e){return e.resource_subtype&&"COLLABORATIVE"===e.resource_subtype}).map(function(e){return e.asset.id})),l=(i=Object.entries(c).reduce(function(e,t){var n=rv(t,2),r=n[0],s=n[1];return a.has(r)?e.rmnResourceIdToRoles[r]=s:e.nonRmnResourceIdToRoles[r]=s,e},{rmnResourceIdToRoles:{},nonRmnResourceIdToRoles:{}})).rmnResourceIdToRoles,u=i.nonRmnResourceIdToRoles,t=(0,rt.c)({resourceIdToRoles:u,resourceIdToDetails:r,includeCatalogType:!0,i18n:g}),n=(0,rt.c)({resourceIdToRoles:l,resourceIdToDetails:r})):t=(0,rt.c)({resourceIdToRoles:c,resourceIdToDetails:r}),j(!1),B(t&&t.length>0?t:void 0),Z(n&&n.length>0?n:void 0);case 21:case"end":return e.stop()}},e,null,[[7,14]])})),[m,c,S,g,A,I]),J=(0,o.useCallback)(ry(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=2;break}return e.abrupt("return");case 2:return t=[],j(!0),e.prev=4,e.next=7,(0,tt.pI)({businessId:S,assetIds:Object.keys(_),resourceType:"PROFILE"});case 7:r=e.sent,t=(0,rt.c)({resourceIdToRoles:_,resourceIdToDetails:null==r||null==(n=r.data)?void 0:n.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t=(0,rt.c)({resourceIdToRoles:_});case 14:j(!1),Y(t);case 16:case"end":return e.stop()}},e,null,[[4,11]])})),[_,S]);if((0,e9.Z)(function(){s&&K(),c&&$(),_&&J()}),T){var ee=p?g._('Requested assets', '[m10n]bizAccess.add.partners.sheet.requestedAssets', 'Requested assets in RMN brand workflow'):g._('Shared assets', '[m10n]bizAccess.add.partners.sheet.sharedAssets', 'Shared assets');return(0,x.jsxs)(u.xu,{paddingX:4,paddingY:6,children:[(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.xv,{color:"subtle",size:"100",children:ee})}),(0,x.jsx)(u.he,{message:p?g._('No assets requested. To request assets, visit the Partner or Ad account or profile pages.', '[m10n]bizAccess.add.partners.sheet.noAssets.requested', 'No assets requested from the partner'):A?g._('No assets will be assigned to this partner at this time. To share assets with this partner, visit the Partner, Ad accounts or Profiles pages.', '[m10n]bizAccess.add.partners.sheet.noAssets.shared.brandAgency', 'No assets shared with the partner in brand agency workflow'):g._('No assets will be assigned to this partner at this time. To share assets with this partner, visit the Partner, Audiences or Conversion pages.', '[m10n]bizAccess.add.partners.sheet.noAssets.shared', 'No assets shared with the partner in rmn workflow'),type:"neutral"})]})}if(O)return(0,x.jsx)(rp.Z,{});var et=!I||!A||!!w||!!U||!!F;return(0,x.jsxs)(u.xu,{children:[et&&(0,x.jsxs)(u.xu,{paddingX:4,paddingY:5,children:[!!w&&(0,x.jsx)(re.Z,{assets:w,assetType:rs.Pl.AD_ACCOUNTS_SHARED,hidePermissionsToAsset:n,i18n:g}),!!V&&(0,x.jsx)(re.Z,{assets:V,assetType:rs.Pl.AD_ACCOUNTS_REQUESTED,hidePermissionsToAsset:n,i18n:g}),!!q&&(0,x.jsx)(re.Z,{assets:q,assetType:rs.Pl.AUDIENCES_SHARED,hidePermissionsToAsset:n,i18n:g}),!!Q&&(0,x.jsx)(re.Z,{assets:Q,assetType:rs.Pl.CONVERSIONS_SHARED,hidePermissionsToAsset:n,i18n:g}),!!U&&(0,x.jsx)(re.Z,{assets:U,assetType:rs.Pl.CATALOGS_SHARED,hidePermissionsToAsset:n,i18n:g,showCatalogType:I&&A}),!!W&&(0,x.jsx)(re.Z,{assets:W,assetType:rs.Pl.CATALOGS_REQUESTED,hidePermissionsToAsset:n,i18n:g}),!!F&&(0,x.jsx)(re.Z,{assets:F,assetType:rs.Pl.PROFILE_SHARED,hidePermissionsToAsset:n,i18n:g}),!!X&&(0,x.jsx)(re.Z,{assets:X,assetType:rs.Pl.PROFILE_REQUESTED,hidePermissionsToAsset:n,i18n:g})]}),I&&A&&(!!D||!!H)&&(0,x.jsxs)(u.xu,{children:[et&&(0,x.jsx)(u.iz,{}),(0,x.jsxs)(u.xu,{paddingX:4,paddingY:5,children:[(0,x.jsx)(u.xu,{marginBottom:3,children:(0,x.jsx)(u.X6,{size:"300",children:g._('Media network assets', '[m10n]bizAccess.addPartner.mediaNetworkAssets.title', 'Title for media network assets')})}),!!D&&(0,x.jsx)(re.Z,{assets:D,assetType:rs.Pl.AD_ACCOUNTS_SHARED,hidePermissionsToAsset:n,i18n:g}),!!H&&(0,x.jsx)(re.Z,{assets:H,assetType:rs.Pl.RMN_CATALOGS_SHARED,hidePermissionsToAsset:n,i18n:g}),!!H&&(0,x.jsx)(nk,{showShareWithAgencyPartner:!1})]})]})]})},rS=n(917429),rx=n(739228);function rE(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function rP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rI=function(e){var t,n,r=e.selectedPartner,s=e.setSheetTitle,a=e.setSheetSubTitle,i=e.setBackButton,l=e.setCurrentSheet,d=e.setOnNextSheet,_=e.hideSheet,m=e.refreshData,v=(0,b.Z)(),g=(0,h.ZP)(),S=(0,o.useRef)(g),E=(0,c.I0)(),P=(0,eo.KJ)(),I=(0,A.dI)().showOneToast,T=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return rP(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rP(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),C=T[0],O=T[1],j=(0,c.v9)(t5),z=v._('Share catalog access', '[m10n]businessAccess.catalogSharing.selectCatalogsForAgencyPartner.sheet.title', 'Share catalog access sheet title'),w=v._('Step 2 of 2', '[m10n]businessAccess.catalog.summary.sheet.subtitle', 'Share catalog access sheet subtitle'),N=v._('Share access', '[m10n]bizAccess.catalog.button.shareAccess', 'Button to share partner access to catalogs'),R=(0,o.useMemo)(function(){return{catalogsShared:Object.values(j.catalogs.roleToNumberOfAssets).some(function(e){return e>0})?(0,rS.eO)("CATALOGS_MANAGER",j.catalogs.resourceIdToRoles):void 0}},[j]).catalogsShared,D=(0,o.useCallback)(function(e,t){I(function(n){var r=n.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:t,type:e})})},[I]),k=(0,o.useCallback)(function(e){var t=(0,rx.ZB)(v,e);S.current({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_SHEET",componentId:"invite-summary-partners-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"agency-partner-summary-sheet",errorMessage:t,business_id:P}),D("error",t)},[v,P,S,D]),L=(0,o.useCallback)((n=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),!(r&&R)){e.next=12;break}return e.prev=2,e.next=5,(0,tt.oC)(P,Object.keys(R).map(function(e){return{assigneeIds:[r.id],adAccountIds:[e],permissions:R[e]}}),"PARTNER");case 5:m(),D("success",v._('Permission assigned!', '[m10n]bizAccess.catalog.summarySheet.update.success.toast', 'Toast message if updating a catalog succeeds')),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),k(e.t0);case 12:O(!1),E(tj()),_();case 15:case"end":return e.stop()}},e,null,[[2,9]])}),function(){var e=this,t=arguments;return new Promise(function(r,s){var o=n.apply(e,t);function a(e){rE(o,r,s,a,i,"next",e)}function i(e){rE(o,r,s,a,i,"throw",e)}a(void 0)})}),[_,O,D,v,P,R,r,m,E,k]);(0,e9.Z)(function(){S.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"assign-catalog-access-sheet",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"agency-partner-summary-sheet-open"})});var U=(0,o.useCallback)(function(){l("ASSIGN_CATALOGS_ACCESS_FOR_AGENCY_PARTNER_SHEET")},[l]);return(0,o.useEffect)(function(){s(z),a(w),i({onBack:U}),d({onNext:L,disabled:C,buttonText:N})},[L,U,i,s,a,w,z,N,d,C]),(0,x.jsxs)(u.xu,{borderStyle:"sm",rounding:2,children:[(0,x.jsxs)(u.xu,{padding:4,children:[(0,x.jsx)(u.X6,{size:"400",children:v._('Catalog sharing summary', '[m10n]bizAccess.catalog.agencyPartnerSummarySheet.title', 'Title for the summary sheet in the catalog sharing flow for agency partners')}),(0,x.jsxs)(u.xu,{marginTop:4,children:[(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.xv,{color:"subtle",size:"100",children:v._('Recipient', '[m10n]bizAccess.catalog.agencyPartnerSummarySheet.subTitle', 'Subtitle for the summary sheet in the catalog sharing flow for agency partners')})}),(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsxs)(u.kC,{alignItems:"center",gap:{column:0,row:2},children:[(0,x.jsx)(u.xu,{height:48,width:48,children:(0,x.jsx)(eP.qE,{name:"partner avatar",size:"md",src:null==r?void 0:r.user.image_medium_url})}),(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xv,{size:"300",children:null==r?void 0:r.user.full_name}),(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:(0,y.nk)(v._('ID: {{ partnerId }}', '[m10n]bizAccess.catalog.summarySheet.partnerId', 'partnerId: ID of the partner.'),{partnerId:null==r?void 0:r.id})})]})]})})]})]}),(0,x.jsx)(u.iz,{}),(0,x.jsx)(rg,{catalogsShared:R,isBrandAgencyInvite:!0})]})},rT=function(e){var t=e.cancelButton,n=e.skipAssetAssignmentButton,r=e.backButton,s=e.nextButton,o=e.buttonSize,a=void 0===o?"md":o,i=(0,b.Z)(),l=i._('Skip asset assignment', '[m10n] bizAccess.newEmployeeFlow.footer.skipAssetAssignment', 'Button to skip asset assignment steps of the Add New Employee Flow');return(0,x.jsxs)(u.kC,{alignItems:"center",justifyContent:"between",children:[(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.zx,{color:"transparent",dataTestId:"sheet-cancel-button",disabled:t.disabled,fullWidth:!0,onClick:t.onCancel,size:a,text:t.buttonText||i._('Cancel', '[m10n]bizAccess.cancel.sheet', 'Closes the active invite')})}),(0,x.jsxs)(u.kC,{gap:{row:1,column:0},children:[n&&(0,x.jsx)(u.zx,{color:"transparent",dataTestId:"sheet-skip-asset-assignment-button",disabled:n.disabled,fullWidth:!0,onClick:n.onSkipAssetAssignment,size:a,text:n.buttonText||l}),r&&(0,x.jsx)(u.zx,{color:"gray",fullWidth:!0,onClick:r.onBack,size:a,text:i._('Back', '[m10n] bizAccess.newEmployeeFlow.footer.skipAssetAssignment', 'Button to skip asset assignment steps of the Add New Employee Flow')}),s&&(0,x.jsx)(u.zx,{color:"red",dataTestId:"sheet-next-button",disabled:s.disabled,fullWidth:!0,onClick:s.onNext,size:a,text:s.buttonText||i._('Next', '[m10n]bizAccess.sheet.next', 'Go to the next step')})]})]})};function rC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rO(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rO(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rj={ASSIGN_ACCESS_FOR_CATALOG:"ASSIGN_ACCESS_FOR_CATALOG_SHEET",ASSIGN_CATALOGS_ACCESS_FOR_PARTNER:"ASSIGN_CATALOGS_ACCESS_FOR_PARTNER_SHEET",ASSIGN_CATALOGS_ACCESS_FOR_AGENCY_PARTNER:"ASSIGN_CATALOGS_ACCESS_FOR_AGENCY_PARTNER_SHEET",ASSIGN_AGENCY_PARTNERS_FOR_CATALOGS:"ASSIGN_AGENCY_PARTNERS_FOR_CATALOGS_SHEET",CATALOG_SUMMARY:"CATALOG_SUMMARY_SHEET",CATALOG_SUMMARY_FOR_AGENCY_PARTNER:"CATALOG_SUMMARY_FOR_AGENCY_PARTNER_SHEET"},rz=function(e){var t=e.selectedCatalog,n=e.currentPartner,r=e.type,s=e.refreshData,a=e.hideSheet,i=(0,c.I0)(),l=(0,h.ZP)(),d=(0,o.useRef)(l),_=rj[r],f=rC((0,o.useState)(),2),m=f[0],p=f[1],b=rC((0,o.useState)([]),2),y=b[0],v=b[1],A=rC((0,o.useState)(),2),g=A[0],S=A[1],E=rC((0,o.useState)(_),2),P=E[0],I=E[1],T=rC((0,o.useState)(" "),2),C=T[0],O=T[1],j=rC((0,o.useState)(" "),2),z=j[0],N=j[1],R=rC((0,o.useState)([]),2),D=R[0],k=R[1],L=rC((0,o.useState)({onNext:function(){},disabled:!1,size:"md"}),2),U=L[0],B=L[1],M=rC((0,o.useState)(),2),H=M[0],Z=M[1],G=rC((0,o.useState)(!0),2),F=G[0],Y=G[1],V=(0,c.v9)(ee.zW),q=(0,o.useMemo)(function(){return t?[t]:Object.values(V).filter(function(e){return D.includes(e.id)})},[t,V,D]);return(0,o.useEffect)(function(){H&&"CATALOG_SUMMARY_SHEET"!==P&&"CATALOG_SUMMARY_FOR_AGENCY_PARTNER_SHEET"!==P&&Z(void 0)},[H,P,Z]),(0,o.useEffect)(function(){d.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"catalog-page-assign-access-sheet",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"summary-sheet-open"})},[d]),(0,x.jsx)(u.xu,{position:"absolute",width:"100%",children:(0,x.jsxs)(w.Z,{footer:(0,x.jsx)(u.xu,{"data-test-id":"catalog-segment-flow-sheet-footer",children:(0,x.jsx)(rT,{backButton:H,buttonSize:"lg",cancelButton:{onCancel:function(){i(tj()),a(),l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"catalog-page-sidesheet-"+P,element:"BUSINESS_ACCESS_BUTTON",elementId:"catalog-page-sidesheet-cancel-button"})}},nextButton:U})}),hideSheet:function(){i(tj()),a()},size:"lg",subTitle:z,subTitleStyles:{marginTop:-7},title:C,children:["ASSIGN_ACCESS_FOR_CATALOG_SHEET"===P&&(0,x.jsx)(n7,{selectedPartner:m,setCurrentSheet:I,setOnNextSheet:B,setSelectedPartner:p,setSheetSubTitle:N,setSheetTitle:O,setShouldDisplayInfoBanner:Y,shouldDisplayInfoBanner:F}),"ASSIGN_CATALOGS_ACCESS_FOR_AGENCY_PARTNER_SHEET"===P&&(0,x.jsx)(nD,{setCurrentSheet:I,setOnNextSheet:B,setSheetSubTitle:N,setSheetTitle:O}),"ASSIGN_AGENCY_PARTNERS_FOR_CATALOGS_SHEET"===P&&(0,x.jsx)(nF,{selectedCatalog:t,selectedPartners:y,setCurrentSheet:I,setOnNextSheet:B,setSelectedAgencyPartnerRole:S,setSelectedPartners:v,setSheetSubTitle:N,setSheetTitle:O,setShouldDisplayInfoBanner:Y,shouldDisplayInfoBanner:F}),"ASSIGN_CATALOGS_ACCESS_FOR_PARTNER_SHEET"===P&&(0,x.jsx)(n1,{catalogIds:D,currentPartner:n,setCatalogIds:k,setCurrentSheet:I,setOnNextSheet:B,setSelectedPartner:p,setSheetSubTitle:N,setSheetTitle:O,setShouldDisplayInfoBanner:Y,shouldDisplayInfoBanner:F}),"CATALOG_SUMMARY_SHEET"===P&&(0,x.jsx)(rh,{hideSheet:a,refreshData:s,selectedAgencies:y,selectedAgencyPartnerRole:g,selectedCatalogs:q,selectedPartner:m,setBackButton:Z,setCurrentSheet:I,setOnNextSheet:B,setSheetSubTitle:N,setSheetTitle:O}),"CATALOG_SUMMARY_FOR_AGENCY_PARTNER_SHEET"===P&&(0,x.jsx)(rI,{hideSheet:a,refreshData:s,selectedPartner:n,setBackButton:Z,setCurrentSheet:I,setOnNextSheet:B,setSheetSubTitle:N,setSheetTitle:O})]})})},rw=n(254925),rN=n(140537);function rR(e){return(rR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rD(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rk(Object(n),!0).forEach(function(t){rU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rU(e,t,n){return(t=rM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rB(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function rM(e){var t=function(e,t){if("object"!=rR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rR(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rR(t)?t:t+""}function rH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rZ(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rZ(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rG=function(e){var t=e.setShouldDisplayInfoBanner,n=(0,b.Z)(),r=(0,x.jsx)(u.xv,{children:(0,x.jsxs)(u.aV,{children:[(0,x.jsx)(u.aV.Item,{text:n._('Brands will be unable to use any of their own 1P conversions for this ad account', '[m10n]bizAccess.conversionSegment.info.banner.1', 'Info banner for conversionSegments')}),(0,x.jsx)(u.aV.Item,{text:n._('Brands will be unable to view conversion diagnostic data on the Conversions page', '[m10n]bizAccess.conversionSegment.info.banner.2', 'Info banner for conversionSegments')}),(0,x.jsx)(u.aV.Item,{text:n._('The ad account can only receive shared conversions from a single RMN', '[m10n]bizAccess.conversionSegment.info.banner.3', 'Info banner for conversionSegments')}),(0,x.jsx)(u.aV.Item,{text:n._('Brand cannot reshare these conversions to other businesses and/or ad accounts', '[m10n]bizAccess.conversionSegment.info.banner.4', 'Info banner for conversionSegments')}),(0,x.jsx)(u.aV.Item,{text:n._('Brand cannot alter or export the conversion data', '[m10n]bizAccess.conversionSegment.info.banner.5', 'Info banner for conversionSegments')})]})});return(0,x.jsx)(u.xu,{marginBottom:3,children:(0,x.jsx)(u.ci,{dismissButton:{onDismiss:function(){return t(!1)}},message:r,type:"info"})})},rF=function(e){var t=e.businessId,n=e.showTabs,r=e.shouldDisplayInfoBanner,s=e.sharedWithPartner,a=e.setShouldDisplayInfoBanner,i=e.setSelectedConversionSegmentIds,l=void 0===i?function(){}:i,d=(0,b.Z)(),_=(0,c.I0)(),m=(0,c.v9)(rN.As),h=(0,c.v9)(rN.kg),p=rH((0,o.useState)(!1),2),y=p[0],v=p[1],A=(0,o.useMemo)(function(){return Object.values(m).reduce(function(e,t){return t.id&&t.name&&(e[t.id]=t.name),e},{})},[m]),g=rH((0,o.useState)(Object.values(m)),2),S=g[0],E=g[1],P=rH((0,o.useState)(0),2),I=P[0],T=P[1],C=rH((0,o.useState)(1),2),O=C[0],j=C[1],z=(0,o.useCallback)(function(){return O},[O]),w=rH((0,o.useState)(50),2),N=w[0],R=w[1],D=(0,o.useRef)(N);D.current=N;var L=(0,o.useCallback)(function(){return N},[N]),B=(0,o.useMemo)(function(){return m.length},[m]),M=(0,o.useCallback)(function(){return B},[B]),H=(0,c.v9)(nE),Z=rH((0,o.useState)(H||""),2),G=Z[0],F=Z[1],Y=(0,o.useRef)(G);Y.current=G;var V=(0,c.v9)(ng),q=(0,o.useMemo)(function(){return Object.values(V).some(function(e){return e.length>0})},[V]),Q=(0,c.v9)(nS),W=(0,c.v9)(nx);(0,o.useEffect)(function(){F(H||"")},[H]),(0,o.useEffect)(function(){_((0,rw.oF)({businessId:t,accountId:t,id:t,sharedWithPartner:s}))},[t,s,_]),(0,o.useEffect)(function(){m.length>0&&E((null==G?void 0:G.length)>0?m.filter(function(e){var t,n;return(null==(t=e.name)?void 0:t.toLowerCase().startsWith(G.toLowerCase()))||(null==(n=e.id)?void 0:n.startsWith(G))}):m)},[m,G]);var X=[(0,U.Z)({size:"sm",selectedIds:Object.keys(V),onSelectChange:function(e){if(Object.keys(V).includes(e)){V[e];var t=rB(V,[e].map(rM));Q[e];var n=rB(Q,[e].map(rM));_(tV({resourceIdToRoles:null!=t?t:{},resourceIdToNames:null!=n?n:{}})),W&&_(tq(!1)),l(Object.keys(n))}else{var r,s=rL(rL({},Q),{},rU({},e,{asset:{name:null!=(r=A[e])?r:""}}));_(tV({resourceIdToRoles:rL(rL({},V),{},rU({},e,["BIZ_CONVERSION_SEGMENT_SHARER"])),resourceIdToNames:s})),l(Object.keys(s))}},checkbox:{indeterminate:q,checked:!!W,onChange:function(e){if(!y){if(e&&q){_(tq(!1)),_(tV({resourceIdToRoles:{},resourceIdToNames:{}})),l([]);return}var t,n,r=m.map(function(e){return e.id}),s=r.reduce(function(e,t){return e[t]=["BIZ_CONVERSION_SEGMENT_SHARER"],e},{}),o=r.reduce(function(e,t){var n=A[t];return n&&(e[t]={asset:{name:n}}),e},{});if(!e||!G){_(tq(e)),_(tV({resourceIdToRoles:s,resourceIdToNames:o})),l(Object.keys(o));return}v(!0),(t=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{n=(t=m.filter(function(e){var t,n;return(null==(t=e.name)?void 0:t.toLowerCase().startsWith(G.toLowerCase()))||(null==(n=e.id)?void 0:n.startsWith(G))}).map(function(e){return e.id})).reduce(function(e,t){return e[t]=["BIZ_CONVERSION_SEGMENT_SHARER"],e},{}),r=t.reduce(function(e,t){var n=A[t];return n&&(e[t]={asset:{name:n}}),e},{}),_(tV({resourceIdToRoles:n,resourceIdToNames:r})),_(tq(!0))}catch(e){_(tq(!1)),_(tV({resourceIdToRoles:{},resourceIdToNames:{}}))}finally{v(!1)}case 1:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){rD(o,r,s,a,i,"next",e)}function i(e){rD(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)})()}},id:"select-all-conversion-segments-checkbox",disabled:y}}),(0,k.Z)(d,{headerName:d._('Conversion segments', '[m10n]businessAccess.business.partners.conversionSegmentName', 'header of column displaying conversion segment name'),sortable:!1})],K=(0,o.useCallback)(function(e){e.searchTerm&&_(tq(!1));var t=e.page||1;(e.limit||0)>0&&(t=1);var n="limit"in e?e.limit:D.current,r="searchTerm"in e?e.searchTerm:Y.current;F(r||""),j(t),R(n||50),_({type:"SET_SELECTED_CONVERSION_SEGMENTS_SEARCH_VALUE",conversionSegmentsSearchValue:r})},[_,Y,D]),$=function(e){var t=e.activeTabIndex;I!==t&&T(t)},J=(0,x.jsx)(u.mQ,{activeTabIndex:I,onChange:function(e){var t=e.activeTabIndex,n=e.event,r=e.dangerouslyDisableOnNavigation;n.preventDefault(),r(),$({activeTabIndex:t})},tabs:[{text:d._('Conversion segments', '[m10n]bizAccess.conversionSegment.tab.conversionSegmentsTab', 'Name to be shown in conversion segments tab title'),href:"#",id:"select-conversion-segments-table-conversion-segments-tab"}]});return(0,x.jsxs)(u.kC,{direction:"column",children:[(0,x.jsx)(u.xu,{paddingX:3,children:r&&(0,x.jsx)(rG,{setShouldDisplayInfoBanner:a})}),n&&(0,x.jsx)(u.xu,{marginBottom:2,children:J}),0===I&&(0,x.jsx)(tS.Z,{columnDefs:X,currentPageSelector:z,data:S,disableFirstRender:!0,emptyState:(0,x.jsx)(u.kC,{alignItems:"center",direction:"row",height:100,justifyContent:"center",children:(0,x.jsx)(u.xv,{color:"subtle",children:d._('No conversion segments found', '[m10n]bizAccess.conversionSegmentsTable.adAccounts.emptyState', 'No conversion segments found empty state')})}),fetchData:K,hidePagination:!0,initialSearchTermValue:G,isLoading:y||h,pageSizeSelector:L,pageType:f.Q6.PARTNERS,paginationProps:{paddingY:3,paddingX:3,alignRowsPerPageLabel:"right"},searchInputContainerStyles:{paddingX:3},searchPlaceholder:d._('Search by conversion segment name or ID', '[m10n]bizAccess.search.conversionSegments', 'Placeholder text for the search conversion segments field'),showFiltersOnEmptyState:!0,totalCountSelector:M})]})},rY=function(e){var t=e.conversionIds,n=void 0===t?[]:t,r=e.setConversionIds,s=e.currentPartner,a=e.setSelectedPartner,i=e.setSheetTitle,l=e.setSheetSubTitle,c=e.setCurrentSheet,d=e.setOnNextSheet,_=e.shouldDisplayInfoBanner,f=e.setShouldDisplayInfoBanner,m=(0,b.Z)(),p=(0,eo.KJ)(),y=(0,h.ZP)(),v=(0,o.useRef)(y),A=m._('Assign conversion segment access', '[m10n]businessAccess.conversionData.selectPartner.sheet.title', 'Assign conversion segment access sheet title'),g=m._('Step 1 of 2', '[m10n]businessAccess.conversionData.selectPartner.sheet.subtitle', 'Assign conversion segment access sheet subtitle'),S=m._('Next', '[m10n]bizAccess.conversionData.button.next', 'Button to see summary after selecting partner'),E=(0,o.useCallback)(function(){c("CONVERSION_SEGMENT_SUMMARY_SHEET"),s&&a(s)},[c,a,s]);return(0,o.useEffect)(function(){v.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"assign-partner-access-sheet",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"select-conversion-sheet-open"})},[v]),(0,o.useEffect)(function(){i(A),l(g),d({onNext:E,disabled:0===n.length,buttonText:S,size:"lg"})},[E,S,i,l,s,d,g,A,n]),(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xu,{flex:"grow",marginStart:4,children:(0,x.jsx)(rF,{businessId:p,setSelectedConversionSegmentIds:r,setShouldDisplayInfoBanner:f,sharedWithPartner:!1,shouldDisplayInfoBanner:_,showTabs:!1})})})};function rV(e){return(rV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rq(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=rV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rV(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rV(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rW(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function rX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rK(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rK(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var r$=function(e){var t=e.selectedPartner,n=e.setSelectedPartner,r=e.setSheetTitle,s=e.setSheetSubTitle,a=e.setCurrentSheet,i=e.setOnNextSheet,l=e.shouldDisplayInfoBanner,c=e.setShouldDisplayInfoBanner,d=(0,b.Z)(),_=(0,eo.KJ)(),m=(0,A.dI)().showToast,y=rX((0,o.useState)(null==t?void 0:t.id),2),v=y[0],g=y[1],S=rX((0,o.useState)({}),2),E=S[0],P=S[1],I=rX((0,o.useState)([]),2),T=I[0],C=I[1],O=rX((0,o.useState)(!1),2),j=O[0],z=O[1],w=(0,h.ZP)(),N=(0,o.useRef)(w),R=d._('Assign conversion segment access', '[m10n]businessAccess.conversionData.selectPartner.sheet.title', 'Assign conversion segment access sheet title'),D=d._('Step 1 of 2', '[m10n]businessAccess.conversionData.selectPartner.sheet.subtitle', 'Assign conversion segment access sheet subtitle'),k=d._('Next', '[m10n]bizAccess.conversionData.button.next', 'Button to see summary after selecting partner');(0,e9.Z)(function(){var e,t,n=(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Q.WP)({businessId:_,searchBy:["FULL_NAME","USERNAME","BUSINESS_ID"],sortBy:"FULL_NAME",businessPartnerType:"RMN",partnerType:"INTERNAL"},{},{limit:f.cU,startIndex:0});case 3:P(n=rQ(rQ({},null==(t=e.sent)?void 0:t.data),null==t?void 0:t.sharedData)),C(Object.values(n).map(function(e){var t=e.id;return{label:e.user.full_name,value:t}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),m(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:d._('Could not retrieve brand partners', '[m10n]bizAccess.conversionData.getPartners.failure.toast', 'Toast that appears if brand partner retrieval fails')})});case 12:return e.prev=12,z(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){rW(o,r,s,a,i,"next",e)}function i(e){rW(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)});z(!0),n()});var L=(0,o.useCallback)(function(){var e=Object.values(E).find(function(e){return e.id===v});e&&n(e),a("CONVERSION_SEGMENT_SUMMARY_SHEET")},[v,E,n,a]);return(0,o.useEffect)(function(){N.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"assign-conversion-access-sheet",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"select-partner-sheet-open"})},[N]),(0,o.useEffect)(function(){r(R),s(D),i({onNext:L,disabled:void 0===v,buttonText:k,size:"lg"})},[L,k,r,s,v,i,D,R,j]),(0,x.jsx)(u.xu,{children:(0,x.jsxs)(u.xu,{flex:"grow",marginStart:4,children:[(0,x.jsx)(u.xu,{paddingX:3,children:l&&(0,x.jsx)(rG,{setShouldDisplayInfoBanner:c})}),j?(0,x.jsx)(u.xH,{show:!0}):(0,x.jsx)(u.EI,{id:"partner-select-list",label:d._('Select a brand partner to receive conversion segment access', '[m10n]bizAccess.conversionData.selectPartner.partnerLabel', 'Label for brand partner select list field in the access assign flow'),name:"partner-select-list",onChange:function(e){g(e.value)},placeholder:d._('Select', '[m10n]bizAccess.conversionData.selectPartner.partnerSelectList.placeholder', 'Placeholder for partner select list field in the access assign flow'),size:"lg",value:v||"",children:T.map(function(e){return(0,x.jsx)(u.EI.Option,rQ({},e),e.label)})})]})})};function rJ(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function r0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r1(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r1(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var r2=function(e){var t,n=e.selectedConversions,r=e.selectedPartner,s=e.setCurrentSheet,a=e.setSheetTitle,i=e.setSheetSubTitle,l=e.setOnNextSheet,d=e.setBackButton,_=e.hideSheet,m=(0,b.Z)(),v=(0,eo.KJ)(),g=r0((0,o.useState)(!1),2),S=g[0],E=g[1],P=r0((0,o.useState)(!1),2),I=P[0],T=P[1],C=(0,h.ZP)(),O=(0,o.useRef)(C),j=(0,A.dI)().showToast,z=(0,c.I0)(),w=(0,ra.Z)().path.includes(":userBizId/shared/:detailId"),N=m._('Assign conversion segment access', '[m10n]businessAccess.conversionData.summary.sheet.title', 'Assign conversion segment access sheet title'),R=m._('Step 2 of 2', '[m10n]businessAccess.conversionData.summary.sheet.subtitle', 'Assign conversion segment access sheet subtitle'),D=m._('Confirm', '[m10n]bizAccess.conversionData.button.confirm', 'Button to confirm updates after selecting partner'),k=(0,o.useCallback)(function(){w?s("ASSIGN_CONVERSION_SEGMENTS_ACCESS_FOR_PARTNER_SHEET"):s("ASSIGN_ACCESS_FOR_CONVERSION_SEGMENTS_SHEET")},[s,w]),L=(0,o.useCallback)((t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),!(r&&n.length>0)){e.next=15;break}return e.prev=2,e.next=5,z((0,rw.Xc)(v,n[0].id,r.id,["BIZ_CONVERSION_SEGMENT_RESTRICTED_SHARER"]));case 5:return e.next=7,z((0,rw.sS)(v,n[0].id,!1,["BIZ_CONVERSION_SEGMENT_RESTRICTED_SHARER"]));case 7:j(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:m._('Permission assigned!', '[m10n]bizAccess.conversionData.summarySheet.update.success.toast', 'Toast message if updating a segment succeeds'),type:"default"})}),_(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),j(function(t){var n=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:e.t0 instanceof Error?e.t0.message:m._('There was an error in assigning the permission. Please try again.', '[m10n]bizAccess.conversionData.summarySheet.update.error.toast', 'Error message if assigning the permission fails'),type:"error"})}),_();case 15:T(!1);case 16:case"end":return e.stop()}},e,null,[[2,11]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){rJ(o,r,s,a,i,"next",e)}function i(e){rJ(o,r,s,a,i,"throw",e)}a(void 0)})}),[_,T,j,m,z,v,n,r]);return(0,o.useEffect)(function(){O.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"assign-conversion-access-sheet",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"summary-sheet-open"})},[O]),(0,o.useEffect)(function(){a(N),i(R),d({onBack:k,size:"lg"}),l({onNext:L,disabled:!1===S||I,buttonText:D,size:"lg"})},[k,L,d,a,i,R,N,D,l,S,I]),(0,x.jsxs)(u.xu,{borderStyle:"sm",rounding:2,children:[(0,x.jsxs)(u.xu,{padding:4,children:[(0,x.jsx)(u.X6,{size:"400",children:m._('Conversion segment sharing summary', '[m10n]bizAccess.conversionData.summarySheet.title', 'Title for the summary sheet in the conversion segment partner flow')}),(0,x.jsxs)(u.xu,{marginTop:4,children:[(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.xv,{color:"subtle",size:"100",children:m._('Recipient', '[m10n]bizAccess.conversionData.summarySheet.subTitle', 'Subtitle for the summary sheet in the conversion segment partner flow')})}),(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsxs)(u.kC,{alignItems:"center",gap:{column:0,row:2},children:[(0,x.jsx)(u.xu,{height:48,width:48,children:(0,x.jsx)(eP.qE,{name:"partner avatar",size:"md",src:null==r?void 0:r.user.image_medium_url})}),(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xv,{size:"300",children:null==r?void 0:r.user.full_name}),(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:(0,y.nk)(m._('ID: {{ partnerId }}', '[m10n]bizAccess.conversionData.summarySheet.partnerId', 'partnerId: ID of the partner.'),{partnerId:null==r?void 0:r.id})})]})]})})]})]}),(0,x.jsx)(u.iz,{}),(0,x.jsx)(u.xu,{paddingX:4,paddingY:5,children:(0,x.jsx)(re.Z,{assets:[],assetType:rs.Pl.CONVERSIONS_SHARED,conversionSegments:n,hidePermissionsToAsset:!0,i18n:m})}),(0,x.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n9.W6M}},rounding:2,children:(0,x.jsxs)(u.xu,{padding:4,children:[(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.xv,{size:"200",children:m._('Terms and Conditions', '[m10n]bizAccess.conversionData.termsAndConditions.title', 'Terms and Conditions title for the created ad account')})}),(0,x.jsx)(u.xu,{marginBottom:3,children:(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:m._('By sharing this conversion segment data, you acknowledge and agree that Pinterest will share your conversion data with the entity selected above, and such agreement shall supersede any provisions to the contrary in Pinterest\'s Ad Data Terms. You represent that you are in compliance with applicable law when sharing this conversion segment data. You further agree that you shall indemnify, defend, and hold harmless Pinterest in the event of any claims brought against Pinterest related to the sharing of this conversion segment data.', '[m10n]bizAccess.conversionData.disclaimer', 'Legal disclaimer.')})}),(0,x.jsx)(u.XZ,{checked:S,id:"conversionDataTermsAndConditions",label:m._('By checking this box, you agree to the above Terms and Conditions', '[m10n]bizAccess.conversionData.termsAndConditions.checkboxLabel', 'Terms and conditions checkbox label'),onChange:function(e){E(e.checked)}})]})})]})},r5=n(721819),r6=n(160611);function r3(e){return(r3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r8(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function r4(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){r8(o,r,s,a,i,"next",e)}function i(e){r8(o,r,s,a,i,"throw",e)}a(void 0)})}}function r7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r7(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=r3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=r3(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r3(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return st(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sn=(0,n(9065).Z)(function(){return Promise.all([n.e("25418"),n.e("36469"),n.e("84193"),n.e("61163")]).then(n.bind(n,117952))},void 0,function(e){return 117952},"app-partner-business-access-react-common-sheet-sheet-components-ConversionSegmentForm",function(e){return ["25418","36469","84193","61163"]}),sr=function(e){var t=e.selectedConversion,n=e.setSheetTitle,r=e.setOnNextSheet,s=e.hideSheet,a=(0,b.Z)(),i=(0,eo.KJ)(),l=(0,c.I0)(),d=(0,h.ZP)(),_=(0,o.useRef)(d),m=(0,A.dI)().showToast,y=se((0,o.useState)(!1),2),v=y[0],g=y[1],S=(0,c.v9)(es.JD),E=(0,c.v9)(ee.e_),P=se((0,o.useState)(!1),2),I=P[0],T=P[1],C=se((0,o.useState)(r9({name:null,conversionTypes:[],sourceAdAccount:null,sourceCatalog:null,filters:null,additionalItemIds:[],retargetingEnabled:!1,permissions:[]},t)),2),O=C[0],j=C[1],z=se((0,o.useState)(!1),2),w=z[0],N=z[1];(0,o.useEffect)(function(){if(t){var e=O.sourceAdAccount,n=O.sourceCatalog,r=O.filters;if(!e&&!n&&!r){var s,o=(s=r4(regeneratorRuntime.mark(function e(){var n,r,s,o,a,l,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,tt.G2)({businessId:i,assetId:t.adAccountId,resourceType:"AD_ACCOUNT",includeAssetSummary:!0});case 2:if(a=e.sent.data.data,!t.catalogId){e.next=8;break}return e.next=7,(0,tt.G2)({businessId:i,assetId:t.catalogId,resourceType:"CATALOG",includeAssetSummary:!0});case 7:l=e.sent;case 8:c=null==(n=l)||null==(r=n.data)||null==(s=r.data)?void 0:s.asset,u=(0,r6.uZ)({},{type:"initializeFilters",payload:{filterV2Object:null!=(o=t.filterV2Object)?o:{},countryCode:null,feedProfileId:null,catalogBasedCountry:null,catalogBasedLocale:null}}),j(r9(r9({},O),{},{filters:u,sourceAdAccount:a,sourceCatalog:c})),T(!1);case 12:case"end":return e.stop()}},e)})),function(){return s.apply(this,arguments)});T(!0),o()}}},[t,i]);var R=t?a._('Edit conversion segment', '[m10n]businessAccess.conversionData.updateConversionSegment.sheet.title', 'Edit conversion segment sheet title'):a._('Create conversion segment', '[m10n]businessAccess.conversionData.updateConversionSegment.sheet.title', 'Create conversion segment sheet title'),D=t?a._('Save', '[m10n]bizAccess.conversionData.updateConversionSegment.button.save', 'Button to save changes on conversion segment'):a._('Create', '[m10n]bizAccess.conversionData.updateConversionSegment.button.create', 'Button to create the conversion segment'),k=se((0,o.useState)({}),2),L=k[0],U=k[1],B=se((0,o.useState)(!1),2),M=B[0],H=B[1],Z=(0,o.useCallback)(r4(regeneratorRuntime.mark(function e(){var n,r,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(U(n=function(e){var t={};e.name&&""!==e.name.trim()||(t.name=a._('A Conversion segment name is required', '[m10n]bizAccess.conversionData.updateConversionSegment.validate.name', 'error message to display if the conversion segment name is empty')),e.conversionTypes&&0!==e.conversionTypes.length||(t.conversionTypes=a._('At least one conversion type is required', '[m10n]bizAccess.conversionData.updateConversionSegment.validate.conversionType', 'error message to display if no conversion type is selected')),e.sourceAdAccount||(t.sourceAdAccount=a._('A source ad account is required', '[m10n]bizAccess.conversionData.updateConversionSegment.validate.sourceAdAccount', 'error message to display if no source ad account is selected'));var n=!e.filters||!e.filters.filterValueById||Object.values(e.filters.filterValueById).every(function(e){return null==e});return e.sourceCatalog&&!n||e.additionalItemIds.length>0||(t.catalogAndFilter=a._('To create a conversion segment, source item IDs must be specified through either a retail catalog or additional item IDs ', '[m10n]bizAccess.conversionData.updateConversionSegment.validate.catalogAndFilter', 'error message to display if no catalog filter or additional item IDs are selected'),t.catalog=a._('A catalog selection or item ID is required to create a conversion segment', '[m10n]bizAccess.conversionData.updateConversionSegment.validate.catalog', 'error message to display if no catalog filter or additional item IDs are selected'),t.itemID=a._('An item ID is required to create a conversion segment', '[m10n]bizAccess.conversionData.updateConversionSegment.validate.itemID', 'error message to display if no catalog filter or additional item IDs are selected')),t}(O)),!(Object.keys(n).length>0)){e.next=6;break}return H(!0),e.abrupt("return");case 6:if(g(!0),!t){e.next=24;break}return e.prev=8,e.next=11,(0,r5.oh)({segmentId:t.id,conversionSegment:O});case 11:if(!(t.partner&&t.retargetingEnabled!==O.retargetingEnabled)){e.next=14;break}return e.next=14,l((0,rw.Xc)(i,t.id,t.partner.id,[O.retargetingEnabled?"BIZ_CONVERSION_SEGMENT_SHARER":"BIZ_CONVERSION_SEGMENT_RESTRICTED_SHARER"]));case 14:m(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:a._('Conversion segment updated!', '[m10n]bizAccess.conversionData.updateConversionSegment.update.success.toast', 'Toast message if updating a segment succeeds'),type:"default"})}),s(),l((0,rw.oF)({businessId:i,accountId:i,id:i})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),m(function(t){var n=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:e.t0 instanceof Error?e.t0.message:a._('There was an error in updating the segment. Please try again.', '[m10n]bizAccess.conversionData.updateConversionSegment.update.error.toast', 'Error message if updating a segment fails'),type:"error"})});case 22:case 36:e.next=41;break;case 24:return e.prev=24,e.next=27,(0,r5.Hb)({conversionSegment:O});case 27:return o=e.sent,m(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:a._('Conversion segment created!', '[m10n]bizAccess.conversionData.updateConversionSegment.create.success.toast', 'Toast message if creating a segment succeeds'),type:"default"})}),s(),e.next=32,l((0,rw.oF)({businessId:i,accountId:i,id:i}));case 32:if(!(c=null==o||null==(r=o.data)?void 0:r.id)){e.next=36;break}return e.next=36,l((0,rw.UK)(c));case 38:e.prev=38,e.t1=e.catch(24),m(function(t){var n=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:e.t1 instanceof Error?e.t1.message:a._('There was an error in creating the segment. Please try again.', '[m10n]bizAccess.conversionData.updateConversionSegment.create.error.toast', 'Error message if creating a segment fails'),type:"error"})});case 41:g(!1);case 42:case"end":return e.stop()}},e,null,[[8,19],[24,38]])})),[s,a,i,l,t,m,O]);return(0,o.useEffect)(function(){_.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"assign-conversion-access-sheet",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"update-conversion-segment-sheet-open"})},[_]),(0,o.useEffect)(function(){n(R),r({onNext:Z,disabled:S||E||v||w&&!O.sourceCatalog,buttonText:D,size:"lg"})},[Z,S,E,v,D,n,r,R,O,w]),(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xu,{flex:"grow",marginStart:4,children:t&&I?(0,x.jsx)(u.xH,{show:!0}):(0,x.jsx)(sn,{conversionSegment:O,errors:L,onCatalogToggle:N,setConversionSegment:j,showErrors:M,updateConversionSegment:!!t})})})};function ss(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return so(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?so(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function so(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sa={ADD_CONVERSION_SEGMENT:"CREATE_CONVERSION_SEGMENT_SHEET",ASSIGN_ACCESS_FOR_CONVERSION_SEGMENTS:"ASSIGN_ACCESS_FOR_CONVERSION_SEGMENTS_SHEET",ASSIGN_CONVERSION_SEGMENTS_ACCESS_FOR_PARTNER:"ASSIGN_CONVERSION_SEGMENTS_ACCESS_FOR_PARTNER_SHEET",EDIT_CONVERSION_SEGMENT:"EDIT_CONVERSION_SEGMENT_SHEET",CONVERSION_SEGMENT_SUMMARY:"CONVERSION_SEGMENT_SUMMARY_SHEET"},si=function(e){var t=e.selectedConversion,n=e.currentPartner,r=e.type,s=e.hideSheet,a=(0,c.I0)(),i=(0,h.ZP)(),l=(0,o.useRef)(i),d=sa[void 0===r?"ASSIGN_ACCESS_FOR_CONVERSION_SEGMENTS":r],_=ss((0,o.useState)(),2),f=_[0],m=_[1],p=ss((0,o.useState)(d),2),b=p[0],y=p[1],v=ss((0,o.useState)(" "),2),A=v[0],g=v[1],S=ss((0,o.useState)(" "),2),E=S[0],P=S[1],I=ss((0,o.useState)([]),2),T=I[0],C=I[1],O=ss((0,o.useState)({onNext:function(){},disabled:!1,size:"md"}),2),j=O[0],z=O[1],N=ss((0,o.useState)(),2),R=N[0],D=N[1],k=ss((0,o.useState)(!0),2),L=k[0],U=k[1],B=(0,c.v9)(rN.As),M=(0,o.useMemo)(function(){return t?[t]:Object.values(B).filter(function(e){return T.includes(e.id)})},[t,B,T]);return(0,o.useEffect)(function(){R&&"CONVERSION_SEGMENT_SUMMARY_SHEET"!==b&&D(void 0)},[R,b,D]),(0,o.useEffect)(function(){l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"conversion-page-assign-access-sheet",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"summary-sheet-open"})},[l]),(0,x.jsx)(u.xu,{position:"absolute",width:"100%",children:(0,x.jsxs)(w.Z,{footer:(0,x.jsx)(u.xu,{"data-test-id":"conversion-segment-flow-sheet-footer",children:(0,x.jsx)(rT,{backButton:R,cancelButton:{onCancel:function(){a(tj()),s(),i({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"conversion-page-sidesheet-"+b,element:"BUSINESS_ACCESS_BUTTON",elementId:"conversion-page-sidesheet-cancel-button"})}},nextButton:j})}),hideSheet:function(){a(tj()),s()},size:"lg",subTitle:E,subTitleStyles:{marginTop:-7},title:A,children:[("CREATE_CONVERSION_SEGMENT_SHEET"===b||"EDIT_CONVERSION_SEGMENT_SHEET"===b)&&(0,x.jsx)(sr,{hideSheet:s,selectedConversion:t,setCurrentSheet:y,setOnNextSheet:z,setSheetTitle:g}),"ASSIGN_ACCESS_FOR_CONVERSION_SEGMENTS_SHEET"===b&&(0,x.jsx)(r$,{selectedPartner:f,setCurrentSheet:y,setOnNextSheet:z,setSelectedPartner:m,setSheetSubTitle:P,setSheetTitle:g,setShouldDisplayInfoBanner:U,shouldDisplayInfoBanner:L}),"ASSIGN_CONVERSION_SEGMENTS_ACCESS_FOR_PARTNER_SHEET"===b&&(0,x.jsx)(rY,{conversionIds:T,currentPartner:n,setConversionIds:C,setCurrentSheet:y,setOnNextSheet:z,setSelectedPartner:m,setSheetSubTitle:P,setSheetTitle:g,setShouldDisplayInfoBanner:U,shouldDisplayInfoBanner:L}),"CONVERSION_SEGMENT_SUMMARY_SHEET"===b&&(0,x.jsx)(r2,{hideSheet:s,selectedConversions:M,selectedPartner:f,setBackButton:D,setCurrentSheet:y,setOnNextSheet:z,setSheetSubTitle:P,setSheetTitle:g})]})})},sl=n(408713),sc=n(720459);function su(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sd(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sd(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s_=function(e){var t=e.currency,n=e.decimals,r=void 0===n?2:n,s=e.locale,a=e.size,i=1.1.toLocaleString(s).substring(1,2),l=(0,sc.Z)()("en-US",0,{style:"currency",currency:t}).replace(".","").replaceAll("0","").trim()+" ",c=su((0,o.useState)(e.value?e.value.toString():""),2),d=c[0],_=c[1],f=su((0,o.useReducer)(function(e){return e+1},0),2),m=f[0],h=f[1],p=(0,o.useRef)({start:0,end:0}),b=(0,o.useRef)(null);return(0,o.useLayoutEffect)(function(){b.current&&p.current&&b.current.setSelectionRange(p.current.start,p.current.end)},[m]),(0,x.jsx)(u.nv,{ref:b,dataTestId:e.dataTestId,disabled:e.disabled,errorMessage:e.errorMessage,helperText:e.helperText,id:e.id,label:e.label,labelDisplay:e.labelDisplay,onChange:function(t){var n,s,o,a,c,u=t.event,d=t.value,f=null!=(n=u.nativeEvent.data)?n:"",m=l.length+f.length;p.current={start:Math.max(null!=(s=u.target.selectionStart)?s:0,m),end:Math.max(null!=(o=u.target.selectionEnd)?o:0,m)};var b=d.replace(RegExp("[^0-9".concat(i,"]"),"g"),"").replace(i,r>0?".":"").split("."),y=(null!=(a=b[0])?a:"").replace(/^0+/g,"0").replace(/^0(?=[1-9]+)/g,""),v=null!=(c=b.slice(1).join("").replace(".","").substring(0,r))?c:"",A=y+(b.length>1?"."+v:"");_(A.replace(".",i)),h();var g=parseFloat(A);e.onChange({event:u,value:Number.isNaN(g)?null:g})},size:void 0===a?"md":a,value:l+d})};function sf(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function sm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sh(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sh(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sp=function(e){var t=e.percentage;return(0,x.jsx)(u.xu,{color:"secondary",rounding:2,width:"100%",children:(0,x.jsx)(u.xu,{color:"dark",padding:1,rounding:2,width:"".concat(t,"%")})})},sb=function(e){var t=e._('Please note:', '[m10n]bizAccess.monthlySpendCap.sheet.notes.label', 'Label before list of notes about advertiser monthly spending limits'),n=[{note:e._('Modifications to spending limit are updated in about 15 minutes', '[m10n]bizAccess.monthlySpendCap.sheet.notes.updateTimeNote', 'Note about how long it takes for updates to monthly spend limits to take effect'),key:"updateTimeNote"},{note:e._('Spending limit stops all auction campaigns when limit is reached', '[m10n]bizAccess.monthlySpendCap.sheet.notes.campaignsStopNote', 'Note about campaigns stopping when monthly spend limits are reached'),key:"campaignsStopNote"},{note:e._('Spending limit is inclusive of all auction campaigns spend, including credits', '[m10n]bizAccess.monthlySpendCap.sheet.notes.spendIncludedNote', 'Note about what spend is included for monthly spend limits'),key:"spendIncludedNote"},{note:e._('Resets on the 1st of every month (UTC)', '[m10n]bizAccess.monthlySpendCap.sheet.notes.limitResetNote', 'Note about when monthly spending limits are updated'),key:"limitResetNote"},{note:e._('Can be updated at any time', '[m10n]bizAccess.monthlySpendCap.sheet.notes.limitUpdateNote', 'Note about when monthly spending limits can be updated'),key:"limitUpdateNote"}],r=e._('Reporting isn\'t real-time, so your costs may go over the limit in the first month, and any time you lower your limit. You\'ll need to pay any excess.', '[m10n]bizAccess.monthlySpendCap.sheet.notes.reportingInfoNote', 'Note about ads spend reporting regarding monthly spending limits'),s=function(e){return(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:e})};return(0,x.jsxs)(u.kC,{alignItems:"start",direction:"column",gap:2,height:"100%",justifyContent:"start",width:"100%",children:[(0,x.jsx)(u.aV,{label:s(t),size:"200",spacing:"condensed",type:"unordered",children:n.map(function(e){var t=e.note,n=e.key;return(0,x.jsx)(u.aV.Item,{text:s(t)},n)})}),s(r)]})},sy=function(e){var t,n=e.advertiserId,r=e.advertiserName,s=e.businessId,a=e.hideSheet,i=e.locale,l=e.currency,d=e.monthlySpendCap,_=e.currentSpend,m=e.onMonthlySpendCapUpdated,h=(0,A.dI)().showToast,v=(0,b.Z)(),g=(0,c.I0)(),S=(0,sc.Z)(),E=function(e){return S(i,e/1e6,{style:"currency",currency:l})},P=Math.min(Math.floor((null!=_?_:0)/(d||1)*100),100),I=Math.floor((null!=_?_:0)*1.05),T=d?(0,y.Wc)(v._('Set limit (currently {{spendLimit}})', '[m10n]bizAccess.monthlySpendCap.sheet.setLimitOption.withLimit', 'label for radio button that sets monthly ad account spending limit. spendLimit: maximum monthly spend formatted as local currency'),{spendLimit:E(d)}):v._('Set limit', '[m10n]bizAccess.monthlySpendCap.sheet.setLimitOption.noLimit', 'label for radio button that sets monthly ad account spending limit when no limit is set.'),C=v._('Do not set a limit', '[m10n]bizAccess.monthlySpendCap.sheet.clearLimitOption', 'label for radio button that clears monthly ad account spending limit'),O=(0,y.Wc)(v._('Limit must be at least 5% above current spend ({{minimumLimit}})', '[m10n]bizAccess.monthlySpendCap.sheet.clearLimitOption', 'helper text for input box to enter new monthly ad account spending limit. minimumLimit: The minimum value for the new spend limit'),{minimumLimit:E(I)}),j=(null!=_?_:0)>0?O:"",z=sm((0,o.useState)(!1),2),N=z[0],R=z[1],D=sm((0,o.useState)(""),2),k=D[0],L=D[1],U=sm((0,o.useState)(!0),2),B=U[0],M=U[1],H=sm((0,o.useState)(null),2),Z=H[0],G=H[1];return(0,x.jsx)(w.Z,{footer:(t=function(e){var t;return t=regeneratorRuntime.mark(function t(){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((L(""),B&&null===Z)?(L(v._('Must be a valid number', '[m10n]bizAccess.monthlySpendCap.sheet.invalidInputError', 'Error message for advertiser spending limit invalid input')),!1):!B||!Z||!(Z<=I)||(L(O),!1)){t.next=2;break}return t.abrupt("return");case 2:return R(!0),t.prev=3,o=B?Z:0,t.next=7,(0,sl.Z)({advertiser_id:n},{monthly_spend_cap:o});case 7:(m||function(){return g((0,Y.Fd)({businessId:s,adAccountId:n}))})(),h(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{dismissButton:{onDismiss:t},duration:f.QE,onHide:t,text:(0,y.Wc)(v._('Your spending limit has been updated for {{advertiserName}}', '[m10n]bizAccess.monthlySpendCap.sheet.successToast', 'Toast error message that new monthly spending limit was successfully set. advertiserName: name of the ad account'),{advertiserName:r}),type:"success"})}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),h(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{dismissButton:{onDismiss:t},duration:f.QE,onHide:t,text:v._('We\'re experiencing issues with updating your spend limit. Please try again in a few minutes.', '[m10n]bizAccess.monthlySpendCap.sheet.errorToast', 'Toast error message that new monthly spending limit was not set'),type:"error"})});case 14:return t.prev=14,R(!1),e(),t.finish(14);case 18:case"end":return t.stop()}},t,null,[[3,11,14,18]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){sf(o,r,s,a,i,"next",e)}function i(e){sf(o,r,s,a,i,"throw",e)}a(void 0)})}},(0,x.jsx)(u.To.DismissingElement,{children:function(e){var n=e.onDismissStart;return(0,x.jsxs)(u.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[(0,x.jsx)(u.zx,{color:"transparent",onClick:n,size:"md",text:v._('Cancel', '[m10n]bizAccess.monthlySpendCap.sheet.cancelBtn', 'Button to cancel and close form for edit monthly spend limit')}),(0,x.jsx)(u.zx,{color:"red",disabled:N,onClick:t(n),size:"md",text:v._('Update', '[m10n]bizAccess.monthlySpendCap.sheet.updateBtn', 'Button to update monthly spend limit')})]})}})),hideSheet:a,size:"md",title:v._('Update monthly spend limit', '[m10n]bizAccess.monthlySpendCap.sheet.title', 'title for the edit advertiser monthly spend cap overlay sheet'),children:(0,x.jsxs)(u.xu,{paddingX:2,width:"100%",children:[(0,x.jsxs)(u.xu,{marginBottom:4,children:[(0,x.jsx)(u.xv,{size:"200",weight:"bold",children:r}),(0,x.jsx)(u.xv,{size:"200",children:(0,y.nk)(v._('ID: {{advertiserId}}', '[m10n]bizAccess.monthlySpendCap.sheet.advertiserId', 'Text to show the ad account ID. advertiserId: The ID of the ad account to edit monthly spend limit'),{advertiserId:n})})]}),(0,x.jsxs)(u.xu,{marginBottom:4,width:"100%",children:[(0,x.jsx)(u.xv,{size:"200",weight:"bold",children:(0,y.nk)(v._('{{formattedSpend}} spent this month', '[m10n]bizAccess.monthlySpendCap.sheet.currentMonthSpend', 'Text to show the ad account ID. formattedSpend: amount of spend for this month formatted as local currency'),{formattedSpend:E(null!=_?_:0)})}),(0,x.jsx)(sp,{percentage:P}),(0,x.jsx)(u.xu,{marginBottom:4,marginTop:4,children:(0,x.jsxs)(u.FX,{id:"set-spend-cap-rgroup",legend:v._('Choose to update or remove monthly spend limit', '[m10n]bizAccess.monthlySpendCap.sheet.radioGroupLegend', 'Legend for options to update or remove the monthly spend cap.'),legendDisplay:"hidden",children:[(0,x.jsx)(u.FX.RadioButton,{checked:B,id:"set-limit-rbtn",label:T,onChange:function(){return M(!0)},value:"setLimit"}),B&&(0,x.jsx)(u.xu,{margin:2,marginStart:8,width:"60%",children:(0,x.jsx)(s_,{currency:l,dataTestId:"set-spend-cap-input",errorMessage:k,helperText:j,id:"set-spend-cap-input",locale:i,onChange:function(e){var t=e.value;return G(t?Math.floor(1e6*t):t)},value:Z?Z/1e6:void 0})}),(0,x.jsx)(u.FX.RadioButton,{checked:!B,id:"no-limit-rbtn",label:C,onChange:function(){return M(!1)},value:"clearLimit"})]})}),(0,x.jsx)(u.iz,{}),(0,x.jsx)(u.xu,{marginBottom:4,marginTop:4,children:sb(v)})]})]})})},sv=n(236269),sA=function(e){var t=e.onHide,n=e.primaryAction,r=(0,b.Z)();return(0,x.jsx)(p.Z,{dismissButton:{onDismiss:t},duration:1e4,onHide:t,primaryAction:n,text:(0,x.jsx)(u.xv,{children:(0,x.jsx)(u.kC,{direction:"row",children:(0,x.jsx)(u.xv,{children:r._('Invites sent! Changes may take several hours to process.', '[m10n] businessAccess.sendInvite.successToast', 'Toast confirming you have sent an invite')})})}),type:"success"})},sg=function(e){var t=(0,b.Z)(),n=(0,c.v9)((0,en.V7)((null==e?void 0:e.id)||"")).business_roles||(null==e?void 0:e.business_roles),r=(0,o.useMemo)(function(){return(null==n?void 0:n.map((0,eR.B)(t)).join((0,m.bH)(t)))||""},[n,t]);return{employeeInfo:(null==e?void 0:e.user)||{},personRoleStrList:r}};function sS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sx(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sx(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sE=function(e){var t=e.headerText,n=e.totalAssets,r=e.roleToTotalAssetsMap,s=e.marginBottom,o=(0,b.Z)(),a=function(e){var t=e.split(",");return t.forEach(function(e,t,n){return n[t]=(0,eR.e6)(o)(e)}),t.join(", ")};return(0,x.jsxs)(u.xu,{color:"secondary",marginBottom:s,padding:4,rounding:3,children:[(0,x.jsxs)(u.kC,{direction:"row",justifyContent:"between",children:[(0,x.jsx)(u.X6,{size:"300",children:t}),(0,x.jsxs)(u.xv,{size:"200",children:["".concat(n," "),o._('total', '[m10n]bizAccess.AssetsRolesSummary.assetsTotal', 'Label for total number of assets')]})]}),Object.entries(r).filter(function(e){return sS(e,2)[1]>0}).map(function(e){var t=sS(e,2),n=t[0],r=t[1];return(0,x.jsx)(u.xv,{size:"200",children:(0,ev.Z)(o._('{{displayString}}: {{numberOfOccurences}}', 'assetGroups.group', 'Label for group of asset roles. displayString: formatted group of roles. numberOfOccurences: number of assets assigned this role'),{displayString:a(n),numberOfOccurences:r})},n)})]})},sP=function(e){var t=e.adAccounts,n=e.catalogs,r=e.profiles,s=e.apps,o=e.marginStart,a=(0,b.Z)();return(0,x.jsxs)(u.xu,{marginStart:o,children:[(0,x.jsx)(u.xu,{marginBottom:4,children:(0,x.jsx)(u.xv,{size:"300",weight:"bold",children:a._('Assigning assets', '[m10n]bizAccess.RelationshipAssetSummarySheet.rightColumnTitle', 'Title of right column of invite summary sheet')})}),(0,x.jsx)(u.xu,{children:(0,x.jsxs)(u.kC,{direction:"column",children:[s&&(0,x.jsx)(sE,{headerText:s.headerText,marginBottom:n||r||s?4:void 0,roleToTotalAssetsMap:s.roleToTotalAssetsMap,totalAssets:s.totalAssets}),t&&(0,x.jsx)(sE,{headerText:t.headerText,marginBottom:n||r||s?4:void 0,roleToTotalAssetsMap:t.roleToTotalAssetsMap,totalAssets:t.totalAssets}),n&&(0,x.jsx)(sE,{headerText:n.headerText,marginBottom:r||s?4:void 0,roleToTotalAssetsMap:n.roleToTotalAssetsMap,totalAssets:n.totalAssets}),r&&(0,x.jsx)(sE,{headerText:r.headerText,roleToTotalAssetsMap:r.roleToTotalAssetsMap,totalAssets:r.totalAssets})]})})]})},sI=n(672539),sT=n(208842),sC=n(208422),sO=n(511824);function sj(e){return(sj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sz(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=sj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sj(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sj(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sN(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function sR(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){sN(o,r,s,a,i,"next",e)}function i(e){sN(o,r,s,a,i,"throw",e)}a(void 0)})}}function sD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sk=function(e){var t,n,r,s,a=e.setSheetTitle,i=e.setSheetSubTitle,l=e.setOnNextSheet,d=e.dismissSheet,_=e.setCurrentSheet,y=e.setBackButton,v=e.selectedEmployee,g=e.type,S=void 0===g?"ADD_EMPLOYEE":g,E=e.onSave,P=(0,b.Z)(),I=(0,eo.KJ)(),T=(0,c.I0)(),C=(0,A.dI)(),O=C.showToast,j=C.showOneToast,z=(0,h.ZP)(),w=(0,o.useRef)(z),N=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return sD(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sD(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),R=N[0],D=N[1],k=(0,c.v9)(t$),L=(0,c.v9)(t5),U=(0,c.v9)(nm),B=(0,c.v9)(nA),M=(0,c.v9)(sO.mD),H="ADD_SYSTEM_USER"===S,Z=(0,o.useMemo)(function(){var e=Object.values(L.adAccounts.roleToNumberOfAssets).some(function(e){return e>0}),t=Object.values(L.catalogs.roleToNumberOfAssets).some(function(e){return e>0}),n=Object.values(L.profiles.roleToNumberOfAssets).some(function(e){return e>0}),r=H&&Object.values(U.roleToNumberOfAssets).some(function(e){return e>0});return{showRightColumn:e||t||n||r,hasAdAccountsSelected:e,hasCatalogsSelected:t,hasProfilesSelected:n,hasAppsSelected:r}},[L,U,H]),G=Z.showRightColumn,F=Z.hasAdAccountsSelected,Y=Z.hasCatalogsSelected,V=Z.hasProfilesSelected,q=Z.hasAppsSelected,Q="ADD_EMPLOYEE"===S||H,W=sg(v),X=W.employeeInfo.full_name,K=W.personRoleStrList,$={ADD_EMPLOYEE:P._('Add new employees', '[m10n]bizAccess.RelationshipAssetSummarySheet.sheet.header', 'Header for adding a new employee'),ADD_SYSTEM_USER:P._('Add new system user', '[m10n]bizAccess.systemUserInvite.sheet.header', 'Header for adding a new system user')},J={ADD_EMPLOYEE:(0,ev.Z)(P.ngettext('Step 4 of 4 \u2022 Adding {{qtyEmployees}} Employee', 'Step 4 of 4 \u2022 Adding {{qtyEmployees}} Employees', k.businesses.length, '[m10n]bizAccess.RelationshipAssetSummarySheet.steps.fourth', 'Label to identify the current step, fourth, on new Add Employee flow. qtyEmployees: quantity of employees selected'),{qtyEmployees:k.businesses.length}),ADD_SYSTEM_USER:(0,ev.Z)(P.ngettext('Step 5 of 5 \u2022 Adding {{qtySystemUsers}} system user', 'Step 5 of 5 \u2022 Adding {{qtySystemUsers}} system users', k.businesses.length, '[m10n]bizAccess.RelationshipAssetSummarySheet.steps.fifth', 'Label to identify the current step, fifth, on new Add System User flow. qtySystemUsers: quantity of system users selected'),{qtySystemUsers:k.businesses.length})},ee={ADD_EMPLOYEE:P._('Employee roles and asset access can be modified at any time on the Employees page. Permission assignment may take several hours to process.', '[m10n]bizAccess.RelationshipAssetSummarySheet.steps.fourth.userInfo', 'Label to identify the current step, fourth, on new Add Employee flow.'),ADD_SYSTEM_USER:(0,ev.Z)(P._('{{SystemUser}} roles and asset access can be modified at any time on the System user page. Permission assignment may take several hours to process.', '[m10n]bizAccess.RelationshipAssetSummarySheet.steps.fifth.systemUserInfo', 'Label to identify the user info for the current step, fifth, on new Add System User flow. SystemUser: system user name'),{SystemUser:(null==B?void 0:B.systemUserName)||""})},et={ADD_EMPLOYEE:P._('Send invite', '[m10n]bizAccess.RelationshipAssetSummarySheet.button.sendInvite', 'Button to send invite after reviewing summary.'),ADD_SYSTEM_USER:P._('Done', '[m10n]bizAccess.RelationshipAssetSummarySheet.button.done', 'Button to complete system user flow after reviewing summary.')},en=$[S]||P._('Assign business asset access', '[m10n]bizAccess.RelationshipAssetSummarySheet.sheet.assignAssets.header', 'Header for assigning business asset access'),er=J[S]||(0,ev.Z)(P._('Step 3 of 3 \u2022 {{employeeFullName}}, {{roles}}', '[m10n]bizAccess.RelationshipAssetSummarySheet.assignAssets.steps.third', 'Label to identify the current step, third, on Assign Business Assets Access flow. employeeFullName: employee\'s full name, roles: roles of the employee'),{employeeFullName:X||"",roles:K}),es=ee[S]||P._('Asset assignment may take several hours to process. Members will retain their existing permissions until requested changes are processed.', '[m10n]bizAccess.RelationshipAssetSummarySheet.assignAssets.steps.third.userInfo', 'Label to identify the current step, third, on new Assign Assets flow.'),ea=et[S]||P._('Assign assets', '[m10n]bizAccess.RelationshipAssetSummarySheet.button.assignAssets', 'Button to assign assets after reviewing summary.'),ei=function(e){var t=e.error;O(function(e){var n=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:(0,rx.ZB)(P,t),type:"error"})})},el=function(){F||Y||V?_("SELECT_ASSETS_SHEET"):_("SELECT_ASSET_OWNERS_SHEET")},ec=(n=sR(regeneratorRuntime.mark(function e(t,n,r){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,sC.p_)(k.businesses,k.businessRole,I);case 2:return s=Object.values(e.sent.data).map(String),e.next=6,(0,tt.ib)(I,sw(sw(sw(sw({},L.adAccounts.resourceIdToRoles),L.catalogs.resourceIdToRoles),L.profiles.resourceIdToRoles),U.resourceIdToRoles),s,"PEOPLE",null,t?["ADMIN"]:void 0,n?["CATALOGS_MANAGER"]:void 0,r?["PROFILE_PUBLISHER"]:void 0);case 6:T((0,sI.RC)({businessId:I})),j(function(e){var t=e.hideToast;return(0,x.jsx)(sA,{onHide:t})});case 8:case"end":return e.stop()}},e)})),function(e,t,r){return n.apply(this,arguments)}),eu=(r=sR(regeneratorRuntime.mark(function e(t,n,r){var s,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=["UPDATE_SYSTEM_USER_ASSETS","ADD_SYSTEM_USER"].includes(S)?M:(null==v?void 0:v.id)||"",!("ADD_SYSTEM_USER"===S&&B)){e.next=15;break}return e.prev=3,e.next=6,(0,sC.c6)(B.systemUserName,B.businessRole,B.businessId);case 6:s=null==(o=e.sent.data)?void 0:o.system_user_id,e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),ei({error:e.t0}),z({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_SHEET",componentId:"relationship-asset-summary-sheet-".concat(S),element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(a=(0,sv.Z)(e.t0,"stack"))?void 0:a.slice(0,4096))||(0,sv.Z)(e.t0,"message")||""}),e.abrupt("return");case 15:return e.next=17,(0,tt.oR)(I,s,sw(sw(sw(sw({},L.adAccounts.resourceIdToRoles),L.catalogs.resourceIdToRoles),L.profiles.resourceIdToRoles),U.resourceIdToRoles),t?["ADMIN"]:void 0,n?["CATALOGS_MANAGER"]:void 0,r?["PROFILE_PUBLISHER"]:void 0);case 17:"ADD_SYSTEM_USER"===S&&T((0,sT.ye)({businessId:I,selectedSystemId:s})),"UPDATE_SYSTEM_USER_ASSETS"===S&&(Object.keys(L.adAccounts.resourceIdToRoles).length>0&&T((0,sT.Pv)({businessId:I,systemUserId:s,newAssetIds:L.adAccounts.resourceIdToRoles})),Object.keys(L.profiles.resourceIdToRoles).length>0&&T((0,sT.tD)({businessId:I,systemUserId:s,newAssetIds:L.profiles.resourceIdToRoles})),Object.keys(L.catalogs.resourceIdToRoles).length>0&&T((0,sT.cA)({businessId:I,systemUserId:s}))),j(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{dismissButton:{onDismiss:t},duration:f.QE,onHide:t,text:(0,x.jsx)(u.xv,{children:(0,x.jsx)(u.kC,{direction:"row",children:(0,x.jsx)(u.xv,{children:P._('Updated assets access! Changes may take several hours to process.', '[m10n]bizAccess.RelationshipAssetSummarySheet.assignAssets.successToast', 'Toast saying the assets access update was successful but will reflect in several hours')})})}),type:"success"})});case 20:case"end":return e.stop()}},e,null,[[3,10]])})),function(e,t,n){return r.apply(this,arguments)}),ed=(s=sR(regeneratorRuntime.mark(function e(){var t,n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=2;break}return e.abrupt("return");case 2:if(D(!0),e.prev=3,t=L.adAccounts.allAssetsSelected&&!Object.values(L.adAccounts.resourceIdToRoles).some(function(e){return e.length>0}),n=L.catalogs.allAssetsSelected&&!Object.values(L.catalogs.resourceIdToRoles).some(function(e){return e.length>0}),r=L.profiles.allAssetsSelected&&!Object.values(L.profiles.resourceIdToRoles).some(function(e){return e.length>0}),"ADD_EMPLOYEE"!==S){e.next=12;break}return e.next=10,ec(t,n,r);case 10:e.next=14;break;case 12:return e.next=14,eu(t,n,r);case 14:z({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"relationship-asset-summary-sheet-".concat(S),element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button"}),null==E||E(),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),ei({error:e.t0}),z({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_SHEET",componentId:"relationship-asset-summary-sheet-".concat(S),element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(s=(0,sv.Z)(e.t0,"stack"))?void 0:s.slice(0,4096))||(0,sv.Z)(e.t0,"message")||""});case 22:return e.prev=22,T(tj()),d(),D(!1),e.finish(22);case 27:case"end":return e.stop()}},e,null,[[3,18,22,27]])})),function(){return s.apply(this,arguments)});(0,o.useEffect)(function(){a(en),i(er),y({onBack:el}),l({onNext:ed,disabled:R,buttonText:ea})},[a,i,en,l,er,ea,y,_,R]),(0,o.useEffect)(function(){w.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"relationship-asset-summary-sheet-".concat(S)})},[w,S]);var e_=(0,eR.B)(P)("ADD_SYSTEM_USER"===S?null==B?void 0:B.businessRole:k.businessRole),ef=G&&Q?6:12,em=(0,o.useMemo)(function(){return{roleMap:L.adAccounts.roleToNumberOfAssets,totalRoles:Object.values(L.adAccounts.roleToNumberOfAssets).reduce(function(e,t){return e+t},0)}},[L]),eh=(0,o.useMemo)(function(){return{roleMap:L.catalogs.roleToNumberOfAssets,totalRoles:Object.values(L.catalogs.roleToNumberOfAssets).reduce(function(e,t){return e+t},0)}},[L]),ep=(0,o.useMemo)(function(){return{roleMap:L.profiles.roleToNumberOfAssets,totalRoles:Object.values(L.profiles.roleToNumberOfAssets).reduce(function(e,t){return e+t},0)}},[L]),eb=(0,o.useMemo)(function(){return{roleMap:U.roleToNumberOfAssets,totalRoles:Object.values(U.roleToNumberOfAssets).reduce(function(e,t){return e+t},0)}},[U]),ey=F?{headerText:P._('Ad accounts', '[m10n]bizAccess.RelationshipAssetSummarySheet.rightColumn.adAccounts', 'Title of adAccounts summary box'),totalAssets:em.totalRoles,roleToTotalAssetsMap:em.roleMap}:void 0,eA=Y?{headerText:P._('Catalogs', '[m10n]bizAccess.RelationshipAssetSummarySheet.rightColumn.catalogs', 'Title of catalogs summary box'),totalAssets:eh.totalRoles,roleToTotalAssetsMap:eh.roleMap}:void 0,eg=V?{headerText:P._('Profiles', '[m10n]bizAccess.RelationshipAssetSummarySheet.rightColumn.profiles', 'Title of profiles summary box'),totalAssets:ep.totalRoles,roleToTotalAssetsMap:ep.roleMap}:void 0,eS=q?{headerText:P._('Apps', '[m10n]bizAccess.RelationshipAssetSummarySheet.rightColumn.apps', 'Title of apps summary box'),totalAssets:eb.totalRoles,roleToTotalAssetsMap:{}}:void 0;return R?(0,x.jsx)(u.xu,{"data-test-id":"relationship-asset-summary-sheet-".concat(S,"-loading-content"),children:(0,x.jsx)(u.kC,{alignItems:"center",justifyContent:"center",children:(0,x.jsx)(u.xH,{accessibilityLabel:(0,m.hC)(P),delay:!1,show:!0,size:"lg"})})}):(0,x.jsxs)(u.xu,{borderStyle:"shadow",marginTop:1,rounding:3,children:[(0,x.jsx)(u.xu,{color:"dark",dangerouslySetInlineStyle:{__style:{borderBottomLeftRadius:0,borderBottomRightRadius:0}},paddingX:4,paddingY:3,rounding:3,children:(0,x.jsx)(u.xv,{color:"light",size:"400",weight:"bold",children:P._('Invite Summary', '[m10n]bizAccess.RelationshipAssetSummarySheet.sectionTitle', 'Title of the invite summary step of adding new employee')})}),(0,x.jsxs)(u.xu,{children:[(0,x.jsxs)(u.xu,{direction:"row",display:"flex",marginBottom:3,marginTop:4,paddingX:4,children:[Q&&(0,x.jsx)(u.sg,{span:ef,children:(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xu,{marginBottom:4,children:(0,x.jsx)(u.xv,{size:"300",weight:"bold",children:"ADD_SYSTEM_USER"===S?P._('System user employee', '[m10n]bizAccess.RelationshipAssetSummarySheet.leftColumnTitle.systemUsers', 'Title of left column of invite summary sheet for system users'):P._('New employees', '[m10n]bizAccess.RelationshipAssetSummarySheet.leftColumnTitle', 'Title of left column of invite summary sheet')})}),(0,x.jsx)(u.xu,{marginEnd:Q&&G?4:void 0,children:(0,x.jsx)(u.kC,{direction:"column",children:(0,x.jsxs)(u.xu,{color:"secondary",padding:4,rounding:3,children:[(0,x.jsxs)(u.kC,{direction:"row",justifyContent:"between",children:[(0,x.jsx)(u.X6,{size:"300",children:P._('Employees', '[m10n]bizAccess.RelationshipAssetSummarySheet.leftColumn.employees', 'Title of employees summary box')}),(0,x.jsx)(u.xv,{size:"200",children:(0,ev.Z)(P._('Role: {{businessRole}} \u2022 {{numberOfAssignees}} total', '[m10n]bizAccess.RelationshipAssetSummarySheet.leftColumn.employeesTotal', 'Label for group of ad account roles. numberOfAssignees: total number of business to invite, businessRole: business role of the invite'),{numberOfAssignees:"ADD_SYSTEM_USER"===S?1:k.businesses.length,businessRole:e_})})]}),k.businesses.map(function(e){return(0,x.jsx)(u.xv,{size:"200",children:e},e)})]})})})]})}),Q&&G&&(0,x.jsx)(u.iz,{}),G&&(0,x.jsx)(u.sg,{span:ef,children:(0,x.jsx)(sP,{adAccounts:ey,apps:eS,catalogs:eA,marginStart:4,profiles:eg})})]}),(0,x.jsx)(u.xu,{paddingX:4,paddingY:3,children:(0,x.jsxs)(u.kC,{direction:"row",gap:{row:2,column:0},children:[(0,x.jsx)(u.JO,{accessibilityLabel:"info circle",color:"info",icon:"info-circle",size:"20"}),(0,x.jsx)(u.xv,{size:"200",children:es})]})})]})]})},sL=n(779976),sU=n(982965),sB=n(569401);function sM(e){return(sM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sH(Object(n),!0).forEach(function(t){sG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sG(e,t,n){var r;return(r=function(e,t){if("object"!=sM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sM(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==sM(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sF(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function sY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sV(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sV(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sq=function(e){var t=e.searchQuery,n=e.setSearchQuery,r=(0,b.Z)(),s=(0,h.ZP)(4118);(0,R.Z)(function(){s({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"search-field-box",element:"BUSINESS_ACCESS_FIELD",elementId:"select-apps-sheet-search-field"})},D.I.debounceTimeOut,[t]);var o=r._('Search app', '[m10n]bizAccess.app.search', 'Accessibility text to hint user to search for app by name or ID'),a=r._('Search by app name or ID', '[m10n]bizAccess.app.search', 'Placeholder text to hint user to search for app by name or ID');return(0,x.jsx)(u.Um,{accessibilityLabel:o,id:"bizAppSearch",onChange:function(e){n(e.value)},placeholder:a,value:t})},sQ=function(e){var t=e.setSheetTitle,n=e.setSheetSubTitle,r=e.setCurrentSheet,s=e.setOnNextSheet,a=(0,b.Z)(),i=(0,eo.KJ)(),l=sY((0,o.useState)(!1),2),d=l[0],_=l[1],m=(0,c.v9)(sB.kO),p=sY((0,o.useState)([]),2),y=p[0],v=p[1],A=(0,c.v9)(sB.w9),g=sY((0,o.useState)(!1),2),S=g[0],E=g[1],P=sY((0,o.useState)([]),2),I=P[0],T=P[1],C=sY((0,o.useState)(""),2),O=C[0],j=C[1],z=(0,h.ZP)(),w=(0,o.useRef)(z),N=(0,c.I0)(),R=I.length,k=S?R:I.length;(0,o.useRef)(O).current=O;var L=a._('Add new system users', '[m10n]bizAccess.systemUserInvite.sheet.header', 'Header for adding new system users'),B=a._('Step 2 of 5', '[m10n]bizAccess.SelectPeopleForSystemUsersSheet.steps.second', 'Label to identify the current step, second, on new add system users flow.');(0,o.useRef)(k).current=k;var M=(0,o.useCallback)(function(){N({type:"SET_SELECTED_APPS",selectedApps:{resourceIdToRoles:I.reduce(function(e,t){return sZ(sZ({},e),{},sG({},t,["CONSUMER_USER"]))},{}),roleToNumberOfAssets:{CONSUMER_USER:I.length}}}),r("SELECT_ASSET_OWNERS_SHEET")},[N,I,r]),H=a._('Next', '[m10n]bizAccess.SelectAppsSheet.button.next', 'Button to select assets owners after selecting apps');(0,o.useEffect)(function(){t(L),n(B),s({onNext:M,disabled:!S&&0===I.length,buttonText:H})},[H,t,n,L,I,s,r,B,M,S]),(0,o.useEffect)(function(){w.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"select-apps-sheet"})},[w]),(0,o.useEffect)(function(){N((0,sU.C6)({businessId:i}))},[N,i]),(0,o.useEffect)(function(){m.length>0&&v((null==O?void 0:O.length)>0?m.filter(function(e){var t,n;return(null==(t=e.name)?void 0:t.toLowerCase().startsWith(O.toLowerCase()))||(null==(n=e.id)?void 0:n.startsWith(O))}):m)},[m,O]);var G=!!S&&!O;return(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xu,{direction:"row",display:"flex",marginBottom:4,children:(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xv,{children:a._('Select the businesses that own assets that you want to assign to your system user. You will be able to select the specific assets in the next step.', '[m10n]bizAccess.selectApps.description', 'Description of the side sheet used to add apps to a system user account')})})}),(0,x.jsx)(u.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,x.jsx)(u.xu,{flex:"grow",marginBottom:2,minWidth:400,children:(0,x.jsx)(sq,{searchQuery:O,setSearchQuery:function(e){return E(!1),j(e),e}})})}),(0,x.jsx)(u.xu,{height:"100%",overflow:"auto",children:(0,x.jsx)(D.Z,{columnDefs:[(0,U.Z)({size:"sm",checked:G,selectedIds:I,onSelectChange:function(e){if(!S){var t=I.findIndex(function(t){return t===e});t>=0?T(I.slice(0,t).concat(I.slice(t+1))):T(I.concat([e]))}},disabled:G,checkbox:{indeterminate:I.length>0,checked:G,onChange:function(e){if(!d){var t,n;if(e&&I.length>0)return void T([]);if(!e||!O){E(e),T([]);return}_(!0),(t=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=y.map(function(e){var t;return null!=(t=e.id)?t:""}),T(Array.from(t)),E(!0)}catch(e){T([]),E(!1)}finally{_(!1)}case 1:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){sF(o,r,s,a,i,"next",e)}function i(e){sF(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)})()}},id:"select-all-apps-checkbox"}}),(0,Z.Z)(a,{headerName:a._('App name', '[m10n]bizAccess.appName.user', 'App name column header'),clickable:!1,type:"APP"})],hidePagination:!0,id:i,isLoading:d||A,onPageChange:function(){},onRowCountChange:function(){},pageType:f.Q6.APPS,rowData:y.map(function(e){var t;return{id:e.id||"",name:e.name||"",user:{id:e.id||"",full_name:e.name||"",image_small_url:(null==(t=e.app_icon)?void 0:t.url)||sL.C.url}}})})})]})},sW=n(180483);function sX(e){return(sX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sK(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=sX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sX(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sX(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sJ(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function s0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s1(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s1(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s2=function(e){var t=e.businessId,n=e.searchQuery,r=e.selectedCountries,s=e.setSearchQuery,o=(0,b.Z)(),a=(0,c.I0)(),i=(0,h.ZP)(3653);(0,R.Z)(function(){a((0,Q.Eg)({searchBy:["FULL_NAME","BUSINESS_ID","USERNAME"],searchTerm:n,businessId:t,partnerType:"EXTERNAL",filters:r.length>0?{countries:r}:void 0,includeCurrentBusiness:!0})),i({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"search-field-box",element:"BUSINESS_ACCESS_FIELD",elementId:"select-asset-owners-sheet-search-field"})},D.I.debounceTimeOut,[n]);var l=o._('Search business', '[m10n]bizAccess.business.search', 'Accessibility text to hint user to search for business by name or ID'),d=o._('Search by business name or ID', '[m10n]bizAccess.business.search', 'Placeholder text to hint user to search for business by name or ID');return(0,x.jsx)(u.Um,{accessibilityLabel:l,id:"bizPartnerSearch",onChange:function(e){s(e.value)},placeholder:d,value:n})},s5=function(e){var t=e.setSheetTitle,n=e.setSheetSubTitle,r=e.setCurrentSheet,s=e.setOnNextSheet,a=e.setSkipAssetAssignmentButton,i=e.selectedEmployee,l=e.type,d=void 0===l?"ADD_EMPLOYEE":l,_=(0,b.Z)(),m=(0,eo.KJ)(),p=s0((0,o.useState)(!1),2),y=p[0],v=p[1],A=(0,c.v9)(tJ),g=(0,c.v9)(t0),S=(0,c.v9)(t1),E=(0,c.v9)(t2),P=s0((0,o.useState)(A||[]),2),I=P[0],T=P[1],C=s0((0,o.useState)(E||""),2),O=C[0],z=C[1],w=s0((0,o.useState)(S||[]),2),N=w[0],R=w[1],k=s0((0,o.useState)(S||[]),2),L=k[0],B=k[1],H=(0,c.I0)(),G=(0,h.ZP)(),F=(0,o.useRef)(G),Y=(0,c.v9)(et._1),V=(0,c.v9)(t$),q=(0,c.v9)(es.pr),W=(0,c.v9)(es.MG),X=(0,c.v9)(et.Sl),K=(0,c.v9)(es.im),$=g?q:I.length,J=sg(i),ee=J.employeeInfo.full_name,en=J.personRoleStrList,er=(0,o.useRef)(O);er.current=O;var ea=(0,o.useRef)(N);ea.current=N,(0,o.useEffect)(function(){H((0,Q.Eg)(s$(s$({},f.vk),{},{businessId:m,sortBy:"full_name",searchBy:"FULL_NAME",searchTerm:er.current,limit:f.vk.limit,partnerType:"EXTERNAL",filters:ea.current.length>0?{countries:ea.current}:void 0,includeCurrentBusiness:!0})))},[m,H,er,ea]);var ei={ADD_EMPLOYEE:_._('Add new employees', '[m10n]bizAccess.employeeInvite.sheet.header', 'Header for adding a new employee'),ADD_SYSTEM_USER:_._('Add new system user', '[m10n]bizAccess.systemUserInvite.sheet.header', 'Header for adding a new system user'),UPDATE_SYSTEM_USER_ASSETS:_._('Assign business asset access', '[m10n]bizAccess.systemUser.update.sheet.header', 'Header for assigning business asset access')},el={ADD_EMPLOYEE:(0,ev.Z)(_.ngettext('Step 2 of 4 \u2022 Adding {{qtyEmployees}} Employee', 'Step 2 of 4 \u2022 Adding {{qtyEmployees}} Employees', V.businesses.length, '[m10n]bizAccess.SelectAssetsOwnersSheet.steps.second', 'Label to identify the current step, second, on new Add Employee flow. qtyEmployees: quantity of employees selected'),{qtyEmployees:V.businesses.length}),ADD_SYSTEM_USER:(0,ev.Z)(_.ngettext('Step 3 of 5 \u2022 Adding {{qtySystemUsers}} system user', 'Step 3 of 5 \u2022 Adding {{qtySystemUsers}} system users', V.businesses.length, '[m10n]bizAccess.SelectAssetsOwnersSheet.steps.third', 'Label to identify the current step, third, on new Add System User flow. qtySystemUsers: quantity of system users selected'),{qtySystemUsers:V.businesses.length})},ec=ei[d]||_._('Assign business asset access', '[m10n]bizAccess.employeeInvite.sheet.assignAssets.header', 'Header for assigning business asset access'),eu=el[d]||(0,sW.Z)(_._('Step 1 of 3 \u2022 {{employeeFullName}}{{roles}}', '[m10n]bizAccess.SelectAssetsOwnersSheet.assignAssets.steps.first', 'Label to identify the current step, first, on Assign Business Assets Access flow. employeeFullName: employee\'s full name, roles: roles of the employee'),{employeeFullName:ee||"",roles:en?", ".concat(en):""}),ed=(0,o.useCallback)(function(){H({type:"CLEAR_SELECTED_PARTNERS_AND_ASSET_ASSIGNMENTS"}),F.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"select-assets-owners-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"skip-assets-button"}),r("RELATIONSHIP_ASSET_SUMMARY_SHEET")},[H,r,F]),e_=(0,o.useRef)($);e_.current=$;var ef=(0,o.useCallback)(function(){H({type:"SET_SELECTED_PARTNERS",selectedPartners:I}),H({type:"SET_SELECTED_PARTNERS_PARTNER_NAME_FILTER",partnerName:er.current}),H({type:"SET_SELECTED_PARTNERS_COUNTRIES_FILTER",countries:ea.current}),H({type:"SET_SELECTED_PARTNERS_TOTAL",totalSelected:e_.current}),r("SELECT_ASSETS_SHEET")},[H,I,r,ea,er,e_]),em=_._('Show assets', '[m10n]bizAccess.SelectAssetsOwnersSheet.button.showAssets', 'Button to show assets after selecting assets owners.');(0,o.useEffect)(function(){t(ec),n(eu),"ADD_EMPLOYEE"===d&&a({onSkipAssetAssignment:ed}),s({onNext:ef,disabled:!g&&0===I.length,buttonText:em})},[em,t,n,ec,I,s,r,eu,ef,a,ed,g,d]),(0,o.useEffect)(function(){F.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"select-assets-owners-sheet"})},[F]);var eh=!!g&&!O&&0===N.length,ep=["UPDATE_SYSTEM_USER_ASSETS","ADD_SYSTEM_USER"].includes(d),eb=(0,x.jsxs)(u.xu,{direction:"row",display:"flex",marginBottom:4,children:[(0,x.jsx)(u.xu,{marginEnd:2,children:(0,x.jsx)(u.JO,{accessibilityLabel:_._('Select partners information', '[m10n]bizAccess.selectAssetsOwners.icon.label', 'Label for select partners information'),color:"info",icon:"info-circle",inline:!0,size:24})}),(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xv,{children:_._('To assign your employee access to business assets, which include ad accounts, catalogs, and profiles, select one or more partners who have shared access with you. By selecting your business, you can grant your employees access to assets you own.', '[m10n]bizAccess.selectAssetsOwners.description', 'Description of the modal used to add employees to a business account')})})]}),ey=(0,x.jsx)(u.xu,{direction:"row",display:"flex",marginBottom:4,children:(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xv,{children:_._('Select the businesses that own assets that you want to assign to your system user. You will be able to select the specific assets in the next step.', '[m10n]bizAccess.selectSystemUserAssetsOwners.description', 'Description of the modal used to add system users to a business account')})})});return(0,x.jsxs)(u.xu,{children:[ep?ey:eb,(0,x.jsxs)(u.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,x.jsx)(u.xu,{flex:"grow",marginBottom:2,minWidth:400,children:(0,x.jsx)(s2,{businessId:m,searchQuery:O,selectedCountries:N,setSearchQuery:function(e){return H(tI(!1)),z(e),e}})}),(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(j,{forceDirection:!0,onCountryFilter:function(){R(L),H(tI(!1)),H((0,Q.Eg)({searchBy:["FULL_NAME","BUSINESS_ID","USERNAME"],searchTerm:O,businessId:m,partnerType:"EXTERNAL",filters:L.length>0?{countries:L}:void 0,includeCurrentBusiness:!0}))},selectedCountries:L,setSelectedCountries:B,useCountryNameFilter:!0})})]}),(0,x.jsx)(u.xu,{height:"100%",overflow:"auto",children:(0,x.jsx)(D.Z,{columnDefs:[(0,U.Z)({size:"sm",checked:eh,selectedIds:I,onSelectChange:function(e){if(!g){var t=I.findIndex(function(t){return t===e});t>=0?T(I.slice(0,t).concat(I.slice(t+1))):T(I.concat([e]))}},disabled:eh,checkbox:{indeterminate:I.length>0,checked:eh,onChange:function(e){if(!y){var t,n;if(e&&I.length>0)return void T([]);if(!e||!O&&0===N.length){H(tI(e)),T([]);return}v(!0),(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Q.Vx)({searchBy:["FULL_NAME","BUSINESS_ID","USERNAME"],searchTerm:O,businessId:m,partnerType:"EXTERNAL",filters:N.length>0?{countries:N}:void 0,includeCurrentBusiness:!0},q,W,X);case 3:T(Array.from(e.sent)),H(tI(!0)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),T([]),H(tI(!1));case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,8,12,15]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){sJ(o,r,s,a,i,"next",e)}function i(e){sJ(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)})()}},id:"select-all-asset-owners-checkbox"}}),(0,Z.Z)(_,{headerName:_._('Business name', '[m10n]bizAccess.businessName.user', 'Business name coloumn header'),clickable:!1,type:"PARTNER"}),M(_)],id:m,isLoading:!!Y||y,isPaginationOptional:!0,onPageChange:function(e){H((0,Q.Eg)({businessId:m,partnerType:"EXTERNAL",page:e,filters:N.length>0?{countries:N}:void 0,includeCurrentBusiness:!0}))},onRowCountChange:function(e){H((0,Q.Eg)({searchBy:["FULL_NAME","BUSINESS_ID","USERNAME"],searchTerm:O,limit:e,businessId:m,partnerType:"EXTERNAL",filters:N.length>0?{countries:N}:void 0,includeCurrentBusiness:!0}))},onSortChange:function(e,t){H((0,Q.Eg)({businessId:m,sortBy:e,sortDirection:t,partnerType:"EXTERNAL",filters:N.length>0?{countries:N}:void 0,includeCurrentBusiness:!0}))},pageType:f.Q6.PEOPLE,rowData:K})})]})};function s6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s3=function(e){var t,n,r,s=e.active,a=e.dataTestId,i=e.label,l=e.labelBadge,c=e.onClick,d=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s6(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s6(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=d[0],f=d[1];s?(n="selected",r="inverse"):(n=_?"secondary":"transparent",r="default");var m=n,h=r,p=(0,o.useRef)(null),b="normal";return(0,x.jsx)(u.xu,{"data-test-id":a,children:(0,x.jsx)(u.iP,{onBlur:function(){return f(!1)},onFocus:function(){return f(!0)},onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},onTap:function(){c()},rounding:2,tapStyle:"compress",children:(0,x.jsxs)(u.xu,{alignItems:"center",color:m,display:"flex",justifyContent:"between",padding:3,rounding:2,width:"100%",children:[(0,x.jsx)(u.xu,{ref:p,display:"flex",minWidth:0,children:(0,x.jsx)(u.xu,{ref:p,display:"flex",children:(0,x.jsx)(u.xv,{color:h,weight:b,children:i})})}),l&&(0,x.jsx)(u.xu,{marginStart:2,children:(0,x.jsx)(u.xv,{color:h,weight:b,children:l})})]})})})};function s8(e){return(s8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s4(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function s7(e){return function(e){if(Array.isArray(e))return os(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||or(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s9(Object(n),!0).forEach(function(t){ot(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ot(e,t,n){var r;return(r=function(e,t){if("object"!=s8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s8(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s8(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||or(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){if(e){if("string"==typeof e)return os(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?os(e,t):void 0}}function os(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oo=function(e){var t=e.businessId,n=e.ownerBusinessIds,r=e.allAssetOwnersSelected,s=e.forPartner,a=void 0!==s&&s,i=(0,h.ZP)(),l=(0,o.useRef)(i),d=(0,b.Z)(),_=(0,o.useMemo)(function(){return(0,eR.EK)(d)},[d]),f=(0,(0,v.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,m=(0,c.v9)(t7),p=(0,c.v9)(t3),y=(0,c.I0)(),A=(0,c.v9)(t8),g=(0,c.v9)(t4),S=on((0,o.useState)(1),2),E=S[0],P=S[1],I=on((0,o.useState)(m||""),2),T=I[0],C=I[1],O=(0,o.useRef)(T);O.current=T;var j=on((0,o.useState)(50),2),z=j[0],w=j[1],N=(0,o.useRef)(z);N.current=z;var R=on((0,o.useState)([]),2),D=R[0],k=R[1],L=on((0,o.useState)(!1),2),U=L[0],B=L[1],M=(0,c.v9)(es.fI),H=(0,o.useRef)(M);H.current=M;var Z=(0,c.v9)(es.C9),G=(0,o.useRef)(Z);G.current=Z;var F=(0,o.useMemo)(function(){return Object.values(p).some(function(e){return e.length>0})},[p]),Y=!!g&&!F&&!T;(0,o.useEffect)(function(){C(m||"")},[m]),(0,o.useEffect)(function(){l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"mount"});var e=l.current;return function(){e({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"unmount"})}},[l]);var V=(0,o.useMemo)(function(){var e=function(e){var t;return Y||!!(null==(t=p[e.id])?void 0:t.includes("ADMIN"))},t=function(e){return function(t){var n,r;return!!(null==(n=p[t.id])?void 0:n.includes("ADMIN"))||!!(null==(r=p[t.id])?void 0:r.includes(e))}};return[{role:"ADMIN",name:d._('Admin', '[m10n]bizAccess.adAccountPermissionTable.columns.admin', 'admin checkbox column'),tooltipInfo:_.ADMIN,onCheck:function(e,t){Y||(l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"admin-checkbox"}),t?(y(tz(oe(oe({},p),{},ot({},e.id,[].concat(s7((null==p?void 0:p[e.id])||[]),["ADMIN"]))))),y(tN(oe(oe({},A),{},{ADMIN:((null==A?void 0:A.ADMIN)||0)+1})))):(y(tz(oe(oe({},p),{},ot({},e.id,((null==p?void 0:p[e.id])||[]).filter(function(e){return"ADMIN"!==e}))))),y(tN(oe(oe({},A),{},{ADMIN:((null==A?void 0:A.ADMIN)||0)-1})))))},disableCheck:Y,checked:Y,disabledTooltipText:d._('Admin permission will only be granted to employees for ad accounts you have full access to', '[m10n]bizAccess.adAccountPermissionTable.columns.admin.disabled.tooltip', 'unchecked admin tooltip info'),disabledAndCheckedTooltipText:d._('To deselect this permission, uncheck the Admin assignment checkbox above', '[m10n]bizAccess.adAccountPermissionTable.columns.admin.checked.disabled.tooltip', 'checked admin tooltip info')},{role:"ANALYST",name:d._('Analyst', '[m10n]bizAccess.adAccountPermissionTable.columns.analyst', 'analyst checkbox column'),tooltipInfo:_.ANALYST,onCheck:function(e,t){Y||(l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"analyst-checkbox"}),t?(y(tz(oe(oe({},p),{},ot({},e.id,[].concat(s7((null==p?void 0:p[e.id])||[]),["ANALYST"]))))),y(tN(oe(oe({},A),{},{ANALYST:((null==A?void 0:A.ANALYST)||0)+1})))):(y(tz(oe(oe({},p),{},ot({},e.id,((null==p?void 0:p[e.id])||[]).filter(function(e){return"ANALYST"!==e}))))),y(tN(oe(oe({},A),{},{ANALYST:((null==A?void 0:A.ANALYST)||0)-1})))))},checked:t("ANALYST"),disableCheck:e},{role:"AUDIENCE_MANAGER",name:d._('Audience', '[m10n]bizAccess.adAccountPermissionTable.columns.audience', 'audience checkbox column'),tooltipInfo:_.AUDIENCE_MANAGER,onCheck:function(e,t){Y||(l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"audience-checkbox"}),t?(y(tz(oe(oe({},p),{},ot({},e.id,[].concat(s7((null==p?void 0:p[e.id])||[]),["AUDIENCE_MANAGER"]))))),y(tN(oe(oe({},A),{},{AUDIENCE_MANAGER:((null==A?void 0:A.AUDIENCE_MANAGER)||0)+1})))):(y(tz(oe(oe({},p),{},ot({},e.id,((null==p?void 0:p[e.id])||[]).filter(function(e){return"AUDIENCE_MANAGER"!==e}))))),y(tN(oe(oe({},A),{},{AUDIENCE_MANAGER:((null==A?void 0:A.AUDIENCE_MANAGER)||0)-1})))))},checked:t("AUDIENCE_MANAGER"),disableCheck:e},{role:"CAMPAIGN_MANAGER",name:d._('Campaign', '[m10n]bizAccess.adAccountPermissionTable.columns.campaign', 'campaign checkbox column'),tooltipInfo:_.CAMPAIGN_MANAGER,onCheck:function(e,t){Y||(l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"campaign-checkbox"}),t?(y(tz(oe(oe({},p),{},ot({},e.id,[].concat(s7((null==p?void 0:p[e.id])||[]),["CAMPAIGN_MANAGER"]))))),y(tN(oe(oe({},A),{},{CAMPAIGN_MANAGER:((null==A?void 0:A.CAMPAIGN_MANAGER)||0)+1})))):(y(tz(oe(oe({},p),{},ot({},e.id,((null==p?void 0:p[e.id])||[]).filter(function(e){return"CAMPAIGN_MANAGER"!==e}))))),y(tN(oe(oe({},A),{},{CAMPAIGN_MANAGER:((null==A?void 0:A.CAMPAIGN_MANAGER)||0)-1})))))},checked:t("CAMPAIGN_MANAGER"),disableCheck:e},{role:"FINANCE_MANAGER",name:d._('Finance', '[m10n]bizAccess.adAccountPermissionTable.columns.finance', 'finance checkbox column'),tooltipInfo:_.FINANCE_MANAGER,onCheck:function(e,t){Y||(l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"finance-checkbox"}),t?(y(tz(oe(oe({},p),{},ot({},e.id,[].concat(s7((null==p?void 0:p[e.id])||[]),["FINANCE_MANAGER"]))))),y(tN(oe(oe({},A),{},{FINANCE_MANAGER:((null==A?void 0:A.FINANCE_MANAGER)||0)+1})))):(y(tz(oe(oe({},p),{},ot({},e.id,((null==p?void 0:p[e.id])||[]).filter(function(e){return"FINANCE_MANAGER"!==e}))))),y(tN(oe(oe({},A),{},{FINANCE_MANAGER:((null==A?void 0:A.FINANCE_MANAGER)||0)-1})))))},checked:t("FINANCE_MANAGER"),disableCheck:e}]},[d,y,p,l,A,Y,_]),q=tc({businessId:t,assetOwnerBusinessIds:n,searchTerm:T,sortDirection:M,startIndex:E-1,limit:z,resourceType:"AD_ACCOUNT"},!!n||r),Q=q.assets,W=q.assetsPermissions,X=q.totalCount,K=q.loading,$=q.fetchAssetsRef;(0,o.useEffect)(function(){k((a?Q.filter(function(e){return!e.client_business}):Q).map(function(e){return{id:e.asset.id,name:e.asset.name,ownerId:e.owner.id,ownerName:e.owner.full_name,permissions:W[e.asset.id]||[],type:"AD_ACCOUNT"}}))},[Q,W,a]);var J=(0,o.useCallback)(function(){return E},[E]),ee=(0,o.useCallback)(function(){return z},[z]),et=(0,o.useCallback)(function(){return X},[X]),en=(0,o.useCallback)(function(e){e.searchTerm&&y(tR(!1));var r=e.page||1;(e.limit||0)>0&&(r=1);var s="limit"in e?e.limit:N.current,o="searchTerm"in e?e.searchTerm:O.current,a="sortDirection"in e?e.sortDirection:H.current,i="sortBy"in e?e.sortBy:G.current;C(o||""),P(r),w(s||50),y((0,tQ.o)({sortDirection:a,sortBy:i})),$.current({businessId:t,assetOwnerBusinessIds:n,searchTerm:o,sortDirection:a,startIndex:r-1,limit:s,resourceType:"AD_ACCOUNT"}),y(tw(o))},[y,$,t,n,O,N,H,G]);return(0,x.jsx)(tP,{currentPageSelector:J,data:D,emptyState:(0,x.jsx)(u.kC,{alignItems:"center",direction:"row",height:100,justifyContent:"center",children:(0,x.jsx)(u.xv,{color:"subtle",children:d._('No ad accounts found', '[m10n]bizAccess.adAccountPermissionTable.adAccounts.emptyState', 'No ad accounts found empty state')})}),fetchData:en,initialSearchTermValue:T,loading:K||U,nameColumnHeader:d._('Ad account name', '[m10n]bizAccess.adAccountPermissionTable.columns.name', 'ad account name column'),nameColumnWidthPercentage:30,page:"PEOPLE",pageSizeSelector:ee,roleColumns:V,searchPlaceholder:d._('Search by ad account name', '[m10n]bizAccess.adAccountPermissionTable.searchInput', 'placeholder for ad account name search input'),selectAllCheckboxElement:(0,x.jsx)(tA,{checked:Y,disabled:U,id:"ad-account-admin-select-all-checkbox",indeterminate:F,label:d._('Assign Admin permission to all ad accounts', '[m10n]bizAccess.employeeInvite.assets.sheet.content.selectAllAdAccountsCheckbox', 'Select all ad accounts checkbox label'),onCheck:function(e){if(!U){var r,s;if(l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"select-all-ad-accounts-admin-checkbox"}),e&&F){y(tR(!1)),y(tz({})),y(tN({}));return}if(!e||!T&&0===n.length){y(tR(e)),y(tz({})),y(tN({ADMIN:e?X:0}));return}B(!0),(r=regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,tt.NZ)({businessId:t,assetOwnerBusinessIds:n,searchTerm:T,sortDirection:M,resourceType:"AD_ACCOUNT"},"ADMIN",X,f);case 3:y(tz((r=e.sent).reduce(function(e,t){return oe(oe({},e),{},ot({},t,["ADMIN"]))},{}))),y(tN({ADMIN:r.length})),y(tR(!0)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),y(tR(!1)),y(tz({})),y(tN({}));case 14:return e.prev=14,B(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,9,14,17]])}),s=function(){var e=this,t=arguments;return new Promise(function(n,s){var o=r.apply(e,t);function a(e){s4(o,n,s,a,i,"next",e)}function i(e){s4(o,n,s,a,i,"throw",e)}a(void 0)})},function(){return s.apply(this,arguments)})()}},tooltipText:d._('Choosing this option will assign your employees Admin permission to all ad accounts below', '[m10n]bizAccess.employeeInvite.assets.sheet.content.selectAllAdAccountsCheckbox.tooltipText', 'Select all ad accounts info tooltip text')}),selectedAssetRoles:p||{},totalCountSelector:et})};function oa(e){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function ol(e){return function(e){if(Array.isArray(e))return oh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||om(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach(function(t){od(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function od(e,t,n){return(t=o_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o_(e){var t=function(e,t){if("object"!=oa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oa(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oa(t)?t:t+""}function of(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||om(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function om(e,t){if(e){if("string"==typeof e)return oh(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oh(e,t):void 0}}function oh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var op=function(e){var t=e.businessId,n=e.ownerBusinessIds,r=e.allAssetOwnersSelected,s=e.forPartner,a=void 0!==s&&s,i=(0,h.ZP)(),l=(0,o.useRef)(i),d=(0,b.Z)(),_=(0,o.useMemo)(function(){return(0,eR.EK)(d)},[d]),f=(0,v.Z)().checkExperiment,m=f("web_m10n_business_access_catalogs").anyEnabled,p=f("business_access_rmn_catalog_sharing").anyEnabled,y=!!(0,te.Z)({customExperimentNames:["business_access_rmn_brand_agency_catalog_sharing"]}).data.business_access_rmn_brand_agency_catalog_sharing,A=a&&m&&p&&y,g=(0,c.v9)(t7),S=(0,c.v9)(t3),E=(0,c.I0)(),P=(0,c.v9)(t8);(0,c.v9)(t4);var I=of((0,o.useState)(1),2),T=I[0],C=I[1],O=of((0,o.useState)(g||""),2),j=O[0],z=O[1],w=(0,o.useRef)(j);w.current=j;var N=of((0,o.useState)(50),2),R=N[0],k=N[1],L=(0,o.useRef)(R);L.current=R;var U=of((0,o.useState)([]),2),B=U[0],M=U[1],H=of((0,o.useState)(!1),2),Z=H[0],G=H[1],F=of((0,o.useState)({}),2),Y=F[0],V=F[1],q=(0,c.v9)(es.fI),Q=(0,o.useRef)(q);Q.current=q;var W=(0,c.v9)(es.C9),X=(0,o.useRef)(W);X.current=W,(0,o.useEffect)(function(){z(g||"")},[g]),(0,o.useEffect)(function(){l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"mount"});var e=l.current;return function(){e({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"unmount"})}},[l]);var K=1===n.length&&n[0]===t,$=tc({businessId:t,permissions:a&&K?["OWNER"]:void 0,assetOwnerBusinessIds:n,searchTerm:j,limit:1e4,sortDirection:q,resourceType:"AD_ACCOUNT"},!!n||r),J=$.assets,ee=$.assetsPermissions,et=$.totalCount,en=$.loading,er=$.fetchAssetsRef;(0,o.useEffect)(function(){M((a?J.filter(function(e){return!e.client_business}):J).map(function(e){return{id:e.asset.id,name:e.asset.name,ownerId:e.owner.id,ownerName:e.owner.full_name,permissions:ee[e.asset.id]||[],type:"AD_ACCOUNT",mediaNetworkAccount:!!e.targeting_rmn_business_id}}))},[J,ee,a]);var eo=(0,o.useCallback)(function(){return T},[T]),ea=(0,o.useCallback)(function(){return R},[R]),ei=(0,o.useCallback)(function(){return et},[et]),el=(0,o.useCallback)(function(e){e.searchTerm&&E(tR(!1));var r=e.page||1;(e.limit||0)>0&&(r=1);var s="limit"in e?e.limit:L.current,o="searchTerm"in e?e.searchTerm:w.current,a="sortDirection"in e?e.sortDirection:Q.current,i="sortBy"in e?e.sortBy:X.current;z(o||""),C(r),k(s||50),E((0,tQ.o)({sortDirection:a,sortBy:i})),er.current({businessId:t,assetOwnerBusinessIds:n,searchTerm:o,sortDirection:a,startIndex:r-1,limit:s,resourceType:"AD_ACCOUNT"}),E(tw(o))},[E,er,t,n,w,L,Q,X]),ec=function(e,r){var s=Y[e],o=r;"INDETERMINATE"===s&&(o=!1);var a="INDETERMINATE";a=o?"CHECKED":"UNCHECKED",V(ou(ou({},Y),{},od({},e,a))),function(r){if(!Z){var s,o;if(l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"select-all-ad-accounts-admin-checkbox"}),!r){G(!0),E(tz(Object.keys(S).reduce(function(t,n){return ou(ou({},t),{},od({},n,ol((S[n]||[]).filter(function(t){return t!==e})||[])))},{}))),P[e],E(tN(function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(P,[e].map(o_)))),G(!1);return}(s=regeneratorRuntime.mark(function r(){var s,o,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return G(!0),r.prev=1,r.t0=Set,r.t1=ol,r.next=6,(0,tt.NZ)({businessId:t,assetOwnerBusinessIds:n,searchTerm:j,sortDirection:q,resourceType:"AD_ACCOUNT"},e,et,m);case 6:r.t2=r.sent,r.t3=(0,r.t1)(r.t2),s=new r.t0(r.t3),o=B.map(function(e){return e.id}),a=0,E(tz(o.reduce(function(t,n){return s.has(n)&&!((S[n]||[]).includes("ADMIN")||"FINANCE_EDIT"===e&&(S[n]||[]).includes("FINANCE_VIEW")||"FINANCE_VIEW"===e&&(S[n]||[]).includes("FINANCE_EDIT"))?(a+=1,ou(ou({},t),{},od({},n,ol(new Set([].concat(ol(S[n]||[]),[e])))))):ou(ou({},t),{},od({},n,ol(new Set(ol(S[n]||[])))))},{}))),E(tN(ou(ou({},P),{},od({},e,a)))),E(tR(!0)),r.next=22;break;case 17:r.prev=17,r.t4=r.catch(1),E(tR(!1)),E(tz({})),E(tN({}));case 22:return r.prev=22,G(!1),r.finish(22);case 25:case"end":return r.stop()}},r,null,[[1,17,22,25]])}),o=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=s.apply(e,t);function a(e){oi(o,n,r,a,i,"next",e)}function i(e){oi(o,n,r,a,i,"throw",e)}a(void 0)})},function(){return o.apply(this,arguments)})()}}(o)},eu=(0,o.useMemo)(function(){var e=function(e){var t;return!!(null==(t=S[e.id])?void 0:t.includes("ADMIN"))},t=function(e){return function(t){var n,r;return!!(null==(n=S[t.id])?void 0:n.includes("ADMIN"))||!!(null==(r=S[t.id])?void 0:r.includes(e))}},n=function(e){return Y[e]||"UNCHECKED"};return[{role:"ADMIN",name:d._('Admin', '[m10n]bizAccess.adAccountPermissionTable.columns.admin', 'admin checkbox column'),tooltipInfo:_.ADMIN,onSubheaderCheck:function(e){ec("ADMIN",e)},subheaderChecked:n("ADMIN"),onCheck:function(e,t){l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"admin-checkbox"}),t?(E(tz(ou(ou({},S),{},od({},e.id,[].concat(ol((null==S?void 0:S[e.id])||[]),["ADMIN"]))))),E(tN(ou(ou({},P),{},{ADMIN:((null==P?void 0:P.ADMIN)||0)+1})))):(E(tz(ou(ou({},S),{},od({},e.id,((null==S?void 0:S[e.id])||[]).filter(function(e){return"ADMIN"!==e}))))),E(tN(ou(ou({},P),{},{ADMIN:((null==P?void 0:P.ADMIN)||0)-1}))))},disableCheck:!1,checked:!1,disabledTooltipText:d._('Admin permission will only be granted to employees for ad accounts you have full access to', '[m10n]bizAccess.adAccountPermissionTable.columns.admin.disabled.tooltip', 'unchecked admin tooltip info'),disabledAndCheckedTooltipText:d._('To deselect this permission, uncheck the Admin assignment checkbox above', '[m10n]bizAccess.adAccountPermissionTable.columns.admin.checked.disabled.tooltip', 'checked admin tooltip info')},{role:"ANALYST",name:d._('Analyst', '[m10n]bizAccess.adAccountPermissionTable.columns.analyst', 'analyst checkbox column'),tooltipInfo:_.ANALYST,onSubheaderCheck:function(e){ec("ANALYST",e)},subheaderChecked:n("ANALYST"),onCheck:function(e,t){l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"analyst-checkbox"}),t?(E(tz(ou(ou({},S),{},od({},e.id,[].concat(ol((null==S?void 0:S[e.id])||[]),["ANALYST"]))))),E(tN(ou(ou({},P),{},{ANALYST:((null==P?void 0:P.ANALYST)||0)+1})))):(E(tz(ou(ou({},S),{},od({},e.id,((null==S?void 0:S[e.id])||[]).filter(function(e){return"ANALYST"!==e}))))),E(tN(ou(ou({},P),{},{ANALYST:((null==P?void 0:P.ANALYST)||0)-1}))))},checked:t("ANALYST"),disableCheck:e},{role:"AUDIENCE_MANAGER",name:d._('Audience', '[m10n]bizAccess.adAccountPermissionTable.columns.audience', 'audience checkbox column'),tooltipInfo:_.AUDIENCE_MANAGER,onSubheaderCheck:function(e){ec("AUDIENCE_MANAGER",e)},subheaderChecked:n("AUDIENCE_MANAGER"),onCheck:function(e,t){l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"audience-checkbox"}),t?(E(tz(ou(ou({},S),{},od({},e.id,[].concat(ol((null==S?void 0:S[e.id])||[]),["AUDIENCE_MANAGER"]))))),E(tN(ou(ou({},P),{},{AUDIENCE_MANAGER:((null==P?void 0:P.AUDIENCE_MANAGER)||0)+1})))):(E(tz(ou(ou({},S),{},od({},e.id,((null==S?void 0:S[e.id])||[]).filter(function(e){return"AUDIENCE_MANAGER"!==e}))))),E(tN(ou(ou({},P),{},{AUDIENCE_MANAGER:((null==P?void 0:P.AUDIENCE_MANAGER)||0)-1}))))},checked:t("AUDIENCE_MANAGER"),disableCheck:e},{role:"CAMPAIGN_MANAGER",name:d._('Campaign', '[m10n]bizAccess.adAccountPermissionTable.columns.campaign', 'campaign checkbox column'),tooltipInfo:_.CAMPAIGN_MANAGER,onSubheaderCheck:function(e){ec("CAMPAIGN_MANAGER",e)},subheaderChecked:n("CAMPAIGN_MANAGER"),onCheck:function(e,t){l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"campaign-checkbox"}),t?(E(tz(ou(ou({},S),{},od({},e.id,[].concat(ol((null==S?void 0:S[e.id])||[]),["CAMPAIGN_MANAGER"]))))),E(tN(ou(ou({},P),{},{CAMPAIGN_MANAGER:((null==P?void 0:P.CAMPAIGN_MANAGER)||0)+1})))):(E(tz(ou(ou({},S),{},od({},e.id,((null==S?void 0:S[e.id])||[]).filter(function(e){return"CAMPAIGN_MANAGER"!==e}))))),E(tN(ou(ou({},P),{},{CAMPAIGN_MANAGER:((null==P?void 0:P.CAMPAIGN_MANAGER)||0)-1}))))},checked:t("CAMPAIGN_MANAGER"),disableCheck:e}].concat(ol(m?[]:[{role:"CATALOGS_MANAGER",name:d._('Catalogs', '[m10n]bizAccess.adAccountPermissionTable.columns.catalogs', 'catalogs checkbox column'),tooltipInfo:_.CATALOGS_MANAGER,onSubheaderCheck:function(e){ec("CATALOGS_MANAGER",e)},subheaderChecked:n("CATALOGS_MANAGER"),onCheck:function(e,t){l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"catalogs-checkbox"}),t?(E(tz(ou(ou({},S),{},od({},e.id,[].concat(ol((null==S?void 0:S[e.id])||[]),["CATALOGS_MANAGER"]))))),E(tN(ou(ou({},P),{},{CATALOGS_MANAGER:((null==P?void 0:P.CATALOGS_MANAGER)||0)+1})))):(E(tz(ou(ou({},S),{},od({},e.id,((null==S?void 0:S[e.id])||[]).filter(function(e){return"CATALOGS_MANAGER"!==e}))))),E(tN(ou(ou({},P),{},{CATALOGS_MANAGER:((null==P?void 0:P.CATALOGS_MANAGER)||0)-1}))))},checked:t("CATALOGS_MANAGER"),disableCheck:e}]),[{role:"FINANCE_EDIT",name:d._('Finance', '[m10n]bizAccess.adAccountPermissionTable.columns.financeEdit', 'finance edit checkbox column'),tooltipInfo:[d._('Finance (edit) can edit billing information.', '[m10n]bizAccess.business.people.roleDescription', 'Finance(edit) and billing permission type description'),d._('Finance (view) can view billing information.', '[m10n]bizAccess.business.people.roleDescription', 'Finance(view) and billing permission type description')],onSubheaderCheck:{FINANCE_EDIT:function(e){return ec("FINANCE_EDIT",e)},FINANCE_VIEW:function(e){return ec("FINANCE_VIEW",e)}},subheaderChecked:{FINANCE_EDIT:n("FINANCE_EDIT"),FINANCE_VIEW:n("FINANCE_VIEW")},onCheck:{FINANCE_EDIT:function(e,t){l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"finance-edit-checkbox"}),t?(E(tz(ou(ou({},S),{},od({},e.id,[].concat(ol((null==S?void 0:S[e.id])||[]),["FINANCE_EDIT"]))))),E(tN(ou(ou({},P),{},{FINANCE_EDIT:((null==P?void 0:P.FINANCE_EDIT)||0)+1})))):(E(tz(ou(ou({},S),{},od({},e.id,((null==S?void 0:S[e.id])||[]).filter(function(e){return"FINANCE_EDIT"!==e}))))),E(tN(ou(ou({},P),{},{FINANCE_EDIT:((null==P?void 0:P.FINANCE_EDIT)||0)-1}))))},FINANCE_VIEW:function(e,t){l.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"ad-accounts-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"finance-view-checkbox"}),t?(E(tz(ou(ou({},S),{},od({},e.id,[].concat(ol((null==S?void 0:S[e.id])||[]),["FINANCE_VIEW"]))))),E(tN(ou(ou({},P),{},{FINANCE_VIEW:((null==P?void 0:P.FINANCE_VIEW)||0)+1})))):(E(tz(ou(ou({},S),{},od({},e.id,((null==S?void 0:S[e.id])||[]).filter(function(e){return"FINANCE_VIEW"!==e}))))),E(tN(ou(ou({},P),{},{FINANCE_VIEW:((null==P?void 0:P.FINANCE_VIEW)||0)-1}))))}},checked:{FINANCE_EDIT:t("FINANCE_EDIT"),FINANCE_VIEW:t("FINANCE_VIEW")},disableCheck:{FINANCE_EDIT:function(n){return e(n)||t("FINANCE_VIEW")(n)},FINANCE_VIEW:function(n){return e(n)||t("FINANCE_EDIT")(n)}}}])},[B,d,E,S,l,P,!1,Z,Y,_]);return(0,o.useEffect)(function(){var e=eu.reduce(function(e,t){return[].concat(ol(e),[t.role])},["FINANCE_VIEW"]),t=Object.keys(S),n=function(e){if(0===e.length)return"UNCHECKED";var t="INDETERMINATE";return e.every(function(e){return!0===e})&&B.length===e.length?t="CHECKED":e.every(function(e){return!1===e})&&(t="UNCHECKED"),t};V(e.reduce(function(e,r){return ou(ou({},e),{},od({},r,n(t.map(function(e){return!!new Set(S[e]).has(r)}))))},{}))},[S]),(0,x.jsx)(tP,{currentPageSelector:eo,data:B,emptyState:(0,x.jsx)(u.kC,{alignItems:"center",direction:"row",height:100,justifyContent:"center",children:(0,x.jsx)(u.xv,{color:"subtle",children:d._('No ad accounts found', '[m10n]bizAccess.adAccountPermissionTable.adAccounts.emptyState', 'No ad accounts found empty state')})}),fetchData:el,hidePagination:!0,initialSearchTermValue:j,loading:en||Z,nameColumnHeader:d._('Ad account name', '[m10n]bizAccess.adAccountPermissionTable.columns.name', 'ad account name column'),nameColumnWidthPercentage:30,page:"PEOPLE",pageSizeSelector:ea,roleColumns:eu,searchPlaceholder:d._('Search by ad account name', '[m10n]bizAccess.adAccountPermissionTable.searchInput', 'placeholder for ad account name search input'),selectedAssetRoles:S||{},showMediaNetworkAssetType:A,tableConfig:ou(ou({},D.I),{},{headerBorderStyle:"hidden"}),totalCountSelector:ei})};function ob(e){return(ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oy(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function ov(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ov(Object(n),!0).forEach(function(t){og(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ov(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function og(e,t,n){var r;return(r=function(e,t){if("object"!=ob(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ob(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ob(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||ox(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ox(e,t){if(e){if("string"==typeof e)return oE(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oE(e,t):void 0}}function oE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oP=function(e){var t=e.businessId,n=e.ownerBusinessIds,r=e.allAssetOwnersSelected,s=(0,b.Z)(),a=(0,o.useMemo)(function(){return["PROFILE_PUBLISHER"]},[]),i=(0,o.useMemo)(function(){return(0,eR.EK)(s)},[s]),l=(0,(0,v.Z)().checkExperiment)("web_m10n_business_access_profiles").anyEnabled,d=(0,c.v9)(n_),_=(0,c.v9)(nc),f=(0,c.I0)(),m=(0,c.v9)(nu),p=(0,c.v9)(nd),y=(0,h.ZP)(),A=(0,o.useRef)(y),g=oS((0,o.useState)(1),2),S=g[0],E=g[1],P=oS((0,o.useState)(d||""),2),I=P[0],T=P[1],C=(0,o.useRef)(I);C.current=I;var O=oS((0,o.useState)(50),2),j=O[0],z=O[1],w=(0,o.useRef)(j);w.current=j;var N=oS((0,o.useState)([]),2),R=N[0],D=N[1],k=oS((0,o.useState)(!1),2),L=k[0],U=k[1],B=(0,c.v9)(es.fI),M=(0,o.useRef)(B);M.current=B;var H=(0,c.v9)(es.C9),Z=(0,o.useRef)(H);Z.current=H;var G=(0,o.useMemo)(function(){return Object.values(_).some(function(e){return e.length>0})},[_]),F=!!p&&!G&&!I;(0,o.useEffect)(function(){T(d||"")},[d]),(0,o.useEffect)(function(){A.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"profiles-permissions-table",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"mount"});var e=A.current;return function(){e({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"profiles-permissions-table",element:"BUSINESS_ACCESS_TOOLTIP",elementId:"unmount"})}},[A]);var Y=(0,o.useMemo)(function(){return[{role:"PROFILE_PUBLISHER",name:s._('Publisher', '[m10n]bizAccess.profilePermissionTable.columns.publisher', 'publisher checkbox column'),tooltipInfo:i.PROFILE_PUBLISHER,onCheck:function(e,t){var n,r,s;F||((A.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"profiles-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"publisher-checkbox"}),t)?(f(tM(oA(oA({},_),{},og({},e.id,[].concat(function(e){if(Array.isArray(e))return oE(e)}(s=(null==_?void 0:_[e.id])||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||ox(s)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["PROFILE_PUBLISHER"]))))),f(tH(oA(oA({},m),{},{PROFILE_PUBLISHER:((null==(n=_.PROFILE_PUBLISHER)?void 0:n.length)||0)+1})))):(f(tM(oA(oA({},_),{},og({},e.id,((null==_?void 0:_[e.id])||[]).filter(function(e){return"PROFILE_PUBLISHER"!==e}))))),f(tH(oA(oA({},m),{},{PROFILE_PUBLISHER:((null==(r=_.PROFILE_PUBLISHER)?void 0:r.length)||0)-1})))))},disableCheck:F,checked:F,disabledTooltipText:s._('Admin permission will only be granted to employees for profiles you have full access to', '[m10n]bizAccess.profilePermissionTable.columns.admin.disabled.tooltip', 'unchecked admin tooltip info'),disabledAndCheckedTooltipText:s._('To deselect this permission, uncheck the Admin assignment checkbox above', '[m10n]bizAccess.profilePermissionTable.columns.admin.checked.disabled.tooltip', 'checked admin tooltip info')}]},[s,f,_,A,m,F,i]),V=tc({businessId:t,assetOwnerBusinessIds:n,searchTerm:I,sortDirection:B,startIndex:S-1,limit:j,resourceType:"PROFILE"},!!n||r),q=V.assets,Q=V.assetsPermissions,W=V.totalCount,X=V.loading,K=V.fetchAssetsRef;(0,o.useEffect)(function(){D(q.map(function(e){return{id:e.asset.id,name:e.asset.name,ownerId:e.owner.id,ownerName:e.owner.full_name,permissions:Q[e.asset.id]||[],type:"PROFILE"}}))},[q,Q]);var $=(0,o.useCallback)(function(){return S},[S]),J=(0,o.useCallback)(function(){return j},[j]),ee=(0,o.useCallback)(function(){return W},[W]),et=(0,o.useCallback)(function(e){e.searchTerm&&f(tZ(!1));var r=e.page||1;(e.limit||0)>0&&(r=1);var s="limit"in e?e.limit:w.current,o="searchTerm"in e?e.searchTerm:C.current,a="sortDirection"in e?e.sortDirection:M.current,i="sortBy"in e?e.sortBy:Z.current;T(o||""),E(r),z(s||50),f((0,tQ.o)({sortDirection:a,sortBy:i})),K.current({businessId:t,assetOwnerBusinessIds:n,searchTerm:o,sortDirection:a,startIndex:r-1,limit:s,resourceType:"PROFILE"}),f({type:"SET_SELECTED_PROFILES_SEARCH_VALUE",profilesSearchValue:o})},[f,K,t,n,C,w,M,Z]);return(0,x.jsx)(tP,{adminRoles:a,currentPageSelector:$,data:R,emptyState:(0,x.jsx)(u.kC,{alignItems:"center",direction:"row",height:100,justifyContent:"center",children:(0,x.jsx)(u.xv,{color:"subtle",children:s._('No profiles found', '[m10n]bizAccess.profilePermissionTable.profiles.emptyState', 'No profiles found empty state')})}),fetchData:et,initialSearchTermValue:I,loading:X||L,nameColumnHeader:s._('Profile name', '[m10n]bizAccess.profilePermissionTable.columns.name', 'profile name column'),nameColumnWidthPercentage:70,page:"PEOPLE",pageSizeSelector:J,roleColumns:Y,searchPlaceholder:s._('Search by profile name', '[m10n]bizAccess.profilePermissionTable.searchInput', 'placeholder for profile name search input'),selectAllCheckboxElement:(0,x.jsx)(tA,{checked:F,disabled:L,id:"profile-publisher-select-all-checkbox",indeterminate:G,label:s._('Assign Publisher permission to all profiles', '[m10n]bizAccess.employeeInvite.assets.sheet.content.selectAllProfilesCheckbox', 'Select all profiles checkbox label'),onCheck:function(e){if(e?q.length>0&&(f(tZ(!0)),f(tM({"-3":["PROFILE_PUBLISHER"]})),f(tH({PROFILE_PUBLISHER:W}))):(f(tZ(!1)),f(tM({})),f(tH({}))),!L){var r,s;if(A.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"profiles-permissions-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"select-all-profiles-profile-publisher-checkbox"}),e&&G){f(tZ(!1)),f(tM({})),f(tH({}));return}if(!e||!I&&0===n.length){f(tZ(e)),f(tM({})),f(tH({PROFILE_PUBLISHER:e?W:0}));return}U(!0),(r=regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,tt.NZ)({businessId:t,assetOwnerBusinessIds:n,searchTerm:I,sortDirection:B,resourceType:"PROFILE"},"PROFILE_PUBLISHER",W,l);case 3:f(tM((r=e.sent).reduce(function(e,t){return oA(oA({},e),{},og({},t,["PROFILE_PUBLISHER"]))},{}))),f(tH({PROFILE_PUBLISHER:r.length})),f(tZ(!0)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),f(tZ(!1)),f(tM({})),f(tH({}));case 14:return e.prev=14,U(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,9,14,17]])}),s=function(){var e=this,t=arguments;return new Promise(function(n,s){var o=r.apply(e,t);function a(e){oy(o,n,s,a,i,"next",e)}function i(e){oy(o,n,s,a,i,"throw",e)}a(void 0)})},function(){return s.apply(this,arguments)})()}},tooltipText:s._('Choosing this option will assign your employees Admin permission to all profiles below', '[m10n]bizAccess.employeeInvite.assets.sheet.content.selectAllProfilesCheckbox.tooltipText', 'Select all profiles info tooltip text')}),selectedAssetRoles:_||{},totalCountSelector:ee})};function oI(e){return(oI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oC(Object(n),!0).forEach(function(t){oj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oj(e,t,n){var r;return(r=function(e,t){if("object"!=oI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oI(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==oI(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oz(e){return e.reduce(function(e,t){return oO(oO({},e),{},oj({},t.id,t.permissions||[]))},{})}function ow(e){return e.reduce(function(e,t){return(t.permissions||[]).reduce(function(t,n){return oO(oO({},t),{},oj({},n,(e[n]||0)+1))},e)},{})}var oN=function(e){var t,n=e.setSheetTitle,r=e.setSheetSubTitle,s=e.setCurrentSheet,a=e.setOnNextSheet,i=e.setSkipAssetAssignmentButton,l=e.setBackButton,d=e.selectedEmployee,_=e.type,f=void 0===_?"ADD_EMPLOYEE":_,m=e.partnerId,p=(0,v.Z)().checkExperiment,A=(0,c.I0)(),g=(0,b.Z)(),S=(0,h.ZP)(),E=(0,o.useRef)(S),P=(0,eo.KJ)(),I=p("web_m10n_business_access_catalogs").anyEnabled,T=p("web_business_access_finance_manager_role").anyEnabled,C=(0,c.v9)(tJ),O=(0,o.useMemo)(function(){return"ADD_PARTNER"===f?[P]:C},[f,P,C]),j=(0,c.v9)(t0),z=(0,c.v9)(t3),w=(0,c.v9)(t8),N=(0,c.v9)(ne),R=(0,c.v9)(no),D=(0,c.v9)(nc),k=(0,c.v9)(nu),L=(0,o.useMemo)(function(){return Object.keys(z).length>0?Object.keys(z).filter(function(e){var t;return((null==(t=z[e])?void 0:t.length)||0)>0}).length:Object.values(w).reduce(function(e,t){return e+t},0)},[z,w]),U=(0,o.useMemo)(function(){return Object.keys(N).length>0?Object.keys(N).filter(function(e){var t;return((null==(t=N[e])?void 0:t.length)||0)>0}).length:Object.values(R).reduce(function(e,t){return e+t},0)},[N,R]),B=(0,o.useMemo)(function(){return Object.keys(D).length>0?Object.keys(D).filter(function(e){var t;return((null==(t=D[e])?void 0:t.length)||0)>0}).length:Object.values(k).reduce(function(e,t){return e+t},0)},[D,k]),M=(0,c.v9)(t$),H=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)("AD_ACCOUNT"))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return oT(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oT(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Z=H[0],G=H[1],F=sg(d),Y=F.employeeInfo.full_name,V=F.personRoleStrList,q=(0,o.useCallback)(function(){A(tT({adAccounts:{resourceIdToRoles:{},roleToNumberOfAssets:{}},catalogs:{resourceIdToRoles:{},roleToNumberOfAssets:{}},profiles:{resourceIdToRoles:{},roleToNumberOfAssets:{}}})),E.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"select-assets-sheet-".concat(f),element:"BUSINESS_ACCESS_BUTTON",elementId:"skip-assets-button"}),s("ADD_PARTNER"===f?rs.c0.PARTNER_INVITE_SUMMARY_SHEET:"RELATIONSHIP_ASSET_SUMMARY_SHEET")},[A,s,E,f]),Q=(0,o.useCallback)(function(){A(tT({adAccounts:{resourceIdToRoles:{},roleToNumberOfAssets:{}},catalogs:{resourceIdToRoles:{},roleToNumberOfAssets:{}},profiles:{resourceIdToRoles:{},roleToNumberOfAssets:{}}})),s("ADD_PARTNER"===f?rs.c0.SELECT_PARTNER_SHEET:"SELECT_ASSET_OWNERS_SHEET")},[A,s,f]);(0,o.useEffect)(function(){E.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"select-assets-sheet-".concat(f),element:"BUSINESS_ACCESS_TOOLTIP",elementId:"select-assets-sheet-open"});var e=E.current;return function(){e({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"select-assets-sheet-".concat(f),element:"BUSINESS_ACCESS_TOOLTIP",elementId:"select-assets-sheet-close"})}},[E,f]);var W=function(e){G(e),S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"select-assets-sheet-".concat(f),element:"BUSINESS_ACCESS_TAB",elementId:"select-assets-sheet-tab-".concat(e,"-selected")})},X={ADD_EMPLOYEE:g._('Add employees', '[m10n]bizAccess.employeeInvite.assets.sheet.header', 'Header for selecting employee assets'),ADD_SYSTEM_USER:g._('Add new system user', '[m10n]bizAccess.systemUserInvite.sheet.header', 'Header for adding a new system user'),ADD_PARTNER:g._('Add new partner', '[m10n]bizAccess.add.partners.sheet.title', 'Sheet title for the add partners invite flow')},K={ADD_EMPLOYEE:(0,y.nk)(g.ngettext('Step 3 of 4 \u2022\xA0Adding {{count}} Employee', 'Step 3 of 4 \u2022\xA0Adding {{count}} Employees', M.businesses.length, '[m10n]bizAccess.employeeInvite.assets.steps.third', 'Label to identify the current step, third, on new Add Employee flow, count: the number of selected partners to ad as employee'),{count:M.businesses.length}).join(""),ADD_SYSTEM_USER:(0,y.nk)(g.ngettext('Step 4 of 5 \u2022\xA0Adding {{count}} system user', 'Step 4 of 5 \u2022\xA0Adding {{count}} system users', M.businesses.length, '[m10n]bizAccess.systemUserInvite.assets.steps.fourth', 'Label to identify the current step, fourth, on new Add SystemUser flow, count: the number of selected users to add as system users'),{count:M.businesses.length}).join(""),ADD_PARTNER:g._('Step 2 of 3', '[m10n]bizAccess.partnersInvite.assets.steps.second', 'Label to identify the current step, second, on Add Partners Invite flow')};(0,o.useEffect)(function(){n(X[f]||g._('Assign business asset access', '[m10n]bizAccess.employeeInvite.assets.sheet.assignAssets.header', 'Header for assigning business asset access'))},[n,g,f]),(0,o.useEffect)(function(){r(K[f]||(0,y.nk)(g._('Step 2 of 3 \u2022 {{employeeFullName}}, {{roles}}', '[m10n]bizAccess.employeeInvite.assets.assignAssets.steps.second', 'Label to identify the current step, second, on Assign Business Assets Access flow. employeeFullName: employee\'s full name, roles: roles of the employee'),{employeeFullName:Y||"",roles:V}).join(""))},[r,g,M.businesses.length,f,Y,V]),(0,o.useEffect)(function(){("ADD_EMPLOYEE"===f||"ADD_PARTNER"===f)&&i({onSkipAssetAssignment:q}),l({onBack:Q})},[l,Q,i,q,f]),(0,o.useEffect)(function(){if(["ASSIGN_ASSETS","UPDATE_SYSTEM_USER_ASSETS"].includes(f)){var e,t,n,r=(null==d||null==(e=d.assets_summary)?void 0:e.ad_accounts)||[],s=oz(r),o=ow(r);A(tz(s)),A(tN(o));var a=(null==d||null==(t=d.assets_summary)?void 0:t.catalogs)||[],i=oz(a),l=ow(a);A(tD(i)),A(tk(l));var c=(null==d||null==(n=d.assets_summary)?void 0:n.profiles)||[],u=oz(c),_=ow(c);A(tM(u)),A(tH(_))}},[A,f,d]),(0,o.useEffect)(function(){var e="ADD_PARTNER"===f?rs.c0.PARTNER_INVITE_SUMMARY_SHEET:"RELATIONSHIP_ASSET_SUMMARY_SHEET";a({onNext:function(){return s(e)},disabled:("ASSIGN_ASSETS"===f||"ADD_PARTNER"===f)&&0===L&&0===U&&0===B})},[a,s,f,L,U,B]),(0,o.useEffect)(function(){E.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"select-assets-sheet-".concat(f)})},[E,f]);var $=(0,o.useMemo)(function(){var e=g._('Assign ad account access', '[m10n]bizAccess.employeeInvite.assets.sheet.content.header.adAccounts', 'ad accounts content header');"CATALOG"===Z?e=g._('Assign catalog access', '[m10n]bizAccess.employeeInvite.assets.sheet.content.header.catalogs', 'catalogs content header'):"PROFILE"===Z&&(e=g._('Assign profile access', '[m10n]bizAccess.employeeInvite.assets.sheet.content.header.profiles', 'profiles content header'));var t=T?(0,x.jsx)(op,{allAssetOwnersSelected:j,businessId:P,forPartner:"ADD_PARTNER"===f,ownerBusinessIds:O||[]}):(0,x.jsx)(oo,{allAssetOwnersSelected:j,businessId:P,forPartner:"ADD_PARTNER"===f,ownerBusinessIds:O||[]});return I&&"CATALOG"===Z?t=(0,x.jsx)(nR,{allAssetOwnersSelected:j,businessId:P,forPartner:"ADD_PARTNER"===f,ownerBusinessIds:O||[],partnerId:m}):"PROFILE"===Z&&(t=(0,x.jsx)(oP,{allAssetOwnersSelected:j,businessId:P,ownerBusinessIds:O||[]})),{header:e,table:t}},[g,Z,P,O,j,I,T,f,m]),J=$.header,ee=$.table,et=(0,rS.Cc)(g);et="".concat(et);var en=(0,rS.Bx)(g);en="".concat(en);var er=(0,rS.XY)(g);return er="".concat(er),(0,x.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:oO(oO({},rS.M8),{},{borderTopStyle:"solid",borderBottomStyle:"solid"})},direction:"row",display:"flex",height:"calc(100% - ".concat(rS.x1.MAIN_CONTAINER.HEIGHT_OFFSET,")"),left:!0,position:"absolute",width:"100%",children:[(0,x.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:oO(oO({},rS.M8),{},{borderRightStyle:"solid"})},height:"calc(100% - ".concat(rS.x1.SECTIONS_CONTAINER.HEIGHT_OFFSET,")"),position:"fixed",width:200,children:[(0,x.jsx)(u.xu,{marginBottom:2,marginTop:4,paddingX:4,children:(0,x.jsx)(u.xv,{weight:"bold",children:g._('Assets', '[m10n]bizAccess.employeeInvite.assets.sheet.sidebar.assets.header', 'Sidebar header')})}),(0,x.jsxs)(u.xu,{direction:"column",display:"flex",paddingX:1,children:[(0,x.jsx)(s3,{active:"AD_ACCOUNT"===Z,dataTestId:"ad-accounts-section",label:et,labelBadge:L>0?String(L):void 0,onClick:function(){return W("AD_ACCOUNT")}}),I&&(0,x.jsx)(s3,{active:"CATALOG"===Z,dataTestId:"catalogs-section",label:en,labelBadge:U>0?String(U):void 0,onClick:function(){return W("CATALOG")}}),(0,x.jsx)(s3,{active:"PROFILE"===Z,dataTestId:"profiles-section",label:er,labelBadge:B>0?String(B):void 0,onClick:function(){return W("PROFILE")}})]})]}),(0,x.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:200}},height:"calc(100% - ".concat(rS.x1.SECTIONS_CONTAINER.CONTENT_CONTAINER.HEIGHT_OFFSET,")"),overflow:"auto",position:"fixed",width:rS.x1.SECTIONS_CONTAINER.CONTENT_CONTAINER.WIDTH,children:[(0,x.jsx)(u.xu,{marginBottom:2,marginTop:4,paddingX:3,children:(0,x.jsx)(u.xv,{weight:"bold",children:J})}),(0,x.jsx)(u.xu,{children:ee})]})]})},oR=n(653551),oD=n(851770),ok=n(230201),oL=n(856853),oU=n(173874),oB=n(978066),oM=n(218376);function oH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oZ=function(e){var t,n=e.onChange,r=e.currentRole,s=e.regularRoleEntry,a=e.adminRoleEntry,i=e.withBadge,l=(0,b.Z)(),c=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return oH(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oH(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=c[0],_=c[1],f=function(){n(s.constant),_(!0)},m=function(){n(a.constant),_(!1)};return(0,x.jsx)(u.FX,{direction:"row",id:"role-chooser",legend:l._('Role chooser', '[m10n]role_chooser.legend', 'Hidden legend to describe the radio button group'),legendDisplay:"hidden",children:(0,x.jsxs)(u.kC,{children:[(0,x.jsx)(u.sg,{"flex-grow":!0,span:6,children:(0,x.jsx)(u.iP,{onTap:f,children:(0,x.jsx)(u.xu,{color:"secondary",dangerouslySetInlineStyle:d?{__style:{border:"2px solid #000000"}}:{__style:{border:"none"}},margin:1,minHeight:140,padding:3,rounding:3,children:(0,x.jsx)(u.xu,{"data-test-id":"role-button-REGULAR-ROLE",children:(0,x.jsxs)(u.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,x.jsxs)(u.kC,{alignItems:"start",justifyContent:"start",children:[(0,x.jsxs)(u.__,{htmlFor:"regular-role",children:[(0,x.jsxs)(u.xu,{alignItems:"center",display:"flex",paddingX:2,children:[(0,x.jsx)(u.xv,{size:"400",weight:"bold",children:s.title}),i&&(0,x.jsx)(u.xu,{paddingX:2,children:(0,x.jsx)(u.Ct,{text:l._('Recommended', '[m10n]bizAccess.roleChooser.recommended', 'Recommended badge'),type:"recommendation"})})]}),(0,x.jsx)(u.xu,{padding:2,children:(0,x.jsx)(u.xv,{color:"dark",children:s.description})})]}),(0,x.jsx)(u.FX.RadioButton,{checked:r===s.constant,id:"regular-role",onChange:f,size:"md",value:"regular-role"})]}),s.meta&&(0,x.jsx)(u.xu,{children:s.meta})]})})})})}),(0,x.jsx)(u.sg,{span:6,children:(0,x.jsx)(u.iP,{onTap:m,children:(0,x.jsx)(u.xu,{color:"secondary",dangerouslySetInlineStyle:d?{__style:{border:"none"}}:{__style:{border:"2px solid #000000"}},height:130,margin:1,minHeight:140,overflow:"scroll",padding:3,rounding:3,children:(0,x.jsx)(u.xu,{"data-test-id":"role-button-ADMIN-ROLE",children:(0,x.jsxs)(u.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,x.jsxs)(u.kC,{alignItems:"start",justifyContent:"start",children:[(0,x.jsxs)(u.__,{htmlFor:"admin-role",children:[(0,x.jsx)(u.xu,{paddingX:2,children:(0,x.jsx)(u.xv,{size:"400",weight:"bold",children:a.title})}),(0,x.jsx)(u.xu,{padding:2,children:(0,x.jsx)(u.xv,{color:"dark",children:a.description})})]}),(0,x.jsx)(u.FX.RadioButton,{checked:r===a.constant,id:"admin-role",onChange:m,size:"md",value:"admin-role"})]}),a.meta&&(0,x.jsx)(u.xu,{children:a.meta})]})})})})})]})})},oG=n(2877),oF=n(739283);function oY(e){return(oY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oV(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function oq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oQ(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oQ(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oW=function(e){var t,n=e.setSheetTitle,r=e.setSheetSubTitle,s=e.setCurrentSheet,a=e.setOnNextSheet,i=(0,b.Z)(),l=(0,eo.KJ)(!0),d=(0,oR.TH)(),_=(0,ok.u)().logContextEvent,f=oq((0,o.useState)("EMPLOYEE"),2),p=f[0],v=f[1],A=oq((0,o.useState)(!1),2),g=A[0],S=A[1],E=(0,o.useRef)(g);E.current=g;var P=oq((0,o.useState)([]),2),I=P[0],T=P[1],C=oq((0,o.useState)(),2),O=C[0],j=C[1],z=oq((0,o.useState)(),2),w=z[0],N=z[1],R=oq((0,o.useState)({}),2),D=R[0],k=R[1],L=(0,h.ZP)(),U=(0,o.useRef)(L),B=oq((0,o.useState)(!0),2),M=B[0],H=B[1],Z=oq((0,o.useState)(500),2),G=Z[0],F=Z[1],Y=(0,c.I0)(),V=(0,c.v9)(en.Bk),q=oq((0,oD.Z)(oG.R,!1,{}),4),Q=q[0],W=q[2],X=q[3];(0,o.useEffect)(function(){(0,oL.Z)(l)||W||Q||X({id:l,is_member:!0,filters:{invite_status:["PENDING"]}})},[l,W,X,Q]),(0,o.useEffect)(function(){F(500-(V+(null==Q?void 0:Q.data.total_data_count)))},[Q,V]),(0,o.useEffect)(function(){U.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"select-people-for-employees-sheet"})},[U]),(0,o.useEffect)(function(){w&&I.length<=G&&(N(void 0),j(void 0),H(!0))},[I,G,w]);var K={constant:"BIZ_ADMIN",title:i._('Manager', '[m10n]bizAccess.choose.adminRole', 'admin role'),description:i._('Managers can add and delete employees and partners, create ad accounts, assign and revoke permissions for employees and partners and enforce two-factor authentication', '[m10n]bizAccess.addPeople.managerRole.2faDescription', 'description of manager role')},$={constant:"EMPLOYEE",title:i._('Employee', '[m10n]bizAccess.choose.employeeRole', 'employee role'),description:i._('Employees can work on assigned ad accounts and profiles', '[m10n]bizAccess.addPeople.employeeRole.description', 'description of employee role')},J=i._('Add new employees', '[m10n]bizAccess.employeeInvite.sheet.header', 'Header for adding a new employee'),ee=i._('Step 1 of 4', '[m10n]bizAccess.SelectPeopleForEmployeesSheet.steps.first', 'Label to identify the current step, first, on new Add Employee flow.'),et=(0,o.useCallback)((t=regeneratorRuntime.mark(function e(){var t,n,r,o,a,c,f,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!E.current){e.next=2;break}return e.abrupt("return");case 2:return S(!0),e.prev=3,e.next=6,(0,sC.p_)(I,p,l,!0);case 6:Y({type:"SET_RELATIONSHIP_INVITES",invites:{businessRole:p,businesses:I}}),L({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"select-people-for-employees-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button"}),s("SELECT_ASSET_OWNERS_SHEET"),e.next=32;break;case 11:e.prev=11,e.t0=e.catch(3),H(!1),r=function(e){return e instanceof Error&&"api_error_code"in e&&"code"in e&&"error"in e},o=function(e){if(e&&"object"===oY(e)&&null!==e){if("api_error_code"in e&&e.api_error_code)return Number(e.api_error_code);if("code"in e&&e.code)return Number(e.code)}}(e.t0),e.t1=o,e.next=6===e.t1||2939===e.t1||2940===e.t1||2941===e.t1?20:2769===e.t1?23:2935===e.t1?28:30;break;case 20:return j(n=(0,rx.ZB)(i,r(e.t0)?e.t0:void 0)),e.abrupt("break",31);case 23:return a=(0,x.jsx)(u.xv,{inline:!0,weight:"bold",children:(0,y.nk)(i.ngettext('You can only invite {{ numberOfInvites }} employee', 'You can only invite {{ numberOfInvites }} employees', G, '[m10n]bizAccess.addEmployees.businessRelationshipCountExceeded.boldedSentence', 'Bolded sentence informing user of invites left to use. numberOfInvites: number of invites left to use.'),{numberOfInvites:G})},"1"),N((0,x.jsx)(u.xv,{size:"300",children:(0,y.nk)(i._('{{ maxInviteCount }} because you\u2019ve reached a limit of {{ limit }} total active and pending employees. To invite more, remove existing employees or delete pending invites.', '[m10n]bizAccess.addEmployees.businessRelationshipCountExceeded.limit', 'Error message shown when the user tries to invite more than the max number of employees to a business. maxInviteCount: the sentence with maximum invites left, limit: the maximum amount of allowed business members.'),{maxInviteCount:a,limit:500})},"0")),j((0,rx.ZB)(i,r(e.t0)?e.t0:void 0)),e.abrupt("break",31);case 28:return k(r(e.t0)?null==(t=e.t0.extraData)?void 0:t.objects:void 0),e.abrupt("break",31);case 30:j(i._('Sorry, something went wrong on our end. Please try again.', '[m10n]bizAccess.sendInvite.undknowError', 'Error message shown below the Business ID field when an unexpected error occurs'));case 31:(0,oU.dK)(d)?L({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"select-people-for-employees-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(c=(0,sv.Z)(e.t0,"stack"))?void 0:c.slice(0,4096))||(0,sv.Z)(e.t0,"message")||""}):_({event_type:8966,component:15153,aux_data:{business_id:l,error_class:r(e.t0)?null==(f=e.t0.status)?void 0:f.slice(0,64):void 0,error_message:n?n.slice(0,4096):JSON.stringify(r(e.t0)&&(null==(m=e.t0.error)?void 0:m.objects)||null).slice(0,4096)}});case 32:return e.prev=32,S(!1),e.finish(32);case 35:case"end":return e.stop()}},e,null,[[3,11,32,35]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){oV(o,r,s,a,i,"next",e)}function i(e){oV(o,r,s,a,i,"throw",e)}a(void 0)})}),[I,p,G,E]);return((0,o.useEffect)(function(){n(J),r(ee),a({onNext:et,disabled:0===I.length||!!O||!M||g})},[n,r,J,a,I.length,O,M,et,ee,g]),g)?(0,x.jsx)(u.xu,{"data-test-id":"select-people-for-employees-sheet-loading-content",children:(0,x.jsx)(u.kC,{alignItems:"center",justifyContent:"center",children:(0,x.jsx)(u.xH,{accessibilityLabel:(0,m.hC)(i),delay:!1,show:!0,size:"lg"})})}):(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(oB.Z,{display:"block",marginBottom:6}),(0,x.jsx)(u.xu,{marginBottom:6,children:(0,x.jsx)(u.xv,{children:i._('Adding employees allows people that work for your business to work on ad accounts and profiles for your business and partner businesses', '[m10n]bizAccess.addEmployees.employeeDetails.description', 'Description of the modal used to add employees to a business account')})}),(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xu,{paddingY:1,children:(0,x.jsxs)(u.kC,{gap:2,children:[(0,x.jsx)(u.JO,{accessibilityLabel:"Employee details section icon",color:"dark",icon:"people",size:20}),(0,x.jsx)(u.xv,{size:"400",weight:"bold",children:i._('Employee details', '[m10n]bizAccess.employeesPage.addEmployees.addEmployees.subTitle', 'Subtitle for adding employee instructions')})]})}),(0,x.jsx)(u.xu,{paddingY:4,children:(0,x.jsx)(u.kC,{gap:2,children:(0,x.jsx)(u.xv,{size:"300",weight:"bold",children:i._('Select employees to invite', '[m10n]bizAccess.employeesPage.addEmployees.addEmployees.instructions', 'Instructions for adding employees that share the same role and asset permissions')})})})]}),(0,x.jsx)(u.xu,{marginBottom:4,children:(0,x.jsx)(u.xu,{"data-test-id":"add-people-users-input",children:(0,x.jsx)(oM.Z,{errorMap:D,errorMessage:O,helperText:i._('Add up to 20 employees at a time. Only add employees that all share the same role and asset permissions. You can also skip asset assignment.', '[m10n]bizAccess.employeesPage.addEmployees.addEmployees.helperText', 'Helper text for adding employees that share the same role and asset permissions'),messageToDisplay:w,peopleIdentifiers:I,setPeopleIdentifiers:function(e){T(e),(0,oF.Z)(_,{event_type:8964,component:13632,aux_data:{business_id:l,field_name:"user-identifiers"}})},setResolvedErrors:H,useRedStyle:!0})})}),(0,x.jsx)(u.xu,{marginBottom:1,children:(0,x.jsx)(u.X6,{size:"400",children:i._('Choose a role', '[m10n]bizAccess.employeesPage.addEmployees.selectBizRole.title', 'Wizard-ish workflow title to prompt to choose a business role for the employees being added to the business')})}),(0,x.jsx)(u.xu,{marginBottom:4,children:(0,x.jsx)(oZ,{adminRoleEntry:K,currentRole:p,onChange:function(e){v(e),(0,oF.Z)(_,{event_type:8964,component:15153,aux_data:{business_id:l,field_name:"role"}})},regularRoleEntry:$,withBadge:!0})})]})};function oX(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function oK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o$(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o$(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oJ=function(e){var t,n=e.setSheetTitle,r=e.setSheetSubTitle,s=e.setCurrentSheet,a=e.setOnNextSheet,i=(0,b.Z)(),l=(0,eo.KJ)(!0),d=(0,ok.u)().logContextEvent,_=oK((0,o.useState)("EMPLOYEE"),2),f=_[0],p=_[1],v=oK((0,o.useState)(!1),2),A=v[0],g=v[1],S=(0,o.useRef)(A);S.current=A;var E=oK((0,o.useState)(""),2),P=E[0],I=E[1],T=oK((0,o.useState)(),2),C=T[0],O=T[1],j=(0,h.ZP)(),z=(0,o.useRef)(j),w=oK((0,o.useState)(!0),2),N=w[0],R=w[1],D=(0,c.I0)();(0,o.useEffect)(function(){z.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"select-people-for-employees-sheet"})},[z]);var k={constant:"BIZ_ADMIN",title:i._('System user manager', '[m10n]bizAccess.addSystemUsers.choose.adminRole', 'admin role'),description:i._('System user managers can add and delete employees and partners, create ad accounts, assign and revoke permissions for employees and partners and enforce two-factor authentication', '[m10n]bizAccess.addSystemUsers.managerRole.2faDescription', 'description of system user manager role')},L={constant:"EMPLOYEE",title:i._('System user employees', '[m10n]bizAccess.choose.employeeRole', 'employee role'),description:i._('System user employees can work on assigned ad accounts and profiles', '[m10n]bizAccess.addSystemUsers.employeeRole.description', 'description of system user employee role')},U=i._('Add new system users', '[m10n]bizAccess.systemUserInvite.sheet.header', 'Header for adding new system users'),B=i._('Step 1 of 5', '[m10n]bizAccess.SelectPeopleForSystemUsersSheet.steps.first', 'Label to identify the current step, first, on new add system users flow.'),M=(0,o.useCallback)((t=regeneratorRuntime.mark(function e(){var t,n,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!S.current){e.next=2;break}return e.abrupt("return");case 2:g(!0),e.prev=3,D({type:"SET_SYSTEM_USER_DATA",systemUserData:{systemUserName:P,businessId:l,businessRole:f}}),j({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"select-people-for-system-users-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button"}),s("SELECT_APPS_SHEET"),e.next=21;break;case 9:e.prev=9,e.t0=e.catch(3),o=function(e){return e instanceof Error&&"api_error_code"in e&&"code"in e&&"error"in e&&"extraData"in e&&"status"in e},R(!1),e.t1=o(e.t0)?null!=(t=e.t0.api_error_code)?t:e.t0.code:void 0,e.next=6===e.t1||2939===e.t1||2940===e.t1||2941===e.t1?16:19;break;case 16:return O(a=(0,rx.ZB)(i,o(e.t0)?e.t0:void 0)),e.abrupt("break",20);case 19:O(i._('Sorry, something went wrong on our end. Please try again.', '[m10n]bizAccess.sendInvite.unknownError', 'Error message shown below the Business ID field when an unexpected error occurs'));case 20:d({event_type:8966,component:15316,aux_data:{business_id:l,error_class:o(e.t0)?null==(n=e.t0.status)?void 0:n.slice(0,64):void 0,error_message:a?a.slice(0,4096):JSON.stringify(o(e.t0)&&(null==(r=e.t0.error)?void 0:r.objects)||null).slice(0,4096)}});case 21:return e.prev=21,g(!1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[3,9,21,24]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){oX(o,r,s,a,i,"next",e)}function i(e){oX(o,r,s,a,i,"throw",e)}a(void 0)})}),[P,f,S]);return((0,o.useEffect)(function(){n(U),r(B),a({onNext:M,disabled:0===P.length||!!C||!N||A})},[n,r,U,a,P.length,C,N,M,B,A]),A)?(0,x.jsx)(u.xu,{"data-test-id":"select-people-for-employees-sheet-loading-content",children:(0,x.jsx)(u.kC,{alignItems:"center",justifyContent:"center",children:(0,x.jsx)(u.xH,{accessibilityLabel:(0,m.hC)(i),delay:!1,show:!0,size:"lg"})})}):(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(oB.Z,{display:"block",marginBottom:6}),(0,x.jsx)(u.xu,{marginBottom:6,children:(0,x.jsx)(u.xv,{children:i._('System user details can be edited anytime.', '[m10n]bizAccess.addSystemUsers.description', 'Description of the side sheet used to add system users to a business account')})}),(0,x.jsx)(u.xu,{marginBottom:6,children:(0,x.jsx)(u.xv,{children:i._('The ability to delete system users is not yet available. In the meantime, please contact your account manager.', '[m10n]bizAccess.addSystemUsers.secondaryDescription', 'Secondary description of the side sheet used to add system users to a business account')})}),(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xu,{paddingY:1,children:(0,x.jsxs)(u.kC,{gap:2,children:[(0,x.jsx)(u.JO,{accessibilityLabel:"System user employee details section icon",color:"dark",icon:"people",size:20}),(0,x.jsx)(u.xv,{size:"400",weight:"bold",children:i._('System user name', '[m10n]bizAccess.employeesPage.addSystemUsers.addEmployees.subTitle', 'Subtitle for adding system users instructions')})]})})}),(0,x.jsx)(u.xu,{marginBottom:4,children:(0,x.jsx)(u.xu,{"data-test-id":"add-people-system-users-input",marginTop:2,children:(0,x.jsx)(u.nv,{id:"systemName",label:i._('System user name', '[m10n]bizAccess.employeesPage.addSystemUsers.addEmployees.instructions', 'Instructions for adding system users that share the same role and asset permissions'),maxLength:{characterCount:50,errorAccessibilityLabel:(0,y.nk)(i._('System user name should be less than {{systemUserLength}} characters', '[m10n]bizAccess.addSystemUsers.name.maxLength.error', 'Error message to show users when name is too long. systemUserLength: number of characters allowed.'),{systemUserLength:50}).join("")},onChange:function(e){return I(e.value)},placeholder:i._('System user name', '[m10n]bizAccess.employeesPage.addSystemUsers.addEmployees.placeholder', 'Placeholder for system user name input field'),value:P})})}),(0,x.jsx)(u.xu,{marginBottom:1,children:(0,x.jsx)(u.X6,{size:"400",children:i._('Choose a role', '[m10n]bizAccess.employeesPage.addSystemUsers.selectBizRole.title', 'Wizard-ish workflow title to prompt to choose a business role for the system users being added to the business')})}),(0,x.jsx)(u.xu,{marginBottom:4,children:(0,x.jsx)(oZ,{adminRoleEntry:k,currentRole:f,onChange:function(e){p(e),(0,oF.Z)(d,{event_type:8964,component:15316,aux_data:{business_id:l,field_name:"role"}})},regularRoleEntry:L,withBadge:!0})})]})},o0=n(681698);function o1(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var o2=(r=regeneratorRuntime.mark(function e(t,n,r){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o0.Z)({url:"/ads/v4/business_access/businesses/".concat(t,"/system_users/").concat(n,"/"),method:"PATCH",data:{name:r}});case 2:return s=e.sent,e.abrupt("return",s.resource_response);case 4:case"end":return e.stop()}},e)}),s=function(){var e=this,t=arguments;return new Promise(function(n,s){var o=r.apply(e,t);function a(e){o1(o,n,s,a,i,"next",e)}function i(e){o1(o,n,s,a,i,"throw",e)}a(void 0)})},function(e,t,n){return s.apply(this,arguments)});function o5(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function o6(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o3(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o3(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o8=function(e){var t,n,r,s,a,i=e.dismissSheet,l=e.selectedEmployee,d=e.setOnNextSheet,_=e.setSheetTitle,m=(0,b.Z)(),y=(0,c.I0)(),v=(0,ok.u)().logContextEvent,g=(0,h.ZP)(),S=(0,o.useRef)(g),E=(0,A.dI)().showToast,P=(0,eo.KJ)(!0),I=o6((0,o.useState)(null==(n=l.business_roles)?void 0:n[0]),2),T=I[0],C=I[1],O=o6((0,o.useState)(!1),2),j=O[0],z=O[1],w=(0,o.useRef)(j);w.current=j;var N=o6((0,o.useState)((null==(r=l.user)?void 0:r.first_name)||""),2),R=N[0],D=N[1],k=R!==(null==(s=l.user)?void 0:s.first_name),L=T!==(null==(a=l.business_roles)?void 0:a[0]);(0,o.useEffect)(function(){S.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"edit-system-user-sheet"})},[S]);var U={constant:"BIZ_ADMIN",title:m._('System user manager', '[m10n]businessAccess.editSystemUser.choose.adminRole', 'admin role'),description:m._('System user managers can add and delete employees and partners, create ad accounts, assign and revoke permissions for employees and partners and enforce two-factor authentication', '[m10n]businessAccess.editSystemUser.managerRole.2faDescription', 'description of system user manager role')},B={constant:"EMPLOYEE",title:m._('System user employees', '[m10n]businessAccess.choose.employeeRole', 'employee role'),description:m._('System user employees can work on assigned ad accounts and profiles', '[m10n]businessAccess.editSystemUser.employeeRole.description', 'description of system user employee role')},M=(0,o.useCallback)((t=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.current){e.next=2;break}return e.abrupt("return");case 2:if(z(!0),e.prev=3,!k){e.next=7;break}return e.next=7,o2(P,l.id||"",R);case 7:if(!L){e.next=10;break}return e.next=10,(0,sC.p6)(T,l.id||"",P);case 10:y((0,sT.ye)({businessId:P})),S.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"edit-system-user-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button"}),E(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,ev.Z)(m._('Successfully edited details for {{name}}. ', '[m10n]businessAccess.systemUserEdit.update.toast', 'message confirming that update action was taken. name: name of the system user'),{name:R})})}),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(3),S.current({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_SHEET",componentId:"edit-system-user-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(t=(0,sv.Z)(e.t0,"stack"))?void 0:t.slice(0,4096))||(0,sv.Z)(e.t0,"message")||""}),E(function(t){var n,r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:(0,rx.ZB)(m,(n=e.t0)instanceof Error&&"api_error_code"in n&&"code"in n&&"error"in n?e.t0:void 0),type:"error"})});case 20:return e.prev=20,z(!1),i(),e.finish(20);case 24:case"end":return e.stop()}},e,null,[[3,15,20,24]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){o5(o,r,s,a,i,"next",e)}function i(e){o5(o,r,s,a,i,"throw",e)}a(void 0)})}),[k,L,y,P,E,l.id,R,T,m,i]);return((0,o.useEffect)(function(){_(m._('Edit system user', '[m10n]businessAccess.systemUserEdit.sheet.header', 'Header for editing a system user')),d({onNext:M,buttonText:m._('Save edits', '[m10n]businessAccess.editSystemUser.saveButton', 'Save button label for the system user edit sheet'),disabled:!k&&!L})},[k,L,m,M,d,_]),j)?(0,x.jsx)(rp.Z,{}):(0,x.jsxs)(u.kC,{direction:"column",gap:6,children:[(0,x.jsx)(u.xv,{children:m._('System user details can be edited anytime.', '[m10n]businessAccess.editSystemUser.employeeDetails.description.line1', 'Description of the side sheet used to edit system users to a business account')}),(0,x.jsx)(u.xv,{children:m._('The ability to delete system users is not yet available. In the meantime, please contact your account manager.', '[m10n]businessAccess.editSystemUser.employeeDetails.description.line2', 'Description of the side sheet used to edit system users to a business account')}),(0,x.jsxs)(u.kC,{direction:"column",gap:3,children:[(0,x.jsx)(u.xv,{size:"400",weight:"bold",children:m._('System user details', '[m10n]businessAccess.editSystemUser.subTitle', 'Subtitle for editing system user instructions')}),(0,x.jsx)(u.nv,{id:"edit-system-user-first-name-input",label:m._('System user name', '[m10n]businessAccess.editSystemUser.input.label', 'Label for the system user name input field'),onChange:function(e){D(e.value),(0,oF.Z)(v,{event_type:8964,component:15316,aux_data:{business_id:P,field_name:"firstName"}})},value:R})]}),(0,x.jsxs)(u.kC,{direction:"column",gap:3,children:[(0,x.jsx)(u.xv,{size:"400",weight:"bold",children:m._('Choose a role', '[m10n]businessAccess.editSystemUser.editSystemUser.selectBizRole.title', 'Wizard-ish workflow title to prompt to choose a business role for the system users being added to the business')}),(0,x.jsx)(oZ,{adminRoleEntry:U,currentRole:T,onChange:function(e){C(e),(0,oF.Z)(v,{event_type:8964,component:15316,aux_data:{business_id:P,field_name:"role"}})},regularRoleEntry:B,withBadge:!0})]})]})};function o4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o7(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o7(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o9={ASSIGN_ASSETS:"SELECT_ASSET_OWNERS_SHEET",ADD_SYSTEM_USER:"SELECT_PEOPLE_FOR_SYSTEM_USER_SHEET",EDIT_SYSTEM_USER:"EDIT_SYSTEM_USER_SHEET",UPDATE_SYSTEM_USER_ASSETS:"SELECT_ASSET_OWNERS_SHEET"},ae=function(e){var t=e.selectedEmployee,n=e.type,r=void 0===n?"ADD_EMPLOYEE":n,s=e.hideSheet,a=e.onSave,i=(0,c.I0)(),l=(0,h.ZP)(),d=(0,o.useRef)(l),_=o9[r]||"SELECT_PEOPLE_FOR_EMPLOYEE_SHEET",f=o4((0,o.useState)(_),2),m=f[0],p=f[1],b=o4((0,o.useState)(" "),2),y=b[0],v=b[1],A=o4((0,o.useState)(" "),2),g=A[0],S=A[1],E=o4((0,o.useState)({onNext:function(){},disabled:!1}),2),P=E[0],I=E[1],T=o4((0,o.useState)(),2),C=T[0],O=T[1],j=o4((0,o.useState)(),2),z=j[0],N=j[1];return(0,o.useEffect)(function(){C&&!["SELECT_ASSETS_SHEET","RELATIONSHIP_ASSET_SUMMARY_SHEET","EDIT_SYSTEM_USER_SHEET"].includes(m)&&O(void 0),z&&!["SELECT_ASSET_OWNERS_SHEET","SELECT_ASSETS_SHEET","EDIT_SYSTEM_USER_SHEET"].includes(m)&&N(void 0)},[C,z,m,O,N]),(0,o.useEffect)(function(){d.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"add-employee-flow-sheet"})},[d]),(0,x.jsx)(u.xu,{children:(0,x.jsxs)(w.Z,{footer:(0,x.jsx)(u.xu,{"data-test-id":"add-employee-flow-sheet-footer",children:(0,x.jsx)(rT,{backButton:C,cancelButton:{onCancel:function(){i(tj()),s(),l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"add-employee-flow-sheet-"+m,element:"BUSINESS_ACCESS_BUTTON",elementId:"cancel-button"})}},nextButton:P,skipAssetAssignmentButton:z})}),hideSheet:function(){i(tj()),s()},size:"lg",subTitle:g,subTitleStyles:{marginTop:-7},title:y,children:["SELECT_PEOPLE_FOR_EMPLOYEE_SHEET"===m&&(0,x.jsx)(oW,{setCurrentSheet:p,setOnNextSheet:I,setSheetSubTitle:S,setSheetTitle:v}),"SELECT_PEOPLE_FOR_SYSTEM_USER_SHEET"===m&&(0,x.jsx)(oJ,{setCurrentSheet:p,setOnNextSheet:I,setSheetSubTitle:S,setSheetTitle:v}),"EDIT_SYSTEM_USER_SHEET"===m&&(0,x.jsx)(o8,{dismissSheet:s,selectedEmployee:t,setOnNextSheet:I,setSheetTitle:v}),"SELECT_APPS_SHEET"===m&&(0,x.jsx)(sQ,{setCurrentSheet:p,setOnNextSheet:I,setSheetSubTitle:S,setSheetTitle:v}),"SELECT_ASSET_OWNERS_SHEET"===m&&(0,x.jsx)(s5,{selectedEmployee:t,setCurrentSheet:p,setOnNextSheet:I,setSheetSubTitle:S,setSheetTitle:v,setSkipAssetAssignmentButton:N,type:r}),"SELECT_ASSETS_SHEET"===m&&(0,x.jsx)(oN,{selectedEmployee:t,setBackButton:O,setCurrentSheet:p,setOnNextSheet:I,setSheetSubTitle:S,setSheetTitle:v,setSkipAssetAssignmentButton:N,type:r}),"RELATIONSHIP_ASSET_SUMMARY_SHEET"===m&&(0,x.jsx)(sk,{dismissSheet:s,onSave:a,selectedEmployee:t,setBackButton:O,setCurrentSheet:p,setOnNextSheet:I,setSheetSubTitle:S,setSheetTitle:v,type:r})]})})},at=n(247387),an=function(){var e=(0,b.Z)();return(0,x.jsx)(u.kC,{direction:"column",gap:{row:0,column:8},children:[{title:e._('What is Business Manager?', '[m10n]bizAccess.guide.gettingStarted.section1.title', 'What is Business Manager, title'),description:e._('Securely manage the people and partners who work on your Pinterest account\u2014all from a single place.', '[m10n]bizAccess.guide.gettingStarted.section1.description', 'Description of Business Manager'),subSections:[{title:e._('Efficiency', '[m10n]bizAccess.guide.gettingStarted.section2.savetime', 'First benefit, save time'),description:e._('Access multiple ad accounts from a single login', '[m10n]bizAccess.guide.gettingStarted.section2.savetime.description', 'First benefit, save time, description')},{title:e._('Security', '[m10n]bizAccess.guide.gettingStarted.section2.improveSecurity', 'Second benefit, Improve security'),description:e._('Easily view and edit who is a part of your business and what permissions they have', '[m10n]bizAccess.guide.gettingStarted.section2.improveSecurity.description', 'Second benefit, Improve security, description')},{title:e._('Collaboration', '[m10n]bizAccess.guide.gettingStarted.section2.increaseCollaboration', 'Third benefit, Increase collaboration'),description:e._('Invite employees and partners to access an ad account, or send a quick request to get access to an ad account', '[m10n]bizAccess.guide.gettingStarted.section2.increaseCollaboration.description', 'Third benefit, Increase collaboration, description')}]},{title:e._('Getting started', '[m10n]bizAccess.guide.gettingStarted.section3.title', 'Title for section Who can use Business Manager?'),description:e._('Navigate to Business Manager to begin managing roles and permissions for your employees and partners. ', '[m10n]bizAccess.guide.gettingStarted.section3.title', 'Title for section Who can use Business Manager'),subSections:[{title:e._('Employees', '[m10n]bizAccess.guide.gettingStarted.section3.agencies', 'First user, Agencies'),description:e._('Add employees to your business and grant them permissions to work on specific ad accounts. You should only add individual people who work for your business, not external partners to the Employee section of Business Access. ', '[m10n]bizAccess.guide.gettingStarted.section3.agencies.description', 'First user, Agencies, description')},{title:e._('Partners', '[m10n]bizAccess.guide.gettingStarted.section3.brands', 'Second user, Brands'),description:e._('Partners are external businesses, such as agencies or clients, with whom you work. You can create a relationship between your and your partner\u2019s business accounts by adding them as a partner.', '[m10n]bizAccess.guide.gettingStarted.section3.brands.description', 'Second user, Brands, description')}]},{title:e._('Assigning permission ', '[m10n]bizAccess.guide.gettingStarted.section3.title', 'Title for section Who can use Business Manager?'),description:e._('Assigning ad account permissions.', '[m10n]bizAccess.guide.gettingStarted.section3.title', 'Title for section Who can use Business Manager?'),subSections:[{title:"",description:e._('After you\u2019ve added employees or external partners to your Business Manager, you can assign them permission to access your ad accounts.', '[m10n]bizAccess.guide.gettingStarted.section3.anyCompany.description', 'Third user, Any company, description')},{title:"",description:e._('Permissions (Admin, Analyst, Audience, Finance, Campaign, Catalog) determine the ability to manage that specific ad account.', '[m10n]bizAccess.guide.gettingStarted.section3.anyCompany.description', 'Third user, Any company, description')},{title:"",description:e._('Each employee or external partner can have more than one permission level assigned to them for a single ad account (except for Admin). For example, if an employee manages billing and also views reporting, but shouldn\u2019t create ads, you can grant them Finance and Analyst access.', '[m10n]bizAccess.guide.gettingStarted.section3.anyCompany.description', 'Third user, Any company, description')}]}].map(function(e,t){return(0,x.jsxs)(u.kC,{direction:"column",gap:{row:0,column:6},children:[(0,x.jsx)(u.X6,{size:"400",children:e.title}),e.description?(0,x.jsx)(u.xv,{children:e.description}):null,e.subSections?e.subSections.map(function(e,n){var r=e.title,s=e.description;return(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xv,{weight:"bold",children:r}),(0,x.jsx)(u.xv,{children:s})]},"getting-started-".concat(t,"-").concat(n))}):null]},"getting-started-".concat(e.title,"-").concat(t))})})},ar=function(e){var t=e.navigateToPage,n=e.hideSheet,r=(0,b.Z)(),s=(0,eo.HU)().setOnboardingModal,a=r._('link', '[m10n]bizAccess.guide.sheet.helper.accessibility.link', 'Link');return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsxs)(u.kC,{direction:"column",gap:{row:0,column:2},children:[(0,x.jsx)(u.iP,{onTap:function(){t("GETTING_STARTED")},children:(0,x.jsxs)(u.xu,{alignItems:"center",borderStyle:"shadow",direction:"row",display:"flex",padding:6,rounding:2,children:[(0,x.jsx)(u.xu,{color:"education",marginEnd:1,padding:2,rounding:"circle",children:(0,x.jsx)(u.JO,{accessibilityLabel:"Star",color:"inverse",icon:"star"})}),(0,x.jsx)(u.xu,{paddingX:2,children:(0,x.jsxs)(u.kC,{direction:"column",gap:{row:0,column:1},children:[(0,x.jsx)(u.xv,{size:"300",weight:"bold",children:r._('Getting started', '[m10n]bizAccess.guide.sheet.gettingStarted.headline', 'Headline for the getting started box')}),(0,x.jsx)(u.xv,{size:"200",children:r._('What is Business Manager?', '[m10n]bizAccess.guide.sheet.gettingStarted.subheader', 'Subheader for the getting started box')})]})})]})}),(0,x.jsx)(u.iP,{onTap:function(){s({onComplete:function(){},onDismiss:function(){}}),n()},children:(0,x.jsxs)(u.xu,{alignItems:"center",borderStyle:"shadow",direction:"row",display:"flex",padding:6,rounding:2,children:[(0,x.jsx)(u.xu,{color:"selected",marginEnd:1,padding:2,rounding:"circle",children:(0,x.jsx)(u.JO,{accessibilityLabel:"Play",color:"inverse",icon:"play"})}),(0,x.jsx)(u.xu,{paddingX:2,children:(0,x.jsxs)(u.kC,{direction:"column",gap:{row:0,column:1},children:[(0,x.jsx)(u.xv,{size:"300",weight:"bold",children:r._('Take the tour', '[m10n]bizAccess.guide.sheet.tour.headline', 'Headline for the take a tour on business access')}),(0,x.jsx)(u.xv,{size:"200",children:r._('Explore key features', '[m10n]bizAccess.guide.sheet.tour.subheader', 'Subheader for the take a tour on business access')})]})})]})})]}),(0,x.jsxs)(u.kC,{direction:"column",gap:{row:0,column:2},children:[(0,x.jsx)(u.xu,{marginTop:6,children:(0,x.jsx)(u.X6,{size:"400",children:r._('Common help center topics', '[m10n]bizAccess.guide.sheet.tour.subheader', 'Subheader for the take a tour on business access')})}),(0,x.jsxs)(u.xu,{marginTop:4,children:[(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:r._('Team', '[m10n]bizAccess.guide.sheet.tour.subheader', 'Subheader for the take a tour on business access')}),[{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17351",label:r._('Add employees', '[m10n]bizAccess.guide.sheet.helper.team.links.addEmployee', 'Link to help site, explaining Add employees'),accessibilityLabel:"".concat(r._('Add employees', '[m10n]bizAccess.guide.sheet.helper.team.links.addEmployee', 'Link to help site, explaining Add employees'),", ").concat(a," ")},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17366",label:r._('Assign ad account permissions to employees', '[m10n]bizAccess.guide.sheet.helper.team.links.permissions', 'Link to help site, explaining How to assign permissions employees'),accessibilityLabel:"".concat(r._('Assign ad account permissions to employees', '[m10n]bizAccess.guide.sheet.helper.team.links.permissions', 'Link to help site, explaining How to assign permissions employees'),", ").concat(a)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17381",label:r._('View and edit employees\' ad account permissions', '[m10n]bizAccess.guide.sheet.helper.team.links.editPermissions', 'Link to help site, explaning how to view and edit ad accounts'),accessibilityLabel:"".concat(r._('View and edit employees\' ad account permissions', '[m10n]bizAccess.guide.sheet.helper.team.links.editPermissions', 'Link to help site, explaning how to view and edit ad accounts'),", ").concat(a)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17396",label:r._('Manage employees\' roles', '[m10n]bizAccess.guide.sheet.helper.team.links.manageRoles', 'Link to help site, explaning how to manage employees roles'),accessibilityLabel:"".concat(r._('Manage employees\' roles', '[m10n]bizAccess.guide.sheet.helper.team.links.manageRoles', 'Link to help site, explaning how to manage employees roles'),", ").concat(a)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17411",label:r._('Remove employees', '[m10n]bizAccess.guide.sheet.helper.team.links.removeEmployees', 'Link to help site, explaning how to remove and employee'),accessibilityLabel:"".concat(r._('Remove employees', '[m10n]bizAccess.guide.sheet.helper.team.links.removeEmployees', 'Link to help site, explaning how to remove and employee'),",  ").concat(a)}].map(function(e,t){var n=e.link,r=e.label,s=e.accessibilityLabel;return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(u.Tg,{accessibilityLabel:s,href:n,target:"blank",children:(0,x.jsxs)(u.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,x.jsx)(u.xv,{size:"300",weight:"bold",children:r}),(0,x.jsx)(u.xu,{marginEnd:1,padding:2,children:(0,x.jsx)(u.JO,{accessibilityLabel:"Play",color:"default",icon:"arrow-up-right"})})]})}),(0,x.jsx)(u.iz,{})]},"helper-team-".concat(r,"-").concat(t))})]}),(0,x.jsxs)(u.xu,{marginTop:4,children:[(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:r._('Partner', '[m10n]bizAccess.guide.sheet.tour.subheader', 'Subheader for the take a tour on business access')}),[{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17431",label:r._('Add partners', '[m10n]bizAccess.guide.sheet.helper.partners.links.addPartner', 'Link to help site, explaning how to Add partners'),accessibilityLabel:"".concat(r._('Add partners', '[m10n]bizAccess.guide.sheet.helper.partners.links.addPartner', 'Link to help site, explaning how to Add partners'),",  ").concat(a)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17446",label:r._('Request to be a partner', '[m10n]bizAccess.guide.sheet.helper.partners.links.requestPartnership', 'Link to help site, explaning how to Request to be a partner'),accessibilityLabel:"".concat(r._('Request to be a partner', '[m10n]bizAccess.guide.sheet.helper.partners.links.requestPartnership', 'Link to help site, explaning how to Request to be a partner'),",  ").concat(a)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17461",label:r._('Assign ad account permissions to partners', '[m10n]bizAccess.guide.sheet.helper.partners.links.permissions', 'Link to help site, explaning how to assing ad account permissions'),accessibilityLabel:"".concat(r._('Assign ad account permissions to partners', '[m10n]bizAccess.guide.sheet.helper.partners.links.permissions', 'Link to help site, explaning how to assing ad account permissions'),",  ").concat(a)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17476",label:r._('Request access to ad accounts', '[m10n]bizAccess.guide.sheet.helper.partners.links.access', 'Link to help site, explaning how to request access to ad accounts'),accessibilityLabel:"".concat(r._('Request access to ad accounts', '[m10n]bizAccess.guide.sheet.helper.partners.links.access', 'Link to help site, explaning how to request access to ad accounts'),",  ").concat(a)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17491",label:r._('View and edit partners\' ad account permissions', '[m10n]bizAccess.guide.sheet.helper.partners.links.editPermissions', 'Link to help site, explaning how to view and edit ad account permissions'),accessibilityLabel:"".concat(r._('View and edit partners\' ad account permissions', '[m10n]bizAccess.guide.sheet.helper.partners.links.editPermissions', 'Link to help site, explaning how to view and edit ad account permissions'),",  ").concat(a)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17506",label:r._('Remove partners', '[m10n]bizAccess.guide.sheet.helper.partners.links.removePartner', 'Link to help site, explaning how to remove partners'),accessibilityLabel:"".concat(r._('Remove partners', '[m10n]bizAccess.guide.sheet.helper.partners.links.removePartner', 'Link to help site, explaning how to remove partners'),",  ").concat(a)}].map(function(e,t){var n=e.link,r=e.label,s=e.accessibilityLabel;return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(u.Tg,{accessibilityLabel:s,href:n,target:"blank",children:(0,x.jsxs)(u.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,x.jsx)(u.xv,{size:"300",weight:"bold",children:r}),(0,x.jsx)(u.xu,{marginEnd:1,padding:2,children:(0,x.jsx)(u.JO,{accessibilityLabel:"Play",color:"default",icon:"arrow-up-right"})})]})}),(0,x.jsx)(u.iz,{})]},"helper-partner-".concat(r,"-index-").concat(t))})]})]})]})};function as(e){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=as(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=as(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==as(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var al=function(e,t){return ai(ai({},e),{},{activePage:t,prevPage:t!==e.initialPage?e.activePage:null})},ac=function(e){var t,n=e.hideSheet,r=e.page,s=void 0===r?"HOME":r,a=(0,ok.u)().logContextEvent,i=(0,b.Z)(),l=function(e){if(Array.isArray(e))return e}(t=(0,o.useReducer)(al,{initialPage:s,activePage:s,prevPage:null}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ao(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ao(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],d=c.activePage,_=c.prevPage,f=l[1],m=function(e){a({event_type:101,component:8,element:e}),n()};return(0,x.jsxs)(w.Z,{footer:(0,x.jsxs)(u.kC,{direction:"row",justifyContent:"between",children:[null!=_?(0,x.jsx)(u.zx,{color:"transparent",onClick:function(){f(_)},text:i._('Back', '[m10n]bizAccess.guide.sheet.tour.subheader', 'Visit the Help Center button/link')}):(0,x.jsx)(u.xu,{}),(0,x.jsx)(u.ZP,{href:"".concat(at.SrI),onClick:function(){return m(8002)},target:"blank",text:i._('Visit the Help Center', '[m10n]bizAccess.guide.sheet.tour.subheader', 'Visit the Help Center button/link')})]}),hideSheet:n,title:i._('Business Manager Guide', '[m10n]bizAccess.guide.sheet.title', 'Business Manager Guide sheet title'),children:["HOME"===d&&(0,x.jsx)(ar,{hideSheet:n,navigateToPage:function(e){f(e)}}),"GETTING_STARTED"===d&&(0,x.jsx)(an,{})]})},au=n(935059);function ad(e){return(ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a_(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=ad(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ad(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ad(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var am=function(e){var t,n=e.rowData,r=e.customEmptyState,s=(0,(0,v.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,o=(0,b.Z)(),a=(0,eo.KJ)(),i=(null==(t=n[0])?void 0:t.owner.id)===a;return(0,x.jsxs)(u.xu,{marginTop:8,children:[(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xv,{size:"300",weight:"bold",children:o._('Invited permissions', '[m10n]bizAccess.invite.sheet.accesToAdAccountHeader', 'Header for the section of the sheet with assets and access granted')})}),(0,x.jsx)(D.Z,{columnDefs:[eZ(o,{clickable:i}),(0,ew.Z)(o,{field:"permissions",inCatalogManagment:s})],config:af(af({},D.I),{},{borderStyle:"none"}),customEmptyState:r,id:"INVITE_AD_ACCOUNTS_SHEET",isLoading:!1,onRowCountChange:function(){},pageType:f.Q6.AD_ACCOUNTS,rowData:n})]})};function ah(e){return(ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ab(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ap(Object(n),!0).forEach(function(t){ay(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ap(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ay(e,t,n){var r;return(r=function(e,t){if("object"!=ah(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ah(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ah(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var av=function(e){var t=e.rowData,n=(0,b.Z)(),r=(0,o.useMemo)(function(){var e=t.reduce(function(e,t){var n=t.type,r=t.permissions;return"AD_ACCOUNT"===n?ab(ab({},e),{},{roleMappingDisplayAdAccounts:{totalRoles:e.roleMappingDisplayAdAccounts.totalRoles+1,roleMap:r.reduce(function(e,t){return ab(ab({},e),{},ay({},t,(e[t]||0)+1))},e.roleMappingDisplayAdAccounts.roleMap)}}):"CATALOG"===n?ab(ab({},e),{},{roleMappingDisplayCatalogs:{totalRoles:e.roleMappingDisplayCatalogs.totalRoles+1,roleMap:r.reduce(function(e,t){return ab(ab({},e),{},ay({},t,(e[t]||0)+1))},e.roleMappingDisplayCatalogs.roleMap)}}):"PROFILE"===n?ab(ab({},e),{},{roleMappingDisplayProfiles:{totalRoles:e.roleMappingDisplayProfiles.totalRoles+1,roleMap:r.reduce(function(e,t){return ab(ab({},e),{},ay({},t,(e[t]||0)+1))},e.roleMappingDisplayProfiles.roleMap)}}):e},{roleMappingDisplayAdAccounts:{totalRoles:0,roleMap:{}},roleMappingDisplayCatalogs:{totalRoles:0,roleMap:{}},roleMappingDisplayProfiles:{totalRoles:0,roleMap:{}}}),r=e.roleMappingDisplayAdAccounts,s=e.roleMappingDisplayCatalogs,o=e.roleMappingDisplayProfiles;return{adAccountsSummary:r.totalRoles>0?{headerText:n._('Ad accounts', '[m10n]bizAccess.invite.sheet.assetsSummary.adAccounts', 'Title of adAccounts summary box'),totalAssets:r.totalRoles,roleToTotalAssetsMap:r.roleMap}:void 0,catalogsSummary:s.totalRoles>0?{headerText:n._('Catalogs', '[m10n]bizAccess.invite.sheet.assetsSummary.catalogs', 'Title of catalogs summary box'),totalAssets:s.totalRoles,roleToTotalAssetsMap:s.roleMap}:void 0,profilesSummary:o.totalRoles>0?{headerText:n._('Profiles', '[m10n]bizAccess.invite.sheet.assetsSummary.profiles', 'Title of profiles summary box'),totalAssets:o.totalRoles,roleToTotalAssetsMap:o.roleMap}:void 0}},[t,n]),s=r.adAccountsSummary,a=r.catalogsSummary,i=r.profilesSummary;return 0===t.length?null:(0,x.jsx)(u.xu,{marginTop:8,children:(0,x.jsx)(sP,{adAccounts:s,catalogs:a,profiles:i})})},aA=n(196482);function ag(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var aS=function(e){var t,n,r,s,a,l,d,_=e.hideSheet,m=e.id,g=(0,A.dI)().showToast,S=(0,b.Z)(),E=(0,v.Z)().checkExperiment,P=E("web_m10n_business_access_error_handling").anyEnabled,I=E("web_m10n_business_access_employee_redesign").anyEnabled,T=E("web_business_access_finance_manager_role").anyEnabled,C=(0,eo.HU)().businessAccess.isActingUserReseller,O=(0,eI.Z)(),j=(0,c.I0)(),z=function(e){if(Array.isArray(e))return e}(t=(0,eO.Z)("memberInvite",m,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),4!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,4)||function(e,t){if(e){if("string"==typeof e)return ag(e,4);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ag(e,4):void 0}}(t,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),N=z[0],R=z[1],D=z[2],k=z[3],L=(null==N||null==(n=N.user)?void 0:n.username)||(null==N||null==(r=N.user)?void 0:r.email)||"",U=(0,c.v9)(aA.ZP),B=(0,eo.KJ)(),M=(0,au.Z)(),H=U.find(function(e){return e.id===B}),Z=M.isAuth?M.fullName:"",G=(null==H||null==(s=H.user)?void 0:s.full_name)||Z,F=(null==N||null==(a=N.invite_data)?void 0:a.invite_status)==="EXPIRED",Y=(0,h.ZP)("BUSINESS_ACCESS_EMPLOYEES_PENDING"),V=S._('Review your invite', '[m10n]bizA;ccess.invite.sheet.header', 'Header for reviewing an invite you have sent');if(P&&R)throw new i.jX(R,V);if(D||R)return null;var q=e2(null==N?void 0:N.assets),Q=null==N?void 0:N.business_roles[0],W=(0,sW.Z)(S._('You\'ve invited {{name}} as an employee of {{businessName}}.', '[m10n]bizAccess.employeeeSendRequestSheet.employeeInfoText', 'Description text on the employee relationship, businessName: Business that sent the employee invite name: Name of the employee'),{name:L,businessName:G}),X=S._('Employees can only work on assigned ad accounts.', '[m10n]bizAccess.employeeeSendRequestSheet.employeeAdditionalInfoText', 'Additional description text on the employee relationship'),K=(0,sW.Z)(S._('You\'ve invited {{name}} to be an employee of {{businessName}}. Employees can only work on assigned assets.', '[m10n]bizAccess.employeeeSendRequestSheet.employeeInfo.text', 'Description text on the employee relationship, businessName: Business that sent the employee invite name: Name of the employee'),{name:L,businessName:G}),$=(0,sW.Z)(S._('You\'ve invited {{name}} as an employee of {{businessName}} and assigned them the \'Manager\' role.', '[m10n]bizAccess.employeeeSendRequestSheet.managerInfoText', 'Description text on the manager relationship, businessName: Business that sent the employee invite name: Name of the employee'),{name:L,businessName:G}),J=S._('Managers have the ability to add and remove employees and partners from your business, and also create ad accounts.', '[m10n]bizAccess.employeeeSendRequestSheet.managerAdditionalInfoText', 'Additional description text on the manager relationship'),ee="",et="";return"EMPLOYEE"===Q?C?(ee=K,et=""):(ee=W,et=X):"BIZ_ADMIN"===Q&&(ee=$,et=J),(0,x.jsxs)(w.Z,{footer:function(e){var t=e.onDismissStart;return(0,x.jsx)(eA,{closeButton:{onClose:_},deleteButton:{onDelete:function(){j((0,e0.UF)({businessId:B,type:"MEMBER",inviteId:m,onSuccess:function(){t(),I&&j((0,sI.de)({id:m})),Y({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"employee-invite-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"delete-invite"}),g(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(S._('The invite for {{name}} has successfully been deleted', '[m10n]bizAccess.invite.delete.success', 'Toast message for successfully deleting an invite'),{name:L}).join("")})})},onError:function(e){var n=S._('There was an error in deleting the invite. Please try again.', '[m10n]bizAccess.invite.delete.error', 'Error message if deleting an invite fails');t(),g(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e||n,type:"error"})})}}))}},resendButton:{onResend:function(){j((0,e0.c_)({businessId:B,inviteId:m,type:"MEMBER",onSuccess:function(){I&&(k(),j((0,sI.hE)({id:m}))),t(),Y({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"employee-invite-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"resend-invite"}),g(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(S._('New invite sent to {{name}}', '[m10n]bizAccess.invite.resend.success', 'Toast message for successfully resending an invite'),{name:L}).join("")})})},onError:function(e){var n=S._('There was an error in resending the invite. Please try again.', '[m10n]bizAccess.invite.resend.error', 'Error message if resending an invite fails');t(),g(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e||n,type:"error"})})}}))}}})},hideSheet:_,size:T?"lg":void 0,subTitle:(null==N||null==(l=N.invite_data)?void 0:l.sent_at)&&O(new Date(N.invite_data.sent_at).toString()),title:V,children:[(0,x.jsx)(e$,{imageUrl:null==N||null==(d=N.extended_user_info)?void 0:d.image_small_url,title:L}),(0,x.jsx)(u.xu,{marginTop:8,children:F?(0,x.jsx)(u.he,{iconAccessibilityLabel:"Info",message:(0,x.jsxs)(u.xv,{children:["BIZ_ADMIN"===Q&&(0,sW.Z)(S._('Your invite to {{name}} to join {{businessName}} as a \'Manager\' has expired. Once they accept your invite, they will be able to work on the assets listed below.', '[m10n]bizAccess.employeeSendRequestSheet.managerExpiredText', 'Warning text for a sent expired manager request. businessName: Business that sent the employee invite name: Name of the employee'),{name:L,businessName:G}),"EMPLOYEE"===Q&&(0,sW.Z)(S._('Your invite to {{name}} to join {{businessName}} as an employee has expired. Once they accept your invite, they will be able to work on the assets listed below.', '[m10n]bizAccess.employeeSendRequestSheet.employeeExpiredText', 'Warning text for a sent expired employee request. businessName: Business that sent the employee invite name: Name of the employee'),{name:L,businessName:G})]},"invite-review-sheet-banner-msg"),type:"warning"}):(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xv,{children:ee})}),et&&(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xv,{children:et})})]})}),C?(0,x.jsx)(av,{rowData:null!=q?q:[]}):(0,x.jsx)(am,{rowData:null!=q?q:[]})]})},ax=n(774838),aE=n(585812),aP=n(846090),aI=n(656120),aT=n(767415),aC=function(e){var t,n,r=e.hideSheet,s=e.invoiceDetail,a=(0,b.Z)(),i=(0,ax.B)().locale,l=(0,sc.Z)(),c=(0,o.useCallback)(function(e){var t=e.onDismissStart,n=e.advertiserId,r=e.invoiceId;return(0,x.jsxs)(u.kC,{gap:2,justifyContent:"end",children:[(0,x.jsx)(u.zx,{onClick:t,text:a._('Close', '[m10n]bizAccess.invoiceDetailSheet.closeButton', 'Close the invoice detail')}),(0,x.jsx)("a",{"data-gestalt-valid-html":"Link",download:!0,href:(0,aE.M)(n,r),onClick:function(){return(0,aT.nP)("bizAccess.invoiceDetail.downloadInvoicePdf",{sampleRate:1,tags:{pageLocation:"invoice_summary_table"}})},children:(0,x.jsx)(u.zx,{color:"red",text:a._('Download PDF', '[m10n]bizAccess.invoiceDetailSheet.downloadPdfButton', 'Download the invoice detail in PDF')})})]})},[a]),d=(0,y.nk)(a._('Invoice {{documentNumber}}', '[m10n]bizAccess.invoiceDetailSheet.title', 'The title to be displayed to an invoice detail, documentNumber:the invoice number that will be displayed'),{documentNumber:s.invoice_id}).join(""),_=function(e){var t=e.title;return(0,x.jsx)(u.xu,{marginBottom:4,children:(0,x.jsx)(u.xv,{size:"300",weight:"bold",children:t})})},f={border:"1px solid #efefef"};return(0,x.jsxs)(w.Z,{footer:function(e){return c({onDismissStart:e.onDismissStart,advertiserId:s.advertiser.advertiser_id,invoiceId:s.id})},hideSheet:r,size:"md",title:d,children:[(0,x.jsxs)(u.xu,{borderStyle:"shadow",color:"elevationFloating",rounding:4,children:[(0,x.jsx)(function(e){var t=e.data,n=e.i18n;return(0,x.jsxs)(u.xu,{"data-test-id":"invoice-detail-biz-detail",padding:4,children:[(0,x.jsx)(_,{title:n._('Business details', '[m10n]businessAccess.invoiceDetailSheet.businessDetails', 'The business details of the advertiser to an invoice')}),(0,x.jsxs)(u.kC,{alignContent:"center",alignItems:"center",direction:"row",justifyContent:"between",children:[(0,x.jsxs)(u.xu,{marginStart:4,children:[(0,x.jsxs)(u.xu,{marginBottom:4,children:[(0,x.jsx)(u.xv,{size:"400",weight:"bold",children:t.parent_business.business_name}),(0,x.jsx)(u.xv,{size:"200",children:(0,y.nk)(n._('Business ID: {{businessId}}', '[m10n]bizAccess.invoiceDetailSheet.title', 'The title to be displayed to an invoice detail, businessId:the business id that will be displayed'),{businessId:t.parent_business.business_id}).join("")})]}),(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xv,{size:"300",weight:"bold",children:t.advertiser.advertiser_name}),(0,x.jsx)(u.xv,{size:"200",children:(0,y.nk)(n._('Ad account ID: {{accountId}}', '[m10n]bizAccess.invoiceDetailSheet.title', 'The title to be displayed to an invoice detail, accountId:the account id that will be displayed'),{accountId:t.advertiser.advertiser_id}).join("")})]})]}),(0,x.jsxs)(u.xu,{"data-test-id":"invoice-bill-to-biz-detail",marginEnd:4,children:[(0,x.jsx)(u.xv,{size:"300",weight:"bold",children:n._('Billed to', '[m10n]businessAccess.invoiceDetailSheet.billedTo', 'The billed to business detail for an invoice')}),(0,x.jsx)(u.xv,{size:"200",children:t.address.bill_to_address_1}),(0,x.jsx)(u.xv,{size:"200",children:"".concat(t.address.bill_to_address_2,", ").concat(t.address.bill_to_address_3)}),(0,x.jsx)(u.xv,{size:"200",children:"".concat(t.address.bill_to_city,", ").concat(t.address.bill_to_state," ").concat(t.address.bill_to_postal_code)}),(0,x.jsx)(u.xv,{size:"200",children:t.address.bill_to_country})]})]})]})},{data:s,i18n:a}),(0,x.jsx)("hr",{"data-gestalt-valid-html":"Divider",style:f}),(0,x.jsx)(function(e){var t=e.data,n=e.i18n,r=e.locale;return(0,x.jsxs)(u.xu,{"data-test-id":"invoice-dates-section",padding:4,children:[(0,x.jsx)(_,{title:n._('Dates', '[m10n]businessAccess.invoiceDetailSheet.dates', 'The date related to an invoice')}),(0,x.jsxs)(u.kC,{direction:"row",children:[(0,x.jsxs)(u.xu,{"data-test-id":"invoice-details-creation-date",marginStart:4,width:212,children:[(0,x.jsx)(u.xv,{size:"200",weight:"bold",children:n._('Invoice date', '[m10n]businessAccess.invoiceDetailSheet.invoiceDate', 'The invoice creation date')}),(0,x.jsx)(u.xv,{size:"200",children:(0,aI.vs)((0,e8.Z)(t.invoice_creation_date||0),{locale:r})})]}),(0,x.jsxs)(u.xu,{"data-test-id":"invoice-details-billing-period",width:212,children:[(0,x.jsx)(u.xv,{size:"200",weight:"bold",children:n._('Billing period', '[m10n]businessAccess.invoiceDetailSheet.billingPeriod', 'The billing period to an invoice')}),(0,x.jsx)(u.xv,{size:"200",children:(0,y.nk)(n._('{{billingPeriodFrom}} to {{billingPeriodTo}}', '[m10n]billing.DiscountSummary.messaging', 'The period to an invoice billingPeriodFrom:Billing period start, billingPeriodTo:Billing period end'),{billingPeriodFrom:(0,aI.vs)((0,e8.Z)(t.billing_period_start_date||0),{locale:r}),billingPeriodTo:(0,aI.vs)((0,e8.Z)(t.billing_period_end_date||0),{locale:r})})})]}),(0,x.jsxs)(u.xu,{"data-test-id":"invoice-details-due-date",marginEnd:4,children:[(0,x.jsx)(u.xv,{size:"200",weight:"bold",children:n._('Due date', '[m10n]businessAccess.invoiceDetailSheet.dueDate', 'The due date to an invoice')}),(0,x.jsx)(u.xv,{size:"200",children:(0,aI.vs)((0,e8.Z)(t.invoice_due_date||0),{locale:r})})]})]})]})},{data:s,i18n:a,locale:i}),(0,x.jsx)("hr",{"data-gestalt-valid-html":"Divider",style:f}),(0,x.jsx)(function(e){var t=e.data,n=e.i18n;return(0,x.jsxs)(u.xu,{"data-test-id":"invoice-details-section",padding:4,children:[(0,x.jsx)(_,{title:n._('Invoice details', '[m10n]businessAccess.invoiceDetailSheet.invoiceDetails', 'The details to an invoice')}),(0,x.jsxs)(u.kC,{direction:"row",children:[(0,x.jsxs)(u.xu,{"data-test-id":"invoice-terms",marginStart:4,width:212,children:[(0,x.jsx)(u.xv,{size:"200",weight:"bold",children:n._('Terms', '[m10n]businessAccess.invoiceDetailSheet.terms', 'The terms to an invoice')}),(0,x.jsx)(u.xv,{size:"200",children:t.payment_terms})]}),(0,x.jsxs)(u.xu,{"data-test-id":"invoice-reference-number",width:212,children:[(0,x.jsx)(u.xv,{size:"200",weight:"bold",children:n._('Reference number', '[m10n]businessAccess.invoiceDetailSheet.recefenceNumber', 'The reference number to an invoice')}),(0,x.jsx)(u.xv,{size:"200",children:t.sfdc_opportunity_id||"-"})]}),(0,x.jsxs)(u.xu,{"data-test-id":"invoice-po-number",marginEnd:4,children:[(0,x.jsx)(u.xv,{size:"200",weight:"bold",children:n._('PO number', '[m10n]businessAccess.invoiceDetailSheet.poNumber', 'The PO number to an invoice')}),(0,x.jsx)(u.xv,{size:"200",children:t.purchase_order_id})]})]})]})},{data:s,i18n:a})]}),(0,x.jsxs)(u.xu,{"data-test-id":"invoice-total-amount",margin:4,children:[(0,x.jsx)(u.xv,{size:"200",children:a._('Total amount', '[m10n]businessAccess.invoiceDetailSheet.totalAmount', 'The total amount to an invoice')}),(0,x.jsx)(u.xv,{size:"400",weight:"bold",children:(t=(0,aP.Fr)({data:s,colDef:{field:"amount_billed_micro_currency"}}),n=s.currency,null!==t?l(i,t,{style:"currency",currency:n}):"-")})]})]})},aO=function(e){var t,n,r=e.newDomainRestrictions,s=e.domainRestrictions,o=void 0===s?[]:s,a=e.showNoDomainRestrictionsSetBanner,i=(0,b.Z)(),l=r.length>0&&!!(null!=(t=r[0])&&t.domainUrl)||o.length>0,c=r.length>0&&null!=(n=r[0])&&n.domainUrl?(0,rS.Wv)(r).join(", "):o.join(", ");return(0,x.jsxs)(u.xu,{paddingX:4,paddingY:6,children:[(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.xv,{color:"subtle",size:"100",children:i._('Domain restrictions', '[m10n]bizAccess.addPartner.inviteSummarySheet.domainRestrictions', 'Domain restrictions for the partner invite flow')})}),l&&(0,x.jsxs)(u.kC,{alignItems:"center",flex:"grow",gap:{column:0,row:2},width:"100%",children:[(0,rS.q7)(i,"link"),(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xv,{size:"300",children:c})})]}),!l&&void 0!==a&&a&&(0,x.jsx)(u.he,{message:i._('No domain restriction set. To set domain restrictions, visit Partner > Partner details > Settings.', '[m10n]bizAccess.addPartner.inviteSummarySheet.noDomainRestrictions', 'Message for no domain restrictions in the partner invite flow'),type:"neutral"})]})},aj=n(891875),az=n(355750),aw=n(300214),aN=n(160744);function aR(e){return(aR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ak(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aD(Object(n),!0).forEach(function(t){aL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aL(e,t,n){var r;return(r=function(e,t){if("object"!=aR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aR(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==aR(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aU(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function aB(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){aU(o,r,s,a,i,"next",e)}function i(e){aU(o,r,s,a,i,"throw",e)}a(void 0)})}}function aM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return aH(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aH(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var aZ=function(e){var t=e.i18n,n=e.termsAndConditionsChecked,r=e.setTermsAndConditionsChecked,s=e.isSharedConversionSegment,o=e.isSharedAudience,a=e.isSharedRmnCatalog;return(0,x.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n9.W6M}},rounding:2,children:(0,x.jsxs)(u.xu,{padding:4,children:[(0,x.jsx)(u.xu,{marginBottom:3,children:(0,x.jsx)(u.xv,{size:"200",children:t._('Terms and Conditions', '[m10n]bizAccess.add.partners.sheet.adAccount.created.termsAndConditions.title', 'Terms and Conditions title for the created ad account')})}),a&&(0,x.jsxs)(u.xu,{marginBottom:3,children:[(0,x.jsx)(u.xu,{marginBottom:1,children:(0,x.jsx)(u.xv,{size:"200",children:t._('Catalog Sharing', '[m10n]bizAccess.add.partners.sheet.adAccount.created.catalogSharing.title', 'Catalog Sharing title for the created ad account')})}),(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:t._('By sharing this catalog, you acknowledge and agree that Pinterest will share your catalog with the entity selected above, and such agreement shall supersede any provisions to the contrary in Pinterest\u2019s Ad Data Terms. You represent that you are in compliance with applicable law when sharing this catalog. You further agree that you shall indemnify, defend, and hold harmless Pinterest in the event of any claims brought against Pinterest related to the sharing of this catalog. By sharing a catalog, you acknowledge\xA0that partners may share this asset with agency partners.', '[m10n]catalogSharing.shareForm.legalDisclaimer', 'Text that appears in a side sheet describing the legal terms and conditions an advertiser must agree to before sharing the catalog.')})]}),o&&(0,x.jsxs)(u.xu,{marginBottom:3,children:[(0,x.jsx)(u.xu,{marginBottom:1,children:(0,x.jsx)(u.xv,{size:"200",children:t._('Audience Sharing', '[m10n]bizAccess.add.partners.sheet.adAccount.created.audienceSharing.title', 'Audience Sharing title for the created ad account')})}),(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:t._('If you choose to share your audience list, you acknowledge and agree that Pinterest will share your audience list with the entity selected above, and such agreement shall supersede any provisions to the contrary in Pinterest\u2019s Ad Data Terms. You represent that you are in compliance with applicable law when sharing this audience list and that you have the rights and the legally required consents from the individuals contained in this list to share the audience with the entity selected above. You further agree that you shall indemnify, defend, and hold harmless Pinterest in the event of any claims brought against Pinterest related to the sharing of this audience list.', '[m10n]audienceSharing.shareForm.legalDisclaimer.secondParagraph.businessRecipient', 'Text that appears in a modal describing the legal terms and conditions an advertiser must agree to before sharing the audience list')})}),(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:t._('You acknowledge that by sharing this audience list with the selected business you are allowing that business to share the audience list with any of their ad accounts. By sharing the audience, you are giving the selected business/account the right to leverage the audience but not see who is in the audience list. ', '[m10n]audienceSharing.shareForm.legalDisclaimer.secondParagraph', 'Text that appears in a modal describing the legal terms and conditions an advertiser must agree to before sharing the audience list.')})]}),s&&(0,x.jsxs)(u.xu,{marginBottom:3,children:[(0,x.jsx)(u.xu,{marginBottom:1,children:(0,x.jsx)(u.xv,{size:"200",children:t._('Conversion Sharing', '[m10n]bizAccess.add.partners.sheet.adAccount.created.conversionSharing.title', 'Conversion Sharing title for the created ad account')})}),(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:t._('If you choose to share a segment of conversion data, you acknowledge and agree that Pinterest will share with the entity selected above the segment of conversion data, and such agreement shall supersede any provisions to the contrary in Pinterest\u2019s Ad Data Terms. You represent that you are in compliance with applicable law when sharing this conversion segment data and that you have the rights and the legally required consents from the individuals for the collection, use, and sharing of conversion segment data. You further agree that you shall indemnify, defend, and hold harmless Pinterest in the event of any claims brought against Pinterest related to the sharing of this conversion segment data.', '[m10n]conversionSegmentSharing.shareForm.legalDisclaimer.secondParagraph.businessRecipient', 'Text that appears in a modal describing the legal terms and conditions an advertiser must agree to before sharing an conversion segment')})}),(0,x.jsx)(u.xv,{color:"subtle",size:"200",children:t._('By sharing the segment of conversion data, you give Pinterest the right to use the data to generate aggregate reporting but the selected business/account will not have access to identifiable data.', '[m10n]conversionSharing.shareForm.legalDisclaimer.secondParagraph', 'Text that appears in a modal describing the legal terms and conditions an advertiser must agree to before sharing an conversion segment')})]}),(0,x.jsx)(u.xu,{marginBottom:3,children:(0,x.jsx)(u.xv,{color:"subtle",size:"200",weight:"bold",children:t._('If you have a separate agreement with Pinterest for asset sharing, the terms of that agreement apply and supersede the above terms.', '[m10n]bizAccess.add.partners.sheet.adAccount.created.termsAndConditions.required', 'Text that appears in a modal describing the legal terms and conditions an advertiser must agree to before creating an ad account')})}),(0,x.jsx)(u.XZ,{checked:n,id:"rmnPartnerInviteTermsAndConditions",label:t._('By checking this box, you agree to the above Terms and Conditions', '[m10n]bizAccess.conversionSegmentSharing.termsAndConditions', 'Terms and conditions checkbox label'),onChange:function(e){r(e.checked)},size:"md"})]})})},aG=function(e){var t=e.partnerId,n=e.yourPartnershipRole,r=e.partnerPartnershipRole,s=e.setSheetSubTitle,a=e.setBackButton,i=e.setCurrentSheet,l=e.setOnNextSheet,d=e.adAccountInformation,f=e.domainRestrictions,m=e.dismissSheet,v=(0,b.Z)(),g=(0,h.ZP)(),S=(0,o.useRef)(g),E=(0,c.I0)(),P=(0,eo.KJ)(),I=(0,A.dI)().showOneToast,T=(0,rS.Uj)(n,r),C=aM((0,o.useState)(!0),2),O=C[0],j=C[1],z=aM((0,o.useState)(!1),2),w=z[0],N=z[1],R=aM((0,o.useState)(!1),2),D=R[0],k=R[1],L=aM((0,o.useState)(!1),2),U=L[0],B=L[1],M=(0,c.v9)(t5),H=(0,c.v9)(t6),Z=(0,c.v9)(nv),G=(0,o.useMemo)(function(){return{adAccountsShared:Object.values(M.adAccounts.roleToNumberOfAssets).some(function(e){return e>0})?(0,rS.eO)("ADMIN",M.adAccounts.resourceIdToRoles):void 0,catalogsShared:Object.values(M.catalogs.roleToNumberOfAssets).some(function(e){return e>0})?(0,rS.eO)("CATALOGS_MANAGER",M.catalogs.resourceIdToRoles):void 0,profilesShared:Object.values(M.profiles.roleToNumberOfAssets).some(function(e){return e>0})?M.profiles.resourceIdToRoles:void 0}},[M]),F=G.adAccountsShared,V=G.catalogsShared,q=G.profilesShared,W=(0,o.useMemo)(function(){var e=Object.keys(Z.audiences.resourceIdToRoles).length>0?Z.audiences:void 0,t=Object.keys(Z.conversionSegments.resourceIdToRoles).length>0?Z.conversionSegments:void 0,n=Object.keys(Z.catalogs.resourceIdToRoles).length>0;return{audiencesShared:e,conversionSegmentsShared:t,rmnCatalogsShared:n?Z.catalogs:void 0,hasSelectedRmnCatalogs:n}},[Z]),X=W.audiencesShared,K=W.conversionSegmentsShared,$=W.rmnCatalogsShared,J=(0,o.useMemo)(function(){return{adAccountsRequested:Object.keys(H.adAccounts.resourceIdToRoles).length>0?H.adAccounts.resourceIdToRoles:void 0,catalogsRequested:Object.keys(H.catalogs.resourceIdToRoles).length>0?H.catalogs.resourceIdToRoles:void 0,profilesRequested:Object.keys(H.profiles.resourceIdToRoles).length>0?H.profiles.resourceIdToRoles:void 0}},[H]),ee=J.adAccountsRequested,et=J.catalogsRequested,en=J.profilesRequested,er=(0,c.v9)(aw.t_),es=(0,ra.Z)().path.includes(":userBizId/partners/pending"),ea=(0,o.useCallback)(function(e,t){I(function(n){var r=n.hideToast;return(0,x.jsx)(p.Z,{duration:5e3,onHide:r,text:t,type:e})})},[I]),ei=(0,o.useCallback)(function(e,t){var n=(0,rx.ZB)(v,e);S.current({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_SHEET",componentId:"invite-summary-partners-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-"+t,errorMessage:n,business_id:P}),ea("error",n)},[v,P,S]),el=(0,o.useCallback)(function(e){switch(e){case"rmnInvite":return v._('Retail media network partner invite sent!', '[m10n]bizAccess.addPartner.inviteSummarySheet.successMessage.rmnInvite', 'Success message for the retail media network partner invite');case"agencyInvite":return v._('Agency partner invite sent!', '[m10n]bizAccess.addPartner.inviteSummarySheet.successMessage.agencyInvite', 'Success message for the agency partner invite');case"brandInvite":return v._('Brand partner invite sent!', '[m10n]bizAccess.addPartner.inviteSummarySheet.successMessage.brandInvite', 'Success message for the brand partner invite');default:return""}},[v]),ec=(0,o.useCallback)(function(){var e;E((0,Q.PN)({partnerId:t,onSuccess:(e=aB(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"invite-summary-partners-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-request",business_id:P,partner_request_id:n}),r=Object.entries(Object.assign(null!=ee?ee:{},null!=et?et:{},null!=en?en:{})).map(function(e){var t=aM(e,2);return aL({},t[0],t[1])}),s=function(){var e=aB(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,tt.ot)(P,r,n);case 3:E((0,az.R)(er,"PARTNER",P,!es)),ea("success",el("brandInvite")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),E((0,az.R)(er,"PARTNER",P,!es)),ei(e.t0,"request");case 11:E(tj()),m();case 13:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),!(Object.keys(r).length>0)){e.next=8;break}return e.next=6,s();case 6:e.next=12;break;case 8:E((0,az.R)(er,"PARTNER",P,!es)),ea("success",el("brandInvite")),E(tj()),m();case 12:B(!1);case 13:case"end":return e.stop()}},e)})),function(t,n){return e.apply(this,arguments)}),onFailure:function(e){ei(e,"request"),B(!1)},businessId:P}))},[t,ee,et,en,E,P,ei,er,es,m,ea,el]),eu=(0,o.useCallback)(function(){var e;E((0,Q.Yj)({partnerId:t,businessHierarchyNodeId:void 0,onSuccess:(e=aB(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"invite-summary-partners-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-invite",business_id:P,partner_request_id:t}),n=Object.entries(Object.assign(null!=F?F:{},null!=V?V:{},null!=q?q:{})).reduce(function(e,t){var n=aM(t,2),r=n[0],s=n[1];return e[r]=s,e},{}),r=function(){var e=aB(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,tt.ib)(P,n,[t],"PARTNER");case 3:E((0,az.R)(er,"PARTNER",P,!es)),ea("success",el("agencyInvite")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),E((0,az.R)(er,"PARTNER",P,!es)),ei(e.t0,"invite");case 11:E(tj()),m();case 13:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),!(Object.keys(n).length>0)){e.next=8;break}return e.next=6,r();case 6:e.next=12;break;case 8:E((0,az.R)(er,"PARTNER",P,!es)),ea("success",el("agencyInvite")),E(tj()),m();case 12:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),onFailure:function(e){ei(e,"invite"),B(!1)},businessId:P}))},[t,E,P,ei,ea,el,m,F,V,q,er,es]),ed=(0,o.useCallback)(function(e){var n,r,s,o,a=Object.entries(ak(ak(ak({},null!=(r=null==X?void 0:X.resourceIdToRoles)?r:{}),null!=(s=null==K?void 0:K.resourceIdToRoles)?s:{}),null!=(o=null==$?void 0:$.resourceIdToRoles)?o:{})).reduce(function(e,t){var n=aM(t,2),r=n[0],s=n[1];return e[r]=s,e},{});E((0,Q.Wl)({businessId:P,partnerId:t,rmnDedicatedAdAccountId:e,resourceIdToRoles:a,domainRestrictions:(0,rS.Wv)(f),onSuccess:(n=aB(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:S.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"invite-summary-partners-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-rmn-partner-submit-button-invite",business_id:P,partner_request_id:n}),E((0,az.R)(er,"PARTNER",P,!es)),ea("success",el(e?"rmnInvite":"brandInvite")),E(tj()),m();case 5:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)}),onFailure:function(e){ei(e,"invite"),B(!1),E(tj()),m()}}))},[t,E,P,ei,ea,el,m,X,K,$,er,es,f]),e_=(0,o.useCallback)(function(){if(ea("progress",v._('While loading, stay on this page', '[m10n]bizAccess.addPartner.inviteSummarySheet.sendingInvite', 'Sending invite message for the partner invite flow')),B(!0),T===rs.SX.AGENCY_BRAND)ec();else if(T===rs.SX.BRAND_AGENCY||T===rs.SX.RMN_AGENCY)eu();else if(T===rs.SX.BRAND_RMN){var e,n,r,s;E((0,Y.Br)({businessId:P,detailId:t,businessHierarchyNodeId:void 0,ownerBusinessId:P,agencyBusinessId:null,accountName:d.name,country:(null==(e=d.country)?void 0:e.value)||"",currency:(null==(n=d.currency)?void 0:n.value)||"",tosId:(0,aN.Fc)(null!=(r=_.tN[(null==(s=d.country)?void 0:s.value)||"UNKNOWN"])?r:0),targetingRmnBusinessId:t,onSuccess:function(e){ed(e.id)},onFailure:function(e){ei(e,"invite")},dispatchGetAdAccounts:!1}))}else T===rs.SX.RMN_BRAND&&ed()},[T,ec,eu,ed,ea,v,E,P,t,d,ei]),ef=(0,o.useCallback)(function(){T===rs.SX.AGENCY_BRAND?i(rs.c0.REQUEST_ASSETS_SHEET):T===rs.SX.BRAND_AGENCY||T===rs.SX.RMN_AGENCY?i(rs.c0.SELECT_ASSETS_SHEET):T===rs.SX.BRAND_RMN?i(rs.c0.SELECT_PARTNER_SHEET):T===rs.SX.RMN_BRAND&&i(rs.c0.SELECT_RMN_ASSETS_SHEET)},[T,i]);return(0,e9.Z)(function(){S.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"invite-summary-partners-invite-sheet"})}),(0,e9.Z)(function(){n&&r&&s((0,y.nk)(v._('Step {{ totalSteps }} of {{ totalSteps }}', '[m10n]bizAccess.addPartner.sheet.subtitle', 'Number of steps in the partner invite workflow totalSteps: number of steps in the workflow.'),{totalSteps:(0,rS.A2)(T)}).join("")),T!==rs.SX.AGENCY_BRAND&&T!==rs.SX.BRAND_AGENCY&&T!==rs.SX.RMN_AGENCY&&(T!==rs.SX.RMN_BRAND||X)||j(!1),a({onBack:ef})}),(0,o.useEffect)(function(){var e=!!(T===rs.SX.RMN_BRAND&&(X||K||$)||T===rs.SX.BRAND_RMN),t=!!((X||K||$)&&!D),n=!!(T===rs.SX.BRAND_RMN&&!w);j(e&&(t||n))},[j,w,D,T,X,K,$]),(0,o.useEffect)(function(){l({onNext:e_,buttonText:v._('Invite partner', '[m10n]bizAccess.addPartner.inviteSummarySheet.buttonText', 'Button text for the invite partner button'),disabled:O||U})},[X,K,D,l,e_,O,v,U]),(0,x.jsxs)(u.xu,{borderStyle:"sm",rounding:2,children:[(0,x.jsxs)(u.xu,{padding:4,children:[(0,x.jsx)(u.X6,{size:"400",children:v._('Invite summary', '[m10n]bizAccess.addPartner.inviteSummarySheet.title', 'Title for the summary sheet in the partner invite flow')}),(0,x.jsxs)(u.xu,{marginTop:4,children:[(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.xv,{color:"subtle",size:"100",children:v._('Adding new partner', '[m10n]bizAccess.addPartner.inviteSummarySheet.subTitle', 'Subtitle for the summary sheet in the partner invite flow')})}),(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsxs)(u.kC,{alignItems:"center",gap:{column:0,row:2},children:[(0,rS.q7)(v,"briefcase"),(0,x.jsx)(u.xv,{size:"300",children:(0,y.nk)(v._('Business ID: {{ partnerId }}', '[m10n]bizAccess.addPartner.inviteSummarySheet.businessId', 'Business ID for the partner invite flow. partnerId: ID of the partner.'),{partnerId:t})})]})})]})]}),(0,x.jsx)(u.iz,{}),T===rs.SX.BRAND_RMN&&(0,x.jsx)(aj.Z,{adAccountInformation:d,setTermsAndConditionsChecked:N,termsAndConditionsChecked:w}),T!==rs.SX.BRAND_RMN&&(0,x.jsx)(rg,{adAccountsRequested:ee,adAccountsShared:F,audiencesShared:X,catalogsRequested:et,catalogsShared:void 0!==$?$.resourceIdToRoles:V,conversionSegmentsShared:K,hidePermissionsToAsset:T===rs.SX.RMN_BRAND,isAgencyRequestedInvite:T===rs.SX.AGENCY_BRAND,isBrandAgencyInvite:T===rs.SX.BRAND_AGENCY||T===rs.SX.RMN_AGENCY,profilesRequested:en,profilesShared:q}),T===rs.SX.RMN_BRAND&&(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.iz,{}),(0,x.jsx)(aO,{newDomainRestrictions:f,showNoDomainRestrictionsSetBanner:!0})]}),T===rs.SX.RMN_BRAND&&(!!X||!!K||!!$)&&(0,x.jsx)(aZ,{i18n:v,isSharedAudience:!!X,isSharedConversionSegment:!!K,isSharedRmnCatalog:!!$,setTermsAndConditionsChecked:k,termsAndConditionsChecked:D})]})},aF=n(165015),aY=n(190557),aV=n(587488);function aq(e){return(aq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aQ(Object(n),!0).forEach(function(t){aX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aX(e,t,n){var r;return(r=function(e,t){if("object"!=aq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aq(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==aq(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a$(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a$(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function aJ(e){var t=0;return Object.entries(e).map(function(e){var n=aK(e,2),r=n[0],s=n[1],o={index:t,id:r,accessList:s,error:"",accessError:""};return t+=1,o})}function a0(e){return e.reduce(function(e,t){if(!t.id)return e;var n=t.accessList.includes("ADMIN")?["ADMIN"]:t.accessList;return e[t.id]=n,e},{})}var a1=function(e){var t=e.i18n,n=e.requestProfile,r=e.setRequestProfile;return(0,x.jsx)(u.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#E0E0D9"}},direction:"column",display:"flex",mdDirection:"row",padding:4,rounding:4,smPaddingY:4,width:"100%",children:(0,x.jsxs)(u.kC,{alignItems:"center",flex:"grow",gap:{row:4,column:0},width:"100%",children:[(0,x.jsx)(u.kC.Item,{children:(0,x.jsx)(u.XZ,{checked:n,id:"request-profile-access",onChange:function(e){return r(e.checked)}})}),(0,x.jsx)(u.kC.Item,{flex:"grow",children:(0,x.jsx)(u.xu,{marginTop:-1,children:(0,x.jsx)(u.xv,{children:t._('Request publisher permission to this profile. Publisher permission allows you to create, edit and organize your Pins and boards.', '[m10n]bizAccess.partnerInvite.request.assets.sheet.content.requestProfileAccess', 'Request profile access label')})})})]})})},a2=function(e){var t=e.setSheetSubTitle,n=e.setCurrentSheet,r=e.setOnNextSheet,s=e.setSkipAssetAssignmentButton,a=e.setBackButton,i=e.partnerId,l=(0,v.Z)().checkExperiment,d=(0,c.I0)(),_=(0,b.Z)(),f=(0,h.ZP)(),m=(0,o.useRef)(f),p=l("web_m10n_business_access_catalogs").anyEnabled,y=aK((0,o.useState)("AD_ACCOUNT"),2),A=y[0],g=y[1],S=(0,c.v9)(t9),E=(0,c.v9)(nl),P=(0,c.v9)(nf),I=(0,o.useMemo)(function(){return Object.keys(S).length>0?Object.keys(S).filter(function(e){var t;return((null==(t=S[e])?void 0:t.length)||0)>0}).length:0},[S]),T=(0,o.useMemo)(function(){return Object.keys(E).length>0?Object.keys(E).filter(function(e){var t;return((null==(t=E[e])?void 0:t.length)||0)>0}).length:0},[E]),C=(0,o.useMemo)(function(){return Object.keys(P).length>0?Object.keys(P).filter(function(e){var t;return((null==(t=P[e])?void 0:t.length)||0)>0}).length:0},[P]),O=(0,o.useMemo)(function(){return aJ(S)},[S]),j=aK((0,o.useReducer)(aY.I6,I>0?O:[]),2),z=j[0],w=j[1],N=aK((0,o.useState)(!0),2),R=N[0],D=N[1],k=(0,o.useMemo)(function(){return aJ(E)},[E]),L=aK((0,o.useReducer)(aY.I6,T>0?k:[]),2),U=L[0],B=L[1],M=aK((0,o.useState)(!0),2),H=M[0],Z=M[1],G=aK((0,o.useState)(0!==C),2),F=G[0],Y=G[1],V=(0,rS.Cc)(_);I>0&&(V="".concat(V," ").concat(I));var q=(0,rS.Bx)(_);T>0&&(q="".concat(q," ").concat(T));var Q=_._('Profile', '[m10n]bizAccess.partnerInvite.assets.sheet.sidebar.profile.label', 'Label for profile section within sidebar');C>0&&(Q="".concat(Q," ").concat(C)),(0,o.useEffect)(function(){m.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"request-assets-sheet"})},[m]);var W=(0,o.useCallback)(function(){d(tO({adAccounts:{resourceIdToRoles:{}},catalogs:{resourceIdToRoles:{}},profiles:{resourceIdToRoles:{}}})),n(rs.c0.SELECT_PARTNER_SHEET)},[d,n]),X=(0,o.useCallback)(function(){d(tO({adAccounts:{resourceIdToRoles:{}},catalogs:{resourceIdToRoles:{}},profiles:{resourceIdToRoles:{}}})),m.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"select-requests-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"skip-assets-button"}),n(rs.c0.PARTNER_INVITE_SUMMARY_SHEET)},[d,n,m]);(0,e9.Z)(function(){t(_._('Step 2 of 3', '[m10n]bizAccess.partnersInvite.assets.steps.second', 'Label to identify the current step, second, on Add Partners Invite flow')),s({onSkipAssetAssignment:X}),a({onBack:W})}),(0,o.useEffect)(function(){var e=0===I&&0===T&&0===C,t=R&&I>0,s=p&&H&&T>0;r({onNext:function(){return n(rs.c0.PARTNER_INVITE_SUMMARY_SHEET)},disabled:e||t||s})},[r,n,I,T,C,R,H,p]),(0,o.useEffect)(function(){z.length>0&&!R&&d({type:"SET_REQUESTED_AD_ACCOUNTS",requestedAdAccounts:a0(z)})},[z,R,d]),(0,o.useEffect)(function(){U.length>0&&!H&&d({type:"SET_REQUESTED_CATALOGS",requestedCatalogs:a0(U)})},[U,H,d]),(0,o.useEffect)(function(){F?d(tG(aX({},i,["PROFILE_PUBLISHER"]))):d(tG({}))},[d,F,i]);var K=function(e){g(e),f({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"request-assets-sheet",element:"BUSINESS_ACCESS_TAB",elementId:"request-assets-sheet-tab-".concat(e,"-selected")})},$=(0,o.useMemo)(function(){var e=_._('Request ad account access', '[m10n]bizAccess.partnerInvite.request.assets.sheet.content.header.adAccounts', 'ad accounts content header');"CATALOG"===A?e=_._('Request catalog access', '[m10n]bizAccess.partnerInvite.request.assets.sheet.content.header.catalogs', 'catalogs content header'):"PROFILE"===A&&(e=_._('Request profile access', '[m10n]bizAccess.partnerInvite.request.assets.sheet.content.header.profiles', 'profiles content header'));var t=(0,x.jsx)(aF.Z,{assets:z,assetsRequested:O,assetType:"AD_ACCOUNT",haveInvalidAssets:R,isForNewPartnerInviteFlow:!0,partnerId:i,setHaveInvalidAssets:D,updateAsset:w});return p&&"CATALOG"===A?t=(0,x.jsx)(aF.Z,{assets:U,assetsRequested:k,assetType:"CATALOG",haveInvalidAssets:H,isForNewPartnerInviteFlow:!0,partnerId:i,setHaveInvalidAssets:Z,updateAsset:B}):"PROFILE"===A&&(t=(0,x.jsx)(a1,{i18n:_,requestProfile:F,setRequestProfile:Y})),{header:e,content:t}},[_,A,z,U,R,H,p,i,O,k,F]),J=$.header,ee=$.content;return(0,x.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:aW(aW({},rS.M8),{},{borderTopStyle:"solid",borderBottomStyle:"solid"})},direction:"row",display:"flex",height:"calc(100% - ".concat(rS.x1.MAIN_CONTAINER.HEIGHT_OFFSET,")"),left:!0,position:"absolute",width:"100%",children:[(0,x.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:aW(aW({},rS.M8),{},{borderRightStyle:"solid"})},height:"calc(100% - ".concat(rS.x1.SECTIONS_CONTAINER.HEIGHT_OFFSET,")"),position:"fixed",width:200,children:[(0,x.jsx)(u.xu,{marginBottom:2,marginTop:4,paddingX:4,children:(0,x.jsx)(u.xv,{weight:"bold",children:_._('Assets', '[m10n]bizAccess.employeeInvite.assets.sheet.sidebar.assets.header', 'Sidebar header')})}),(0,x.jsxs)(u.xu,{direction:"column",display:"flex",paddingX:1,children:[(0,x.jsx)(aV.L,{active:"AD_ACCOUNT"===A,dataTestId:"ad-accounts-section",isSubItem:!1,label:V,onClick:function(){return K("AD_ACCOUNT")},useBoldTextWhenSelected:!1}),p&&(0,x.jsx)(aV.L,{active:"CATALOG"===A,dataTestId:"catalogs-section",isSubItem:!1,label:q,onClick:function(){return K("CATALOG")},useBoldTextWhenSelected:!1}),(0,x.jsx)(aV.L,{active:"PROFILE"===A,dataTestId:"profiles-section",isSubItem:!1,label:Q,onClick:function(){return K("PROFILE")},useBoldTextWhenSelected:!1})]})]}),(0,x.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:200}},height:"calc(100% - ".concat(rS.x1.SECTIONS_CONTAINER.CONTENT_CONTAINER.HEIGHT_OFFSET,")"),overflow:"auto",position:"fixed",width:rS.x1.SECTIONS_CONTAINER.CONTENT_CONTAINER.WIDTH,children:[(0,x.jsx)(u.xu,{marginBottom:2,marginTop:4,paddingX:3,children:(0,x.jsx)(u.xv,{weight:"bold",children:J})}),(0,x.jsx)(u.xu,{paddingX:3,children:ee})]})]})},a5=n(300112),a6=n(483058);function a3(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function a8(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){a3(o,r,s,a,i,"next",e)}function i(e){a3(o,r,s,a,i,"throw",e)}a(void 0)})}}function a4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a7(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a7(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a9=function(e){var t,n=e.partnerId,r=e.setPartnerId,s=e.yourPartnershipRole,a=e.setYourPartnershipRole,i=e.partnerPartnershipRole,l=e.setPartnerPartnershipRole,c=(0,b.Z)(),d=(0,eo.KJ)(!0),_=a4((0,o.useState)(),2),f=_[0],m=_[1],h=a4((0,o.useState)(n),2),p=h[0],y=h[1],v=a4((0,o.useState)([]),2),A=v[0],g=v[1],S=a4((0,o.useState)([]),2),E=S[0],P=S[1],I=(0,o.useCallback)(function(e){switch(e){case rs.lm.RMN:return c._('Media network', '[m10n]bizAccess.add.partners.base.component.yourPartnershipRole.rmn', 'Label for RMN partnership role');case rs.lm.AGENCY:return c._('Agency', '[m10n]bizAccess.add.partners.base.component.yourPartnershipRole.agency', 'Label for Agency partnership role');case rs.lm.BRAND:return c._('Brand', '[m10n]bizAccess.add.partners.base.component.yourPartnershipRole.brand', 'Label for Brand partnership role');default:return c._('Select your partnership role', '[m10n]bizAccess.add.partners.base.component.yourPartnershipRole.default', 'Label for default partnership role')}},[c]),T=(0,o.useCallback)(function(e){switch(e){case rs.lm.RMN:return c._('I will share first party data with a brand who will use this data to advertise', '[m10n]bizAccess.add.partners.base.component.yourPartnershipRole.subtexte.rmn', 'Subtitle for RMN partnership role');case rs.lm.AGENCY:return c._('I will advertise on behalf of another business', '[m10n]bizAccess.add.partners.base.component.yourPartnershipRole.subtext.agency', 'Subtitle for Agency partnership role');case rs.lm.BRAND:return c._('Businesses may advertise on my behalf or I would like to add a retail media network partner', '[m10n]bizAccess.add.partners.base.component.yourPartnershipRole.subtext.brand', 'Subtitle for Brand partnership role');default:return c._('Select your partnership role', '[m10n]bizAccess.add.partners.base.component.yourPartnershipRole.subtext.default', 'Subtitle for default partnership role')}},[c]),C=(0,o.useCallback)(function(e,t){switch(e){case rs.lm.RMN:return c._('This partner will share audiences, catalogs and other assets with me to use in my advertising campaigns', '[m10n]bizAccess.add.partners.base.component.partnerPartnershipRole.subtext.rmn', 'Subtitle for RMN partnership role');case rs.lm.AGENCY:return c._('You plan to share your ad accounts, catalogs and profile with this business to advertise on your behalf', '[m10n]bizAccess.add.partners.base.component.partnerPartnershipRole.subtext.agency', 'Subtitle for Agency partnership role');case rs.lm.BRAND:return t===rs.lm.AGENCY?c._('You plan to request ad accounts, catalogs and other assets to advertise on behalf of this business', '[m10n]bizAccess.add.partners.base.component.partnerPartnershipRole.subtext.agency.forAgency', 'Subtitle for Brand partnership role when your role is also Agency'):c._('You plan to share assets with this partner so that they may advertise for themselves', '[m10n]bizAccess.add.partners.base.component.partnerPartnershipRole.subtext.brand', 'Subtitle for Brand partnership role');default:return c._('Select your partnership role', '[m10n]bizAccess.add.partners.base.component.partnerPartnershipRole.subtext.default', 'Subtitle for default partnership role')}},[c]),O=Object.values(rs.lm).map(function(e){return{label:I(e),subtext:T(e),value:e}}),j=function(e){switch(e){case rs.lm.RMN:return[rs.lm.AGENCY,rs.lm.BRAND];case rs.lm.AGENCY:return[rs.lm.BRAND];case rs.lm.BRAND:return[rs.lm.RMN,rs.lm.AGENCY];default:return[]}};(0,o.useEffect)(function(){s&&(g(j(s).map(function(e){return{label:I(e),subtext:C(e,s),value:e}})),s===rs.lm.AGENCY&&l(j(s)[0]||null))},[s,C,I,l]),(0,o.useEffect)(function(){d&&a8(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,oG.R)({id:d,is_member:!1,filters:{invite_status:["PENDING","EXPIRED"]}});case 3:P(void 0===(n=(t=void 0===(t=e.sent.data)?{}:t).data)?[]:n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),P([]);case 13:case"end":return e.stop()}},e,null,[[0,10]])}))()},[d]);var z=(t=a8(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(p&&p!==n)){e.next=25;break}return e.prev=1,e.next=4,(0,ro.Eg)({id:d,searchBy:["BUSINESS_ID"],searchTerm:p,businessPartnerType:"UNDEFINED"});case 4:if(!((void 0===(s=(t=void 0===(t=e.sent.data)?{}:t).data)?[]:s).length>0||p===d)){e.next=12;break}return m(c._('This business is already a partner', '[m10n]bizAccess.add.partners.base.component.partnerId.error', 'Error message for existing partner ID')),r(""),e.abrupt("return");case 12:if(!E.find(function(e){var t;return(null==e||null==(t=e.extended_user_info)?void 0:t.id)===p})){e.next=16;break}return m(c._('An invite or request has already been sent to this user. Please check your pending invites or requests to review.', '[m10n]bizAccess.sendInvite.alreadySent', 'Error when an invite to the business has already been sent')),r(""),e.abrupt("return");case 16:m(void 0),r(p),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),m(c._('Sorry, something went wrong on our end. Please try again.', '[m10n]bizAccess.sendInvite.unknownError', 'Error message shown below the Business ID field when an unexpected error occurs'));case 23:e.next=26;break;case 25:p||(r(""),m(void 0));case 26:case"end":return e.stop()}},e,null,[[1,20]])})),function(){return t.apply(this,arguments)});return(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xu,{marginBottom:4,children:(0,x.jsx)(u.X6,{size:"400",children:c._('Enter partner details', '[m10n]bizAccess.add.partners.base.component.title', 'Label to enter base partner details')})}),(0,x.jsx)(u.xu,{marginBottom:4,children:(0,x.jsx)(u.nv,{autoComplete:"off",errorMessage:f,id:"partnerId",label:c._('Enter the ID of the business you\u2019re creating a partnership with', '[m10n]bizAccess.add.partners.base.component.partnerId.label', 'Label for partner ID'),onBlur:z,onChange:function(e){y((e.value||"").replace(/[^\d]/g,""))},placeholder:c._('Enter partner business ID', '[m10n]bizAccess.add.partners.base.component.partnerId.placeholder', 'Placeholder for partner ID'),size:"lg",type:"text",value:p})}),(0,x.jsxs)(u.kC,{children:[(0,x.jsx)(u.sg,{"flex-grow":!0,span:6,children:(0,x.jsx)(u.xu,{marginEnd:1,children:(0,x.jsx)(u.BC,{id:"yourPartnershipRole",inputValue:s?I(s):"",label:c._('Select your business\u2019 role', '[m10n]bizAccess.add.partners.base.component.yourPartnershipRole.label', 'Label for your partnership role'),onSelect:function(e){a(e.item.value),l(null)},options:O,placeholder:c._('Select', '[m10n]bizAccess.add.partners.base.component.yourPartnershipRole.placeholder', 'Placeholder for your partnership role'),selectedOption:s?{label:I(s),subtext:T(s),value:s}:void 0,size:"lg"})})}),(0,x.jsx)(u.sg,{span:6,children:(0,x.jsx)(u.xu,{marginStart:1,children:(0,x.jsx)(u.BC,{disabled:!s,id:"partnerPartnershipRole",inputValue:i?I(i):"",label:c._('Select your partner\u2019s role', '[m10n]bizAccess.add.partners.base.component.partnerPartnershipRole.label', 'Label for partner partnership role'),onSelect:function(e){l(e.item.value)},options:A,placeholder:c._('Select', '[m10n]bizAccess.add.partners.base.component.partnerPartnershipRole.placeholder', 'Placeholder for partner partnership role'),selectedOption:i?{label:I(i),subtext:T(i),value:i}:void 0,size:"lg"})})})]})]})};function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var it=function(e){var t,n=e.partnerId,r=e.setPartnerId,s=e.yourPartnershipRole,a=e.setYourPartnershipRole,i=e.partnerPartnershipRole,l=e.setPartnerPartnershipRole,c=e.setSheetSubTitle,d=e.setCurrentSheet,_=e.setOnNextSheet,f=e.domainRestrictions,m=e.setDomainRestrictions,p=e.setSkipButton,v=e.adAccountInformation,A=e.setAdAccountInformation,g=(0,b.Z)(),S=(0,h.ZP)(),E=(0,o.useRef)(S),P=(0,rS.Uj)(s,i),I=P===rs.SX.RMN_BRAND,T=P===rs.SX.BRAND_RMN,C=!n||!s||!i||T,O=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(C))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ie(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=O[0],z=O[1],w=(0,o.useCallback)(function(){P===rs.SX.AGENCY_BRAND?d(rs.c0.REQUEST_ASSETS_SHEET):P===rs.SX.BRAND_AGENCY||P===rs.SX.RMN_AGENCY?d(rs.c0.SELECT_ASSETS_SHEET):P===rs.SX.BRAND_RMN?d(rs.c0.PARTNER_INVITE_SUMMARY_SHEET):P===rs.SX.RMN_BRAND&&d(rs.c0.SELECT_RMN_ASSETS_SHEET)},[s,i]);return(0,o.useEffect)(function(){E.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"select-partner-for-partners-invite-sheet"})},[]),(0,o.useEffect)(function(){I?p({onSkipAssetAssignment:function(){d("SELECT_RMN_ASSETS_SHEET"),m([])},buttonText:g._('Skip domain restriction', '[m10n]bizAccess.addPartner.skipDomainRestrictions', 'Text for the skip domain restrictions button'),disabled:!n}):(p(void 0),m([])),T||A({name:"",country:{label:"",value:""},currency:{label:"",value:""}});var e,t,r=!!T&&!!v.name&&!!(null!=(e=v.country)&&e.value)&&!!(null!=(t=v.currency)&&t.value);C&&!r?z(!0):z(!1),s&&i&&c((0,y.nk)(g._('Step 1 of {{totalSteps}}', '[m10n]bizAccess.addPartner.sheet.subtitle', 'Number of steps in the partner invite workflow totalSteps: number of steps in the workflow.'),{totalSteps:(0,rS.A2)(P)}).join(""))},[s,i,I,T,C]),(0,o.useEffect)(function(){_({onNext:w,disabled:j||!n})},[_,w,j,n]),(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(a9,{partnerId:n,partnerPartnershipRole:i,setPartnerId:r,setPartnerPartnershipRole:l,setYourPartnershipRole:a,yourPartnershipRole:s}),I&&(0,x.jsx)(u.xu,{marginTop:6,children:(0,x.jsx)(a5.Z,{domainRestrictions:f,forNewInviteFlow:!0,setDisableNextButton:z,setDomainRestrictions:m})}),T&&(0,x.jsx)(u.xu,{marginTop:6,children:(0,x.jsx)(a6.Z,{adAccountInformation:v,forNewInviteFlow:!0,setAdAccountInformation:A,setDisableNextButton:z})})]})},ir=n(185004);function is(e){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=is(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=is(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==is(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ii(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function il(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ic(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ic(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var iu=function(e){var t,n,r=e.businessId,s=e.startIndex,a=void 0===s?0:s,i=e.limit,l=void 0===i?10:i,c=e.searchBy,u=void 0===c?"ID":c,d=e.searchTerm,_=e.sortAscending,f=void 0===_||_,m=e.sortBy,h=!(arguments.length>1)||void 0===arguments[1]||arguments[1],p=il((0,o.useState)(!0),2),b=p[0],y=p[1],v=il((0,o.useState)([]),2),A=v[0],g=v[1],S=il((0,o.useState)(0),2),x=S[0],E=S[1],P=il((0,o.useState)(!0),2),I=P[0],T=P[1],C=il((0,o.useState)(),2),O=C[0],j=C[1],z=(t=regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),g([]),j(void 0),E(0),e.prev=4,n=ia(ia({},t),{},{startIndex:(t.startIndex||0)*(t.limit||0)}),e.next=8,(0,ir.SX)(ia({},n));case 8:s=(null==(r=e.sent)?void 0:r.audiences)||[],E((null==r?void 0:r.total_count)||0),g(s),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),j(e.t0);case 17:return e.prev=17,T(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[4,14,17,20]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){ii(o,r,s,a,i,"next",e)}function i(e){ii(o,r,s,a,i,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}),w=(0,o.useRef)(z);return w.current=z,(0,o.useEffect)(function(){h&&b&&(y(!1),w.current({businessId:r,startIndex:a,limit:l,searchBy:u,searchTerm:d,sortAscending:f,sortBy:m}))},[r,a,l,u,d,f,m,h,w,b]),{audiences:A,totalCount:x,loading:I,error:O,fetchAudiencesRef:w}};function id(e){return(id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i_(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function im(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){i_(o,r,s,a,i,"next",e)}function i(e){i_(o,r,s,a,i,"throw",e)}a(void 0)})}}function ih(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ib(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ip(Object(n),!0).forEach(function(t){iy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ip(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iy(e,t,n){return(t=iv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iv(e){var t=function(e,t){if("object"!=id(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=id(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==id(t)?t:t+""}function iA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ig(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ig(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ig(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function iS(e){return e.reduce(function(e,t){return t.id&&t.name&&(e[t.id]=t.name),e},{})}var ix=function(e){var t=e.setShouldDisplayInfoBanner,n=(0,b.Z)(),r=(0,x.jsx)(u.xv,{children:(0,x.jsxs)(u.aV,{children:[(0,x.jsx)(u.aV.Item,{text:n._('Your partner will be able to create campaigns using these audiences', '[m10n]bizAccess.audience.info.banner.1', 'Info banner for audiences')}),(0,x.jsx)(u.aV.Item,{text:n._('Partners cannot edit, delete or share this audience with another ad account', '[m10n]bizAccess.audience.info.banner.2', 'Info banner for audiences')}),(0,x.jsx)(u.aV.Item,{text:n._('Actalike audiences can not be created from these shared audiences', '[m10n]bizAccess.audience.info.banner.3', 'Info banner for audiences')}),(0,x.jsx)(u.aV.Item,{text:n._('Recipients of these audiences (brands) will not be able to see personal information about the users in the customer list (i.e. their email addresses)', '[m10n]bizAccess.audience.info.banner.4', 'Info banner for audiences')})]})});return(0,x.jsx)(u.xu,{marginBottom:3,children:(0,x.jsx)(u.ci,{dismissButton:{onDismiss:function(){return t(!1)}},message:r,type:"info"})})},iE=function(e){var t,n=e.businessId,r=e.shouldDisplayInfoBanner,s=e.setShouldDisplayInfoBanner,a=(0,b.Z)(),i=(0,c.I0)(),l=iA((0,o.useState)(!1),2),d=l[0],_=l[1],m=iA((0,o.useState)([]),2),h=m[0],p=m[1],y=iA((0,o.useState)(1),2),v=y[0],A=y[1],g=(0,c.v9)(ny),S=iA((0,o.useState)(g||""),2),E=S[0],P=S[1],I=(0,o.useRef)(E);I.current=E;var T=(0,c.v9)(es.fI),C=(0,o.useRef)(T);C.current=T;var O=(0,o.useCallback)(function(){return v},[v]),j=iA((0,o.useState)(50),2),z=j[0],w=j[1],N=(0,o.useRef)(z);N.current=z;var R=(0,o.useCallback)(function(){return z},[z]),D=(0,c.v9)(nh),L=(0,o.useMemo)(function(){return Object.values(D).some(function(e){return e.length>0})},[D]),B=(0,c.v9)(np),M=(0,c.v9)(nb),H=iu({businessId:n,limit:z,sortAscending:"ASCENDING"===T,startIndex:v-1,sortBy:"NAME",searchTerm:E}),Z=H.audiences,G=H.totalCount,F=H.loading,Y=H.error,V=H.fetchAudiencesRef,q=(0,o.useCallback)(function(){return Z.filter(function(e){return!!(null!=e&&e.id)}).map(function(e){return ib(ib({},e),{},{entity_type:"BUSINESS_AUDIENCE"})})},[Z]),Q=(0,o.useMemo)(function(){return iS(q())},[q]);(0,o.useEffect)(function(){Y||p(q)},[q,Y]);var W=(0,o.useCallback)(function(){return G},[G]);(0,o.useEffect)(function(){P(g||"")},[g]);var X=[(0,U.Z)({size:"sm",selectedIds:Object.keys(D),onSelectChange:function(e){var t;if(Object.keys(D).includes(e)){D[e];var n=ih(D,[e].map(iv));B[e];var r=ih(B,[e].map(iv));i(tF({resourceIdToRoles:null!=n?n:{},resourceIdToNames:null!=r?r:{}})),M&&i(tY(!1))}else i(tF({resourceIdToRoles:ib(ib({},D),{},iy({},e,["BIZ_PINNER_LIST_SHARER"])),resourceIdToNames:ib(ib({},B),{},iy({},e,{asset:{name:null!=(t=Q[e])?t:""}}))}))},checkbox:{indeterminate:L,checked:!!M,onChange:function(e){if(!d){if(e&&L){i(tY(!1)),i(tF({resourceIdToRoles:{},resourceIdToNames:{}}));return}var t,r=q().map(function(e){return e.id}),s=r.reduce(function(e,t){return e[t]=["BIZ_PINNER_LIST_SHARER"],e},{}),o=r.reduce(function(e,t){var n=Q[t];return n&&(e[t]={asset:{name:n}}),e},{});if(!e||!E){i(tY(e)),i(tF({resourceIdToRoles:s,resourceIdToNames:o}));return}_(!0),(t=im(regeneratorRuntime.mark(function e(){var t,r,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ir.B_)({businessId:n,searchTerm:E,sortAscending:"ASCENDING"===T,sortBy:"NAME"});case 3:s=(r=(t=e.sent).map(function(e){return e.id})).reduce(function(e,t){return e[t]=["BIZ_PINNER_LIST_SHARER"],e},{}),o=iS(t),i(tF({resourceIdToRoles:s,resourceIdToNames:r.reduce(function(e,t){var n=o[t];return n&&(e[t]={asset:{name:n}}),e},{})})),i(tY(!0)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),i(tY(!1)),i(tF({resourceIdToRoles:{},resourceIdToNames:{}}));case 16:return e.prev=16,_(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,12,16,19]])})),function(){return t.apply(this,arguments)})()}},id:"select-all-audiences-checkbox",disabled:d}}),(0,k.Z)(a,{headerName:a._('Audience name', '[m10n]businessAccess.business.partners.audienceName', 'header of column displaying audience name'),sortable:!1})],K=(0,o.useCallback)((t=im(regeneratorRuntime.mark(function e(t){var r,s,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.searchTerm&&i(tY(!1)),r=t.page||1,(t.limit||0)>0&&(r=1),s="limit"in t?t.limit:N.current,o="searchTerm"in t?t.searchTerm:I.current,a="sortDirection"in t?t.sortDirection:C.current,P(o||""),A(r),w(s||50),i((0,tQ.o)({sortDirection:a})),V.current({businessId:n,searchTerm:o,sortAscending:"ASCENDING"===a,startIndex:r-1,limit:s,sortBy:"NAME"}),i({type:"SET_SELECTED_AUDIENCES_SEARCH_VALUE",audiencesSearchValue:o});case 12:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[i,V,n,N]);return(0,x.jsxs)(u.kC,{direction:"column",children:[(0,x.jsx)(u.xu,{paddingX:3,children:r&&(0,x.jsx)(ix,{setShouldDisplayInfoBanner:s})}),(0,x.jsx)(tS.Z,{columnDefs:X,currentPageSelector:O,data:h,disableFirstRender:!0,emptyState:(0,x.jsx)(u.kC,{alignItems:"center",direction:"row",height:100,justifyContent:"center",children:(0,x.jsx)(u.xv,{color:"subtle",children:a._('No audiences found', '[m10n]bizAccess.audiencesTable.adAccounts.emptyState', 'No audiences found empty state')})}),fetchData:K,initialSearchTermValue:E,isLoading:d||F,pageSizeSelector:R,pageType:f.Q6.PARTNERS,paginationProps:{paddingY:3,paddingX:3,alignRowsPerPageLabel:"right"},searchInputContainerStyles:{paddingX:3},searchPlaceholder:a._('Search by audience name or ID', '[m10n]bizAccess.search.audiences', 'Placeholder text for the search audiences field'),showFiltersOnEmptyState:!0,totalCountSelector:W})]})};function iP(e){return(iP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=iP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iP(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iP(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return iO(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iO(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ij=function(e){var t=e.businessId,n=e.shouldDisplayAudiencesInfoBanner,r=e.setShouldDisplayAudiencesInfoBanner,s=(0, b.Z)()._('Share audience access', '[m10n]bizAccess.partnerInvite.assets.sheet.content.header.audiences', 'audiences content header'),a=(0,x.jsx)(iE,{businessId:t,setShouldDisplayInfoBanner:r,shouldDisplayInfoBanner:n});return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(u.xu,{marginBottom:3,marginTop:4,paddingX:3,children:(0,x.jsx)(u.xv,{weight:"bold",children:s})}),(0,x.jsx)(u.xu,{children:a})]})},iz=function(e){var t=e.businessId,n=e.shouldDisplayConversionSegmentsInfoBanner,r=e.setShouldDisplayConversionSegmentsInfoBanner,s=(0, b.Z)()._('Share conversion data', '[m10n]bizAccess.partnerInvite.assets.sheet.content.header.conversions', 'conversion data content header'),a=(0,x.jsx)(rF,{businessId:t,setShouldDisplayInfoBanner:r,sharedWithPartner:!1,shouldDisplayInfoBanner:n,showTabs:!0});return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(u.xu,{marginBottom:3,marginTop:4,paddingX:3,children:(0,x.jsx)(u.xv,{weight:"bold",children:s})}),(0,x.jsx)(u.xu,{children:a})]})},iw=function(e){var t=e.businessId,n=e.partnerId,r=e.isRMNBrandPartner,s=e.shouldDisplayCatalogInfoBanner,a=e.setShouldDisplayCatalogInfoBanner,i=(0, b.Z)()._('Share media network catalog access', '[m10n]bizAccess.partnerInvite.assets.sheet.content.header.catalog', 'catalog content header'),l=(0,x.jsx)(n0,{businessId:t,isRMNBrandPartner:r,partnerId:n,setShouldDisplayInfoBanner:a,sharedWithPartner:!1,shouldDisplayInfoBanner:s});return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(u.xu,{marginBottom:3,marginTop:4,paddingX:3,children:(0,x.jsx)(u.xv,{weight:"bold",children:i})}),(0,x.jsx)(u.xu,{children:l})]})},iN=function(e){var t,n=e.setSheetSubTitle,r=e.setCurrentSheet,s=e.setOnNextSheet,a=e.setSkipAssetAssignmentButton,i=e.setBackButton,l=e.partnerId,d=e.isRMNBrandPartner,_=(0,c.I0)(),f=(0,b.Z)(),m=(0,h.ZP)(),p=(0,o.useRef)(m),y=(0,eo.KJ)(),A=(0,v.Z)().checkExperiment,g=A("web_business_access_conversion_sharing").anyEnabled,S=A("business_access_rmn_catalog_sharing").anyEnabled,E=iC((0,o.useState)(rs.lJ.AUDIENCES),2),P=E[0],I=E[1],T=iC((0,o.useState)(!0),2),C=T[0],O=T[1],j=iC((0,o.useState)(!0),2),z=j[0],w=j[1],N=iC((0,o.useState)(!0),2),R=N[0],D=N[1],k=(0,c.v9)(nh),L=(0,c.v9)(ng),U=(0,c.v9)(nn),B=(0,o.useMemo)(function(){return Object.keys(k).length>0?Object.keys(k).filter(function(e){var t;return((null==(t=k[e])?void 0:t.length)||0)>0}).length:0},[k]),M=(0,o.useMemo)(function(){return Object.keys(L).length>0?Object.keys(L).filter(function(e){var t;return((null==(t=L[e])?void 0:t.length)||0)>0}).length:0},[L]),H=(0,o.useMemo)(function(){return Object.keys(U).length>0?Object.keys(U).filter(function(e){var t;return((null==(t=U[e])?void 0:t.length)||0)>0}).length:0},[U]);(0,o.useEffect)(function(){p.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"select-rmn-assets-sheet"})},[p]);var Z=(0,o.useCallback)(function(){_(tC({audiences:{resourceIdToRoles:{},resourceIdToNames:{}},conversionSegments:{resourceIdToRoles:{},resourceIdToNames:{}},catalogs:{resourceIdToRoles:{},resourceIdToNames:{}}})),r(rs.c0.SELECT_PARTNER_SHEET)},[_,r]),G=(0,o.useCallback)(function(){_(tC({audiences:{resourceIdToRoles:{},resourceIdToNames:{}},conversionSegments:{resourceIdToRoles:{},resourceIdToNames:{}},catalogs:{resourceIdToRoles:{},resourceIdToNames:{}}})),p.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"select-rmn-assets-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"skip-assets-button"}),r(rs.c0.PARTNER_INVITE_SUMMARY_SHEET)},[_,r,p]);(0,e9.Z)(function(){n(f._('Step 2 of 3', '[m10n]bizAccess.partnersInvite.assets.steps.second', 'Label to identify the current step, second, on Add Partners Invite flow')),a({onSkipAssetAssignment:G}),i({onBack:Z})}),(0,o.useEffect)(function(){s({onNext:function(){return r(rs.c0.PARTNER_INVITE_SUMMARY_SHEET)},disabled:0===B&&0===M&&0===H})},[s,r,B,M,H]);var F=function(e){I(e),m({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"select-rmn-assets-sheet",element:"BUSINESS_ACCESS_TAB",elementId:"select-rmn-assets-sheet-tab-".concat(e,"-selected")})},Y=f._('Audiences', '[m10n]bizAccess.employeeInvite.assets.sheet.sidebar.audiences.header', 'Label for audiences section within sidebar'),V=f._('Conversion data', '[m10n]bizAccess.employeeInvite.assets.sheet.sidebar.conversions.header', 'Label for conversion data section within sidebar'),q=f._('Catalogs', '[m10n]bizAccess.partnerInvite.assets.sheet.sidebar.catalogs.header', 'Label for catalogs section within sidebar');return Y="".concat(Y),V="".concat(V),q="".concat(q),P===rs.lJ.AUDIENCES?t=(0,x.jsx)(ij,{businessId:y,setShouldDisplayAudiencesInfoBanner:O,shouldDisplayAudiencesInfoBanner:C}):P===rs.lJ.CONVERSION_DATA?t=(0,x.jsx)(iz,{businessId:y,setShouldDisplayConversionSegmentsInfoBanner:w,shouldDisplayConversionSegmentsInfoBanner:z}):P===rs.lJ.CATALOGS&&(t=(0,x.jsx)(iw,{businessId:y,isRMNBrandPartner:d,partnerId:l,setShouldDisplayCatalogInfoBanner:D,shouldDisplayCatalogInfoBanner:R})),(0,x.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:iT(iT({},rS.M8),{},{borderTopStyle:"solid",borderBottomStyle:"solid"})},direction:"row",display:"flex",height:"calc(100% - ".concat(rS.x1.MAIN_CONTAINER.HEIGHT_OFFSET,")"),left:!0,position:"absolute",width:"100%",children:[(0,x.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:iT(iT({},rS.M8),{},{borderRightStyle:"solid"})},height:"calc(100% - ".concat(rS.x1.SECTIONS_CONTAINER.HEIGHT_OFFSET,")"),position:"fixed",width:200,children:[(0,x.jsx)(u.xu,{marginBottom:2,marginTop:4,paddingX:4,children:(0,x.jsx)(u.xv,{weight:"bold",children:f._('Assets', '[m10n]bizAccess.partnerInvite.assets.sheet.sidebar.assets.header', 'Sidebar header')})}),(0,x.jsx)(u.xu,{direction:"column",display:"flex",paddingX:1,children:(0,x.jsx)(s3,{active:P===rs.lJ.AUDIENCES,dataTestId:"audiences-section",label:Y,labelBadge:B>0?String(B):void 0,onClick:function(){return F(rs.lJ.AUDIENCES)}})}),S&&(0,x.jsx)(u.xu,{direction:"column",display:"flex",paddingX:1,children:(0,x.jsx)(s3,{active:P===rs.lJ.CATALOGS,dataTestId:"catalogs-section",label:q,labelBadge:H>0?String(H):void 0,onClick:function(){return F(rs.lJ.CATALOGS)}})}),g&&(0,x.jsx)(u.xu,{direction:"column",display:"flex",paddingX:1,children:(0,x.jsx)(s3,{active:P===rs.lJ.CONVERSION_DATA,dataTestId:"conversion-data-section",label:V,labelBadge:M>0?String(M):void 0,onClick:function(){return F(rs.lJ.CONVERSION_DATA)}})})]}),(0,x.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:200}},height:"calc(100% - ".concat(rS.x1.SECTIONS_CONTAINER.CONTENT_CONTAINER.HEIGHT_OFFSET,")"),overflow:"auto",position:"fixed",width:rS.x1.SECTIONS_CONTAINER.CONTENT_CONTAINER.WIDTH,children:t})]})};function iR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return iD(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iD(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ik=function(e){var t=e.hideSheet,n=e.sheetToShow,r=void 0===n?rs.c0.SELECT_PARTNER_SHEET:n,s=e.initialPartnerId,a=e.initialYourPartnershipRole,i=e.initialPartnerPartnershipRole,l=(0,b.Z)(),d=(0,c.I0)(),_=(0,h.ZP)(),f=(0,o.useRef)(_),m=iR((0,o.useState)(r),2),p=m[0],y=m[1],v=l._('Add new partner', '[m10n]bizAccess.add.partners.sheet.title', 'Sheet title for the add partners invite flow'),A=iR((0,o.useState)(v),2),g=A[0],S=A[1],E=l._('Step 1', '[m10n]bizAccess.add.partners.sheet.title', 'Sheet subtitle for the add partners invite flow'),P=iR((0,o.useState)(E),2),I=P[0],T=P[1],C=iR((0,o.useState)({onNext:function(){},disabled:!1}),2),O=C[0],j=C[1],z=iR((0,o.useState)(),2),N=z[0],R=z[1],D=iR((0,o.useState)(),2),k=D[0],L=D[1],U=iR((0,o.useState)(void 0===s?"":s),2),B=U[0],M=U[1],H=iR((0,o.useState)(a),2),Z=H[0],G=H[1],F=iR((0,o.useState)(i),2),Y=F[0],V=F[1],q=iR((0,o.useState)([]),2),Q=q[0],W=q[1],X=iR((0,o.useState)({name:"",country:{label:"",value:""},currency:{label:"",value:""}}),2),K=X[0],$=X[1];return(0,o.useEffect)(function(){N&&![rs.c0.PARTNER_INVITE_SUMMARY_SHEET,rs.c0.SELECT_ASSETS_SHEET,rs.c0.REQUEST_ASSETS_SHEET,rs.c0.SELECT_RMN_ASSETS_SHEET].includes(p)&&R(void 0);var e=Z===rs.lm.RMN&&Y===rs.lm.BRAND&&p===rs.c0.SELECT_PARTNER_SHEET;!k||[rs.c0.SELECT_ASSETS_SHEET,rs.c0.REQUEST_ASSETS_SHEET,rs.c0.SELECT_RMN_ASSETS_SHEET].includes(p)||e||L(void 0)},[N,k,p,Z,Y,L]),(0,o.useEffect)(function(){f.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"add-partner-flow-sheet"})},[f]),(0,x.jsx)(u.xu,{children:(0,x.jsxs)(w.Z,{footer:(0,x.jsx)(u.xu,{"data-test-id":"add-partner-flow-sheet-footer",children:(0,x.jsx)(rT,{backButton:N,buttonSize:"lg",cancelButton:{onCancel:function(){d(tj()),t(),_({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"add-partner-flow-sheet-"+p,element:"BUSINESS_ACCESS_BUTTON",elementId:"cancel-button"})}},nextButton:O,skipAssetAssignmentButton:k})}),hideSheet:function(){d(tj()),t()},size:"lg",subTitle:I,subTitleSize:"300",subTitleStyles:{marginTop:-6},title:g,children:[p===rs.c0.SELECT_PARTNER_SHEET&&(0,x.jsx)(it,{adAccountInformation:K,domainRestrictions:Q,partnerId:B,partnerPartnershipRole:Y,setAdAccountInformation:$,setCurrentSheet:y,setDomainRestrictions:W,setOnNextSheet:j,setPartnerId:M,setPartnerPartnershipRole:V,setSheetSubTitle:T,setSkipButton:L,setYourPartnershipRole:G,yourPartnershipRole:Z}),p===rs.c0.SELECT_ASSETS_SHEET&&(0,x.jsx)(oN,{partnerId:B,setBackButton:R,setCurrentSheet:y,setOnNextSheet:j,setSheetSubTitle:T,setSheetTitle:S,setSkipAssetAssignmentButton:L,type:"ADD_PARTNER"}),p===rs.c0.SELECT_RMN_ASSETS_SHEET&&(0,x.jsx)(iN,{isRMNBrandPartner:Z===rs.lm.RMN&&Y===rs.lm.BRAND,partnerId:B,setBackButton:R,setCurrentSheet:y,setOnNextSheet:j,setSheetSubTitle:T,setSkipAssetAssignmentButton:L}),p===rs.c0.REQUEST_ASSETS_SHEET&&(0,x.jsx)(a2,{partnerId:B,setBackButton:R,setCurrentSheet:y,setOnNextSheet:j,setSheetSubTitle:T,setSkipAssetAssignmentButton:L}),p===rs.c0.PARTNER_INVITE_SUMMARY_SHEET&&(0,x.jsx)(aG,{adAccountInformation:K,dismissSheet:t,domainRestrictions:Q,partnerId:B,partnerPartnershipRole:Y,setBackButton:R,setCurrentSheet:y,setOnNextSheet:j,setSheetSubTitle:T,yourPartnershipRole:Z})]})})},iL=n(10953),iU=n(457223),iB=n(918082);function iM(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function iH(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){iM(o,r,s,a,i,"next",e)}function i(e){iM(o,r,s,a,i,"throw",e)}a(void 0)})}}function iZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return iG(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iG(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var iF=function(e){var t,n,r,s,a,l,d=e.hideSheet,_=e.id,m=e.partnerId,g=(0,b.Z)(),S=(0,(0,v.Z)().checkExperiment)("web_m10n_business_access_error_handling").anyEnabled,E=(0,eI.Z)(),P=(0,A.dI)().showToast,I=(0,c.I0)(),T=iZ((0,eO.Z)("partnerInvite",_,!0),3),C=T[0],O=T[1],j=T[2],z=(null==C||null==(t=C.user)?void 0:t.username)||(null==C||null==(n=C.user)?void 0:n.email)||(null==C||null==(r=C.extended_user_info)?void 0:r.username)||"",N=(0,oR.s0)(),R=(0,ra.Z)().params.userBizId,D=(null==C||null==(s=C.invite_data)?void 0:s.invite_status)==="EXPIRED",k=(0,eo.HU)(),L=k.businessAccess.isActingUserReseller,U=k.setResellerInviteAcceptedSuccessfulModal,B=(0,h.ZP)("BUSINESS_ACCESS_PARTNERS_PENDING"),M=(0,iB.Z)(),H=iZ((0,o.useState)(!1),2),Z=H[0],G=H[1];(0,o.useEffect)(function(){var e;(e=iH(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,tt.Tm)();case 3:t=e.sent,n=(null==C?void 0:C.assets)||[],G(((null==t?void 0:t.data)||[]).some(function(e){return e.id===R})&&n.length>0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),G(!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),function(){return e.apply(this,arguments)})()},[C,R]);var F=g._('You\u2019ve received a partner request!', '[m10n]bizAccess.invite.sheet.header', 'Header for reviewing an invite you have sent'),Y=g._('Review your invite', '[m10n]bizAccess.invite.sheet.header', 'Header for reviewing an invite you have sent');if(S&&O)throw new i.jX(O,Y);if(j||O)return null;var V=e2(null==C?void 0:C.assets);return(0,x.jsxs)(w.Z,{footer:function(e){var t=e.onDismissStart;return(0,x.jsx)(eA,{acceptButton:D?void 0:{onAccept:function(){var e;I((0,e0.Ol)({acceptInviteInterface:M,businessId:null!=R?R:"",type:"PARTNER",inviteId:_,onSuccess:(e=iH(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(B({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"partner-receive-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"accept-invite",business_id:R,partner_invite_id:_}),t(),!Z){e.next=8;break}return r=null==C||null==(n=C.assets)?void 0:n.map(function(e){return(0,iL.Z)({advertiser_id:e.asset_id},{tos_id:aN.tw})}),e.next=6,Promise.all(r);case 6:return U({businessName:z,onCloseModal:function(){return N((0,iU.Z)("SHARED_PARTNERS_DETAIL",R,m))}}),e.abrupt("return");case 8:P(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(g._('Accepted invite from {{name}}', '[m10n]bizAccess.invite.accept.success', 'Toast message for successfully accepting an invite'),{name:z}).join("")})}),N((0,iU.Z)("SHARED_PARTNERS_DETAIL",R,m));case 10:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),onError:function(e){var n=g._('There was an error in accepting the invite. Please try again.', '[m10n]bizAccess.invite.accept.error', 'Error message if accepting an invite fails');t(),P(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e||n,type:"error"})})}}))}},closeButton:{onClose:d},declineButton:{onDecline:function(){I((0,e0.dq)({acceptInviteInterface:M,businessId:null!=R?R:"",type:"PARTNER",inviteId:_,onSuccess:function(){B({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"partner-receive-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"decline-invite",business_id:R,partner_invite_id:_}),t(),P(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(g._('The invite from {{name}} has successfully been declined', '[m10n]bizAccess.invite.decline.success', 'Toast message for successfully declining an invite'),{name:z}).join("")})})},onError:function(e){var n=g._('There was an error in declining the invite. Please try again.', '[m10n]bizAccess.invite.decline.error', 'Error message if declining an invite fails');t(),P(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e||n,type:"error"})})}}))},buttonText:D?g._('Delete', '[m10n]bizAccess.sheet.delete', 'Delete the expired invite'):void 0}})},hideSheet:d,subTitle:(null==C||null==(a=C.invite_data)?void 0:a.sent_at)&&E(new Date(C.invite_data.sent_at).toString()),title:L?F:Y,children:[(0,x.jsx)(e$,{imageUrl:null==C||null==(l=C.extended_user_info)?void 0:l.image_small_url,subTitle:m,title:z}),(0,x.jsx)(u.xu,{"data-test-id":"partner-receive-invite-description",children:(0,x.jsx)(u.xu,{marginTop:8,children:D?(0,x.jsx)(u.he,{iconAccessibilityLabel:"Info",message:(0,x.jsx)(u.xv,{children:(0,sW.Z)(g._('{{businessName}}\'s request to partner with you has expired. To reinstate this invite, please ask them to resend.', '[m10n]bizAccess.partnerReceiveInviteSheet.expiredText', 'Warning text for a received expired partner invite. businessName: Business that sent the partner invite'),{businessName:z})},"partner-receive-invite-sheet-expired-text"),type:"warning"}):(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xv,{children:L?(0,sW.Z)(g._('You\u2019ve received an invite from {{businessName}}.', '[m10n]bizAccess.partnerReceiveInvitesheet.infoText', 'Description text on the partner relationship. businessName: Name of the business that invited you to be a partner.'),{businessName:z}):(0,sW.Z)(g._('You\'ve received an invite to partner with {{businessName}}.', '[m10n]bizAccess.partnerReceiveInvitesheet.infoText', 'Description text on the partner relationship. businessName: Name of the business that invited you to be a partner.'),{businessName:z})}),(0,x.jsx)(u.xu,{marginTop:4,children:(0,x.jsx)(u.xv,{children:L?(0,sW.Z)(g._('Once you accept, the partnership cannot be revoked. When {{businessName}} creates an ad account in one of your designated countries, you will automatically be granted admin permissions.', '[m10n]bizAccess.partnerReceiveInvitesheet.adminPermissionsText', 'Description text on the partner relationship assets. businessName: Name of the business that invited you to be a partner.'),{businessName:z}):(null==C?void 0:C.assets)&&g._('Accepting this invite gives you permission to work on the assets listed below.', '[m10n]bizAccess.partnerReceiveInvitesheet.assetsInfoText', 'Description text on the partner relationship assets. businessName: Name of the business that invited you to be a partner.')})}),Z&&(0,x.jsx)(u.xu,{marginTop:4,children:(0,x.jsx)(u.xv,{children:(0,y.nk)(g._('By accepting this invite, you represent that you are authorized to do so, and you agree to the {{ advertisingAgreement }}.', '[m10n]bizAccess.partnerReceiveInvitesheet.pasaText', 'Legal disclaimer. advertisingAgreement: Link to the Pinterest Advertising Agreement'),{advertisingAgreement:(0,x.jsx)(u.xv,{inline:!0,weight:"bold",children:(0,x.jsx)(u.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/business/pinterest-advertising-services-agreement",onClick:function(e){var t=e.dangerouslyDisableOnNavigation;return null==t?void 0:t()},target:"blank",underline:"always",children:g._('Pinterest Advertising Agreement', '[m10n]bizAccess.partnerReceiveInvitesheet.pasaLink', 'Linked text description for the Pinterest advertising agreement')})},"advertisingAgreementText")})})})]})})}),(0,x.jsx)(am,{customEmptyState:(0,x.jsx)(function(){return(0,x.jsx)(u.xu,{marginTop:12,paddingY:7,children:(0,x.jsxs)(u.kC,{alignItems:"center",direction:"column",gap:{row:0,column:1},children:[(0,x.jsx)(u.xv,{size:"200",weight:"bold",children:g._('No assets assigned', '[m10n]bizAccess.invite.sheet.emptyState.bold', 'No assets assigned to this partner on the invite')}),(0,x.jsx)(u.xv,{size:"200",children:g._('You can request access to assets from the partner page.', '[m10n]bizAccess.invite.sheet.emptyState.description', 'No assets assigned to this partner on the invite')})]})})},{}),rowData:V})]})},iY=["asset_id"];function iV(e){return(iV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return iQ(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iQ(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function iW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iW(Object(n),!0).forEach(function(t){iK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iK(e,t,n){var r;return(r=function(e,t){if("object"!=iV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iV(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==iV(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i$=function(e){var t,n,r,s,a,l,d,_,m=e.hideSheet,g=e.id,S=e.partnerId,E=(0,b.Z)(),P=(0,(0,v.Z)().checkExperiment)("web_m10n_business_access_error_handling").anyEnabled,I=(0,eI.Z)(),T=(0,A.dI)().showToast,C=(0,c.I0)(),O=(0,c.v9)($.wk),j=iq((0,eO.Z)("partnerRequest",g,!0),3),z=j[0],N=j[1],R=j[2],D=(null==z||null==(t=z.user)?void 0:t.username)||(null==z||null==(n=z.extended_user_info)?void 0:n.full_name)||(null==z||null==(r=z.extended_user_info)?void 0:r.username)||(null==z||null==(s=z.user)?void 0:s.email)||"",k=null==z||null==(a=z.created_by_biz)?void 0:a.id,L=(0,oR.s0)(),U=(0,ra.Z)().params.userBizId,B=iq((0,o.useState)(void 0),2),M=B[0],H=B[1],Z=iq((0,o.useState)(void 0),2),G=Z[0],F=Z[1],Y=(null==z||null==(l=z.invite_data)?void 0:l.invite_status)==="EXPIRED",V=(0,h.ZP)("BUSINESS_ACCESS_PARTNERS_PENDING"),q=null==z?void 0:z.business_roles[0];(0,o.useEffect)(function(){var e;H(null!=q?q:void 0),F((null!=(e=null==z?void 0:z.assets)?e:[]).reduce(function(e,t){var n=t.asset_id,r=t.permissions;return iX(iX({},e),{},iK({},n,r))},{}))},[q,null==z?void 0:z.assets]);var Q=function(){return(0,x.jsx)(u.xu,{marginTop:12,paddingY:7,children:(0,x.jsxs)(u.kC,{alignItems:"center",direction:"column",gap:{row:0,column:1},children:[(0,x.jsx)(u.xv,{size:"200",weight:"bold",children:E._('No assets requested', '[m10n]bizAccess.request.sheet.emptyState.title', 'Title for the empty state when no assets requested by this partner to the user')}),(0,x.jsx)(u.xv,{size:"200",children:E._('You can assign access to assets from the partner page.', '[m10n]bizAccess.request.sheet.emptyState.description', 'Indicate the action that the user can take, like assig access to assets in the partner page')})]})})},W=E._('You\'ve received a request!', '[m10n]bizAccess.request.sheet.headerReceived', 'Header for reviewing a request you have received');if(P&&N)throw new i.jX(N,W);if(R||N)return null;var X=e2(null==z?void 0:z.assets).map(function(e){var t=e.asset_id,n=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,iY);return iX(iX({},n),{},{asset_id:t,permissions:G?G[t]:n.permissions})});return(0,x.jsxs)(w.Z,{footer:function(e){var t=e.onDismissStart;return(0,x.jsx)(eJ,{acceptButton:Y?void 0:{onAccept:function(){C((0,e0.ED)({businessId:null!=U?U:"",acceptedRole:M,acceptedAssets:G,requestId:g,onSuccess:function(){V({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"partner-receive-request-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"accept-request",business_id:U,partner_request_id:g}),t(),T(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(E._('The partner request from {{name}} has been accepted', '[m10n]bizAccess.request.accept.success', 'Toast message for successfully accepting a request'),{name:D}).join("")})}),L((0,iU.Z)("PARTNERS_DETAIL",U,S))},onError:function(e,n){V({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"partner-receive-request-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"accept-request",errorClass:n,errorMessage:e,business_id:U,partner_request_id:g});var r=E._('There was an error in accepting the request. Please try again.', '[m10n]bizAccess.request.accept.error', 'Error message if accepting a request fails');t(),T(function(t){var n=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:e||r,type:"error"})})}}))}},closeButton:{onClose:m},declineButton:{onDecline:function(){C((0,e0.hY)({businessId:null!=U?U:"",requestId:g,onSuccess:function(){V({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"partner-receive-request-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"decline-request",business_id:U,partner_request_id:g}),t(),T(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(E._('The request from {{name}} has successfully been declined', '[m10n]bizAccess.request.decline.success', 'Toast message for successfully declining a request'),{name:D}).join("")})})},onError:function(e,n){V({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"partner-receive-request-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"decline-request",errorClass:n,errorMessage:e,business_id:U,partner_request_id:g});var r=E._('There was an error in declining the request. Please try again.', '[m10n]bizAccess.request.decline.error', 'Error message if declining a request fails');t(),T(function(t){var n=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:e||r,type:"error"})})}}))},buttonText:Y?E._('Delete', '[m10n]bizAccess.sheet.delete', 'Delete the expired request'):void 0}})},hideSheet:m,subTitle:(null==z||null==(d=z.invite_data)?void 0:d.sent_at)&&I(new Date(z.invite_data.sent_at).toString()),title:W,children:[(0,x.jsx)(e$,{imageUrl:null==z||null==(_=z.extended_user_info)?void 0:_.image_small_url,subTitle:k,title:D}),(0,x.jsx)(u.xu,{id:"partner-receive-request-sheet",children:(0,x.jsx)(u.xu,{marginTop:8,children:Y?(0,x.jsx)(u.he,{iconAccessibilityLabel:"Info",message:(0,x.jsx)(u.xv,{children:(0,sW.Z)(E._('{{businessName}}\'s request to partner with you has expired. To reinstate this request, please ask them to resend.', '[m10n]bizAccess.partnerReceiveRequestSheet.expiredText', 'Warning text for a received expired partner request. businessName: Business that sent the partner request'),{businessName:D})},"partner-Receive-request-sheet-expired-tex"),type:"warning"}):(0,x.jsx)(u.xv,{children:null!=z&&z.assets&&0!==z.assets.length?(0,sW.Z)(E._('You\'ve received a request to partner with {{businessName}}. Accepting this request means you can grant them access to the assets listed below.', '[m10n]bizAccess.partnerReceiveRequestSheet.infoText', 'Description text on the partner relationship. businessName:business name'),{businessName:D}):(0,sW.Z)(E._('You\'ve received a request to partner with {{businessName}}. Accepting this request means you can grant them access to your assets.', '[m10n]bizAccess.partnerReceiveRequestSheet.infoText', 'Description text on the partner relationship. businessName:business name'),{businessName:D})})})}),O?(0,x.jsx)(u.xH,{accessibilityLabel:E._('Loading ad accounts', '[m10n]bizAccess.partnerRequest.loadingAdAccounts', 'Spinner for loading ad accounts'),delay:!1,show:!0,size:"sm"}):Y?(0,x.jsx)(eK,{customEmptyState:(0,x.jsx)(Q,{}),rowData:X}):(0,x.jsx)(eK,{customEmptyState:(0,x.jsx)(Q,{}),onAccessChange:function(e){var t,n=e.permissions,r=e.assetId;V((iK(t={eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"partner-receive-request-sheet",element:"BUSINESS_ACCESS_FIELD",elementId:"change-access"},{AD_ACCOUNT:"ad_account_id",PROFILE:"profile_id",CATALOG:"catalog_id"}[e.assetType]||"ad_account_id",r),iK(t,"business_id",U),iK(t,"partner_request_id",g),t)),F(iX(iX({},G),{},iK({},r,0===n.length?["NO_ACCESS"]:n)))},rowData:X})]})};function iJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i0=function(e){var t,n,r,s,a,l,d,_=e.hideSheet,m=e.id,g=(0,b.Z)(),S=(0,(0,v.Z)().checkExperiment)("web_m10n_business_access_error_handling").anyEnabled,E=(0,eI.Z)(),P=(0,A.dI)().showToast,I=(0,c.I0)(),T=function(e){if(Array.isArray(e))return e}(t=(0,eO.Z)("partnerInvite",m,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),3!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,3)||function(e,t){if(e){if("string"==typeof e)return iJ(e,3);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iJ(e,3):void 0}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),C=T[0],O=T[1],j=T[2],z=(null==C||null==(n=C.user)?void 0:n.username)||(null==C||null==(r=C.user)?void 0:r.email)||(null==C||null==(s=C.extended_user_info)?void 0:s.username)||"",N=(0,eo.KJ)(),R=(null==C||null==(a=C.invite_data)?void 0:a.invite_status)==="EXPIRED",D=(0,h.ZP)("BUSINESS_ACCESS_PARTNERS_PENDING"),k=g._('Review your invite', '[m10n]bizAccess.invite.sheet.header', 'Header for reviewing an invite you have sent');if(S&&O)throw new i.jX(O,k);if(j||O)return null;var L=e2(null==C?void 0:C.assets);return(0,x.jsxs)(w.Z,{footer:function(e){var t=e.onDismissStart;return(0,x.jsx)(u.xu,{"data-test-id":"partner-send-invite-sheet-footer",children:(0,x.jsx)(eA,{closeButton:{onClose:_},deleteButton:{onDelete:function(){I((0,e0.UF)({businessId:N,type:"PARTNER",inviteId:m,onSuccess:function(){D({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"partner-send-invite-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"delete-invite"}),t(),P(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(g._('The invite for {{name}} has successfully been deleted', '[m10n]bizAccess.invite.delete.success', 'Toast message for successfully deleting an invite'),{name:z}).join("")})})},onError:function(e){var n=g._('There was an error in deleting the invite. Please try again.', '[m10n]bizAccess.invite.delete.error', 'Error message if deleting an invite fails');t(),P(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e||n,type:"error"})})}}))}},resendButton:{onResend:function(){I((0,e0.c_)({businessId:N,inviteId:m,type:"PARTNER",onSuccess:function(){D({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"partner-send-invite-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"resend-invite"}),P(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(g._('New invite sent to {{name}}', '[m10n]bizAccess.invite.resend.success', 'Toast message for successfully resending an invite'),{name:z}).join("")})}),t()},onError:function(e){var n=g._('There was an error in resending the invite. Please try again.', '[m10n]bizAccess.invite.resend.error', 'Error message if resending an invite fails');t(),P(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e||n,type:"error"})})}}))}}})})},hideSheet:_,subTitle:(null==C||null==(l=C.invite_data)?void 0:l.sent_at)&&E(new Date(C.invite_data.sent_at).toString()),title:k,children:[(0,x.jsx)(e$,{imageUrl:null==C||null==(d=C.extended_user_info)?void 0:d.image_small_url,title:z}),(0,x.jsx)(u.xu,{marginTop:8,children:R?(0,x.jsx)(u.he,{iconAccessibilityLabel:"Info",message:(0,x.jsx)(u.xv,{children:(0,sW.Z)(g._('{{businessName}} hasn\'t responded to your partner invite. To work on the assets below, you can resend your invite.', '[m10n]bizAccess.partnerSendInviteSheet.expiredText', 'Warning text for a sent expired partner invite. businessName: Business you sent invite to partner with'),{businessName:z})},"partner-send-inviteSheet-expired-text"),type:"warning"}):(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xv,{children:(0,sW.Z)(g._('You invited {{businessName}} to partner with your business.', '[m10n]bizAccess.partnerSendInviteSheet.infoText', 'Description text on the partner relationship'),{businessName:z})})}),(0,x.jsx)(u.xu,{marginTop:4,children:(0,x.jsx)(u.xv,{children:null!=C&&C.assets&&0===C.assets.lengh?g._('A partner can only do work on assets they have been granted access to. Granting access won\'t impact ownership.', '[m10n]bizAccess.partnerSendInviteSheet.noAdAccountInfoText', 'Additional description text on the partner relationship'):(0,sW.Z)(g._('Once {{businessName}} accepts this invite, they can work on any assets listed below.', '[m10n]bizAccess.partnerSendInviteSheet.adAccountInfoText', 'Additional description text on the partner relationship. businessName: Name of business invited to partner.'),{businessName:z})})})]})}),(null==C?void 0:C.assets)&&(0,x.jsx)(am,{customEmptyState:(0,x.jsx)(function(){return(0,x.jsx)(u.xu,{marginTop:12,paddingY:7,children:(0,x.jsxs)(u.kC,{alignItems:"center",direction:"column",gap:{row:0,column:1},children:[(0,x.jsx)(u.xv,{size:"200",weight:"bold",children:g._('No assets assigned', '[m10n]bizAccess.invite.sent.sheet.emptyState.title', 'Title for the empty state when no assets asssigned by this user to the partner')}),(0,x.jsx)(u.xv,{size:"200",children:g._('You can assigns assets from the partner page.', '[m10n]bizAccess.invite.sent.sheet.emptyState.description', 'Indicate the action that the user can take, like assign access to assets in the partner page')})]})})},{}),rowData:L})]})};function i1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i2=function(e){var t,n,r,s,o,a,l,d,_,m=e.hideSheet,g=e.id,S=(0,b.Z)(),E=(0,v.Z)().checkExperiment,P=E("web_m10n_business_access_error_handling").anyEnabled,I=(0,eI.Z)(),T=(0,A.dI)().showToast,C=(0,c.I0)(),O=function(e){if(Array.isArray(e))return e}(t=(0,eO.Z)("partnerRequest",g,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),3!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,3)||function(e,t){if(e){if("string"==typeof e)return i1(e,3);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i1(e,3):void 0}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=O[0],z=O[1],N=O[2],R=(0,eo.KJ)(),D=(null==j||null==(n=j.invite_data)?void 0:n.invite_status)==="EXPIRED",k=(0,oR.TH)(),L=E("web_m10n_business_access_catalogs").anyEnabled,U=(0,oU.mW)(k)&&L,B=(0,h.ZP)(U?"BUSINESS_ACCESS_PARTNERS_PENDING":"BUSINESS_ACCESS_CATALOGS"),M=(null==j||null==(r=j.user)?void 0:r.username)||(null==j||null==(s=j.extended_user_info)?void 0:s.full_name)||(null==j||null==(o=j.extended_user_info)?void 0:o.username)||(null==j||null==(a=j.user)?void 0:a.email)||"",H=null==j||null==(l=j.user)?void 0:l.id,Z=S._('Review your request', '[m10n]bizAccess.request.sheet.header', 'Header for reviewing an request you have sent');if(P&&z)throw new i.jX(z,Z);if(N||z)return null;var G=e2(null==j?void 0:j.assets);return(0,x.jsxs)(w.Z,{footer:function(e){var t=e.onDismissStart;return(0,x.jsx)(eJ,{closeButton:{onClose:m},deleteButton:{onDelete:function(){C((0,e0.Jl)({businessId:R,requestId:g,onSuccess:function(){B({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"partner-send-request-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"delete-request"}),t(),T(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(S._('The request for {{name}} has successfully been deleted', '[m10n]bizAccess.request.delete.success', 'Toast message for successfully deleting an request'),{name:M}).join("")})})},onError:function(e){var n=S._('There was an error in deleting the request. Please try again.', '[m10n]bizAccess.request.delete.error', 'Error message if deleting an request fails');t(),T(function(t){var r=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:r,text:e||n,type:"error"})})},isCatalogsPage:U}))}},resendButton:{onResend:function(){C((0,e0.JJ)({businessId:R,requestId:g,onSuccess:function(){B({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"partner-send-request-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"resend-request"}),t(),T(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:S._('Your partnership request was successfully resent!', '[m10n]bizAccess.request.resend.success', 'Toast message for successfully resending an request')})})},onError:function(e,n){var r=S._('There was an error in resending the request. Please try again.', '[m10n]bizAccess.request.resend.error', 'Error message if resending an request fails');[2760].includes(n)&&(e=S._('Rate of resending requests exceeds limit.', '[m10n]bizAccess.request.resend.error', 'Error message if there is already pending requests sent')),t(),T(function(t){var n=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:e||r,type:"error"})})}}))}}})},hideSheet:m,subTitle:(null==j||null==(d=j.invite_data)?void 0:d.sent_at)&&I(new Date(j.invite_data.sent_at).toString()),title:Z,children:[(0,x.jsx)(e$,{imageUrl:null==j||null==(_=j.extended_user_info)?void 0:_.image_small_url,subTitle:H,title:M}),(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xu,{marginTop:8,children:D?(0,x.jsx)(u.he,{iconAccessibilityLabel:"Info",message:(0,x.jsx)(u.xv,{children:(0,sW.Z)(S._('{{businessName}} hasn\'t responded to your partner request. To work on the assets below, you can resend your request.', '[m10n]bizAccess.partnerSendRequestSheet.expiredText', 'Warning text for a sent expired partner request. businessName: Business you sent request to partner with'),{businessName:M})},"partner-send-request-sheet-expired-text"),type:"warning"}):(0,x.jsx)(u.xv,{children:null!=j&&j.assets&&0!==j.assets.length?(0,sW.Z)(S._('You\'ve asked {{businessName}} to partner and share their business assets with you. Once {{businessName}} approves this request, you can assign employees to work on these assets.', '[m10n]bizAccess.partnerSendRequestSheet.noAdAccountInfoText. businessName: Business you sent request to partner with', 'Additional description text on the partner relationship with no assets. businessName:business name'),{businessName:M}):(0,sW.Z)(S._('You\'ve asked {{businessName}} to partner and share their business assets with you. Once {{businessName}} approves this request, they can grant you to access to work on their assets.', '[m10n]bizAccess.partnerSendRequestSheet.adAccountInfoText. businessName: Business you sent request to partner with', 'Additional description text on the partner relationship. businessName: business name'),{businessName:M})})})}),(null==j?void 0:j.assets)&&(0,x.jsx)(eK,{customEmptyState:(0,x.jsx)(function(){return(0,x.jsx)(u.xu,{marginTop:12,paddingY:7,children:(0,x.jsxs)(u.kC,{alignItems:"center",direction:"column",gap:{row:0,column:1},children:[(0,x.jsx)(u.xv,{size:"200",weight:"bold",children:S._('No assets requested', '[m10n]bizAccess.request.sent.sheet.emptyState.title', 'Title for the empty state when no assets requested by this user to the parter')}),(0,x.jsx)(u.xv,{size:"200",children:S._('You can request access to assets from the partner page.', '[m10n]bizAccess.request.sent.sheet.emptyState.description', 'Indicate the action that the user can take, like assign access to assets in the partner page')})]})})},{}),rowData:G})]})},i5=n(514223),i6=n(566373);function i3(e){return function(e){if(Array.isArray(e))return i4(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i8(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i8(e,t){if(e){if("string"==typeof e)return i4(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i4(e,t):void 0}}function i4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i7=function(e){var t,n=e.invalidScopes,r=e.scopes,s=e.setScopes,a=(0,b.Z)(),i=(0,o.useRef)(null),l=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||i8(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],d=l[1];(0,o.useEffect)(function(){i.current&&i.current.focus()},[i,r]);var _=function(e){s(r.filter(function(t){return t!==e}))},f=r.map(function(e){var t=null!=n&&n.includes(e)?"error":"default";return(0,x.jsx)(u.Vp,{onRemove:function(){return _(e)},text:e,type:t},e)});return(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.nv,{ref:i,id:"scopes-input",label:a._('Scopes', '[m10n]businessAccess.refreshAccessToken.sheet.scopes.label', 'Label for the scopes input field'),onBlur:function(){c.trim()&&!r.includes(c.trim())&&(s([].concat(i3(r),[c.trim()])),d(""))},onChange:function(e){return d(e.value)},onKeyDown:function(e){var t=e.event,n=t.keyCode,o=t.target;n===i5.Z.BACKSPACE&&o instanceof HTMLInputElement&&0===o.selectionEnd?s(i3(r.slice(0,-1))):(n===i5.Z.ENTER||n===i5.Z.SPACE)&&""!==c.trim()&&(s([].concat(i3(r),[c.trim()])),d(""))},placeholder:f.length<1?a._('Enter scope', '[m10n]businessAccess.refreshAccessToken.sheet.placeholder', 'Placeholder for the scope input field'):void 0,tags:f,value:c}),(0,x.jsx)(i6.Z,{errorMessages:0===n.length?[]:n.map(function(e){return(0,ev.Z)(a._('{{scope}} is not a valid scope', '[m10n]businessAccess.refreshAccessToken.sheet.scopes.invalid', 'Invalid scope message. scope: is the user scope input that is invalid'),{scope:e})}),useRedStyle:!0})]})},i9=n(813632),le=function(e){var t=e.selectedId,n=e.onSelectChange,r=e.size;return{field:"id",headerName:"",minWidth:24,width:24,TableCellComponent:function(e){var s=e.data,o=s.asset_id||s.id;return(0,x.jsx)(u.xu,{"data-test-id":"radio-button-".concat(o),children:(0,x.jsx)(u.FX.RadioButton,{checked:t===o,id:o,onChange:function(){return n(o)},size:r,value:o})})},justifying:"center"}};function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lt(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lt(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ls(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lo(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lo(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var la=function(e){var t=e.app,n=e.hideSheet,r=(0,b.Z)(),s=(0,c.I0)(),a=(0,A.dI)().showToast,i=(0,eo.KJ)(),l=(0,h.ZP)(),d=(0,o.useRef)(l),_=ls((0,o.useState)([]),2),v=_[0],g=_[1],S=ls((0,o.useState)(""),2),E=S[0],P=S[1],I=ls((0,o.useState)(!1),2),T=I[0],C=I[1],O=ls((0,o.useState)([]),2),j=O[0],z=O[1],N=(0,c.v9)(sB.fR),R=(0,c.v9)(sB.I0),k=(0,c.v9)(sB.sv),L=function(e){C(!0),"CANCEL"===e?(d.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"refresh-access-token-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"cancel-button"}),n()):"REFRESH_TOKEN"===e&&(s((0,sU.jb)({appId:t.id||"",businessId:i,scopes:v,systemUserId:E})),d.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"refresh-access-token-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"confirmation-button"}))};(0,o.useEffect)(function(){d.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"refresh-access-token-sheet"})},[d]),(0,o.useEffect)(function(){if(T){if(N)a(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:r._('System user token has been refreshed.', '[m10n]businessAccess.refreshAccessToken.sheet.toast', 'message confirming that system user token has been refreshed.')})}),n(),C(!1);else if(k)if(d.current({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_SHEET",componentId:"refresh-access-token-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"confirmation-button",errorClass:JSON.stringify(k).slice(0,64),errorMessage:(null==(t=(0,sv.Z)(k,"stack"))?void 0:t.slice(0,4096))||(0,sv.Z)(k,"message")||""}),(null!=(s=k.api_error_code)?s:k.code)===282)z(null==k||null==(e=k.extraData)?void 0:e.objects);else{var e,t,s,o=r._('There was an error in system user token. Please try again.', '[m10n]businessAccess.refreshAccessToken.sheet.toast.error', 'Error message if refreshing system user token fails');a(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:k.message_detail||o,type:"error"})})}}},[T,N,k,n,a,r]),(0,e9.Z)(function(){var e,n;s((0,sT.ye)({businessId:i})),s((0,sT.OA)({assetId:t.id||"",businessId:(null==(e=t.owner)?void 0:e.id)||"",id:(null==(n=t.owner)?void 0:n.id)||""}))});var U=(0,c.v9)(sO.tp),B=(0,c.v9)(sO.I5).map(function(e){var t=U[e.id||""];return lr(lr({},e),{},{created_time:null==t?void 0:t.created_time,updated_time:null==t?void 0:t.updated_time})}),M=r._('Generate refresh token', '[m10n]businessAccess.refreshAccessToken.sheet.title', 'Refresh access token sheet title'),H=(0,y.nk)(r._('Step 1 of 1 \u2022 [{{appName}} (ID: {{appId}})]', '[m10n]businessAccess.refreshAccessToken.sheet.subtitle', 'Refresh access token sheet subtitle. appName: name of the app, appId: id of the app'),{appName:t.name,appId:t.id}).join("");return(0,x.jsx)(w.Z,{footer:(0,x.jsxs)(u.kC,{direction:"row",justifyContent:"between",children:[(0,x.jsx)(u.zx,{color:"transparent",onClick:function(){return L("CANCEL")},text:r._('Cancel', '[m10n]businessAccess.refreshAccessToken.sheet.tour.subheader', 'Button to cancel access token generation')}),(0,x.jsx)(u.zx,{color:"red",disabled:0===v.length||0===E.length,onClick:function(){return L("REFRESH_TOKEN")},text:r._('Generate refresh token', '[m10n]businessAccess.refreshAccessToken.sheet.tour.subheader', 'Button to confirm the generation of the access token')})]}),hideSheet:n,size:"lg",subTitle:H,title:M,children:(0,x.jsxs)(u.kC,{direction:"column",gap:4,children:[(0,x.jsx)(u.xv,{children:r._('Enter scopes to generate a token', '[m10n]businessAccess.refreshAccessToken.description', 'Description of the side sheet used to add apps to a system user account')}),(0,x.jsx)(i7,{invalidScopes:j,scopes:v,setScopes:g}),(0,x.jsx)(u.FX,{id:"system-users-selector",legend:"",children:(0,x.jsx)(D.Z,{columnDefs:[le({onSelectChange:function(e){return P(e)},selectedId:E,size:"sm"}),(0,Z.Z)(r,{headerName:r._('System user name', '[m10n]businessAccess.systemUser.name', 'System user name column header'),clickable:!1,type:"SYSTEM_USER"}),(0,F.Z)(r,{valueGetter:function(e){return e.user.business_roles.map((0,eR.B)(r)).join((0,m.bH)(r))}}),(0,i9.Z)(r,{field:"updated_time"})],id:i,isLoading:R,isPaginationOptional:!0,onPageChange:function(){},onRowCountChange:function(){},pageType:f.Q6.APPS,rowData:B})})]})})},li=n(124828),ll=n(375193);function lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var lu=function(e){var t,n,r=e.onSelectChange,s=e.responseStatuses,a=e.data,i=(0,b.Z)(),l=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return lc(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lc(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],d=l[1],_=(0,o.useRef)(null),f=function(e){var t=e.item;r(a.requestId,"approve"===t.value)},m={approve:i._('Approve', '[m10n].bizAccess.RespondAOAACell.approve', 'option to approve ad account creation'),reject:i._('Reject', '[m10n].bizAccess.RespondAOAACell.reject', 'option to reject ad account creation'),select:i._('Select', '[m10n].bizAccess.RespondAOAACell.select', 'text for button before selecting approve or reject')},h=s[a.requestId];if(h){var p=h.isApproved;n={value:p?"approve":"reject",label:p?m.approve:m.reject}}else n={value:"",label:m.select};return(0,x.jsx)(u.kC,{alignItems:"center",justifyContent:"start",children:(0,x.jsxs)(u.xu,{bottom:!0,display:"flex",justifyContent:"center",children:[(0,x.jsx)(u.zx,{ref:_,accessibilityControls:"truncation-dropdown-example",accessibilityExpanded:c,accessibilityHaspopup:!0,iconEnd:"arrow-down",onClick:function(){return d(function(e){return!e})},selected:c,size:"lg",text:n.label}),c&&(0,x.jsxs)(u.Lt,{anchor:_.current,disableMobileUI:!0,id:a.requestId,onDismiss:function(){return d(!1)},children:[(0,x.jsx)(u.Lt.Item,{onSelect:f,option:{label:m.approve,value:"approve"},selected:n}),(0,x.jsx)(u.Lt.Item,{onSelect:f,option:{label:m.reject,value:"reject"},selected:n})]})]})})},ld=function(e){var t=e.responseStatuses,n=e.onSelectChange;return{field:"id",headerName:"",minWidth:D.I.columnWidths.sm,TableCellComponent:function(e){var r=e.data;return(0,x.jsx)(lu,{data:r,onSelectChange:n,responseStatuses:t})},justifying:"center"}},l_=n(915200),lf=n(632323),lm=n(184587);function lh(e){return(lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lp(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function lb(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){lp(o,r,s,a,i,"next",e)}function i(e){lp(o,r,s,a,i,"throw",e)}a(void 0)})}}function ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ly(Object(n),!0).forEach(function(t){lA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lA(e,t,n){var r;return(r=function(e,t){if("object"!=lh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lh(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==lh(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||lS(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lS(e,t){if(e){if("string"==typeof e)return lx(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lx(e,t):void 0}}function lx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var lE=function(e){var t=e.hideSheet,n=(0,b.Z)(),r=(0,eo.KJ)(),s=(0,(0,v.Z)().checkExperiment)("web_m10n_business_access_error_handling").anyEnabled,a=(0,A.dI)().showToast,i=(0,eo.nU)(),l=(0,oR.s0)(),d=(0,h.ZP)("BUSINESS_ACCESS_AD_ACCOUNTS"),_=(0,c.I0)(),m=(0,oR.TH)().pathname,g=m.includes(":userBizId/ad-accounts/pending"),S=(0,c.v9)(lm.Mr),E=lg((0,o.useState)(),2),P=E[0],I=E[1],T=0,C=lv({},Object.keys(S).reduce(function(e,t){var n,s=S[t];if("PENDING"!==s.status||s.client_business.id!==r)return e;T+=1;var o=s.owner_business.id,a=s.permissions.findIndex(function(e){return Object.keys(e).includes(r)}),i={name:s.name,agencyUserId:s.owner_business.id,agencyName:s.owner_business.full_name,agencyImage:s.owner_business.image_small_url||"",permissions:s.permissions[a][r],clientUserId:r,requestId:s.request_id};return lv(lv({},e),{},lA({},o,[].concat(function(e){if(Array.isArray(e))return lx(e)}(n=e[o]||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||lS(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[lv(lv({},i),{},{requestId:t})])))},{})),O=lg((0,o.useState)({}),2),j=O[0],z=O[1],N=Object.keys(j).length===T,R=n._('Approve or reject ad account creation requests', '[m10n]bizAccess.aoaa.request.sheet.header', 'Header for reviewing an ad account request from a partner agency'),k=function(e){var t=e.agencyId,r=e.requests,s=(0,(0,v.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,o=r[0].agencyImage,a=r[0].agencyName;return(0,x.jsxs)(u.xu,{borderStyle:"sm",marginTop:3,padding:3,rounding:3,children:[(0,x.jsx)(e$,{imageUrl:o,title:a}),(0,x.jsx)(D.Z,{columnDefs:[eZ(n,{clickable:!1,weight:"bold",isAOAAAdAccount:!0}),(0,ll.Z)(n,{isAOAAAdAcccount:!0,inCatalogManagment:s}),ld({responseStatuses:j,onSelectChange:function(e,t){z(function(n){return n[e]={isApproved:t},lv({},n)})}})],config:lv(lv({},D.I),{},{borderStyle:"none"}),id:t,isLoading:!1,onRowCountChange:function(){},pageType:f.Q6.AD_ACCOUNTS_DETAIL,rowData:r},t)]})};return(0,x.jsx)(w.Z,{footer:function(e){var t=e.onDismissStart;return(0,x.jsx)(eJ,{submit:{onSubmit:function(){lb(regeneratorRuntime.mark(function e(){var s,o,c,u,h,b,v,A;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=Object.keys(j).filter(function(e){return j[e].isApproved}),o=Object.keys(j).reduce(function(e,t){return e+ +!!j[t].isApproved},0),e.next=5,Promise.all(s.map(function(){var e=lb(regeneratorRuntime.mark(function e(t){var n,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,lf.u_)({clientBusinessId:r,country:S[t].country,requestId:t});case 2:return s=e.sent,e.abrupt("return",t===i?null==s||null==(n=s.data)?void 0:n.id:null);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:if(c=e.sent,!((u=Object.keys(j).filter(function(e){return!j[e].isApproved})).length>0)){e.next=10;break}return e.next=10,(0,lf.iL)({businessId:r,requestIds:u});case 10:h=c.find(function(e){return!!e}),m.includes("details")&&h&&l((0,iU.Z)("AD_ACCOUNTS_DETAIL",r,h)),_({type:"CLEAR_AOAA_REQUESTS"}),_((0,l_.vm)({businessId:r,updateDataOnly:!g,statuses:m.includes("details")?["PENDING","ACCEPTED","DECLINED"]:["PENDING"]})),g||_((0,Y.cE)({businessId:r,sortBy:"name",sortDirection:f.IR.ASCENDING})),d({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"respond-aoaa-requests-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",business_id:r}),t(),a(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:(0,y.nk)(n.ngettext('{{numAdAccountsApproved}} ad account approved', '{{numAdAccountsApproved}} ad accounts approved', o, '[m10n]bizAccess.aoaa.request.sheet.numAdAccountsApproved', 'number of agency-owned ad accounts that were just approved numAdAccountsApproved:number of ad accounts approved'),{numAdAccountsApproved:o}).join("")})}),e.next=26;break;case 20:e.prev=20,e.t0=e.catch(0),(A=(v=e.t0).api_error_code===f.O1.SANCTIONED_COUNTRY_FOR_BUSINESS)?I(A):a(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:n._('Sorry! Something went wrong.', '[m10n]businessAccess.principalAssignment.error.toast', 'Error toast informing user that the profile role assignment has failed.'),type:"error"})}),d({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"create-ad-account-form",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(v).slice(0,64),errorMessage:(null==(b=(0,sv.Z)(v,"stack"))?void 0:b.slice(0,4096))||(0,sv.Z)(v,"message")||""});case 26:case"end":return e.stop()}},e,null,[[0,20]])}))()},disabled:!N}})},hideSheet:t,title:R,children:(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xu,{marginBottom:5,children:(0,x.jsx)(u.xv,{children:n._('Approve or reject ad account creation requests listed below. The partner who creates the ad account will own the ad account and determine your level of permission. You will lose ad account access when the partnership ends.', '[m10n]bizAccess.aoaa.request.infoText', 'Description text on the agency-owned ad account respond sheet')})}),(0,x.jsx)(u.xu,{marginBottom:5,children:(0,x.jsx)(u.ci,{iconAccessibilityLabel:n._('Informing user that there is an incoming agency owned ad account creation request.', '[m10n]bizAccess.aoaa.request.iconAccessibilityLabel', 'Information to advertisers mentioning what happens if they approve an ad account creation request'),message:n._('Once you approve, the agency will have access to your tag and will be able to create audiences on your behalf.', '[m10n]bizAccess.aoaa.request.calloutMessage', 'Information to advertisers displayed on callout mentioning what happens if they approve an ad account creation request'),type:"info"})}),(0,x.jsx)(function(){return Object.keys(C).map(function(e){return(0,x.jsx)(k,{agencyId:e,requests:C[e]},e)})},{}),P&&(0,x.jsx)(u.xu,{marginTop:5,children:(0,x.jsx)(li.Z,{})})]})})},lP=function(e){var t=e.cancelButton,n=e.backButton,r=e.declineButton,s=e.acceptButton,o=e.nextButton,a=(0,b.Z)();return(0,x.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,x.jsx)(u.xu,{children:r&&(0,x.jsx)(u.xu,{"data-test-id":"rmn-partner-send-invite-decline",children:(0,x.jsx)(u.zx,{color:"transparent",disabled:r.disabled,fullWidth:!0,onClick:r.onDecline,size:"lg",text:r.buttonText||a._('Decline Invite', '[m10n]bizAccess.sheet.decline', 'Decline the active invite')})})}),(0,x.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.zx,{color:"gray",disabled:t.disabled,fullWidth:!0,onClick:t.onCancel,size:"lg",text:t.buttonText||a._('Cancel', '[m10n]bizAccess.cancel.sheet', 'Closes the active invite')})}),n&&(0,x.jsx)(u.xu,{"data-test-id":"rmn-partner-send-invite-back",marginStart:2,children:(0,x.jsx)(u.zx,{color:"gray",disabled:n.disabled,fullWidth:!0,onClick:n.onBack,size:"lg",text:n.buttonText||a._('Back', '[m10n]bizAccess.sheet.back', 'Go back to the previous step')})}),(0,x.jsxs)(u.xu,{flex:"none",marginStart:2,children:[s&&(0,x.jsx)(u.xu,{"data-test-id":"accept-invite-button",children:(0,x.jsx)(u.zx,{color:"red",disabled:s.disabled,fullWidth:!0,onClick:s.onAccept,size:"lg",text:s.buttonText||a._('Accept Invite', '[m10n]bizAccess.sheet.resend', 'Resend visible invite')})}),o&&(0,x.jsx)(u.zx,{color:"red",dataTestId:"sheet-next-button",disabled:o.disabled,fullWidth:!0,onClick:o.onNext,size:"lg",text:o.buttonText||a._('Next', '[m10n]bizAccess.sheet.next', 'Proceed to the next step')})]})]})]})};function lI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lT(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lT(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var lC="INITIAL_SHEET",lO="CONFIRMATION_SHEET",lj=function(e){var t,n,r,s,a,i,l,d=e.hideSheet,f=e.id,m=e.partnerId,v=(0,b.Z)(),g=(0,c.I0)(),S=(0,A.dI)().showOneToast,E=(0,h.ZP)(),P=(0,o.useRef)(E),I=(0,eo.KJ)(),T=lI((0,o.useState)(lC),2),C=T[0],O=T[1],j=lI((0,o.useState)({onNext:function(){},disabled:!1}),2),z=j[0],N=j[1],R=lI((0,o.useState)(),2),D=R[0],k=R[1],L=lI((0,o.useState)(!1),2),U=L[0],B=L[1],M=lI((0,eO.Z)("partnerInvite",f,!0),3),H=M[0],Z=M[1],G=M[2],F=(null==H||null==(t=H.user)?void 0:t.username)||(null==H||null==(n=H.user)?void 0:n.email)||(null==H||null==(r=H.extended_user_info)?void 0:r.username)||"",V=(null==H||null==(s=H.invite_data)?void 0:s.invite_status)==="EXPIRED",q=(0,o.useMemo)(function(){var e;return(null==H||null==(e=H.invite_data)?void 0:e.domain_restrictions)||[]},[null==H||null==(a=H.invite_data)?void 0:a.domain_restrictions]),Q=(null==H||null==(i=H.invite_data)?void 0:i.dedicated_resource_id)||"",W=(null==H?void 0:H.assets)||[],X=W.filter(function(e){return"AD_ACCOUNT"===e.type}),K=W.filter(function(e){return"PINNER_LIST"===e.type}),$=W.filter(function(e){return"CATALOG"===e.type}),J=W.filter(function(e){return"CONVERSION_SEGMENT"===e.type}),ee=X.length>0?(0,rS.QV)(X):void 0,et=X.length>0?(0,rS.a6)(X):void 0,en=K.length>0?(0,rS.QV)(K):void 0,er=K.length>0?(0,rS.a6)(K):void 0,es=J.length>0?(0,rS.QV)(J):void 0,ea=J.length>0?(0,rS.a6)(J):void 0,ei=$.length>0?(0,rS.QV)($):void 0,el=$.length>0?(0,rS.a6)($):void 0,ec=!!Q&&0===q.length,eu=lI((0,o.useState)(!ec),2),ed=eu[0],e_=eu[1],ef=lI((0,o.useState)({name:"",country:{label:"",value:""},currency:{label:"",value:""}}),2),em=ef[0],eh=ef[1],ep=lI((0,o.useState)(!1),2),eb=ep[0],ey=ep[1],ev=lI((0,o.useState)([]),2),eA=ev[0],eg=ev[1],eS=lI((0,o.useState)(!1),2),ex=eS[0],eE=eS[1],eP=(0,o.useCallback)(function(e,t){S(function(n){var r=n.hideToast;return(0,x.jsx)(p.Z,{duration:5e3,onHide:r,text:t,type:e})})},[S]),eI=(0,o.useCallback)(function(e,t,n){var r=n||(0,rx.ZB)(v,e);P.current({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_SHEET",componentId:"rmn-partner-receive-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:t+"-rmn-partner-invite-button",errorMessage:r,business_id:I,partner_invite_id:f}),eP("error",r)},[v,I,P]),eT=(0,c.v9)(aw.t_),eC=(0,ra.Z)().path.includes(":userBizId/partners/pending"),ej=v._('While loading, stay on this page', '[m10n]bizAccess.addPartner.inviteSummarySheet.sendingInvite', 'Sending invite message for the partner invite flow'),ez=(0,o.useCallback)(function(){B(!0),eP("progress",ej);var e,t,n,r,s=function(e){var t,n;g((0,e0.tU)({inviteId:f,action:"ACCEPT",businessEntityId:I,dedicatedAdAccountId:ec?void 0:e,domainDestinations:ec&&eA.length>0&&null!=(t=eA[0])&&t.domainUrl&&(null==(n=eA[0])?void 0:n.error)===""?(0,rS.Wv)(eA):void 0,onSuccess:function(){P.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"rmn-partner-receive-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"accept-rmn-partner-invite-button",business_id:I,partner_invite_id:f}),g((0,az.R)(eT,"PARTNER",I,!eC)),eP("success",(0,y.nk)(v._('Accepted invite from {{name}}', '[m10n]bizAccess.invite.accept.success', 'Toast message for successfully accepting an invite'),{name:F}).join("")),B(!1),d()},onFailure:function(e){var t=v._('There was an error in accepting the invite. Please try again.', '[m10n]bizAccess.invite.accept.error', 'Error message if accepting an invite fails');g((0,az.R)(eT,"PARTNER",I,!eC)),eI(e,"accept",t),B(!1),d()}}))};ec?s():g((0,Y.Br)({businessId:I,detailId:m,businessHierarchyNodeId:void 0,ownerBusinessId:I,agencyBusinessId:null,accountName:em.name,country:(null==(e=em.country)?void 0:e.value)||"",currency:(null==(t=em.currency)?void 0:t.value)||"",tosId:(0,aN.Fc)(null!=(n=_.tN[(null==(r=em.country)?void 0:r.value)||"UNKNOWN"])?n:0),targetingRmnBusinessId:m,onSuccess:function(e){s(e.id)},onFailure:function(e){eI(e,"accept",v._('There was an error in creating the ad account. Please try again.', '[m10n]bizAccess.invite.accept.createAdAccount.error', 'Error message if creating an ad account fails')),B(!1)},dispatchGetAdAccounts:!1}))},[g,d,f,ec,eA,eI,v,B,I,P,eT,eC,eP,F,ej,em,m]),ew=function(){B(!0),eP("progress",ej),g((0,e0.tU)({inviteId:f,action:"REJECT",businessEntityId:I,onSuccess:function(){P.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"rmn-partner-receive-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"decline-rmn-partner-invite-button",business_id:I,partner_invite_id:f}),g((0,az.R)(eT,"PARTNER",I,!eC)),eP("success",(0,y.nk)(v._('The invite from {{name}} has successfully been declined', '[m10n]bizAccess.invite.decline.success', 'Toast message for successfully declining an invite'),{name:F}).join("")),B(!1),d()},onFailure:function(e){eI(e,"decline",v._('There was an error in declining the invite. Please try again.', '[m10n]bizAccess.invite.decline.error', 'Error message if declining an invite fails')),B(!1)}}))};return(0,o.useEffect)(function(){C===lC?(k(void 0),N({onNext:function(){return O(lO)},disabled:ed})):C===lO&&(k({onBack:function(){return O(lC)}}),N({onNext:function(){return ez()},disabled:!ec&&!eb||U}))},[C,k,N,ez,ed,eb,ec,U]),(0,o.useEffect)(function(){eE(!ec&&q.length>0||ec&&C===lO)},[ec,q,C]),(0,x.jsxs)(w.Z,{footer:(0,x.jsx)(lP,{acceptButton:C!==lO||V?void 0:{onAccept:z.onNext,disabled:z.disabled},backButton:C===lO?D:void 0,cancelButton:{onCancel:d},declineButton:{onDecline:function(){return ew()},buttonText:V?v._('Delete', '[m10n]bizAccess.sheet.delete', 'Delete the expired invite'):void 0,disabled:G},nextButton:C===lC?{onNext:z.onNext,disabled:z.disabled}:void 0}),hideSheet:d,size:"lg",title:v._('Confirm partnership', '[m10n]bizAccess.invite.sheet.title', 'Title for the sheet with the invite from a partner'),children:[G&&(0,x.jsx)(rp.Z,{}),Z&&(0,x.jsx)(u.xu,{padding:4,children:(0,x.jsx)(u.xv,{children:v._('There was an error in loading the invite. Please try again.', '[m10n]bizAccess.invite.sheet.error', 'Error message if loading the invite fails')})}),V&&(0,x.jsx)(u.he,{iconAccessibilityLabel:"Info",message:(0,x.jsx)(u.xv,{children:(0,sW.Z)(v._('{{businessName}}\'s request to partner with you has expired. To reinstate this invite, please ask them to resend.', '[m10n]bizAccess.partnerReceiveInviteSheet.expiredText', 'Warning text for a received expired partner invite. businessName: Business that sent the partner invite'),{businessName:F})},"partner-receive-invite-sheet-expired-text"),type:"warning"}),!G&&!Z&&!V&&(0,x.jsxs)(u.kC,{direction:"column",children:[(0,x.jsxs)(u.xu,{borderStyle:"sm",marginBottom:6,rounding:2,children:[(0,x.jsxs)(u.xu,{padding:4,children:[(0,x.jsx)(u.X6,{size:"400",children:v._('Invite summary', '[m10n]bizAccess.addPartner.receiveInviteSummarySheet.title', 'Title for the summary sheet in the partner invite flow')}),(0,x.jsxs)(u.xu,{marginTop:4,children:[(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.xv,{color:"subtle",size:"100",children:v._('Adding new partner', '[m10n]bizAccess.addPartner.receiveInviteSummarySheet.subTitle', 'Subtitle for the summary sheet in the partner invite flow')})}),(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(e$,{imageUrl:null==H||null==(l=H.extended_user_info)?void 0:l.image_small_url,subTitle:(0,y.nk)(v._('ID: {{ partnerId }}', '[m10n]bizAccess.addPartner.receiveInviteSummarySheet.businessId', 'Business ID for the partner invite flow. partnerId: ID of the partner.'),{partnerId:m}).join(""),title:F})})]})]}),W.length>0&&(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.iz,{}),(0,x.jsx)(rg,{adAccountNames:et,adAccountsShared:ee,audiencesShared:en&&er?{resourceIdToRoles:en,resourceIdToNames:er}:void 0,catalogNames:el,catalogsShared:ei,conversionSegmentsShared:es&&ea?{resourceIdToRoles:es,resourceIdToNames:ea}:void 0,hidePermissionsToAsset:!ec})]}),ex&&(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.iz,{}),(0,x.jsx)(aO,{domainRestrictions:q,newDomainRestrictions:eA,showNoDomainRestrictionsSetBanner:ec})]})]}),C===lC&&(ec?(0,x.jsx)(a5.Z,{domainRestrictions:eA,sectionHeading:v._('Assign domain restrictions to the designated ad account', '[m10n]bizAccess.set.domain.restrictions.title', 'Heading for setting domain restrictions'),setDisableNextButton:e_,setDomainRestrictions:eg}):(0,x.jsx)(a6.Z,{adAccountInformation:em,forNewInviteFlow:!0,setAdAccountInformation:eh,setDisableNextButton:e_})),C===lO&&!!em&&!!em.name&&(0,x.jsx)(u.xu,{borderStyle:"sm",rounding:2,children:(0,x.jsxs)(u.kC,{direction:"column",children:[(0,x.jsx)(u.xu,{marginBottom:-6,padding:4,children:(0,x.jsx)(u.xv,{size:"400",children:v._('Asset shared with partner', '[m10n]businessAccess.acceptAsset.summarySheet.newAdAccount.summary.title', 'Heading for the new ad account summary')})}),(0,x.jsx)(aj.Z,{adAccountInformation:em,setTermsAndConditionsChecked:ey,termsAndConditionsChecked:eb})]},"newAdAccountSummary")})]})]})};function lz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lw(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lw(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var lN=function(e){var t,n,r,s,a,l,d,_,f=e.hideSheet,m=e.id,v=(0,b.Z)(),g=(0,c.I0)(),S=(0,A.dI)().showOneToast,E=(0,h.ZP)(),P=(0,o.useRef)(E),I=(0,eo.KJ)(),T=lz((0,o.useState)(!1),2),C=T[0],O=T[1],j=lz((0,eO.Z)("partnerInvite",m,!0),3),z=j[0],N=j[1],R=j[2],D=(null==z||null==(t=z.user)?void 0:t.username)||(null==z||null==(n=z.user)?void 0:n.email)||(null==z||null==(r=z.extended_user_info)?void 0:r.username)||"",k=(null==z||null==(s=z.invite_data)?void 0:s.invite_status)==="EXPIRED",L=(0,o.useMemo)(function(){var e;return(null==z||null==(e=z.invite_data)?void 0:e.domain_restrictions)||[]},[null==z||null==(a=z.invite_data)?void 0:a.domain_restrictions]),U=(null==z||null==(l=z.invite_data)?void 0:l.dedicated_resource_id)||"",B=(null==z?void 0:z.assets)||[],M=B.filter(function(e){return"AD_ACCOUNT"===e.type}),H=B.filter(function(e){return"PINNER_LIST"===e.type}),Z=B.filter(function(e){return"CATALOG"===e.type}),G=B.filter(function(e){return"CONVERSION_SEGMENT"===e.type}),F=M.length>0?(0,rS.QV)(M):void 0,Y=M.length>0?(0,rS.a6)(M):void 0,V=H.length>0?(0,rS.QV)(H):void 0,q=H.length>0?(0,rS.a6)(H):void 0,Q=G.length>0?(0,rS.QV)(G):void 0,W=G.length>0?(0,rS.a6)(G):void 0,X=Z.length>0?(0,rS.QV)(Z):void 0,K=Z.length>0?(0,rS.a6)(Z):void 0,$=!!U&&0===L.length,J=(0,o.useCallback)(function(e,t){S(function(n){var r=n.hideToast;return(0,x.jsx)(p.Z,{duration:5e3,onHide:r,text:t,type:e})})},[S]),ee=(0,o.useCallback)(function(e,t,n){var r=n||(0,rx.ZB)(v,e);P.current({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_SHEET",componentId:"rmn-partner-send-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:t+"-rmn-partner-invite-button",errorMessage:r,business_id:I,partner_invite_id:m}),J("error",r)},[v,I,P]),et=(0,c.v9)(aw.t_),en=(0,ra.Z)().path.includes(":userBizId/partners/pending"),er=v._('While loading, stay on this page', '[m10n]bizAccess.addPartner.inviteSummarySheet.sendingInvite', 'Sending invite message for the partner invite flow'),es=v._('New partner invite', '[m10n]bizAccess.rmn.invite.sheet.header', 'Header for reviewing an rmn partner invite you have sent');if(N)throw new i.jX(N,es);return(0,x.jsxs)(w.Z,{footer:(0,x.jsx)(u.xu,{"data-test-id":"partner-rmn-sent-invite-sheet-footer",children:(0,x.jsx)(lP,{acceptButton:{onAccept:function(){O(!0),J("progress",er),g((0,e0.tU)({inviteId:m,action:"RESEND",businessEntityId:I,onSuccess:function(){P.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"rmn-partner-send-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"resend-rmn-partner-invite-button",business_id:I,partner_invite_id:m}),g((0,az.R)(et,"PARTNER",I,!en)),J("success",(0,y.nk)(v._('New invite sent to {{name}}', '[m10n]bizAccess.invite.resend.success', 'Toast message for successfully resending an invite'),{name:D}).join("")),O(!1),f()},onFailure:function(e){ee(e,"resend",v._('There was an error in resending the invite. Please try again.', '[m10n]bizAccess.invite.resend.error', 'Error message if resending an invite fails')),O(!1)}}))},buttonText:v._('Resend Invite', '[m10n]bizAccess.sheet.resend', 'Resend the partner invite'),disabled:C},cancelButton:{onCancel:f,buttonText:v._('Close', '[m10n]bizAccess.sheet.close', 'Close the partner invite sheet')},declineButton:{onDecline:function(){O(!0),J("progress",er),g((0,e0.tU)({inviteId:m,action:"CANCEL",businessEntityId:I,onSuccess:function(){P.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"rmn-partner-send-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"delete-rmn-partner-invite-button",business_id:I,partner_invite_id:m}),g((0,az.R)(et,"PARTNER",I,!en)),J("success",(0,y.nk)(v._('The invite for {{name}} has successfully been deleted', '[m10n]bizAccess.invite.delete.success', 'Toast message for successfully deleting an invite'),{name:D}).join("")),O(!1),f()},onFailure:function(e){ee(e,"delete",v._('There was an error in deleting the invite. Please try again.', '[m10n]bizAccess.invite.delete.error', 'Error message if deleting an invite fails')),O(!1)}}))},buttonText:v._('Cancel invite', '[m10n]bizAccess.sheet.cancel', 'Cancel the partner invite'),disabled:C}})}),hideSheet:f,size:"lg",title:es,children:[R&&(0,x.jsx)(rp.Z,{}),k&&(0,x.jsx)(u.he,{iconAccessibilityLabel:"Info",message:(0,x.jsx)(u.xv,{children:(0,sW.Z)(v._('{{businessName}} hasn\'t responded to your partner invite. To work on the assets below, you can resend your invite.', '[m10n]bizAccess.partnerSendInviteSheet.expiredText', 'Warning text for a sent expired partner invite. businessName: Business you sent invite to partner with'),{businessName:D})},"partner-send-inviteSheet-expired-text"),type:"warning"}),!R&&!k&&(0,x.jsx)(o.Fragment,{children:(0,x.jsxs)(u.xu,{borderStyle:"sm",rounding:2,children:[(0,x.jsxs)(u.xu,{padding:4,children:[(0,x.jsx)(u.X6,{size:"400",children:v._('Invite summary', '[m10n]bizAccess.addPartner.inviteSummarySheet.title', 'Title for the summary sheet in the partner invite flow')}),(0,x.jsxs)(u.xu,{marginTop:4,children:[(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(u.xv,{color:"subtle",size:"100",children:v._('Adding new partner', '[m10n]bizAccess.addPartner.inviteSummarySheet.subTitle', 'Subtitle for the summary sheet in the partner invite flow')})}),(0,x.jsx)(u.xu,{marginBottom:2,children:(0,x.jsx)(e$,{imageUrl:null==z||null==(d=z.extended_user_info)?void 0:d.image_small_url,subTitle:(0,y.nk)(v._('ID: {{ partnerId }}', '[m10n]bizAccess.addPartner.receiveInviteSummarySheet.businessId', 'Business ID for the partner invite flow. partnerId: ID of the partner.'),{partnerId:(null==z||null==(_=z.user)?void 0:_.id)||""}).join(""),title:D})})]})]}),(0,x.jsx)(u.iz,{}),(0,x.jsx)(rg,{adAccountNames:Y,adAccountsShared:F,audiencesShared:V&&q?{resourceIdToRoles:V,resourceIdToNames:q}:void 0,catalogNames:K,catalogsShared:X,conversionSegmentsShared:Q&&W?{resourceIdToRoles:Q,resourceIdToNames:W}:void 0,hidePermissionsToAsset:!$}),!$&&(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.iz,{}),(0,x.jsx)(aO,{domainRestrictions:L,newDomainRestrictions:[],showNoDomainRestrictionsSetBanner:!0})]})]})})]})};function lR(e){return(lR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lD(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function lk(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){lD(o,r,s,a,i,"next",e)}function i(e){lD(o,r,s,a,i,"throw",e)}a(void 0)})}}function lL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lU(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lU(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var lB=function(e){var t=e.searchQuery,n=e.setSearchQuery,r=(0,b.Z)(),s=r._('Search by system user name or ID', '[m10n]businessAccess.app.search.a11y', 'Accessibility text to hint user to search for app by name or ID'),o=r._('Search by system user name or ID', '[m10n]businessAccess.app.search', 'Placeholder text to hint user to search for app by name or ID');return(0,x.jsx)(u.Um,{accessibilityLabel:s,id:"system-user-search-field",onChange:function(e){n(e.value)},placeholder:o,value:t})},lM=function(e){var t=e.app,n=e.hideSheet,r=(0,b.Z)(),s=(0,c.I0)(),a=(0,A.dI)().showToast,i=(0,eo.KJ)(),l=lL((0,o.useState)(!1),2),d=l[0],_=l[1],m=lL((0,o.useState)(!1),2),v=m[0],g=m[1],S=lL((0,o.useState)([]),2),E=S[0],P=S[1],I=lL((0,o.useState)(""),2),T=I[0],C=I[1],O=(0,h.ZP)(),j=(0,o.useRef)(O),z=E.length,N=v?z:E.length;(0,e9.Z)(function(){var e,n;s((0,sT.ye)({businessId:i})),s((0,sT.OA)({assetId:t.id||"",businessId:(null==(e=t.owner)?void 0:e.id)||"",id:(null==(n=t.owner)?void 0:n.id)||""}))});var R=(0,o.useRef)(T);R.current=T;var k=(0,c.v9)(sO.tp),L=(0,c.v9)(sO.I5).map(function(e){return e.id}),B=k?Object.values(k).filter(function(e){var t;return!L.includes(e.id)&&((e.id||"").includes(R.current)||((null==(t=e.user)?void 0:t.full_name)||"").toLowerCase().includes(R.current.toLowerCase()))}):[];(0,o.useRef)(N).current=N;var M=function(e){if("ASSIGN_SYSTEM_USERS"===e){var o;(o=lk(regeneratorRuntime.mark(function e(){var n,o,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(E.map(function(){var e=lk(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,tt.EB)(n,["CONSUMER_USER"],t.id||"",i,"PEOPLE");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 3:s((0,sT.OA)({assetId:t.id||"",businessId:(null==(n=t.owner)?void 0:n.id)||"",id:(null==(o=t.owner)?void 0:o.id)||""})),j.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"select-system-users-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"confirmation-button",business_id:i}),a(function(e){var t=e.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:t,text:r._('System user[s] assigned. Changes may take several hours to process. System users will retain their existing access until requested changes are processed.', '[m10n]businessAccess.selectSystemUsers.sheet.toast', 'message confirming that system users assignment to app action was taken')})}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),j.current({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_SHEET",componentId:"select-system-user-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"confirmation-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null==(l=(0,sv.Z)(e.t0,"stack"))?void 0:l.slice(0,4096))||(0,sv.Z)(e.t0,"message")||""}),c=r._('There was an error in assigning system user[s]. Please try again.', '[m10n]businessAccess.selectSystemUsers.sheet.toast.error', 'Error message if assigning system user[s] fails'),a(function(t){var n=t.hideToast;return(0,x.jsx)(p.Z,{duration:f.QE,onHide:n,text:e.t0&&"object"===lR(e.t0)&&"message_detail"in e.t0&&e.t0.message_detail?String(e.t0.message_detail):c,type:"error"})});case 13:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return o.apply(this,arguments)})()}else"CANCEL"===e&&j.current({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"select-system-users-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"cancel-button",business_id:i});n()};(0,o.useEffect)(function(){j.current({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_SHEET",componentId:"select-system-users-sheet"})},[j]);var H=!!v&&!T,G=r._('Assign app', '[m10n]businessAccess.selectSystemUsers.sheet.title', 'Assign system users to app sheet title'),F=(0,y.nk)(r._('Step 1 of 1 \u2022 [{{appName}} (ID: {{appId}})]', '[m10n]businessAccess.selectSystemUsers.sheet.subtitle', 'Assign apps to system user sheet subtitle. appName: name of the app, appId: id of the app'),{appName:t.name,appId:t.id}).join("");return(0,x.jsx)(w.Z,{footer:(0,x.jsxs)(u.kC,{direction:"row",justifyContent:"between",children:[(0,x.jsx)(u.zx,{color:"transparent",onClick:function(){return M("CANCEL")},text:r._('Cancel', '[m10n]businessAccess.selectSystemUsers.sheet.cancelButton', 'Text in button to cancel system user assignment')}),(0,x.jsx)(u.zx,{color:"red",disabled:0===E.length&&!v,onClick:function(){return M("ASSIGN_SYSTEM_USERS")},text:r._('Assign app', '[m10n]businessAccess.selectSystemUsers.sheet.assignButton', 'Text in button to assign system users to the app')})]}),hideSheet:n,size:"lg",subTitle:F,title:G,children:(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xu,{direction:"row",display:"flex",marginBottom:4,children:(0,x.jsx)(u.xu,{children:(0,x.jsx)(u.xv,{children:r._('[Assign app access to your system users]', '[m10n]businessAccess.selectSystemUsers.description', 'Description of the side sheet used to add apps to a system user account')})})}),(0,x.jsx)(u.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,x.jsx)(u.xu,{flex:"grow",marginBottom:2,minWidth:400,children:(0,x.jsx)(lB,{searchQuery:T,setSearchQuery:function(e){return g(!1),C(e),e}})})}),(0,x.jsx)(u.xu,{height:"100%",overflow:"auto",children:(0,x.jsx)(D.Z,{columnDefs:[(0,U.Z)({size:"sm",checked:H,selectedIds:E,onSelectChange:function(e){if(!v){var t=E.findIndex(function(t){return t===e});t>=0?P(E.slice(0,t).concat(E.slice(t+1))):P(E.concat([e]))}},disabled:H,checkbox:{indeterminate:E.length>0,checked:H,onChange:function(e){if(!d){var t;if(e&&E.length>0)return void P([]);if(!e||!T){g(e),P([]);return}_(!0),(t=lk(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=B.map(function(e){return e.id}),P(t),g(!0)}catch(e){P([]),g(!1)}finally{_(!1)}case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})()}},id:"select-all-system-users-checkbox"}}),(0,Z.Z)(r,{headerName:r._('System user name', '[m10n]businessAccess.systemUser.name', 'System user name column header'),clickable:!1,type:"SYSTEM_USER"})],id:i,isLoading:d,isPaginationOptional:!0,onPageChange:function(){},onRowCountChange:function(){},pageType:f.Q6.APPS,rowData:B})})]})})};function lH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var lZ=function(e){var t,n=e.handleApplyFilter,r=e.hideSheet,s=e.FILTER_OWNER_LABEL,a=e.filterParams,i=(0,b.Z)(),l=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(null==a?void 0:a.owner))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return lH(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lH(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],d=l[1],_=function(e){d(e)},m=(0,x.jsx)(u.To.DismissingElement,{children:function(e){var t=e.onDismissStart;return(0,x.jsx)(u.kC,{alignItems:"center",justifyContent:"end",children:(0,x.jsx)(u.zx,{color:"red",onClick:function(){return n(t,c)},text:i._('Apply', '[m10n].bizAccess.TagsNotEmpty.filters.aply', 'Button to apply filter tags')})})}});return(0,x.jsx)(w.Z,{footer:m,hideSheet:r,title:i._('Filters', '[m10n].bizAccess.TagsNotEmpty.filters.header', 'Header for overlay filters panel'),children:(0,x.jsx)(u.kC,{direction:"column",gap:{row:0,column:12},children:(0,x.jsxs)(u.kC,{direction:"column",gap:{row:0,column:2},children:[(0,x.jsxs)(u.xu,{children:[(0,x.jsx)(u.xv,{inline:!0,size:"400",weight:"bold",children:i._('Owner', '[m10n].bizAccess.TagsNotEmpty.filters.owner.header', 'Tag sharing filters, owner section')}),(0,x.jsx)(u.xv,{size:"100",children:i._('Filter tags by owner', '[m10n].bizAccess.TagsNotEmpty.filters.owner.filter', 'Describe the filter purpose.')})]}),(0,x.jsxs)(u.FX,{id:"filterByOwner",legend:i._('Filter tags by owner', '[m10n].bizAccess.TagsNotEmpty.filters.owner.filter', 'Describe the filter purpose.'),legendDisplay:"hidden",children:[(0,x.jsx)(u.FX.RadioButton,{checked:c===f.pg.ALL,id:"all",label:s[f.pg.ALL],name:"filterOwner",onChange:function(){return _(f.pg.ALL)},value:f.pg.ALL}),(0,x.jsx)(u.FX.RadioButton,{checked:c===f.pg.OWNED,id:"owned",label:s[f.pg.OWNED],name:"filterOwner",onChange:function(){return _(f.pg.OWNED)},value:f.pg.OWNED}),(0,x.jsx)(u.FX.RadioButton,{checked:c===f.pg.SHARED,id:"shared",label:s[f.pg.SHARED],name:"filterOwner",onChange:function(){return _(f.pg.SHARED)},value:f.pg.SHARED})]})]})})})};function lG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var lF=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(void 0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return lG(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lG(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],s=n[1],a=(0,eo.HU)().clearIntent,i=(0,eo.vg)();return(0,o.useEffect)(function(){i&&(e===i.type&&s(i),(null==r?void 0:r.type)===e&&a())},[a,i,null==r?void 0:r.type,e]),r};function lY(e){return(lY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lV(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=lY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lY(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lY(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var lW={sheetType:void 0,props:void 0},lX=(0,a.Z)("SheetContext"),lK=lX.Provider,l$=lX.get,lJ=function(e,t){switch(t.type){case"OPEN_SHEET":return t.payload;case"CLOSE_SHEET":return lW;default:return e}},l0=function(e){var t,n=e.children,r=function(e){if(Array.isArray(e))return e}(t=(0,o.useReducer)(lJ,lW))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return lQ(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lQ(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=r[0],a=s.sheetType,c=s.props,u=r[1],d=lF("OPEN_SHEET");(0,o.useEffect)(function(){d&&u(d)},[d]);var _=function(){u({type:"CLOSE_SHEET"})},f={name:"businessAccessSheet",errorType:"SHEET",pageType:"DASHBOARD"};switch(a){case"INVITE_REVIEW":case"CATALOG_ACCESS_REVIEW":f.pageType="PEOPLE";break;case"PARTNER_RECEIVE_INVITE":case"PARTNER_SEND_INVITE":case"PARTNER_RECEIVE_REQUEST":case"PARTNER_SEND_REQUEST":case"CATALOG_PARTNER_ACCESS_REVIEW":f.pageType="PARTNERS";break;case"REFRESH_ACCESS_TOKEN":case"ASSIGN_SYSTEM_USER":f.pageType="APPS";break;default:f.pageType="DASHBOARD"}return(0,x.jsxs)(lK,{value:{openSheet:function(e,t){u({type:"OPEN_SHEET",payload:{sheetType:e,props:t}})}},children:[n,(0,x.jsxs)(i.ZP,lq(lq({},f),{},{children:["INVITE_REVIEW"===a&&(null==c?void 0:c.id)&&(0,x.jsx)(aS,lq(lq({},c),{},{hideSheet:_})),"BUSINESS_HIERARCHY_INVITE_REVIEW"===a&&(null==c?void 0:c.id)&&(0,x.jsx)(ez,lq(lq({},c),{},{hideSheet:_})),"PARTNER_RECEIVE_INVITE"===a&&(null==c?void 0:c.id)&&(0,x.jsx)(iF,lq(lq({},c),{},{hideSheet:_,partnerId:c.partnerId?c.partnerId:""})),"PARTNER_SEND_INVITE"===a&&(null==c?void 0:c.id)&&(0,x.jsx)(i0,lq(lq({},c),{},{hideSheet:_})),"PARTNER_SEND_REQUEST"===a&&(null==c?void 0:c.id)&&(0,x.jsx)(i2,lq(lq({},c),{},{hideSheet:_})),"PARTNER_RECEIVE_REQUEST"===a&&(null==c?void 0:c.id)&&(0,x.jsx)(i$,lq(lq({},c),{},{hideSheet:_,partnerId:c.partnerId?c.partnerId:""})),"RMN_PARTNER_SEND_INVITE"===a&&c&&"object"===lY(c)&&"id"in c&&"string"==typeof c.id&&(0,x.jsx)(lN,lq(lq({},c),{},{hideSheet:_,id:c.id})),"RMN_PARTNER_RECEIVE_INVITE"===a&&c&&"object"===lY(c)&&"id"in c&&"string"==typeof c.id&&"partnerId"in c&&"string"==typeof c.partnerId&&(0,x.jsx)(lj,lq(lq({},c),{},{hideSheet:_,id:c.id,partnerId:c.partnerId})),"GUIDE"===a&&c&&(0,x.jsx)(ac,{hideSheet:_,id:"guideSheet",page:c.page?c.page:"HOME"}),"EDIT_MONTHLY_SPEND_CAP"===a&&c&&(0,x.jsx)(sy,lq(lq({},c),{},{hideSheet:_,id:"editMonthlySpendCapSheet"})),"RESPOND_AOAA_REQUESTS"===a&&(null==c?void 0:c.id)&&(0,x.jsx)(lE,{hideSheet:_,id:c.id}),"INVOICE_DETAIL"===a&&(null==c?void 0:c.invoiceDetail)&&(0,x.jsx)(aC,lq({hideSheet:_},c)),"SHARED_TAG_FILTERS"===a&&(null==c?void 0:c.sharedTagFiltersSheet)&&(0,x.jsx)(lZ,lq({hideSheet:_},c.sharedTagFiltersSheet)),"CATALOG_FILTERS"===a&&(null==c?void 0:c.catalogFiltersSheet)&&(0,x.jsx)(e3,lq({hideSheet:_},c.catalogFiltersSheet)),"CATALOG_ACCESS_REVIEW"===a&&(null==c?void 0:c.id)&&(0,x.jsx)(e5,lq(lq({},c),{},{hideSheet:_})),"CATALOG_PARTNER_ACCESS_REVIEW"===a&&(null==c?void 0:c.id)&&(0,x.jsx)(e7,lq(lq({},c),{},{hideSheet:_})),"ADD_EMPLOYEE"===a&&(0,x.jsx)(ae,lq(lq({},c),{},{hideSheet:_,type:"ADD_EMPLOYEE"})),"UPDATE_SYSTEM_USER_ASSETS"===a&&(0,x.jsx)(ae,lq(lq({},c),{},{hideSheet:_,type:"UPDATE_SYSTEM_USER_ASSETS"})),"ADD_SYSTEM_USER"===a&&(0,x.jsx)(ae,lq(lq({},c),{},{hideSheet:_,type:"ADD_SYSTEM_USER"})),"EDIT_SYSTEM_USER"===a&&(0,x.jsx)(ae,lq(lq({},c),{},{hideSheet:_,type:"EDIT_SYSTEM_USER"})),"ASSIGN_ASSETS"===a&&(0,x.jsx)(ae,lq(lq({},c),{},{hideSheet:_,type:"ASSIGN_ASSETS"})),"ADD_ASSET_OR_USER_TO_ASSET_GROUP"===a&&(null==c?void 0:c.assetOrMemberType)&&(null==c?void 0:c.assetGroupInfo)&&(0,x.jsx)(ep,lq(lq({},c),{},{hideSheet:_})),"REFRESH_ACCESS_TOKEN"===a&&(0,x.jsx)(la,lq(lq({},c),{},{hideSheet:_})),"ASSIGN_SYSTEM_USER"===a&&(0,x.jsx)(lM,lq(lq({},c),{},{hideSheet:_})),"ADD_PARTNER_INVITE_FLOW"===a&&(0,x.jsx)(ik,lq(lq({},c),{},{hideSheet:_})),"ACCEPT_RMN_ASSET"===a&&c&&"object"===lY(c)&&"id"in c&&"string"==typeof c.id&&(0,x.jsx)(l.Z,lq(lq({},c),{},{hideSheet:_,id:c.id})),"ASSIGN_ACCESS_FOR_CONVERSION_SEGMENTS"===a&&(0,x.jsx)(si,lq(lq({},c),{},{hideSheet:_,type:"ASSIGN_ACCESS_FOR_CONVERSION_SEGMENTS"})),"ASSIGN_CONVERSION_SEGMENTS_ACCESS_FOR_PARTNER"===a&&(0,x.jsx)(si,lq(lq({},c),{},{hideSheet:_,type:"ASSIGN_CONVERSION_SEGMENTS_ACCESS_FOR_PARTNER"})),"ADD_CONVERSION_SEGMENT"===a&&(0,x.jsx)(si,lq(lq({},c),{},{hideSheet:_,type:"ADD_CONVERSION_SEGMENT"})),"EDIT_CONVERSION_SEGMENT"===a&&(0,x.jsx)(si,lq(lq({},c),{},{hideSheet:_,type:"EDIT_CONVERSION_SEGMENT"})),"ASSIGN_CONVERSION_SEGMENTS_ACCESS_FOR_PARTNER"===a&&(0,x.jsx)(si,lq(lq({},c),{},{hideSheet:_,type:"ASSIGN_CONVERSION_SEGMENTS_ACCESS_FOR_PARTNER"})),"ASSIGN_ACCESS_FOR_CATALOG"===a&&(0,x.jsx)(rz,lq(lq({},c),{},{hideSheet:_,refreshData:c&&"refreshData"in c&&c.refreshData?c.refreshData:function(){},type:c&&"type"in c&&c.type?c.type:"ASSIGN_ACCESS_FOR_CATALOG"})),"ASSIGN_AGENCY_PARTNERS_FOR_CATALOGS"===a&&(0,x.jsx)(rz,lq(lq({},c),{},{hideSheet:_,refreshData:c&&"refreshData"in c&&c.refreshData?c.refreshData:function(){},type:c&&"type"in c&&c.type?c.type:"ASSIGN_AGENCY_PARTNERS_FOR_CATALOGS"})),"ASSIGN_CATALOGS_ACCESS_FOR_PARTNER"===a&&(0,x.jsx)(rz,lq(lq({},c),{},{hideSheet:_,refreshData:c&&"refreshData"in c&&c.refreshData?c.refreshData:function(){},type:"ASSIGN_CATALOGS_ACCESS_FOR_PARTNER"}))]}))]})}},926604:function(e,t,n){"use strict";n.d(t,{Pl:function(){return a},SX:function(){return o},c0:function(){return s},lJ:function(){return i},lm:function(){return r}});var r={RMN:"RMN",AGENCY:"AGENCY",BRAND:"BRAND"},s={SELECT_PARTNER_SHEET:"SELECT_PARTNER_SHEET",REQUEST_ASSETS_SHEET:"REQUEST_ASSETS_SHEET",SELECT_ASSETS_SHEET:"SELECT_ASSETS_SHEET",PARTNER_INVITE_SUMMARY_SHEET:"PARTNER_INVITE_SUMMARY_SHEET",SELECT_RMN_ASSETS_SHEET:"SELECT_RMN_ASSETS_SHEET"},o={AGENCY_BRAND:"AGENCY_BRAND",RMN_BRAND:"RMN_BRAND",RMN_AGENCY:"RMN_AGENCY",BRAND_AGENCY:"BRAND_AGENCY",BRAND_RMN:"BRAND_RMN"},a={AD_ACCOUNTS_SHARED:"AD_ACCOUNTS_SHARED",AD_ACCOUNTS_REQUESTED:"AD_ACCOUNTS_REQUESTED",AUDIENCES_RECEIVED:"AUDIENCES_RECEIVED",AUDIENCES_SHARED:"AUDIENCES_SHARED",CATALOGS_SHARED:"CATALOGS_SHARED",CATALOGS_REQUESTED:"CATALOGS_REQUESTED",PROFILE_SHARED:"PROFILE_SHARED",PROFILE_REQUESTED:"PROFILE_REQUESTED",CONVERSIONS_RECEIVED:"CONVERSIONS_RECEIVED",CONVERSIONS_SHARED:"CONVERSIONS_SHARED",RMN_CATALOGS_SHARED:"RMN_CATALOGS_SHARED"},i={AUDIENCES:"AUDIENCES",CATALOGS:"CATALOGS",CONVERSION_DATA:"CONVERSION_DATA"}},918082:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(681698),s=n(935059),o=n(89446);function a(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function i(){var e,t,n=(0,o.KJ)(),i=(0,s.Z)(),l=i.isAuth?i.id:void 0;return e=regeneratorRuntime.mark(function e(t){var s,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.id,o=t.accept,e.next=3,(0,r.Z)({url:"/ads/v4/business_access/invites/".concat(s,"/"),method:"POST",data:{accept_invite:o,business_entity_id:n||l}});case 3:return a=e.sent,e.abrupt("return",a.resource_response.data);case 5:case"end":return e.stop()}},e)}),t=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function i(e){a(o,r,s,i,l,"next",e)}function l(e){a(o,r,s,i,l,"throw",e)}i(void 0)})},function(e){return t.apply(this,arguments)}}},516037:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(387784),s=n(501010),o=n(89446);function a(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t,n=e.customExperimentNames,l=e.refetchExperiments,c=(0,o.HU)(),u=c.businessAccess.businessExperiments,d=c.setBusinessExperiments,_=(0,s.Z)().checkExperiment,f=_("business_access_business_level_experiment_status").anyEnabled,m=(0,r.useRef)(l),h=(0,o.KJ)(),p=i((0,r.useState)(u),2),b=p[0],y=p[1],v=i((0,r.useState)(!!m.current&&f),2),A=v[0],g=v[1],S=i((0,r.useState)(),2),x=S[0],E=S[1],P=(0,r.useRef)(!0),I=(0,r.useCallback)(function(e,t){var n={};return t&&t.length>0?t.forEach(function(t){var r=_(t).anyEnabled,s=!!e[t];n[t]=r||s}):Object.keys(e).forEach(function(t){var r=_(t).anyEnabled;n[t]=r||!!e[t]}),n},[_]),T=(0,r.useCallback)((t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d({}),E(void 0),y({}),g(!0),e.prev=4,e.next=7,(0,o.Dl)(h,d);case 7:y(I(e.sent,n)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),E(e.t0);case 14:return e.prev=14,P.current=!1,g(!1),e.finish(14);case 18:case"end":return e.stop()}},e,null,[[4,11,14,18]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function i(e){a(o,r,s,i,l,"next",e)}function l(e){a(o,r,s,i,l,"throw",e)}i(void 0)})}),[h,P,d,I]);return(0,r.useEffect)(function(){m.current&&f&&T()},[T,m,f]),{loading:A,data:m.current?b:I(u,n),error:x,loadBusinessExperiments:T}}},601366:function(e,t,n){"use strict";var r=n(581722),s=n(305583);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e){var t=(0,r.I0)();return e?function(n){var r=n||{},o=r.searchTerm,a=r.limit,l=r.page,c=i(i(i({searchBy:"name_or_id",searchTerm:o,businessId:e,sortBy:r.sortBy,sortDirection:r.sortDirection},a?{limit:a}:{}),l?{page:l}:{}),{},{includeAssetSummary:!0});t((0,s.cE)(c))}:null}},139879:function(e,t,n){"use strict";var r=n(581722),s=n(501010),o=n(859933);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e,t){var n=(0,s.Z)(),a=(0,r.I0)();return e&&t?function(r){var s=r||{},i=s.searchTerm,c=s.limit,u=s.page,d=s.sortBy,_=s.sortDirection,f=l(l(l({searchBy:i&&/\d{12}/.test(i)?"id":void 0,searchTerm:i,businessId:e,detailId:t,sortBy:d,sortDirection:_,experimentsClient:n},c?{limit:c}:{}),u?{page:u}:{}),{},{includeAssetSummary:!0});a((0,o.UQ)(f))}:null}},481841:function(e,t,n){"use strict";var r=n(581722),s=n(501010),o=n(859933);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e,t){var n=(0,s.Z)(),a=(0,r.I0)();return e&&t?function(r){var s=r||{},i=s.searchTerm,c=s.limit,u=s.page,d=s.sortBy,_=s.sortDirection,f=l(l(l({searchBy:i&&/\d{12}/.test(i)?"id":void 0,searchTerm:i,businessId:e,detailId:t,sortBy:d,sortDirection:_,experimentsClient:n},c?{limit:c}:{}),u?{page:u}:{}),{},{includeAssetSummary:!0});a((0,o.fR)(f))}:null}},769147:function(e,t,n){"use strict";var r=n(581722),s=n(305583);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e){var t=(0,r.I0)();return e?function(n){var r=n||{},o=r.searchTerm,a=r.limit,l=r.page,c=i(i({searchBy:["FULL_NAME","EMAIL"],searchTerm:o,businessId:e,sortBy:r.sortBy,sortDirection:r.sortDirection},a?{limit:a}:{}),l?{page:l}:{});t((0,s.ip)(c))}:null}},801502:function(e,t,n){"use strict";var r=n(581722),s=n(305583);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e){var t=(0,r.I0)();return e?function(n){var r=n||{},o=r.searchTerm,a=r.limit,l=r.page,c=r.sortBy,u=r.sortDirection;t((0,s.Eg)(i(i({searchBy:["FULL_NAME","BUSINESS_ID","USERNAME"],searchTerm:o,businessId:e,sortBy:c,sortDirection:u,includeAssetSummary:!0},a?{limit:a}:{}),l?{page:l}:{})))}:null}},774556:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(387784),s=n(563218),o=n(89446);function a(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n,l=(0,o.HU)(),c=l.businessAccess.ceeMigrationInfo,u=l.setCeeMigrationInfo,d=(0,r.useRef)(e),_=(0,o.KJ)(),f=i((0,r.useState)(c),2),m=f[0],h=f[1],p=i((0,r.useState)(!!d.current),2),b=p[0],y=p[1],v=i((0,r.useState)(),2),A=v[0],g=v[1],S=(0,r.useRef)(!0),x=(0,r.useCallback)((n=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(),g(void 0),h(void 0),y(!0),e.prev=4,e.next=7,(0,s._A)(_);case 7:h(t=e.sent),u(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),g(e.t0);case 15:return e.prev=15,S.current=!1,y(!1),e.finish(15);case 19:case"end":return e.stop()}},e,null,[[4,12,15,19]])}),function(){var e=this,t=arguments;return new Promise(function(r,s){var o=n.apply(e,t);function i(e){a(o,r,s,i,l,"next",e)}function l(e){a(o,r,s,i,l,"throw",e)}i(void 0)})}),[_,S,u]);return(0,r.useEffect)(function(){d.current&&x()},[x,d]),{loading:b,data:t?m:c,error:A,loadResellerCeeMigrationInfo:x}}},647587:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(681698);function s(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function o(){var e;return e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,(0,r.Z)({url:"/ads/v4/business_access/businesses/me/employers/"});case 3:return n=(t=e.sent).resource_response?t.resource_response.data:{data:[]},e.next=7,Promise.all(n&&n.data||[]);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)})}}},179168:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(387784),s=n(581722),o=n(488335),a=n(89446);function i(){var e=(0,s.v9)(o.eI)||[],t=(0,s.v9)(o.T0)||[],n=(0,s.v9)(o.Kz)||[],i=(0,s.v9)(o.G$)||[],l=(0,s.v9)(o.ou)||[],c=(0,s.v9)(o.Gw)||[],u=(0,a.KJ)(),d=l.filter(function(e){return n.includes(e)}).length>0,_=!!i&&!!i.length,f=e.some(function(e){var t=e.id,n=e.assetIds;return t!==u&&(n||[]).some(function(e){return l.includes(e)})}),m=t.some(function(e){var t=e.id,n=e.assetIds;return t!==u&&(n||[]).some(function(e){return c.includes(e)})});return(0,r.useMemo)(function(){return{containsSharedPartner:_,containsSharedAssetOrAOAA:f||m||d}},[_,f,m,d])}},905526:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(387784),s=n(581722),o=n(458765),a=n(305583),i=n(432730),l=n(196090),c=n(859933),u=n(37755),d=n(577432),_=n(255094),f=n(120516),m=n(366503),h=n(498539),p=(0,m.createSelector)(h.Z,function(e){var t=e.inviteOrRequestData;return null!=t?t:{}}),b=(0,m.createSelector)(p,function(e){return e.loading}),y=(0,m.createSelector)(p,function(e){return e.error}),v=(0,m.createSelector)(p,function(e){var t=e.invites;return null!=t?t:{}}),A=(0,m.createSelector)(p,function(e){var t=e.requests;return null!=t?t:{}}),g=(0,m.createSelector)(v,function(e){var t=e.members;return null!=t?t:{}}),S=(0,m.createSelector)(v,function(e){var t=e.partners;return null!=t?t:{}}),x=(0,m.createSelector)(A,function(e){var t=e.partners;return null!=t?t:{}}),E=n(408524),P=n(746200),I=n(89446),T=function(e,t,n,r){switch(e){case"people":return{getter:function(){return(0,c.Ay)({businessId:t,detailId:r,personId:n,force:!0})},data:E.gF,loading:E.gB,error:E.xC};case"adAccount":return{getter:function(){return(0,o.Fd)({businessId:t,adAccountId:n})},data:d.Xy,loading:d.wk,error:d.op};case"memberInvite":return{getter:function(){return(0,l.wW)(n,t)},data:g,loading:b,error:y};case"partnerInvite":return{getter:function(){return(0,l.YK)(n,t)},data:S,loading:b,error:y};case"partnerRequest":return{getter:function(){return(0,l.$R)(n,t)},data:x,loading:b,error:y};case"businessHierarchyChildBusinessInvite":return{getter:function(){return(0,a.mH)({hierarchyId:n,type:"CHILD_BUSINESS"})},data:(0,_.nf)(n),loading:_.QE,error:_.ge};case"businessHierarchyChildBusinessInviteTable":return{getter:function(){return(0,a.mH)({hierarchyId:n,type:"CHILD_BUSINESS"})},data:(0,_.Rc)(n),loading:_.QE,error:_.ge};case"businessHierarchyOrganizationManagersInvite":return{getter:function(){return(0,a.mH)({hierarchyId:n,type:"ORGANIZATION_MANAGER"})},data:(0,_.Qz)(n),loading:_.QE,error:_.ge};case"businessHierarchyOrganizationManagersInviteTable":return{getter:function(){return(0,a.mH)({hierarchyId:n,type:"ORGANIZATION_MANAGER"})},data:(0,_.Q7)(n),loading:_.QE,error:_.ge};case"businessHierarchyInvite":return{getter:function(){return(0,u.F)(t)},data:(0,P.DU)(n),loading:P._4,error:P.j7};case"catalog":return{getter:function(){return(0,i.R4)({businessId:t,catalogId:n})},data:f.zW,loading:f.e_,error:f.sA};default:return{getter:function(){},data:function(){},loading:function(){return!1},error:function(){}}}},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=(0,I.KJ)(o),l=(0,I.nU)(o),c=(0,s.I0)(),u=T(e,a||i,t,l),d=(0,s.v9)(u.data),_=!!(0,s.v9)(u.loading),f=(0,s.v9)(u.error),m=d&&d[t],h=(0,r.useRef)(null),p=function(){return c(u.getter())};return(0,r.useEffect)(function(){!n||m||_||f||m===h.current||p()},[m,_,f,n]),(0,r.useEffect)(function(){h.current=m},[m]),[m,f,_,p]}},534690:function(e,t,n){"use strict";var r=n(387784);t.Z=function(e,t,n){var s=(0,r.useRef)(!1),o=(0,r.useCallback)(e,n);(0,r.useEffect)(function(){if(!s.current)return s.current=!0,function(){};var e=setTimeout(function(){o()},t);return function(){clearTimeout(e)}},[o,t])}},826703:function(e,t,n){"use strict";var r=n(387784),s=n(581722),o=n(935059),a=n(661376),i=n(196482),l=n(89446);t.Z=function(e,t){var n,c=(0,s.v9)(i.ZP),u=(0,l.KJ)(),d=t||u,_=(0,a.Z)({name:"ApiResource",options:{url:"/ads/v4/business_access/businesses/".concat(d,"/owner/")}}),f=null==_||null==(n=_.data)?void 0:n.data,m=(e||c||[]).find(function(e){return e.id===d}),h=(0,o.Z)(),p=h.isAuth?h.id:null,b=(0,r.useMemo)(function(){return m?{isRmnBusinessV2:"rmn_or_brand_v2"in m&&"RMN"===m.rmn_or_brand_v2,isBrandBusinessV2:"rmn_or_brand_v2"in m&&"BRAND"===m.rmn_or_brand_v2}:{isRmnBusinessV2:d===p&&(null==f?void 0:f.rmn_or_brand_v2)==="RMN",isBrandBusinessV2:d===p&&(null==f?void 0:f.rmn_or_brand_v2)==="BRAND"}},[m,f,d,p]);return{isRmnBusinessV2:b.isRmnBusinessV2,isBrandBusinessV2:b.isBrandBusinessV2}}},554346:function(e,t,n){"use strict";var r=n(680405),s=n(42810),o=n(974080),a=n(367683),i=n(935059),l=n(501010);t.Z=function(e,t,n){var c=(0,r.N)().is_sterling_on_steroids,u=(0,o.Z)(),d=(0,(0,l.Z)().checkExperiment)("ba_mfa_enabled").anyEnabled,_=(0,i.Z)(),f=(0,s.Z)(_),m=(0,a._P)({id:1000483}),h=!!(m&&505651===m.experience_id),p=u||[],b=p.length>0&&(p.includes(e)||(_.isAuth?_.id:void 0)===t),y=!c&&!h&&d&&(!!n||b),v=y&&!(_.isAuth&&(_.has_mfa_enabled||_.is_sso_user))&&!f;return{businessRequiresMfa:!!y,viewerNeedsToSetupMfa:!!v}}},552263:function(e,t,n){"use strict";var r=n(387784),s=n(581722),o=n(501010),a=n(196482),i=n(89446);t.Z=function(e,t){var n=(0,i.KJ)(),l=t||n,c=(0,s.v9)(a.ZP),u=e||c,d=(0,o.Z)().checkExperiment,_=d("business_access_rmn_audience").anyEnabled,f=d("business_access_brand_audience").anyEnabled,m=d("business_access_rmn_foundations").anyEnabled;return{isRmnBusiness:(0,r.useMemo)(function(){if(_)return!0;if(!l||null==u)return!1;var e,t,n=u.find(function(e){return e.id===l}),r=null!=(e=null==n||null==(t=n.business_roles)?void 0:t.includes("BIZ_ADMIN"))&&e;return!!n&&r&&"RMN"===n.rmn_or_brand},[l,u,_]),isBrandBusiness:(0,r.useMemo)(function(){if(f)return!0;if(!l||null==u)return!1;var e=u.find(function(e){return e.id===l});return!!e&&"BRAND"===e.rmn_or_brand},[l,u,f]),inRmnFoundations:(0,r.useMemo)(function(){if(m)return!0;if(!l||null==u)return!1;var e,t,n=u.find(function(e){return e.id===l}),r=null!=(e=null==n||null==(t=n.business_roles)?void 0:t.includes("BIZ_ADMIN"))&&e;return!!n&&r&&"show_rmn_partners"in n&&!!n.show_rmn_partners},[l,u,m])}}},978066:function(e,t,n){"use strict";var r=n(20256),s=n(440077),o=n(24246),a=n(216975),i=n(501010),l=n(89446),c=n(520803),u=n(680811);t.Z=function(e){var t=e.display,n=e.oneLine,d=e.marginBottom,_=(0,o.Z)(),f=(0,l.MC)(),m=(0,(0,i.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,h=(0,c.Z)().params.businessHierarchyId;return m&&h&&f?(0,u.jsxs)(r.xu,{alignItems:"center",borderStyle:"sm",color:"elevationAccent",dangerouslySetInlineStyle:{__style:{borderColor:s.zsO}},display:"flex",marginBottom:d,padding:4,rounding:4,children:[(0,u.jsx)(r.qE,{name:f.user.full_name||"",size:"xs",src:f.user.image_medium_url||""}),(0,u.jsx)(r.xu,{display:void 0===t?"flex":t,marginStart:4,children:void 0!==n&&n?(0,u.jsx)(r.kC,{children:(0,u.jsx)(r.xv,{inline:!0,children:(0,a.nk)(_._('These changes will be applied to: {{ businessName }} (ID: {{ businessId }})', '[m10n]businessAccess.childBusiness.callout.content', 'Callout to the target of the changes. businessName: name of business selected in business hierarchy, businessId: numeric id of business selected in business hierarchy'),{businessName:(0,u.jsx)(r.xv,{inline:!0,weight:"bold",children:f.user.full_name},"1"),businessId:f.user.id})},"0")}):(0,u.jsxs)(r.xu,{children:[(0,u.jsx)(r.xu,{marginEnd:1,children:(0,u.jsx)(r.xv,{children:_._('These changes will be applied to:', '[m10n]businessAccess.childBusiness.callout.preText', 'Text before the name and id of child business')})}),(0,u.jsx)(r.kC,{children:(0,u.jsx)(r.xv,{inline:!0,children:(0,a.nk)(_._('{{ businessName }} (ID: {{ businessId }})', '[m10n]businessAccess.childBusiness.callout.business', 'Name and Id of the business. businessName: name of business selected in business hierarchy, businessId: numeric id of business selected in business hierarchy'),{businessName:(0,u.jsx)(r.xv,{inline:!0,weight:"bold",children:f.user.full_name},"1"),businessId:f.user.id})},"0")})]})})]}):null}},476823:function(e,t,n){"use strict";n.d(t,{M:function(){return X},Z:function(){return K}});var r=n(387784),s=n(20256),o=n(143754),a=n(230201),i=n(24246),l=n(216975),c=n(501010),u=n(458704),d=n(680811),_=function(e){var t=e.text,n=e.subtext,r=e.image,o=e.counterText;return(0,d.jsxs)(s.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:2,paddingY:3,children:[(0,d.jsxs)(s.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[r&&(0,d.jsx)(s.xu,{marginStart:2,children:r}),(0,d.jsxs)(s.xu,{marginStart:2,children:[(0,d.jsx)(s.xv,{size:"300",weight:"bold",children:t}),n&&(0,d.jsx)(s.xu,{marginTop:1,children:(0,d.jsx)(s.xv,{size:"200",children:n})})]})]}),(0,d.jsx)(s.xu,{children:o?(0,d.jsx)(s.xv,{size:"200",children:o}):null})]})},f=n(739228);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t,n=e.invitedPeopleIdentifiers,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],l=o[1],c=n.length,u=(0,i.Z)(),_=(0,f.LK)(n,u);return(0,d.jsxs)(s.xu,{display:"block",paddingX:3,paddingY:4,children:[(0,d.jsxs)(s.kC,{width:"100%",children:[(0,d.jsxs)(s.xu,{flex:"grow",children:[(0,d.jsx)(s.xv,{inline:!0,weight:"bold",children:u._('Assigning permissions for: ', '[m10n]bizAccess.sendInvite.assignPermissions.modalHeader.text', 'Text that shows who we are inviting to join our business')}),(0,d.jsxs)(s.xv,{inline:!0,children:[" ",_]})]}),c>2&&(0,d.jsx)(s.xu,{children:(0,d.jsx)(s.hU,{accessibilityLabel:"Expand invitees",icon:a?"arrow-up":"arrow-down",iconColor:"darkGray",onClick:function(){l(!a)},size:"xs"})})]}),a&&(0,d.jsx)(s.xu,{paddingY:3,children:(0,d.jsx)(s.xv,{overflow:"normal",children:n.join(", ")})})]})};function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t,n=e.title,o=e.children,a=e.open,l=e.level,c=(0,i.Z)(),u=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(a))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=u[0],f=u[1],m=_?c._('Collapse', '[m10n]businesAccess.collapsableCard.collapse', 'Label for collapsing a menu'):c._('Expand', '[m10n]businesAccess.collapsableCard.expand', 'Label for expanding a menu');return(0,d.jsxs)(s.xu,{marginBottom:5,paddingX:3+4*(void 0===l?0:l),children:[(0,d.jsx)(s.st,{children:(0,d.jsx)(s.xu,{"data-test-id":"expand-collapse-button",children:(0,d.jsx)(s.iP,{onTap:function(){f(function(e){return!e})},children:(0,d.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(s.xu,{marginEnd:2,children:(0,d.jsx)(s.hU,{accessibilityLabel:m,icon:_?"arrow-down":"arrow-forward",iconColor:"gray",size:"sm"})}),(0,d.jsx)(s.xu,{children:(0,d.jsx)(s.xu,{children:n})})]})})})}),_&&(0,d.jsx)(s.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderWidth:"0"}},marginStart:4,marginTop:5,children:o})]})},y=function(e){var t=e.id,n=e.text,r=e.subtext,o=e.children,a=e.defaultOpen,i=e.image,l=e.level,c=void 0===l?0:l,u=(0,d.jsxs)(s.xu,{children:[(0,d.jsxs)(s.xu,{marginBottom:1,children:[(0,d.jsx)(s.xv,{inline:!0,weight:"bold",children:n})," ",1===c&&(0,d.jsxs)(s.xv,{color:"subtle",inline:!0,children:["(",o.length,")"]})]}),r&&(0,d.jsx)(s.xv,{size:"200",children:r})]}),_=(0,d.jsxs)(s.kC,{alignItems:"center",children:[(0,d.jsx)(s.xu,{marginEnd:2,children:(0,d.jsx)(s.qE,{name:n,size:"sm",src:i})}),u]});return(0,d.jsx)(b,{level:c,open:a,title:i&&0===c?_:u,children:o},t)},v=n(367683),A=n(289935),g=function(e){var t=e.title,n=e.subTitle,r=e.subTitleColor,o=e.image,a=e.disabled,i=e.size;return(0,d.jsxs)(s.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:-1,marginStart:1,children:[o&&(0,d.jsx)(s.xu,{marginEnd:2,paddingX:1,children:o}),(0,d.jsxs)(s.xu,{paddingX:1,children:[(0,d.jsx)(s.xv,{color:a?"subtle":"default",size:i&&"100"===i?i:"300",weight:"bold",children:t}),n&&(0,d.jsx)(s.xu,{marginTop:1,children:(0,d.jsx)(s.xv,{color:r||(i&&"100"!==i?"subtle":"default"),size:i&&"100"===i?i:"200",children:n})})]})]})};function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=e.text,n=e.anchor,r=e.isOpen,o=e.idealDirectionDown;return r?(0,d.jsx)(s.mh,{children:(0,d.jsx)(s.xu,{position:"absolute",top:!0,zIndex:A.b7,children:(0,d.jsx)(s.J2,{anchor:n,color:"darkGray",idealDirection:o?"down":"right",onDismiss:function(){},positionRelativeToAnchor:!1,size:o?"xs":"flexible",children:(0,d.jsx)(s.xu,{alignItems:"center",display:"flex",padding:2,children:(0,d.jsx)(s.xv,{color:"inverse",overflow:o?"normal":"noWrap",size:"200",children:t})})})})}):null},P=function(e){var t=e.title,n=e.subTitle,o=e.isSelected,a=e.hasAccessDefined,l=e.image,c=e.isAlreadyAssigned,u=e.experience,_=e.permissionAssignmentSkipped,f=(0,i.Z)(),m=(0,r.useRef)(null),h=(0,r.useRef)(null),p=(0,r.useRef)(null),b=S((0,r.useState)(!1),2),y=b[0],A=b[1],x=S((0,r.useState)(!1),2),P=x[0],I=x[1],T=function(e){return function(){c&&("enter"===e?A(!0):A(!1))}};return(0,d.jsx)(s.xu,{marginBottom:4,children:(0,d.jsx)(s.st,{active:!c&&(!!o||void 0),onMouseEnter:T("enter"),onMouseLeave:T("leave"),children:(0,d.jsxs)(s.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsxs)(s.xu,{ref:m,display:"flex",children:[(0,d.jsx)(g,{disabled:c,image:l,subTitle:n,title:t}),(0,d.jsx)(E,{anchor:m.current,isOpen:c&&y,text:f._('Currently assigned', '[m10n]businessAccess.bizRoleUpdateCard.currentlyAssignedText', 'Currently assigned text shows when a resource/principal is already assigned')}),(0,d.jsx)(s.xu,{ref:h,display:"inlineBlock",paddingX:1}),u&&(0,d.jsx)(v.Qp,{anchor:h.current,experienceIds:[u.experienceId],idealDirection:"right",placementId:u.placementId,showCaret:!0})]}),(0,d.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[a&&(0,d.jsx)(s.xu,{marginEnd:2,children:(0,d.jsx)(s.JO,{accessibilityLabel:f._('Has roles checked', '[m10n]businessAccess.bizRoleUpdateCard.greenCheckA11yLabel', 'An accessibility label text for indicating when a resource/principal in the list already has access defined'),color:"success",icon:"check"})}),_&&(0,d.jsxs)(s.xu,{ref:p,marginEnd:2,children:[(0,d.jsx)(E,{anchor:p.current,idealDirectionDown:!0,isOpen:P,text:f._('Partner permissions must be assigned to continue', '[m10n]businessAccess.bizRoleUpdateCard.partnerPermissionsNotAssigned', 'Tooltip that shows ad account permissions must be assigned to partner')}),(0,d.jsx)(s.iP,{onMouseEnter:function(){return I(!0)},onMouseLeave:function(){return I(!1)},children:(0,d.jsx)(s.qb,{accessibilityLabel:f._('has no permission selected for person', '[m10n]businessAccess.bizRoleUpdateCard.workflowStatusProblem', 'Accessibility label for permission not being assigned'),type:"problem"})})]})]})]})})})},I=function(e){var t=e.id,n=e.text,r=e.subtext,o=e.image,a=e.disabled,i=e.selected,l=e.modified,c=e.onClick,u=e.experience,_=e.permissionAssignmentSkipped,f=(0,d.jsx)(s.xu,{marginBottom:5,paddingX:8,children:(0,d.jsx)(P,{experience:u,hasAccessDefined:l,image:o?(0,d.jsx)(s.qE,{name:n,size:"sm",src:o}):void 0,isAlreadyAssigned:a,isSelected:i,permissionAssignmentSkipped:_,subTitle:r,title:n})},t);return a?f:(0,d.jsx)(s.iP,{onTap:c,children:(0,d.jsx)(s.xu,{"data-test-id":"account-assignment-selection-".concat(t),children:f})},t)};function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var j=function e(t){var n=t.modifiedIds,s=t.selectionOptions,o=t.selectionCategories,a=t.selectedOption,i=t.setSelectedOption,l=t.level,c=void 0===l?0:l,u=o.filter(function(e){return e.level===c}),_=s.filter(function(e){return e.level===c});return u&&u.length>0&&(0,d.jsxs)(r.Fragment,{children:[u.map(function(e){return(0,r.createElement)(y,O(O({},e),{},{key:e.id,defaultOpen:1===u.length,level:c}),_.filter(function(t){return t.category===e.id}).map(function(e){return(0,r.createElement)(I,O(O({},e),{},{key:e.id,level:c,modified:n.includes(e.id),onClick:function(){i(e.id)},selected:e.id===a}))}))}),(0,d.jsx)(e,{level:0===c?1:2,modifiedIds:n,selectedOption:a,selectionCategories:o,selectionOptions:s,setSelectedOption:i})]})};function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var k=function(e){var t=e.modifiedIds,n=e.selectionCategories,o=e.filteredSelectionOptions,a=e.selectedOption,l=e.setSelectedOption,u=e.isAoaaAssignmentModal,_=void 0!==u&&u,f=(0,i.Z)(),m=(0,(0,c.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,h=R((0,r.useState)(!1),2),p=h[0],b=h[1],v=(0,r.useMemo)(function(){return _&&o.find(function(e){return e.isPartner&&t.includes(e.id)})},[o,_,t]),A=function(e){return(0,r.createElement)(I,N(N({},e),{},{key:e.id,modified:t.includes(e.id),onClick:function(){_&&(e.isPartner?b(!1):v||b(!0)),l(e.id)},permissionAssignmentSkipped:_&&e.isPartner&&p,selected:e.id===a}))};if(_){var g=o.filter(function(e){return!0===e.isPartner}).map(A),S=o.filter(function(e){return!1===e.isPartner}).map(A);return(0,d.jsxs)(s.xu,{children:[(0,d.jsx)(s.xu,{marginBottom:4,marginTop:2,paddingX:8,children:(0,d.jsx)(s.xv,{weight:"bold",children:"Partner permissions"})}),g,(0,d.jsx)(s.xu,{marginBottom:4,marginTop:2,paddingX:8,children:(0,d.jsx)(s.xv,{weight:"bold",children:"Employee permissions"})}),S]})}return n&&n.length>0?n.map(function(e){var t=o.filter(function(t){return t.category==="ad-account-".concat(e.id)}).map(A),a=o.filter(function(t){return t.category==="catalog-".concat(e.id)}).map(A),i=o.filter(function(t){return t.category==="profile-".concat(e.id)}).map(A);return(0,r.createElement)(y,N(N({},e),{},{key:e.id,defaultOpen:1===n.length}),(0,d.jsxs)(r.Fragment,{children:[i.length>0&&(0,d.jsx)(s.xu,{marginStart:7,children:A({id:e.id,text:f._('Profile', '[m10n]bizAccess.SelectionColumn.profile', 'Text to display for the profile permissions category'),experience:e.experience})}),t.length>0&&(0,d.jsx)(y,{id:e.id,level:1,text:f._('Ad Accounts', '[m10n]bizAccess.SelectionColumn.adaccounts', 'Text to display for the ad accounts permissions category'),children:t}),m&&a.length>0&&(0,d.jsx)(y,{id:"catalog-selection-".concat(e.id),level:1,text:f._('Catalogs', '[m10n]bizAccess.SelectionColumn.catalog', 'Text to display for the catalog permissions category'),children:a})]}))}):o.map(A)},L=function(e){var t=e.modifiedIds,n=e.searchPlaceholder,o=e.selectionOptions,a=e.selectionCategories,i=e.selectedOption,l=e.setSelectedOption,c=e.hasSelectionTreeCategories,u=e.isAoaaAssignmentModal,_=void 0!==u&&u,f=R((0,r.useState)(""),2),m=f[0],h=f[1],p=o.filter(function(e){return e.id===m||e.text.toLowerCase().includes(m.toLowerCase())||_&&e.subtext&&e.subtext.toLowerCase().includes(m.toLowerCase())}),b=void 0!==c&&c?(0,d.jsx)(j,{modifiedIds:t,selectedOption:i,selectionCategories:a||[],selectionOptions:p,setSelectedOption:l}):(0,d.jsx)(k,{filteredSelectionOptions:p,isAoaaAssignmentModal:_,modifiedIds:t,selectedOption:i,selectionCategories:a,setSelectedOption:l});return(0,d.jsxs)(s.xu,{padding:2,children:[(0,d.jsx)(s.xu,{marginBottom:5,marginEnd:1,marginStart:1,children:(0,d.jsx)(s.Um,{accessibilityLabel:n,id:"filterField",onChange:function(e){h(e.value)},placeholder:n,size:"lg"})}),(0,d.jsx)(s.xu,{children:(0,d.jsx)(s.xu,{"data-test-id":"available-ad-accounts",children:b})})]})},U=function(e){var t=e.businessName,n=e.adAccountName,r=(0,i.Z)();return(0,d.jsx)(s.xu,{paddingX:4,paddingY:4,children:(0,d.jsxs)(s.kC,{alignItems:"start",direction:"row",gap:6,justifyContent:"start",children:[(0,d.jsxs)(s.xu,{children:[(0,d.jsx)(s.xv,{inline:!0,weight:"bold",children:r._('Creating ad account for: ', '[m10n]bizAccess.aoaaPermissionAssignment.assignPermissions.modalHeader.text', 'Text that shows who we are inviting to join our business')}),(0,d.jsxs)(s.xv,{inline:!0,children:[" ",t]})]}),(0,d.jsxs)(s.xu,{children:[(0,d.jsx)(s.xv,{inline:!0,weight:"bold",children:r._('Assigning permissions to: ', '[m10n]bizAccess.aoaaPermissionAssignment.assignPermissions.modalHeader.text', 'Text that shows who we are inviting to join our business')}),(0,d.jsxs)(s.xv,{inline:!0,children:[" ",n]})]})]})})},B=n(978066),M=n(274138),H=n(739283),Z=n(89446);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){V(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V(e,t,n){return(t=q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){var t=function(e,t){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=G(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G(t)?t:t+""}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var X=524,K=function(e){var t,n=e.modalTitle,f=e.modalSubtitle,m=e.modalAccessibilityLabel,p=e.buttonLabel,b=e.text,y=e.subtext,v=e.image,A=e.invitedPeopleIdentifiers,g=e.counterTextFunction,S=e.searchPlaceholder,x=e.selectionPlaceholder,E=e.selectionOptions,P=e.selectionCategories,I=e.hasSelectionTreeCategories,T=e.selectedOptionDetailsText,C=e.selectedOptionDetailsGetter,O=void 0===C?function(e){return{name:e.selectedOptionDetails.text}}:C,j=e.loading,z=e.footerSecondaryContent,w=e.cancelText,N=e.onDismiss,R=e.onSubmit,D=e.isAoaaAssignmentModal,k=void 0!==D&&D,G=e.modalSize,F=e.modalHeight,W=e.isCatalogAccessAssignmentModal,K=void 0!==W&&W,$=(0,a.u)().logContextEvent,J=(0,i.Z)(),ee=(0,Z.KJ)(),et=(0,(0,c.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,en=Q((0,r.useState)({}),2),er=en[0],es=en[1],eo=Object.keys(er),ea=Q((0,r.useState)(""),2),ei=ea[0],el=ea[1],ec=E.find(function(e){return e.id===ei}),eu=k&&E.find(function(e){return!0===e.isPartner})||{};if(j)return(0,d.jsx)(M.Z,{accessibilityLabel:m,cancelText:w,hideCancelAction:k||K,primaryAction:(0,d.jsx)(s.xu,{"data-test-id":"ad-account-access-submit-button",children:(0,d.jsx)(s.zx,{color:"red",disabled:!0,size:"lg",text:p})}),size:void 0===G?"lg":G,subtitle:f,title:n,children:(0,d.jsx)(s.kC,{alignItems:"stretch",direction:"column",height:void 0===F?600:F,justifyContent:"center",width:"100%",children:(0,d.jsx)(s.xH,{accessibilityLabel:(0,o.hC)(J),show:!0})})});var ed=b?(0,d.jsx)(_,{counterText:g&&g(eo.length),image:v,subtext:y,text:b}):null;return A&&A.length>0?ed=(0,d.jsx)(h,{invitedPeopleIdentifiers:A||[]}):k&&(ed=(0,d.jsx)(U,{adAccountName:y||"",businessName:b||""})),(0,d.jsxs)(M.Z,{accessibilityLabel:m,cancelText:w,footerSecondaryContent:z,hideCancelAction:k||K,onDismiss:N,primaryAction:(0,d.jsx)(s.xu,{"data-test-id":"ad-account-access-submit-button",children:(0,d.jsx)(s.zx,{color:"red",disabled:k?!eo.includes(eu.id):0===eo.length,onClick:function(){R(er)},size:"lg",text:p})}),size:"lg",subtitle:f,title:n,children:[et&&(0,d.jsx)(s.xu,{marginBottom:4,children:(0,d.jsx)(B.Z,{oneLine:!0})}),(0,d.jsxs)(s.xu,{borderStyle:"sm",rounding:2,children:[(0,d.jsx)(s.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderWidth:"0 0 1px"}},width:"100%",children:ed}),(0,d.jsxs)(s.kC,{alignItems:"stretch",height:X,width:"100%",children:[(0,d.jsx)(s.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderWidth:"0 1px 0 0"}},flex:"grow",height:"100%",overflow:"auto",children:(0,d.jsx)(L,{hasSelectionTreeCategories:void 0!==I&&I,isAoaaAssignmentModal:k,modifiedIds:eo,searchPlaceholder:S,selectedOption:ei,selectionCategories:P,selectionOptions:E,setSelectedOption:el})}),(0,d.jsx)(s.xu,{height:"100%",overflow:"auto",width:488,children:ec?(0,d.jsxs)(s.xu,{marginEnd:6,marginStart:6,marginTop:6,children:[!k&&!K&&(0,d.jsx)(s.xu,{marginBottom:3,children:(0,d.jsx)(s.xv,{weight:"bold",children:(0,l.nk)(T,O({selectedOptionDetails:ec}))})}),(0,d.jsx)(u.Z,{assignableRoles:ec.assignableRoles,initialRoles:er[ei]||[],isAoaaAssignmentModal:k,isCatalogAccessPicker:null==(t=ec.category)?void 0:t.includes("catalog"),onChange:function(e){0===e.length?(er[ei],es(function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(er,[ei].map(q)))):es(Y(Y({},er),{},V({},ei,e))),(0,H.Z)($,{event_type:8964,component:13640,aux_data:{business_id:ee,field_name:"role-picker"}})}},ei)]}):(0,d.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,d.jsx)(s.xv,{weight:"bold",children:x})})})]})]})]})}},91912:function(e,t,n){"use strict";n.d(t,{s:function(){return o},u:function(){return s}});var r=n(719301),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.includes("OWNER")||e.includes("ADMIN"))return t?r.k_:r.hd;var n=e.filter(function(e){return t?r.k_.includes(e):r.hd.includes(e)});return 0===n.length?["ANALYST"]:n},o=function(e){return e.includes("OWNER")||e.includes("CATALOGS_MANAGER")?r.pk:e.filter(function(e){return r.pk.includes(e)})}},221325:function(e,t,n){"use strict";n.d(t,{Z:function(){return Q}});var r=n(387784),s=n(581722),o=n(563501),a=n(20256),i=n(537391),l=n(766857),c=n(400850),u=n(583875),d=n(610568),_=n(935059),f=n(24246),m=n(216975),h=n(501010),p=n(774838),b=n(552263),y=n(274138),v=n(784093),A=n(502225),g=n(555787),S=n(618550),x=n(591361),E=n(851770),P=n(514223),I=n(180483),T=n(696749),C=n(534690),O=n(594110),j=n(185004),z=n(997973),w=n(866962),N=n(89446),R=n(680811);function D(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||L(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return U(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var B=new a.Ry(1e3),M=function(e){var t=e.recipientAccountType,n=e.selectedAccountIds,o=e.setSelectedAccountIds,i=e.isAudienceOwner,l=e.forPartner,c=(0,(0,h.Z)().checkExperiment)("business_access__audience_sharing_improvements").anyEnabled,u=(0,b.Z)().inRmnFoundations,d=(0,N.HU)().setSelectedAudience,_=(0,N.Pf)(),m=(0,r.useRef)(null),p=(0,f.Z)(),y=(0,N.KJ)(),v=(0,s.v9)(z.FY),A=(0,s.v9)(S.Xj),g=k((0,r.useState)([]),2),x=g[0],M=g[1],H=k((0,r.useState)(""),2),Z=H[0],G=H[1],F=k((0,r.useState)([]),2),Y=F[0],V=F[1],q=k((0,r.useState)([]),2),Q=q[0],W=q[1],X=u?j.B_:j.zM,K=u?{businessId:y,sortBy:"NAME"}:{account_id:y,account_type:w.Q5.BUSINESS_ACCOUNT,share_type:w.E7.SHARED},$=k((0,E.Z)(X,!0,K),3),J=$[0],ee=$[2],et=(0,r.useCallback)(function(e){return(0,T.Z)(p._('ID: {{ audienceId }}', '[m10n] audienceSharing.audienceShareForm.searchBox.dropdownOption.subtext', 'Accessibility label for icon button that removes the selected account when clicked. audienceId: name of the selected account'),{audienceId:e})},[p]);(0,r.useEffect)(function(){var e=A.map(function(e){var t=e.asset,n=t.id;return{label:t.name,subtext:(0,T.Z)(p._('ID: {{ advertiserId }}', '[m10n] audienceSharing.audienceShareForm.searchBox.dropdownOption.subtext', 'Accessibility label for icon button that removes the selected account when clicked. advertiserId: name of the selected account'),{advertiserId:n}),value:n}});M(e),V(e)},[p,A]),(0,r.useEffect)(function(){if(!(u?!J||Array.isArray(J)&&0===J.length:!J||!J.audiences)){var e=u?J:J.audiences;if(u){var t=new Set(v.map(function(e){return e.id}));e=J.filter(function(e){return!t.has(e.id)})}W(e.map(function(e){return{label:e.name||"",subtext:et(e.id),value:e.id}}))}},[p,J,v,u,et]);var en=function(e){var t=function(e){if(Array.isArray(e))return U(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||L(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();n.includes(e)||t.push(e),o(t),V((0,w.In)(x,t,null)),G("")};(0,C.Z)(function(){var e,t,n=(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,j.B_)({businessId:y,searchTerm:Z,sortBy:"NAME"});case 3:t=e.sent,n=new Set(v.map(function(e){return e.id})),W(t.filter(function(e){return!n.has(e.id)}).map(function(e){return{label:e.name||"",subtext:et(e.id),value:e.id}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),W([]);case 13:case"end":return e.stop()}},e,null,[[0,10]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){D(o,r,s,a,i,"next",e)}function i(e){D(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)});u&&n()},O.I.debounceTimeOut,[Z]);var er=function(e){var t=n.filter(function(t){return t!==e});o(t),V((0,w.In)(x,t,Z))},es=n.map(function(e){var t,n;return(0,R.jsx)(a.Vp,{accessibilityRemoveIconLabel:(0,I.Z)(p._('Remove {{ accountNameOrId }}', '[m10n] audienceSharing.audienceShareForm.searchBox.removeIcon.accessibilityLabel', 'Accessibility label for icon button that removes the staged account when clicked, accountNameOrId: name or ID of the account associated with the given tag'),{accountNameOrId:(null==(t=x.find(function(t){return t.value===e}))?void 0:t.label)||e}),onRemove:function(){return er(e)},text:(null==(n=x.find(function(t){return t.value===e}))?void 0:n.label)||e},e)}).filter(Boolean);return(0,R.jsx)(a.xu,{"data-test-id":"audience-sharing-search-box",position:"relative",width:"100%",children:(0,R.jsxs)(a.xu,{width:"100%",children:[(0,R.jsxs)(a.kC,{direction:"column",gap:4,width:"100%",children:[!u&&(0,R.jsx)(a.kC.Item,{flex:"grow",children:(0,R.jsx)(a.BC,{ref:m,accessibilityClearButtonLabel:(0,w.PY)(t,p),helperText:(0,w.ic)(t,i,p),id:"audience-sharing-ad-account-search-box",inputValue:Z,label:(0,w.s9)(t,p,null!=l&&l,c),noResultText:p._('No results found for your selection', '[m10n] audienceSharing.audienceShareForm.searchBox.noResultsText', 'Text shown when there are no accounts found given the user\'s search term'),onChange:function(e){var t=e.value;G(t),V((0,w.In)(x,n,t))},onClear:function(){o([]),V(x),G("")},onKeyDown:function(e){var t=e.event,r=t.keyCode,s=t.currentTarget;r===P.Z.BACKSPACE&&0===s.selectionEnd&&er(n[n.length-1])},onSelect:function(e){en(e.item.value)},options:Y,placeholder:n.length>0?"":(0,w.Yh)(t,p,c),size:"lg",tags:es,zIndex:B})}),(0,R.jsx)(a.kC.Item,{flex:"grow",children:(0,R.jsx)(a.BC,{ref:m,accessibilityClearButtonLabel:p._('Clear the selected audience', '[m10n] audienceSharing.audienceShareForm.audienceRecipient.searchBox.clear', 'Accessibility label for clear selection icon button'),id:"audience-sharing-audience-search-box",inputValue:function(){if(u)return _?_.name:Z}(),label:p._('Select audience', '[m10n] audienceSharing.audienceShareForm.partnerAudience.searchBox.label', 'Label for an input text field for searching for audience to share.'),noResultText:p._('No results found for your selection', '[m10n] audienceSharing.audienceShareForm.searchBox.noResultsText', 'Text shown when there are no accounts found given the user\'s search term'),onChange:function(e){var t=e.value;u&&G(t)},onClear:function(){d(null),u&&G("")},onSelect:function(e){var t=e.item;d((u?J:J.audiences).find(function(e){return e.id===t.value}))},options:Q,placeholder:p._('Select audience', '[m10n] audienceSharing.audienceShareForm.searchBox.placeholder', 'Text shown when there are no audience selected'),selectedOption:u&&_?{label:_.name||"",subtext:et(_.id),value:_.id}:void 0,size:"lg",zIndex:B})})]}),ee&&(0,R.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},position:"absolute",children:(0,R.jsx)(a.xH,{accessibilityLabel:p._('Loading audiences', '[m10n] audienceSharing.audienceShareForm.searchBox.validatingAccount.spinner', 'Accessibility label for a Spinner icon that is displayed while waiting to load audiences'),delay:!1,show:!0,size:"sm"})})]})})},H=n(649165),Z=n(622922),G=n(593015);function F(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var q=function(e){var t=e.dateValue,n=e.setDateValue,r=(0,f.Z)();return(0,R.jsxs)(a.kC,{direction:"column",gap:4,children:[(0,R.jsx)(a.xv,{children:r._('Your partner will have access to this shared audience until the specified expiration date. If the audience expires before the campaign end date, the campaign will be automatically paused.', '[m10n]audienceSharing.ModalShareAudienceList.expirationDate.description', 'Description about the audience expiration date input field')}),(0,R.jsx)(a.sg,{span:6,children:(0,R.jsx)(d.Z,{id:"audience-expiration-date",label:r._('Select expiration date', '[m10n]audienceSharing.ModalShareAudienceList.expirationDate', 'Label above the audience expiration date input field'),onChange:function(e){n(e.value)},onClearInput:function(){return n(null)},value:t})})]})},Q=function(e){var t,n=e.accountTypeSelected,d=e.handleModalDismiss,E=e.isAudienceOwner,P=e.displayedAccountType,I=e.forPartner,T=e.audienceAssignmentType,C=void 0===T?x.XY.AUDIENCE_PRE_SELECTED:T,O=(0,N.Pf)(),j=(0,p.B)().locale,z=(0,N.HU)().clearModal,D=(0,N.nU)(),k=(0,s.v9)((0,g.BK)(D)),L=(0,h.Z)().checkExperiment,U=L("business_access_rmn_audience_beta").anyEnabled,B=L("business_access__audience_sharing_improvements").anyEnabled,V=(0,s.v9)(S.$p),Q=(0,b.Z)(),W=Q.isRmnBusiness,X=Q.inRmnFoundations,K=(0,f.Z)(),$=(0,l.ZP)("BUSINESS_ACCESS_AUDIENCES"),J=(0,N.KJ)(),ee=(0,(0,i.g)().getParentHierarchyForIdIfExists)(J),et=null==ee?void 0:ee.id,en=(0,s.I0)(),er="AD_ACCOUNT"===n,es=Y((0,r.useState)(0),2),eo=es[0],ea=es[1],ei=Y((0,r.useState)(!1),2),el=ei[0],ec=ei[1],eu=Y((0,r.useState)(!1),2),ed=eu[0],e_=eu[1],ef=Y((0,r.useState)(null),2),em=ef[0],eh=ef[1],ep=Y((0,r.useState)(!1),2),eb=ep[0],ey=ep[1],ev=Y((0,r.useState)({}),2),eA=ev[0],eg=ev[1],eS=Y((0,r.useState)(null),2),ex=eS[0],eE=eS[1],eP=Y((0,r.useState)([]),2),eI=eP[0],eT=eP[1],eC=(0,s.v9)(S.lS).map(function(e){return e.account_id}),eO=(0,_.Z)(),ej=eO.isAuth?null==eO?void 0:eO.avatar_color_index:void 0;(0,r.useEffect)(function(){C===x.XY.AUDIENCE_PRE_SELECTED?ey(0===eI.length||el):C===x.XY.PARTNER_PRE_SELECTED&&ey(!(null!=O&&O.id)||!X&&0===eI.length)},[eI,el,null==O?void 0:O.id,C,X]);var ez=K._('Modal to choose an ad account to share an audience from', '[m10n]audienceSharing.ModalShareAudienceList.accessibilityLabel', 'accessibility label for the modal used to add a partner to a business account'),ew=er?K._('an ad account', '[m10n]audienceSharing.ModalShareAudienceList.accountTypeText.adAccount', 'Describe the type of the account selected by the user'):K._('a business', '[m10n]audienceSharing.ModalShareAudienceList.accountTypeText.business', 'Describe the type of the account selected by the user');(W||B||X)&&(ew=C===x.XY.PARTNER_PRE_SELECTED?(null==k||null==(t=k.user)?void 0:t.full_name)||"":er?I?K._('a partner\'s ad account', '[m10n]audienceSharing.ModalShareAudienceList.accountTypeText.partner.adAccount', 'Describe the type of the account selected by the user'):K._('your ad account', '[m10n]audienceSharing.ModalShareAudienceList.accountTypeText.your.adAccount', 'Describe the type of the account selected by the user'):X&&I?K._('a brand partner', '[m10n]audienceSharing.ModalShareAudienceList.accountTypeText.foundation', 'Describe the type of the account selected by the user'):K._('a child business', '[m10n]audienceSharing.ModalShareAudienceList.accountTypeText.childBusiness', 'Describe the type of the account selected by the user'));var eN=(0,w.O1)(n,K),eR=null==O?void 0:O.owner_business_id,eD=ex&&ex.getTime()?(0,c.ZP)(j,ex,c.kH.TWO_DIGIT):"",ek=function(){var e,t;(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(O){e.next=2;break}return e.abrupt("return");case 2:return e_(!0),e.next=5,(0,x.oH)({audienceId:O.id,recipientAccountIds:C===x.XY.PARTNER_PRE_SELECTED&&n===x.Q5.BUSINESS_ACCOUNT?[D]:eI,recipientAccountType:n,businessId:J,businessHierarchyId:et,expirationDate:ex?(0,o.Z)(ex):void 0});case 5:(t=e.sent.error)?eh(t):(eh(null),ea(2)),C===x.XY.PARTNER_PRE_SELECTED&&n===x.Q5.BUSINESS_ACCOUNT&&D?en((0,A.zQ)({sortBy:"name",searchBy:"name",businessId:J,partnerId:D,partnerType:"EXTERNAL"})):en((0,v.oA)({page:1,audienceId:O.id||"",businessId:J,recipientAccountType:P,searchTerm:V})),$({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"share-audience-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-share-audience-button"}),e_(!1);case 11:case"end":return e.stop()}},e)}),t=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){F(o,r,s,a,i,"next",e)}function i(e){F(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)})()},eL=[{primaryButtonColor:"red",primaryButtonText:K._('Next', '[m10n]audienceSharing.ModalShareAudienceList.button.next', 'Label for the primary button on the Share Audience modal'),primaryButtonAction:function(){ea(1),ey(!0)},render:function(){return(0,R.jsxs)(a.kC,{direction:"column",gap:3,children:[(0,R.jsxs)(a.xu,{minHeight:B?"100%":430,overflow:B?"hidden":void 0,children:[(0,R.jsx)(H.Z,{audienceAssignmentType:C,audienceSelected:O,forPartner:I,inRmnFoundationsExperiment:X,isAudienceOwner:E,recipientAccountType:n}),C===x.XY.AUDIENCE_PRE_SELECTED&&!!(null!=O&&O.advertiser_id)&&!!eR&&(0,R.jsx)(G.Z,{accountsToExclude:eC,audienceAdvertiserId:null==O?void 0:O.advertiser_id,audienceOwningBusinessId:eR,existsInvalidSelectedAccountId:el,forPartner:I,inRmnFoundationsExperiment:X,isAdsManager:!1,isAudienceOwner:E,recipientAccountType:n,recipientBusinessId:J,selectedAccountIds:eI,setAccountAvatarConfigs:eg,setExistsInvalidSelectedAccountId:ec,setSelectedAccountIds:eT})]}),C===x.XY.PARTNER_PRE_SELECTED&&(0,R.jsx)(M,{forPartner:I,isAudienceOwner:E,recipientAccountType:n,selectedAccountIds:eI,setSelectedAccountIds:eT}),U&&(I&&!!(null!=O&&O.advertiser_id)&&!!eR||C===x.XY.PARTNER_PRE_SELECTED)&&(0,R.jsx)(a.UQ.Expandable,{accessibilityCollapseLabel:K._('Hide audience expiration date input', '[m10n]audienceSharing.ModalShareAudienceList.expiration.accordion.collapse', 'Accessibility label for expandable component to hide audience expiration date field'),accessibilityExpandLabel:K._('Show audience expiration date input', '[m10n]audienceSharing.ModalShareAudienceList.expiration.accordion.expand', 'Accessibility label for expandable component to show audience expiration date field'),id:"audience-expiration-accordion",items:[{children:(0,R.jsx)(q,{dateValue:ex,setDateValue:eE}),icon:"timer",summary:[eD],title:K._('Audience access expiration (optional)', '[m10n]audienceSharing.ModalShareAudienceList.expiration.accordion.title', 'Audience expiration selection accordion title. clock: clock icon')}]})]})}},{primaryButtonColor:"red",primaryButtonText:K._('Share audience', '[m10n]audienceSharing.ModalShareAudienceList.button.share', 'Label for the primary button on the Share Audience modal'),primaryButtonAction:function(){ek()},render:function(){return(0,R.jsxs)(a.xu,{marginBottom:6,children:[(0,R.jsx)(Z.Z,{forPartner:I,setPrimaryButtonDisabled:ey}),em&&(0,R.jsx)(a.xu,{marginTop:4,role:"alert",children:(0,R.jsx)(a.xv,{color:"error",inline:!0,children:(0,w.Fb)({apiError:em,i18n:K})})})]})}},{primaryButtonColor:"red",primaryButtonText:K._('Done', '[m10n]audienceSharing.ModalShareAudienceList.button.done', 'Label for the primary button on the Share Audience modal'),primaryButtonAction:function(){null==d||d(),z()},render:function(){return(0,R.jsxs)(a.xu,{marginBottom:6,children:[(0,R.jsx)(a.xu,{marginBottom:3,children:(0,R.jsx)(a.xv,{children:(0,m.nk)(K._('You have shared audience {{audienceName}} (Audience ID: {{audienceId}}) with the following {{accountType}}:', '[m10n]audienceSharing.ModalShareAudienceList.subtitle', 'Describe what audience the user have shared. audienceId: the audience ID, audienceName: the audience name, accountType: ad account or business selected.'),{audienceId:(0,R.jsx)(a.xv,{inline:!0,weight:"bold",children:null==O?void 0:O.id},"finalStep-audienceId-".concat((null==O?void 0:O.id)||"")),audienceName:(0,R.jsx)(a.xv,{inline:!0,weight:"bold",children:null==O?void 0:O.name},"finalStep-audienceName-".concat((null==O?void 0:O.name)||"")),accountType:eN})})}),er?(0,R.jsx)(a.kC,{direction:"column",children:(0,R.jsx)(a.xu,{marginBottom:3,marginStart:1,marginTop:1,children:(0,R.jsx)(a.xu,{marginStart:1,marginTop:3,children:(0,R.jsx)(a.aV,{spacing:"condensed",type:"unordered",children:eI.map(function(e){var t;return(0,R.jsx)(a.aV.Item,{text:(0,m.nk)(K._('{{accountName}} (Ad Account ID: {{accountId}})', '[m10n]audienceSharing.ModalShareAudienceList.finalStep.shared.adAccount', 'Ad Account shared with accountName: Ad Account Name, accountId: Ad Account ID'),{accountName:(null==(t=eA[e])?void 0:t.account_name)||"",accountId:e}).join("")},e)})})})})}):(0,R.jsx)(a.kC,{direction:"column",justifyContent:"evenly",children:eI.map(function(e){var t,n,r;return(0,R.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,R.jsx)(a.xu,{padding:2,children:(0,R.jsx)(u.qE,{color:ej,name:(null==(t=eA[e])?void 0:t.account_name)||"",size:"xs",src:(null==(n=eA[e])?void 0:n.image_medium_url)||""})}),(0,R.jsx)(a.xu,{padding:1,children:(0,R.jsx)(a.xv,{children:(0,m.nk)(K._('{{businessName}} (Business ID: {{businessId}})', '[m10n]audienceSharing.ModalShareAudienceList.finalStep.businessSelected', 'Business selected, businessName: The Business name, businessId: The Business ID.'),{businessName:(null==(r=eA[e])?void 0:r.account_name)||"",businessId:e}).join("")})})]},e)})})]})}}],eU=eL[eo],eB=2===eo,eM=eB?K._('Audience shared', '[m10n]audienceSharing.ModalShareAudienceList.title.done', 'heading for the modal after user share an audience.'):(0,m.nk)(K._('Share audience with {{accountType}}', '[m10n]audienceSharing.ModalShareAudienceList.title', 'heading for the modal used to choose an ad account to share an audience from. accountType: ad account or business selected.'),{accountType:ew});return(0,R.jsx)(y.Z,{accessibilityLabel:ez,footerSecondaryContent:!eB&&(0,R.jsx)(a.kC,{alignItems:"start",gap:2,children:(0,R.jsx)(a.xv,{color:"subtle",size:"200",children:(0,m.nk)(K._('Step {{modalStep}} of {{modalTotalSteps}}', '[m10n]audienceSharing.ModalShareAudienceList.footer.pagination.steps', 'Text that indicates pagination step while sharing an audience. modalStep: current modal page, modalTotalSteps: total steps available'),{modalStep:eo+1,modalTotalSteps:eL.length})})}),hideCancelAction:eB,onDismiss:d||void 0,primaryAction:(0,R.jsx)(a.xu,{"data-test-id":"confirm-share-audience-button",children:(0,R.jsx)(a.zx,{color:eU.primaryButtonColor,disabled:eb||ed,onClick:eU.primaryButtonAction,size:"lg",text:eU.primaryButtonText})}),size:eB?"sm":"lg",title:eM,children:(0,R.jsx)(a.xu,{overflow:"hidden",padding:1,children:eU.render()})})}},218376:function(e,t,n){"use strict";var r=n(387784),s=n(653551),o=n(20256),a=n(457223),i=n(143754),l=n(24246),c=n(216975),u=n(514223),d=n(173874),_=n(696749),f=n(566373),m=n(89446),h=n(680811);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||y(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return v(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A=function(e){return e.reduce(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return null!=e&&e.includes(t)?e:[].concat(b(null!=e?e:[]),[t])},[])};t.Z=function(e){var t=e.peopleIdentifiers,n=e.errorMessage,y=e.setPeopleIdentifiers,v=e.errorMap,g=e.placeholderText,S=e.helperText,x=e.useRedStyle,E=e.hideErrorMapText,P=e.getErrorMessageByErrorCode,I=e.setResolvedErrors,T=e.messageToDisplay,C=(0,l.Z)(),O=(0,m.KJ)(),j=(0,m.MC)(),z=(null==j?void 0:j.user.full_name)||"",w=(0,s.TH)(),N=(0,d.dK)(w),R=p((0,r.useState)(""),2),D=R[0],k=R[1],L=p((0,r.useState)([]),2),U=L[0],B=L[1],M=p((0,r.useState)({}),2),H=M[0],Z=M[1],G=(0,r.useRef)(null);(0,r.useEffect)(function(){Z(v?Object.entries(v).reduce(function(e,t){var n=p(t,2),r=n[0],s=n[1];return Array.isArray(s)?s.reduce(function(e,t){return"string"==typeof t&&(e[t]=parseInt(r,10)),e},e):e},{}):Object.freeze({}))},[v]);var F=(0,r.useCallback)(function(e,t){var n=t.join((0,i.bH)(C));switch(e){case 90:return(0,_.Z)(C.ngettext('{{ usersList }} is not a valid user.', '{{ usersList }} are not valid users.', t.length, '[m10n]bizAccess.sendInvite.memberError', 'Error message shown when invite input is not a valid email and is not a username corersponding to a user'),{usersList:n});case 2751:return(0,_.Z)(C.ngettext('{{ usersList }}: You\'ve already added this relationship to your business.', '{{ usersList }}: You\'ve already added these relationships to your business.', t.length, '[m10n]bizAccess.sendInvite.employeeAlreadyExists', 'Error message shown when try adding employee(s) for the second time'),{usersList:n});case 2773:return N?(0,_.Z)(C._('You\'ve already invited {{ usersList }} to {{ businessName }}. To view your request, visit {{ businessName }}\'s pending employees tab.', '[m10n]bizHierarchy.invite.alreadyExists', 'Error message shown to user when trying to invite a user that already has an invite for business hierarchy. usersList: the name of the invited employee. businessName: the name of the business.'),{usersList:n,businessName:z}):(0,_.Z)(C._('You\'ve already invited {{ usersList }}. Check your pending invites.', '[m10n]bizAccess.invite.alreadyExists', 'Error message shown to user when trying to invite a user that already has an invite'),{usersList:n});case 2936:return(0,c.nk)(C._('{{ personalAccount }} To add them as an employee, they will need to convert it to a business account.', '[m10n]bizAccess.invite.personalAccount.updated', 'Updated error message shown to user when trying to invite a user that has a personal Pinterest account. personalAccount: bolded sentence with specific user.'),{personalAccount:(0,h.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,_.Z)(C._('{{ usersList }} is associated with a personal Pinterest account.', '[m10n]bizAccess.invite.personalAccount.boldedSentecne', 'Bolded sentence informing user of personal account. usersList: user ids with this error.'),{usersList:n})})});case 4064:return(0,_.Z)(C.ngettext('You\'ve already added this employee relationship to your business: {{ usersList }}', 'You\'ve already added these employee relationships to your business: {{ usersList }}', t.length, '[m10n]bizAccess.sendInvite.employeeRelationshipExists', 'Error message shown when try adding employee(s) for the second time'),{usersList:n});case 4065:return(0,_.Z)(C.ngettext('You\'ve already added this employee relationship to your business: {{ usersList }}', 'You\'ve already added these employee relationships to your business: {{ usersList }}', t.length, '[m10n]bizAccess.sendInvite.businessAdminRelationshipExists', 'Error message shown when try adding employee(s) who have already been added as a business admin'),{usersList:n});case 4066:return(0,_.Z)(C.ngettext('You\'ve already added this partner relationship to your business: {{ usersList }}', 'You\'ve already added these partner relationships to your business: {{ usersList }}', t.length, '[m10n]bizAccess.sendInvite.partnerRelationshipExists', 'Error message shown when try adding employee(s) who have already been added as a partner'),{usersList:n});case 2754:return(0,_.Z)(C.ngettext('Invalid request, please try a different business: {{ usersList }}', 'Invalid request, please try a different business: {{ usersList }}', t.length, '[m10n]bizAccess.sendInvite.invalidRequest', 'Error message shown when try create an invalid invite or request'),{usersList:n});case 4172:return(0,_.Z)(C.ngettext('This business account has already added you as an employee: {{ usersList }}', 'This business account has already added you as an employee: {{ usersList }}', t.length, '[m10n]bizAccess.sendInvite.reverseEmployeeRelationshipExists', 'Error message shown when try to create a reverse relationship with an employer'),{usersList:n});case 4173:return(0,_.Z)(C.ngettext('This business account has already added you as a partner: {{ usersList }}', 'This business account has already added you as a partner: {{ usersList }}', t.length, '[m10n]bizAccess.sendInvite.reversePartnerRelationshipExists', 'Error message shown when try to create a reverse relationship with an shared partner'),{usersList:n});case 2769:return(0,c.nk)(C._('You\'ve hit the maximum number of pending invites allowed. To send more invites, {{ deleteInvitesLink }}', '[m10n]bizAccess.addPeople.maxInvitesExceededErrorMessage', 'Error message explaining you have exceeded maximum number of pending invites. deleteInvitesLink: Link to delete some pending invites.'),{deleteInvitesLink:(0,h.jsx)(o.rU,{display:"inlineBlock",href:(0,a.Z)("PEOPLE_PENDING_TAB",O),target:"blank",children:C._('delete some of your pending invites', '[m10n]bizAccess.addPeople.maxInvitesExceededErrorMessage.pendingInvitesLink', 'Link to Business Access pending invites page')})});default:return C._('Sorry, something went wrong on our end. Please try again.', '[m10n]bizAccess.sendInvite.undknowError', 'Error message shown below the Business ID field when an unexpected error occurs')}},[O,C,z,N]),Y=(0,r.useRef)(P);(0,r.useEffect)(function(){E||B(v?Object.entries(v).reduce(function(e,t){var n=p(t,2),r=n[0],s=n[1];return Array.isArray(s)&&s.forEach(function(t){var n;e.push((null==(n=Y.current)?void 0:n.call(Y,parseInt(r,10),[t]))||F(parseInt(r,10),[t]))}),e},[]):[])},[F,Y,v,E]);var V=function(e){return e.length>20&&(x||B([(0,h.jsx)(o.xv,{children:S||C._('Add up to 20 emails or usernames at a time', '[m10n]bizAccess.people.invite.more.20.toast', 'message warning that only up to 20 people can be invited at a time')},e.length)]),e.splice(20)),e},q=function(e){if(Object.keys(H).length>0&&H[e]){var t;return(null==(t=Y.current)?void 0:t.call(Y,H[e],[e]))||F(H[e],[e])}},Q=function(e){var t=Object.keys(H).filter(function(t){return e.includes(t)});if(t.length>0){var n=[];t.forEach(function(e){var t,r=null==(t=Y.current)?void 0:t.call(Y,H[e],[e]),s=F(H[e],[e]);n.push(r||s)}),B(n),null==I||I(!1)}else B([]),null==I||I(!0)},W=t.map(function(e,n){var r=q(e);return r?(0,h.jsx)(o.Vp,{accessibilityRemoveIconLabel:(0,_.Z)(C._('Remove {{ identifier }}', '[m10n]bizAccess.people.add.removeIdentifier', 'Accessibility label on a button that removes a label containing an email or username'),{identifier:e}),onRemove:function(){var e,r=b(t);r.splice(n,1),y(r),Q(r),null==(e=G.current)||e.focus()},text:e,type:r?"error":"default"},e):(0,h.jsx)(o.Vp,{accessibilityRemoveIconLabel:(0,_.Z)(C._('Remove {{ identifier }}', '[m10n]bizAccess.people.add.removeIdentifier', 'Accessibility label on a button that removes a label containing an email or username'),{identifier:e}),onRemove:function(){var e,r=b(t);r.splice(n,1),y(r),null==(e=G.current)||e.focus()},text:e},e)}),X=n?U.concat(n):U,K=S||C._('Add up to 20 emails or usernames at a time', '[m10n]bizAccess.people.add.helper text', 'message explaining that the list of email addresses and emails is limited to 20 entries'),$=g||C._('Add employee username or email', '[m10n]bizAccess.people.placeholder', 'Search people associated with this business by business id'),J=!x&&X&&X.length>0?" ":void 0,ee=X&&X.length>0?void 0:K;return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(o.nv,{ref:G,errorMessage:J,helperText:x?K:ee,id:"people-multiselect",onBlur:function(){if(""!==D.trim()){var e=V(A([].concat(b(t),[D.trim()])));y(e),Q(e),k("")}},onChange:function(e){var n=e.value.split(/[\s,;]+/);if(n.length>1){var r=V(A([].concat(b(t),b(n.splice(0,n.length-1).filter(function(e){return""!==e})))));y(r),Q(r)}else B([]);k(n[n.length-1])},onKeyDown:function(e){var n=e.event,r=n.keyCode,s=n.target;if(r===u.Z.BACKSPACE&&s instanceof HTMLInputElement&&0===s.selectionEnd)y(b(t.slice(0,-1))),Q(b(t.slice(0,-1)));else if(r===u.Z.ENTER&&""!==D.trim()){var o=V(A([].concat(b(t),[D.trim()])));y(o),Q(o),k("")}},placeholder:t.length>0?void 0:$,size:"lg",tags:W,value:D}),(0,h.jsx)(f.Z,{errorMessages:X,messageToDisplay:T,useRedStyle:x})]})}},185806:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(387784),s=n(20256),o=n(719301),a=n(851770),i=n(289935),l=n(24246),c=n(856853),u=n(514223),d=n(552263),_=n(680811);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t,n=e.dataTestId,o=e.onSelect,a=e.option,i=e.hasRequest,c=e.selected,u=(0,l.Z)(),d=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=d[0],h=d[1],p=c&&a.value===c.value;return(0,_.jsx)(s.xu,{"data-test-id":"partner-".concat(n||""),width:"100%",children:(0,_.jsx)(s.iP,{accessibilityLabel:a.label,onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},onTap:function(){return o({item:a})},children:(0,_.jsx)(s.xu,{color:m?"secondary":"transparent",direction:"column",display:"flex",padding:2,rounding:2,children:(0,_.jsxs)(s.kC,{justifyContent:"between",children:[(0,_.jsx)(s.xu,{marginEnd:3,children:(0,_.jsx)(s.kC,{direction:"column",flex:"grow",gap:{column:1,row:0},children:(0,_.jsx)(s.kC,{alignItems:"center",children:(0,_.jsx)(r.Fragment,{children:(0,_.jsxs)(s.kC,{gap:2,children:[(0,_.jsx)(s.qE,{name:a.label,size:"xs",src:a.image}),(0,_.jsx)(s.xv,{color:i?"subtle":"default",inline:!0,lineClamp:1,children:a.label}),i&&(0,_.jsx)(s.Ct,{text:u._('Pending request', '[m10n]bizAccess.selectPartnerSelector.pendingRequestText', 'text for badge if there is a pending request for the partner'),type:"info"})]})})})})}),(0,_.jsx)(s.xu,{alignItems:"center",color:"transparent",display:"flex",justifyContent:"center",children:p?(0,_.jsx)(s.JO,{accessibilityLabel:u._('Selected item', '[m10n]bizAccess.selectPartnerSelector.selectedItem.icon.accessbilityLabel', 'accessbility label for check icon showing item is selected'),color:"default",icon:"check",size:12}):(0,_.jsx)(s.xu,{width:12})})]})})})})},h=n(239426),p=n(162295),b=n(89446);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t,n,f=e.setPartner,y=e.label,v=e.placeholder,x=e.helperText,E=e.partnersToExclude,P=e.selectedPartner,I=e.ignorePendingAssetRequests,T=e.businessIdProp,C=e.selectedPartnerIdProp,O=e.onPartnerChange,j=(0,l.Z)(),z=(0,r.useRef)(null),w=(0,b.KJ)(!0),N=T||w,R=S((0,r.useState)(!1),2),D=R[0],k=R[1],L=S((0,r.useState)(null),2),U=L[0],B=L[1],M=S((0,r.useState)([]),2),H=M[0],Z=M[1],G=S((0,r.useState)((null==P?void 0:P.name)||""),2),F=G[0],Y=G[1],V=S((0,r.useState)(""),2),q=V[0],Q=V[1],W=(0,d.Z)().isRmnBusiness,X=S((0,a.Z)(function(e){return(0,h.dF)(e,o.cU,"PARTNER")},!1,{id:N,limit:o.cU,partnerType:"EXTERNAL"}),4),K=X[0],$=X[1],J=X[2],ee=X[3];(0,r.useEffect)(function(){(0,c.Z)(N)||J||K||ee({id:N,limit:o.cU,partnerType:"EXTERNAL"},o.cU,"PARTNER")},[N,J,K,ee]);var et=((null==K?void 0:K.data.data)||[]).map(function(e){var t=e.id,n=e.user;return{id:t,name:null==n?void 0:n.full_name,image:(null==n?void 0:n.image_medium_url)||(null==n?void 0:n.image_small_url)}}),en=S((0,a.Z)(I?(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}),function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){g(o,r,s,a,i,"next",e)}function i(e){g(o,r,s,a,i,"throw",e)}a(void 0)})}):p.XJ,!1,{id:N,filters:{invite_status:["PENDING"]}}),4),er=en[0],es=en[1],eo=en[2],ea=en[3];(0,r.useEffect)(function(){(0,c.Z)(N)||eo||er||I||ea({id:N,filters:{invite_status:["PENDING"]}})},[N,eo,er,ea,I]);var ei=new Set;((null==er?void 0:er.data.data)||[]).forEach(function(e){var t=e.created_by_business.id;N===t?ei.add(e.user.id):ei.add(t)});var el=et.map(function(e){return A(A({},e),{},{hasRequest:ei.has(e.id)})}),ec=E?el.filter(function(e){return!E.has(e.id)}):el,eu=C&&el.find(function(e){return e.id===C})||null;return((0,r.useEffect)(function(){W&&P&&!U&&(B(eu?{value:null==eu?void 0:eu.id,label:null==eu?void 0:eu.name,image:null==eu?void 0:eu.image}:null),Y((null==eu?void 0:eu.name)||""))},[eu,W,U,P]),(0,r.useEffect)(function(){K&&(er||I)&&Z(ec)},[K,er]),J||eo)?(0,_.jsx)(s.xu,{width:"100%",children:(0,_.jsx)(s.nv,{disabled:!0,helperText:x,id:"shared-partner-selector-loading",label:y,onChange:function(){},placeholder:v,value:F})}):$||es?(0,_.jsx)(s.xu,{width:"100%",children:(0,_.jsx)(s.nv,{disabled:!0,errorMessage:j._('Something went wrong on our end. Please try again.', '[m10n]bizAccess.selectPartnerSelector.generalErrorMessage', 'Text for a general error message'),helperText:x,id:"shared-partner-selector-error-loading",label:y,onChange:function(){},placeholder:v,size:"lg"})}):(0,_.jsxs)(s.xu,{width:"100%",children:[(0,_.jsx)(s.nv,{ref:z,autoComplete:"off",errorMessage:q,helperText:x,id:"shared-partner-selector-textfield",label:y,onBlur:function(e){var t=e.value,n=!Number.isNaN(t)&&Number.isInteger(parseFloat(t))?H.find(function(e){return e.id===t}):H.find(function(e){return e.name.toLowerCase()===t.toLowerCase()});n?(Q(""),B({label:n.name,value:n.id,image:n.image}),f({id:n.id,name:n.name,image:n.image}),Y(n.name)):""!==t&&(Q(j._('This name is not a partner. Try another, or add them as a partner.', '[m10n]bizAccess.selectPartnerSelector.partnerNotFoundError.message', 'Error message when name is not a valid partner.')),B(null),f(null))},onChange:function(e){var t=e.value;Q(""),B(null),f(null),Y(t),Z(t&&H.length>0?H.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.id.toLowerCase().includes(t.toLowerCase())}):ec.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.id.toLowerCase().includes(t.toLowerCase())}))},onFocus:function(){return!D&&k(!0)},onKeyDown:function(e){var t;e.event.keyCode===u.Z.ENTER&&(null==(t=z.current)||t.blur(),k(!1)),null==O||O()},placeholder:v,size:"lg",value:F}),D&&z.current&&(0,_.jsx)(s.mh,{zIndex:i.b7,children:(0,_.jsx)(s.J2,{accessibilityLabel:j._('Shared partner selector', '[m10n]bizAccess.selectPartnerSelector.dropdown.popoverAccessbilityLabel', 'accessbility label Accessibility label for the popover'),anchor:z.current,color:"white",id:"shared-partner-selector-dropdown",idealDirection:"down",onDismiss:function(){return k(!1)},positionRelativeToAnchor:!1,role:"menu",size:"flexible",children:(0,_.jsxs)(s.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",margin:2,maxHeight:"30vh",overflow:"auto",width:null==(n=z.current)?void 0:n.offsetWidth,children:[H.length>0&&H.map(function(e){var t=e.id,n=e.name,r=e.image,s=e.hasRequest;return(0,_.jsx)(m,{dataTestId:t,hasRequest:s,onSelect:function(e){var t=e.item;s||(B({value:t.value,label:t.label,image:t.image}),f({id:t.value,name:t.label,image:t.image}),Y(t.label),k(!1),Q(""),null==O||O())},option:{label:n,value:t,image:r},selected:U},n)}),0===H.length&&(0,_.jsx)(s.xu,{paddingX:2,paddingY:4,width:"100%",children:(0,_.jsx)(s.xv,{color:"subtle",lineClamp:1,children:j._('No result', '[m10n]bizAccess.selectPartnerSelector.noResultText', 'No result label for eligible partners')})})]})})})]})}},739228:function(e,t,n){"use strict";n.d(t,{Ab:function(){return u},Ax:function(){return z},BL:function(){return f},Fd:function(){return I},GK:function(){return _},Hp:function(){return S},Jl:function(){return d},LK:function(){return j},T_:function(){return c},Ty:function(){return P},Uo:function(){return x},ZB:function(){return O},ZE:function(){return g},dg:function(){return T},e$:function(){return m},fv:function(){return E},hu:function(){return b},kH:function(){return p},li:function(){return h},mg:function(){return y},ms:function(){return v},sv:function(){return i},uV:function(){return l},uc:function(){return A}});var r=n(719301),s=n(143754),o=n(216975),a=n(180483),i=function(e){return e._('Assign profile permissions', '[m10n]bizAccess.assignProfile.title', 'Title for the modal used to assign profiles')},l=function(e){return e._('Assign profile permissions modal', '[m10n]bizAccess.business.assignProfileRoles.modal', 'Accessibility label for the modal used to assign profiles')},c=function(e){return e._('Permission assignment skipped. Asset will be deleted if permission is not assigned', '[m10n]bizAccess.permissionAssignmentSkipped.accessibilityLabel', 'Accessibility label for modal used to show user skipped permission assignment when creating an asset')},u=function(e){return e._('Assign permissions', '[m10n]bizAccess.assignAdAccounts.sumbitLabel', 'Label for the submit button on the assign profiles modal')},d=function(e){return e._('Assign ad account permissions', '[m10n]bizAccess.assignAdAccounts.title', 'Title for the modal used to assign ad accounts to people or partners')},_=function(e){return e._('Assign catalog access to {{detailName}}', '[m10n]bizAccess.assignCatalog.title', 'Title for the modal used to assign catalog to people or partners, detailName: name of the partner a catalog is beign assigned to')},f=function(e){return e._('Assign permissions', '[m10n]bizAccess.assignPermissions.title', 'Title for the modal used to assign ad accounts and profiles to people or partners')},m=function(e){return e._('Assign permissions', '[m10n]bizAccess.assignAdAccounts.submitLabel.new', 'Label for the submit button on the account assignment modal')},h=function(e){return e._('Assign ad account roles modal', '[m10n]bizAccess.business.assignAdAccountRoles.modal', 'accessibility label for the modal used to assign ad account roles')},p=function(e){return e._('Assign ad account roles modal', '[m10n]bizAccess.business.assignAdAccountRoles.modal', 'accessibility label for the modal used to assign ad account roles')},b=function(e){return e._('Assign permissions', '[m10n]bizAccess.assignAdAccounts.submitLabel', 'Label for the submit button on the account assignment modal')},y=function(e){return e._('Review Permissions', '[m10n]bizAccess.assignCatalog.submitLabel', 'Label for the submit button on the catalog assignment modal')},v=function(e){return e._('Permissions for {{name}}', '[m10n]businessAccess.resourceAssignment.accessForText', 'Shows the name of the selected resource.')},A=function(e){return e._('Permissions for {{name}}', '[m10n]businessAccess.resourceAssignment.accessForText', 'Shows the name of the selected resource.')},g=function(e){return e._('Success modal', '[m10n]bizAccess.modal.successLabel', 'Accessibility label for a success modal')},S=function(e,t){return t?e._('Invite sent', '[m10n]bizAccess.modal.inviteSentTitle', 'Title for a invite sent modal'):e._('Success', '[m10n]bizAccess.modal.successTitle', 'Title for a success modal')},x=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,a={name:e,assignedAccountsCount:t,hasAssignedProfile:n,assignedCatalogsCount:r},i=[{condition:function(e){var t=e.assignedAccountsCount,n=e.hasAssignedProfile,r=e.assignedCatalogsCount;return t>0&&n&&r>0},getTemplate:function(e){var t=e.assignedAccountsCount,n=e.assignedCatalogsCount;return 1===n?s.ngettext('{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad account, your profile, and {{assignedCatalogsCount}} catalog.', '{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad accounts, your profile, and {{assignedCatalogsCount}} catalog.', t, '[m10n]businessAccess.partnerRequest.successs.inviteSuccessMessage.adaccountsProfileCatalogs', 'Content in a confirmation dialog, indicating ad accounts, profile, and catalogs associated to partner on invite, name:invitee name, assignedAccountsCount:number of assigned accounts, assignedCatalogsCount:number of assigned catalogs'):s.ngettext('{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad account, your profile, and {{assignedCatalogsCount}} catalogs.', '{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad accounts, your profile, and {{assignedCatalogsCount}} catalogs.', n, '[m10n]businessAccess.partnerRequest.successs.inviteSuccessMessage.adaccountsProfileCatalogs', 'Content in a confirmation dialog, indicating ad accounts, profile, and catalogs associated to partner on invite, name:invitee name, assignedAccountsCount:number of assigned accounts, assignedCatalogsCount:number of assigned catalogs')}},{condition:function(e){var t=e.assignedAccountsCount,n=e.hasAssignedProfile;return t>0&&n},getTemplate:function(e){var t=e.assignedAccountsCount;return s.ngettext('{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad account and your profile.', '{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad accounts and your profile.', t, '[m10n]businessAccess.partnerRequest.successs.inviteSuccessMessage.adaccountsAndProfile', 'Content in a confirmation dialog, indicating ad accounts and profile associated to partner on invite, name:invitee name, assignedAccountsCount:number of assigned accounts')}},{condition:function(e){var t=e.assignedAccountsCount,n=e.assignedCatalogsCount;return t>0&&n>0},getTemplate:function(e){var t=e.assignedAccountsCount;return 1===e.assignedCatalogsCount?s.ngettext('{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad account and {{assignedCatalogsCount}} catalog.', '{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad accounts and {{assignedCatalogsCount}} catalog.', t, '[m10n]businessAccess.partnerRequest.successs.inviteSuccessMessage.adaccountsCatalogs', 'Content in a confirmation dialog, indicating ad accounts and catalogs associated to partner on invite, name:invitee name, assignedAccountsCount:number of assigned accounts, assignedCatalogsCount:number of assigned catalogs'):s.ngettext('{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad account and {{assignedCatalogsCount}} catalogs.', '{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad accounts and {{assignedCatalogsCount}} catalogs.', t, '[m10n]businessAccess.partnerRequest.successs.inviteSuccessMessage.adaccountsCatalogs', 'Content in a confirmation dialog, indicating ad accounts and catalogs associated to partner on invite, name:invitee name, assignedAccountsCount:number of assigned accounts, assignedCatalogsCount:number of assigned catalogs')}},{condition:function(e){var t=e.hasAssignedProfile,n=e.assignedCatalogsCount;return t&&n>0},getTemplate:function(e){var t=e.assignedCatalogsCount;return s.ngettext('{{ name }} has successfully been invited as a partner and assigned to your profile and {{assignedCatalogsCount}} catalog.', '{{ name }} has successfully been invited as a partner and assigned to your profile and {{assignedCatalogsCount}} catalogs.', t, '[m10n]businessAccess.partnerRequest.successs.inviteSuccessMessage.profileCatalogs', 'Content in a confirmation dialog, indicating profile and catalogs associated to partner on invite, name:invitee name, assignedCatalogsCount:number of assigned catalogs')}},{condition:function(e){return e.assignedAccountsCount>0},getTemplate:function(e){var t=e.assignedAccountsCount;return s.ngettext('{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad account.', '{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad accounts.', t, '[m10n]businessAccess.partnerRequest.successs.inviteSuccessMessage.adaccounts', 'Content in a confirmation dialog, indicating ad accounts associated to partner on invite, name:invitee name, assignedAccountsCount:number of assigned accounts')}},{condition:function(e){return e.hasAssignedProfile},getTemplate:function(){return s._('{{ name }} has successfully been invited as a partner and assigned to your profile.', '[m10n]businessAccess.partnerRequest.successs.inviteSuccessMessage.profile', 'Content in a confirmation dialog, indicating the profile associated to partner on invite, name: invitee name')}},{condition:function(e){return e.assignedCatalogsCount>0},getTemplate:function(e){var t=e.assignedCatalogsCount;return s.ngettext('{{ name }} has successfully been invited as a partner and assigned to {{assignedCatalogsCount}} catalog.', '{{ name }} has successfully been invited as a partner and assigned to {{assignedCatalogsCount}} catalogs.', t, '[m10n]businessAccess.partnerRequest.successs.inviteSuccessMessage.catalogs', 'Content in a confirmation dialog, indicating catalogs associated to partner on invite, name:invitee name, assignedCatalogsCount:number of assigned catalogs')}},{condition:function(e){var t=e.assignedAccountsCount,n=e.hasAssignedProfile,r=e.assignedCatalogsCount;return 0===t&&!n&&0===r},getTemplate:function(){return s._('{{ name }} has successfully been invited as a partner.', '[m10n]bizAccess.addPartner.inviteSuccessMessage', 'Content in a confirmation dialog, name: invitee name')}}],l=0;l<i.length;l++){var c=i[l];if(c.condition(a))return(0,o.nk)(c.getTemplate(a),a).join("")}return""},E=function(e){return e._('Access Requested', '[m10n]bizAccess.modal.requestedPartnerSuccessTitleString', 'Title for the success modal for requesting a partner')},P=function(e){return e._('Maybe later', '[m10n]bizAccess.modal.maybeLater', 'Button label for the dismiss button in an unsell dialog')},I=function(e){return e._('Close', '[m10n]bizAccess.modal.close', 'Button label for close modal button')},T=function(e,t,n){switch(e){case 2938:return t._('Sorry! To grant access to this account, you must remove an existing member.', '[m10n]bizAccess.assignment.addNewUser.error', 'Error when adding a user exceeds the number of people who can access the account.');case 2942:if(n)return(0,o.nk)(t._('You reached a limit of {{numOfAdAccounts}} ad accounts shared with this partner. To share more with them, remove access to some of their assigned ad accounts.', '[m10n]bizAccess.assignment.accountAccessExceeded.partner.error', 'Error due to assigned partner exceeding number of accounts have access to. numOfAdAccounts: maximum accounts limit'),{numOfAdAccounts:500}).join("");return(0,o.nk)(t._('You reached a limit of {{numOfAdAccounts}} ad accounts shared with this employee. To share more with them, remove access to some of their assigned ad accounts.', '[m10n]bizAccess.assignment.accountAccessExceeded.employee.error', 'Error due to assigned employee exceeding number of accounts have access to. numOfAdAccounts: maximum accounts limit'),{numOfAdAccounts:500}).join("");default:return t._('Sorry! Something went wrong.', '[m10n]businessAccess.principalAssignment.error.toast', 'Error toast informing user role assignment has failed.')}},C=function(e,t,n){switch(e){case 30:return n._('Sorry, this is not a valid business ID. Please check with your partner and try again.', '[m10n]bizAccess.sendInvite.partnerIdError', 'Error message shown below the Business ID field when adding a partner fails due to invalid Business ID');case 90:return(0,a.Z)(n.ngettext('{{ usernames }} is not a valid user. Please check and try again.', '{{ usernames }} are not valid users. Please check and try again.', t.length, '[m10n]bizAccess.sendInvite.memberError', 'Error message shown when invite input is not a valid email and is not a username corersponding to a user'),{usernames:t.join((0,s.bH)(n))});case 2751:return n._('You\'ve already added this relationship to your business. Please try again.', '[m10n]bizAccess.sendInvite.partnerIdAlreadyExists', 'Error message shown below the Business ID field when try adding a partner for the second time');case 2754:return n._('Sorry, you cannot send an invite or a request to yourself, please try a different business ID.', '[m10n]bizAccess.addPartner.selfInviteOrRequest', 'Error message shown below the Business ID field when trying to send an invite or a request to yourself');case 2768:return n._('This action cannot be taken on this invite.', '[m10n]bizAccess.invite.actionBlockedOnInvite', 'Error message when an invite is not in the correct status to perform an action');case 2769:return n._('You\'ve hit the maximum number of pending invites allowed.', '[m10n]bizAccess.sendInvite.exceedsMaxInvites', 'Error message when the user has exceeded the number of allowed invites');case 2770:return n._('This is not a valid invitation.', '[m10n]bizAccess.invite.inviteIdInvalid', 'Error message when the user tries to access an invite id that does not exist');case 2773:return n._('An invite or request has already been sent to this user. Please check your pending invites or requests to review.', '[m10n]bizAccess.sendInvite.alreadySent', 'Error when an invite to the business has already been sent');case 2930:return n._('This ad account ID is invalid', '[m10n]bizAccess.assignAsset.notAllowed', 'Error when user tries to assign invalid ad accounts IDs');case 2931:return n._('This partner has already sent you an invite or request to partner. Please check your pending invitations or requests to review it.', '[m10n]bizAccess.sendInvite.duplicateInviteOrRequest', 'Error when an invite is sent and an equivalent request already exists or vice-versa');case 2932:return n._('Business invite request invalid.', '[m10n]bizAccess.sendInvite.invalidInvite', 'Error when the invite was created with some invalid data');case 2933:return n._('Business asset access already exists.', '[m10n]bizAccess.sendInvite.assetAlreadyExist', 'Error when the invite id is to one that the user already has access');case 2936:return n._('Make sure you send invites to business accounts.', '[m10n]bizAccess.sendInvite.personalAccount', 'Error message shown to user when trying to invite a user that has a personal Pinterest account');case 2939:return n._('New accounts must wait 24 hours after they\'re created to add employees or partners', '[m10n]bizAccess.sendInvite.newAccountError', 'Error message shown when business is too new to send invites');case 2940:return n._('You reached a limit of 20 pending invites. To continue, delete some pending invites or ask employees/partners to respond to their invites.', '[m10n]bizAccess.sendInvite.pendingInviteCountExceeded', 'Error message shown when business exceeds number of pending invites allowed');case 2941:return n._('You have reached your rate limit for sending invites. Please try again later', '[m10n]bizAccess.sendInvite.guardianRateLimit', 'Error message shown when business has hit their invites rate limit');case 4064:return n._('Oops! Looks like you have already added this user as an employee.', '[m10n]bizAccess.addPartner.employeeRelationshipExists', 'Error message shown below the Business ID field when try adding a partner who is already an employee');case 4065:return n._('Oops! Looks like you have already added this user as an employee.', '[m10n]bizAccess.addPartner.businessAdminRelationshipExists', 'Error message shown below the Business ID field when try adding a partner who is already a business admin');case 4066:return n._('Oops! Looks like you have already added this ID as a partner.', '[m10n]bizAccess.addPartner.partnerRelationshipExists', 'Error message shown below the Business ID field when try adding a partner who is already a partner');case r.O1.BUSINESS_RELATIONSHIP_PREMATURE_MIGRATION_INVITE:return n._('Sorry, you cannot invite this partner at this time because you have ad accounts eligible for migration.', '[m10n]bizAccess.addPartner.businessRelationshipPrematureMigrationInvite', 'Error message shown below the Business ID field when inviting a cee migration reseller before the migration period');case 2944:return n._('Your business has already reached the maximum number of system users.', '[m10n]bizAccess.createSystemUser.maxNumberOfSystemUsers', 'Error message shown when the maximum number of system users has been reached');case 2501:return n._('Invalid system user name. Please try a different name.', '[m10n]bizAccess.createSystemUser.invalidName', 'Error message shown when the system user name is invalid');case 2502:return n._('Looks like you entered an email address. Please try again.', '[m10n]bizAccess.createSystemUser.invalidName', 'Error message shown when the system user name is invalid');case 2503:return n._('Please stick to a name without special characters. Please try again.', '[m10n]bizAccess.createSystemUser.invalidName', 'Error message shown when the system user name is invalid');default:return n._('Sorry, something went wrong on our end. Please try again.', '[m10n]bizAccess.sendInvite.undknowError', 'Error message shown below the Business ID field when an unexpected error occurs')}},O=function(e,t){var n,r;return t?C(null!=(n=t.code)?n:t.api_error_code,(null==(r=t.error)?void 0:r.objects)||[],e):(0,s.sQ)(e)},j=function(e,t){var n=e.length,r=e[0];return 2===n?r=(0,o.nk)(t._('{{invitedPersonOne}} and {{invitedPersonTwo}}', '[m10n]businessAccess.BizHub.EmployeeInviteBanner', 'Text informing user they have an invite. invitedPersonOne: First person invited. invitedPersonTwo: Second person invited.'),{invitedPersonOne:e[0],invitedPersonTwo:e[1]}).join(""):n>2&&(r=(0,o.nk)(t._('{{invitedPersonOne}}, {{invitedPersonTwo}}, and {{numberPeopleRemaining}} more', '[m10n]businessAccess.BizHub.EmployeeInviteBanner', 'Text informing user they have an invite. invitedPersonOne: First person invited. invitedPersonTwo: Second person invited. numberPeopleRemaining: Number of people truncated from invite.'),{invitedPersonOne:e[0],invitedPersonTwo:e[1],numberPeopleRemaining:n-2}).join("")),r},z=function(e){var t=e.split("[");if(t.length<=1)return[];var n=t[1].split("]");return 0===n.length?[]:n[0].replace(/\s/g,"").split(",")||[]}},910421:function(e,t,n){"use strict";var r=n(20256),s=n(24246),o=n(946659),a=n(680811);t.Z=function(e){var t=e.adAccount,n=e.adAccountsLength,i=e.onAdAccountChange,l=e.onRemoveItem,c=e.onValidateAdAccountField,u=e.onSetAccessList,d=e.setRef,_=e.disabled,f=void 0!==_&&_,m=e.resetAccess,h=e.permissions,p=e.textfieldLabel,b=e.permissionsLabel,y=e.showNewPermissionsView,v=void 0!==y&&y,A=(0,s.Z)();return(0,a.jsxs)(r.kC,{alignItems:v&&t.error?"start":"center",children:[(0,a.jsx)(r.sg,{span:6,children:(0,a.jsx)(r.xu,{marginBottom:2*(1!==n),marginEnd:2,children:(0,a.jsx)(r.nv,{ref:function(e){d(e)},autoComplete:"off",disabled:f,errorMessage:t.error,id:"adAccount-".concat(t.index),label:p,onBlur:function(e){c(e,t.index)},onChange:i,placeholder:A._('Enter ad account ID', '[m10n]bizAccess.adAccountsInput.adAccountPlaceholder', 'Placeholder for adding ad account ID'),value:t.id})})}),(0,a.jsx)(r.sg,{span:n>1?5:6,children:(0,a.jsx)(o.Z,{disabled:f,errorMessage:!t.error&&t.accessError?t.accessError:"",id:"adAccountAccess-".concat(t.index),includeMarginBottom:1!==n,isForRequestAdAccountAccess:!0,onChange:u,ownerRoles:["OWNER"],permissions:h||[],resetAccess:void 0!==m&&m,showNewTextFieldView:v,textfieldLabel:b})}),(!v||n>1)&&(0,a.jsx)(r.sg,{span:1,children:(0,a.jsx)(function(){return(0,a.jsx)(r.xu,{marginBottom:2,marginStart:2,children:(0,a.jsx)(r.hU,{accessibilityLabel:A._('Remove ad account in current line', '[m10n]bizAccess.adAccounts.removeAdAccount', 'Accessibility text to tell the user that the button excludes an ad account from the list'),disabled:1===n,icon:"remove",iconColor:"darkGray",onClick:function(){l()},size:"md"})})},{})})]})}},433427:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(20256),s=n(24246),o=n(387784),a=n(719301),i=n(59111),l=n(900373),c=n(591786),u=n(680811);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.onChange,n=e.permissions,_=e.id,f=e.disabled,m=void 0!==f&&f,h=e.resetAccess,p=void 0!==h&&h,b=e.errorMessage,y=e.isBoxStyleWrapper,v=e.ignoreZindex,A=void 0!==v&&v,g=e.textfieldLabel,S=e.texfieldPlaceholder,x=e.includeMarginBottom,E=(0,s.Z)(),P=A?void 0:new r.Ry(1e3),I=!A&&P?new r.H3([l.C,P]):void 0,T=d((0,o.useState)(!1),2),C=T[0],O=T[1],j=d((0,o.useState)(n||[]),2),z=j[0],w=j[1];(0,o.useEffect)(function(){p&&w([])},[p]);var N=(0,o.useRef)(null),R=function(e){var t=e.color;return(0,u.jsx)(r.hU,{accessibilityLabel:E._('Change access permissions', '[m10n]bizAccess.business.accessRolesEditorFlyout', 'Click to change access permissions for an ad account'),bgColor:"transparent",disabled:m,icon:"arrow-down",iconColor:void 0===t?"darkGray":t,onClick:function(){return O(!C)},size:"xs"})},D=(0,u.jsxs)(r.xu,{children:[(0,u.jsx)(i.Z,{unsafeCSS:'\n      div[id$="-flyout"] button { margin-left: -35px; }\n      div[id$="-flyout"] input {\n        text-overflow: ellipsis;\n        padding-right: 30px;\n      }\n    '}),(0,u.jsxs)(r.xu,{ref:N,alignItems:"center",display:"flex",id:"".concat(_,"-flyout"),justifyContent:"between",width:"100%",children:[(0,u.jsx)(r.kC.Item,{flex:"grow",children:(0,u.jsx)(r.nv,{disabled:m,errorMessage:b,id:"".concat(_,"-textfield"),label:g,onChange:function(){},placeholder:S||E._('Select', '[m10n]bizAccess.accessControlFlyoutCatalog.new.permissionsPlaceholder', 'Placeholder for selecting permissions'),readOnly:!0,size:"md",value:z&&z.length>0?(0,c.e6)(E,!0)(z[0]):""})}),(0,u.jsx)(r.xu,{marginBottom:5*!!b,children:(0,u.jsx)(R,{})})]})]}),k=d((0,o.useState)(!1),2),L=k[0],U=k[1],B=(0,u.jsxs)(r.xu,{ref:N,alignItems:"center",color:C&&"dark"||L&&"secondary"||"light",display:"flex",id:"".concat(_,"-flyout"),justifyContent:"between",onMouseEnter:function(){return U(!0)},onMouseLeave:function(){return U(!1)},padding:2,rounding:2,width:240,children:[(0,u.jsx)(r.xv,{color:C?"inverse":"default",children:z&&z.length>0?(0,c.e6)(E,!0)(z[0]):""}),(0,u.jsx)(R,{color:C?"white":"darkGray"})]});return(0,u.jsxs)(r.xu,{marginBottom:b||void 0!==x&&x?2:0,width:"100%",children:[(0,u.jsx)(r.iP,{accessibilityControls:"menu",accessibilityExpanded:C,accessibilityHaspopup:!0,accessibilityLabel:E._('Change access permissions', '[m10n]bizAccess.business.accessRolesEditorFlyout', 'Click to change access permissions for an ad account'),disabled:m,onTap:function(){C||O(!C)},children:void 0!==y&&y?B:D}),C&&(0,u.jsx)(r.mh,{zIndex:I,children:(0,u.jsx)(r.J2,{anchor:N.current,id:_,idealDirection:"down",onDismiss:function(){O(!1)},size:"flexible",children:(0,u.jsx)(r.xu,{padding:2,width:A?240:void 0,children:(0,u.jsx)(r.FX,{id:"catalog-permission-selector",legend:"",children:a.pk.map(function(e){return(0,u.jsxs)(r.kC,{justifyContent:"between",width:"100%",children:[(0,u.jsx)(r.FX.RadioButton,{checked:z[0]===e,id:"radio-button-".concat(e),label:(0,c.e6)(E,!0)(e),onChange:function(){w([e]),t([e]),O(!1)},value:e},e),(0,u.jsx)(r.__,{htmlFor:"radio-button-".concat(e),children:(0,u.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"end",marginStart:2,children:(0,u.jsx)(r.hU,{accessibilityLabel:"info",icon:"info-circle",iconColor:"gray",size:"sm",tooltip:{text:(0,c.To)(E)(e,!1,!0),zIndex:I}})})})]},"flex-".concat(e))})})})})})]})},m=function(e){var t=e.catalog,n=e.catalogsLength,o=e.onCatalogChange,a=e.onRemoveItem,i=e.onValidateCatalogField,l=e.onSetAccessList,c=e.setRef,d=e.disabled,_=void 0!==d&&d,m=e.resetAccess,h=e.permissions,p=e.textfieldLabel,b=e.permissionsLabel,y=e.permissionsPlaceholder,v=(0,s.Z)();return(0,u.jsxs)(r.kC,{alignItems:t.error?"start":"center",children:[(0,u.jsx)(r.sg,{span:6,children:(0,u.jsx)(r.xu,{marginBottom:2*(1!==n),marginEnd:2,children:(0,u.jsx)(r.nv,{ref:function(e){c(e)},autoComplete:"off",disabled:_,errorMessage:t.error,id:"catalog-".concat(t.index),label:p,onBlur:function(e){i(e,t.index)},onChange:o,placeholder:v._('Enter catalog ID', '[m10n]bizAccess.catalogsInput.catalogPlaceholder', 'Placeholder for adding catalog ID'),value:t.id})})}),(0,u.jsx)(r.sg,{span:n>1?5:6,children:(0,u.jsx)(f,{disabled:_,errorMessage:!t.error&&t.accessError?t.accessError:"",id:"catalogAccess-".concat(t.index),includeMarginBottom:1!==n,onChange:l,permissions:h,resetAccess:void 0!==m&&m,texfieldPlaceholder:y,textfieldLabel:b})}),n>1&&(0,u.jsx)(r.sg,{span:1,children:(0,u.jsx)(function(){return(0,u.jsx)(r.xu,{marginBottom:2,marginStart:2,children:(0,u.jsx)(r.hU,{accessibilityLabel:v._('Remove catalog in current line', '[m10n]bizAccess.catalogs.removeCatalog', 'Accessibility text to tell the user that the button excludes an catalog from the list'),disabled:1===n,icon:"remove",iconColor:"darkGray",onClick:function(){a()},size:"md"})})},{})})]})}},936948:function(e,t,n){"use strict";n.d(t,{G3:function(){return d},JP:function(){return m},Mz:function(){return a},RQ:function(){return i},RW:function(){return l},UF:function(){return h},Wz:function(){return b},bl:function(){return _},jV:function(){return u},jZ:function(){return o},k5:function(){return r},nX:function(){return c},pO:function(){return p},uk:function(){return f},wx:function(){return s}});var r=function(e){return e._('Request profile access', '[m10n]businessAccess.principalAssignment.requestAccessForText', 'Modal title for requesting profile access from a partner.')},s=function(e){return e._('Request profile access from partner modal', '[m10n]bizAccess.requestProfileAccess.modal', 'accessibility label for the modal used to request profile access')},o=function(e){return e._('Request ad account access', '[m10n]bizAccess.request.adAccounts.title', 'Text to confirm that partnership request has been sent to business')},a=function(e){return e._('Request Ad Accounts modal', '[m10n]bizAccess.request.adAccounts.modal', 'Accessibility label for a request ad accounts modal')},i=function(e){return e._('Request Catalogs modal', '[m10n]bizAccess.request.catalog.modal', 'Accessibility label for a request catalogs modal')},l=function(e){return e._('Back', '[m10n]bizAccess.confirmAssetAccessRequest.modal.back.button.text', 'text for button to go back to the previous modal')},c=function(e){return e._('Maximum of 10 ad accounts has been reached', '[m10n]bizAccess.adAccounts.choose.include', 'Text that warns the user that the maximum number of ad accounts in a single request has been reached')},u=function(e){return e._('Select a permission', '[m10n]bizAccess.adAccounts.missingAccess', 'Error message warning the user that at least one access level should be selected for the given ad account')},d=function(e){return e._('Ad account ID', '[m10n]bizAccess.adAccounts.id', 'Text that is on the top of column of ad account ids')},_=function(e){return e._('Please add account ID', '[m10n]bizAccess.adAccounts.nonEmptyError', 'Error message warning the user that the ad account field should be filled')},f=function(e){return e._('Please add catalog ID', '[m10n]bizAccess.catalogs.nonEmptyError', 'Error message warning the user that the catalog field should be filled')},m=function(e){return e._('Please resolve duplicate entry', '[m10n]bizAccess.adAccounts.duplicateError', 'Error message warning the user that the ad account is already being requested in another form entry')},h=function(e){return e._('Ad account', '[m10n]bizAccess.requestAdAccountGeneral.Modal', 'Label for a button to add a new ad account')},p=function(e){return e._('Catalog', '[m10n]bizAccess.requestCatalogGeneral.Modal', 'Label for a button to add a new catalog')},b=function(e){return e._('Catalog ID', '[m10n]bizAccess.catalog.id', 'Text that is on the top of column of catalog ids')}},190557:function(e,t,n){"use strict";n.d(t,{I6:function(){return m},Pl:function(){return h},Qg:function(){return y},ax:function(){return v},iD:function(){return p},sM:function(){return b}});var r,s,o=n(739228),a=n(936948),i=n(162295);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){c(o,r,s,a,i,"next",e)}function i(e){c(o,r,s,a,i,"throw",e)}a(void 0)})}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e,t){switch(t.type){case"ADD":return[].concat(function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{index:t.index,id:"",accessList:[],error:"",accessError:""}]);case"DELETE":return e.filter(function(e){return e.index!==t.index});case"CLEAR_ALL":return[{index:t.index,id:"",accessList:[],error:"",accessError:""}];case"SET_ID":return e.map(function(e){return e.index===t.index?_(_({},e),{},{id:(t.id||"").replace(/[^\d]/g,""),error:"",accessError:""}):e});case"SET_ACCESS":return e.map(function(e){var n;return e.index===t.index?_(_({},e),{},{accessList:null!=(n=t.accessList)?n:[]}):e});case"ERROR":return e.map(function(e){return e.index===t.index?_(_({},e),{},{error:t.error||"",accessError:""}):e});case"ACCESS_ERROR":return e.map(function(e){var n;return e.index===t.index?_(_({},e),{},{accessError:null!=(n=t.accessError)?n:""}):e});default:throw Error()}};function h(e,t,n){return e.some(function(e){return e.error||e.accessError})||t.some(function(e){return e})||n.some(function(e){return e})}var p=function(e,t){0!==e.length&&t(e.some(function(e){return e.error||e.accessError})||!e.some(function(e){return e.id&&0!==e.accessList.length}))},b=function(e,t,n,r){var s=e.id&&0===t.length?(0,a.jV)(n):"";return r({type:"ACCESS_ERROR",accessError:s,index:e.index}),!!s},y=(r=u(regeneratorRuntime.mark(function e(t,n,r,s,l,c,u,d,_){var f,m,h,p,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f="",m=s.find(function(e){return e.index===n}),h=s.some(function(e){return e.id&&e.id===t&&e.index!==n}),p=u&&d?d.id:_,!((!t||0===t.length)&&m&&m.accessList.length>0)){e.next=8;break}f=(0,a.bl)(r),e.next=22;break;case 8:if(!h){e.next=12;break}f=(0,a.JP)(r),e.next=22;break;case 12:if(!(t&&p)){e.next=22;break}return e.prev=13,e.next=16,(0,i.vV)({requestee:p,asset:t,requester:l,businessId:l});case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(13),b=(0,o.ZB)(r,e.t0),f=(null==m?void 0:m.error)||b;case 22:return c({type:"ERROR",error:f,index:n}),e.abrupt("return",!!f);case 24:case"end":return e.stop()}},e,null,[[13,18]])})),function(e,t,n,s,o,a,i,l,c){return r.apply(this,arguments)}),v=(s=u(regeneratorRuntime.mark(function e(t,n,r,s,o,i,l,c,u,d){var _,f,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _="",f=s.find(function(e){return e.index===n}),m=s.some(function(e){return e.id&&e.id===t&&e.index!==n}),l&&u&&u.id,(!t||0===t.length)&&f&&f.accessList.length>0?_="AD_ACCOUNT"===c?(0,a.bl)(r):(0,a.uk)(r):m&&(_=(0,a.JP)(r)),i({type:"ERROR",error:_,index:n}),e.abrupt("return",!!_);case 7:case"end":return e.stop()}},e)})),function(e,t,n,r,o,a,i,l,c,u){return s.apply(this,arguments)})},587488:function(e,t,n){"use strict";n.d(t,{L:function(){return g},Z:function(){return x}});var r=n(387784),s=n(581722),o=n(20256),a=n(719301),i=n(104999),l=n(367683),c=n(24246),u=n(366503),d=n(498539),_=(0,u.createSelector)(d.Z,function(e){var t=e.navigation;return null!=t?t:{}}),f=(0,u.createSelector)(_,function(e){return e.users.collapse}),m=(0,u.createSelector)(_,function(e){return e.accounts.collapse}),h=n(100286),p=n(680811);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.label,n=e.children,r=e.hideHeader,s=e.marginBottom;return(0,p.jsxs)(o.xu,{marginBottom:s,children:[!(void 0!==r&&r)&&(0,p.jsx)(o.xu,{paddingX:3,paddingY:2,children:(0,p.jsx)(o.xv,{size:"300",weight:"bold",children:t})}),n]})},A=function(e){var t,n,r=e.icon,s=e.active,a=(e.hovered,e.rightShifted);return s?(n="inverse",t=1):(n="default",t=0),(0,p.jsxs)(o.xu,{marginEnd:2*!!r,marginStart:8*!!a,children:[r&&r.label&&(0,p.jsx)(o.JO,{accessibilityLabel:r.accessibilityLabel,color:n,icon:r.label,inline:!0}),r&&r.svg&&r.svg[t]]})},g=function(e){var t,n,s,a=e.active,i=e.dataTestId,c=e.label,u=e.labelBadge,d=e.onClick,_=e.icon,f=e.isSubItem,m=e.experience,h=e.useBoldTextWhenSelected,y=b((0,r.useState)(!1),2),v=y[0],g=y[1];a?(t="selected",n="inverse",s="bold"):(t=v?"secondary":"transparent",n="default",s="normal");var S=t,x=n,E=void 0===h||h?s:"normal",P=(0,r.useRef)(null);return(0,p.jsx)(o.xu,{"data-test-id":i,children:(0,p.jsx)(o.iP,{onBlur:function(){return g(!1)},onFocus:function(){return g(!0)},onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},onTap:function(){d()},rounding:2,tapStyle:"compress",children:(0,p.jsxs)(o.xu,{alignItems:"center",color:S,display:"flex",padding:3,rounding:2,children:[(0,p.jsx)(A,{active:a,hovered:v,icon:_,rightShifted:void 0===f||f}),(0,p.jsx)(o.xu,{ref:P,display:"flex",children:(0,p.jsxs)(o.xv,{color:x,weight:E,children:[c," ",u,m&&(0,p.jsx)(l.Qp,{anchor:P.current,experienceIds:[m.experienceId],idealDirection:"right",placementId:m.placementId,showCaret:!0})]})})]})})})},S=function(e){var t,n,i=e.children,l=e.id,u=e.dataTestId,d=e.icon,_=e.label,h=(0,c.Z)(),y=b((0,r.useState)(!1),2),v=y[0],A=y[1],g=(0,s.v9)(f),S=(0,s.v9)(m);l===a.Q6.USERS?(t=g,n="TOGGLE_USERS"):(t=S,n="TOGGLE_ACCOUNTS");var x=(0,s.I0)();return(0,p.jsxs)(o.xu,{"data-test-id":u,children:[(0,p.jsx)(o.iP,{accessibilityExpanded:!t,onBlur:function(){return A(!1)},onFocus:function(){return A(!0)},onMouseEnter:function(){return A(!0)},onMouseLeave:function(){return A(!1)},onTap:function(){return x({type:n})},rounding:2,tapStyle:"compress",children:(0,p.jsxs)(o.xu,{alignItems:"center",color:v?"secondary":void 0,display:"flex",justifyContent:"between",padding:3,rounding:2,children:[(0,p.jsxs)(o.kC,{direction:"row",children:[(0,p.jsx)(o.xu,{marginEnd:2,children:d&&(0,p.jsx)(o.JO,{accessibilityLabel:d.accessibilityLabel,color:"default",icon:d.label,inline:!0,size:20})}),(0,p.jsx)(o.xv,{children:_})]}),t?(0,p.jsx)(o.JO,{accessibilityLabel:h._('More sections', '[m10n]bizAccess.nav.sectionsCollapsed', '[m10n] accessibility label for icon denoting subsections collapsed for this navigation section'),color:"default",icon:"arrow-down",inline:!0}):(0,p.jsx)(o.JO,{accessibilityLabel:h._('More sections', '[m10n]bizAccess.nav.sectionsExpanded', '[m10n] accessibility label for icon denoting subsections expanded for this navigation section'),color:"default",icon:"arrow-up",inline:!0})]})}),!t&&i]})};function x(e){var t=e.width,n=e.topItems,s=e.bottomItems,a=e.groups,l=e.sections,c=e.onChange,u=e.selectedItem,d=(0,i.Z)(),_=function(e){return(0,p.jsx)(g,{active:u===e.key,dataTestId:e.dataTestId,icon:e.icon,isSubItem:!1,label:e.label,labelBadge:e.labelBadge,onClick:function(){c({activeItem:e.key,activeSubItem:null}),e.elementType&&d({event_type:101,element:e.elementType}),e.logger&&e.logger({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"business-access-navigation-sidebar",element:"BUSINESS_ACCESS_LINK",elementId:e.key})}},e.label)},f=function(e){return(0,p.jsx)(S,{dataTestId:e.key,icon:e.icon,id:e.key,label:e.label,children:e.children.map(function(e){return(0,p.jsx)(g,{active:u===e.childKey,dataTestId:e.childKey,label:e.childLabel,labelBadge:e.labelBadge,onClick:function(){c({activeItem:e.childKey,activeSubItem:null}),e.elementType&&d({event_type:101,element:e.elementType})}},e.childKey)})},e.key)};return(0,p.jsx)(o.xu,{marginTop:3,children:(0,p.jsx)(h.Z,{position:"none",width:t,children:l?l.map(function(e){var t,n,r;return(0,p.jsxs)(v,{hideHeader:e.hideHeader,label:e.label,marginBottom:e.marginBottom,children:[null==(t=e.topItems)?void 0:t.map(_),null==(n=e.groups)?void 0:n.map(f),null==(r=e.bottomItems)?void 0:r.map(_)]},e.key)}):(0,p.jsxs)(r.Fragment,{children:[n.map(_),a.map(f),s.map(_)]})})})}},190128:function(e,t,n){"use strict";n.d(t,{Kx:function(){return l},dB:function(){return u},wM:function(){return c}});var r=n(387784),s=n(653551),o=n(681698);function a(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(){var e=(0,s.TH)().search;return(0,r.useMemo)(function(){return new URLSearchParams(e)},[e])}function c(){var e,t,n,s,o,a=l(),c=a.getAll("adAccountIds"),u=function(e){switch(e){case"ALL":default:return"ALL";case"OPEN":return"OPEN";case"CLOSED":return"CLOSED"}}(a.get("status")),d=function(e){switch(e){case"ALL":default:return"ALL";case"INVOICE":return"INVOICE";case"CREDIT_MEMO":return"CREDIT_MEMO"}}(a.get("documentType")),_=(e=l(),n=(t=function(e,t){try{var n=e?parseInt(e,10):t;return Number.isNaN(n)?t:n}catch(e){return t}})(e.get("timeRangeStart"),null),s=t(e.get("timeRangeEnd"),null),(0,r.useMemo)(function(){return{startTime:n,endTime:s}},[n,s])),f={adAccountIds:c,timeRange:_,status:u,documentType:d},m=function(e){if(Array.isArray(e))return e}(o=(0,r.useState)(function(){return f}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(o,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(o,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],p=m[1];return(c.length!==h.adAccountIds.length||c.some(function(e){return null==h.adAccountIds.find(function(t){return e===t})})||_.startTime!==h.timeRange.startTime||_.endTime!==h.timeRange.endTime||u!==h.status||d!==h.documentType)&&p(f),h}function u(e){return d.apply(this,arguments)}function d(){var e;return e=regeneratorRuntime.mark(function e(t){var n,r,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/ads/v4/businesses/".concat(t,"/invoice_access_advertisers"),e.next=4,(0,o.Z)({url:r,callOptions:{timeout:1e4}});case 4:if((null==(n=(s=e.sent).resource_response.data)?void 0:n.ad_accounts)!=null){e.next=7;break}throw Error("No response on getAvailableAdAccountIds");case 7:return a=Array.from(s.resource_response.data.ad_accounts).map(function(e){var t=e.id,n=e.name;if("string"!=typeof t||"string"!=typeof n)throw Error("Invalid response on getAvailableAdAccountIds");return{id:t,name:n}}),e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}),(d=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function i(e){a(o,r,s,i,l,"next",e)}function l(e){a(o,r,s,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}},173255:function(e,t,n){"use strict";var r=n(20256),s=n(143754),o=n(24246),a=n(680811);t.Z=function(){var e=(0,o.Z)();return(0,a.jsx)(r.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"center",width:"100%",children:(0,a.jsx)(r.xH,{accessibilityLabel:(0,s.hC)(e),show:!0})})}},377823:function(e,t,n){"use strict";n.d(t,{h:function(){return x},Z:function(){return E}});var r=n(387784),s=n(581722),o=n(20256),a=n(143754),i=n(24246),l=n(680811);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t,n=e.label,s=e.description,a=e.initialState,i=e.onChangeCallBack,u=e.id,d=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(a))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=d[0],f=d[1];return(0,l.jsx)(o.XZ,{checked:_,helperText:s,id:u,label:n,name:n,onChange:function(){f(!_),i()},size:"md"})},d=n(534690),_=n(594110),f=n(414448),m=n(510755);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||v(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return A(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g=new o.Ry(m.fe),S=new o.H3([g]),x={MULTISELECT:"MULTISELECT"},E=function(e){var t=e.pageType,n=e.columnDefs,c=e.searchPlaceholder,m=e.emptyState,h=e.fetchData,p=e.data,g=e.isLoading,E=e.searchTermSelector,P=e.currentPageSelector,I=e.totalCountSelector,T=e.pageSizeSelector,C=e.onRowClick,O=e.filters,j=e.filtersError,z=e.disableFirstRender,w=e.options,N=e.borderTop,R=e.searchInputContainerStyles,D=e.searchBottomContentStyles,k=e.tableConfig,L=void 0===k?_.I:k,U=e.disableRowHover,B=e.searchBottomContent,M=e.showFiltersOnEmptyState,H=e.initialSearchTermValue,Z=e.paginationProps,G=e.hidePagination,F=(0,i.Z)(),Y=(0,f.YZ)(),V=y((0,r.useState)(H||""),2),q=V[0],Q=V[1],W=y((0,r.useState)(!1),2),X=W[0],K=W[1],$=y((0,r.useState)(!1),2),J=$[0],ee=$[1],et=y((0,r.useState)({}),2),en=et[0],er=et[1],es=y((0,r.useState)({}),2),eo=es[0],ea=es[1],ei=y((0,r.useState)(null),2),el=ei[0],ec=ei[1],eu=y((0,r.useState)(""),2),ed=eu[0],e_=eu[1],ef=(0,s.v9)(null!=E?E:function(){return""})||q,em=(0,r.useCallback)(function(e,t,n,r){var s,o="TEMP"===r?b({},eo):b({},en);n===x.MULTISELECT&&(o[e]?o[e].includes(t)?o[e]=o[e].filter(function(e){return e!==t}):o[e]=[].concat(function(e){if(Array.isArray(e))return A(e)}(s=o[e])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||v(s)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t]):o[e]=[t],o[e].length<1&&delete o[e]),"TEMP"===r?ea(o):er(o)},[eo,en]),eh=(0,r.useCallback)(function(e,t,n){em(e,t,n,"PERM")},[em]),ep=(0,r.useCallback)(function(){return O?Object.keys(en).map(function(e){var t=O.find(function(t){return t.name===e});return t?(0,l.jsxs)(o.xu,{direction:"row",display:"flex",marginBottom:2,children:[(0,l.jsx)(o.xu,{marginEnd:3,paddingY:2,children:(0,l.jsxs)(o.xv,{inline:!0,size:"100",children:[t.label,":"]})}),(0,l.jsx)(o.kC,{direction:"row",gap:2,children:t.responseType===x.MULTISELECT&&en[e]&&en[e].map(function(n){var r,s=null==(r=t.options)?void 0:r.find(function(e){return e.value===n});return s?(0,l.jsx)(o.xu,{children:(0,l.jsx)(o.Vp,{onRemove:function(){eh(e,n,x.MULTISELECT)},text:s.label})},"".concat(t.label,"-").concat(n)):null})})]},"filter-".concat(t.label)):null}):null},[en,O,eh]),eb=(0,r.useCallback)(function(){var e=Object.keys(en).length>0?JSON.stringify(en):"";ed!==e&&(ec(ep()),ea(en),h({filtersPayload:en}),e_(e))},[en,ed,h,ep]);if((0,r.useEffect)(function(){eb()},[en,eb]),(0,d.Z)(function(){h({searchTerm:q})},_.I.debounceTimeOut,[q]),!z&&Y||g&&!X)return(0,l.jsx)(o.xH,{accessibilityLabel:F._('Loading data table info', '[m10n]DataTable.loading', 'message shown when loading data'),delay:!1,show:!0});var ey=!g&&!p.length&&!ef&&0===Object.keys(en).length&&m;if(!M&&ey)return m;var ev=F._('Filters', '[m10n]DataTable.accessibility.overlay.filter', 'button to open filter overlay data table'),eA=F._('Filter', '[m10n]DataTable.overlay.title', 'Title for filter overlay'),eg=F._('Sorry, something went wrong', '[m10n]DataTable.overlay.error', 'Error message header for overlay'),eS=O&&O.length>0,ex=ey?m:(0,l.jsx)(_.Z,{borderTop:N,columnDefs:n,config:L,currentPageSelector:P,disableRowHover:U,hidePagination:G,id:"data-table",isLoading:g,isPaginationOptional:!0,onPageChange:function(e){return h({page:e})},onRowClick:C,onRowCountChange:function(e){return h({limit:e})},onSortChange:function(e,t){return h({sortBy:e,sortDirection:t})},options:w,pageSizeSelector:T,pageType:t,paginationProps:Z,rowData:p,totalCountSelector:I}),eE=(null==R?void 0:R.marginBottom)||2;return(0,l.jsxs)(o.kC,{direction:"column",children:[(0,l.jsxs)(o.xu,{direction:"row",display:"flex",marginBottom:!ey&&B?void 0:eE,marginTop:null==R?void 0:R.marginTop,paddingX:null==R?void 0:R.paddingX,paddingY:null==R?void 0:R.paddingY,children:[c&&(0,l.jsx)(o.sg,{span:eS?11:12,children:(0,l.jsx)(o.Um,{accessibilityLabel:c,id:"data-table-search",onChange:function(e){var t=e.value;X||K(!0),Q(t)},placeholder:c,value:q})}),eS&&(0,l.jsx)(o.sg,{span:1,children:(0,l.jsx)(o.xu,{marginStart:3,children:(0,l.jsx)(o.hU,{accessibilityExpanded:J,accessibilityHaspopup:!0,accessibilityLabel:ev,icon:"filter",onClick:function(){return ee(function(e){return!e})},selected:J,size:"md",tooltip:{text:ev,idealDirection:"up"}})})})]}),!ey&&B&&(0,l.jsx)(o.xu,{direction:"row",display:"flex",marginBottom:(null==D?void 0:D.marginBottom)||2,marginTop:null==D?void 0:D.marginTop,paddingX:null==D?void 0:D.paddingX,paddingY:null==D?void 0:D.paddingY,children:(0,l.jsx)(o.sg,{span:eS?11:12,children:B})}),el,ex,J&&(0,l.jsx)(o.mh,{zIndex:S,children:(0,l.jsx)(o.To,{accessibilityDismissButtonLabel:F._('Close filter overlay', '[m10n]DataTable.accessibility.closefilteroverlay', 'button for closing filter overlay'),accessibilityLabel:j?eg:eA,footer:!j&&(0,l.jsx)(o.kC,{alignItems:"center",justifyContent:"end",children:(0,l.jsx)(o.zx,{color:"red",onClick:function(){er(eo),ee(!1)},text:F._('Apply', '[m10n]DataTable.filters.apply', 'Button to apply filter')})}),heading:j?eg:eA,onDismiss:function(){return ee(!1)},size:"md",children:j?(0,l.jsx)(o.kC,{justifyContent:"center",children:(0,l.jsx)(o.xv,{inline:!0,size:"400",children:(0,a.sQ)(F)})}):(0,l.jsx)(o.kC,{direction:"column",gap:{row:0,column:12},children:O&&O.map(function(e){return(0,l.jsxs)(o.kC,{direction:"column",gap:{row:1,column:4},children:[(0,l.jsx)(o.xu,{children:(0,l.jsx)(o.xv,{inline:!0,size:"400",weight:"bold",children:e.label})}),(0,l.jsx)(o.xv,{children:e.description}),(0,l.jsx)(o.pg,{legend:e.description,legendDisplay:"hidden",children:(0,l.jsx)(o.kC,{direction:"column",gap:{row:0,column:3},children:e.responseType===x.MULTISELECT&&e.options&&e.options.map(function(t){var n,r;return(0,l.jsx)(u,{description:t.description,id:"".concat(e.name,"-option-").concat(t.value),initialState:null!=(n=null==(r=en[e.name])?void 0:r.includes(t.value))&&n,label:t.label,onChangeCallBack:function(){em(e.name,t.value,x.MULTISELECT,"TEMP")}},"".concat(e.name,"-option-").concat(t.value))})})})]},"filterLine-".concat(e.label))})})})})]})}},298259:function(e,t,n){"use strict";var r=n(20256),s=n(680811);t.Z=function(e){var t=e.image,n=e.header,o=e.description;return(0,s.jsx)(r.xu,{borderStyle:"shadow",display:"flex",justifyContent:"center",rounding:4,children:(0,s.jsxs)(r.xu,{margin:9,children:[(0,s.jsx)(r.xu,{marginTop:9,children:t}),(0,s.jsx)(r.xu,{marginBottom:1,marginTop:4,children:(0,s.jsx)(r.xv,{align:"center",size:"300",children:n})}),(0,s.jsx)(r.xu,{marginBottom:9,children:(0,s.jsx)(r.xv,{align:"center",color:"subtle",size:"200",children:o})})]})})}},458630:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(387784),s=n(20256),o=n(680811);function a(e){var t=e.items,n=e.fitToWindow;return(0,o.jsx)(s.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderColor:"#e9e9e9"}},direction:"column",display:"flex",height:n?"100%":void 0,rounding:4,children:t.map(function(e,n){return n<t.length-1?(0,o.jsxs)(r.Fragment,{children:[e,(0,o.jsx)(s.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderBottom:"none",borderColor:"#e9e9e9"}}})]},n):e})})}},506672:function(e,t,n){"use strict";var r=n(387784),s=n(20256),o=n(24246),a=n(995751),i=n(377823),l=n(298259),c=n(680811);function u(){var e=(0,o.Z)();return(0,c.jsx)(l.Z,{description:e._('You can manage permissions to your ad accounts', '[m10n]AdAccountsTable.emptyState.description', 'Description explaining what you can do on ad accounts table'),header:e._('Your ad accounts list will appear here', '[m10n]AdAccountsTable.emptyState.title', 'Header explaining where ad accounts will go once added'),image:(0,c.jsx)(s.Ee,{alt:e._('Example of ad accounts', '[m10n]AdAccountsTable.emptyState.image', 'Alternate text for image that shows an example of ad accounts'),color:"#FFF",naturalHeight:112,naturalWidth:418,src:a})})}t.Z=function(e){var t=e.pageType,n=e.adAccounts,s=e.adAccountsIsLoading,a=e.adAccountsCurrentPageSelector,l=e.adAccountsTotalCountSelector,d=e.adAccountsPageSizeSelector,_=e.adAccountsSearchTermSelector,f=e.adAccountsFetchData,m=e.adAccountsColumnDefs,h=e.adAccountsTableConfiguration,p=e.adAccountsOnRowClick,b=e.hidePagination,y=e.owners,v=e.ownersError,A=e.searchFieldText,g=e.emptyState,S=e.options,x=(0,o.Z)(),E=(0,r.useMemo)(function(){return y?[{name:"owner",label:x._('Owners', '[m10n]AdAccountsTable.filter.owner', 'Name for owners filter'),description:x._('Select which owners ad accounts you would like to see', '[m10n]AdAccountsTable.filter.ownerdescription', 'describe owner filter'),options:y,responseType:i.h.MULTISELECT}]:[]},[y,x]);return(0,c.jsx)(i.Z,{columnDefs:m,currentPageSelector:a||(null==h?void 0:h.dataCurrentPageSelector),data:n,emptyState:g||(0,c.jsx)(u,{}),fetchData:null!=f?f:function(){},filters:E,filtersError:v,hidePagination:b,isLoading:s,onRowClick:p,options:S,pageSizeSelector:d||(null==h?void 0:h.dataPageSizeSelector),pageType:t,searchPlaceholder:null!=A?A:x._('Search ad accounts', '[m10n]AdAccountsTable.search', 'Placeholder text to hint user to search for ad accounts by name or by business ID'),searchTermSelector:_||(null==h?void 0:h.dataSearchTermSelector),totalCountSelector:l||(null==h?void 0:h.dataTotalCountSelector)})}},308592:function(e,t){"use strict";t.Z=function(e,t){return({PAGE_VISIT:t._('PageVisits', '[m10n]bizAccess.business.conversionType.eventName.pageVisits', 'Page visits as the conversion type event'),LEAD:t._('Lead', '[m10n]bizAccess.business.conversionType.eventName.lead', 'Lead as the conversion type event'),ADD_TO_CART:t._('AddToCart', '[m10n]bizAccess.business.conversionType.eventName.addToCart', 'Add-to-cart as the conversion type event'),SIGNUP:t._('SignUp', '[m10n]bizAccess.business.conversionType.eventName.signUp', 'Sign-up as the conversion type event'),CHECKOUT:t._('Checkout', '[m10n]bizAccess.business.conversionType.eventName.checkout', 'Checkout as the conversion type event')})[e]||e}},594110:function(e,t,n){"use strict";n.d(t,{Z:function(){return D},I:function(){return N}});var r=n(387784),s=n(581722),o=n(20256),a=n(143754),i=n(230201),l=n(24246),c=n(945946),u=n(289935),d=n(618550),_=n(969623),f=n(993339),m=n(180884),h=n(89446),p=n(680811),b=function(e){var t=e.field,n=e.children,r=e.onClick,a=e.sortingOptions,i=(0,l.Z)(),c=(0,s.v9)((null==a?void 0:a.sortDirectionSelector)||d.fI),u=(0,s.v9)((null==a?void 0:a.sortBySelector)||d.C9)===t;return(0,p.jsx)(o.xu,{children:(0,p.jsx)(o.iP,{onTap:function(){return r("ASCENDING"===c&&u?"DESCENDING":"ASCENDING")},children:(0,p.jsx)(o.xu,{paddingY:1,children:(0,p.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)(o.xu,{flex:"grow",children:n}),u&&(0,p.jsx)(o.xu,{marginStart:2,width:16,children:(0,p.jsx)(o.JO,{accessibilityLabel:i._('Sort order', '[m10n]businessManager.bizTable.tableHeader', 'Accessibility label for button that changes table sort order'),color:"default",icon:"ASCENDING"===c?"sort-ascending":"sort-descending",size:16})})]})})})})},y=function(e){var t=e.columnDefs,n=e.config,r=e.onSortChange,s=e.id,a=e.sortingOptions,c=(0,i.u)().logContextEvent,d=(0,h.KJ)(),y=(0,l.Z)();return(0,p.jsx)(f.Z,{children:(0,p.jsx)(m.Z,{children:t.map(function(e,t){var i=e.minWidth,l=e.headerName,f=e.justifying,m=void 0===f?n.justifying:f,h=e.headerHeight,v=void 0===h?n.rowHeight:h,A=e.field,g=e.sortable,S=e.tooltipInfo,x=void 0===S?"":S,E=e.tooltipInfoIconSize,P=e.sortField,I=e.verticalAlign,T=e.width,C=e.checkbox;return(0,p.jsx)("th",{style:{borderBottom:n.headerBorderStyle||n.borderStyle,paddingLeft:"12px",paddingRight:"12px",verticalAlign:void 0===I?"baseline":I,width:T},type:"header",children:(0,p.jsx)(o.xu,{alignItems:"center",display:"flex",height:v,justifyContent:m,minWidth:i,paddingY:2,children:g?(0,p.jsx)(b,{field:P||A,onClick:function(e){r(P||A,e),c({event_type:8968,component:(0,_.Z)(s),aux_data:{business_id:d,table_sort_direction:e,table_sort_field:P||A}})},sortingOptions:a,children:(0,p.jsx)(o.xv,{size:"200",weight:"bold",children:l})}):(0,p.jsx)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,p.jsxs)(o.xu,{direction:"row",display:"flex",paddingY:1,children:[C&&(0,p.jsx)(o.xu,{"data-test-id":"table-header-checkbox-".concat(t),children:(0,p.jsx)(o.XZ,{ref:function(e){e&&(e.style.left="4px")},checked:C.checked,disabled:C.disabled,id:C.id,indeterminate:C.indeterminate,onChange:function(e){var t=e.checked;return C.onChange(t)},size:"sm"})}),(0,p.jsx)(o.xv,{size:"200",weight:"bold",children:l}),x&&x.length>0&&(0,p.jsx)(o.u,{inline:!0,text:x,zIndex:u.b7,children:(0,p.jsx)(o.xu,{paddingX:1,children:(0,p.jsx)(o.JO,{accessibilityLabel:y._('Tooltip explaining how permissions are assigned in asset groups', '[m10n]businessManager.assetGroups.tableHeader.permissionsTooltipInfo', 'Accessibility label for permissions table column definition'),color:"subtle",icon:"info-circle",inline:!0,size:E})})})]})})})},"".concat(t))})})})},v=n(440077);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t,n=e.children,s=e.rowIdx,o=e.setIsHoveredProps,a=e.disableRowHover,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return A(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=i[0],c=i[1];return(0,p.jsx)("tr",{onMouseEnter:function(){c(!0),o&&o(!0)},onMouseLeave:function(){c(!1),o&&o(!1)},style:{backgroundColor:!a&&l&&s>=0?v.KtD:v.Wmm},children:n})}var S=n(249823);function x(e,t){if(e){if("string"==typeof e)return E(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function P(e){var t=e.href,n=e.isActionCell,r=e.children,s=e.columnDef,a=e.onRowClick,i=e.data,l=e.minHeight,c=e.isPermissionsCell,u=(0,p.jsx)(o.xu,{alignItems:"center",display:"flex",minHeight:l,padding:c?1:3,children:r});return t&&!n?(0,p.jsx)(o.Tg,{href:t,children:u}):i&&a&&!s.preventColumnRowClick?(0,p.jsx)(o.iP,{onTap:function(){return a(i)},role:"button",children:u}):u}var I=function(e){var t=e.rowData,n=e.columnDefs,s=e.config,a=e.customEmptyState,i=e.customEmptyText,c=e.getOnClickUrl,u=e.onRowClick,d=e.disableRowHover,_=(0,l.Z)(),f=i||_._('No data found', '[m10n]bizAccess.tableNoData', 'Indicates the table has no data');function m(e){var t,a=e.rowIdx,i=e.datum,l=e.href,c=e.tableRowContextValue,u=e.onRowClick,_=e.minHeight,f=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||x(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=f[0],h=f[1];return(0,p.jsx)(g,{disableRowHover:d,rowIdx:a,setIsHoveredProps:h,children:(0,p.jsx)(S.g,{value:c,children:n.map(function(e,t){var n=e.minWidth,r=e.field,a=e.TableCellComponent,c=e.weight,f=void 0===c?s.weight:c,h=e.valueGetter,b=e.justifying,y=void 0===b?s.justifying:b,v=e.height,A=void 0===v?s.rowHeight:v,g=e.onHoverOnly;return(0,p.jsx)("td",{style:{borderTop:s.borderStyle,borderBottom:s.borderStyle},type:"body",children:(0,p.jsx)(P,{columnDef:e,data:i,href:l,isActionCell:"id"===r,isPermissionsCell:"permissions"===r,minHeight:_,onRowClick:u,children:(0,p.jsx)(o.kC,{alignItems:"center",height:A,justifyContent:y,minWidth:n,width:"100%",children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:d||m||!(void 0!==g&&g)?void 0:{__style:{visibility:"hidden"}},children:(0,p.jsx)(a,{colDef:e,data:i,value:h?h(i):i,weight:f})})})})},"".concat(t,"-").concat(r))})})},a)}return 0===t.length?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:n.length,style:{padding:"12px"},children:a||(0,p.jsx)(o.kC,{alignItems:"center",height:s.rowHeight,justifyContent:"center",children:(0,p.jsx)(o.xv,{align:"center",color:"subtle",size:"200",children:f})})})}):t.map(function(e,t){var r,a="",i={isUsingTableRowHref:!1};c&&(a=c(e))&&(i={isUsingTableRowHref:!0});var l=(r=n.map(function(t){var n;return(null==(n=t.getMinHeight)?void 0:n.call(t,e))||0}),Math.max.apply(Math,function(e){if(Array.isArray(e))return E(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||x(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())||void 0);return n.find(function(e){return e.onHoverOnly})?(0,p.jsx)(m,{datum:e,href:a,minHeight:l,onRowClick:u,rowIdx:t,tableRowContextValue:i},t):(0,p.jsx)(g,{disableRowHover:d,rowIdx:t,children:(0,p.jsx)(S.g,{value:i,children:n.map(function(t,n){var r=t.minWidth,i=t.field,c=t.TableCellComponent,d=t.weight,_=void 0===d?s.weight:d,f=t.valueGetter,m=t.justifying,h=void 0===m?s.justifying:m,b=t.height,y=void 0===b?s.rowHeight:b;return(0,p.jsx)("td",{style:{borderTop:s.borderStyle,borderBottom:s.borderStyle},type:"body",children:(0,p.jsx)(P,{columnDef:t,data:e,href:a,isActionCell:"id"===i,isPermissionsCell:"permissions"===i,minHeight:l,onRowClick:u,children:(0,p.jsx)(o.kC,{alignItems:"center",height:y,justifyContent:h,minWidth:r,width:"100%",children:(0,p.jsx)(c,{colDef:t,data:e,value:f?f(e):e,weight:_})})})},"".concat(n,"-").concat(i))})})},t)})},T=function(e){var t=e.columnDefs,n=e.config;return t.every(function(e){return!!e.TableSubheaderCellComponent})&&(0,p.jsx)(f.Z,{children:(0,p.jsx)(m.Z,{children:t.map(function(e,t){var r=e.minWidth,s=e.justifying,a=void 0===s?n.justifying:s,i=e.headerHeight,l=void 0===i?n.rowHeight:i,c=e.verticalAlign,u=e.TableSubheaderCellComponent,d=e.width;return(0,p.jsx)("th",{style:{borderBottom:n.borderStyle,paddingLeft:"12px",paddingRight:"12px",verticalAlign:void 0===c?"baseline":c,width:d,backgroundColor:"#F9F9F9"},type:"header",children:(0,p.jsx)(o.xu,{alignItems:"center",display:"flex",height:l,justifyContent:a,minWidth:r,paddingY:2,children:void 0!==u&&(0,p.jsx)(u,{})})},"".concat(t))})})})},C=n(232971),O=n(555478);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N={borderColor:"#c6c7cc",borderStyle:"1px solid #c6c7cc",rowHeight:void 0,justifying:"start",weight:"normal",debounceTimeOut:500,noDataSymbol:"",weights:{normal:"normal",bold:"bold"},columnWidths:{xl:175,lg:120,md:80,sm:40}};function R(e){var t=e.id,n=e.columnDefs,c=e.rowData,u=e.onPageChange,f=e.onRowCountChange,m=e.onSortChange,b=e.isLoading,v=e.config,A=e.customEmptyState,g=e.customEmptyText,S=e.isPaginationOptional,x=e.currentPageSelector,E=e.totalCountSelector,P=e.pageSizeSelector,j=e.getOnClickUrl,z=e.onRowClick,R=e.options,D=e.borderTop,k=e.disableRowHover,L=e.paginationProps,U=e.hidePagination,B=e.hideHeader,M=(0,i.u)().logContextEvent,H=(0,l.Z)(),Z=(0,s.v9)(x||d.Q$),G=(0,s.v9)(E||d.pr),F=(0,s.v9)(P||d.G1),Y=(0,h.KJ)(),V=!(void 0!==U&&U)&&(!S||G>O.TJ["0"]),q=(0,r.useMemo)(function(){return D?{borderColor:"#cdcdcd",borderTopStyle:"solid",borderWidth:1}:{}},[D]);return(0,p.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:w({overflowX:"auto",overflowY:"auto"},q)},"data-test-id":"".concat(t,"-table"),width:"100%",children:[b?(0,p.jsx)(o.xu,{children:(0,p.jsx)(o.kC,{alignItems:"center",height:N.rowHeight,justifyContent:"center",children:(0,p.jsx)(o.xH,{accessibilityLabel:(0,a.hC)(H),delay:!1,show:!0,size:"lg"})})}):(0,p.jsx)(o.xu,{children:(0,p.jsxs)("table",{className:"Table",style:{borderCollapse:"collapse",borderSize:0,width:"100%"},children:[!(void 0!==B&&B)&&(0,p.jsx)(y,{columnDefs:n,config:w(w({},v),N),id:t,onSortChange:m,sortingOptions:R}),(0,p.jsx)(T,{columnDefs:n,config:N}),(0,p.jsx)(C.Z,{children:(0,p.jsx)(I,{columnDefs:n,config:w(w({},N),v),customEmptyState:A,customEmptyText:g,disableRowHover:k,getOnClickUrl:j,onRowClick:z,rowData:c})})]})}),V&&u&&!b&&(0,p.jsx)(o.xu,{paddingX:null==L?void 0:L.paddingX,paddingY:(null==L?void 0:L.paddingY)||4,children:(0,p.jsx)(O.ZP,{alignRowsPerPageLabel:null==L?void 0:L.alignRowsPerPageLabel,highestPageSize:50,onPaginationClick:function(e){u(e),M({event_type:8969,component:(0,_.Z)(t),aux_data:{business_id:Y,table_next_page:e}})},onPerPageChange:f,page:Z,perPage:F,totalCount:G})})]})}function D(e){return(0,p.jsx)(c.ZP,{errorType:"TABLE",name:"businessAccessTable",pageType:e.pageType,children:(0,p.jsx)(R,w({},e))})}},711538:function(e,t,n){"use strict";var r=n(20256),s=n(249823),o=n(680811),a=function(e){var t=e.href,n=e.onClick,a=e.children,i=(0,s._)().isUsingTableRowHref;return n&&!i?(0,o.jsx)(r.xu,{"data-test-id":"base-name-link",children:(0,o.jsx)(r.iP,{onTap:n,role:"button",tabIndex:-1,children:a})}):t&&!i?(0,o.jsx)(r.xu,{"data-test-id":"base-name-link",children:(0,o.jsx)(r.Tg,{href:t,tabIndex:-1,children:a})}):(0,o.jsx)(r.xu,{"data-test-id":"base-name-link",children:a})},i={sm:"100",md:"200",lg:"300"};t.Z=function(e){var t=e.href,n=e.imageUrl,s=e.subtext,l=e.subtext2,c=e.text,u=e.size,d=void 0===u?"md":u,_=e.imgSize,f=e.weight,m=e.tooltip,h=e.onClick;return(0,o.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginEnd:2,width:"100%",children:(0,o.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",rounding:1,children:[n&&(0,o.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(a,{href:t,onClick:h,children:(0,o.jsx)(r.qE,{name:c,size:_||d,src:n})})}),c&&(0,o.jsxs)(r.xu,{display:"flex",justifyContent:"center",marginStart:n?2:void 0,children:[(0,o.jsxs)(r.xu,{children:[(0,o.jsx)(r.xv,{align:"start",color:"default",size:i[d],weight:void 0===f?"bold":f,children:(0,o.jsx)(a,{href:t,onClick:h,children:c})}),s&&(0,o.jsx)(r.xv,{align:"start",color:"subtle",size:"100",children:s}),l&&(0,o.jsx)(r.xv,{align:"start",color:"subtle",size:"100",children:l})]}),m]}),!c&&(0,o.jsx)(r.xv,{color:"subtle",size:"100",children:"—"})]})})}},172608:function(e,t,n){"use strict";var r=n(20256),s=n(680811);t.Z=function(e){var t=e.value,n=e.colDef.justifying;return(0,s.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:n||"end",width:"100%",children:(0,s.jsx)(r.xv,{size:"100",children:t})})}},477291:function(e,t,n){"use strict";var r=n(20256),s=n(680811);t.Z=function(e){var t=e.value,n=e.weight,o="normal"===(void 0===n?"normal":n)?"normal":"bold";return(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[t&&(0,s.jsx)(r.xv,{size:"200",weight:o,children:t}),!t&&(0,s.jsx)(r.xv,{color:"subtle",size:"200",weight:o,children:"—"})]})}},592862:function(e,t,n){"use strict";var r=n(581722),s=n(653551),o=n(20256),a=n(766857),i=n(24246),l=n(173874),c=n(552263),u=n(120516),d=n(511824),_=n(89446),f=n(680811);t.Z=function(e){var t,n,m,h,p,b,y,v=e.data,A=e.assignmentType,g=e.dataToRefresh,S=e.colDef,x=e.resourceType,E=e.targetingRmnBusinessId,P=(0,c.Z)().inRmnFoundations,I=(0,i.Z)(),T=(0,s.TH)(),C=(0,_.KJ)(),O=(0,_.KJ)(!0),j="CATALOG_PEOPLE"===g||"CATALOG_PARTNER"===g,z=(0,_.nU)(),w=(0,_.nU)(!0),N=(0,r.v9)(u.ZF),R=(0,r.v9)(d.mD),D="";switch(g){case"SYSTEM_USER_APP":D=R;break;case"CATALOG_PEOPLE":case"CATALOG_PARTNER":D=N||"";break;default:D=z||w}var k=null==(t=v.created_by)?void 0:t.id,L=!!k&&(C||O)!==k,U=(0,_.HU)(),B=U.setRemoveAdAccountAccessModal,M=U.setRemoveSharedAdAccountModal,H=U.businessAccess.isActingUserReseller,Z=(0,a.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),G="AD_ACCOUNT_PEOPLE"===g||"AD_ACCOUNT_SYSTEM_USERS"===g||"AOAA_REQUEST_DETAIL_PAGE"===g||"AD_ACCOUNT_PARTNER"===g||"HIERARCHY_AD_ACCOUNT_DETAILS_EMPLOYEES"===g||"HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"===g,F=(null==(n=v.partner)?void 0:n.is_reseller)||!!v.is_reseller,Y=P&&((null==(m=v.partner)?void 0:m.rmn_or_brand)!=null&&(null==(h=v.partner)?void 0:h.rmn_or_brand)==="RMN"||"RMN"===v.rmn_or_brand||null!=E&&E===v.id),V=P&&(null==(p=v.partner)?void 0:p.rmn_or_brand)!=null&&(null==(b=v.partner)?void 0:b.rmn_or_brand)==="BRAND",q=!1,Q="";if(L&&"PEOPLE"!==g&&"SHARED_PARTNERS_DETAIL"!==g&&"SYSTEM_USER_APP"!==g||"SHARED_PARTNERS_DETAIL"===g&&!L?(q=!0,Q=I._('You cannot remove agency owned ad accounts. Contact support to learn more', '[m10n]bizAccess.business.ad_account.removeTooltipAoaa', 'tooltip if you try to remove an ad account that is agency owned')):["AD_ACCOUNT_PARTNER","PARTNER","SHARED_PARTNERS_DETAIL"].includes(g)&&(F||H)?(q=!0,Q=I._('Contact support to remove this permission', '[m10n]bizAccess.business.ad_account.remove.tooltip', 'Tooltip with text to say remove permission is disabled')):Y?(q=!0,Q=I._('Removing your retail media network partner\'s permissions is not allowed at this time', '[m10n]bizAccess.business.rmn.ad_account.remove.tooltip', 'Tooltip with text to say remove permission is disabled for RMN partners')):V&&(q=!0,Q=I._('Removing your permissions is not allowed at this time', '[m10n]bizAccess.business.brand.ad_account.remove.tooltip', 'Tooltip with text to say remove permission is disabled for brand partners')),v.is_pin_support_user)return null;var W=(0,f.jsx)(o.hU,{accessibilityLabel:I._('Remove permissions', '[m10n]bizAccess.business.person.remove', 'Remove a user\'s permissions'),disabled:q,icon:"remove",iconColor:"darkGray",onClick:function(){var e,t;(0,l.dK)(T)&&Z({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"ad-account-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-ad-accounts-assignment"}),"SHARED_PARTNERS_DETAIL"===g?M({assetId:(null==(e=v.asset)?void 0:e.id)||"",refreshData:null==S?void 0:S.refreshData}):B({resourceId:G||j?D:(null==(t=v.asset)?void 0:t.id)||v.id||"",principalId:G||j?v.id||"":D||"",dataToRefresh:g,assignmentType:A,resourceType:x})},size:"xs",tooltip:{text:q?Q:I._('Remove permissions', '[m10n]bizAccess.business.user.permissions.remove.tooltip', 'Text displayed on hover to remove a user\'s permissions on account')}});return(0,f.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(o.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,f.jsx)(o.xu,{"data-test-id":"remove-adAccount-access-".concat((null==(y=v.asset)?void 0:y.id)||v.id||""),children:W})})})}},189578:function(e,t,n){"use strict";var r=n(653551),s=n(20256),o=n(719301),a=n(766857),i=n(935059),l=n(24246),c=n(173874),u=n(501010),d=n(89446),_=n(680811);t.Z=function(e){var t,n,f=e.data,m=e.colDef,h=(0,l.Z)(),p=(0,r.TH)(),b=(0,d.nU)(!0),y=f.asset&&f.asset.id?f.asset.id:b,v=(0,i.Z)(),A=(v.isAuth?v.id:void 0)===f.user.id,g=(0,d.HU)().setRemoveProfilePermissionsModal,S=(0,a.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),x=(0,(0,u.Z)().checkExperiment)("web_m10n_business_access_employee_redesign").anyEnabled;if(f.is_pin_support_user)return null;var E=(0,_.jsx)(s.xu,{"data-test-id":"remove-employee-profile-detail-".concat(f.user.id),children:(0,_.jsx)(s.hU,{accessibilityLabel:h._('Remove permissions', '[m10n]bizAccess.business.person.remove', 'Remove a user\'s permissions'),disabled:A,icon:"remove",iconColor:"darkGray",onClick:function(){var e;(0,c.dK)(p)&&S({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"profiles-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-employee-from-profile",profile_id:y}),g({userData:f.user,selectionType:o.Hl.PERSON,profileId:y,profileName:x&&(null==(e=f.asset)?void 0:e.name)||void 0,dataToRefresh:f.asset&&f.asset.id?"PEOPLE":"PROFILE_PEOPLE",refreshData:null==m?void 0:m.refreshData})},size:null!=(t=null==m?void 0:m.iconSize)?t:"xs",tooltip:{text:null!=(n=null==m?void 0:m.tooltipInfo)?n:h._('Remove permissions', '[m10n]bizAccess.table.account.person.remove_tooltip', 'Remove a user\'s permissions')}})});return(0,_.jsx)(s.xu,{children:(0,_.jsx)(s.xu,{"data-test-id":"remove-employee-profile-".concat(y),children:A?(0,_.jsx)(s.u,{text:h._('You cannot remove yourself', '[m10n]bizAccess.business.person.removeTooltip', 'tooltip if you try to remove yourself'),children:E}):E})})}},6059:function(e,t,n){"use strict";var r=n(143754),s=n(477291),o=n(594110),a=n(591786);t.Z=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.field,l=void 0===i?"biz_roles":i,c=n.headerName,u=n.valueGetter,d=n.minWidth,_=void 0===d?o.I.columnWidths.md:d,f=n.width,m=n.inCatalogManagment;return{field:l,headerName:c||e._('Permissions', '[m10n]bizAccess.business.people.bizRoleAccess', 'access role of user'),width:f,minWidth:_,TableCellComponent:s.Z,valueGetter:u||(t=void 0!==m&&m,function(n){return(0,a._o)(l in n?n[l]:[],t,n.type).map("permissions"===l?(0,a.e6)(e,"CATALOG"===n.type):(0,a.B)(e)).join((0,r.bH)(e))}),sortable:!1}}},384408:function(e,t,n){"use strict";n.d(t,{t:function(){return ti},Z:function(){return to}});var r=n(20256),s=n(800287),o=n(935059),a=n(501010),i=n(387784),l=n(581722),c=n(24246),u=n(216975),d=n(243610),_=n(563501),f=n(293772),m=n(610568),h=n(465784),p=n(924591),b=n(577356),y=n(591361),v=n(680811);function A(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){var t=e.audience,n=e.recipientAccount,s=e.businessId,o=e.businessHierarchyId,a=e.handleDismissEditAccessModal,l=e.onEditSubmitSuccess,u=n.account_expiration,S=n.account_id,x=n.account_type,E=(0,c.Z)(),P=(0,b.dI)().showToast,I=g((0,i.useState)(!1),2),T=I[0],C=I[1],O=g((0,i.useState)(!1),2),j=O[0],z=O[1],w=g((0,i.useState)(u?new Date((0,d.Z)(u)):null),2),N=w[0],R=w[1];return(0,v.jsx)(r.mh,{children:(0,v.jsx)(h.ZP,{accessibilityModalLabel:E._('Edit audience access expiration date modal', '[m10n]audienceSharing.editAccessModal.accessibilityLabel', 'Accessibility label for a modal confirming to edit access expiration date to an audience'),align:"start",footer:(0,v.jsxs)(r.kC,{alignItems:"center",gap:1,justifyContent:"end",children:[(0,v.jsx)(f.zx,{dataTestId:"cancel",logEventProps:{},onClick:a,text:E._('Cancel', '[m10n]audienceSharing.editAccessModal.cancelButton', 'Button to dismiss modal')}),(0,v.jsx)(f.zx,{color:"red",dataTestId:"submit",disabled:T,logEventProps:{},onClick:function(){var e,n;(e=regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,(0,y.oH)({audienceId:(null==t?void 0:t.id)||"",recipientAccountIds:[S],recipientAccountType:x,businessId:s,businessHierarchyId:o,expirationDate:N?(0,_.Z)(N):void 0});case 3:(n=e.sent.error)?z(!!n):(a(),l&&l(),P(function(e){var t=e.hideToast;return(0,v.jsx)(p.Z,{duration:5e3,onHide:t,text:E._('Audience access expiration date was successfully updated.', '[m10n]audienceSharing.editReceivedAudience.toast.message', 'Text that appears in a Toast message confirming that audience access expiration date was updated'),type:"success"})})),C(!1);case 7:case"end":return e.stop()}},e)}),n=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){A(o,r,s,a,i,"next",e)}function i(e){A(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)})()},text:E._('Save', '[m10n]audienceSharing.editReceivedAudienceModal.removeButton', 'Text on a button to save new audience\'s expiration date'),type:"submit"})]}),heading:E._('Edit audience access expiration', '[m10n]audienceSharing.editAccessModal.heading', 'Heading for a modal confirming to edit access expiration date to an audience'),onDismiss:a,role:"alertdialog",size:"sm",children:(0,v.jsx)(r.xu,{marginBottom:2,paddingX:6,children:(0,v.jsxs)(r.kC,{direction:"column",gap:3,children:[(0,v.jsx)(r.xv,{children:E._('Partners retain access to this audience until the expiration date or until the audience owner revokes access, deletes the audience or the recipient removes the audience from their business.', '[m10n]audienceSharing.editReceivedAudienceModal.firstParagraph', 'Text explaining what can be done about access expiration date')}),(0,v.jsx)(r.xv,{children:E._('If audience access expires before the end date of your partner\'s active campaign, their campaign will pause.', '[m10n]audienceSharing.editAccessModal.secondParagraph', 'Text explaining the campaign consequence if audience expires')}),(0,v.jsx)(r.nv,{disabled:!0,id:"audience".concat(null==t?void 0:t.id),label:E._('Audience', '[m10n]audienceSharing.editAccessModal.audienceLabel', 'Label to audience text field'),onChange:function(){},value:null==t?void 0:t.name}),(0,v.jsx)(m.Z,{id:"audience-expiration-date",label:E._('Access expiration date', '[m10n]audienceSharing.ModalShareAudienceList.expirationDate', 'Label above the audience expiration date input field'),onChange:function(e){R(e.value)},onClearInput:function(){return R(null)},value:N}),j&&(0,v.jsx)(r.xu,{marginEnd:4,role:"alert",children:(0,v.jsx)(r.xv,{color:"error",inline:!0,children:E._('We are having trouble revoking access to this audience. Please try again in a few minutes.', '[m10n]audienceSharing.revokeAccessModal.revokeFailure.message', 'Error message displayed when the revoke access API fails')})})]})})})})},E=n(784093),P=n(997973),I=n(89446);function T(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t,n,s,o=e.data,a=(0,c.Z)(),d=o.account_name,_=(0,l.v9)(P.Qx),f=(null==_?void 0:_.audience)||null,m=(0,l.I0)(),h=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return C(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=h[0],b=h[1],y=(0,I.KJ)(),A=(n=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f&&m((0,E.oA)({audienceId:f.id,businessId:y,recipientAccountType:o.account_type})),e.abrupt("return",Promise.resolve());case 2:case"end":return e.stop()}},e)}),s=function(){var e=this,t=arguments;return new Promise(function(r,s){var o=n.apply(e,t);function a(e){T(o,r,s,a,i,"next",e)}function i(e){T(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return s.apply(this,arguments)});return(0,v.jsxs)(r.xu,{children:[(0,v.jsx)(r.hU,{accessibilityLabel:(0,u.nk)(a._('Edit audience sharing expiration date for account {{ accountName }}', '[m10n]businessAccess.audienceSharing.actions.edit.expiration.accessibilityLabel', 'Indicates ad account name for edit audience expiration icon button, accountName: name of shared ad account'),{accountName:d}).join(""),icon:"edit",onClick:function(){b(!0)},size:"sm",tooltip:{text:a._('Edit access to audience expiration date', '[m10n]businessAccess.audienceSharing.actions.editExpirationToolTip', 'Tooltip for icon button to edit expiration date of a shared audience from an ad account')}}),p&&f&&(0,v.jsx)(x,{audience:f,businessId:y,handleDismissEditAccessModal:function(){b(!1)},onEditSubmitSuccess:A,recipientAccount:{account_id:o.account_id,account_type:o.account_type,account_expiration:o.expiration_date}})]})},j=n(719301),z=n(145626),w=function(e){var t=e.data,n=(0,c.Z)(),s=new Set([j.V3.OWNER,j.gO.ADMIN,j.gO.AUDIENCE_MANAGER]),o=(t.permissions||[]).some(function(e){return s.has(e)}),a=o?n._('Leave Business Manager to view audiences for this ad account', '[m10n]bizAccess.audienceSharing.actions.tooltip', 'tooltip for audience page icon button to redirect to audience page'):n._('You do not have permissions to view audiences for this ad account', '[m10n]bizAccess.audienceSharing.actions.tooltip', 'tooltip for audience page icon button indicating business does not have permission to view audiences'),i=t.account_name;return(0,v.jsx)(r.u,{text:a,children:(0,v.jsx)(r.I_,{accessibilityLabel:(0,u.nk)(n._('View audiences for ad account {{ accountName }}', '[m10n]bizAccess.audienceSharing.actions.accessibilityLabel', 'Indicates ad account name for redirect to audience page icon button, accountName: name of share ad account'),{accountName:i}).join(""),disabled:!o,href:o?"".concat(z.vI,"/advertiser/").concat(t.account_id,"/audiences/"):"",icon:"insights-audience",size:"sm"})})},N=function(e){var t=e.data,n=(0,c.Z)(),s=new Set([j.V3.OWNER,j.gO.ADMIN,j.gO.CAMPAIGN_MANAGER]),o=(t.permissions||[]).some(function(e){return s.has(e)}),a=o?n._('Leave Business Manager to create a campaign for this ad account', '[m10n]bizAccess.audienceSharing.actions.tooltip', 'tooltip for audience page icon button to redirect to create flow'):n._('You do not have permissions to create campaigns for this ad account', '[m10n]bizAccess.audienceSharing.actions.tooltip', 'tooltip for audience page icon button indicating business does not have permission make campaign for ad account'),i=t.account_name;return(0,v.jsx)(r.u,{text:a,children:(0,v.jsx)(r.I_,{accessibilityLabel:(0,u.nk)(n._('Navigate to create flow for ad account {{ accountName }}', '[m10n]bizAccess.audienceSharing.actions.accessibilityLabel', 'Indicates ad account name for redirect to create flow icon button, accountName: name of share ad account'),{accountName:i}).join(""),disabled:!o,href:o?"".concat(z.vI,"/advertiser/").concat(t.account_id,"/ads/create/"):"",icon:"ads-overview",size:"sm"})})},R=n(990057),D=n(866962);function k(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e){var t,n,s,o=e.data,a=e.action,d=(0,c.Z)(),_=o.account_name,f=(0,l.v9)(P.Qx),m=(null==f?void 0:f.audience)||null,h=(0,l.I0)(),p=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return L(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=p[0],y=p[1],A=(0,I.KJ)(),g=(n=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m&&h((0,E.oA)({audienceId:m.id,businessId:A,recipientAccountType:o.account_type})),e.abrupt("return",Promise.resolve());case 2:case"end":return e.stop()}},e)}),s=function(){var e=this,t=arguments;return new Promise(function(r,s){var o=n.apply(e,t);function a(e){k(o,r,s,a,i,"next",e)}function i(e){k(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return s.apply(this,arguments)});return(0,v.jsxs)(r.xu,{children:[(0,v.jsx)(r.hU,{accessibilityLabel:"EDIT_OR_REVOKE"===a?(0,u.nk)(d._('Revoke access to this audience for account {{ accountName }}', '[m10n]bizAccess.audienceSharing.actions.accessibilityLabel', 'Indicates ad account name for revoke ad account icon button, accountName: name of share ad account'),{accountName:_}).join(""):(0,u.nk)(d._('Remove this audience from your ad account {{ accountName }}', '[m10n]bizAccess.audienceSharing.actions.accessibilityLabel', 'Indicates ad account name for remove ad account icon button, accountName: name of share ad account'),{accountName:_}).join(""),icon:"remove",onClick:function(){y(!0)},size:"sm",tooltip:{text:"EDIT_OR_REVOKE"===a?d._('Revoke access to audience', '[m10n]bizAccess.audienceSharing.actions.revokeToolTup', 'Tooltip for icon button to revoke a shared audience from an ad account'):d._('Remove this audience from your ad account', '[m10n]bizAccess.audienceSharing.actions.removeToolTup', 'Tooltip for icon button to remove a shared audience from the recipient\'s ad account')}}),b&&m&&(0,v.jsx)(R.Z,{audience:m,handleDismissRevokeAccessModal:function(){y(!1)},onRevokeSubmitSuccess:g,recipientAccount:{account_id:o.account_id,account_name:o.account_name,account_type:o.account_type},revokerAccountId:A,revokerAccountType:D.Q5.BUSINESS_ACCOUNT,revokerIsAudienceRecipient:"EDIT_OR_REVOKE"!==a})]})},B=function(e){var t=e.data,n=e.action,i=(0,(0,a.Z)().checkExperiment)("business_access_rmn_audience_beta").anyEnabled,l=(0,o.Z)(),c=(0,s.NM)().selectedAccount;if("EDIT_OR_REVOKE"===n){var u=t.owner_id===(l.isAuth&&l.id)||t.owner_id===(null==c?void 0:c.id);return(0,v.jsxs)(r.kC,{children:[i&&"AD_ACCOUNT"===t.account_type&&!u&&(0,v.jsx)(O,{data:t}),i&&"AD_ACCOUNT"===t.account_type&&u&&(0,v.jsx)(r.xu,{width:32}),(0,v.jsx)(U,{action:n,data:t})]})}return"REMOVE"===n?(0,v.jsxs)(r.kC,{children:[(0,v.jsx)(w,{data:t}),(0,v.jsx)(N,{data:t}),(0,v.jsx)(U,{action:n,data:t})]}):null},M=n(477291),H=n(653551),Z=n(766857),G=n(173874),F=n(520803),Y=function(e){var t,n=e.data,s=e.colDef,o=e.dataToRefresh,i=(0,c.Z)(),l=(0,I.nU)(),u=(0,I.nU)(!0),d=l||u,_=(0,I.HU)().setEditAdAccountAccessModal,f=(0,(0,a.Z)().checkExperiment)("web_business_access_aoaa").anyEnabled,m=(0,F.Z)().path,h=(0,H.TH)(),p=f&&m.includes(":userBizId/ad-accounts/pending"),b=(0,Z.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY");return n.is_pin_support_user?null:(0,v.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",width:"100%",children:(0,v.jsx)(r.xu,{"data-test-id":"edit-biz-member-ad-accounts-assignment-".concat(n.id),children:(0,v.jsx)(r.hU,{accessibilityLabel:i._('Edit role', '[m10n]bizAccess.table.account.person.edit', 'Button to edit a person\'s role on an account'),icon:"edit",iconColor:"darkGray",onClick:function(){(0,G.dK)(h)&&b({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"ad-account-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"edit-biz-member-ad-accounts-assignment"}),_({resourceId:d||"",principalId:n.id,dataToRefresh:null!=o?o:p?"AOAA_REQUEST_DETAIL_PAGE":"AD_ACCOUNT_PEOPLE",assignmentType:"PEOPLE"})},size:null!=(t=null==s?void 0:s.iconSize)?t:"sm",tooltip:{text:i._('Edit permissions', '[m10n]bizAccess.table.account.person.edit.tooltip', 'Text displayed on hover for edit permissions to edit employee ad account roles')}})})})},V=n(592862);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=q(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==q(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var X=function(e){var t=e.data,n=e.colDef;return(0,v.jsxs)(r.kC,{children:[(0,v.jsx)(Y,{colDef:n,data:W({},t),dataToRefresh:"HIERARCHY_AD_ACCOUNT_DETAILS_EMPLOYEES"}),(0,v.jsx)(V.Z,{assignmentType:"PEOPLE",data:W({},t),dataToRefresh:"HIERARCHY_AD_ACCOUNT_DETAILS_EMPLOYEES"})]})},K=n(577432),$=n(255094),J=function(e){var t,n,s,o=e.data,a=e.colDef,i=e.dataToRefresh,u=(0,c.Z)(),d=(0,H.TH)(),_=(0,I.nU)(),f=(0,I.nU)(!0),m=_||f,h=(0,l.v9)((0,$.Jg)(m)),p=(0,l.v9)((0,K.Jg)(m)),b=(0,Z.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY");s="HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"===i?h:p;var y=(0,I.HU)().setEditAdAccountAccessModal,A=null==(t=s.permissions)?void 0:t.includes("RESTRICTED_OWNER");if(o.is_pin_support_user)return null;var g=(0,v.jsx)(r.hU,{accessibilityLabel:u._('Edit role', '[m10n]bizAccess.table.account.person.edit', 'Button to edit a person\'s role on an account'),disabled:A,icon:"edit",iconColor:"darkGray",onClick:function(){(0,G.dK)(d)&&b({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"ad-account-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"edit-partner-ad-accounts-assignment"}),y({principalId:o.id,resourceId:m,assignmentType:"PARTNER",dataToRefresh:null!=i?i:"AD_ACCOUNT_PARTNER"})},size:null!=(n=null==a?void 0:a.iconSize)?n:"sm"});return(0,v.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",width:"100%",children:(0,v.jsx)(r.xu,{"data-test-id":"edit-partner-ad-accounts-assignment-".concat(o.id),children:A?(0,v.jsx)(r.u,{text:u._('Access can only be edited for ad accounts created by your business', '[m10n]bizAccess.business.partner.editTooltip', 'tooltip if you cannot edit permissions'),children:g}):(0,v.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",width:"100%",children:(0,v.jsx)(r.xu,{"data-test-id":"edit-partner-ad-accounts-assignment-disabled-".concat(o.id),children:(0,v.jsx)(r.u,{text:u._('Edit permissions', '[m10n[m10n]bizAccess.business.partner.edit.enabled.tooltip', 'Text displayed on hover for edit permissions to edit partner ad account roles'),children:g})})})})})};function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ee(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ee(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var er=function(e){var t=e.data,n=e.colDef;return(0,v.jsxs)(r.kC,{children:[(0,v.jsx)(J,{colDef:n,data:en({},t),dataToRefresh:"HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"}),(0,v.jsx)(V.Z,{assignmentType:"PARTNER",data:en({},t),dataToRefresh:"HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"})]})},es=function(e){var t,n=(0,c.Z)(),s=e.data,o=e.colDef,a=(0,I.nU)(),i=(0,I.nU)(!0),l=a||i,u=(0,I.HU)().setEditAdAccountAccessModal,d=(0,Z.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),_=(0,H.TH)();return(0,v.jsx)(r.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:(0,v.jsx)(r.xu,{bottom:!0,"data-test-id":"edit-account-role-button-".concat(s.asset.id),display:"flex",children:(0,v.jsx)(r.hU,{accessibilityLabel:n._('Edit Account Access', '[m10n]bizAccess.business.person.access.edit', 'edit person roles for business'),icon:"edit",iconColor:"darkGray",onClick:function(){(0,G.dK)(_)&&d({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"employees-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"edit-ad-account-permission",ad_account_id:s.asset.id,employee_id:l}),u({resourceId:s.asset.id,principalId:l||"",dataToRefresh:"PEOPLE",assignmentType:"PEOPLE"})},size:null!=(t=null==o?void 0:o.iconSize)?t:"sm",tooltip:{text:n._('Edit permissions', '[m10n]bizAccess.table.account.person.edit_tooltip', 'Text displayed on hover for edit permissions to edit person roles')}})})})},eo=n(505633),ea=n(457223),ei=n(721703),el=n(254925),ec=n(396083),eu=function(e){var t,n=e.data,s=e.assetOrMemberType,o=e.colDef,a=e.icon,i=e.url,u=(0,H.s0)(),d=(0,c.Z)(),_=(0,l.I0)(),f=(0,I.KJ)(),m=(0,I.KJ)(!0),h=""===f?m:f,p=function(){if("PROFILE"===s)return d._('View profile', '[m10n]bizAccess.assetGroup.redirectProfile.tooltip', 'tooltip for button to redirect from asset group to profile');if("AD_ACCOUNT"===s)return d._('Go to ad account', '[m10n]bizAccess.assetGroup.redirectAdAccount.tooltip', 'tooltip for button to redirect from asset group to ad account');if("PEOPLE"===s)return d._('View employee', '[m10n]bizAccess.assetGroup.redirectEmployee.tooltip', 'tooltip for button to redirect from asset group to employee');if("SYSTEM_USER"===s)return d._('View system user', '[m10n]bizAccess.assetGroup.redirectSystemUser.tooltip', 'tooltip for button to redirect from asset group to system user');if("PARTNER"===s)return d._('View partner', '[m10n]bizAccess.assetGroup.redirectPartner.tooltip', 'tooltip for button to redirect from asset group to partner');if("CATALOG"===s)return d._('View catalog', '[m10n]bizAccess.assetGroup.redirectCatalog.tooltip', 'tooltip for button to redirect from asset group to catalog');if("CONVERSION_SEGMENT"===s)return d._('View conversion segment', '[m10n]bizAccess.assetGroup.redirectConversionSegment.tooltip', 'tooltip for button to redirect from partner to conversion segment');else return""}();return(0,v.jsx)(r.u,{text:p,children:(0,v.jsx)(r.hU,{accessibilityLabel:"link",icon:null!=a?a:"arrow-up-right",onClick:function(){var e,t,r,o;i?(0,eo.Z)(i):"AD_ACCOUNT"===s?u((0,ea.Z)("AD_ACCOUNTS_DETAIL",h,null!=(e=n.id)?e:null==(t=n.asset)?void 0:t.id)):"PROFILE"===s?u((0,ea.Z)("PROFILES_DETAIL",h,null!=(r=n.profileId)?r:null==(o=n.asset)?void 0:o.id)):"PEOPLE"===s?u((0,ea.Z)("PEOPLE_DETAIL",h,n.id)):"SYSTEM_USER"===s?u((0,ea.Z)("SYSTEM_USERS",h,n.id)):"PARTNER"===s?u((0,ea.Z)("PARTNERS_DETAIL",h,n.id)):"CONVERSION_SEGMENT"===s?(_((0,el.UK)(n.id)),u((0,ea.Z)("CONVERSION_DATA",h))):"CATALOG"===s&&(0,eo.Z)((0,ei.Z)({site:"www",path:ec.eZ.replace(":catalog_id",n.id)}))},size:null!=(t=null==o?void 0:o.iconSize)?t:"sm"})})},ed=n(591786);function e_(e){return(e_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=e_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e_(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eh=function(e){var t=e.data,n=e.colDef,s=(0,ed.IZ)(t);return(0,v.jsxs)(r.kC,{children:[(0,v.jsx)(eu,{assetOrMemberType:"AD_ACCOUNT",colDef:n,data:t,url:s}),(0,v.jsx)(es,{colDef:n,data:em({},t)}),(0,v.jsx)(V.Z,{assignmentType:"PEOPLE",data:em({},t),dataToRefresh:"PEOPLE"})]})},ep=function(e){var t,n,s=e.data,o=e.colDef,a=(0,c.Z)(),i=(0,I.KJ)(),l=(0,I.KJ)(!0),u=(0,I.nU)(),d=(0,I.nU)(!0),_=u||d,f=null==(t=s.created_by)?void 0:t.id,m=(0,I.HU)().setEditAdAccountAccessModal,h=(0,Z.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),p=(0,H.TH)(),b=(i||l)!==f,y=(0,v.jsx)(r.hU,{accessibilityLabel:a._('Edit Account Access', '[m10n]bizAccess.business.partner.access.edit', 'edit partner roles for business'),disabled:b,icon:"edit",iconColor:"darkGray",onClick:function(){(0,G.dK)(p)&&h({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"partners-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"edit-button",ad_account_id:s.asset.id}),m({resourceId:s.asset.id,principalId:_||"",dataToRefresh:"PARTNER",assignmentType:"PARTNER"})},size:null!=(n=null==o?void 0:o.iconSize)?n:"sm"});return(0,v.jsx)(r.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:(0,v.jsx)(r.xu,{bottom:!0,"data-test-id":"edit-account-role-button-".concat(s.asset.id),display:"flex",children:b?(0,v.jsx)(r.u,{text:a._('Access can only be edited for ad accounts created by your business', '[m10n]bizAccess.business.partner.editTooltip', 'tooltip if you cannot edit permissions'),children:y}):(0,v.jsx)(r.u,{text:a._('Edit permissions', '[m10n]bizAccess.business.partner.access.edit.enabled.tooltip', 'tooltip text if you can edit permissions for partner'),children:y})})})};function eb(e){return(eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=eb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eb(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eb(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eA=function(e){var t=e.data,n=e.colDef,s=(0,ed.IZ)(t);return(0,v.jsxs)(r.kC,{children:[(0,v.jsx)(eu,{assetOrMemberType:"AD_ACCOUNT",colDef:n,data:t,url:s}),(0,v.jsx)(ep,{colDef:n,data:ev({},t)}),(0,v.jsx)(V.Z,{assignmentType:"PARTNER",colDef:n,data:ev({},t),dataToRefresh:"PARTNER"})]})},eg=function(e){var t,n=e.data,s=e.colDef,o=(0,c.Z)(),a=(0,I.HU)().setEditPersonRoleModal,i=(0,Z.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),l=(0,H.TH)(),u=(0,v.jsx)(r.hU,{accessibilityLabel:o._('Edit Employee', '[m10n]bizAccess.business.person.edit', 'edit employee permissions for the business'),icon:"edit",iconColor:"darkGray",onClick:function(){(0,G.dK)(l)&&i({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"employees-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",employee_id:n.id}),a({selectedId:n.id})},size:null!=(t=null==s?void 0:s.iconSize)?t:"xs",tooltip:{text:o._('Edit employee', '[m10n]bizAccess.business.person.edit.employee.tooltip', 'edit employee for the business')}});return(0,v.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,v.jsx)(r.xu,{"data-test-id":"edit-person-".concat(n.id),children:u})})})},eS=function(e){var t,n=e.value,s=e.data,a=e.colDef,i=(0,c.Z)(),l=(0,o.Z)(),u=l.isAuth?l.id:"",d=(0,I.HU)().setRemovePersonModal,_=(0,Z.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),f=(0,H.TH)();if(s.is_pin_support_user)return null;var m=(0,v.jsx)(r.hU,{accessibilityLabel:i._('Remove Person', '[m10n]bizAccess.business.person.remove', 'remove person from business'),disabled:u===s.id||u===n,icon:"remove",iconColor:"darkGray",onClick:function(){(0,G.dK)(f)&&_({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"employees-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",employee_id:n||s.id}),d({selectedId:n||s.id})},size:null!=(t=null==a?void 0:a.iconSize)?t:"xs",tooltip:u===s.id?{text:i._('You cannot remove yourself', '[m10n]bizAccess.business.person.removeTooltip', 'tooltip if you try to remove yourself')}:{text:i._('Remove employee', '[m10n]bizAccess.business.person.remove.employee.tooltip', 'remove employee from business')}});return(0,v.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,v.jsx)(r.xu,{"data-test-id":"remove-person-".concat(s.id),children:u===s.id?(0,v.jsx)(r.u,{text:i._('You cannot remove yourself', '[m10n]bizAccess.business.person.removeTooltip', 'tooltip if you try to remove yourself'),children:m}):m})})})};function ex(e){return(ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eP=function(e){var t=e.data,n=e.colDef;return(0,v.jsxs)(r.kC,{children:[(0,v.jsx)(eg,{colDef:n,data:t}),(0,v.jsx)(eS,{colDef:n,data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eE(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=ex(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ex(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ex(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t),value:t.id})]})},eI=n(552263);function eT(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function eC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eO=function(e){var t,n,s,o=e.data,a=(0,c.Z)(),l=null==o?void 0:o.ad_account_name,d=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eC(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eC(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=d[0],f=d[1],m=(0,I.KJ)(),h=(n=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 2:case"end":return e.stop()}},e)}),s=function(){var e=this,t=arguments;return new Promise(function(r,s){var o=n.apply(e,t);function a(e){eT(o,r,s,a,i,"next",e)}function i(e){eT(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return s.apply(this,arguments)});return(0,v.jsxs)(r.xu,{children:[(0,v.jsx)(r.hU,{accessibilityLabel:(0,u.nk)(a._('Edit audience sharing expiration date for account {{ accountName }}', '[m10n]businessAccess.audienceSharing.actions.edit.expiration.accessibilityLabel', 'Indicates ad account name for edit audience expiration icon button, accountName: name of shared ad account'),{accountName:l}).join(""),icon:"edit",onClick:function(){f(!0)},size:"sm",tooltip:{text:a._('Edit access to audience expiration date', '[m10n]businessAccess.audienceSharing.actions.editExpirationToolTip', 'Tooltip for icon button to edit expiration date of a shared audience from an ad account')}}),_&&o&&(0,v.jsx)(x,{audience:o,businessId:m,handleDismissEditAccessModal:function(){f(!1)},onEditSubmitSuccess:h,recipientAccount:{account_id:o.advertiser_id||"",account_type:"AD_ACCOUNT"}})]})},ej=n(502225),ez=n(555787);function ew(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function eN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eR=function(e){var t,n,o,a=e.data,d=(0,c.Z)(),_=(0,I.KJ)(),f=(0,l.I0)(),m=(0,H.TH)().pathname.includes("shared"),h=(0,eI.Z)().inRmnFoundations,p=(0,s.NM)().actingBusiness,b=null==a?void 0:a.ad_account_name,y=(0,I.nU)(),A=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eN(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eN(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=A[0],S=A[1],x=(0,l.v9)((0,ez.BK)(y)).user,E=m?y:_,P=m?(null==x?void 0:x.full_name)||"":(null==p?void 0:p.name)||"",T=(n=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a&&f((0,ej.zQ)({businessId:_,partnerId:y,partnerType:m?"EXTERNAL":"INTERNAL"})),e.abrupt("return",Promise.resolve());case 2:case"end":return e.stop()}},e)}),o=function(){var e=this,t=arguments;return new Promise(function(r,s){var o=n.apply(e,t);function a(e){ew(o,r,s,a,i,"next",e)}function i(e){ew(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return o.apply(this,arguments)});return(0,v.jsxs)(r.xu,{children:[(0,v.jsx)(r.hU,{accessibilityLabel:(0,u.nk)(d._('Revoke access to this audience for account {{ accountName }}', '[m10n]bizAccess.audienceSharing.actions.accessibilityLabel', 'Indicates ad account name for revoke ad account icon button, accountName: name of share ad account'),{accountName:b}).join(""),icon:"remove",onClick:function(){S(!0)},size:"sm",tooltip:{text:d._('Revoke access to audience', '[m10n]bizAccess.audienceSharing.actions.revokeToolTup', 'Tooltip for icon button to revoke a shared audience from an ad account')}}),g&&a&&(0,v.jsx)(R.Z,{audience:a,handleDismissRevokeAccessModal:function(){S(!1)},onRevokeSubmitSuccess:T,recipientAccount:{account_id:h?E:a.advertiser_id||"",account_name:h?P:a.ad_account_name||"",account_type:h?"BUSINESS_ACCOUNT":"AD_ACCOUNT"},revokerAccountId:_,revokerAccountType:D.Q5.BUSINESS_ACCOUNT,revokerIsAudienceRecipient:!1})]})},eD=function(e){var t=e.data,n=(0,a.Z)().checkExperiment,s=(0,eI.Z)(),o=s.isRmnBusiness,i=s.isBrandBusiness,l=s.inRmnFoundations,c=n("business_access_rmn_audience_beta").anyEnabled;return o||i||l?(0,v.jsxs)(r.kC,{children:[c&&o&&(0,v.jsx)(eO,{data:t}),(0,v.jsx)(eR,{data:t})]}):null},ek=function(e){var t,n,s,o=e.data,i=e.colDef,l=(0,c.Z)(),u=(0,Z.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),d=(0,H.TH)(),_=(0,I.KJ)(),f=(0,I.KJ)(!0),m=_||f,h=(0,I.HU)().setRemoveSharedAdAccountModal,p=null==(t=o.created_by)?void 0:t.id,b=null==(n=o.client_business)?void 0:n.id,y=(0,(0,a.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled;if(o.is_pin_support_user)return null;var A=(0,v.jsx)(r.hU,{accessibilityLabel:l._('Remove Ad Account', '[m10n]bizAccess.business.ad_account.remove', 'remove ad account from business'),disabled:!!y||m===p||!!b,icon:"remove",iconColor:"darkGray",onClick:function(){m!==p&&((0,G.dK)(d)&&u({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"adAccount-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-adAccount-cell",asset_id:o.asset.id}),h({assetId:o.asset.id,refreshData:null==i?void 0:i.refreshData}))},size:null!=(s=null==i?void 0:i.iconSize)?s:"xs"});return(0,v.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,v.jsx)(r.xu,{"data-test-id":"remove-adAccount-".concat(o.asset.id),children:m===p||b||y?(0,v.jsx)(r.u,{text:y?l._('The ability to remove ad accounts is not yet available on this page', '[m10n]bizAccess.business.ad_account.removeTooltipSharedAdAccount', 'tooltip if you try to remove an ad account that is shared with you'):m===p?l._('You cannot remove ad accounts you have created. Contact support to learn more', '[m10n]bizAccess.business.ad_account.removeTooltip', 'tooltip if you try to remove an ad account you created'):b?l._('You cannot remove agency owned ad accounts. Contact support to learn more', '[m10n]bizAccess.business.ad_account.removeTooltipAoaa', 'tooltip if you try to remove an ad account that is agency owned'):"",children:A}):(0,v.jsx)(r.u,{text:l._('Remove ad account', '[m10n]bizAccess.business.ad_account.remove.enabled.tooltip', 'tooltip if you are allowed to delete the ad account'),children:A})})})})},eL=function(e){var t=e.data,n=e.assetOrMemberType,s=(0,I.HU)().setRemoveAssetFromTag,o=(0,c.Z)(),a=(0,Z.ZP)("BUSINESS_ACCESS_SHARED_TAGS"),i="AD_ACCOUNT"===n?o._('Remove the Pinterest tag from your ad account', '[m10n]bizAccess.share.tag.removeAdAccount.tooltip', 'tooltip for button to remove ad account from shared tag'):"";return(0,v.jsx)(r.u,{text:i,children:(0,v.jsx)(r.xu,{"data-test-id":"remove-asset-from-tag-".concat(t.id||t.tagId||""),children:(0,v.jsx)(r.hU,{accessibilityLabel:o._('Icon for link to remove item', '[m10n]businessAccess.share.tag.removeCell', 'Accessibility label for remove item action table cell'),icon:"remove",onClick:function(){a({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"share-tag-ad-account-remove-cell",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-ad-account-revoke"}),s({assetOrMemberType:n,toRemove:t})},size:"sm"})})})},eU=function(e){var t=e.data,n=e.colDef,s=(0,c.Z)(),o=(0,I.HU)().setRevokeCatalogAccessModal,a=(0,v.jsx)(r.hU,{accessibilityLabel:s._('Remove permissions', '[m10n]businessAccess.business.person.remove', 'Remove a user\'s permissions'),disabled:!1,icon:"remove",iconColor:"darkGray",onClick:function(){o({data:t,refreshData:null==n?void 0:n.refreshData,source:null==n?void 0:n.source})},size:"xs",tooltip:{text:s._('Remove permissions', '[m10n]businessAccess.business.user.permissions.remove.tooltip', 'Text displayed on hover to remove a user\'s permissions on account')}});return(0,v.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,v.jsx)(r.xu,{"data-test-id":"remove-catalog-access-".concat(t.id||""),children:a})})})},eB=function(e){var t=e.data,n=e.conversionDataType,s=(0,I.HU)().setRemoveConversionDataModal,o=(0,c.Z)(),a="CONVERSION_TYPE"===n?o._('Remove conversion type', '[m10n]bizAccess.conversionData.removeConversionType.tooltip', 'tooltip for button to remove conversion type'):o._('Remove product ID', '[m10n]bizAccess.conversionData.removeProductId.tooltip', 'tooltip for button to remove product ID'),i="CONVERSION_TYPE"===n?t.conversionId||t.eventName||"unknown":t;return(0,v.jsx)(r.u,{text:a,children:(0,v.jsx)(r.xu,{"data-test-id":"remove-conversion-data-".concat(i),children:(0,v.jsx)(r.hU,{accessibilityLabel:o._('Remove item', '[m10n]bizAccess.conversionData.removeItem.accessibility', 'Accessibility label for remove item button'),icon:"remove",onClick:function(){return s({conversionDataType:n,itemToRemove:t})},size:"xs"})})})},eM=n(189578);function eH(e){return(eH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eG=function(e){var t=e.data,n=e.colDef,s=(0, c.Z)()._('Remove profile access', '[m10n]businessAccess.businessHierarchy.table.employee.profile.remove_tooltip', 'Remove an employee\'s permission to a profile');return(0,v.jsxs)(r.kC,{children:[(0,v.jsx)(eu,{assetOrMemberType:"PROFILE",colDef:n,data:t}),(0,v.jsx)(eM.Z,{colDef:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eZ(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=eH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eH(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eH(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({tooltipInfo:s},n),data:t})]})},eF=function(e){var t=e.data,n=(0,I.HU)().setRemoveSystemUserFromApp,s=(0,c.Z)(),o=s._('Remove system user', '[m10n]bizAccess.app.removeSystemUser.tooltip', 'tooltip for button to remove system user from app');return(0,v.jsx)(r.u,{text:o,children:(0,v.jsx)(r.xu,{"data-test-id":"remove-system-user-from-app-".concat(t.id||""),children:(0,v.jsx)(r.hU,{accessibilityLabel:s._('Icon for button to remove system user from app', '[m10n] businessAccess.app.removeCell', 'Accessibility label for button to remove remove system user from app table cell'),icon:"remove",onClick:function(){return n({toRemove:t})},size:"xs"})})})},eY=function(e){var t=e.data,n=e.assetOrMemberType,s=(0,I.HU)(),o=s.setRemoveAssetOrUserFromAssetGroup,a=s.setRemoveConversionSegmentModal,i=(0,c.Z)(),l=(0,I.KJ)(),u=function(){if("PROFILE"===n)return i._('Remove profile', '[m10n]bizAccess.assetGroup.removeProfile.tooltip', 'tooltip for button to remove profile from asset group');if("AD_ACCOUNT"===n)return i._('Remove ad account', '[m10n]bizAccess.assetGroup.removeAdAccount.tooltip', 'tooltip for button to remove ad account from asset group');if("PEOPLE"===n)return i._('Remove employee', '[m10n]bizAccess.assetGroup.removeEmployee.tooltip', 'tooltip for button to remove employee from asset group');if("SYSTEM_USER"===n)return i._('Remove system user', '[m10n]bizAccess.assetGroup.removeSystemUser.tooltip', 'tooltip for button to remove system user from asset group');if("PARTNER"===n)return i._('Remove partner', '[m10n]bizAccess.assetGroup.removePartner.tooltip', 'tooltip for button to remove partner from asset group');if("CATALOG"===n)return i._('Remove catalog', '[m10n]bizAccess.assetGroup.removeCatalog.tooltip', 'tooltip for button to remove catalog from asset group');if("CONVERSION_TYPE"===n)return i._('Remove conversion type', '[m10n]bizAccess.assetGroup.removeConversionType.tooltip', 'tooltip for button to remove conversion type');else if("SOURCE_DATA"===n)return i._('Remove product', '[m10n]bizAccess.assetGroup.removeProduct.tooltip', 'tooltip for button to remove product from conversion segment');else if("CONVERSION_SEGMENT"===n)return i._('Remove conversion segment', '[m10n]bizAccess.assetGroup.removeConversionSegment.tooltip', 'tooltip for button to remove conversion segment');else return""}();return(0,v.jsx)(r.u,{text:u,children:(0,v.jsx)(r.xu,{"data-test-id":"remove-asset-from-asset-group-".concat(t.id||t.profileId||""),children:(0,v.jsx)(r.hU,{accessibilityLabel:i._('Icon for link to remove item', '[m10n] businessAccess.assetGroups.removeCell', 'Accessibility label for remove item action table cell'),icon:"remove",onClick:function(){return"CONVERSION_SEGMENT"===n?a({partnerId:l,conversionId:t.id}):o({assetOrMemberType:n,toRemove:t})},size:"xs"})})})},eV=function(e){var t=e.data,n=e.assetOrMemberType,s=e.colDef;return(0,v.jsxs)(r.kC,{children:[(0,v.jsx)(eu,{assetOrMemberType:n,colDef:s,data:t}),(0,v.jsx)(eY,{assetOrMemberType:n,data:t})]})},eq=function(e){var t=e.data,n=(0,c.Z)(),s=(0,Z.ZP)("BUSINESS_ACCESS_SHARED_TAGS"),o=(0,(0,a.Z)().checkExperiment)("web_m10n_business_access_agency_tag_sharing").anyEnabled,i=n._('Go to create audience page button', '[m10n]bizAccess.share.tag.create.audience.a11y', 'accessibility label to go to create audience page'),l=!o||t.ownedOrEnabled,u=l?n._('Leave Business Manager to create an audience for this ad account', '[m10n]bizAccess.share.tag.create.audience.link', 'tooltip for button to redirect from tag sharing to audience page'):n._('You do not have permissions to view audiences for this ad account', '[m10n]bizAccess.share.tag.create.audience.disabled.link', 'tooltip for disabled button to redirect from tag sharing to audience page');return(0,v.jsx)(r.u,{text:u,children:l?(0,v.jsx)(r.I_,{accessibilityLabel:i,href:"".concat(z.vI,"/advertiser/").concat(t.id,"/audiences/"),icon:"insights-audience",onClick:function(){s({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"share-tag-ad-account-create-audience-cell",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-ad-account-create-audience"})},size:"sm"}):(0,v.jsx)(r.hU,{accessibilityLabel:i,disabled:!0,icon:"insights-audience",size:"sm"})})},eQ=function(e){var t=e.data,n=(0,c.Z)(),s=(0,Z.ZP)("BUSINESS_ACCESS_SHARED_TAGS"),o=(0,(0,a.Z)().checkExperiment)("web_m10n_business_access_agency_tag_sharing").anyEnabled,i=n._('Go to create campaign page button', '[m10n]bizAccess.share.tag.create.campaign.a11y', 'accessibility label to go to create campaign page'),l=!o||t.ownedOrEnabled,u=l?n._('Leave Business Manager to create a campaign for this ad account', '[m10n]bizAccess.share.tag.create.campaign.link', 'tooltip for button to redirect from tag sharing to create campaign'):n._('You do not have permissions to create campaigns for this ad account', '[m10n]bizAccess.share.tag.create.campaign.disabled.link', 'tooltip for disabled button to redirect from tag sharing to create campaign');return(0,v.jsx)(r.u,{text:u,children:l?(0,v.jsx)(r.I_,{accessibilityLabel:i,href:"".concat(z.vI,"/advertiser/").concat(t.id,"/ads/create/"),icon:"ads-overview",onClick:function(){s({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"share-tag-ad-account-create-campaign-cell",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-ad-account-create-campaign"})},size:"sm"}):(0,v.jsx)(r.hU,{accessibilityLabel:i,disabled:!0,icon:"ads-overview",size:"sm"})})};function eW(e){return(eW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eX(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=eW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eW(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eW(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e$=function(e){var t=e.data,n=e.assetOrMemberType;return(0,v.jsxs)(r.kC,{children:[(0,v.jsx)(eq,{data:eK({},t)}),(0,v.jsx)(eQ,{data:eK({},t)}),(0,v.jsx)(eL,{assetOrMemberType:n,data:eK({},t)})]})};function eJ(e){return(eJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var e1=function(e){var t=e.data,n=e.colDef,s=(0,ed.IZ)(t),o=(0,I.MC)();if(o&&o.user.id&&s){var a=new URL(s);a.searchParams.append("actingBusinessId",o.user.id),s=a.toString()}return(0,v.jsxs)(r.kC,{children:[(0,v.jsx)(eu,{assetOrMemberType:"AD_ACCOUNT",colDef:n,data:t,url:s}),(0,v.jsx)(ek,{colDef:n,data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e0(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=eJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eJ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eJ(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)})]})};function e2(e){return(e2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var e6=function(e){var t=e.data,n=e.colDef,s=(0,ed.IZ)(t);return(0,v.jsxs)(r.kC,{children:[(0,v.jsx)(eu,{assetOrMemberType:"AD_ACCOUNT",colDef:n,data:t,url:s}),(0,v.jsx)(ek,{colDef:n,data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e5(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=e2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e2(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e2(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)})]})},e3=function(e){var t,n,s,o=e.data,a=(0,eI.Z)().inRmnFoundations,i=(0,c.Z)(),u=(0,I.KJ)(),d=(0,I.HU)(),_=d.setRemovePartnerModal,f=d.setRemoveSharedPartnerModal,m=d.businessAccess.isActingUserReseller,h=!!(null!=o&&null!=(t=o.assets_summary)&&null!=(n=t.ad_accounts)&&n.length)&&((null==o?void 0:o.is_reseller)||!!m),p=a&&("RMN"===o.rmn_or_brand||"BRAND"===o.rmn_or_brand),b=(0,l.v9)(K.AG).includes(o.id)||h||p,y=null==(s=o.created_by_business)?void 0:s.id;if(o.is_pin_support_user)return null;var A=(0,v.jsx)(r.hU,{accessibilityLabel:i._('Remove Partner', '[m10n]bizAccess.business.partner.remove', 'remove partner from business'),disabled:b,icon:"remove",iconColor:"darkGray",onClick:function(){u===y?_({businessId:u,partnerId:o.id}):f({businessId:u,partnerId:o.id})},size:"xs"}),g=i._('Remove partner', '[m10n]bizAccess.business.partner.remove.tooltip', 'Tooltip with text to remove partner from business');return b&&(g=p?i._('Removing your retail media network partner is not allowed at this time', '[m10n]bizAccess.business.partner.remove.rmn.tooltip.disabled', 'Tooltip with text to say remove partner from business disabled because partner is associated with RMN or BRAND'):i._('Contact support to remove this partnership', '[m10n]bizAccess.business.partner.remove.tooltip.disabled', 'Tooltip with text to say remove partner from business disabled because partner is associated with an agency owned ad account')),(0,v.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,v.jsx)(r.xu,{"data-test-id":"remove-partner-".concat(o.id),children:(0,v.jsx)(r.u,{text:g,children:A})})})})},e8=function(e){var t=e.data,n=e.colDef,s=(0,c.Z)(),o=(0,H.TH)(),a=(0,I.nU)(!0),i=(0,I.HU)().setRemoveProfilePermissionsModal,l=(0,Z.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY");if(t.is_pin_support_user)return null;var u=(0,v.jsx)(r.xu,{"data-test-id":"remove-partner-profile-detail-".concat(t.user.id),children:(0,v.jsx)(r.hU,{accessibilityLabel:s._('Remove permissions', '[m10n]bizAccess.business.person.remove', 'Remove a user\'s permissions'),icon:"remove",iconColor:"darkGray",onClick:function(){(0,G.dK)(o)&&l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"profiles-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-partner-from-profile",profile_id:a}),i({userData:t.user,selectionType:j.Hl.PARTNER,profileId:a,refreshData:null==n?void 0:n.refreshData})},size:"xs",tooltip:{text:s._('Remove permissions', '[m10n]bizAccess.business.person.remove.tooltip', 'Text displayed on hover to remove partner permissions')}})});return(0,v.jsx)(r.xu,{children:u})},e4=function(e){var t,n,s=e.data,a=e.colDef,i=(0,c.Z)(),l=(0,H.TH)(),u=(0,I.nU)(!0),d=s.asset&&s.asset.id?s.asset.id:u,_=(0,o.Z)(),f=(_.isAuth?_.id:"")===s.user.id,m=(0,I.HU)().setRemoveProfilePermissionsModal,h=(0,Z.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY");if(s.is_pin_support_user)return null;var p=(0,v.jsx)(r.xu,{"data-test-id":"remove-system-user-profile-detail-".concat(s.user.id),children:(0,v.jsx)(r.hU,{accessibilityLabel:i._('Remove permissions', '[m10n]bizAccess.business.system-user.remove', 'Remove a system user\'s permissions'),disabled:f,icon:"remove",iconColor:"darkGray",onClick:function(){var e;(0,G.dK)(l)&&h({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"profiles-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-system-user-from-profile",profile_id:d}),m({userData:s.user,selectionType:j.Hl.SYSTEM_USER,profileId:d,profileName:(null==(e=s.asset)?void 0:e.name)||void 0,dataToRefresh:s.asset&&s.asset.id?"SYSTEM_USERS":"PROFILE_SYSTEM_USERS",refreshData:null==a?void 0:a.refreshData})},size:null!=(t=null==a?void 0:a.iconSize)?t:"xs",tooltip:{text:null!=(n=null==a?void 0:a.tooltipInfo)?n:i._('Remove permissions', '[m10n]bizAccess.table.account.system-user.remove_tooltip', 'Remove a user\'s permissions')}})});return(0,v.jsx)(r.xu,{children:(0,v.jsx)(r.xu,{"data-test-id":"remove-system-user-profile-".concat(d),children:f?(0,v.jsx)(r.u,{text:i._('You cannot remove yourself', '[m10n]bizAccess.business.system-user.removeTooltip', 'tooltip if you try to remove yourself'),children:p}):p})})},e7=n(594110);function e9(e){var t=e.text,n=e.onClick,s=e.hide,o=e.item,a=e.disabled,i=e.color,l=t&&"function"==typeof t?t(o):t,c=a&&"function"==typeof a?a(o):a,u=s&&"function"==typeof s?s(o):s,d=i&&"function"==typeof i?i(o):i;return!u&&(0,v.jsx)(r.zx,{color:d,disabled:c,onClick:function(){return n(o)},size:"sm",text:l})}var te=n(876884),tt=["justifying","headerName","width"];function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=tn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tn(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tn(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var to=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PEOPLE",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"REMOVE",s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=function(){return(0,v.jsx)(r.xu,{})};return"PARTNER"===t?"EDIT"===n?i=J:"REMOVE"===n?i=e3:"REMOVE_PARTNER_PROFILE_PERMISSIONS"===n?i=e8:"EDIT_OR_REMOVE_AD_ACCOUNT_PERMISSION"===n?i=er:"EDIT_OR_REVOKE_AUDIENCE_PERMISSION"===n?i=eD:"REVOKE_CATALOG_PERMISSIONS"===n&&(i=eU):"PEOPLE"===t?"EDIT"===n?i=Y:"EDIT_OR_REMOVE"===n?i=eP:"REMOVE"===n?i=eS:"REMOVE_EMPLOYEE_PROFILE_PERMISSIONS"===n?i=eM.Z:"EDIT_OR_REMOVE_AD_ACCOUNT_PERMISSION"===n&&(i=X):"SYSTEM_USERS"===t?"REMOVE_SYSTEM_USER_PROFILE_PERMISSIONS"===n&&(i=e4):"AD_ACCOUNT"===t?(i=ek,"REMOVE"===n?i=ek:"REMOVE_OR_LINK"===n?i=e1:"EDIT_OR_REMOVE_OR_LINK_EMPLOYEE_PERMISSION"===n?i=eh:"REMOVE_OR_LINK_PARTNER_PERMISSION"===n?i=e6:"EDIT_OR_REMOVE_OR_LINK_PARTNER_PERMISSION"===n?i=eA:"LINK"===n&&(i=function(e){return(0,v.jsx)(eu,ts(ts({},e),{},{assetOrMemberType:"AD_ACCOUNT",icon:"visit"}))})):"PROFILE"===t?"REMOVE_EMPLOYEE_PROFILE_PERMISSION_OR_LINK"===n&&(i=eG):"ASSET_GROUP_PROFILE"===t?"REMOVE"===n?i=function(e){return(0,v.jsx)(eY,ts(ts({},e),{},{assetOrMemberType:"PROFILE"}))}:"REMOVE_OR_LINK"===n&&(i=function(e){return(0,v.jsx)(eV,ts(ts({},e),{},{assetOrMemberType:"PROFILE"}))}):"TAG_AD_ACCOUNT"===t?(i=eL,"REMOVE_OR_LINK"===n&&(i=function(e){return(0,v.jsx)(e$,ts(ts({},e),{},{assetOrMemberType:"AD_ACCOUNT"}))})):"ASSET_GROUP_AD_ACCOUNT"===t?(i=eY,"REMOVE_OR_LINK"===n&&(i=function(e){return(0,v.jsx)(eV,ts(ts({},e),{},{assetOrMemberType:"AD_ACCOUNT"}))})):"ASSET_GROUP_CATALOG"===t?(i=eY,"REMOVE_OR_LINK"===n&&(i=function(e){return(0,v.jsx)(eV,ts(ts({},e),{},{assetOrMemberType:"CATALOG"}))})):"ASSET_GROUP_EMPLOYEE"===t?"REMOVE"===n?i=function(e){return(0,v.jsx)(eY,ts(ts({},e),{},{assetOrMemberType:"PEOPLE"}))}:"REMOVE_OR_LINK"===n&&(i=function(e){return(0,v.jsx)(eV,ts(ts({},e),{},{assetOrMemberType:"PEOPLE"}))}):"ASSET_GROUP_SYSTEM_USER"===t?"REMOVE"===n?i=function(e){return(0,v.jsx)(eY,ts(ts({},e),{},{assetOrMemberType:"SYSTEM_USER"}))}:"REMOVE_OR_LINK"===n&&(i=function(e){return(0,v.jsx)(eV,ts(ts({},e),{},{assetOrMemberType:"SYSTEM_USER"}))}):"ASSET_GROUP_PARTNER"===t?"REMOVE_OR_LINK"===n&&(i=function(e){return(0,v.jsx)(eV,ts(ts({},e),{},{assetOrMemberType:"PARTNER"}))}):"AUDIENCE_SHARING"===t?i=function(e){return(0,v.jsx)(B,ts(ts({},e),{},{action:n}))}:"APP_SYSTEM_USER"===t?"REMOVE_OR_LINK"===n&&(i=function(e){return(0,v.jsx)(eF,ts({},e))}):"CONVERSION_TYPE"===t?"REMOVE"===n&&(i=function(e){return(0,v.jsx)(eB,ts(ts({},e),{},{conversionDataType:"CONVERSION_TYPE"}))}):"CONVERSION_SEGMENT"===t?"REMOVE_OR_LINK"===n&&(i=function(e){return(0,v.jsx)(eV,ts(ts({},e),{},{assetOrMemberType:"CONVERSION_SEGMENT"}))}):"SOURCE_DATA"===t&&"REMOVE"===n&&(i=function(e){return(0,v.jsx)(eB,ts(ts({},e),{},{conversionDataType:"SOURCE_DATA"}))}),{field:"id",headerName:null!=s&&s.hideHeader?void 0:e._('Actions', '[m10n]bizAccess.business.people.actions', 'column of actions that can be taken on user'),width:null==s?void 0:s.width,minWidth:e7.I.columnWidths.sm,TableCellComponent:i,valueGetter:function(e){var t=e.user;return(t=void 0===t?{}:t).id},justifying:"center",onHoverOnly:null==s?void 0:s.onHoverOnly,preventColumnRowClick:!0,refreshData:o,iconSize:null==s?void 0:s.iconSize,source:a}};function ta(e){var t="button"===e.type?e.actions.map(function(t){return(0,i.createElement)(e9,ts(ts({},t),{},{key:t.key,item:e.item}))}):e.actions.map(function(t){return(0,i.createElement)(te.D,ts(ts({},t),{},{key:t.key,item:e.item}))});return(0,v.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",width:"100%",children:t})}function ti(e,t){var n=t.justifying,r=t.headerName,s=t.width,o=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(t,tt);return{preventColumnRowClick:!0,field:"id",justifying:void 0===n?"center":n,headerName:r,width:s,TableCellComponent:M.Z,minWidth:e7.I.columnWidths.sm,valueGetter:function(e){return"button"===o.type?(0,v.jsx)(ta,{actions:o.actions,item:e,type:"button"}):(0,v.jsx)(ta,{actions:o.actions,item:e,type:"icon"})}}}},813632:function(e,t,n){"use strict";var r=n(243610),s=n(719301),o=n(172608),a=n(594110);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.field,i=void 0===n?"updated_time":n,l=arguments.length>2?arguments[2]:void 0;return{field:i,headerName:e._('Date added', '[m10n]bizAccess.business.people.added_on', 'Table column title to indicate the date on which the person in this row is added. Cell values are in typical date formats'),TableCellComponent:o.Z,valueGetter:function(e){return null!=e&&e[i]?(0,r.Z)(e[i]/1e3).toLocaleDateString(l):a.I.noDataSymbol},sortable:!0,initialSortOrder:s.IR.ASCENDING,isActivelySorted:!1,minWidth:a.I.columnWidths.sm,justifying:"center"}}},283937:function(e,t,n){"use strict";var r=n(457223),s=n(143754),o=n(24246),a=n(216975),i=n(711538),l=n(594110),c=n(89446),u=n(680811);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=["PRODUCT","HOTEL","CREATIVE_ASSET"],h=function(e){var t,n,l,d,_=e.data,f=e.weight,h=e.clickable,p=e.hidesAvatar,b=void 0!==p&&p,y=e.size,v=e.imgSize,A=e.onClick,g=_.asset?_.asset:{id:null!=(t=_.asset_id||_.id||_.profileId)?t:"",name:null!=(n=_.name||_.profileName)?n:"",full_name:null!=(l=_.full_name)?l:"",image_small_url:null!=(d=_.image_small_url)?d:""},S=g.id,x=g.name,E=g.full_name,P=g.image_small_url,I=(0,o.Z)(),T=(0,c.KJ)(),C=_.asset_type&&"PROFILE"===_.asset_type,O=(0,r.Z)(C?"PROFILES_DETAIL":"AD_ACCOUNTS_DETAIL",T,S),j=(0,a.nk)(I._('ID: {{id}}', '[m10n]bizAccess.table.asset.idLabel', 'Label for asset id'),{id:S}).join(""),z=m.includes(_.type||"")?(0,a.nk)(I._('Type: {{type}}', '[m10n]businessAccess.table.type.label', 'catalog type. type: the catalog type or sub_type'),{type:(0,s.Ak)(I,_.type,_.resource_subtype)}).join(""):void 0;if(C)return(0,u.jsx)(i.Z,{size:y,text:E,weight:f});var w=_.asset_type&&"PINNER_LIST"===_.asset_type&&!x;return h?(0,u.jsx)(i.Z,{href:A?"":O,imageUrl:b?"":P,imgSize:v,onClick:A?function(){return A(_)}:void 0,size:y,subtext:j,subtext2:z,text:x,weight:f}):(0,u.jsx)(i.Z,{imageUrl:b?"":P,imgSize:v,size:y,subtext:w?"":j,subtext2:z,text:w?S:x,weight:f})};t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{weight:l.I.weights.bold,clickable:!0,size:"md"},n=t.weight,r=t.clickable,s=t.sortable,o=t.hidesAvatar,a=void 0===o||o,i=t.size,c=t.imgSize,d=t.headerName,_=t.onClick,m=t.minWidth,p=void 0===m?l.I.columnWidths.lg:m,b=t.width;return{field:"name",sortable:void 0===s||s,headerName:d||e._('Asset name', '[m10n]bizAccess.business.history.assetName', 'Name of asset that was changed'),TableCellComponent:function(e){return(0,u.jsx)(h,f(f({},e),{},{clickable:r,hidesAvatar:a,imgSize:c||i||"sm",onClick:_,size:i}))},width:b,minWidth:p,isActivelySorted:!0,weight:n,getMinHeight:function(e){var t,n=(e.asset?e.asset:{id:null!=(t=e.asset_id||e.id||e.profileId)?t:""}).id;return e.asset_type&&"PROFILE"===e.asset_type||!n?void 0:54}}}},84723:function(e,t,n){"use strict";var r=n(216975),s=n(711538),o=n(594110),a=n(680811);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=function(e){var t,n,o,i,l,c,u,d,_=e.i18n,f=e.data,m=e.isAoaaRequest,h=e.businessId,p=e.inRmnFoundations,b=void 0!==p&&p,y=null!=(t=null!=(n=null!=(o=null!=(i=null!=(l=null==(c=f.owner)?void 0:c.full_name)?l:null==(u=f.owner_business)?void 0:u.full_name)?i:f.profileOwnerName)?o:null==(d=f.owner)?void 0:d.name)?n:f.owner_name)?t:"",v=m&&f.owner_business&&f.owner_business.id===h||f.client_business&&f.client_business.id!==h;return(0,a.jsx)(s.Z,{size:"md",subtext:function(){if(v){var e;return(0,r.nk)(_._('Advertising for {{client_business_name}}', '[m10n]bizAccess.adAccountsTable.owner.clientBusinessName', 'client_business_name: Client business for agency owned ad account'),{client_business_name:null==(e=f.client_business)?void 0:e.full_name}).join("")}return b&&f.targeting_rmn_business_id&&f.targeting_rmn_business_id!==h?_._('Designated for Retail Media Network', '[m10n]bizAccess.adAccountsTable.owner.rmnBusiness', 'Text to indicate that the ad account is associated with a RMN business'):""}(),text:y,weight:"normal"})};t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isAoaaRequest:!1,inRmnFoundations:!1},n=t.isAoaaRequest,r=t.businessId,s=t.inRmnFoundations;return{field:"owner",headerName:e._('Owner name', '[m10n]bizAccess.business.ad_accounts.owner', 'Table column title to indicate name of the owning business of the associated ad account in this row'),TableCellComponent:function(t){return(0,a.jsx)(u,c(c({},t),{},{businessId:r,i18n:e,inRmnFoundations:s,isAoaaRequest:n}))},minWidth:o.I.columnWidths.md,getMinHeight:function(e){return n&&e.owner_business&&e.owner_business.id===r||e.client_business&&e.client_business.id!==r||s&&e.targeting_rmn_business_id?54:void 0}}}},738424:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(581722),s=n(719301),o=n(501010),a=n(387784),i=n(20256),l=n(143754),c=n(289935),u=n(924591),d=n(24246),_=n(856853),f=n(577356),m=n(969560),h=n(91912),p=n(791953),b=n(977188),y=n(591786),v=n(680811);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t,n=e.businessCatalogAssignedPermissionsMap,o=e.catalogDetailPageId,g=e.data,S=e.individualAssignedPermissionsMap,x=e.isAddingUser,E=e.isLoading,P=e.pageType,I=e.setShouldReloadTable,T=e.setShouldShowToast,C=e.shouldShowToast,O=e.updateCatalogPermission,j=e.useButtons,z=void 0===j||j,w=(0,d.Z)(),N=(0,r.I0)(),R=(0,f.dI)(),D=R.showToast,k=R.showOneToast,L=(0,a.useRef)(null),U="SYSTEM_USERS"===P,B="PEOPLE_DETAIL"===P,M="CATALOGS"===P,H=B||U||M&&n,Z=(B||"PARTNERS_DETAIL"===P||U)&&"asset"in g&&g.asset?null==(t=g.asset)?void 0:t.id:g.id,G=M&&o?o:Z,F="ASSET_GROUPS"===P,Y=F?[]:[s.kX.CATALOGS_VIEWER],V=(null==n?void 0:n[G])||Y,q=!(H?(0,h.s)(V):s.pk).includes("CATALOGS_MANAGER"),Q=A((0,a.useState)(!1),2),W=Q[0],X=Q[1],K=A((0,a.useState)(!1),2),$=K[0],J=K[1],ee=A((0,a.useState)(!1),2),et=ee[0],en=ee[1],er=S[Z]&&(S[Z]||[]).filter(function(e){return"CATALOGS_VIEWER"===e||"CATALOGS_MANAGER"===e})||Y,es=(0,r.v9)(b.MP),eo=A((0,a.useState)(er),2),ea=eo[0],ei=eo[1],el=(0,r.v9)(b.uX),ec=(0,r.v9)(b.Ir),eu=E||ec,ed=(0,r.v9)(b.Y0);function e_(e){if(en(!1),!e)return void ei(er);x||(N((0,p.Au)({id:Z})),N((0,p.Tb)({previousPermissions:S}))),O(Z,ea),null==I||I(!1),null==T||T({permissionsUpdateToast:!0})}"ASSET_GROUPS"!==P||0!==Object.keys(S).length&&S[Z]||O(Z,Y),(0,a.useEffect)(function(){(null!=C&&C.permissionsUpdateToast||null!=C&&C.errorToastOnly)&&!eu&&(null==I||I(!0),function(e){if(e&&!(0,_.Z)(e))D(function(e){var t=e.hideToast;return(0,v.jsx)(u.Z,{duration:s.QE,onHide:t,text:(0,l.sQ)(w),type:"error"})});else{if(x||null!=C&&C.errorToastOnly)return;k(function(e){var t=e.hideToast;return(0,v.jsx)(m.Z,{onHide:t,primaryAction:{accessibilityLabel:w._('Undo', '[m10n] businessAccess.assignPermissionsCell.toast.undo.accessibilityLabel', 'Accessbility label for Undo action on toast after updating permission'),label:w._('Undo', '[m10n] businessAccess.assignPermissionsCell.toast.undo.accessibilityLabel', 'Undo action on toast after updating permission'),onClick:function(){t(),es&&es[el]&&es[el].length>0&&(O(el,es[el]),null==I||I(!1),null==T||T({permissionsUpdateToast:!1,errorToastOnly:!0}))}}})})}}(ed),null==T||T({permissionsUpdateToast:!1}))},[eu]);var ef=w._('You have limited access to this asset', '[m10n] businessAccess.permissions.hasLimitedAccess', 'label to describe the user has limited access to this asset'),em=w._('No access', '[m10n]businessAccess.permissions.noAccess', 'label to describe no access to an asset'),eh=w._('Has no catalog access', '[m10n]bizAccess.business.people.roleDescription.noAccess', 'No catalogs permission type description'),ep=(0,v.jsxs)(i.xu,{ref:L,alignItems:"center",color:W&&"dark"||$&&"secondary"||"light",display:"flex",id:"".concat(Z,"-flyout"),justifyContent:"between",onMouseEnter:function(){return J(!0)},onMouseLeave:function(){return J(!1)},padding:2,rounding:2,width:240,children:[(0,v.jsx)(i.xv,{color:W?"inverse":"default",size:"200",children:null!=ea&&ea[0]?(0,y.e6)(w,!0)(ea[0]):em}),(0,v.jsx)(function(e){var t=e.color;return(0,v.jsx)(i.hU,{accessibilityLabel:w._('Change access permissions arrow icon button', '[m10n]bizAccess.business.accessRolesEditorFlyout', 'Click to change access permissions for an ad account'),bgColor:"transparent",icon:"arrow-down",iconColor:void 0===t?"darkGray":t,onClick:function(){return X(!W)},size:"xs"})},{color:W?"white":"darkGray"})]});return eu&&Z===el&&!x?(0,v.jsx)(i.kC,{alignItems:"center",gap:2,justifyContent:"center",width:240,children:(0,v.jsx)(i.xH,{accessibilityLabel:(0,l.hC)(w),delay:!1,show:!0,size:"lg"})}):(0,v.jsxs)(i.xu,{children:[(0,v.jsx)(i.iP,{accessibilityControls:"menu",accessibilityExpanded:W,accessibilityHaspopup:!0,accessibilityLabel:w._('Change access permissions', '[m10n]bizAccess.business.accessRolesEditorFlyout', 'Click to change access permissions for an ad account'),onTap:function(){W||X(!W),e_(!1)},children:ep}),W&&(0,v.jsx)(i.mh,{zIndex:c.b7,children:(0,v.jsx)(i.J2,{anchor:L.current,id:Z,idealDirection:"down",onDismiss:function(){e_(!z),X(!1)},size:"flexible",children:(0,v.jsxs)(i.xu,{padding:z?2:4,width:240,children:[(0,v.jsxs)(i.FX,{id:"catalog-permission-selector",legend:q?ef:"",children:[s.pk.map(function(e){return(0,v.jsxs)(i.kC,{direction:"column",justifyContent:"between",width:"100%",children:[(0,v.jsxs)(i.xu,{alignItems:"center",display:"flex",marginBottom:2,children:[(0,v.jsx)(i.xv,{size:"200",children:"CATALOGS_MANAGER"===e?w._('Full access', '[m10n]businessAccess.permissions.fullAccess', 'label to describe full access to an asset'):w._('Partial access', '[m10n]businessAccess.permissions.fullAccess', 'label to describe full access to an asset')}),(0,v.jsx)(i.xu,{marginStart:1,children:(0,v.jsx)(i.hU,{accessibilityLabel:"info",icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:(0,y.To)(w)(e,!1,!0),zIndex:c.b7}})})]}),(0,v.jsx)(i.FX.RadioButton,{checked:ea[0]===e,disabled:q&&"CATALOGS_MANAGER"===e,id:"radio-button-".concat(e),label:(0,y.e6)(w,!0)(e),onChange:function(){ei([e]),en(!0)},value:e},e)]},"flex-".concat(e))}),F&&(0,v.jsxs)(i.kC,{direction:"column",justifyContent:"between",width:"100%",children:[(0,v.jsxs)(i.xu,{alignItems:"center",display:"flex",marginBottom:2,children:[(0,v.jsx)(i.xv,{size:"200",children:em}),(0,v.jsx)(i.xu,{marginStart:1,children:(0,v.jsx)(i.hU,{accessibilityLabel:"info",icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:eh,zIndex:c.b7}})})]}),(0,v.jsx)(i.FX.RadioButton,{checked:!ea[0],disabled:q,id:"radio-button-none",label:em,onChange:function(){ei([]),en(!0)},value:""},"none")]},"flex-none")]}),z&&(0,v.jsxs)(i.xu,{column:2,display:"flex",justifyContent:"between",marginTop:3,width:"100%",children:[(0,v.jsx)(i.zx,{color:"gray",fullWidth:!0,onClick:function(){X(!1),e_(!1)},size:"sm",text:(0,l.I9)(w)}),(0,v.jsx)(i.xu,{marginStart:1,width:"100%",children:(0,v.jsx)(i.zx,{color:"red",disabled:!et,fullWidth:!0,onClick:function(){X(!1),e_(!0)},size:"sm",text:(0,l.nI)(w)})})]})]})})})]})},x=n(477291),E=n(594110),P=n(120516),I=n(555787),T=n(89446),C=function(e){var t=e.data,n=e.i18n;return(0,v.jsx)(x.Z,{value:(0,y.yy)(n)(t.permissions[0]),weight:"normal"})},O=function(e){var t=e.businessCatalogAssignedPermissionsMap,n=e.catalogDetailPageId,a=e.headerName,i=e.individualAssignedPermissionsMap,l=e.i18n,c=e.isAddingUser,u=void 0!==c&&c,d=e.isBasicPermissionCell,_=void 0!==d&&d,f=e.isLoading,m=e.pageType,h=e.setShouldReloadTable,p=e.setShouldShowToast,b=e.shouldShowToast,y=e.updateCatalogPermission,A=e.useButtons,g=void 0===A||A;return{field:"permissions",headerName:a||l._('Catalog permissions', '[m10n]bizAccess.business.catalog.status', 'catalog status'),minWidth:E.I.columnWidths.md,TableCellComponent:function(e){var s=e.data,a=(0,(0,o.Z)().checkExperiment)("business_access_rmn_catalog_sharing").anyEnabled,c=(0,T.nU)(),d=(0,r.v9)((0,I.BK)(c)),A=(0,r.v9)(P.Rf),x="resource_subtype"in s&&(null===d.rmn_or_brand&&!!(null!=d&&d.is_shared_partner)||((null==d?void 0:d.rmn_or_brand)==="RMN"||(null==d?void 0:d.rmn_or_brand)==="BRAND")&&(null==s?void 0:s.resource_subtype)==="COLLABORATIVE"),E="business_partner_type"in s&&((null==s?void 0:s.business_partner_type)==="RMN"||(null==s?void 0:s.business_partner_type)==="BRAND")&&(null==A?void 0:A.resource_subtype)==="COLLABORATIVE";return(a?E||x:_)?(0,v.jsx)(C,{data:s,i18n:l}):(0,v.jsx)(S,{businessCatalogAssignedPermissionsMap:t,catalogDetailPageId:n,data:s,individualAssignedPermissionsMap:i,isAddingUser:u,isLoading:f,pageType:m,setShouldReloadTable:h,setShouldShowToast:p,shouldShowToast:b,updateCatalogPermission:y,useButtons:g})},sortable:!1,initialSortOrder:s.IR.ASCENDING,isActivelySorted:!1}}},785096:function(e,t,n){"use strict";var r=n(20256),s=n(680811);t.Z=function(e){var t=e.checked,n=e.selectedIds,o=e.onSelectChange,a=e.disableFilter,i=e.disabled,l=e.checkbox,c=e.size;return{field:"id",headerName:"",minWidth:24,width:24,TableCellComponent:function(e){var l,u=e.data;return(0,s.jsx)(r.xu,{"data-test-id":"checkbox-asset-group-".concat(u.asset_id||u.id),children:(0,s.jsx)(r.XZ,{checked:t||n.includes(u.asset_id||u.id),disabled:i||a&&a(u.owner.id,null==(l=u.client_business)?void 0:l.id),id:u.asset_id||u.id,onChange:function(){return o(u.asset_id||u.id)},size:c})})},justifying:"center",checkbox:l}}},88666:function(e,t,n){"use strict";var r=n(594110);t.Z=function(e,t){var n=t.field,s=t.sortable,o=t.sortField,a=t.headerName,i=t.width,l=t.renderCell,c=t.renderSubheaderCell,u=t.valueGetter,d=t.tooltipInfo,_=t.tooltipInfoIconSize,f=t.justifying;return{field:n||"",sortable:s,sortField:o,headerName:a,width:i,valueGetter:u,TableSubheaderCellComponent:c,TableCellComponent:l,minWidth:t.minWidth||r.I.columnWidths.lg,tooltipInfo:d,tooltipInfoIconSize:_,justifying:f}}},876884:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(20256),s=n(680811);function o(e){var t=e.onClick,n=e.tooltipText,o=e.icon,a=e.iconColor,i=e.bgColor,l=e.item,c=e.disabled,u="function"==typeof n?n(l):n,d=c&&"function"==typeof c?c(l):c;return(0,s.jsx)(r.hU,{accessibilityLabel:u,bgColor:void 0===i?"transparent":i,disabled:d,icon:o,iconColor:void 0===a?"darkGray":a,onClick:function(){return t(l)},size:"xs",tooltip:{text:u}})}},471873:function(e,t,n){"use strict";var r=n(20256),s=n(719301),o=n(457223),a=n(216975),i=n(711538),l=n(594110),c=n(89446),u=n(680811);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e){var t=e.i18n,n=e.imgSize,s=e.type,l=e.data,d=e.hidesAvatar,_=void 0!==d&&d,f=e.showDescriptor,m=void 0!==f&&f,h=e.onClick,p=e.clickable,b=e.valueGetter,y=b?b(l):l,v=y.is_pin_support_user,A=y.is_shared_partner,g=y.user,S=g.id,x=g.email,E=g.full_name,P=g.image_medium_url,I=g.image_small_url,T=(0,c.KJ)(),C=(0,u.jsx)(r.u,{inline:!0,text:t._('A team member at Pinterest is supporting your account', '[m10n]businessaccess.dashboard.businessmanagers.pinterestSupport.description', 'Description of Pinterest Support user'),children:(0,u.jsx)(r.xu,{paddingX:2,children:(0,u.jsx)(r.JO,{accessibilityLabel:"Pinterest Support description",color:"subtle",icon:"info-circle",inline:!0})})}),O="PEOPLE_DETAIL";"PEOPLE"!==s&&(O=A?"SHARED_PARTNERS_DETAIL":"PARTNERS_DETAIL");var j=(0,o.Z)(O,T,S),z="PARTNER"===s||"APP"===s||"SYSTEM_USER"===s,w=z?S:x,N=z?(0,a.nk)(t._('Business ID: {{ id }}', '[m10n]table.cell.name.id', 'Subtext of a table cell displaying the BusinessID. id: is the business id that will be displayed'),{id:S}).join(""):(0,a.nk)(t._('Email: {{ email }}', '[m10n]table.cell.name.email', 'Subtext of a table cell displaying an email. email: is the email that will be displayed'),{email:x}).join("");return void 0===p||p?(0,u.jsx)(i.Z,{href:h?"":j,imageUrl:_?"":P||I,imgSize:n,onClick:h?function(){return h(y)}:void 0,subtext:m?N:w,text:E,tooltip:v?C:""}):(0,u.jsx)(i.Z,{imageUrl:_?"":P||I,imgSize:n,subtext:m?N:w,text:E,tooltip:v?C:""})}t.Z=function(e,t){var n=t.headerName,r=t.imgSize,o=t.type,a=t.hidesAvatar,i=void 0!==a&&a,c=t.showDescriptor,d=void 0!==c&&c,_=t.onClick,h=t.clickable,p=void 0===h||h,b=t.sortField,y=t.valueGetter;return{field:"full_name",headerName:n||e._('Name', '[m10n]bizAccess.business.people.name', 'name of business user'),TableCellComponent:function(t){return(0,u.jsx)(m,f(f({},t),{},{clickable:p,hidesAvatar:i,i18n:e,imgSize:r||"sm",onClick:_,showDescriptor:d,type:o,valueGetter:y}))},minWidth:l.I.columnWidths.lg,sortable:!0,initialSortOrder:s.IR.ASCENDING,isActivelyStored:!0,getMinHeight:function(){return 54},sortField:b}}},600600:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(719301),s=n(143754),o=n(387784),a=n(581722),i=n(20256),l=n(766857),c=n(289935),u=n(924591),d=n(24246),_=n(856853),f=n(501010),m=n(577356),h=n(969560),p=n(552263),b=n(91912),y=n(791953),v=n(184587),A=n(977188),g=n(591786),S=n(89446),x=n(680811);function E(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||I(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return T(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t,n,I,T=e.data,C=e.setUserPermission,O=e.selectedPermissionsMap,j=e.pageType,z=e.businessAssetRoles,w=e.isLoading,N=e.error,R=e.shouldShowToast,D=e.setShouldShowToast,k=e.setShouldReloadTable,L=e.shouldHideConfirmationToast,U=e.isAddingUser,B=e.targetingRmnBusinessId,M=(0,a.I0)(),H=(0,f.Z)().checkExperiment,Z=H("web_m10n_business_access_catalogs").anyEnabled,G=H("web_business_access_finance_manager_role").anyEnabled,F=(0,p.Z)().inRmnFoundations,Y="PARTNERS_DETAIL"===j,V="PEOPLE_DETAIL"===j,q="SYSTEM_USERS"===j,Q="ASSET_GROUPS"===j,W="AD_ACCOUNTS_DETAIL"===j,X=V||q||W&&z,K=(0,S.KJ)(),$=V||q||Y?T.asset_id:T.id,J=Y&&K!==T.created_by.id,ee=W&&!!T.is_reseller||Y&&!!(null!=(t=T.partner)&&t.is_reseller),et=F&&W&&(null!=!T.rmn_or_brand&&"RMN"===T.rmn_or_brand||B===T.id),en=(0,S.nU)(),er=(0,a.v9)(A.uX),es=(0,a.v9)(A.Ir),eo=(0,a.v9)(v.$1),ea=w||es||eo,ei=(0,a.v9)(A.Y0),el=N||ei,ec=(0,l.ZP)("PENDING_AD_ACCOUNTS_DETAIL"===j?"BUSINESS_ACCESS_AD_ACCOUNT_EMPLOYEES":(0,l.QK)(j)),eu=P((0,o.useState)(!1),2),ed=eu[0],e_=eu[1],ef=P((0,o.useState)(!1),2),em=ef[0],eh=ef[1],ep=P((0,o.useState)(!1),2),eb=ep[0],ey=ep[1],ev=O[$]||[r.gO.ADMIN],eA=(0,g._o)(ev,Z);G&&(eA=eA.map(function(e){return e===r.gO.FINANCE_MANAGER?r.gO.FINANCE_EDIT:e}));var eg=(0,a.v9)(A.MP),eS=P((0,o.useState)(eA),2),ex=eS[0],eE=eS[1],eP=(0,d.Z)(),eI=(0,m.dI)(),eT=eI.showToast,eC=eI.showOneToast,eO=W?en:$,ej=z&&z[eO]||[],ez=F&&(null==(n=T.partner)?void 0:n.rmn_or_brand)!==null&&(null==(I=T.partner)?void 0:I.rmn_or_brand)==="RMN",ew=Z?r.k_:r.hd,eN=X?(0,b.u)(ej,Z):ew,eR=!eN.includes("ADMIN"),eD={popoverLabel:eP._('Permissions selector', '[m10n] businessAccess.permissions.cell.popover', 'accessibility label of popover'),arrowLabel:eP._('Drop-down arrow icon', '[m10n] businessAccess.permissions.cell.dropdownArrow', 'accessibility label of permissions dropdown'),fullAccessLabel:eP._('Full access', '[m10n] businessAccess.permissions.cell.fullAccessLabel', 'label of full access field set'),partialAccessLabel:eP._('Partial access', '[m10n] businessAccess.permissions.cell.partialAccessLabel', 'label of full access field set'),additionalInfoLabel:eP._('Additional info', '[m10n] businessAccess.permissions.cell.additionalInfo', 'accessibility label of more info tooltips'),adminTooltip:eP._('Can create or edit anything in the ad account such as campaigns, spend limits, bids, budgets, audiences and more', '[m10n] businessAccess.permissions.cell.adminTooltip', 'Text of admin tooltip'),analystTooltip:eP._('Can only view ad account data to create reports', '[m10n] businessAccess.permissions.cell.analystTooltip', 'Text of analyst tooltip'),financeTooltip:eP._('Can edit billing information', '[m10n] businessAccess.permissions.cell.financeTooltip', 'Text of finance tooltip'),financeEditTooltip:eP._('Can edit billing information', '[m10n] businessAccess.permissions.cell.financeEditTooltip', 'Text of finance (Edit) tooltip'),financeViewTooltip:eP._('Can view billing information', '[m10n] businessAccess.permissions.cell.financeViewTooltip', 'Text of finance (View) tooltip'),audienceTooltip:eP._('Can create or edit audiences and view existing Pinterest tags', '[m10n] businessAccess.permissions.cell.audienceTooltip', 'Text of audience tooltip'),campaignTooltip:eP._('Can create and edit campaigns, ad groups and Promoted Pins, pull reports, and create and delete Pins on protected boards for promotion purposes', '[m10n] businessAccess.permissions.cell.campaignTooltip', 'Text of campaign tooltip'),catalogsTooltip:eP._('Can create and edit data source and product group information', '[m10n] businessAccess.permissions.cell.catalogsTooltip', 'Text of catalogs tooltip'),partialAccessTooltip:[eP._('Analyst can only view ad account data to create reports', '[m10n] businessAccess.permissions.cell.analystTooltip', 'Text of analyst tooltip'),eP._('Audience can create or edit audiences and view existing Pinterest tags', '[m10n] businessAccess.permissions.cell.audienceTooltip', 'Text of audience tooltip'),eP._('Campaign can create and edit campaigns, ad groups and Promoted Pins, pull reports, approve paid partnerships and create and delete Pins on protected boards for promotion purposes', '[m10n] businessAccess.permissions.cell.campaignTooltip', 'Text of campaign tooltip'),Z?null:eP._('Catalogs can create and edit data source and product group information', '[m10n] businessAccess.permissions.cell.catalogsTooltip', 'Text of catalogs tooltip'),eP._('Finance (Edit) can edit billing information', '[m10n] businessAccess.permissions.cell.financeEditTooltip', 'Text of finance (Edit) tooltip'),eP._('Finance (View) can view billing information', '[m10n] businessAccess.permissions.cell.financeViewTooltip', 'Text of finance (View) tooltip')],FullAccessTooltip:eP._('Admin can create or edit anything in the ad account such as campaigns, spend limits, bids, budgets, audiences and more', '[m10n] businessAccess.permissions.cell.adminTooltip', 'Text of admin tooltip')},ek=(0,g.e6)(eP);"ASSET_GROUPS"!==j||0!==Object.keys(O).length&&O[$]||C($,[r.gO.ANALYST]);var eL=(0,o.useRef)(null),eU=(G?eA:ex).map(ek).join((0,s.bH)(eP));function eB(e,t){eE(e===r.gO.ADMIN&&t?[r.gO.ADMIN]:e===r.gO.FINANCE_EDIT&&t?[].concat(E(ex.filter(function(e){return e!==r.gO.FINANCE_VIEW})),[e]):e===r.gO.FINANCE_VIEW&&t?[].concat(E(ex.filter(function(e){return e!==r.gO.FINANCE_EDIT})),[e]):ex.includes(e)?ex.filter(function(t){return t!==e}):[].concat(E(ex),[e])),ey(!0)}var eM=function(){return ed?{text:"light",background:"dark"}:em?{text:"dark",background:"secondary"}:{text:"dark",background:"light"}};function eH(){eb&&(ex.length>0?(U||(M((0,y.Au)({id:$})),M((0,y.Tb)({previousPermissions:O}))),C($,ex),ec({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"quick-edit-permission-dropdown",element:"BUSINESS_ACCESS_FIELD",elementId:"quick-edit-cell-close"}),null==k||k(!1),null==D||D({permissionsUpdateToast:!0})):(Q||eT(function(e){var t=e.hideToast;return(0,x.jsx)(u.Z,{duration:r.QE,onHide:t,text:eP._('At least one permission must be assigned', '[m10n] businessAccess.assignPermissionsCell.noSelectedPermissions.errorToast', 'Error toast explaining that you must select at least one permission'),type:"error"})}),eE(eA)))}(0,o.useEffect)(function(){(null!=R&&R.permissionsUpdateToast||null!=R&&R.errorToastOnly)&&!ea&&(null==k||k(!0),function(e){if(e&&!(0,_.Z)(e))eT(function(e){var t=e.hideToast;return(0,x.jsx)(u.Z,{duration:r.QE,onHide:t,text:(0,s.sQ)(eP),type:"error"})});else{if(L||null!=R&&R.errorToastOnly)return;eC(function(e){var t=e.hideToast;return(0,x.jsx)(h.Z,{onHide:t,primaryAction:{accessibilityLabel:eP._('Undo', '[m10n] businessAccess.assignPermissionsCell.toast.undo.accessibilityLabel', 'Accessbility label for Undo action on toast after updating permission'),label:eP._('Undo', '[m10n] businessAccess.assignPermissionsCell.toast.undo.accessibilityLabel', 'Undo action on toast after updating permission'),onClick:function(){eg&&eg[er]&&eg[er].length>0&&(C(er,eg[er]),null==k||k(!1),null==D||D({permissionsUpdateToast:!1,errorToastOnly:!0}))}}})})}}(el),null==D||D({permissionsUpdateToast:!1}))},[R,ea]);var eZ=!1,eG="",eF="";return(J||ee||et?(eZ=!0,J?(eG=eP._('You may not edit the permissions assigned to you by your partner', '[m10n] businessAccess.permissions.cell.sharedAdAccount.noEditInfo', 'Tooltip explaining that you cannot edit permissions assigned to you by a partner business'),eF=eP._('Tooltip explaining you not edit the permissions assigned to you by your partner', '[m10n] businessAccess.permissions.cell.sharedAdAccount.noEditInfo.accessibility', 'Tooltip accessibility label explaining that you cannot edit permissions assigned to you by a partner business')):ee?(eG=eP._('You may not edit the permissions of a reseller managed ad account', '[m10n] businessAccess.permissions.cell.sharedAdAccount.noEditRmaaInfo', 'Tooltip explaining that you cannot edit permissions of a reseller managed ad account (RMAA)'),eF=eP._('Tooltip explaining you can not edit the permissions of a reseller managed ad account', '[m10n] businessAccess.permissions.cell.sharedAdAccount.noEditRmaaInfo.accessibility', 'Tooltip accessibility label explaining that you cannot edit permissions of reseller managed ad account (RMAA)')):et&&(eG=eP._('Assigning additional permissions is not allowed at this time', '[m10n] businessAccess.permissions.cell.sharedAdAccount.noEditRmnPartnerInfo', 'Tooltip explaining that you cannot edit permissions of a RMN partner managed ad account'),eF=eP._('Tooltip explaining you cannot edit the permissions of a RMN partner managed ad account', '[m10n] businessAccess.permissions.cell.sharedAdAccount.noEditRmnPartnerInfo.accessibility', 'Tooltip accessibility label explaining that you cannot edit permissions of a RMN partner managed ad account'))):ez&&(eZ=!0,eG=eP._('Assigning additional permissions is not allowed at this time', '[m10n] businessAccess.permissions.cell.sharedAdAccount.noEditRmnInfo', 'Tooltip explaining that you cannot edit permissions of a retail media network (RMN) partner'),eF=eP._('Tooltip explaining that assigning additional permissions is not allowed at this time', '[m10n] businessAccess.permissions.cell.sharedAdAccount.noEditRmnInfo.a11y', 'Tooltip accessibility label explaining that you cannot edit permissions of retail media network (RMN) partner')),eZ)?(0,x.jsx)(i.kC,{alignItems:"center",gap:2,justifyContent:"center",width:"100%",children:(0,x.jsx)(i.xu,{"data-test-id":"quick-edit-cell-disabled-".concat($),children:(0,x.jsx)(i.u,{accessibilityLabel:eF,text:eG,children:(0,x.jsx)(i.xu,{color:em?"secondary":"transparent",height:44,onMouseEnter:function(){return eh(!0)},onMouseLeave:function(){return eh(!1)},rounding:2,width:240,children:(0,x.jsx)(i.kC,{direction:"column",height:"100%",justifyContent:"center",children:(0,x.jsx)(i.xu,{padding:2,children:(0,x.jsxs)(i.kC,{alignItems:"center",direction:"row",height:"100%",justifyContent:"between",children:[(0,x.jsx)(i.xv,{color:eM().text,size:"200",children:eU}),(0,x.jsx)(i.xu,{marginEnd:1,children:em&&(0,x.jsx)(i.JO,{accessibilityLabel:eP._('Report icon', 'businessAccess.permissions.cell.sharedAdAccount.noEditInfo.reportIcon.accessibilityLabel', 'Accessibility label for report icon button'),color:eM().text,icon:"report",inline:!0,size:12})})]})})})})})})}):ea&&$===er&&!U?(0,x.jsx)(i.kC,{alignItems:"center",gap:2,justifyContent:"center",width:240,children:(0,x.jsx)(i.xH,{accessibilityLabel:(0,s.hC)(eP),delay:!1,show:!0,size:"lg"})}):(0,x.jsxs)(i.xu,{children:[(0,x.jsx)(i.kC,{alignItems:"center",gap:2,justifyContent:"center",width:"100%",children:(0,x.jsx)(i.xu,{"data-test-id":"quick-edit-cell-".concat($),children:(0,x.jsx)(i.iP,{ref:eL,onMouseEnter:function(){return eh(!0)},onMouseLeave:function(){return eh(!1)},onTap:function(){ed&&eH(),e_(!ed)},children:(0,x.jsx)(i.xu,{color:eM().background,height:44,rounding:2,width:240,children:(0,x.jsx)(i.kC,{direction:"column",height:"100%",justifyContent:"center",children:(0,x.jsx)(i.xu,{padding:2,children:(0,x.jsxs)(i.kC,{alignItems:"center",direction:"row",height:"100%",justifyContent:"between",children:[(0,x.jsx)(i.xv,{color:eM().text,size:"200",children:eU}),(0,x.jsx)(i.xu,{marginEnd:1,children:(0,x.jsx)(i.JO,{accessibilityLabel:eD.arrowLabel,color:eM().text,icon:"arrow-down",inline:!0,size:12})})]})})})})})})}),ed&&(0,x.jsx)(i.mh,{zIndex:c.b7,children:(0,x.jsx)(i.J2,{accessibilityLabel:eD.popoverLabel,anchor:eL.current,id:"permission-selector",idealDirection:"down",onDismiss:function(){G||eH(),e_(!1)},positionRelativeToAnchor:!1,size:"xl",children:(0,x.jsxs)(i.xu,{flex:"grow",padding:4,width:240,children:[eR&&(0,x.jsx)(i.pg,{legend:eP._('You have limited access to this asset', '[m10n] businessAccess.permissions.hasLimitedAccess', 'label to describe the user has limited access to this asset'),children:(0,x.jsx)(i.xu,{paddingY:1})}),(0,x.jsxs)(i.kC,{direction:"column",gap:{column:4,row:0},children:[(0,x.jsxs)(i.pg,{legend:eD.fullAccessLabel,children:[G&&(0,x.jsx)(i.xu,{marginStart:16,marginTop:-6,children:(0,x.jsx)(i.u,{text:eD.FullAccessTooltip,zIndex:c.b7,children:(0,x.jsx)(i.hU,{accessibilityLabel:eD.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",padding:1,size:"xs"})})}),(0,x.jsxs)(i.kC,{justifyContent:"between",children:[(0,x.jsx)(i.xu,{"data-test-id":"quick-edit-role-selection-admin",children:(0,x.jsx)(i.XZ,{checked:ex.includes(r.gO.ADMIN),disabled:!eN.includes(r.gO.ADMIN),id:r.gO.ADMIN,label:ek(r.gO.ADMIN),onChange:function(e){var t=e.checked;return eB(r.gO.ADMIN,t)}})}),!G&&(0,x.jsx)(i.u,{text:eD.adminTooltip,zIndex:c.b7,children:(0,x.jsx)(i.hU,{accessibilityLabel:eD.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",padding:1,size:"xs"})})]})]}),(0,x.jsxs)(i.pg,{legend:eD.partialAccessLabel,children:[G&&(0,x.jsx)(i.xu,{marginStart:16,marginTop:-6,paddingX:4,children:(0,x.jsx)(i.u,{text:eD.partialAccessTooltip,zIndex:c.b7,children:(0,x.jsx)(i.hU,{accessibilityLabel:eD.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",padding:1,size:"xs"})})}),(0,x.jsxs)(i.kC,{direction:"column",gap:2,children:[(0,x.jsxs)(i.kC,{justifyContent:"between",children:[(0,x.jsx)(i.xu,{"data-test-id":"quick-edit-role-selection-analyst",children:(0,x.jsx)(i.XZ,{checked:ex.includes(r.gO.ANALYST)||ex.includes(r.gO.ADMIN),disabled:!eN.includes(r.gO.ANALYST)||ex.includes(r.gO.ADMIN),id:r.gO.ANALYST,label:ek(r.gO.ANALYST),onChange:function(e){var t=e.checked;return eB(r.gO.ANALYST,t)}})}),!G&&(0,x.jsx)(i.u,{text:eD.analystTooltip,zIndex:c.b7,children:(0,x.jsx)(i.hU,{accessibilityLabel:eD.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",padding:1,size:"xs"})})]}),!G&&(0,x.jsxs)(i.kC,{justifyContent:"between",children:[(0,x.jsx)(i.xu,{"data-test-id":"quick-edit-role-selection-finance",children:(0,x.jsx)(i.XZ,{checked:ex.includes(r.gO.FINANCE_MANAGER)||ex.includes(r.gO.ADMIN),disabled:!eN.includes(r.gO.FINANCE_MANAGER)||ex.includes(r.gO.ADMIN),id:r.gO.FINANCE_MANAGER,label:ek(r.gO.FINANCE_MANAGER),onChange:function(e){var t=e.checked;return eB(r.gO.FINANCE_MANAGER,t)}})}),(0,x.jsx)(i.u,{text:eD.financeTooltip,zIndex:c.b7,children:(0,x.jsx)(i.hU,{accessibilityLabel:eD.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",padding:1,size:"xs"})})]}),(0,x.jsxs)(i.kC,{justifyContent:"between",children:[(0,x.jsx)(i.xu,{"data-test-id":"quick-edit-role-selection-audience",children:(0,x.jsx)(i.XZ,{checked:ex.includes(r.gO.AUDIENCE_MANAGER)||ex.includes(r.gO.ADMIN),disabled:!eN.includes(r.gO.AUDIENCE_MANAGER)||ex.includes(r.gO.ADMIN),id:r.gO.AUDIENCE_MANAGER,label:ek(r.gO.AUDIENCE_MANAGER),onChange:function(e){var t=e.checked;return eB(r.gO.AUDIENCE_MANAGER,t)}})}),!G&&(0,x.jsx)(i.u,{text:eD.audienceTooltip,zIndex:c.b7,children:(0,x.jsx)(i.hU,{accessibilityLabel:eD.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",padding:1,size:"xs"})})]}),(0,x.jsxs)(i.kC,{justifyContent:"between",children:[(0,x.jsx)(i.xu,{"data-test-id":"quick-edit-role-selection-campaign",children:(0,x.jsx)(i.XZ,{checked:ex.includes(r.gO.CAMPAIGN_MANAGER)||ex.includes(r.gO.ADMIN),disabled:!eN.includes(r.gO.CAMPAIGN_MANAGER)||ex.includes(r.gO.ADMIN),id:r.gO.CAMPAIGN_MANAGER,label:ek(r.gO.CAMPAIGN_MANAGER),onChange:function(e){var t=e.checked;return eB(r.gO.CAMPAIGN_MANAGER,t)}})}),!G&&(0,x.jsx)(i.u,{text:eD.campaignTooltip,zIndex:c.b7,children:(0,x.jsx)(i.hU,{accessibilityLabel:eD.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",padding:1,size:"xs"})})]}),!Z&&(0,x.jsxs)(i.kC,{justifyContent:"between",children:[(0,x.jsx)(i.xu,{"data-test-id":"quick-edit-role-selection-catalogs",children:(0,x.jsx)(i.XZ,{checked:ex.includes(r.gO.CATALOGS_MANAGER)||ex.includes(r.gO.ADMIN),disabled:!eN.includes(r.gO.CATALOGS_MANAGER)||ex.includes(r.gO.ADMIN),id:r.gO.CATALOGS_MANAGER,label:ek(r.gO.CATALOGS_MANAGER),onChange:function(e){var t=e.checked;return eB(r.gO.CATALOGS_MANAGER,t)}})}),!G&&(0,x.jsx)(i.u,{text:eD.catalogsTooltip,zIndex:c.b7,children:(0,x.jsx)(i.hU,{accessibilityLabel:eD.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",padding:1,size:"xs"})})]})]}),G&&(0,x.jsxs)(i.xu,{marginTop:2,children:[(0,x.jsx)(i.kC,{justifyContent:"between",children:(0,x.jsx)(i.xu,{"data-test-id":"quick-edit-role-selection-finance-edit",children:(0,x.jsx)(i.XZ,{checked:ex.includes(r.gO.FINANCE_EDIT)||ex.includes(r.gO.ADMIN),disabled:!eN.includes(r.gO.FINANCE_EDIT)||ex.includes(r.gO.ADMIN)||ex.includes(r.gO.FINANCE_VIEW),id:r.gO.FINANCE_EDIT,label:ek(r.gO.FINANCE_EDIT),onChange:function(e){var t=e.checked;return eB(r.gO.FINANCE_EDIT,t)}})})}),(0,x.jsx)(i.kC,{justifyContent:"between",children:(0,x.jsx)(i.xu,{"data-test-id":"quick-edit-role-selection-finance-view",marginTop:2,children:(0,x.jsx)(i.XZ,{checked:ex.includes(r.gO.FINANCE_VIEW),disabled:!eN.includes(r.gO.FINANCE_VIEW)||ex.includes(r.gO.ADMIN)||ex.includes(r.gO.FINANCE_EDIT),id:r.gO.FINANCE_VIEW,label:ek(r.gO.FINANCE_VIEW),onChange:function(e){var t=e.checked;return eB(r.gO.FINANCE_VIEW,t)}})})})]}),G&&(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(i.xu,{marginTop:4}),(0,x.jsxs)(i.kC,{children:[(0,x.jsx)(i.zx,{fullWidth:!0,onClick:function(){return e_(!1)},size:"md",text:eP._('Cancel', '[m10n] businessAccess.permissions.cancelDropdown', 'label to cancel the permissions assignment dropdown')}),(0,x.jsx)(i.xu,{marginEnd:2}),(0,x.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:function(){e_(!1),eH()},size:"md",text:eP._('Save', '[m10n] businessAccess.permissions.saveDropdown', 'label to save the permissions assignment dropdown'),type:"submit"})]})]})]})]})]})})})]})},O=n(594110),j=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ASSET_GROUPS",a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,_=arguments.length>10&&void 0!==arguments[10]&&arguments[10],f=arguments.length>11&&void 0!==arguments[11]&&arguments[11],m=arguments.length>12?arguments[12]:void 0,h=arguments.length>13?arguments[13]:void 0;return{field:"permissions",headerName:m||e._('Ad account permissions', '[m10n]bizAccess.business.assetGroup.permission', 'employee permission'),minWidth:O.I.columnWidths.md,TableCellComponent:function(e){var r=e.data;return(0,x.jsx)(C,{businessAssetRoles:a,data:r,error:l,isAddingUser:f,isLoading:i,pageType:o,selectedPermissionsMap:n,setShouldReloadTable:d,setShouldShowToast:u,setUserPermission:t,shouldHideConfirmationToast:_,shouldShowToast:c,targetingRmnBusinessId:h})},sortable:!1,initialSortOrder:r.IR.ASCENDING,isActivelySorted:!1,tooltipInfo:"ASSET_GROUPS"===o?(0,s.w9)(e):""}}},375193:function(e,t,n){"use strict";var r=n(477291),s=n(594110),o=n(591786);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isAOAAAdAcccount:!1,inCatalogManagment:!1},n=t.isAOAAAdAcccount,a=t.inCatalogManagment;return{field:"permissions",headerName:e._('Permission', '[m10n]bizAccess.profile.permission', 'Permission level of user'),minWidth:s.I.columnWidths.md,TableCellComponent:r.Z,sortable:!0,valueGetter:n?function(t){return(0,o._o)(t.permissions||[],a).map(function(t){return(0,o.e6)(e)(t)}).join(", ")}:function(t){return(t.permissions||[]).map(function(t){return"OWNER"===t?e._('Owner', '[m10n]bizAccess.profile.permissionLevel', 'Permission level for owner'):"PROFILE_PUBLISHER"===t?e._('Publisher', '[m10n]bizAccess.profile.permissionLevel', 'Permission level for manager'):e._('Unknown', '[m10n]bizAccess.profile.permissionLevel', 'Permissions unknown')}).join(", ")}}}},822612:function(e,t,n){"use strict";var r=n(719301),s=n(143754),o=n(477291),a=n(594110),i=n(591786);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.field,l=void 0===n?"biz_roles":n,c=t.valueGetter;return{field:l,headerName:e._('Role', '[m10n]bizAccess.business.people.bizRole', 'business role of user'),minWidth:a.I.columnWidths.md,TableCellComponent:o.Z,valueGetter:c||function(t){return(t[l]||[]).map("roles"===l?(0,i.e6)(e):(0,i.B)(e)).join((0,s.bH)(e))},sortable:!0,initialSortOrder:r.IR.ASCENDING,isActivelySorted:!1}}},249823:function(e,t,n){"use strict";n.d(t,{_:function(){return o},g:function(){return s}});var r=(0,n(213491).Z)("TableRowContext",{isUsingTableRowHref:!1}),s=r.Provider,o=r.get},458765:function(e,t,n){"use strict";n.d(t,{Br:function(){return I},Fd:function(){return p},Ns:function(){return E},P5:function(){return S},Q3:function(){return g},ZD:function(){return x},cE:function(){return y},fc:function(){return A},l_:function(){return P},qS:function(){return b},yX:function(){return v}});var r=n(719301),s=n(239426),o=n(563218),a=n(618550);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["asset_id"];function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t,n){var r;return(r=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){f(o,r,s,a,i,"next",e)}function i(e){f(o,r,s,a,i,"throw",e)}a(void 0)})}}var h=function(){return{type:"CREATE_AD_ACCOUNTS_SUCCESS"}},p=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n){var r,s,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.businessId,s=e.adAccountId,!(!r&&!s)){t.next=3;break}return t.abrupt("return");case 3:return n({type:"GET_AD_ACCOUNT"}),t.prev=4,t.next=7,(0,o.G2)({businessId:r,assetId:s,resourceType:"AD_ACCOUNT",includeAssetSummary:!0});case 7:n({type:"GET_AD_ACCOUNT_SUCCESS",payload:{data:_({},i=(a=t.sent.data.data).asset_id,d({id:i},function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(a,l)))}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),n({type:"GET_AD_ACCOUNT_ERROR",error:t.t0});case 17:case"end":return t.stop()}},t,null,[[4,14]])})),function(e){return t.apply(this,arguments)}},b=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS"}),a=function(){var t=m(regeneratorRuntime.mark(function t(n){var r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.limit,s=n.startIndex,t.next=3,(0,o.cE)({id:e,limit:r,startIndex:s,includeAssetSummary:!0});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),t.prev=2,t.next=5,(0,s.dF)(void 0,r.cU,void 0,a);case 5:var i;n({type:"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS_SUCCESS",payload:{businessIdsAssociatedWithAoaas:function(e){if(Array.isArray(e))return c(e)}(i=new Set(Object.values(t.sent.data.data).filter(function(e){return!!e.client_business}).flatMap(function(e){return[e.client_business.id,e.owner.id]})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return c(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,void 0):void 0}}(i)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),n({type:"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS_ERROR",error:t.t0});case 13:case"end":return t.stop()}},t,null,[[2,10]])})),function(e){return t.apply(this,arguments)}},y=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,r){var i,l,c,u,_,f,m,h,p,b,y,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r(),l=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return c=(0,a.MG)(i),u=(0,s.IW)(e,c),_=d(d(d({id:l},c),e),{},{startIndex:u},0===u&&{page:1}),n({type:"GET_MULTIPLE_AD_ACCOUNTS"}),t.prev=8,t.next=11,(0,o.cE)(d({},_));case 11:(h=void 0===(m=(f=void 0===(f=t.sent.data)?{}:f).data)?[]:m,p=f.total_data_count,y=(b=(0,s.Ah)(function(e){return e.asset_id},h)).ids,v=b.data,e.updateTotalCountOnly)?n({type:"UPDATE_AD_ACCOUNTS_TOTAL_COUNT",payload:{totalCount:p}}):n({type:"GET_MULTIPLE_AD_ACCOUNTS_SUCCESS",payload:d(d({},_),{},{ids:y,data:v,totalCount:p})}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),n({type:"GET_MULTIPLE_AD_ACCOUNTS_ERROR",error:t.t0});case 22:case"end":return t.stop()}},t,null,[[8,19]])})),function(e,n){return t.apply(this,arguments)}},v=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,r){var i,l,c,u,_,f,m,h,p,b,y,v,A;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r(),l=e.businessId,c=e.detailId,!(!l&&!c)){t.next=4;break}return t.abrupt("return");case 4:return u=(0,a.MG)(i),_=(0,s.IW)(e,u),f=d(d(d({assetId:c},u),e),{},{startIndex:_},0===_&&{page:1}),n({type:"GET_AD_ACCOUNTS_PARTNERS"}),t.prev=8,t.next=11,(0,o.N1)(f);case 11:p=void 0===(h=(m=void 0===(m=t.sent.data)?{}:m).data)?[]:h,b=m.total_data_count,v=(y=(0,s.Ah)(function(e){return e.id},p)).ids,A=y.data,n({type:"GET_AD_ACCOUNTS_PARTNERS_SUCCESS",payload:d(d({},f),{},{ids:v,data:A,totalCount:b})}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),n({type:"GET_AD_ACCOUNTS_PARTNERS_ERROR",error:t.t0});case 22:case"end":return t.stop()}},t,null,[[8,19]])})),function(e,n){return t.apply(this,arguments)}},A=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,r){var i,l,c,u,_,f,m,h,p,b,y,v,A,g,S,x,E;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=r(),c=e.businessId,u=e.detailId,!(!c&&!u)){t.next=4;break}return t.abrupt("return");case 4:return _=(0,a.MG)(l),f=(0,s.IW)(e,_),m=null!=(i=e.sortBy)?i:["name","permissions"].includes(_.sortBy)?_.sortBy:"name",h=d(d(d({assetId:u},_),e),{},{startIndex:f,sortBy:m},0===f&&{page:1}),n({type:"GET_AD_ACCOUNTS_ASSET_GROUPS"}),t.prev=9,t.next=12,(0,o.fc)(d({},h));case 12:return g=(A=(null==(v=t.sent)||null==(p=v.data)?void 0:p.data)||[]).map(function(e){return e.asset_id}),t.next=17,(0,o.pI)({assetIds:g,businessId:h.businessId,resourceType:"ASSET_GROUP",limit:h.limit});case 17:x=(null==(S=t.sent)||null==(b=S.data)?void 0:b.data)||{},E=A.reduce(function(e,t){return e[t.asset_id]=d(d(d({},t),x[t.asset_id]),x[t.asset_id].asset),e},{}),n({type:"GET_AD_ACCOUNTS_ASSET_GROUPS_SUCCESS",payload:d({ids:Object.keys(E),data:E,totalCount:null==v||null==(y=v.data)?void 0:y.total_data_count},h)}),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(9),n({type:"GET_AD_ACCOUNTS_ASSET_GROUPS_ERROR",error:t.t0});case 26:case"end":return t.stop()}},t,null,[[9,23]])})),function(e,n){return t.apply(this,arguments)}},g=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,r){var i,l,c,u,_,f,m,h,p,b,y,v,A;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r(),l=e.businessId,c=e.detailId,!(!l&&!c)){t.next=4;break}return t.abrupt("return");case 4:return u=(0,a.MG)(i),_=(0,s.IW)(e,u),f=d(d(d({assetId:c},u),e),{},{startIndex:_},0===_&&{page:1}),n({type:"GET_AD_ACCOUNTS_PEOPLE"}),t.prev=8,t.next=11,(0,o.BG)(f);case 11:p=void 0===(h=(m=t.sent.data).data)?[]:h,b=m.total_data_count,v=(y=(0,s.Ah)(function(e){return e.id},p)).ids,A=y.data,n({type:"GET_AD_ACCOUNTS_PEOPLE_SUCCESS",payload:d(d({},f),{},{ids:v,data:A,totalCount:b})}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(8),n({type:"GET_AD_ACCOUNTS_PEOPLE_ERROR",error:t.t0});case 20:case"end":return t.stop()}},t,null,[[8,17]])})),function(e,n){return t.apply(this,arguments)}},S=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,r){var i,l,c,u,_,f,m,h,p,b,y,v,A;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r(),l=e.businessId,c=e.detailId,!(!l&&!c)){t.next=4;break}return t.abrupt("return");case 4:return u=(0,a.MG)(i),_=(0,s.IW)(e,u),f=d(d(d({assetId:c},u),e),{},{startIndex:_,fetchSystemUsers:!0},0===_&&{page:1}),n({type:"GET_AD_ACCOUNT_SYSTEM_USERS"}),t.prev=8,t.next=11,(0,o.BG)(f);case 11:p=void 0===(h=(m=t.sent.data).data)?[]:h,b=m.total_data_count,v=(y=(0,s.Ah)(function(e){return e.id},p)).ids,A=y.data,n({type:"GET_AD_ACCOUNT_SYSTEM_USERS_SUCCESS",payload:d(d({},f),{},{ids:v,systemUsersDict:A,totalCount:b})}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(8),n({type:"GET_AD_ACCOUNT_SYSTEM_USERS_ERROR",error:t.t0});case 20:case"end":return t.stop()}},t,null,[[8,17]])})),function(e,n){return t.apply(this,arguments)}},x=function(e,t){return function(n){var s=t.businessId,o=t.detailId;if(s||o){if(n(p({businessId:s,adAccountId:o})),"EMPLOYEES"===e)return void n(g(d(d({},t.reloadBugFix&&r.vk),{},{sortBy:"full_name",sortDirection:r.IR.ASCENDING,businessId:s,detailId:o})));if("SYSTEM_USERS"===e)return void n(S(d(d({},t.reloadBugFix&&r.vk),{},{sortBy:"full_name",sortDirection:r.IR.ASCENDING,businessId:s,detailId:o})));"PARTNERS"===e&&n(v({sortBy:"full_name",sortDirection:r.IR.ASCENDING,businessId:s,detailId:o}))}}},E=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return n({type:"GET_AD_ACCOUNTS_SETTINGS"}),t.prev=3,t.next=6,(0,o.Ns)(e);case 6:n({type:"GET_AD_ACCOUNTS_SETTINGS_SUCCESS",payload:{data:{settings:t.sent,adAccountId:e}}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n({type:"GET_AD_ACCOUNTS_SETTINGS_ERROR",error:t.t0});case 13:case"end":return t.stop()}},t,null,[[3,10]])})),function(e){return t.apply(this,arguments)}},P=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"UPDATE_AD_ACCOUNTS_SETTINGS"}),t.prev=1,t.next=4,(0,o.l_)(e);case 4:n({type:"UPDATE_AD_ACCOUNTS_SETTINGS_SUCCESS",payload:{data:{settings:r=t.sent,adAccountId:r.advertiser_id}}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:"UPDATE_AD_ACCOUNTS_SETTINGS_ERROR",error:t.t0});case 11:case"end":return t.stop()}},t,null,[[1,8]])})),function(e){return t.apply(this,arguments)}},I=function(e){var t,n=e.businessId,r=e.detailId,s=e.businessHierarchyNodeId,a=e.ownerBusinessId,i=e.agencyBusinessId,l=e.accountName,c=e.country,u=e.currency,d=e.tosId,_=e.skipReseller,f=e.targetingRmnBusinessId,b=e.onSuccess,v=e.onFailure,A=e.dispatchGetAdAccounts,g=void 0===A||A;return t=m(regeneratorRuntime.mark(function e(t){var m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CREATE_AD_ACCOUNTS"}),e.prev=1,e.next=4,(0,o.W3)(a,i,s,l,c,u,d,_,f);case 4:m=e.sent,b&&b(m),g?(t(p({businessId:null!=i?i:a,adAccountId:m.id})),t(h()),t(y({businessId:n,detailId:r,includeAssetSummary:!0}))):t(h()),e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(1),t({type:"CREATE_AD_ACCOUNTS_ERROR",error:e.t0}),v&&v(e.t0),e.t0;case 14:case"end":return e.stop()}},e,null,[[1,9]])})),function(e){return t.apply(this,arguments)}}},915200:function(e,t,n){"use strict";n.d(t,{SA:function(){return d},vm:function(){return u}});var r=n(632323);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){var r;return(r=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){l(o,r,s,a,i,"next",e)}function i(e){l(o,r,s,a,i,"throw",e)}a(void 0)})}}var u=function(e){var t,n=e.businessId,s=e.partnerId,o=e.requestIds,l=e.statuses,u=void 0===l?["PENDING"]:l,d=e.updateDataOnly,_=void 0===d||d,f=e.updateDetailPageVisibleData,m=void 0!==f&&f;return t=c(regeneratorRuntime.mark(function e(t){var l,c,d,f,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={businessId:n,partnerId:s,requestIds:o,statuses:u},t({type:"GET_AOAA_REQUESTS"}),e.prev=2,e.next=5,(0,r.vm)(l);case 5:f=void 0===(d=(c=void 0===(c=e.sent.data)?{}:c).data)?[]:d,h=c.total_data_count,t({type:"GET_AOAA_REQUESTS_SUCCESS",payload:{ids:(p=f.reduce(function(e,t){return m?t.permissions.forEach(function(t){e.ids.push(Object.keys(t)[0])}):e.ids.push(t.request_id),e.data=a(a({},e.data),{},i({},t.request_id,t)),e},{ids:[],data:{}})).ids,data:p.data,totalCount:h,updateDataOnly:_}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),t({type:"GET_AOAA_REQUESTS_ERROR",error:e.t0});case 16:case"end":return e.stop()}},e,null,[[2,13]])})),function(e){return t.apply(this,arguments)}},d=function(e){var t,n=e.businessId,s=e.partnerId,o=e.requestId,i=e.status,l=e.businessIdToPermissions;return t=c(regeneratorRuntime.mark(function e(t){var c,u,d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c={businessId:n,partnerId:s,requestId:o,status:i,businessIdToPermissions:l},t({type:"UPDATE_AOAA_REQUEST"}),e.prev=2,e.next=5,(0,r.SA)(c);case 5:d=(u=void 0===(u=e.sent.response)?{}:u).data,_=u.total_data_count,t({type:"UPDATE_AOAA_REQUEST_SUCCESS",payload:a(a({},c),{},{data:d,totalCount:_})}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t({type:"UPDATE_AOAA_REQUEST_ERROR",error:e.t0});case 15:case"end":return e.stop()}},e,null,[[2,12]])})),function(e){return t.apply(this,arguments)}}},982965:function(e,t,n){"use strict";n.d(t,{C6:function(){return a},WV:function(){return c},XZ:function(){return u},jb:function(){return i},l$:function(){return l}});var r=n(516251);function s(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)})}}var a=function(e){var t,n=e.businessId;return t=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_APPS"}),e.prev=1,e.next=4,(0,r.C6)({businessId:n});case 4:t({type:"GET_APPS_SUCCESS",payload:{data:e.sent.data}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_APPS_ERROR",error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return t.apply(this,arguments)}},i=function(e){var t;return t=o(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"REFRESH_ACCESS_TOKEN"}),t.prev=1,t.next=4,(0,r.jb)(e);case 4:n({type:"REFRESH_ACCESS_TOKEN_SUCCESS",payload:{data:t.sent.data}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:"REFRESH_ACCESS_TOKEN_ERROR",error:t.t0});case 11:case"end":return t.stop()}},t,null,[[1,8]])})),function(e){return t.apply(this,arguments)}},l=function(){var e;return e=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_REFRESH_TOKEN"});case 1:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}},c=function(e){var t=e.appId;return function(e){e({type:"SELECT_APP",payload:{data:t}})}},u=function(e){var t,n=e.appId,s=e.businessId;return t=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.eg)({appId:n,businessId:s});case 2:t({type:"UPDATE_APP_DATA",payload:{data:e.sent.data}});case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}}},784093:function(e,t,n){"use strict";n.d(t,{Sd:function(){return p},TX:function(){return A},oA:function(){return v},r9:function(){return y},zM:function(){return b}});var r=n(239426),s=n(185004),o=n(618550),a=n(591361),i=n(866962),l=n(767415);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){_(o,r,s,a,i,"next",e)}function i(e){_(o,r,s,a,i,"throw",e)}a(void 0)})}}var m=function(e){return{type:"GET_SHARED_AUDIENCES_SUCCESS",data:e}},h=function(e){return{type:"GET_RECEIVED_AUDIENCES_SUCCESS",data:e}},p=function(e){var t;return t=f(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SELECTED_AUDIENCE_ID",id:e});case 1:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}},b=function(e){var t;return t=f(regeneratorRuntime.mark(function t(n){var r,o,c,u,_;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.accountId,o=e.accountType,n({type:"GET_SHARED_AUDIENCES"}),t.prev=2,t.next=5,(0,s.zM)({account_id:r,account_type:o,share_type:i.E7.SHARED});case 5:null!=(u=t.sent)&&u.audiences?(_=u.audiences.filter(function(e){return!!(null!=e&&e.id)}).map(function(e){return d(d({},e),{},{entity_type:"BUSINESS_AUDIENCE"})}),n(m((0,a.O_)(_)))):n(m([])),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),c=t.t0,n({type:"GET_SHARED_AUDIENCES_ERROR",error:t.t0});case 13:return t.prev=13,(0,l.nP)("audience.ui.get_shared_audiences",{sampleRate:1,tags:{error:!!c,error_code:c&&c.api_error_code,share_type:i.E7.SHARED,surface:i.zi.BUSINESS_MANAGER}}),t.finish(13);case 16:case"end":return t.stop()}},t,null,[[2,9,13,16]])})),function(e){return t.apply(this,arguments)}},y=function(e){var t;return t=f(regeneratorRuntime.mark(function t(n){var r,o,c,u,_;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.accountId,o=e.accountType,n({type:"GET_RECEIVED_AUDIENCES"}),t.prev=2,t.next=5,(0,s.zM)({account_id:r,account_type:o,share_type:i.E7.RECEIVED});case 5:null!=(u=t.sent)&&u.audiences?(_=u.audiences.filter(function(e){return!!(null!=e&&e.id)}).map(function(e){return d(d({},e),{},{entity_type:"BUSINESS_AUDIENCE"})}),n(h((0,a.O_)(_)))):n(h([])),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),c=t.t0,n({type:"GET_RECEIVED_AUDIENCES_ERROR",error:t.t0});case 13:return t.prev=13,(0,l.nP)("audience.ui.get_shared_audiences",{sampleRate:1,tags:{error:!!c,error_code:c&&c.api_error_code,share_type:i.E7.RECEIVED,surface:i.zi.BUSINESS_MANAGER}}),t.finish(13);case 16:case"end":return t.stop()}},t,null,[[2,9,13,16]])})),function(e){return t.apply(this,arguments)}},v=function(e){var t;return t=f(regeneratorRuntime.mark(function t(n,a){var c,u,_,f,m,h,p,b,y,v,A,g,S;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=a(),u=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return _=(0,o.MG)(c),f=(0,r.Vs)(e,_),m=d(d(d({id:u},_),f),e),n({type:"GET_SHARED_AUDIENCE_ACCOUNTS"}),t.prev=8,t.next=11,(0,s.oA)(m);case 11:y=void 0===(b=(p=t.sent).accounts)?[]:b,v=p.total_count,g=(A=(0,r.Ah)(function(e){return e.account_id},y)).ids,S=A.data,n({type:"GET_SHARED_AUDIENCE_ACCOUNTS_SUCCESS",payload:d(d({},m),{},{ids:g,data:S,totalCount:v})}),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(8),h=t.t0,n({type:"GET_SHARED_AUDIENCE_ACCOUNTS_ERROR",error:t.t0});case 23:return t.prev=23,(0,l.nP)("audience_sharing.ui.get_shared_accounts",{sampleRate:1,tags:{error:!!h,surface:i.zi.BUSINESS_MANAGER}}),t.finish(23);case 26:case"end":return t.stop()}},t,null,[[8,19,23,26]])})),function(e,n){return t.apply(this,arguments)}},A=function(e){var t;return t=f(regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.businessId){t.next=3;break}return t.abrupt("return");case 3:return n({type:"GET_OWNED_AUDIENCES"}),t.prev=4,t.next=7,(0,s.B_)(e);case 7:(o=t.sent)?n({type:"GET_OWNED_AUDIENCES_SUCCESS",data:o.filter(function(e){return!!(null!=e&&e.id)}).map(function(e){return d(d({},e),{},{entity_type:"BUSINESS_AUDIENCE"})})}):n({type:"GET_OWNED_AUDIENCES_SUCCESS",data:[]}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),r=t.t0,n({type:"GET_OWNED_AUDIENCES_ERROR",error:t.t0});case 15:return t.prev=15,(0,l.nP)("audience_sharing.ui.get_shared_accounts",{sampleRate:1,tags:{error:!!r,surface:i.zi.BUSINESS_MANAGER}}),t.finish(15);case 18:case"end":return t.stop()}},t,null,[[4,11,15,18]])})),function(e){return t.apply(this,arguments)}}},305583:function(e,t,n){"use strict";n.d(t,{As:function(){return D},Eg:function(){return O},N_:function(){return T},Q3:function(){return j},RO:function(){return k},cE:function(){return S},cp:function(){return x},hy:function(){return N},iS:function(){return w},ip:function(){return C},jk:function(){return P},lo:function(){return E},mH:function(){return R},mS:function(){return I},yX:function(){return z}});var r=n(719301),s=n(239426),o=n(563218),a=n(862429),i=n(498452),l=n(208422),c=n(255094),u=n(618550);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=["page"],f=["page"],m=["page"],h=["page"];function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){A(o,r,s,a,i,"next",e)}function i(e){A(o,r,s,a,i,"throw",e)}a(void 0)})}}var S=function(e){var t;return t=g(regeneratorRuntime.mark(function t(n,r){var a,i,l,u,d,_,f,m,h,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),i=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return l=(0,c.YM)(a),u=(0,s.$2)(e,l),d=(0,s.sl)(i,u,e,l),n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS"}),t.prev=8,t.next=11,(0,o.cE)(v({},d));case 11:p=null==(h=t.sent.data)?void 0:h.data.map(function(e){return e.asset_id}),n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_SUCCESS",payload:v(v({},d),{},{data:null!=(_=null==h?void 0:h.data)?_:[],table:{totalCount:null!=(f=null==h?void 0:h.total_data_count)?f:void 0,searchTerm:d.searchTerm,page:d.page,limit:d.limit,sortBy:d.sortBy,sortDirection:d.sortDirection,startIndex:null!=(m=d.startIndex)?m:0},ids:p})}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(8),n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_ERROR",error:t.t0});case 20:case"end":return t.stop()}},t,null,[[8,17]])})),function(e,n){return t.apply(this,arguments)}},x=function(e){var t;return t=g(regeneratorRuntime.mark(function t(n,a){var i,l,u,d,_,f,m,h,p,b,y,A,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=a(),l=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return u=(0,c.$b)(i),d=(0,s.$2)(e,u),_=(0,s.sl)(l,d,e,u),n({type:"GET_BUSINESS_HIERARCHY_PROFILES"}),t.prev=8,t.next=11,(0,o.cp)(_);case 11:return p=void 0===(h=(m=t.sent.data).data)?[]:h,b=m.total_data_count,y=p.reduce(function(e,t){return e.concat(t.asset_id)},[]),t.next=19,(0,o.eo)({limit:u.limit,type:r.tP.PROFILE,assetIds:y,id:l});case 19:A=t.sent.data.data,g=[],p.forEach(function(e){g.push(v(v({},e),A[e.asset_id]))}),n({type:"GET_BUSINESS_HIERARCHY_PROFILES_SUCCESS",payload:v(v({},_),{},{data:g,table:{totalCount:b,searchTerm:_.searchTerm,page:_.page,limit:_.limit,sortBy:_.sortBy,sortDirection:_.sortDirection,startIndex:null!=(f=_.startIndex)?f:0}})}),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(8),n({type:"GET_BUSINESS_HIERARCHY_PROFILES_ERROR",error:t.t0});case 29:case"end":return t.stop()}},t,null,[[8,26]])})),function(e,n){return t.apply(this,arguments)}},E=function(e){var t;return t=g(regeneratorRuntime.mark(function t(n,r){var a,i,l,u,d,_,f,m,h,p,b,y;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),i=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return l=(0,c.s5)(a),u=(0,s.$2)(e,l),d=(0,s.sl)(i,u,e,l),n({type:"GET_BUSINESS_HIERARCHY_ASSET_GROUPS"}),_="permissions"===d.sortBy||"name"===d.sortBy?d.sortBy:void 0,t.prev=9,t.next=12,(0,o.lo)({id:i,searchTerm:d.searchTerm,searchBy:d.searchBy,limit:d.limit,sortBy:_,sortDirection:d.sortDirection,startIndex:d.startIndex,businessId:i,resourceType:"ASSET_GROUP"});case 12:return h=(null==(m=t.sent)?void 0:m.data.data.map(function(e){return e.asset_id}))||[],t.next=16,(0,o.pI)({businessId:i,assetIds:h,resourceType:"ASSET_GROUP"});case 16:b=(null==(p=t.sent)?void 0:p.data.data)||{},y=h.filter(function(e){return b[e]}).map(function(e){return v(v({},b[e]),b[e].asset)}),n({type:"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_SUCCESS",payload:v(v({},d),{},{data:y,table:{totalCount:(null==m?void 0:m.data.total_data_count)||0,searchTerm:d.searchTerm,page:d.page,limit:d.limit,sortBy:d.sortBy,sortDirection:d.sortDirection,startIndex:null!=(f=d.startIndex)?f:0}})}),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),n({type:"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_ERROR",error:t.t0});case 25:case"end":return t.stop()}},t,null,[[9,22]])})),function(e,n){return t.apply(this,arguments)}},P=function(e){var t;return t=g(regeneratorRuntime.mark(function t(n,r){var a,i,l,u,d,_,f,m,h,p,b;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),i=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return n({type:"GET_BUSINESS_HIERARCHY_CATALOGS"}),t.prev=5,m=(0,c.Mc)(a),h=(0,s.$2)(e,m),p=(0,s.sl)(i,h,e,m),t.next=11,(0,o.jk)(v(v({},p),{},{includeAssetSummary:!0}));case 11:b=t.sent,n({type:"GET_BUSINESS_HIERARCHY_CATALOGS_SUCCESS",payload:v(v({},p),{},{data:null!=(l=null==b||null==(u=b.data)?void 0:u.data)?l:[],table:{totalCount:null!=(d=null==b||null==(_=b.data)?void 0:_.total_data_count)?d:void 0,searchTerm:p.searchTerm,page:p.page,limit:p.limit,sortBy:p.sortBy,sortDirection:p.sortDirection,startIndex:null!=(f=p.startIndex)?f:0}})}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),n({type:"GET_BUSINESS_HIERARCHY_CATALOGS_ERROR",error:t.t0});case 18:case"end":return t.stop()}},t,null,[[5,15]])})),function(e,n){return t.apply(this,arguments)}},I=function(e){var t;return t=g(regeneratorRuntime.mark(function t(n,r){var a,i,l,u,d,f,m,h,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),i=e.businessId,l=e.detailId,!(!i&&!l)){t.next=4;break}return t.abrupt("return");case 4:return u=(0,c.u)(a),(d=(0,s.Vs)(e,u)).page,f=b(d,_),n({type:"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES"}),t.prev=8,t.next=11,(0,o.BG)(v({id:i,businessId:i,assetId:l},f));case 11:n({type:"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_SUCCESS",payload:{data:null!=(m=null==(p=t.sent.data)?void 0:p.data)?m:[],table:v(v({},d),{},{totalCount:null!=(h=null==p?void 0:p.total_data_count)?h:void 0})}}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(8),n({type:"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_ERROR",error:t.t0});case 18:case"end":return t.stop()}},t,null,[[8,15]])})),function(e,n){return t.apply(this,arguments)}},T=function(e){var t;return t=g(regeneratorRuntime.mark(function t(n,r){var a,i,l,u,d,_,m,h,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),i=e.businessId,l=e.detailId,!(!i&&!l)){t.next=4;break}return t.abrupt("return");case 4:return u=(0,c.cX)(a),(d=(0,s.Vs)(e,u)).page,_=b(d,f),n({type:"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS"}),t.prev=8,t.next=11,(0,o.N1)(v({id:i,businessId:i,assetId:l},_));case 11:n({type:"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_SUCCESS",payload:{data:null!=(m=null==(p=t.sent.data)?void 0:p.data)?m:[],table:v(v({},d),{},{totalCount:null!=(h=null==p?void 0:p.total_data_count)?h:void 0})}}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(8),n({type:"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_ERROR",error:t.t0});case 19:case"end":return t.stop()}},t,null,[[8,16]])})),function(e,n){return t.apply(this,arguments)}},C=function(e){var t;return t=g(regeneratorRuntime.mark(function t(n,r){var o,a,i,u,d,_,f,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return i=(0,c.u)(o),u=(0,s.Vs)(e,i),n({type:"GET_BUSINESS_HIERARCHY_EMPLOYEES"}),t.prev=7,f=v({id:a,includeAssetSummary:!0},u),t.next=11,(0,l.JC)(f);case 11:n({type:"GET_BUSINESS_HIERARCHY_EMPLOYEES_SUCCESS",payload:{data:null!=(d=null==(m=t.sent.data)?void 0:m.data)?d:[],table:v(v({},u),{},{totalCount:null!=(_=null==m?void 0:m.total_data_count)?_:void 0})}}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(7),n({type:"GET_BUSINESS_HIERARCHY_EMPLOYEES_ERROR",error:t.t0});case 18:case"end":return t.stop()}},t,null,[[7,15]])})),function(e,n){return t.apply(this,arguments)}},O=function(e){var t;return t=g(regeneratorRuntime.mark(function t(n,r){var o,a,l,u,d,_,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=e.businessId,l=e.includeAssetSummary,a){t.next=4;break}return t.abrupt("return");case 4:return u=(0,c.cX)(o),d=(0,s.Vs)(e,u),n({type:"GET_BUSINESS_HIERARCHY_PARTNERS"}),t.prev=7,t.next=10,(0,i.Eg)(v(v({id:a},d),{},{includeAssetSummary:l}));case 10:n({type:"GET_BUSINESS_HIERARCHY_PARTNERS_SUCCESS",payload:{data:null!=(_=null==(f=t.sent.data)?void 0:f.data)?_:[],table:v(v({},d),{},{totalCount:null==f?void 0:f.total_data_count})}}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(7),n({type:"GET_BUSINESS_HIERARCHY_PARTNERS_ERROR",error:t.t0});case 18:case"end":return t.stop()}},t,null,[[7,15]])})),function(e,n){return t.apply(this,arguments)}},j=function(e){var t;return t=g(regeneratorRuntime.mark(function t(n,r){var a,i,l,u,d,_,f,h,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),i=e.businessId,l=e.detailId,!(!i&&!l)){t.next=4;break}return t.abrupt("return");case 4:return u=(0,c.u)(a),(d=(0,s.Vs)(e,u)).page,_=b(d,m),n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES"}),t.prev=8,t.next=11,(0,o.BG)(v({id:i,businessId:i,assetId:l},_));case 11:n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_SUCCESS",payload:{data:null!=(f=null==(p=t.sent.data)?void 0:p.data)?f:[],table:v(v({},d),{},{totalCount:null!=(h=null==p?void 0:p.total_data_count)?h:void 0})}}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(8),n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_ERROR",error:t.t0});case 18:case"end":return t.stop()}},t,null,[[8,15]])})),function(e,n){return t.apply(this,arguments)}},z=function(e){var t;return t=g(regeneratorRuntime.mark(function t(n,r){var a,i,l,u,d,_,f,m,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),i=e.businessId,l=e.detailId,!(!i&&!l)){t.next=4;break}return t.abrupt("return");case 4:return u=(0,c.cX)(a),(d=(0,s.Vs)(e,u)).page,_=b(d,h),n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS"}),t.prev=8,t.next=11,(0,o.N1)(v({id:i,businessId:i,assetId:l},_));case 11:n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_SUCCESS",payload:{data:null!=(f=null==(p=t.sent.data)?void 0:p.data)?f:[],table:v(v({},d),{},{totalCount:null!=(m=null==p?void 0:p.total_data_count)?m:void 0})}}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(8),n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_ERROR",error:t.t0});case 19:case"end":return t.stop()}},t,null,[[8,16]])})),function(e,n){return t.apply(this,arguments)}},w=function(e){var t;return t=g(regeneratorRuntime.mark(function t(n,r){var o,i,l,c,d,_,f,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),e.hierarchyId){t.next=4;break}return t.abrupt("return");case 4:return i=(0,u.MG)(o),l=(0,s.IW)(e,i),c=v(v(v({},i),e),{},{startIndex:l},0===l&&{page:1}),n({type:"GET_BUSINESS_HIERARCHY_MANAGERS"}),t.prev=8,t.next=11,(0,a.iS)(c);case 11:m={ids:Object.keys(f=(_=null==(d=t.sent)?void 0:d.data.business_hierarchy_users)?_.reduce(function(e,t){return t.entity_type="HIERARCHY_MANAGER",t.user.entity_type="USER",e[t.user.id]=t,e},{}):{}),data:f},n({type:"GET_BUSINESS_HIERARCHY_MANAGERS_SUCCESS",payload:v(v({},c),m)}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(8),n({type:"GET_BUSINESS_HIERARCHY_MANAGERS_ERROR",error:t.t0});case 21:case"end":return t.stop()}},t,null,[[8,18]])})),function(e,n){return t.apply(this,arguments)}},N=function(e,t){var n;return n=g(regeneratorRuntime.mark(function n(r,o){var i,l,u,d,_,f,m,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=o(),l=e.businessHierarchyLookupId){n.next=4;break}return n.abrupt("return");case 4:return u=(0,c.bS)(i),d=(0,s.Vs)(e,u),r({type:"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS"}),n.prev=7,n.next=10,(0,a.hy)({businessHierarchyLookupId:l,businessRole:t,searchBy:d.searchBy,searchTerm:d.searchTerm,sortBy:d.sortBy,sortDirection:d.sortDirection,page:d.page,limit:d.limit,startIndex:d.startIndex});case 10:r({type:"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_SUCCESS",payload:{data:null!=(_=null==(h=n.sent)||null==(f=h.data)?void 0:f.business_hierarchy_business_members)?_:[],table:v(v({},d),{},{totalCount:(null==h||null==(m=h.data)?void 0:m.total_members_count)||0})}}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(7),r({type:"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_ERROR",error:n.t0});case 17:case"end":return n.stop()}},n,null,[[7,14]])})),function(e,t){return n.apply(this,arguments)}},R=function(e){var t;return t=g(regeneratorRuntime.mark(function t(n,o){var i,l,u,d,_,f,m,h,p,b,y,A,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=o(),l=e.hierarchyId,u=e.type,_=void 0!==(d=e.reloadBugFix)&&d,l){t.next=4;break}return t.abrupt("return");case 4:return n("CHILD_BUSINESS"===u?{type:"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES"}:{type:"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS"}),t.prev=5,f=v({hierarchyId:l,role:u},_&&r.vk),t.next=9,(0,a.mH)(f);case 9:p=void 0===(h=(m=t.sent||{}).data)?[]:h,y=void 0===(b=m.total_data_count)?0:b,A=(0,c.cX)(i),g={data:null!=p?p:[],table:v(v({},(0,s.Vs)(e,A)),{},{totalCount:y})},n("CHILD_BUSINESS"===u?{type:"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES_SUCCESS",payload:g}:{type:"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS_SUCCESS",payload:v(v({},g),{},{data:g.data.map(function(e){return v(v({},e),{},{user:v(v({},e.user),{},{email:""})})})})}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),n("CHILD_BUSINESS"===u?{type:"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES_ERROR",error:t.t0}:{type:"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS_ERROR",error:t.t0});case 20:case"end":return t.stop()}},t,null,[[5,17]])})),function(e,n){return t.apply(this,arguments)}},D=function(e){var t,n=e.inviteId,r=e.action,s=e.inviteType,o=e.onSuccess,i=e.onFailure,l=e.businessEntityId;return t=g(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"RESPOND_BUSINESS_HIERARCHY_INVITE"}),e.prev=1,e.next=4,(0,a.ov)({inviteId:n,inviteType:s,action:r,businessEntityId:l});case 4:t({type:"RESPOND_BUSINESS_HIERARCHY_INVITE_SUCCESS"}),o&&o(),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(1),t({type:"RESPOND_BUSINESS_HIERARCHY_INVITE_ERROR",error:e.t0}),i&&i(e.t0),e.t0;case 13:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return t.apply(this,arguments)}},k=function(e){var t,n=e.hierarchyId,r=e.peopleIdentifiers,s=e.assignedRole,o=e.onSuccess,i=e.onFailure;return t=g(regeneratorRuntime.mark(function e(t,l){var c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CREATE_BUSINESS_HIERARCHY_INVITE"}),e.prev=1,e.next=4,(0,a.NN)({peopleIdentifiers:r,role:s,hierarchyId:n});case 4:t({type:"CREATE_BUSINESS_HIERARCHY_INVITE_CHILD_BUSINESSES_SUCCESS",payload:{data:(d=Object.values(null==(u=e.sent)||null==(c=u.data)?void 0:c.data)).reduce(function(e,t){return[].concat(function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{id:t,entity_type:"INVITE",invite_data:{invite_status:"PENDING",last_updated_time:Date.now()}}])},[])}}),R({type:s,hierarchyId:n})(t,l),o&&o(d),e.next=17;break;case 12:throw e.prev=12,e.t0=e.catch(1),t({type:"CREATE_BUSINESS_HIERARCHY_INVITE_ERROR",error:e.t0}),i&&i(e.t0),e.t0;case 17:case"end":return e.stop()}},e,null,[[1,12]])})),function(e,n){return t.apply(this,arguments)}}},432730:function(e,t,n){"use strict";n.d(t,{EJ:function(){return P},L_:function(){return v},MI:function(){return E},R4:function(){return I},VS:function(){return g},jk:function(){return A},ke:function(){return S},ng:function(){return T},oY:function(){return x}});var r=n(239426),s=n(563218),o=n(162295),a=n(498452),i=n(2877),l=n(120516);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["businessId"],d=["businessId"],_=["asset_id"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n){var r;return(r=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==c(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){p(o,r,s,a,i,"next",e)}function i(e){p(o,r,s,a,i,"throw",e)}a(void 0)})}}function y(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var v=function(e){var t,n=e.businessId,r=y(e,u);return t=b(regeneratorRuntime.mark(function e(t,o){var a,i,c,u,d,_,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o(),i=m(m({},(0,l.a$)(a)),r),t({type:"GET_CATALOGS"}),e.prev=4,e.next=7,(0,s.jk)(m({id:n},i));case 7:if(d=(u=(null==(c=e.sent)?void 0:c.data).data).map(function(e){return e.asset_id}),_=u.reduce(function(e,t){return e[t.asset_id]=t.permissions,e},{}),f=u.reduce(function(e,t){var n;return e[t.asset_id]=t.assigner_business_ids&&t.assigner_business_ids.length>0&&null!=(n=t.assigner_business_ids[0])?n:"",e},{}),!d.length){e.next=18;break}return e.next=15,(0,s.pI)(m({businessId:n,assetIds:d},i));case 15:e.t0=e.sent,e.next=19;break;case 18:e.t0={data:{data:{}}};case 19:t({type:"GET_CATALOGS_SUCCESS",payload:{data:Object.values((null==(h=e.t0)?void 0:h.data).data).map(function(e){var t;return{id:null==e||null==(t=e.asset)?void 0:t.id,name:e.asset.name,type:e.type||"",owner:{id:e.owner.id,name:e.owner.full_name,image_medium_url:e.owner.img_medium_url},currencies:[],permissions:_[e.asset.id]||[],assigned_access_by:f[e.asset.id]||"",languages:[],updated_time:e.asset.updated_time||e.asset.created_time,created_time:e.asset.created_time,status:e.asset.status}})}}),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(4),t({type:"GET_CATALOGS_ERROR",error:e.t1});case 26:case"end":return e.stop()}},e,null,[[4,23]])})),function(e,n){return t.apply(this,arguments)}},A=function(e){var t,n=e.businessId,r=y(e,d);return t=b(regeneratorRuntime.mark(function e(t,o){var a,i,c,u,d,_,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o(),i=m(m({},(0,l.a$)(a)),r),t({type:"GET_CATALOGS"}),e.prev=4,e.next=7,(0,s.jk)(m({id:n},i));case 7:if(d=(u=(null==(c=e.sent)?void 0:c.data).data).map(function(e){return e.asset_id}),_=u.reduce(function(e,t){return e[t.asset_id]=t.permissions,e},{}),f=u.reduce(function(e,t){var n;return e[t.asset_id]=t.assigner_business_ids&&t.assigner_business_ids.length>0&&null!=(n=t.assigner_business_ids[0])?n:"",e},{}),!d.length){e.next=18;break}return e.next=15,(0,s.pI)(m({businessId:n,assetIds:d},i));case 15:e.t0=e.sent,e.next=19;break;case 18:e.t0={data:{data:{}}};case 19:t({type:"GET_CATALOGS_SUCCESS",payload:{data:Object.values((null==(h=e.t0)?void 0:h.data).data).map(function(e){var t;return{id:null==e||null==(t=e.asset)?void 0:t.id,name:e.asset.name,type:e.asset.type||"",owner:{id:e.owner.id,name:e.owner.full_name,image_medium_url:e.owner.img_medium_url},currencies:[],permissions:_[e.asset.id]||[],assigned_access_by:f[e.asset.id]||"",languages:[],updated_time:e.asset.updated_time||e.asset.created_time,created_time:e.asset.created_time,status:e.asset.status,resource_subtype:e.resource_subtype}})}}),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(4),t({type:"GET_CATALOGS_ERROR",error:e.t1});case 26:case"end":return e.stop()}},e,null,[[4,23]])})),function(e,n){return t.apply(this,arguments)}},g=function(e){var t;return t=b(regeneratorRuntime.mark(function t(n,o){var a,i,c,u,d,_,f,h,p,b,y,v,A;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_CATALOG_EMPLOYEES"}),t.prev=1,a=o(),i=(0,l.ZF)(a),c=(0,l.a$)(a),u=e.businessId,_=(d=m(m({},c),e)).searchTerm,f=d.page,h=d.limit,p=(0,r.IW)(e,d),b=m(m(m({},d),e),{},{businessId:u,assetId:i,startIndex:p,id:""}),t.next=12,(0,s.BG)(b);case 12:v=(y=t.sent.data).data,A=y.total_data_count,n({type:"GET_CATALOG_EMPLOYEES_SUCCESS",payload:{data:{catalogId:i,employees:v}}}),n({type:"SET_CATALOG_EMPLOYEES_TABLE_STATE",payload:{data:{table:{totalCount:A,searchTerm:_,page:f,limit:h}}}}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),n({type:"GET_CATALOG_EMPLOYEES_ERROR",error:t.t0});case 21:case"end":return t.stop()}},t,null,[[1,18]])})),function(e,n){return t.apply(this,arguments)}},S=function(e){var t;return t=b(regeneratorRuntime.mark(function t(n,o){var a,i,c,u,d,_,f,h,p,b,y;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_CATALOG_PARTNERS"}),t.prev=1,a=o(),i=(0,l.ZF)(a),u=(c=m(m({},(0,l.AQ)(a)),e)).searchTerm,d=c.page,_=c.limit,f=(0,r.IW)(e,c),h=m(m(m({},c),e),{},{assetId:i,startIndex:f,id:""}),t.next=11,(0,s.N1)(h);case 11:b=(p=t.sent.data).data,y=p.total_data_count,n({type:"GET_CATALOG_PARTNERS_SUCCESS",payload:{data:{catalogId:i,partners:b}}}),n({type:"SET_CATALOG_PARTNERS_TABLE_STATE",payload:{data:{table:{totalCount:y,searchTerm:u,page:d,limit:_}}}}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),n({type:"GET_CATALOG_PARTNERS_ERROR",error:t.t0});case 22:case"end":return t.stop()}},t,null,[[1,19]])})),function(e,n){return t.apply(this,arguments)}},x=function(e){var t,n=e.businessId;return t=b(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_CATALOG_INVITES"}),e.prev=1,e.next=4,(0,i.R)({id:n,is_member:!1,filters:{invite_status:["PENDING","EXPIRED"],invite_type:"PARTNER_REQUEST"}});case 4:return r=e.sent.data.data,e.next=8,(0,o.t$)({businessId:n,inviteIds:r.filter(function(e){return e.assets_summary.catalogs.length>0&&e.created_by_business.id===n}).map(function(e){return e.id}),invite_type:"PARTNER_REQUEST"});case 8:t({type:"GET_CATALOG_INVITES_SUCCESS",payload:{data:{invites:e.sent.data.data.flatMap(function(e){return e.assets.filter(function(e){return"CATALOG"===e.type}).map(function(t){var n,r,s,o;return{inviteId:e.id,invite_data:e.invite_data,catalog:{id:t.asset_id,name:t.name,catalog_type_for_invite:t.catalog_type,type:t.type,currencies:[],languages:[],permissions:t.permissions,owner:{name:(null==(n=t.owner)?void 0:n.full_name)||"",id:(null==(r=t.owner)?void 0:r.id)||"",image_medium_url:(null==(s=t.owner)?void 0:s.image_url)||"",email:(null==(o=e.extended_user_info)?void 0:o.email)||""}}}})})}}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t({type:"GET_CATALOG_INVITES_ERROR",error:e.t0});case 17:case"end":return e.stop()}},e,null,[[1,14]])})),function(e){return t.apply(this,arguments)}},E=function(e){return function(t){t({type:"SET_SELECTED_CATALOG_ID",payload:{data:e}})}},P=function(e){return function(t){t({type:"SET_SELECTED_INVITE_ID",payload:{data:e}})}},I=function(e){var t;return t=b(regeneratorRuntime.mark(function t(n){var r,o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.businessId,o=e.catalogId,!(!r&&!o)){t.next=3;break}return t.abrupt("return");case 3:return n({type:"GET_CATALOG"}),t.prev=4,t.next=7,(0,s.G2)({businessId:r,assetId:o,resourceType:"CATALOG",includeAssetSummary:!0});case 7:n({type:"GET_CATALOG_SUCCESS",payload:{data:h({},i=(a=t.sent.data.data).asset_id,m({id:i},y(a,_)))}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),n({type:"GET_CATALOG_ERROR",error:t.t0});case 17:case"end":return t.stop()}},t,null,[[4,14]])})),function(e){return t.apply(this,arguments)}},T=function(e){var t,n=e.businessId;return t=b(regeneratorRuntime.mark(function e(t,r){var s,o,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),o=(0,l.zW)(s),i={},Object.values(o).forEach(function(e){i[e.id]=e.owner.id}),0!==Object.keys(i).length){e.next=6;break}return e.abrupt("return");case 6:return t({type:"GET_CATALOG_OWNERS_AS_PARTNERS"}),e.prev=7,e.next=10,(0,a.Eg)({id:n,partners:Object.values(i),businessPartnerType:"UNDEFINED"});case 10:c=e.sent.data.data.reduce(function(e,t){return e[t.id]=t,e},{}),t({type:"GET_CATALOG_OWNERS_AS_PARTNERS_SUCCESS",payload:{data:Object.keys(i).reduce(function(e,t){var n=i[t];return n&&c[n]&&(e[t]=c[n]),e},{})}}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),t({type:"GET_CATALOG_OWNERS_AS_PARTNERS_ERROR",error:e.t0});case 20:case"end":return e.stop()}},e,null,[[7,17]])})),function(e,n){return t.apply(this,arguments)}}},254925:function(e,t,n){"use strict";n.d(t,{MB:function(){return p},Sf:function(){return y},UK:function(){return m},Xc:function(){return A},oF:function(){return f},sS:function(){return v},zg:function(){return b},zs:function(){return h}});var r=n(239426),s=n(563218),o=n(721819),a=n(498452),i=n(140537);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){d(o,r,s,a,i,"next",e)}function i(e){d(o,r,s,a,i,"throw",e)}a(void 0)})}}var f=function(e){var t;return t=_(regeneratorRuntime.mark(function t(n,s){var a,l,c,d,_,f,m,h,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.businessId,l=e.accountId,c=e.sharedWithPartner,n({type:"GET_CONVERSION_SEGMENTS"}),t.prev=2,_=s(),f=(0,i.Nu)(_),m=(0,r.IW)(e,u(u({},f),{},{limit:f.limit||10,startIndex:f.startIndex||0})),h=u(u(u({},f),e),{},{businessId:a,accountId:l,startIndex:m}),t.next=9,(0,o.oF)({businessId:a,sharedWithPartner:c});case 9:if(t.t1=d=t.sent,t.t0=null!==t.t1,!t.t0){t.next=13;break}t.t0=void 0!==d;case 13:if(!t.t0){t.next=17;break}t.t2=d,t.next=18;break;case 17:t.t2=[];case 18:n({type:"GET_CONVERSION_SEGMENTS_SUCCESS",payload:{data:p=t.t2}}),n({type:"SET_CONVERSION_SEGMENTS_TABLE_STATE",payload:{data:{table:{totalCount:(null==p?void 0:p.length)||0,searchTerm:h.searchTerm||"",page:h.page||1,limit:h.limit||10,sortDirection:h.sortDirection||"ASCENDING"}}}}),t.next=26;break;case 23:t.prev=23,t.t3=t.catch(2),n({type:"GET_CONVERSION_SEGMENTS_ERROR",error:t.t3});case 26:case"end":return t.stop()}},t,null,[[2,23]])})),function(e,n){return t.apply(this,arguments)}},m=function(e){var t;return t=_(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_SELECTED_CONVERSION_ID",payload:{selectedConversionId:e}});case 1:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}},h=function(e){var t;return t=_(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_CONVERSION_SEGMENTS_AD_ACCOUNTS"}),t.prev=1,t.next=4,(0,o.uL)(e.businessId,e.conversionId);case 4:r=t.sent,e.partnerId&&(r=r.filter(function(t){return t.owner_id===e.partnerId})),n({type:"GET_CONVERSION_SEGMENTS_AD_ACCOUNTS_SUCCESS",payload:{adAccounts:r.map(function(e){return{owner:{id:e.owner_id,full_name:e.owner_name,username:"",image_small_url:"",image_medium_url:"",image_xlarge_url:"",email:"",is_partner:!1},asset_id:e.account_id,asset:{id:e.account_id,name:e.account_name,created_time:e.shared_on,owner_user_id:e.owner_id,updated_time:e.shared_on,agency_user_id:"",creator:e.owner_name},permissions:[],type:"AD_ACCOUNT",name:e.account_name}}),conversionId:e.conversionId}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n({type:"GET_CONVERSION_SEGMENTS_AD_ACCOUNTS_ERROR",error:t.t0});case 13:case"end":return t.stop()}},t,null,[[1,10]])})),function(e){return t.apply(this,arguments)}},p=function(e){var t;return t=_(regeneratorRuntime.mark(function t(n){var r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"GET_CONVERSION_TYPES"});try{r=new Date("Mon, 04 May 2020 23:30:30 +0000"),s=[{eventName:"PAGE_VISIT",eventCount:1e3,lastReceivedTime:r,conversionId:e.conversionId},{eventName:"LEAD",eventCount:500,lastReceivedTime:r,conversionId:e.conversionId},{eventName:"ADD_TO_CART",eventCount:1300,lastReceivedTime:r,conversionId:e.conversionId},{eventName:"SIGNUP",eventCount:200,lastReceivedTime:r,conversionId:e.conversionId},{eventName:"CHECKOUT",eventCount:6100,lastReceivedTime:r,conversionId:e.conversionId}],n({type:"GET_CONVERSION_TYPES_SUCCESS",payload:{conversionTypes:s,conversionId:e.conversionId}})}catch(e){n({type:"GET_CONVERSION_TYPES_ERROR",error:e})}case 2:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}},b=function(e,t){var n;return n=_(regeneratorRuntime.mark(function n(r){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"DELETE_CONVERSION_SEGMENT"}),n.prev=1,n.next=4,(0,o.zg)(e,t);case 4:r({type:"DELETE_CONVERSION_SEGMENT_SUCCESS",payload:{conversionId:e}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),r({type:"DELETE_CONVERSION_SEGMENT_ERROR",error:n.t0});case 10:case"end":return n.stop()}},n,null,[[1,7]])})),function(e){return n.apply(this,arguments)}},y=function(e,t,n){var r;return r=_(regeneratorRuntime.mark(function r(s){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s({type:"REVOKE_PARTNER_ACCESS"}),r.prev=1,r.next=4,(0,a.OA)({businessId:e,partnerId:n,assetId:t});case 4:s({type:"REVOKE_PARTNER_ACCESS_SUCCESS",payload:{conversionId:t}}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),s({type:"REVOKE_PARTNER_ACCESS_ERROR",error:r.t0});case 10:case"end":return r.stop()}},r,null,[[1,7]])})),function(e){return r.apply(this,arguments)}},v=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0;return n=_(regeneratorRuntime.mark(function n(i){var l,c,u,d,_;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i({type:"GET_CONVERSION_SEGMENT_PARTNER"}),!(!r&&a)){n.next=10;break}return i({type:"GET_CONVERSION_SEGMENT_PARTNER_SUCCESS",payload:{partner:c={id:l=a.isAuth?a.id:"",permissions:o,user:{id:l,full_name:a.isAuth?a.fullName:"",image_small_url:a.isAuth?a.imageSmallUrl:""}},conversionId:t}}),n.abrupt("return",c);case 10:return n.prev=10,u={id:e,businessId:e,assetId:t},n.next=14,(0,s.N1)(u);case 14:return i({type:"GET_CONVERSION_SEGMENT_PARTNER_SUCCESS",payload:{partner:_=(null==(d=n.sent.data.data)?void 0:d[0])||void 0,conversionId:t}}),n.abrupt("return",_);case 21:return n.prev=21,n.t0=n.catch(10),i({type:"GET_CONVERSION_SEGMENT_PARTNER_ERROR",error:n.t0}),n.abrupt("return",void 0);case 25:case"end":return n.stop()}},n,null,[[10,21]])})),function(e){return n.apply(this,arguments)}},A=function(e,t,n,r){var s;return s=_(regeneratorRuntime.mark(function s(o){return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o({type:"UPDATE_PARTNER_ACCESS"}),s.prev=1,s.next=4,(0,a.SZ)({businessId:e,partnerId:n,assetId:t,permissions:r});case 4:o({type:"UPDATE_PARTNER_ACCESS_SUCCESS",payload:{partnerId:n,conversionId:t,permissions:r}}),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(1),o({type:"UPDATE_PARTNER_ACCESS_ERROR",error:s.t0});case 10:case"end":return s.stop()}},s,null,[[1,7]])})),function(e){return s.apply(this,arguments)}}},672539:function(e,t,n){"use strict";n.d(t,{$w:function(){return C},Ak:function(){return N},DJ:function(){return w},Fg:function(){return O},Iy:function(){return v},NW:function(){return T},Ni:function(){return j},P6:function(){return x},RC:function(){return y},SF:function(){return A},SV:function(){return R},TM:function(){return z},V_:function(){return I},bU:function(){return g},de:function(){return E},e7:function(){return P},fN:function(){return b},hE:function(){return D},iT:function(){return k},r7:function(){return L},zz:function(){return S}});var r=n(719301),s=n(239426),o=n(563218),a=n(162295),i=n(2877),l=n(208422),c=n(343015);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){var r;return(r=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==u(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){h(o,r,s,a,i,"next",e)}function i(e){h(o,r,s,a,i,"throw",e)}a(void 0)})}}var b=function(e){var t,n=e.businessId,s=e.detailId;return t=p(regeneratorRuntime.mark(function e(t){var o,a,i,c,u,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_EMPLOYEES"}),e.prev=1,o={id:n,personId:s,includeAssetSummary:!0,limit:r.xX},e.next=5,(0,l.JC)(o);case 5:if(c=void 0===(i=(a=e.sent.data).data)?[]:i,!((d=Math.ceil((void 0===(u=a.total_data_count)?1:u)/r.xX))<=1)){e.next=11;break}return t({type:"GET_EMPLOYEES_SUCCESS",payload:{data:c}}),e.abrupt("return");case 11:var h;return f=((function(e){if(Array.isArray(e))return m(e)})(h=Array(d).keys())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(h)||function(e,t){if(e){if("string"==typeof e)return m(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,void 0):void 0}}(h)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).slice(1),e.next=14,Promise.allSettled(f.map(function(e){return(0,l.JC)(_(_({},o),{},{startIndex:e*r.xX}))}));case 14:t({type:"GET_EMPLOYEES_SUCCESS",payload:{data:e.sent.reduce(function(e,t){var n,r;return null!=(n=t.value)&&null!=(r=n.data)&&r.data&&(e=e.concat(t.value.data.data)),e},c)}}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),t({type:"GET_EMPLOYEES_ERROR",error:e.t0});case 22:case"end":return e.stop()}},e,null,[[1,19]])})),function(e){return t.apply(this,arguments)}},y=function(e){var t,n=e.businessId;return t=p(regeneratorRuntime.mark(function e(t){var s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_EMPLOYEES_INVITES"}),e.prev=1,s={id:n,is_member:!0,filters:{invite_status:["PENDING","EXPIRED"]},limit:r.xX},e.next=5,(0,i.R)(s);case 5:t({type:"GET_EMPLOYEES_INVITES_SUCCESS",payload:{data:{invites:void 0===(o=e.sent.data.data)?[]:o}}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:"GET_EMPLOYEES_INVITES_ERROR",error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])})),function(e){return t.apply(this,arguments)}},v=function(e){var t,n=e.inviteIds,r=e.businessId;return t=p(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"ADD_EMPLOYEES_INVITES"}),e.prev=1,e.next=4,(0,a.t$)({businessId:r,inviteIds:n});case 4:t({type:"ADD_EMPLOYEES_INVITES_SUCCESS",payload:{data:{invites:void 0===(s=e.sent.data.data)?[]:s}}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"ADD_EMPLOYEES_INVITES_ERROR",error:e.t0});case 13:case"end":return e.stop()}},e,null,[[1,10]])})),function(e){return t.apply(this,arguments)}},A=function(e){var t,n=e.businessId,s=e.inCatalogManagement;return t=p(regeneratorRuntime.mark(function e(t){var a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_EMPLOYEE_ROLES"}),e.prev=1,e.next=4,(0,o.cE)({id:n,limit:r.cU});case 4:if(i=e.sent,!s){e.next=11;break}return e.next=8,(0,o.jk)({id:n,limit:r.cU});case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=void 0;case 12:l=e.t0,t({type:"GET_EMPLOYEE_ROLES_SUCCESS",payload:{data:{assetRoles:{adAccounts:i.data.data.reduce(function(e,t){return _(_({},e),f({},t.asset_id,t.permissions))},{}),catalogs:((null==l||null==(a=l.data)?void 0:a.data)||[]).reduce(function(e,t){return _(_({},e),f({},t.asset_id,t.permissions))},{})}}}}),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(1),t({type:"GET_EMPLOYEE_ROLES_ERROR",payload:e.t1});case 22:case"end":return e.stop()}},e,null,[[1,19]])})),function(e){return t.apply(this,arguments)}},g=function(e,t){var n;return n=p(regeneratorRuntime.mark(function n(r,a){var i,l,u,d,f,m,h,p,b,y,v,A,g,S,x,E;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=(null==t?void 0:t.updateDataOnly)||!1,l=a(),u=(0,c.YM)(l),d=(0,s.IW)(e,u),r({type:"GET_EMPLOYEE_ADACCOUNTS"}),n.prev=5,p=_(_(_({assetIds:(null==(f=(h=(0,c.cc)(l)).assets_summary)||null==(m=f.ad_accounts)?void 0:m.map(function(e){return e.id||""}))||[]},u),e),{},{sortBy:e.sortBy||u.sortBy,sortDirection:e.sortDirection||u.sortDirection,startIndex:d,resourceType:"AD_ACCOUNT"},0===d&&{page:1}),n.next=10,(0,o.pI)(p);case 10:v=void 0===(y=(b=void 0===(b=(n.sent||{}).data)?{}:b).data)?{}:y,g=void 0===(A=b.total_data_count)?0:A,S=[],Object.keys(v).forEach(function(e){var t,n=((null==(t=h.assets_summary)?void 0:t.ad_accounts)||[]).find(function(t){return t.id===e});S.push(_(_({},v[e]),{},{permissions:(null==n?void 0:n.permissions)||[]}))}),r({type:"GET_EMPLOYEE_ADACCOUNTS_SUCCESS",payload:{data:{adAccounts:S,employeeId:h.id},updateDataOnly:i}}),x=p.searchTerm,E=p.page,r({type:"SET_ADACCOUNTS_TABLE_STATE",payload:{data:{table:{totalCount:g,searchTerm:x,page:E,limit:p.limit,sortBy:p.sortBy,sortDirection:p.sortDirection}}}}),n.next=25;break;case 22:n.prev=22,n.t0=n.catch(5),r({type:"GET_EMPLOYEE_ADACCOUNTS_ERROR",payload:n.t0});case 25:case"end":return n.stop()}},n,null,[[5,22]])})),function(e,t){return n.apply(this,arguments)}},S=function(e,t){var n;return n=p(regeneratorRuntime.mark(function n(r,a){var i,l,u,d,f,m,h,p,b,y,v,A,g,S,x,E;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=(null==t?void 0:t.updateDataOnly)||!1,l=a(),u=(0,c.$b)(l),d=(0,s.IW)(e,u),r({type:"GET_EMPLOYEE_PROFILES"}),n.prev=5,p=_(_(_({assetIds:(null==(f=(h=(0,c.cc)(l)).assets_summary)||null==(m=f.profiles)?void 0:m.map(function(e){return e.id||""}))||[]},u),e),{},{sortBy:e.sortBy||u.sortBy,sortDirection:e.sortDirection||u.sortDirection,startIndex:d,resourceType:"PROFILE"},0===d&&{page:1}),n.next=10,(0,o.pI)(p);case 10:v=void 0===(y=(b=void 0===(b=(n.sent||{}).data)?{}:b).data)?{}:y,g=void 0===(A=b.total_data_count)?0:A,S=[],Object.keys(v).forEach(function(e){var t,n=((null==(t=h.assets_summary)?void 0:t.profiles)||[]).find(function(t){return t.id===e});S.push(_(_({},v[e]),{},{user:h.user,permissions:(null==n?void 0:n.permissions)||[]}))}),r({type:"GET_EMPLOYEE_PROFILES_SUCCESS",payload:{data:{profiles:S,employeeId:h.id},updateDataOnly:i}}),x=p.searchTerm,E=p.page,r({type:"SET_PROFILES_TABLE_STATE",payload:{data:{table:{totalCount:g,searchTerm:x,page:E,limit:p.limit,sortBy:p.sortBy,sortDirection:p.sortDirection}}}}),n.next=25;break;case 22:n.prev=22,n.t0=n.catch(5),r({type:"GET_EMPLOYEE_PROFILES_ERROR",payload:n.t0});case 25:case"end":return n.stop()}},n,null,[[5,22]])})),function(e,t){return n.apply(this,arguments)}},x=function(e){var t,n=e.employeeId;return t=p(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"DELETE_EMPLOYEES"});try{t({type:"DELETE_EMPLOYEES_SUCCESS",payload:{data:n}})}catch(e){t({type:"DELETE_EMPLOYEES_ERROR",error:e})}case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},E=function(e){var t,n=e.id;return t=p(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"DELETE_EMPLOYEES_INVITES"});try{t({type:"DELETE_EMPLOYEES_INVITES_SUCCESS",payload:{data:n}})}catch(e){t({type:"DELETE_EMPLOYEES_INVITES_ERROR",error:e})}case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},P=function(e){var t,n=e.employeeId,r=e.role;return t=p(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"UPDATE_EMPLOYEES_ROLE"});try{t({type:"UPDATE_EMPLOYEES_ROLE_SUCCESS",payload:{data:{employeeId:n,role:r}}})}catch(e){t({type:"UPDATE_EMPLOYEES_ROLE_ERROR",error:e})}case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},I=function(e){var t=e.adAccountId,n=e.employeeId;return function(e){e({type:"DELETE_EMPLOYEES_ADACCOUNT"});try{e({type:"DELETE_EMPLOYEES_ADACCOUNT_SUCCESS",payload:{data:{adAccountId:t,employeeId:n}}})}catch(t){e({type:"DELETE_EMPLOYEES_ADACCOUNT_ERROR",error:t})}}},T=function(e){var t=e.profileId,n=e.employeeId;return function(e){e({type:"DELETE_EMPLOYEES_PROFILE"});try{e({type:"DELETE_EMPLOYEES_PROFILE_SUCCESS",payload:{data:{employeeId:n,profileId:t}}})}catch(t){e({type:"DELETE_EMPLOYEES_PROFILE_ERROR",error:t})}}},C=function(e){var t=e.catalogId,n=e.employeeId;return function(e){e({type:"DELETE_EMPLOYEES_CATALOG"});try{e({type:"DELETE_EMPLOYEES_CATALOG_SUCCESS",payload:{data:{catalogId:t,employeeId:n}}})}catch(t){t instanceof Error&&e({type:"DELETE_EMPLOYEES_CATALOG_ERROR",error:t})}}},O=function(e){return function(t){t({type:"ADD_EMPLOYEES_ADACCOUNT"});try{t({type:"ADD_EMPLOYEES_ADACCOUNT_SUCCESS",payload:{data:e}})}catch(e){e instanceof Error&&t({type:"ADD_EMPLOYEES_ADACCOUNT_ERROR",error:e})}}},j=function(e){return function(t,n){t({type:"ADD_EMPLOYEES_PROFILE"});try{var r=n(),s=(0,c.cc)(r),o=e.addedProfiles.map(function(e){return _(_({},e),{},{user:s.user})});t({type:"ADD_EMPLOYEES_PROFILE_SUCCESS",payload:{data:_(_({},e),{},{addedProfiles:o})}})}catch(e){t({type:"ADD_EMPLOYEES_PROFILE_ERROR",error:e})}}},z=function(e){return function(t){t({type:"ADD_EMPLOYEES_CATALOG"});try{t({type:"ADD_EMPLOYEES_CATALOG_SUCCESS",payload:{data:e}})}catch(e){e instanceof Error&&t({type:"ADD_EMPLOYEES_CATALOG_ERROR",error:e})}}},w=function(e){var t=e.id;return function(e){e({type:"SET_BUSINESS",payload:{data:t}})}},N=function(e){var t=e.id;return function(e){e({type:"SELECT_EMPLOYEES",payload:{data:t}})}},R=function(e){var t=e.id;return function(e){e({type:"SELECT_EMPLOYEES_INVITES",payload:{data:t}})}},D=function(e){var t=e.id;return function(e){e({type:"REFRESH_EMPLOYEE_INVITE_DATE",payload:{data:t}})}},k=function(e){var t;return t=p(regeneratorRuntime.mark(function t(n,r){var a,i,u,d,f,m,h,p,b,y,v,A,g,S,x,E,P,I,T;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n({type:"GET_EMPLOYEE_ASSET_GROUPS"}),t.prev=1,i=r(),u=e.businessId){t.next=6;break}return t.abrupt("return");case 6:return d=(0,c.s5)(i),f=(0,c.cc)(i),m=(0,s.IW)(e,d),h=_(_(_({personId:f.id},d),e),{},{startIndex:m},0===m&&{page:1}),t.next=12,(0,l.n5)(_(_({},h),{},{sortBy:"name",searchBy:"name",id:""}));case 12:if(t.t0=t.sent,t.t0){t.next=15;break}t.t0={data:{}};case 15:return y=void 0===(b=(p=t.t0.data).data)?[]:b,A=void 0===(v=p.total_data_count)?0:v,g=y.map(function(e){return e.asset_id}),t.next=24,(0,o.pI)({limit:h.limit,assetIds:g,businessId:u,resourceType:"ASSET_GROUP"});case 24:x=(null==(S=t.sent)||null==(a=S.data)?void 0:a.data)||{},E=[],y.forEach(function(e){E.push(_(_({},e),x[e.asset_id]))}),n({type:"GET_EMPLOYEE_ASSET_GROUPS_SUCCESS",payload:{data:{assetGroups:E,employeeId:f.id}}}),P=h.searchTerm,I=h.page,T=h.limit,n({type:"SET_ASSET_GROUPS_TABLE_STATE",payload:{data:{table:{totalCount:A,searchTerm:P,page:I,limit:T}}}}),t.next=37;break;case 34:t.prev=34,t.t1=t.catch(1),n({type:"GET_EMPLOYEE_ASSET_GROUPS_ERROR",error:t.t1});case 37:case"end":return t.stop()}},t,null,[[1,34]])})),function(e,n){return t.apply(this,arguments)}},L=function(e,t){var n;return n=p(regeneratorRuntime.mark(function n(r,a){var i,u,d,f,m,h,p,b,y,v,A,g,S,x,E,P,I,T,C,O,j;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r({type:"GET_EMPLOYEE_CATALOGS"}),n.prev=1,u=a(),d=e.businessId){n.next=6;break}return n.abrupt("return");case 6:return f=(0,c.Mc)(u),m=(0,c.cc)(u),h=(0,s.IW)(e,f),p=_(_(_({personId:(null==m?void 0:m.id)||t},f),e),{},{startIndex:h},0===h&&{page:1}),n.next=12,(0,l.pe)(_(_({},p),{},{sortBy:"name",searchBy:"name",id:""}));case 12:if(n.t0=n.sent,n.t0){n.next=15;break}n.t0={data:{}};case 15:return v=void 0===(y=(b=n.t0.data).data)?[]:y,g=void 0===(A=b.total_data_count)?0:A,S=v.map(function(e){return e.asset_id}),n.next=24,(0,o.pI)({limit:p.limit,assetIds:S,businessId:d,resourceType:"CATALOG"});case 24:E=(null==(x=n.sent)||null==(i=x.data)?void 0:i.data)||{},P=[],v.forEach(function(e){P.push(_(_({},e),E[e.asset_id]))}),r({type:"GET_EMPLOYEE_CATALOGS_SUCCESS",payload:{data:{employeeId:(null==m?void 0:m.id)||t,catalogs:P}}}),I=p.searchTerm,T=p.page,C=p.limit,O=p.sortBy,j=p.sortDirection,r({type:"SET_CATALOGS_TABLE_STATE",payload:{data:{table:{totalCount:g,searchTerm:I,page:T,limit:C,sortBy:O,sortDirection:j}}}}),n.next=36;break;case 33:n.prev=33,n.t1=n.catch(1),r({type:"GET_EMPLOYEE_CATALOGS_ERROR",error:n.t1});case 36:case"end":return n.stop()}},n,null,[[1,33]])})),function(e,t){return n.apply(this,arguments)}}},436029:function(e,t,n){"use strict";function r(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(s,o){var a=e.apply(t,n);function i(e){r(a,s,o,i,l,"next",e)}function l(e){r(a,s,o,i,l,"throw",e)}i(void 0)})}}n.d(t,{N:function(){return a},i:function(){return i}});var o,a=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n=s(regeneratorRuntime.mark(function t(n,s){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((null!=(a=s().businessAccess.employers)&&a.list||null!=a&&a.isLoading)&&!o)){t.next=3;break}return t.abrupt("return");case 3:return n({type:"GET_EMPLOYERS"}),t.prev=4,t.next=7,e();case 7:n({type:"GET_EMPLOYERS_SUCCESS",payload:{data:t.sent,showTooltip:r}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),n({type:"GET_EMPLOYERS_ERROR",error:t.t0});case 14:case"end":return t.stop()}},t,null,[[4,11]])})),function(e,t){return n.apply(this,arguments)}},i=(o=s(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"HIDE_EMPLOYERS_TOOLTIP"});case 1:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})},196090:function(e,t,n){"use strict";n.d(t,{$R:function(){return S},ED:function(){return I},H7:function(){return A},HC:function(){return g},JJ:function(){return C},Jl:function(){return T},Ol:function(){return b},UF:function(){return x},YK:function(){return v},c_:function(){return E},dq:function(){return p},hY:function(){return P},tU:function(){return O},wW:function(){return y}});var r=n(432730),s=n(472504),o=n(355750),a=n(162295),i=n(300214);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){var r;return(r=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==l(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){m(o,r,s,a,i,"next",e)}function i(e){m(o,r,s,a,i,"throw",e)}a(void 0)})}}var p=function(e){var t,n=e.acceptInviteInterface,r=e.businessId,s=e.type,a=e.inviteId,l=e.onSuccess,c=e.onError;return t=h(regeneratorRuntime.mark(function e(t,u){var d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d=u(),t({type:"DECLINE_INVITE"}),_=(0,i.t_)(d),e.prev=3,e.next=6,n({id:a,accept:!1});case 6:l&&l(),t({type:"DECLINE_INVITE_SUCCESS"}),"PARTNER"===s&&t((0,o.R)(_,"PARTNER",r)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"DECLINE_INVITE_ERROR",error:e.t0}),c&&c(e.t0.message);case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e,n){return t.apply(this,arguments)}},b=function(e){var t,n=e.acceptInviteInterface,r=e.businessId,a=e.type,l=e.inviteId,c=e.onSuccess,u=e.onError;return t=h(regeneratorRuntime.mark(function e(t,d){var _,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _=d(),t({type:"ACCEPT_INVITE"}),f=(0,i.t_)(_),e.prev=3,e.next=6,n({id:l,accept:!0});case 6:c&&(t((0,s.Bw)(l)),c()),t({type:"ACCEPT_INVITE_SUCCESS"}),"PARTNER"===a&&t((0,o.R)(f,"PARTNER",r)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"ACCEPT_INVITE_ERROR",error:e.t0}),u&&u(e.t0.message);case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e,n){return t.apply(this,arguments)}},y=function(e,t){var n;return n=h(regeneratorRuntime.mark(function n(r){var s,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s={businessId:t,inviteOrRequestId:e,type:"MEMBER_INVITE"},r({type:"GET_INVITE_DATA"}),n.prev=2,n.next=5,(0,a.Ts)(s);case 5:r({type:"GET_INVITE_DATA_SUCCESS",payload:f({type:"members"},(o=n.sent.data.data).id,o)}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),r({type:"GET_INVITE_DATA_ERROR",error:n.t0});case 13:case"end":return n.stop()}},n,null,[[2,10]])})),function(e){return n.apply(this,arguments)}},v=function(e,t){var n;return n=h(regeneratorRuntime.mark(function n(r){var s,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s={businessId:t,inviteOrRequestId:e,type:"PARTNER_INVITE"},r({type:"GET_INVITE_DATA"}),n.prev=2,n.next=5,(0,a.Ts)(s);case 5:r({type:"GET_INVITE_DATA_SUCCESS",payload:f({type:"partners"},(o=n.sent.data.data).id,o)}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),r({type:"GET_INVITE_DATA_ERROR",error:n.t0});case 13:case"end":return n.stop()}},n,null,[[2,10]])})),function(e){return n.apply(this,arguments)}},A=function(){return function(e){return e({type:"CLEAR_PARTNER_INVITE_DATA"})}},g=function(){return function(e){return e({type:"CLEAR_PARTNER_REQUEST_DATA"})}},S=function(e,t){var n;return n=h(regeneratorRuntime.mark(function n(r){var s,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s={businessId:t,inviteOrRequestId:e,type:"PARTNER_REQUEST"},r({type:"GET_REQUEST_DATA"}),n.prev=2,n.next=5,(0,a.Ts)(s);case 5:r({type:"GET_REQUEST_DATA_SUCCESS",payload:f({type:"partners"},(o=n.sent.data.data).id,o)}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),r({type:"GET_REQUEST_DATA_ERROR",error:n.t0});case 13:case"end":return n.stop()}},n,null,[[2,10]])})),function(e){return n.apply(this,arguments)}},x=function(e){var t,n=e.businessId,r=e.type,s=e.inviteId,l=e.onSuccess,c=e.onError;return t=h(regeneratorRuntime.mark(function e(t,u){var d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d=u(),_=(0,i.t_)(d),t({type:"DELETE_INVITE"}),e.prev=3,e.next=6,(0,a.UF)({businessId:n,inviteId:s,type:"MEMBER"===r?"MEMBER_INVITE":"PARTNER_INVITE"});case 6:l(),t({type:"DELETE_INVITE_SUCCESS"}),t((0,o.R)(_,r,n)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"DELETE_INVITE_ERROR",error:e.t0}),c(e.t0.message);case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e,n){return t.apply(this,arguments)}},E=function(e){var t,n=e.businessId,r=e.inviteId,s=e.type,l=e.onSuccess,c=e.onError;return t=h(regeneratorRuntime.mark(function e(t,u){var d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d=u(),_=(0,i.t_)(d),t({type:"RESEND_INVITE"}),e.prev=3,e.next=6,(0,a.c_)({businessId:n,inviteId:r,type:"MEMBER"===s?"MEMBER_INVITE":"PARTNER_INVITE"});case 6:l(),t({type:"RESEND_INVITE_SUCCESS"}),t((0,o.R)(_,s,n)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"RESEND_INVITE_ERROR",error:e.t0}),c(e.t0.message);case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e,n){return t.apply(this,arguments)}},P=function(e){var t,n=e.businessId,r=e.requestId,s=e.onSuccess,l=e.onError;return t=h(regeneratorRuntime.mark(function e(t,c){var u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=c(),d=(0,i.t_)(u),t({type:"DECLINE_REQUEST"}),e.prev=3,e.next=6,(0,a.ED)({requestId:r,accept:!1,businessId:n});case 6:s(),t({type:"DECLINE_REQUEST"}),t((0,o.R)(d,"PARTNER",n)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"DECLINE_REQUEST_ERROR",error:e.t0}),l(e.t0.message,e.t0.code);case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e,n){return t.apply(this,arguments)}},I=function(e){var t,n=e.businessId,r=e.requestId,l=e.acceptedRole,c=e.acceptedAssets,_=e.onSuccess,m=e.onError;return t=h(regeneratorRuntime.mark(function e(t,h){var p,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p=h(),b=(0,i.t_)(p),y=c?Object.entries(c).filter(function(e){var t=d(e,2)[1];return!(0===t.length||t.includes("NO_ACCESS"))}).reduce(function(e,t){var n=d(t,2),r=n[0],s=n[1];return u(u({},e),{},f({},r,s))},{}):void 0,t({type:"ACCEPT_REQUEST"}),e.prev=4,e.next=7,(0,a.ED)({requestId:r,accept:!0,role:l,resources:y,businessId:n});case 7:t((0,s._P)(r)),_(),t({type:"ACCEPT_REQUEST"}),t((0,o.R)(b,"PARTNER",n)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),t({type:"ACCEPT_REQUEST_ERROR",error:e.t0}),m(e.t0.message,e.t0.code);case 17:case"end":return e.stop()}},e,null,[[4,13]])})),function(e,n){return t.apply(this,arguments)}},T=function(e){var t,n=e.businessId,l=e.requestId,c=e.onSuccess,u=e.onError,d=e.isCatalogsPage,_=void 0!==d&&d;return t=h(regeneratorRuntime.mark(function e(t,d){var f,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f=d(),m=(0,i.t_)(f),t({type:"DELETE_REQUEST"}),e.prev=3,e.next=6,(0,a.UF)({businessId:n,inviteId:l,type:"PARTNER_REQUEST"});case 6:c(),t({type:"DELETE_REQUEST_SUCCESS"}),t((0,s._P)(l)),t((0,o.R)(m,"PARTNER",n)),_&&t((0,r.oY)({businessId:n})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),t({type:"DELETE_REQUEST_ERROR",error:e.t0}),u(e.t0.message);case 17:case"end":return e.stop()}},e,null,[[3,13]])})),function(e,n){return t.apply(this,arguments)}},C=function(e){var t,n=e.businessId,r=e.requestId,s=e.onSuccess,l=e.onError;return t=h(regeneratorRuntime.mark(function e(t,c){var u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=c(),d=(0,i.t_)(u),t({type:"RESEND_INVITE"}),e.prev=3,e.next=6,(0,a.c_)({businessId:n,inviteId:r,type:"PARTNER_REQUEST"});case 6:s(),t({type:"RESEND_INVITE_SUCCESS"}),t((0,o.R)(d,"PARTNER",n)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"RESEND_INVITE_ERROR",error:e.t0}),l(e.t0.message,e.t0.code);case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e,n){return t.apply(this,arguments)}},O=function(e){var t,n=e.inviteId,r=e.action,s=e.onSuccess,o=e.onFailure,i=e.businessEntityId,l=e.resourceIdToRoles,c=void 0===l?null:l,u=e.dedicatedAdAccountId,d=void 0===u?null:u,_=e.domainDestinations,f=void 0===_?null:_;return t=h(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"RESPOND_RMN_PARTNER_INVITE",payload:null,error:null}),e.prev=1,e.next=4,(0,a.Gy)({inviteId:n,action:r,businessEntityId:i,resourceIdToRoles:c,dedicatedAdAccountId:d,domainDestinations:f});case 4:t({type:"RESPOND_RMN_PARTNER_INVITE_SUCCESS",payload:null,error:null}),s&&s(),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(1),t({type:"RESPOND_RMN_PARTNER_INVITE_ERROR",payload:null,error:e.t0}),o&&o(e.t0),e.t0;case 13:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return t.apply(this,arguments)}}},472504:function(e,t,n){"use strict";n.d(t,{Bw:function(){return d},Mm:function(){return u},_P:function(){return _}});var r=n(162295);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){var r;return(r=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){l(o,r,s,a,i,"next",e)}function i(e){l(o,r,s,a,i,"throw",e)}a(void 0)})}}var u=function(e,t){var n,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n=c(regeneratorRuntime.mark(function n(o){var l,c,u,d,_,f,m,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l={id:t,filters:{invite_status:e}},o({type:"GET_PARTNERS_REQUESTS"}),n.prev=3,n.next=6,(0,r.XJ)(l);case 6:d=void 0===(u=(c=void 0===(c=n.sent.data)?{}:c).data)?[]:u,_=c.total_data_count,m=(f=d.reduce(function(e,t){return e.ids.push(t.id),e.data=a(a({},e.data),{},i({},t.id,t)),e},{ids:[],data:{}})).ids,h=f.data,o({type:"GET_PARTNERS_REQUESTS_SUCCESS",payload:a(a({},l),{},{ids:m,data:h,totalCount:_,requestStatus:e,type:"partner",updateDataOnly:s})}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(3),o({type:"GET_PARTNERS_REQUESTS_ERROR",error:n.t0});case 17:case"end":return n.stop()}},n,null,[[3,14]])})),function(e){return n.apply(this,arguments)}},d=function(e){var t;return t=c(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"CLEAR_INVITE",payload:{id:e}});case 1:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}},_=function(e){var t;return t=c(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"CLEAR_REQUEST",payload:{id:e}});case 1:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}}},497131:function(e,t,n){"use strict";n.d(t,{C:function(){return _},w:function(){return d}});var r=n(239426),s=n(585812),o=n(618550),a=n(767415);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var d=function(e){return{type:"SET_BILLING_INVOICES_VISIBILITY",payload:e}},_=function(e){var t,n;return t=regeneratorRuntime.mark(function t(n,i){var l,u,d,_,f,m,h,p,b,y,v,A,g,S,x,E;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((0,a.nP)("bizAccess.invoiceDetail.getBillingInvoices",{sampleRate:1,tags:{status:"attempt"}}),l=i(),u=e.businessId){t.next=5;break}return t.abrupt("return");case 5:return d=(0,o.MG)(l),_=(0,r.IW)(e,d),f=c(c(c({id:u},d),e),{},{startIndex:_},0===_&&{page:1}),n({type:"GET_BILLING_INVOICES"}),t.prev=9,m=(0,s.C)(f),h=new Promise(function(t){var n;return null==(n=e.abortController)?void 0:n.signal.addEventListener("abort",function(){return t("aborted")})}),t.next=14,Promise.race([m,h]);case 14:if("aborted"!==(p=t.sent)){t.next=18;break}return(0,a.nP)("bizAccess.invoiceDetail.getBillingInvoices",{sampleRate:1,tags:{status:"aborted"}}),t.abrupt("return");case 18:v=void 0===(y=(b=(null==p?void 0:p.data)||{}).invoices)?[]:y,g=void 0===(A=b.total_result_count)?0:A,x=(S=(0,r.Ah)(function(e){return e.invoice_id},v)).ids,E=S.data,(0,a.nP)("bizAccess.invoiceDetail.getBillingInvoices",{sampleRate:1,tags:{status:"success"}}),n({type:"GET_BILLING_INVOICES_SUCCESS",payload:c(c({},f),{},{ids:x,data:E,totalCount:g})}),t.next=28;break;case 24:t.prev=24,t.t0=t.catch(9),(0,a.nP)("bizAccess.invoiceDetail.getBillingInvoices",{sampleRate:1,tags:{status:"failure"}}),n({type:"GET_BILLING_INVOICES_ERROR",error:t.t0});case 28:case"end":return t.stop()}},t,null,[[9,24]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){u(o,r,s,a,i,"next",e)}function i(e){u(o,r,s,a,i,"throw",e)}a(void 0)})},function(e,t){return n.apply(this,arguments)}}},502225:function(e,t,n){"use strict";n.d(t,{$A:function(){return N},Al:function(){return H},BZ:function(){return z},CM:function(){return w},Eg:function(){return I},JL:function(){return j},Kb:function(){return k},PN:function(){return B},Vx:function(){return P},WP:function(){return E},Wl:function(){return U},Yj:function(){return L},ek:function(){return O},kW:function(){return T},kv:function(){return C},lB:function(){return R},uQ:function(){return Z},wH:function(){return M},zQ:function(){return D}});var r,s,o,a=n(901303),i=n(719301),l=n(239426),c=n(563218),u=n(498452),d=n(555787),_=n(618550),f=["experimentsClient"],m=["experimentsClient"];function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){y(o,r,s,a,i,"next",e)}function i(e){y(o,r,s,a,i,"throw",e)}a(void 0)})}}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t,n){var r;return(r=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==h(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e,t){return g(g({},e),{},S({},t.id,t))},E=(r=v(regeneratorRuntime.mark(function e(t,n,r){var s,o,a,c,d,_,f,m,h,p,y,A,S,E,P,I,T;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.businessId,o=t.businessPartnerType,s){e.next=3;break}return e.abrupt("return",void 0);case 3:if(a=(0,l.KH)(t,r),c=g(g(g(g({id:s},r),t),{},{startIndex:a},0===a&&{page:1}),{},{includeAssetSummary:!0}),!((t.limit||0)>i.xX)){e.next=11;break}return e.next=8,(0,l.dF)(c,t.limit||0,"PARTNER");case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,(0,u.Eg)(c);case 13:e.t0=e.sent;case 14:return f=void 0===(_=(d=void 0===(d=e.t0.data)?{}:d).data)?[]:_,m=d.total_data_count,p=(h=f.reduce(function(e,t){var r=t.id,s=t.is_shared_partner;return e.ids.push(r),null!=n&&n[r]&&null!=n&&n[r].business_roles||(s?e.missingSharedIds.push(r):e.missingIds.push(r)),e},{ids:[],missingIds:[],missingSharedIds:[]})).ids,y=h.missingIds,A=h.missingSharedIds,S=function(){var e=v(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==y.length){e.next=2;break}return e.abrupt("return",Promise.resolve({}));case 2:return e.next=4,(0,u.Eg)({id:s,partners:y,includeAssetSummary:!0,partnerType:"INTERNAL",limit:y.length,includeCurrentBusiness:t.includeCurrentBusiness,businessPartnerType:o});case 4:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=8;break}e.t0=void 0===n;case 8:if(!e.t0){e.next=12;break}e.t2=void 0,e.next=13;break;case 12:e.t2=n.data.data.reduce(x,{});case 13:return e.abrupt("return",e.t2);case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=v(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==A.length){e.next=2;break}return e.abrupt("return",Promise.resolve({}));case 2:return e.next=4,(0,u.Eg)({id:s,partners:A,includeAssetSummary:!0,partnerType:"EXTERNAL",limit:A.length,includeCurrentBusiness:t.includeCurrentBusiness,businessPartnerType:o});case 4:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=8;break}e.t0=void 0===n;case 8:if(!e.t0){e.next=12;break}e.t2=void 0,e.next=13;break;case 12:e.t2=n.data.data.reduce(x,{});case 13:return e.abrupt("return",e.t2);case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.next=23,Promise.all([S(),E()]);case 23:var C;return I=(P=function(e){if(Array.isArray(e))return e}(C=e.sent)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(C,2)||function(e,t){if(e){if("string"==typeof e)return b(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,2):void 0}}(C,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],T=P[1],e.abrupt("return",{data:I,sharedData:T,requestData:f,totalCount:m,params:c,ids:p});case 28:case"end":return e.stop()}},e)})),function(e,t,n){return r.apply(this,arguments)}),P=(s=v(regeneratorRuntime.mark(function e(t,n,r,s){var o,a,l,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(l=0,o=Math.ceil(n/i.xX),a=[];l<o;l+=1)c=E(g(g({},t),{},{page:l+1}),s,g(g({},r),{},{limit:i.xX})),a.push(c);return e.next=5,Promise.all(a);case 5:return u=e.sent.reduce(function(e,t){if(!t)return e;var n=g(g({},t.data),t.sharedData);return e.union(new Set(Object.keys(n)))},new Set),e.abrupt("return",Array.from(u));case 8:case"end":return e.stop()}},e)})),function(e,t,n,r){return s.apply(this,arguments)}),I=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n,r){var s,o,a,i,l,c,u,f,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.businessId){t.next=3;break}return t.abrupt("return");case 3:return s=r(),o=(0,d.Sl)(s),a=(0,_.MG)(s),n({type:"GET_PARTNERS"}),t.prev=7,t.next=10,E(e,o,a);case 10:if(i=t.sent){t.next=14;break}return n({type:"UPDATE_PARTNERS_TOTAL_COUNT",payload:{totalCount:0}}),t.abrupt("return");case 14:(l=i.data,c=i.sharedData,u=i.totalCount,f=i.params,m=i.ids,e.updateTotalCountOnly)?n({type:"UPDATE_PARTNERS_TOTAL_COUNT",payload:{totalCount:u}}):n({type:"GET_PARTNERS_SUCCESS",payload:g(g({},f),{},{ids:m,data:g(g({},l),c),totalCount:u})}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(7),n({type:"GET_PARTNERS_ERROR",error:t.t0});case 21:case"end":return t.stop()}},t,null,[[7,18]])})),function(e,n){return t.apply(this,arguments)}},T=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n){var r,s,o,a,i,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.businessId,s=e.partnerId,o=e.detailId,a=e.businessPartnerType,i=null!=s?s:o,!(!r&&!i)){t.next=4;break}return t.abrupt("return");case 4:return n({type:"GET_PARTNER"}),t.prev=5,t.next=8,(0,u.Eg)({id:r,partners:[i],includeAssetSummary:!0,partnerType:"INTERNAL",businessPartnerType:a});case 8:if(t.t1=l=t.sent,t.t0=null===t.t1,t.t0){t.next=12;break}t.t0=void 0===l;case 12:if(!t.t0){t.next=16;break}t.t2=void 0,t.next=17;break;case 16:t.t2=l.data.data.reduce(x,{});case 17:n({type:"GET_PARTNER_SUCCESS",payload:{data:t.t2}}),t.next=24;break;case 21:t.prev=21,t.t3=t.catch(5),n({type:"GET_PARTNER_ERROR",error:t.t3});case 24:case"end":return t.stop()}},t,null,[[5,21]])})),function(e){return t.apply(this,arguments)}},C=(o=v(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.pI)({businessId:t,assetIds:n.map(function(e){return e.asset_id}),resourceType:"AD_ACCOUNT"});case 2:return s=(r=e.sent)?n.reduce(function(e,t){return g(g({},e),{},{data:g(g({},e.data),{},{data:g(g({},e.data.data),{},S({},t.asset_id,g(g({},e.data.data[t.asset_id]),t)))})})},r):{data:{data:{}}},e.abrupt("return",s);case 5:case"end":return e.stop()}},e)})),function(e,t){return o.apply(this,arguments)}),O=function(e){e.experimentsClient;var t,n=p(e,f);return t=v(regeneratorRuntime.mark(function e(t,r){var s,o,a,i,c,d,f,m,h,p,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.businessId,o=n.detailId,a=r(),!(!s&&!o)){e.next=4;break}return e.abrupt("return");case 4:return i=(0,_.MG)(a),c=(0,l.IW)(n,i),d=g(g(g({partnerId:o},i),n),{},{startIndex:c},0===c&&{page:1}),t({type:"GET_PARTNER_ASSETS"}),e.prev=8,e.next=11,(0,u.SB)(d);case 11:return h=void 0===(m=(f=void 0===(f=e.sent.data)?{}:f).data)?[]:m,p=f.total_data_count,e.next=17,C(s,h);case 17:b=e.sent,y=h.map(function(e){return e.asset_id}),t({type:"GET_PARTNER_ASSETS_SUCCESS",payload:g(g({},d),{},{ids:y,data:b.data.data,totalCount:p})}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(8),t({type:"GET_PARTNER_ASSETS_ERROR",error:e.t0});case 25:case"end":return e.stop()}},e,null,[[8,22]])})),function(e,n){return t.apply(this,arguments)}},j=function(e){return function(t){var n=e.businessId,r=e.detailId,s=e.reloadBugFix,o=e.businessPartnerType;(n||r)&&(t(T({businessId:n,detailId:r,businessPartnerType:o})),t(O(g(g({},s&&i.vk),e))))}},z=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n){var r,s,o,a,i,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.businessId,s=e.partnerId,o=e.detailId,a=e.businessPartnerType,i=null!=s?s:o,!(!r&&!i)){t.next=4;break}return t.abrupt("return");case 4:return n({type:"GET_PARTNER"}),t.prev=5,t.next=8,(0,u.Eg)({id:r,partners:[i],includeAssetSummary:!0,partnerType:"EXTERNAL",businessPartnerType:a});case 8:if(t.t1=l=t.sent,t.t0=null===t.t1,t.t0){t.next=12;break}t.t0=void 0===l;case 12:if(!t.t0){t.next=16;break}t.t2=void 0,t.next=17;break;case 16:t.t2=l.data.data.reduce(x,{});case 17:n({type:"GET_PARTNER_SUCCESS",payload:{data:t.t2}}),t.next=24;break;case 21:t.prev=21,t.t3=t.catch(5),n({type:"GET_PARTNER_ERROR",error:t.t3});case 24:case"end":return t.stop()}},t,null,[[5,21]])})),function(e){return t.apply(this,arguments)}},w=function(e){e.experimentsClient;var t,n=p(e,m);return t=v(regeneratorRuntime.mark(function e(t,r){var s,o,a,i,c,d,f,m,h,p,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.businessId,o=n.detailId,a=r(),!(!s&&!o)){e.next=4;break}return e.abrupt("return");case 4:return i=(0,_.MG)(a),c=(0,l.IW)(n,i),d=g(g(g({partnerId:o},i),n),{},{startIndex:c},0===c&&{page:1}),t({type:"GET_PARTNER_ASSETS"}),e.prev=8,e.next=11,(0,u.Of)(d);case 11:return h=void 0===(m=(f=void 0===(f=e.sent.data)?{}:f).data)?[]:m,p=f.total_data_count,e.next=17,C(s,h);case 17:b=e.sent,y=h.map(function(e){return e.asset_id}),t({type:"GET_PARTNER_ASSETS_SUCCESS",payload:g(g({},d),{},{ids:y,data:b.data.data,totalCount:p})}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(8),t({type:"GET_PARTNER_ASSETS_ERROR",error:e.t0});case 25:case"end":return e.stop()}},e,null,[[8,22]])})),function(e,n){return t.apply(this,arguments)}},N=function(e){return function(t){var n=e.businessId,r=e.detailId,s=e.businessPartnerType;(n||r)&&(t(z({businessId:n,detailId:r,businessPartnerType:s})),t(w(g(g({},i.vk),e))))}},R=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n,r){var s,o,a,i,d,f,m,h,p,b,y,v,A,S,x,E;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r(),o=e.businessId,a=e.detailId,!(!o&&!a)){t.next=4;break}return t.abrupt("return");case 4:return i=(0,_.MG)(s),d=(0,l.IW)(e,i),f=g(g(g({partnerId:a},i),e),{},{startIndex:d},0===d&&{page:1}),n({type:"GET_PARTNER_ASSET_GROUPS",payload:null,error:null}),t.prev=8,t.next=11,(0,u.Bq)(f);case 11:if(t.t0=t.sent,t.t0){t.next=14;break}t.t0={data:{}};case 14:return b=void 0===(p=(h=t.t0.data).data)?[]:p,v=void 0===(y=h.total_data_count)?0:y,A=b.map(function(e){return e.asset_id}),t.next=23,(0,c.pI)({limit:f.limit,assetIds:A,businessId:o,resourceType:"ASSET_GROUP"});case 23:x=(null==(S=t.sent)||null==(m=S.data)?void 0:m.data)||{},E=b.reduce(function(e,t){return e[t.asset_id]=g(g({},t),x[t.asset_id]),e},{}),n({type:"GET_PARTNER_ASSET_GROUPS_SUCCESS",payload:g(g({ids:Object.keys(E),data:E},f),{},{totalCount:v}),error:null}),t.next=32;break;case 29:t.prev=29,t.t1=t.catch(8),n({type:"GET_PARTNER_ASSET_GROUPS_ERROR",error:t.t1,payload:null});case 32:case"end":return t.stop()}},t,null,[[8,29]])})),function(e,n){return t.apply(this,arguments)}},D=function(e){var t,n=Object.assign({},e);return t=v(regeneratorRuntime.mark(function e(t){var r,s,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.businessId,s=n.partnerId,o=n.partnerType,!(!r||!s||!o)){e.next=3;break}return e.abrupt("return");case 3:return t({type:"GET_SHARED_AUDIENCES",payload:null,error:null}),e.prev=4,e.next=7,(0,u.nD)(g(g(g({startIndex:0},i.vk),n),{},{searchBy:"NAME_OR_ID",sortBy:"name"}));case 7:(a=e.sent)&&t({type:"GET_SHARED_AUDIENCES_SUCCESS",data:a,payload:null,error:null}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t({type:"GET_SHARED_AUDIENCES_ERROR",error:e.t0,payload:null});case 14:case"end":return e.stop()}},e,null,[[4,11]])})),function(e){return t.apply(this,arguments)}},k=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n,r){var s,o,a,i,d,f,m,h,p,b,y;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r(),o=e.businessId,a=e.detailId,!(!o&&!a)){t.next=4;break}return t.abrupt("return");case 4:return i=(0,_.MG)(s),d=(0,l.IW)(e,i),f=g(g(g({partnerId:a},i),e),{},{startIndex:d},0===d&&{page:1}),n({type:"GET_PARTNER_CATALOGS",payload:null,error:null}),t.prev=8,t.next=11,(0,u.RY)(g({businessId:o,partnerId:a,resourceType:"CATALOG"},f));case 11:if(t.t0=t.sent,t.t0){t.next=14;break}t.t0={};case 14:return h=(m=t.t0).map(function(e){return e.asset_id}),t.next=18,(0,c.pI)({businessId:o,assetIds:h,resourceType:"CATALOG"});case 18:if(t.t1=t.sent,t.t1){t.next=21;break}t.t1={};case 21:b=(p=void 0===(p=t.t1.data)?{data:{},total_data_count:0}:p).data,y=p.total_data_count,n({type:"GET_PARTNER_CATALOGS_SUCCESS",payload:g(g({ids:h,data:m.map(function(e){var t=b[e.asset_id];return{id:t.asset_id,permissions:e.permissions,name:t.asset.name,owner:{name:t.owner.full_name,id:t.owner.id},type:t.asset.type,currencies:t.asset.currencies||[],languages:t.asset.languages||[],resource_subtype:t.resource_subtype,status:t.asset.status}})},f),{},{totalCount:y}),error:null}),t.next=31;break;case 28:t.prev=28,t.t2=t.catch(8),n({type:"GET_PARTNER_CATALOGS_ERROR",error:t.t2,payload:null});case 31:case"end":return t.stop()}},t,null,[[8,28]])})),function(e,n){return t.apply(this,arguments)}},L=function(e){var t,n=e.businessId,r=e.partnerId,s=e.businessHierarchyNodeId,o=e.onSuccess,a=e.onFailure;return t=v(regeneratorRuntime.mark(function e(t){var i,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CREATE_PARTNER_INVITE"}),e.prev=1,e.next=4,(0,u.Zk)({partnerId:r,businessId:n,businessHierarchyNodeId:s});case 4:l=(i=e.sent.data).data,c=i.is_reseller,t({type:"CREATE_PARTNER_INVITE_SUCCESS"}),o&&o(l[r],c),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),t({type:"CREATE_PARTNER_INVITE_ERROR",error:e.t0}),a&&a(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])})),function(e){return t.apply(this,arguments)}},U=function(e){var t,n=e.businessId,r=e.partnerId,s=e.rmnDedicatedAdAccountId,o=e.resourceIdToRoles,i=e.domainRestrictions,l=e.onSuccess,c=e.onFailure;return t=v(regeneratorRuntime.mark(function e(t){var d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CREATE_RMN_PARTNER_INVITE",payload:null,error:null}),e.prev=1,e.next=4,(0,u.Z)({partnerId:r,businessId:n,rmnDedicatedAdAccountId:s,resourceIdToRoles:o&&Object.keys(o).length>0?o:void 0,domainRestrictions:i&&i.length>0?i:void 0});case 4:d=e.sent,_=a.z.object({data:a.z.record(a.z.string())}).parse(d.data).data,t({type:"CREATE_RMN_PARTNER_INVITE_SUCCESS",payload:null,error:null}),l&&l(_[r]||""),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:"CREATE_RMN_PARTNER_INVITE_ERROR",error:e.t0,payload:null}),c&&c(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,11]])})),function(e){return t.apply(this,arguments)}},B=function(e){var t,n=e.businessId,r=e.partnerId,s=e.onSuccess,o=e.onFailure;return t=v(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CREATE_PARTNER_REQUEST"}),e.prev=1,e.next=4,(0,u.Jq)({partnerId:r,businessId:n});case 4:a=e.sent.data.data,t({type:"CREATE_PARTNER_REQUEST_SUCCESS"}),s&&s(r,a[r]),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"CREATE_PARTNER_REQUEST_ERROR",error:e.t0}),o&&o(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])})),function(e){return t.apply(this,arguments)}},M=function(e,t,n){var r;return r=v(regeneratorRuntime.mark(function r(s){var o,a,c,d,_;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s({type:"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA",payload:void 0,error:void 0}),o="EXTERNAL"===n?u.Of:u.SB,a=function(){var n=v(regeneratorRuntime.mark(function n(r){var s,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=r.limit,a=r.startIndex,n.next=3,o({businessId:e,partnerId:t,limit:s,startIndex:a,id:e,searchBy:"name",sortBy:"name"});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),r.prev=3,r.next=6,(0,l.dF)(void 0,i.cU,void 0,a);case 6:s({type:"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA_SUCCESS",payload:!!(null!=(_=null==(d=r.sent)||null==(c=d.data)?void 0:c.data.filter(function(e){return!!e.client_business}))&&_.length),error:void 0}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),s({type:"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA_ERROR",error:r.t0,payload:void 0});case 14:case"end":return r.stop()}},r,null,[[3,11]])})),function(e){return r.apply(this,arguments)}},H=function(e){var t,n=e.businessId,r=e.partnerId,s=e.partnerType,o=e.onSuccess,a=e.onFailure;return t=v(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!n||!r||!s)){e.next=2;break}return e.abrupt("return");case 2:return t({type:"GET_RMN_PARTNER_DOMAIN_RESTRICTIONS",payload:null,error:null}),e.prev=3,e.next=6,(0,u.Al)({businessId:n,partnerId:r,partnerType:s});case 6:i=e.sent,t({type:"GET_RMN_PARTNER_DOMAIN_RESTRICTIONS_SUCCESS",payload:null,error:null}),o&&o(i),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"GET_RMN_PARTNER_DOMAIN_RESTRICTIONS_ERROR",payload:null,error:e.t0}),a&&a(e.t0);case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e){return t.apply(this,arguments)}},Z=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n,r){var s,o,a,i,d,f,m,h,p,b,y;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r(),o=e.businessId,a=e.detailId,!(!o&&!a)){t.next=4;break}return t.abrupt("return");case 4:return i=(0,_.MG)(s),d=(0,l.IW)(e,i),f=g(g(g({partnerId:a},i),e),{},{startIndex:d,sortBy:"name"},0===d&&{page:1}),n({type:"GET_PARTNER_CONVERSION_SEGMENTS",payload:null,error:null}),t.prev=8,t.next=11,(0,u.RY)(g({businessId:o,partnerId:a,resourceType:"CONVERSION_SEGMENT"},f));case 11:if(t.t0=t.sent,t.t0){t.next=14;break}t.t0={};case 14:return h=(m=t.t0).map(function(e){return e.asset_id}),t.next=18,(0,c.pI)({businessId:o,assetIds:h,resourceType:"CONVERSION_SEGMENT"});case 18:if(t.t1=t.sent,t.t1){t.next=21;break}t.t1={};case 21:b=(p=void 0===(p=t.t1.data)?{data:{},total_data_count:0}:p).data,y=p.total_data_count,n({type:"GET_PARTNER_CONVERSION_SEGMENTS_SUCCESS",payload:g(g({data:m.map(function(e){var t=b[e.asset_id];return{id:t.asset_id,permissions:e.permissions,name:t.asset.name,owner:{full_name:t.owner.full_name,id:t.owner.id},adAccountId:t.asset.advertiser_id}})},f),{},{totalCount:y}),error:null}),t.next=31;break;case 28:t.prev=28,t.t2=t.catch(8),n({type:"GET_PARTNER_CONVERSION_SEGMENTS_ERROR",error:t.t2,payload:null});case 31:case"end":return t.stop()}},t,null,[[8,28]])})),function(e,n){return t.apply(this,arguments)}}},355750:function(e,t,n){"use strict";n.d(t,{R:function(){return d},r:function(){return _}});var r=n(719301),s=n(2877);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){var r;return(r=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==o(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){c(o,r,s,a,i,"next",e)}function i(e){c(o,r,s,a,i,"throw",e)}a(void 0)})}}var d=function(e,t,n){var o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return o=u(regeneratorRuntime.mark(function o(u){var d,_,f,m,h,p,b,y;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return d=i({id:n,is_member:"MEMBER"===t,filters:{invite_status:e}},c&&r.vk),u({type:"MEMBER"===t?"GET_PENDING_PEOPLE":"GET_PENDING_PARTNERS"}),o.prev=2,o.next=5,(0,s.R)(d);case 5:m=void 0===(f=(_=void 0===(_=o.sent.data)?{}:_).data)?[]:f,h=_.total_data_count,b=(p=m.reduce(function(e,t){return e.ids.push(t.id),e.data=i(i({},e.data),{},l({},t.id,t)),e},{ids:[],data:{}})).ids,y=p.data,u({type:"MEMBER"===t?"GET_PENDING_PEOPLE_SUCCESS":"GET_PENDING_PARTNERS_SUCCESS",payload:i(i({},d),{},{ids:b,data:y,totalCount:h,inviteStatus:e,updateDataOnly:a})}),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),u({type:"MEMBER"===t?"GET_PENDING_PEOPLE_ERROR":"GET_PENDING_PARTNERS_ERROR",error:o.t0});case 16:case"end":return o.stop()}},o,null,[[2,13]])})),function(e){return o.apply(this,arguments)}},_=function(e,t){var n;return n=u(regeneratorRuntime.mark(function n(r){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"GET_PENDING_ASSETS"}),n.prev=1,n.next=4,(0,s.r)({businessId:e,rmnPartnerId:t});case 4:r({type:"GET_PENDING_ASSETS_SUCCESS",payload:n.sent.data.data}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r({type:"GET_PENDING_ASSETS_ERROR",error:n.t0});case 12:case"end":return n.stop()}},n,null,[[1,9]])})),function(e){return n.apply(this,arguments)}}},859933:function(e,t,n){"use strict";n.d(t,{Ay:function(){return A},Fx:function(){return T},Io:function(){return E},JC:function(){return P},Qn:function(){return x},Rx:function(){return I},UQ:function(){return g},fR:function(){return S}});var r=n(719301),s=n(355750),o=n(239426),a=n(563218),i=n(208422),l=n(300214),c=n(408524),u=n(618550);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=["detailIdOverride","experimentsClient"],f=["detailIdOverride","experimentsClient"],m=["detailIdOverride"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function y(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){y(o,r,s,a,i,"next",e)}function i(e){y(o,r,s,a,i,"throw",e)}a(void 0)})}}var A=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n,r){var s,o,a,l,u,d,_,f,m,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=void 0!==(s=e.force)&&s,a=e.businessId,l=e.personId,u=e.detailId,d=r(),_=null!=l?l:u,f=!o&&(0,c.g7)(u)(d),!(!a||!_||f)){t.next=6;break}return t.abrupt("return");case 6:return n({type:"GET_PERSON"}),t.prev=7,m={id:a,memberIds:[_],includeAssetSummary:!0},t.next=12,(0,i.JC)(m);case 12:n({type:"GET_PERSON_SUCCESS",payload:{data:(void 0===(h=t.sent.data.data)?[]:h).reduce(function(e,t){return e[t.id||""]=t,e},{})}}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(7),n({type:"GET_PERSON_ERROR",error:t.t0});case 21:case"end":return t.stop()}},t,null,[[7,18]])})),function(e,n){return t.apply(this,arguments)}},g=function(e){var t,n=e.detailIdOverride,r=(e.experimentsClient,b(e,_));return t=v(regeneratorRuntime.mark(function e(t,s){var a,l,c,d,_,f,m,h,b,y,v,A,g,S,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s(),l=r.businessId,c=r.detailId,d=r.assetPermissionType,_=n||c,!(!l&&!_)){e.next=5;break}return e.abrupt("return");case 5:return f=(0,u.MG)(a),m=(0,o.IW)(r,f),h=p(p(p({personId:_},f),r),{},{startIndex:m,assetPermissionType:d},0===m&&{page:1}),t({type:"GET_PERSON_ASSETS"}),e.prev=9,e.next=12,(0,i.QC)(h);case 12:v=void 0===(y=(b=void 0===(b=e.sent.data)?{}:b).data)?[]:y,A=b.total_data_count,S=(g=(0,o.Ah)(function(e){return e.asset_id},v)).ids,x=g.data,t({type:"GET_PERSON_ASSETS_SUCCESS",payload:p(p({},h),{},{ids:S,data:x,totalCount:A})}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),t({type:"GET_PERSON_ASSETS_ERROR",error:e.t0});case 23:case"end":return e.stop()}},e,null,[[9,20]])})),function(e,n){return t.apply(this,arguments)}},S=function(e){var t,n=e.detailIdOverride,r=(e.experimentsClient,b(e,f));return t=v(regeneratorRuntime.mark(function e(t,s){var a,l,c,d,_,f,m,h,b,y,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s(),l=r.businessId,c=r.detailId,d=r.assetPermissionType,_=n||c,!(!l&&!_)){e.next=5;break}return e.abrupt("return");case 5:return f=(0,u.MG)(a),m=(0,o.IW)(r,f),h=p(p(p({personId:_},f),r),{},{startIndex:m,assetPermissionType:d},0===m&&{page:1}),t({type:"GET_PERSON_PROFILES"}),e.prev=9,e.next=12,(0,i.mZ)(h);case 12:y=(b=e.sent.data).data,v=b.total_data_count,t({type:"GET_PERSON_PROFILES_SUCCESS",payload:{ids:Object.keys(y),data:y,totalCount:v}}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),t({type:"GET_PERSON_PROFILES_ERROR",error:e.t0});case 22:case"end":return e.stop()}},e,null,[[9,19]])})),function(e,n){return t.apply(this,arguments)}},x=function(e){var t,n=e.detailIdOverride,r=b(e,m);return t=v(regeneratorRuntime.mark(function e(t,s){var l,c,d,_,f,m,h,b,y,v,A,g,S,x,E,P,I,T;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=s(),c=r.businessId,d=r.detailId,_=r.assetPermissionType,f=n||d,!(!c&&!f)){e.next=5;break}return e.abrupt("return");case 5:return m=(0,u.MG)(l),h=(0,o.IW)(r,m),b=p(p(p({personId:f},m),r),{},{startIndex:h,assetPermissionType:_},0===h&&{page:1}),t({type:"GET_PERSON_ASSET_GROUPS"}),e.prev=9,e.next=12,(0,i.n5)(b);case 12:if(e.t0=e.sent,e.t0){e.next=15;break}e.t0={data:{}};case 15:return g=void 0===(A=(v=e.t0.data).data)?[]:A,x=void 0===(S=v.total_data_count)?0:S,E=g.map(function(e){return e.asset_id}),e.next=24,(0,a.pI)({limit:b.limit,assetIds:E,businessId:c,resourceType:"ASSET_GROUP"});case 24:I=(null==(P=e.sent)||null==(y=P.data)?void 0:y.data)||{},T=g.reduce(function(e,t){return e[t.asset_id]=p(p({},t),I[t.asset_id]),e},{}),t({type:"GET_PERSON_ASSET_GROUPS_SUCCESS",payload:p(p({ids:Object.keys(T),data:T},b),{},{totalCount:x})}),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(9),t({type:"GET_PERSON_ASSET_GROUPS_ERROR",error:e.t1});case 33:case"end":return e.stop()}},e,null,[[9,30]])})),function(e,n){return t.apply(this,arguments)}},E=function(e){var t=e.getAssets,n=e.businessId,s=e.detailId,o=e.reloadBugFix,a=e.experimentsClient;return function(e){(n||s)&&(e(A({businessId:n,detailId:s})),t&&e(g(p(p({},o&&r.vk),{},{sortBy:"name",sortDirection:r.IR.ASCENDING,businessId:n,detailId:s,experimentsClient:a}))))}},P=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n,s){var a,l,d,_,f,m,h,b,y,v,A,g,S,x,E,P;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=s(),l=e.businessId,d=e.updateDataOnly,_=(0,c.gF)(a),l){t.next=5;break}return t.abrupt("return");case 5:if(f=(0,u.MG)(a),m=(0,o.IW)(e,f),h=p(p(p(p({id:l},f),e),{},{startIndex:m},0===m&&{page:1}),{},{includeAssetSummary:!0}),n({type:"GET_PEOPLE"}),t.prev=9,!((h.limit||0)>r.xX)){t.next=16;break}return t.next=13,(0,o.dF)(h,h.limit||0,"PEOPLE");case 13:t.t0=t.sent,t.next=19;break;case 16:return t.next=18,(0,i.JC)(h);case 18:t.t0=t.sent;case 19:(v=void 0===(y=(b=void 0===(b=t.t0.data)?{}:b).data)?[]:y,A=b.total_data_count,S=(g=v.reduce(function(e,t){var n=t.id;return e.ids.push(n),_[n]&&_[n].business_roles||e.missingIds.push(n),e},{ids:[],missingIds:[]})).ids,x=g.missingIds.length>0&&v.reduce(function(e,t){return e[t.id]=t,e},{})||{},E=A,P={ids:S,data:x},e.updateTotalCountOnly)?n({type:"UPDATE_PEOPLE_TOTAL_COUNT",payload:{totalCount:E}}):n({type:"GET_PEOPLE_SUCCESS",payload:p(p(p({},h),P),{},{totalCount:E,updateDataOnly:d})}),t.next=33;break;case 30:t.prev=30,t.t1=t.catch(9),n({type:"GET_PEOPLE_ERROR",error:t.t1});case 33:case"end":return t.stop()}},t,null,[[9,30]])})),function(e,n){return t.apply(this,arguments)}},I=function(e){var t,n=e.businessId,r=e.detailId,o=e.isPendingTabActive,a=e.peopleIdentifiers,c=e.assignedRole,u=e.onSuccess,d=e.onFailure;return t=v(regeneratorRuntime.mark(function e(t,_){var f,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f=_(),m=(0,l.t_)(f),t({type:"CREATE_PEOPLE_INVITE"}),e.prev=3,e.next=6,(0,i.p_)(a,c,n);case 6:h=Object.values(e.sent.data),t({type:"CREATE_PEOPLE_INVITE_SUCCESS"}),t(A({businessId:n,detailId:r})),t((0,s.R)(m,"MEMBER",n,!o)),u&&u(h),e.next=19;break;case 14:throw e.prev=14,e.t0=e.catch(3),t({type:"CREATE_PEOPLE_INVITE_ERROR",error:e.t0}),d&&d(e.t0),e.t0;case 19:case"end":return e.stop()}},e,null,[[3,14]])})),function(e,n){return t.apply(this,arguments)}},T=function(e){var t,n=e.businessId,r=e.detailId,s=e.removeId,o=e.assignedRole,a=e.businessHierarchyNodeId,l=e.onSuccess,c=e.onFailure,u=e.disablePeopleV4EndpointCall;return t=v(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"DELETE_PEOPLE"}),e.prev=1,e.next=4,(0,i.dx)(n,s,o,a);case 4:t({type:"DELETE_PEOPLE_SUCCESS"}),u||t(P({businessId:n,detailId:r})),l&&l(),e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(1),c&&c(e.t0),t({type:"DELETE_PEOPLE_ERROR",error:e.t0}),e.t0;case 14:case"end":return e.stop()}},e,null,[[1,9]])})),function(e){return t.apply(this,arguments)}}},168583:function(e,t,n){"use strict";n.d(t,{A9:function(){return h},IV:function(){return b},XA:function(){return y},_$:function(){return v},fR:function(){return A},iS:function(){return p},t$:function(){return g}});var r=n(719301),s=n(239426),o=n(563218),a=n(208422),i=n(618550);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t,n){var r;return(r=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==l(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){f(o,r,s,a,i,"next",e)}function i(e){f(o,r,s,a,i,"throw",e)}a(void 0)})}}var h=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,a){var l,c,u,_,f,m,h,p,b,y,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=a(),c=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return u=(0,i.MG)(l),_=(0,s.IW)(e,u),f=d(d(d({},u),e),{},{id:c,startIndex:_}),n({type:"GET_ALL_PROFILES"}),t.prev=8,t.next=11,(0,o.cp)(f);case 11:return h=(m=t.sent.data).data,p=m.total_data_count,b=h.reduce(function(e,t){return e.concat(t.asset_id)},[]),t.next=18,(0,o.eo)({limit:u.limit,type:r.tP.PROFILE,assetIds:b,id:c});case 18:y=t.sent.data.data,v={},h.forEach(function(e){y[e.asset_id]&&(v[e.asset_id]=d(d({},e),y[e.asset_id]))}),n({type:"GET_ALL_PROFILES_SUCCESS",payload:d(d({},f),{},{ids:Object.keys(v),data:v,totalCount:p})}),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(8),n({type:"GET_ALL_PROFILES_ERROR",error:t.t0});case 28:case"end":return t.stop()}},t,null,[[8,25]])})),function(e,n){return t.apply(this,arguments)}},p=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,r){var a,l,c,u,_,f,m,h,p,b,y,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),l=e.businessId,c=e.detailId,!(!l||!c)){t.next=4;break}return t.abrupt("return");case 4:return n({type:"GET_PROFILE_DETAIL_PEOPLE"}),t.prev=5,u=(0,i.MG)(a),_=(0,s.IW)(e,u),f=d(d(d(d({},u),e),e.sortBy?{sortBy:e.sortBy}:{sortBy:"full_name"}),{},{businessId:l,assetId:c,startIndex:_}),t.next=11,(0,o.BG)(f);case 11:h=(m=t.sent.data).data,p=m.total_data_count,y=(b=(0,s.Ah)(function(e){return e.id},h)).ids,v=b.data,n({type:"GET_PROFILE_DETAIL_PEOPLE_SUCCESS",payload:d(d({},f),{},{ids:y,data:v,totalCount:p})}),n({type:"UPDATE_PEOPLE_TOTAL_COUNT",payload:{totalCount:p}}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(5),n({type:"GET_PROFILE_DETAIL_PEOPLE_ERROR",error:t.t0});case 21:case"end":return t.stop()}},t,null,[[5,18]])})),function(e,n){return t.apply(this,arguments)}},b=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,r){var a,l,c,u,_,f,m,h,p,b,y,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),l=e.businessId,c=e.detailId,!(!l||!c)){t.next=4;break}return t.abrupt("return");case 4:return n({type:"GET_PROFILE_DETAIL_SYSTEM_USERS"}),t.prev=5,u=(0,i.MG)(a),_=(0,s.IW)(e,u),f=d(d(d(d({},u),e),e.sortBy?{sortBy:e.sortBy}:{sortBy:"full_name"}),{},{businessId:l,assetId:c,startIndex:_,fetchSystemUsers:!0}),t.next=11,(0,o.BG)(f);case 11:h=(m=t.sent.data).data,p=m.total_data_count,y=(b=(0,s.Ah)(function(e){return e.id},h)).ids,v=b.data,n({type:"GET_PROFILE_DETAIL_SYSTEM_USERS_SUCCESS",payload:d(d({},f),{},{ids:y,data:v,totalCount:p})}),n({type:"UPDATE_SYSTEM_USERS_TOTAL_COUNT",payload:{totalCount:p}}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(5),n({type:"GET_PROFILE_DETAIL_SYSTEM_USERS_ERROR",error:t.t0});case 21:case"end":return t.stop()}},t,null,[[5,18]])})),function(e,n){return t.apply(this,arguments)}},y=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,r){var a,l,c,u,_,f,m,h,p,b,y,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),l=e.businessId,c=e.detailId,!(!l||!c)){t.next=4;break}return t.abrupt("return");case 4:return n({type:"GET_PROFILE_DETAIL_PARTNERS"}),t.prev=5,u=(0,i.MG)(a),_=(0,s.IW)(e,u),f=d(d(d(d({},u),e),e.sortBy?{sortBy:e.sortBy}:{sortBy:"full_name"}),{},{businessId:l,assetId:c,startIndex:_}),t.next=11,(0,o.N1)(f);case 11:h=(m=t.sent.data).data,p=m.total_data_count,y=(b=(0,s.Ah)(function(e){return e.id},h)).ids,v=b.data,n({type:"GET_PROFILE_DETAIL_PARTNERS_SUCCESS",payload:d(d({},f),{},{ids:y,data:v,totalCount:p})}),n({type:"UPDATE_PARTNERS_TOTAL_COUNT",payload:{totalCount:p}}),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(5),n({type:"GET_PROFILE_DETAIL_PARTNERS_ERROR",error:t.t0});case 23:case"end":return t.stop()}},t,null,[[5,20]])})),function(e,n){return t.apply(this,arguments)}},v=function(e){var t,n=e.businessId,s=e.detailId;return t=m(regeneratorRuntime.mark(function e(t,a){var l,u,f,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=a(),!(!n||!s)){e.next=3;break}return e.abrupt("return");case 3:return u=(0,i.MG)(l),t({type:"GET_PROFILE_META"}),e.prev=5,e.next=8,Promise.all([(0,o.eo)({limit:u.limit,type:r.tP.PROFILE,assetIds:[s],id:n}),(0,o.G2)({assetId:s,businessId:n,resourceType:"PROFILE"})]);case 8:var p;m=(f=function(e){if(Array.isArray(e))return e}(p=e.sent)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(p,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(p,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].data.data,h=f[1].data.data,t({type:"GET_PROFILE_META_SUCCESS",payload:{data:_({},s,d(d({},m[s]),h))}}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),t({type:"GET_PROFILE_META_ERROR",error:e.t0});case 18:case"end":return e.stop()}},e,null,[[5,15]])})),function(e,n){return t.apply(this,arguments)}},A=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,r){var o,l,c,u,_;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),e.businessId){t.next=4;break}return t.abrupt("return");case 4:return l=(0,i.MG)(o),c=(0,s.IW)(e,l),u=d(d(d({},l),e),{},{startIndex:c},0===c&&{page:1}),n({type:"GET_DASHBOARD_PROFILES"}),t.prev=8,t.next=11,(0,a.mZ)(u);case 11:n({type:"GET_DASHBOARD_PROFILES_SUCCESS",payload:{ids:Object.keys(_=t.sent.data.data),data:_}}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(8),n({type:"GET_DASHBOARD_PROFILES_ERROR",error:t.t0});case 19:case"end":return t.stop()}},t,null,[[8,16]])})),function(e,n){return t.apply(this,arguments)}},g=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,r){var a,l,c,u,_,f,m,h,p,b,y,v,A,g,S,x,E;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=r(),c=e.businessId,u=e.detailId,!(!c&&!u)){t.next=4;break}return t.abrupt("return");case 4:return _=(0,i.MG)(l),f=(0,s.IW)(e,_),m=null!=(a=e.sortBy)?a:["name","permissions"].includes(_.sortBy)?_.sortBy:"name",h=d(d(d({assetId:u},_),e),{},{startIndex:f,sortBy:m},0===f&&{page:1}),n({type:"GET_PROFILE_ASSET_GROUPS"}),t.prev=9,t.next=12,(0,o.fc)(d({},h));case 12:return g=(A=(null==(v=t.sent)||null==(p=v.data)?void 0:p.data)||[]).map(function(e){return e.asset_id}),t.next=17,(0,o.pI)({assetIds:g,businessId:h.businessId,resourceType:"ASSET_GROUP",limit:h.limit});case 17:x=(null==(S=t.sent)||null==(b=S.data)?void 0:b.data)||{},E=A.reduce(function(e,t){return e[t.asset_id]=d(d(d({},t),x[t.asset_id]),x[t.asset_id].asset),e},{}),n({type:"GET_PROFILE_ASSET_GROUPS_SUCCESS",payload:d({ids:Object.keys(E),data:E,totalCount:null==v||null==(y=v.data)?void 0:y.total_data_count},h)}),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(9),n({type:"GET_PROFILE_ASSET_GROUPS_ERROR",error:t.t0});case 26:case"end":return t.stop()}},t,null,[[9,23]])})),function(e,n){return t.apply(this,arguments)}}},208842:function(e,t,n){"use strict";n.d(t,{$k:function(){return w},AH:function(){return R},BY:function(){return C},Bw:function(){return N},F3:function(){return x},GL:function(){return z},Gg:function(){return O},IP:function(){return T},OA:function(){return P},Pv:function(){return g},cA:function(){return E},fP:function(){return I},tD:function(){return S},ye:function(){return A},zQ:function(){return j}});var r=n(719301),s=n(239426),o=n(563218),a=n(208422),i=n(511824),l=n(618550);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["newAssetIds"],d=["newAssetIds"],_=["detailIdOverride","experimentsClient"];function f(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function m(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){y(o,r,s,a,i,"next",e)}function i(e){y(o,r,s,a,i,"throw",e)}a(void 0)})}}var A=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n,o){var i,c,u,d,_,f,h,p,y,v,A,g,S,x;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.businessId,c=e.selectedSystemId,n({type:"GET_SYSTEM_USERS"}),t.prev=2,d=o(),_=(0,l.MG)(d),f=(0,s.IW)(e,_),h=b(b(b(b({id:i},_),e),{},{startIndex:f},0===f&&{page:1}),{},{fetchSystemUsers:!0,includeAssetSummary:!0}),t.next=9,(0,a.JC)(h);case 9:if(v=void 0===(y=(p=t.sent.data).data)?[]:y,!((g=Math.ceil((void 0===(A=p.total_data_count)?1:A)/(null!=(u=e.limit)?u:r.xX)))<=1)){t.next=16;break}return n({type:"GET_SYSTEM_USERS_SUCCESS",payload:{ids:v.map(function(e){return e.id||""}),systemUsers:v,selectedSystemId:c}}),t.abrupt("return");case 16:return S=m(Array(g).keys()).slice(1),t.next=19,Promise.allSettled(S.map(function(t){var n;return(0,a.JC)(b(b({},h),{},{startIndex:t*(null!=(n=e.limit)?n:r.xX)}))}));case 19:n({type:"GET_SYSTEM_USERS_SUCCESS",payload:{ids:(x=t.sent.reduce(function(e,t){var n,r;return null!=(n=t.value)&&null!=(r=n.data)&&r.data&&(e=e.concat(t.value.data.data)),e},v)).map(function(e){return e.id||""}),systemUsers:x,selectedSystemId:c}}),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(2),n({type:"GET_SYSTEM_USERS_ERROR",error:t.t0});case 28:case"end":return t.stop()}},t,null,[[2,25]])})),function(e,n){return t.apply(this,arguments)}},g=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n,r){var a,l,c,d,_,h,p,y,v,A,g,S,x,E,P,I,T,C,O,j,z;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=r(),l=(0,i.re)(a),c=(0,s.IW)(e,b(b({},l),{},{limit:l.limit||10,startIndex:l.startIndex||0})),n({type:"GET_SYSTEM_USERS_AD_ACCOUNTS"}),t.prev=4,p=(0,i.tp)(a)[e.systemUserId],y=e.newAssetIds,v=f(e,u),A=m((null==p||null==(d=p.assets_summary)?void 0:d.ad_accounts)||[]),y&&Object.keys(y||{}).forEach(function(e){A.find(function(t){return t.id===e})||A.push({id:e,permissions:y[e]})}),g=(null==p||null==(_=p.assets_summary)||null==(h=_.ad_accounts)?void 0:h.map(function(e){return e.id||""}))||[],S=Object.keys(y||{}),x=b(b(b({assetIds:[].concat(m(g),S)},l),v),{},{sortBy:v.sortBy||l.sortBy,sortDirection:v.sortDirection||l.sortDirection,startIndex:c,resourceType:"AD_ACCOUNT"},0===c&&{page:1}),t.next=15,(0,o.pI)(x);case 15:I=void 0===(P=(E=void 0===(E=(t.sent||{}).data)?{}:E).data)?{}:P,C=void 0===(T=E.total_data_count)?0:T,O=[],Object.keys(I).forEach(function(e){var t=(A||[]).find(function(t){return t.id===e});O.push(b(b({},I[e]),{},{permissions:(null==t?void 0:t.permissions)||[]}))}),n({type:"GET_SYSTEM_USERS_AD_ACCOUNTS_SUCCESS",payload:{getAdAccount:{adAccounts:O,systemUserId:e.systemUserId,adAccountSummary:A}}}),j=x.searchTerm,z=x.page,n({type:"SET_AD_ACCOUNTS_TABLE_STATE",payload:{table:{totalCount:C,searchTerm:j,page:z,limit:x.limit,sortBy:x.sortBy,sortDirection:x.sortDirection}}}),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(4),n({type:"GET_SYSTEM_USERS_AD_ACCOUNTS_ERROR",error:t.t0});case 29:case"end":return t.stop()}},t,null,[[4,26]])})),function(e,n){return t.apply(this,arguments)}},S=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n,r){var a,l,c,u,_,h,p,y,v,A,g,S,x,E,P,I,T,C,O,j,z;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=r(),l=(0,i.mO)(a),c=(0,s.IW)(e,b(b({},l),{},{limit:l.limit||10,startIndex:l.startIndex||0})),n({type:"GET_SYSTEM_USERS_PROFILES"}),t.prev=4,p=(0,i.tp)(a)[e.systemUserId],y=e.newAssetIds,v=f(e,d),A=m((null==p||null==(u=p.assets_summary)?void 0:u.profiles)||[]),y&&Object.keys(y||{}).forEach(function(e){A.find(function(t){return t.id===e})||A.push({id:e,permissions:y[e]})}),g=(null==p||null==(_=p.assets_summary)||null==(h=_.profiles)?void 0:h.map(function(e){return e.id||""}))||[],S=Object.keys(y||{}),x=b(b(b({assetIds:[].concat(m(g),S)},l),v),{},{sortBy:v.sortBy||l.sortBy,sortDirection:v.sortDirection||l.sortDirection,startIndex:c,resourceType:"PROFILE"},0===c&&{page:1}),t.next=15,(0,o.pI)(x);case 15:I=void 0===(P=(E=void 0===(E=(t.sent||{}).data)?{}:E).data)?{}:P,C=void 0===(T=E.total_data_count)?0:T,O=[],Object.keys(I).forEach(function(e){var t=(A||[]).find(function(t){return t.id===e});O.push(b(b({},I[e]),{},{permissions:(null==t?void 0:t.permissions)||[]}))}),n({type:"GET_SYSTEM_USERS_PROFILES_SUCCESS",payload:{getProfiles:{profiles:O,systemUserId:e.systemUserId,profilesSummary:A}}}),j=x.searchTerm,z=x.page,n({type:"SET_PROFILES_TABLE_STATE",payload:{table:{totalCount:C,searchTerm:j,page:z,limit:x.limit,sortBy:x.sortBy,sortDirection:x.sortDirection}}}),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(4),n({type:"GET_SYSTEM_USERS_PROFILES_ERROR",error:t.t0});case 29:case"end":return t.stop()}},t,null,[[4,26]])})),function(e,n){return t.apply(this,arguments)}},x=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n,r){var l,c,u,d,_,f,m,h,p,y,v,A,g,S,x,E,P,I,T,C,O;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=r(),c=(0,i.s2)(l),u=(0,s.IW)(e,b(b({},c),{},{limit:c.limit||10,startIndex:c.startIndex||0})),n({type:"GET_SYSTEM_USERS_APPS"}),t.prev=4,_=e.systemUserId,f=e.businessId,m=b(b(b(b({},c),e),{},{startIndex:u},0===u&&{page:1}),{},{businessId:f,personId:_}),t.next=9,(0,a.qK)(b(b({},m),{},{sortBy:"name",searchBy:"name",id:""}));case 9:if(t.t0=t.sent,t.t0){t.next=12;break}t.t0={data:{}};case 12:return y=void 0===(p=(h=t.t0.data).data)?[]:p,A=void 0===(v=h.total_data_count)?0:v,g=y.map(function(e){return e.asset_id}),t.next=21,(0,o.pI)({limit:m.limit,assetIds:g,businessId:f,resourceType:"CONSUMER"});case 21:x=(null==(S=t.sent)||null==(d=S.data)?void 0:d.data)||{},E=[],y.forEach(function(e){E.push(b(b({},x[e.asset_id]),e))}),n({type:"GET_SYSTEM_USERS_APPS_SUCCESS",payload:{assets:E}}),P=m.searchTerm,I=m.page,T=m.limit,C=m.sortBy,O=m.sortDirection,n({type:"SET_APPS_TABLE_STATE",payload:{table:{totalCount:A,searchTerm:P,page:I,limit:T,sortBy:C,sortDirection:O}}}),t.next=33;break;case 30:t.prev=30,t.t1=t.catch(4),n({type:"GET_SYSTEM_USERS_APPS_ERROR",error:t.t1});case 33:case"end":return t.stop()}},t,null,[[4,30]])})),function(e,n){return t.apply(this,arguments)}},E=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n,r){var l,c,u,d,_,f,m,h,p,y,v,A,g,S,x,E;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=r(),c=(0,i.jA)(l),u=(0,s.IW)(e,b(b({},c),{},{limit:c.limit||10,startIndex:c.startIndex||0})),n({type:"GET_SYSTEM_USERS_CATALOGS"}),t.prev=4,f=e.systemUserId,m=e.businessId,h=b(b(b(b({},c),e),{},{startIndex:u},0===u&&{page:1}),{},{businessId:m,personId:f}),t.next=9,(0,a.kZ)(m,f);case 9:if(t.t0=t.sent,t.t0){t.next=12;break}t.t0={data:{}};case 12:return y=(p=t.t0).map(function(e){return e.asset_id}),t.next=16,(0,o.pI)({limit:h.limit,assetIds:y,businessId:m,resourceType:"CATALOG"});case 16:A=(null==(v=t.sent)||null==(d=v.data)?void 0:d.data)||{},g=(null==v||null==(_=v.data)?void 0:_.total_data_count)||0,S=[],p.forEach(function(e){S.push(b(b({},A[e.asset_id]),e))}),n({type:"GET_SYSTEM_USERS_CATALOGS_SUCCESS",payload:{assets:S}}),x=h.searchTerm,E=h.page,n({type:"SET_CATALOGS_TABLE_STATE",payload:{table:{totalCount:g,searchTerm:x,page:E,limit:h.limit,sortBy:h.sortBy,sortDirection:h.sortDirection}}}),t.next=29;break;case 26:t.prev=26,t.t1=t.catch(4),n({type:"GET_SYSTEM_USERS_CATALOGS_ERROR",error:t.t1});case 29:case"end":return t.stop()}},t,null,[[4,26]])})),function(e,n){return t.apply(this,arguments)}},P=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n,l){var c,u,d,_,f,m,h,p,y,v,A,g,S,x;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.businessId,u=e.assetId,n({type:"GET_APP_SYSTEM_USERS"}),t.prev=2,d=l(),_=(0,i.fe)(d),f=(0,s.IW)(e,b(b({},_),{},{limit:_.limit||10,startIndex:_.startIndex||0})),m=b(b(b(b({},_),e),e.sortBy?{sortBy:e.sortBy}:{sortBy:"full_name"}),{},{sortBy:e.sortBy||_.sortBy,businessId:c,assetId:u,startIndex:f,fetchSystemUsers:!0}),t.next=9,(0,o.BG)(m);case 9:return p=(h=t.sent.data).data,y=h.total_data_count,A=(v=p?Object.values(p):[]).map(function(e){return e.id}),g=b(b({id:c,limit:r.xX},A.length>0?{memberIds:A}:{}),{},{fetchSystemUsers:!0}),t.next=16,(0,a.JC)(g);case 16:x=void 0===(S=t.sent.data.data)?[]:S,n({type:"GET_APP_SYSTEM_USERS_SUCCESS",payload:{data:v.map(function(e){var t=x.find(function(t){return t.id===e.id});return b(b({},e),{},{user:b(b({},e.user),{},{business_roles:(null==t?void 0:t.business_roles)||["EMPLOYEE"]})})})}}),n({type:"SET_SYSTEM_USERS_TABLE_STATE",payload:{table:{totalCount:y,searchTerm:m.searchTerm||"",page:m.page||1,limit:m.limit||10,sortBy:m.sortBy,sortDirection:m.sortDirection||"ASCENDING"}}}),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(2),n({type:"GET_APP_SYSTEM_USERS_ERROR",error:t.t0});case 26:case"end":return t.stop()}},t,null,[[2,23]])})),function(e,n){return t.apply(this,arguments)}},I=function(e){var t,n=e.assetId,r=e.systemUserId;return t=v(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"REMOVE_SYSTEM_USER_APP",payload:{removeSystemUserAsset:{assetId:n,systemUserId:r}}});case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},T=function(e){var t,n=e.assetId,r=e.systemUserId;return t=v(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"REMOVE_SYSTEM_USER_CATALOG",payload:{removeSystemUserAsset:{assetId:n,systemUserId:r}}});case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},C=function(e){var t,n=e.assetId,r=e.systemUserId;return t=v(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"REMOVE_SYSTEM_USER_PROFILE",payload:{removeSystemUserAsset:{assetId:n,systemUserId:r}}});case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},O=function(e){var t,n=e.assetId,r=e.systemUserId;return t=v(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"REMOVE_SYSTEM_USER_AD_ACCOUNT",payload:{removeSystemUserAsset:{assetId:n,systemUserId:r}}});case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},j=function(e){var t,n=e.detailIdOverride,r=(e.experimentsClient,f(e,_));return t=v(regeneratorRuntime.mark(function e(t,o){var i,c,u,d,_,f,m,h,p,y,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o(),c=r.businessId,u=r.detailId,d=r.assetPermissionType,_=n||u,!(!c&&!_)){e.next=5;break}return e.abrupt("return");case 5:return f=(0,l.MG)(i),m=(0,s.IW)(r,f),h=b(b(b({systemUserId:_},f),r),{},{startIndex:m,assetPermissionType:d},0===m&&{page:1}),t({type:"GET_SYSTEM_USERS_PROFILES"}),e.prev=9,e.next=12,(0,a.mZ)(h);case 12:y=(p=e.sent.data).data,v=p.total_data_count,t({type:"GET_SYSTEM_USERS_PROFILES_SUCCESS",payload:{ids:Object.keys(y),data:y,totalCount:v}}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),t({type:"GET_SYSTEM_USERS_PROFILES_ERROR",error:e.t0});case 22:case"end":return e.stop()}},e,null,[[9,19]])})),function(e,n){return t.apply(this,arguments)}},z=function(e){return function(t,n){t({type:"ADD_SYSTEM_USERS_PROFILE"});try{t({type:"ADD_SYSTEM_USERS_PROFILE_SUCCESS",payload:{selectedSystemId:e.systemUserId,assets:m(e.addedProfiles)}})}catch(e){t({type:"ADD_SYSTEM_USERS_PROFILE_ERROR",error:e})}}},w=function(e){var t=e.profileId,n=e.systemUserId;return function(e){e({type:"DELETE_SYSTEM_USERS_PROFILE"});try{e({type:"DELETE_SYSTEM_USERS_PROFILE_SUCCESS",payload:{selectedSystemId:n,assetId:t}})}catch(t){e({type:"DELETE_SYSTEM_USERS_PROFILE_ERROR",error:t})}}},N=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_SELECTED_SYSTEM_ID",payload:{selectedSystemId:e}});case 1:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}},R=function(e){var t;return t=v(regeneratorRuntime.mark(function t(n,r){var l,c,u,d,_,f,m,h,p,y,v,A,g,S,x,E,P,I;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n({type:"GET_SYSTEM_USER_ASSET_GROUPS"}),t.prev=1,c=r(),u=e.businessId,d=e.systemUserId,u){t.next=6;break}return t.abrupt("return");case 6:return _=(0,i.R8)(c),f=(0,s.IW)(e,b(b({},_),{},{limit:_.limit||10,startIndex:_.startIndex||0})),m=b(b(b({personId:d},_),e),{},{startIndex:f},0===f&&{page:1}),t.next=11,(0,a.n5)(b(b({},m),{},{sortBy:"name",searchBy:"name",id:""}));case 11:if(t.t0=t.sent,t.t0){t.next=14;break}t.t0={data:{}};case 14:return y=void 0===(p=(h=t.t0.data).data)?[]:p,A=void 0===(v=h.total_data_count)?0:v,g=y.map(function(e){return e.asset_id}),t.next=23,(0,o.pI)({limit:m.limit,assetIds:g,businessId:u,resourceType:"ASSET_GROUP"});case 23:x=(null==(S=t.sent)||null==(l=S.data)?void 0:l.data)||{},E=[],y.forEach(function(e){E.push(b(b({},x[e.asset_id]),e))}),n({type:"GET_SYSTEM_USER_ASSET_GROUPS_SUCCESS",payload:{assets:E}}),P=m.searchTerm,I=m.page,n({type:"SET_ASSET_GROUPS_TABLE_STATE",payload:{table:{totalCount:A,searchTerm:P,page:I,limit:m.limit||10,sortBy:m.sortBy||"FULL_NAME",sortDirection:m.sortDirection||"ASCENDING"}}}),t.next=35;break;case 32:t.prev=32,t.t1=t.catch(1),n({type:"GET_SYSTEM_USER_ASSET_GROUPS_ERROR",error:t.t1});case 35:case"end":return t.stop()}},t,null,[[1,32]])})),function(e,n){return t.apply(this,arguments)}}},549979:function(e,t,n){"use strict";n.d(t,{C:function(){return r},o:function(){return s}});var r=function(e){return{type:"SET_ROUTER_PARAMS",payload:{detailId:e.detailId,businessId:e.businessId}}},s=function(e){return{type:"SET_SORT_PARAMS",payload:{sortDirection:e.sortDirection,sortBy:e.sortBy}}}},278090:function(e,t,n){"use strict";n.d(t,{NJ:function(){return p},NX:function(){return b},a3:function(){return A},at:function(){return v},oZ:function(){return g},rc:function(){return y},t8:function(){return S}});var r=n(719301),s=n(239426),o=n(563218),a=n(145309),i=n(88606);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["isBusinessAccessAgencyTagEnabled","isEmployee"];function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){m(o,r,s,a,i,"next",e)}function i(e){m(o,r,s,a,i,"throw",e)}a(void 0)})}}var p=function(e){var t,n=e.businessId,s=e.detailId,i=e.isEmployee;return t=h(regeneratorRuntime.mark(function e(t){var l,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:"GET_TAGS"}),e.prev=1,!(i&&s)){e.next=8;break}return e.next=5,(0,a.dz)({businessId:n,detailId:s});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,(0,a.yZ)({businessId:n});case 10:e.t0=e.sent;case 11:return c=e.t0.map(function(e){return e.asset_id}),e.next=15,(0,o.pI)({assetIds:c,businessId:n,resourceType:"CONVERSION_TAG",limit:r.xX});case 15:t({type:"GET_TAGS_SUCCESS",payload:{data:Object.keys(d=(null==(u=e.sent)||null==(l=u.data)?void 0:l.data)||{}).map(function(e){var t=d[e].asset;return{id:t.id,name:t.name,automatic_enhanced_match:t.automatic_enhanced_match,ad_account_id:t.ad_account_id,business_id:t.business_id,created_time:t.created_time,last_fired_event:t.last_fired_event,leader_tag_business_id:t.leader_tag_business_id,leader_tag_ad_account_id:t.leader_tag_ad_account_id,leader_tag_id:t.leader_tag_id,leader_tag_name:t.leader_tag_name,leader_tag_enabled:t.leader_tag_enabled}}).sort(function(e,t){return e.created_time-t.created_time})}}),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(1),t({type:"GET_TAGS_ERROR",error:e.t1});case 24:case"end":return e.stop()}},e,null,[[1,21]])})),function(e){return t.apply(this,arguments)}},b=function(e){var t=e.id;return function(e){e({type:"SELECT_TAGS",payload:{data:t}})}},y=function(e,t){var n;return n=h(regeneratorRuntime.mark(function n(r,l){var d,_,m,h,p,b,y,v,A,g,S,x,E,P,I,T,C,O,j,z,w,N,R,D,k;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r({type:"GET_TAG_ASSETS"}),n.prev=1,m=(null==t?void 0:t.updateDataOnly)||!1,h=l(),p=(0,i.br)(h),y=(b=(0,i.iX)(h)).tags.filter(function(e){return"NONE"!==e.ad_account_id.toUpperCase()}).map(function(e){return e.ad_account_id})||[],v=(0,i.YM)(h),A=(0,s.IW)(e,v),g=y.concat((null==t?void 0:t.assetsToAdd)||[]).filter(function(e){var n;return!(null!=t&&null!=(n=t.assetsToRemove)&&n.includes(e))}),S=[],x=e.isBusinessAccessAgencyTagEnabled,E=e.isEmployee,P=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,c),!(x&&(b.business_id!==P.businessId||E))){n.next=18;break}return n.next=15,(0,a.EJ)({tagIds:[b.id]});case 15:S=((null==(I=n.sent.resource_response.data)?void 0:I.tags)||[]).map(function(e){return{id:e.ad_account_id,name:e.ad_account_name,owner:{id:e.ad_account_owner.id,full_name:e.ad_account_owner.full_name},tagId:e.id,ownedOrEnabled:!1}});case 18:return y||r({type:"GET_TAG_ASSETS_SUCCESS",payload:{data:{adAccounts:S,tagAssetsIds:[],tagId:p}}}),T=f(f(f(f({},v),P),{},{startIndex:A},0===A&&{page:1}),{},{assetIds:[].concat(u(g),[b.ad_account_id]),resourceType:"AD_ACCOUNT"}),n.next=22,(0,o.pI)(T);case 22:j=(O=(null==(C=n.sent)||null==(d=C.data)?void 0:d.data)||{})[b.ad_account_id]?{ownerAdAccount:{id:b.ad_account_id,name:O[b.ad_account_id].asset.name,owner:{id:O[b.ad_account_id].owner.id,full_name:O[b.ad_account_id].owner.full_name},tagId:p,ownedOrEnabled:!0}}:{},w=(z=Object.keys(O).filter(function(e){return e!==b.ad_account_id}).map(function(e){var t,n;return{id:e,name:O[e].asset.name,owner:{id:O[e].owner.id,full_name:O[e].owner.full_name},tagId:null!=(t=null==(n=b.tags.find(function(t){return t.ad_account_id===e}))?void 0:n.id)?t:"",ownedOrEnabled:!0}})).map(function(e){return e.id.toString()}),r({type:"GET_TAG_ASSETS_SUCCESS",payload:{data:N=f({adAccounts:[].concat(u(z),u(S.filter(function(e){return!w.includes(e.id.toString())}))),tagAssetsIds:g,tagId:p},j),updateDataOnly:m}}),R=T.searchTerm,D=T.page,k=T.limit,r({type:"SET_TABLE_STATE",payload:{data:{table:{totalCount:(null==(_=N.tagAssetsIds)?void 0:_.length)||0,searchTerm:R,page:D,limit:k}}}}),n.next=36;break;case 33:n.prev=33,n.t0=n.catch(1),r({type:"GET_TAG_ASSETS_ERROR",payload:n.t0});case 36:case"end":return n.stop()}},n,null,[[1,33]])})),function(e,t){return n.apply(this,arguments)}},v=function(e){var t=e.adAccounts;return function(e){e({type:"SELECT_TAG_AD_ACCOUNTS",payload:{data:{adAccounts:t}}})}},A=function(e){var t,n=e.addedTags;return t=h(regeneratorRuntime.mark(function e(t,r){var s,o,a,l,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),!((o=(0,i.TX)(s).filter(function(e){return""!==n[e.id]})).length<1)){e.next=4;break}return e.abrupt("return");case 4:t({type:"SELECT_TAG_AD_ACCOUNTS",payload:{data:{adAccounts:o}}}),t({type:"ADD_TAG_ASSETS_AD_ACCOUNT"});try{a=(0,i.br)(s),l=(0,i.iX)(s),c=o.map(function(e){return{id:n[e.id],name:l.name,automatic_enhanced_match:l.automatic_enhanced_match,ad_account_id:e.id,business_id:e.owner.id,created_time:new Date().getTime(),leader_tag_business_id:l.business_id,leader_tag_ad_account_id:l.ad_account_id,leader_tag_id:l.id,leader_tag_name:l.name}}),d={adAccounts:[].concat(u(l.adAccounts),u(o.map(function(e){return f(f({},e),{},{tagId:n[e.id]})}))),tags:[].concat(u(l.tags),u(c)),tagId:a},t({type:"ADD_TAG_ASSETS_AD_ACCOUNT_SUCCESS",payload:{data:d}})}catch(e){t({type:"ADD_TAG_ASSETS_AD_ACCOUNT_ERROR",payload:e})}case 7:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)}},g=function(e){var t,n=e.sharedTagId,r=e.adAccountId;return t=h(regeneratorRuntime.mark(function e(t,s){var o,a,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=s(),t({type:"REVOKE_TAG_ASSETS_AD_ACCOUNT"});try{a=(0,i.br)(o),c={adAccounts:(l=(0,i.iX)(o)).adAccounts.filter(function(e){return e.id!==r}),tags:l.tags.filter(function(e){return e.id!==n}),tagId:a},t({type:"REVOKE_TAG_ASSETS_AD_ACCOUNT_SUCCESS",payload:{data:c}})}catch(e){t({type:"REVOKE_TAG_ASSETS_AD_ACCOUNT_ERROR",payload:e})}case 3:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)}},S=function(e){return function(t){t({type:"SET_OVERLAY",payload:{data:{overlayState:e}}})}}},791953:function(e,t,n){"use strict";n.d(t,{Au:function(){return a},C5:function(){return l},Dh:function(){return c},FE:function(){return u},PW:function(){return _},Tb:function(){return i},rf:function(){return f},ze:function(){return d}});var r=n(563218);function s(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)})}}var a=function(e){var t=e.id;return function(e){e({type:"SET_SELECTED_ID",payload:{data:t}})}},i=function(e){var t=e.previousPermissions;return function(e){e({type:"SET_PREVIOUS_PERMISSIONS",payload:{previousPermissions:t}})}},l=function(e){var t,n=e.userId,s=e.permissions,a=e.adAccountId,i=e.businessId,l=e.assignmentType,c=e.clientBusinessId,u=e.businessHierarchyNodeId;return t=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_PERMISSION"}),t({type:"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT"}),e.prev=2,e.next=5,(0,r.EB)(n,s,a,i,l,c,u);case 5:t({type:"UPDATE_PERMISSION_SUCCESS"}),t({type:"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT_SUCCESS",payload:{data:{userId:n,permissions:s,adAccountId:a,businessId:i}}}),t({type:"UPDATE_EMPLOYEES_ADACCOUNT_SUCCESS",payload:{data:{employeeId:n,permissions:s,adAccountId:a}}}),t({type:"UPDATE_SYSTEM_USER_ADACCOUNT_SUCCESS",payload:{adAccountUpdate:{permissions:s,adAccountId:a}}}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),t({type:"UPDATE_PERMISSION_ERROR",error:e.t0}),t({type:"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT_ERROR",error:e.t0});case 15:case"end":return e.stop()}},e,null,[[2,11]])})),function(e){return t.apply(this,arguments)}},c=function(e){var t,n=e.userId,s=e.permissions,a=e.adAccountId,i=e.businessId,l=e.assignmentType,c=e.clientBusinessId,u=e.businessHierarchyNodeId;return t=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_PERMISSION"}),e.prev=1,e.next=4,(0,r.EB)(n,s,a,i,l,c,u);case 4:t({type:"UPDATE_PERMISSION_SUCCESS"}),t({type:"PEOPLE"===l?"UPDATE_CATALOG_PERMISSION_FOR_EMPLOYEE_SUCCESS":"UPDATE_CATALOG_PERMISSION_FOR_PARTNER_SUCCESS",payload:{data:{userId:n,permissions:s,catalogId:a}}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"UPDATE_PERMISSION_ERROR",error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return t.apply(this,arguments)}},u=function(e){var t,n=e.userId,s=e.permissions,a=e.adAccountId,i=e.businessId,l=e.assignmentType,c=e.clientBusinessId,u=e.businessHierarchyNodeId;return t=o(regeneratorRuntime.mark(function e(t){var o,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_PERMISSION"}),e.prev=1,e.next=4,(0,r.EB)(n,s,a,i,l,c,u);case 4:t({type:"UPDATE_PERMISSION_SUCCESS"}),e.t0=l,e.next="PEOPLE"===e.t0?8:"SYSTEM_USERS"===e.t0?11:"PARTNER"===e.t0?14:17;break;case 8:return o="UPDATE_EMPLOYEES_CATALOG_SUCCESS",d={data:{userId:n,permissions:s,catalogId:a}},e.abrupt("break",19);case 11:return o="UPDATE_SYSTEM_USER_CATALOG_SUCCESS",d={catalogUpdate:{catalogId:a,permissions:s}},e.abrupt("break",19);case 14:return o="UPDATE_CATALOG_PERMISSION_FOR_PARTNER_SUCCESS",d={data:{userId:n,permissions:s,catalogId:a}},e.abrupt("break",19);case 17:o="UPDATE_CATALOG_PERMISSIONS_SUCCESS",d={data:{userId:n,permissions:s,catalogId:a}};case 19:t({type:o,payload:d}),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(1),t({type:"UPDATE_PERMISSION_ERROR",error:e.t1});case 25:case"end":return e.stop()}},e,null,[[1,22]])})),function(e){return t.apply(this,arguments)}},d=function(e){var t,n=e.userId,s=e.permissions,a=e.adAccountId,i=e.businessId,l=e.clientBusinessId,c=e.businessHierarchyNodeId;return t=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_PERMISSION"}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE"}),e.prev=2,e.next=5,(0,r.EB)(n,s,a,i,"PEOPLE",l,c);case 5:t({type:"UPDATE_PERMISSION_SUCCESS"}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE_SUCCESS",payload:{data:{userId:n,permissions:s,adAccountId:a,businessId:i}}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:"UPDATE_PERMISSION_ERROR",error:e.t0}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE_ERROR",error:e.t0});case 13:case"end":return e.stop()}},e,null,[[2,9]])})),function(e){return t.apply(this,arguments)}},_=function(e){var t,n=e.userId,s=e.permissions,a=e.adAccountId,i=e.businessId,l=e.clientBusinessId,c=e.businessHierarchyNodeId;return t=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_PERMISSION"}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_SYSTEM_USER"}),e.prev=2,e.next=5,(0,r.EB)(n,s,a,i,"PEOPLE",l,c);case 5:t({type:"UPDATE_PERMISSION_SUCCESS"}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_SYSTEM_USER_SUCCESS",payload:{userId:n,permissions:s,adAccountId:a,businessId:i}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:"UPDATE_PERMISSION_ERROR",error:e.t0}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_SYSTEM_USER_ERROR",error:e.t0});case 13:case"end":return e.stop()}},e,null,[[2,9]])})),function(e){return t.apply(this,arguments)}},f=function(e){var t,n=e.userId,s=e.permissions,a=e.adAccountId,i=e.businessId,l=e.clientBusinessId,c=e.businessHierarchyNodeId;return t=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_PERMISSION"}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER"}),e.prev=2,e.next=5,(0,r.EB)(n,s,a,i,"PARTNER",l,c);case 5:t({type:"UPDATE_PERMISSION_SUCCESS"}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER_SUCCESS",payload:{data:{userId:n,permissions:s,adAccountId:a,businessId:i}}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:"UPDATE_PERMISSION_ERROR",error:e.t0}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER_ERROR",error:e.t0});case 13:case"end":return e.stop()}},e,null,[[2,9]])})),function(e){return t.apply(this,arguments)}}},37755:function(e,t,n){"use strict";n.d(t,{F:function(){return c},O:function(){return u}});var r=n(862429),s=n(746200);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){i(o,r,s,a,l,"next",e)}function l(e){i(o,r,s,a,l,"throw",e)}a(void 0)})}}var c=function(e){var t;return t=l(regeneratorRuntime.mark(function t(n){var s,a,i,l,c,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_VIEWER_BUSINESS_HIERARCHY_INVITES"}),t.prev=1,t.next=4,(0,r.Tc)({businessId:e,inviteType:"BUSINESS_HIERARCHY_CHILD"});case 4:return l=(null==(i=t.sent)||null==(s=i.data)?void 0:s.data)||[],t.next=8,(0,r.Tc)({businessId:e,inviteType:"BUSINESS_HIERARCHY_MEMBER"});case 8:u=(null==(c=t.sent)||null==(a=c.data)?void 0:a.data)||[],n({type:"GET_VIEWER_BUSINESS_HIERARCHY_INVITES_SUCCESS",payload:{data:[].concat(o(l),o(u))}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),n({type:"GET_VIEWER_BUSINESS_HIERARCHY_INVITES_ERROR",error:t.t0});case 17:case"end":return t.stop()}},t,null,[[1,14]])})),function(e){return t.apply(this,arguments)}},u=function(e){var t;return t=l(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=r(),(0,s.St)(o)||c(e)(n);case 3:case"end":return t.stop()}},t)})),function(e,n){return t.apply(this,arguments)}}},237480:function(e,t,n){"use strict";n.d(t,{U:function(){return f},p:function(){return m}});var r,s,o,a,i=n(681698);function l(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var c=(r=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)({url:"ads/v4/business_access/invites"});case 2:return t=e.sent,e.abrupt("return",t.resource_response);case 4:case"end":return e.stop()}},e)}),s=function(){var e=this,t=arguments;return new Promise(function(n,s){var o=r.apply(e,t);function a(e){l(o,n,s,a,i,"next",e)}function i(e){l(o,n,s,a,i,"throw",e)}a(void 0)})},function(){return s.apply(this,arguments)}),u=n(567651);function d(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){d(o,r,s,a,i,"next",e)}function i(e){d(o,r,s,a,i,"throw",e)}a(void 0)})}}var f=(o=_(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_VIEWER_INVITES"}),e.prev=1,e.next=4,c();case 4:t({type:"GET_VIEWER_INVITES_SUCCESS",payload:{data:e.sent.data.data}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"GET_VIEWER_INVITES_ERROR",error:e.t0});case 12:case"end":return e.stop()}},e,null,[[1,9]])})),function(e){return o.apply(this,arguments)}),m=(a=_(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),(0,u.O)(r)||t(f);case 3:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)})},632323:function(e,t,n){"use strict";n.d(t,{SA:function(){return S},iL:function(){return A},tu:function(){return v},u_:function(){return g},vm:function(){return b}});var r,s,o,a,i,l=n(540015),c=n(681698),u=n(160744);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){var r;return(r=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==d(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){h(o,r,s,a,i,"next",e)}function i(e){h(o,r,s,a,i,"throw",e)}a(void 0)})}}var b=(r=p(regeneratorRuntime.mark(function e(t){var n,r,s,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.partnerId,s=t.requestIds,o=t.statuses,e.next=3,(0,c.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/ad_account_requests/"),data:{partner_id:r,request_ids:s&&s.length?s.join(","):void 0,statuses:o.join(",")}});case 3:return a=e.sent,e.abrupt("return",a.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),y=function(e){return e.reduce(function(e,t){var n=Object.keys(t)[0],r=Object.values(t)[0].includes("ADMIN")?m({},n,["ADMIN"]):t;return f(f({},e),r)},{})},v=(s=p(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.partnerId,s=t.name,o=t.country,a=y(t.businessIdToPermissions),e.next=4,(0,c.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/partners/").concat(r,"/ad_account_request/"),method:"POST",data:{name:s,country:o,business_id_to_permissions:a}});case 4:return i=e.sent,e.abrupt("return",i.resource_response);case 6:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),A=(o=p(regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.requestIds,e.next=3,(0,c.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/ad_account_requests/"),method:"POST",data:{request_ids:r}});case 3:return s=e.sent,e.abrupt("return",s.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),g=(a=p(regeneratorRuntime.mark(function e(t){var n,r,s,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.clientBusinessId,s=t.country,o=t.requestId,e.next=3,(0,c.Z)({url:"/ads/v4/advertisers/",method:"POST",data:{client_business_id:r,agency_owned_ad_account_request_id:o,tos_id:(0,u.Fc)(null!=(n=l.tN[s])?n:0)}});case 3:return a=e.sent,e.abrupt("return",a.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),S=(i=p(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.partnerId,s=t.requestId,o=t.businessHierarchyNodeId,a=t.status,l=(i=t.businessIdToPermissions)&&y(i),e.next=4,(0,c.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/partners/").concat(r,"/ad_account_requests/").concat(s,"/"),method:"PUT",data:{business_request_status:a,business_id_to_permissions:l,business_hierarchy_node_id:o}});case 4:return u=e.sent,e.abrupt("return",u.resource_response);case 6:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})},516251:function(e,t,n){"use strict";n.d(t,{Ao:function(){return u},C6:function(){return d},eg:function(){return _},jb:function(){return f}});var r,s,o,a,i=n(681698);function l(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){l(o,r,s,a,i,"next",e)}function i(e){l(o,r,s,a,i,"throw",e)}a(void 0)})}}var u=(r=c(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appId,e.next=3,(0,i.Z)({url:"/v3/consumers/".concat(n,"/secret/"),method:"PUT"});case 3:return r=e.sent,e.abrupt("return",r.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),d=(s=c(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,e.next=3,(0,i.Z)({url:"/v3/consumers/",method:"GET",data:{add_fields:"consumer.secret",owner_user:n}});case 3:return r=e.sent,e.abrupt("return",r.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),_=(o=c(regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.appId,e.next=3,(0,i.Z)({url:"/v3/consumers/".concat(r),method:"GET",data:{add_fields:"consumer.secret",owner_user:n}});case 3:return s=e.sent,e.abrupt("return",s.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),f=(a=c(regeneratorRuntime.mark(function e(t){var n,r,s,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appId,r=t.businessId,s=t.scopes,o=t.systemUserId,e.next=3,(0,i.Z)({url:"/ads/v4/business_access/businesses/".concat(r,"/system_users/").concat(o,"/refresh_token/"),method:"POST",data:{app_id:n,scopes:s}});case 3:return a=e.sent,e.abrupt("return",a.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},185004:function(e,t,n){"use strict";n.d(t,{B_:function(){return b},SX:function(){return p},oA:function(){return h},zM:function(){return m}});var r,s,o,a,i=n(719301),l=n(681698),c=n(591361);function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){_(o,r,s,a,i,"next",e)}function i(e){_(o,r,s,a,i,"throw",e)}a(void 0)})}}var m=(r=f(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.Z)({url:"/ads/v4/audiences/shared",data:t});case 2:return n=e.sent.resource_response.data,e.abrupt("return",n||[]);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),h=(s=f(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i,u,d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.audienceId,r=t.businessId,s=t.recipientAccountType,o=t.limit,a=t.page,i=t.searchTerm,u={audience_id:n,requestor_account_id:r,recipient_account_type:s,requestor_account_type:c.Q5.BUSINESS_ACCOUNT},e.next=4,(0,l.Z)({url:"/ads/v4/audiences/shared/accounts",data:u});case 4:return(d=e.sent.resource_response.data).accounts&&(_=a,d.accounts=i?d.accounts.filter(function(e){return e.account_name.toLocaleLowerCase().includes(i.toLocaleLowerCase())||e.owner_name.toLocaleLowerCase().includes(i.toLocaleLowerCase())||e.account_id.toLocaleLowerCase().includes(i.toLocaleLowerCase())}).slice((_-1)*o,_*o):d.accounts.slice((_-1)*o,_*o)),e.abrupt("return",d);case 8:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),p=(o=f(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,c,u,d,_,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.sortBy,s=t.sortAscending,o=t.searchBy,a=t.searchTerm,c=t.startIndex,u=t.limit,d=t.filters,_={sort_by:r,sort_ascending:s,search_by:o,search_value:a,start_index:c,page_size:u&&u<i.xX?u:i.xX,filters:d},e.next=5,(0,l.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/audiences"),data:_});case 5:return f=e.sent.resource_response.data,e.abrupt("return",f||[]);case 8:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),b=(a=f(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({businessId:t.businessId,limit:i.xX,searchTerm:t.searchTerm,startIndex:0,sortAscending:t.sortAscending,sortBy:t.sortBy});case 2:if(r=(null==(n=e.sent)?void 0:n.audiences)||[],!((s=Math.ceil(((null==n?void 0:n.total_count)||0)/i.xX))<=1)){e.next=8;break}return e.abrupt("return",(r||[]).filter(function(e){return null!==e}));case 8:return o=u(Array(s).keys()).slice(1),e.next=11,Promise.allSettled(o.map(function(e){return p({businessId:t.businessId,limit:i.xX,startIndex:e*i.xX,searchTerm:t.searchTerm,sortAscending:t.sortAscending,sortBy:t.sortBy})}));case 11:return a=e.sent,l=r.filter(function(e){return null!==e}),c=a.reduce(function(e,t){var n;if("fulfilled"===t.status&&null!=(n=t.value)&&n.audiences){var r=t.value.audiences.filter(function(e){return null!==e});e.push.apply(e,u(r))}return e},l),e.abrupt("return",c);case 15:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},862429:function(e,t,n){"use strict";n.d(t,{$N:function(){return S},Ay:function(){return x},FD:function(){return A},NN:function(){return I},Tc:function(){return C},hy:function(){return P},iS:function(){return g},mH:function(){return T},ov:function(){return O},wH:function(){return E}});var r,s,o,a,i,l,c,u,d,_,f=n(719301),m=n(681698);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){y(o,r,s,a,i,"next",e)}function i(e){y(o,r,s,a,i,"throw",e)}a(void 0)})}}var A=(r=v(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,e.next=3,(0,m.Z)({url:"/ads/v4/business_access/business_hierarchies",method:"POST",data:{name:n}});case 3:return r=e.sent,e.abrupt("return",r.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),g=(s=v(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hierarchyId,s=void 0===(r=t.searchBy)?"FULL_NAME":r,a=void 0===(o=t.searchTerm)?"":o,e.next=3,(0,m.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(n,"/users/"),data:{search_by:s,search_value:a}});case 3:return i=e.sent,e.abrupt("return",i.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),S=(o=v(regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hierarchyId,r=t.childHierarchyId,e.next=3,(0,m.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(n,"/children/").concat(r),method:"DELETE"});case 3:return s=e.sent,e.abrupt("return",s.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),x=(a=v(regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hierarchyId,r=t.managerId,e.next=3,(0,m.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(n,"/users/").concat(r),method:"DELETE"});case 3:return s=e.sent,e.abrupt("return",s.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),E=(i=v(regeneratorRuntime.mark(function e(t){var n,r,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hierarchyId,r=t.name,s=t.image_url,e.next=3,(0,m.Z)({url:"/ads/v4/business_access/business_hierarchy/".concat(n,"/"),method:"PATCH",data:{name:r,image_url:s}});case 3:return o=e.sent,e.abrupt("return",o.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),P=(l=v(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i,l,c,u,d,_,h,p,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessHierarchyLookupId,r=t.businessRole,o=void 0===(s=t.sortBy)?"MEMBER_FULL_NAME":s,i=void 0===(a=t.searchBy)?["FULL_NAME","USERNAME","BUSINESS_ID","EMAIL"]:a,c=void 0===(l=t.searchTerm)?"":l,d=void 0===(u=t.sortDirection)?"ASCENDING":u,_=t.startIndex,p=(h=t.limit)&&h<f.xX?h:f.xX,e.next=4,(0,m.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(n,"/business_members/"),data:{business_role:r,sort_by:o,search_by:i,search_value:c,sort_ascending:"ASCENDING"===d,start_index:_,page_size:p}});case 4:return b=e.sent,e.abrupt("return",b.resource_response);case 6:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),I=(c=v(regeneratorRuntime.mark(function e(t){var n,r,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.peopleIdentifiers,r=t.role,s=t.hierarchyId,"CHILD_BUSINESS"!==r){e.next=7;break}return e.next=4,(0,m.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(s,"/child_invites/"),data:{child_business_ids:n},method:"POST"});case 4:o=e.sent,e.next=10;break;case 7:return e.next=9,(0,m.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(s,"/member_invites/"),data:{members:n},method:"POST"});case 9:o=e.sent;case 10:return e.abrupt("return",o.resource_response);case 11:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),T=(u=v(regeneratorRuntime.mark(function e(t){var n,r,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hierarchyId,r=t.role,e.next=3,(0,m.Z)({url:"ads/v4/business_access/business_hierarchy_invites/",data:{business_entity_type:"BUSINESS_HIERARCHY",invite_type:"CHILD_BUSINESS"===r?"BUSINESS_HIERARCHY_CHILD":"BUSINESS_HIERARCHY_MEMBER",business_entity_id:n,statuses:["PENDING","EXPIRED"]},method:"GET"});case 3:return o=(void 0===(s=(e.sent.resource_response.data||{}).data)?[]:s).map(function(e){return b(b({},e),{},{entity_type:"INVITE",user:b(b({},e.receiver_user_info),{},{entity_type:"USER"})})}),e.abrupt("return",{data:o});case 7:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)}),C=(d=v(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,s=void 0===(r=t.inviteType)?"BUSINESS_HIERARCHY_CHILD":r,a=void 0===(o=t.businessEntityType)?"BUSINESS_ACCOUNT":o,l=void 0===(i=t.status)?"PENDING":i,e.next=3,(0,m.Z)({url:"ads/v4/business_access/business_hierarchy_invites/",data:{business_entity_type:a,invite_type:s,business_entity_id:n,statuses:l}});case 3:return c=e.sent,e.abrupt("return",c.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)}),O=(_=v(regeneratorRuntime.mark(function e(t){var n,r,s,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.inviteId,r=t.action,s=t.inviteType,o=t.businessEntityId,e.next=3,(0,m.Z)({url:"ads/v4/business_access/business_hierarchy_invites/".concat(n,"/auth_process_action/"),method:"PATCH",data:{action:r,invite_type:s,business_entity_id:o}});case 3:return a=e.sent,e.abrupt("return",a.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return _.apply(this,arguments)})},721819:function(e,t,n){"use strict";n.d(t,{A1:function(){return x},Hb:function(){return P},oF:function(){return S},oh:function(){return I},pG:function(){return E},uL:function(){return C},zg:function(){return T}});var r,s,o,a,i,l,c,u=n(901303),d=n(540015),_=n(719301),f=n(681698),m=n(563218),h=n(498452),p=n(799795),b=n(160744);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){A(o,r,s,a,i,"next",e)}function i(e){A(o,r,s,a,i,"throw",e)}a(void 0)})}}var S=(r=g(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i,l,c,d,h,p,b,A,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.businessId,o=void 0===(s=t.sharedWithPartner)?void 0:s,a=u.z.object({asset_id:u.z.string(),type:u.z.string(),permissions:u.z.array(u.z.string())}),i=u.z.object({data:u.z.array(a)}),e.next=5,(0,f.Z)({url:"/ads/v4/business_access/businesses/".concat(r,"/assets/"),data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({business_id:r,resource_type:"CONVERSION_SEGMENT",page_size:_.xX},void 0!==o&&{shared_with_partner:o})});case 5:return l=e.sent,c=[],d=[],h={},null!=(n=l.resource_response)&&n.data&&(p=i.safeParse(l.resource_response.data)).success&&(d=p.data.data.map(function(e){return h[e.asset_id]=e.permissions,e.asset_id})),b=u.z.object({asset:u.z.object({id:u.z.string(),name:u.z.string(),conversion_types:u.z.array(u.z.string()),advertiser_id:u.z.string(),created_time:u.z.number(),last_updated_time:u.z.number(),catalog_id:u.z.string().nullable(),filters:u.z.record(u.z.string(),u.z.union([u.z.array(u.z.record(u.z.string(),u.z.union([u.z.array(u.z.union([u.z.string(),u.z.number()])),u.z.boolean(),u.z.string(),u.z.number(),u.z.null(),u.z.array(u.z.array(u.z.string()))]))),u.z.boolean(),u.z.string(),u.z.number()])).nullable(),product_ids:u.z.array(u.z.string())}),owner:u.z.object({full_name:u.z.string(),id:u.z.string()})}),A=u.z.object({data:u.z.record(u.z.string(),b)}),e.next=14,(0,m.pI)({businessId:r,assetIds:d,limit:_.xX,resourceType:"CONVERSION_SEGMENT"});case 14:return null!=(g=e.sent)&&g.data&&(A.safeParse(g.data).success,c=Object.values(g.data.data).map(function(e){var t=e.asset,n=e.owner;return{id:t.id,name:t.name,owner:n,createdAt:new Date(1e3*t.created_time),typeCount:t.conversion_types.length,conversionTypes:t.conversion_types,adAccountId:t.advertiser_id,catalogId:t.catalog_id,filterV2Object:t.filters,additionalItemIds:t.product_ids,permissions:h[t.id]||[],conversionSegmentSummary:t.conversion_segment_summary}})),e.abrupt("return",c);case 17:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),x=(s=g(regeneratorRuntime.mark(function e(t){var n,r,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.conversionId,s=t.adAccountIds,e.next=3,(0,f.Z)({url:"ads/v4/business_access/businesses/".concat(n,"/fine_grained_resources/advertisers/shared"),method:"PATCH",data:{fine_grained_resource_id:r,operation_type:"SHARE",recipient_account_ids:s,permissions:["RESOURCE_CONVERSION_SEGMENT_RESTRICTED_RECIPIENT"],resource_type:"CONVERSION_SEGMENT"}});case 3:return o=e.sent,e.abrupt("return",o.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),E=(o=g(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i,l,c,u,_,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.businessId,r=t.ownerId,s=t.conversionId,o=t.adAccounts,a=t.accountName,i=t.country,l=t.currency,0!==(c=o).length){e.next=9;break}return e.next=5,(0,m.W3)(n,null,null,a,i,l,(0,b.Fc)(null!=(u=d.tN[i||"UNKNOWN"])?u:0),!0,r);case 5:return _=e.sent,e.next=8,(0,h.SZ)({businessId:n,partnerId:r,assetId:_.id,permissions:["ANALYST"]});case 8:c.push(_.id);case 9:return e.next=11,x({businessId:n,conversionId:s,adAccountIds:c});case 11:return f=e.sent,e.abrupt("return",f);case 13:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),P=(a=g(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i,l,c,u,d,_,m,h,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(s=t.conversionSegment).name,a=s.conversionTypes,i=s.filters,c=void 0===(l=s.additionalItemIds)?[]:l,u=s.sourceCatalog,d=s.sourceCatalogId,_=s.sourceAdAccount,m=s.sourceAdAccountId,h=null!=(n=null==_?void 0:_.asset_id)?n:m,e.next=5,(0,f.Z)({url:"ads/v4/advertisers/".concat(h,"/conversion_segments"),method:"POST",data:{name:o,conversion_types:a,catalog_id:null!=(r=null==u?void 0:u.id)?r:d,filters:i?JSON.stringify((0,p.Lq)(i)):void 0,product_ids:c}});case 5:return b=e.sent,e.abrupt("return",b.resource_response);case 7:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),I=(i=g(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i,l,c,u,d,_,m,h,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.segmentId,a=(o=t.conversionSegment).name,i=o.conversionTypes,l=o.filters,u=void 0===(c=o.additionalItemIds)?[]:c,d=o.sourceCatalog,_=o.sourceCatalogId,m=o.sourceAdAccount,h=o.sourceAdAccountId,b=null!=(n=null==m?void 0:m.asset_id)?n:h,e.next=5,(0,f.Z)({url:"ads/v4/advertisers/".concat(b,"/conversion_segments/").concat(s),method:"PATCH",data:{name:a,conversion_types:i,catalog_id:null!=(r=null==d?void 0:d.id)?r:_,filters:l?JSON.stringify((0,p.Lq)(l)):void 0,product_ids:u}});case 5:return y=e.sent,e.abrupt("return",y.resource_response);case 7:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),T=(l=g(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Z)({url:"/ads/v4/advertisers/".concat(n,"/conversion_segments/").concat(t),method:"DELETE"});case 2:return r=e.sent,e.abrupt("return",r.resource_response);case 4:case"end":return e.stop()}},e)})),function(e,t){return l.apply(this,arguments)}),C=(c=g(regeneratorRuntime.mark(function e(t,n){var r,s,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Z)({url:"/ads/v4/business_access/businesses/".concat(t,"/assets_by_ids/"),data:{business_id:t,asset_ids:[n]}});case 2:return a=Object.values(null==(r=e.sent.resource_response)||null==(s=r.data)?void 0:s.data)[0]||{},e.abrupt("return",(null==a||null==(o=a.asset)?void 0:o.shared_accounts)||[]);case 5:case"end":return e.stop()}},e)})),function(e,t){return c.apply(this,arguments)})},585812:function(e,t,n){"use strict";n.d(t,{C:function(){return c},M:function(){return l}});var r,s,o=n(719301),a=n(681698);function i(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var l=function(e,t){return"/business/business-access/".concat(e,"/invoice_document/download/").concat(t)},c=(r=regeneratorRuntime.mark(function e(t){var n,r,s,i,l,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.filters,s=t.limit,i=t.startIndex,l=t.invoicesSortBy,c=s&&s<o.xX?s:o.xX,e.next=4,(0,a.Z)({url:"ads/v4/businesses/".concat(n,"/billing_invoices"),data:{page_size:c,offset:i,invoice_start_date:r.timeRange.startTime,invoice_end_date:r.timeRange.endTime,ad_account_ids:0!==r.adAccountIds.length?r.adAccountIds:void 0,document_type:"ALL"!==r.documentType?r.documentType:void 0,status:"ALL"!==r.status?r.status:void 0,sort:l.sortField,order:l.sortOrder}});case 4:return u=e.sent,e.abrupt("return",u.resource_response);case 6:case"end":return e.stop()}},e)}),s=function(){var e=this,t=arguments;return new Promise(function(n,s){var o=r.apply(e,t);function a(e){i(o,n,s,a,l,"next",e)}function l(e){i(o,n,s,a,l,"throw",e)}a(void 0)})},function(e){return s.apply(this,arguments)})},386811:function(e,t,n){"use strict";n.d(t,{H9:function(){return u},c_:function(){return d}});var r,s,o,a=n(681698);function i(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){i(o,r,s,a,l,"next",e)}function l(e){i(o,r,s,a,l,"throw",e)}a(void 0)})}}var c=new(n(383702)).ZP;r=l(regeneratorRuntime.mark(function e(t){var n,r,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.businessId,!t.useApiResource){e.next=8;break}return e.next=4,(0,a.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/mfa")});case 4:return r=e.sent,e.abrupt("return",r.resource_response);case 8:return s="/ads/v4/business_access/businesses/".concat(n,"/mfa"),e.next=11,c.get(s);case 11:return o=e.sent,e.abrupt("return",o);case 13:case"end":return e.stop()}},e)})),t.ZP=function(e){return r.apply(this,arguments)};var u=(s=l(regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.businessRoles,e.next=3,(0,a.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/mfa"),method:"PUT",data:{business_roles:r}});case 3:return s=e.sent,e.abrupt("return",s.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),d=(o=l(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.memberId,e.next=3,(0,a.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/members/").concat(r,"/resend_mfa_email"),method:"POST"});case 3:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})},2877:function(e,t,n){"use strict";n.d(t,{R:function(){return l},r:function(){return c}});var r,s,o=n(681698);function a(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function i(e){a(o,r,s,i,l,"next",e)}function l(e){a(o,r,s,i,l,"throw",e)}i(void 0)})}}var l=(r=i(regeneratorRuntime.mark(function e(t){var n,r,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.is_member,s=t.filters,e.next=3,(0,o.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/invites_and_requests/"),data:{is_member:r,assets_summary:!0,filters:JSON.stringify(s)}});case 3:return a=e.sent,e.abrupt("return",a.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),c=(s=i(regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.rmnPartnerId,e.next=3,(0,o.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/rmn/pending/assets"),data:{rmn_partner_id:r}});case 3:return s=e.sent,e.abrupt("return",s.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},145309:function(e,t,n){"use strict";n.d(t,{EJ:function(){return b},Ol:function(){return h},dz:function(){return m},oZ:function(){return p},qE:function(){return y},yZ:function(){return f}});var r,s,o,a,i,l,c=n(719301),u=n(681698);function d(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){d(o,r,s,a,i,"next",e)}function i(e){d(o,r,s,a,i,"throw",e)}a(void 0)})}}var f=(r=_(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.businessId,a=(o=void 0===(s=t.limit)?c.xX:s)&&o<c.xX?o:c.xX,e.next=4,(0,u.Z)({url:"/ads/v4/business_access/businesses/".concat(r,"/assets/"),data:{business_id:r,resource_type:"CONVERSION_TAG",page_size:a}});case 4:return i=null==(n=e.sent.resource_response.data)?void 0:n.data,e.abrupt("return",i||[]);case 7:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),m=(s=_(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.businessId,s=t.detailId,i=(a=void 0===(o=t.limit)?c.xX:o)&&a<c.xX?a:c.xX,e.next=4,(0,u.Z)({url:"/ads/v4/business_access/businesses/".concat(r,"/members/").concat(s,"/assets/"),data:{business_id:r,resource_type:"CONVERSION_TAG",page_size:i}});case 4:return l=null==(n=e.sent.resource_response.data)?void 0:n.data,e.abrupt("return",l||[]);case 7:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),h=(o=_(regeneratorRuntime.mark(function e(t){var n,r,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.tagId,s=t.assetsToAdd,e.next=3,(0,u.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/conversion_tags/").concat(r,"/share"),method:"POST",data:{ad_account_ids:s}});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),p=(a=_(regeneratorRuntime.mark(function e(t){var n,r,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.tagId,s=t.leaderTagId,e.next=3,(0,u.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/conversion_tags/").concat(r,"/"),method:"DELETE",data:{leader_tag_id:s}});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),b=(i=_(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tagIds,e.next=3,(0,u.Z)({url:"ads/v4/advertisers/conversion_tags/shared_tags",data:{tag_ids:n.join(",")}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),y=(l=_(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.owner_business_id,r=t.account_ids,o=void 0===(s=t.validate_owned_only)||s,a=t.businessId,e.next=3,(0,u.Z)({url:"/ads/v4/business_access/businesses/validate_accounts",method:"POST",data:{owner_business_id:n,business_enitity_id:a,account_ids:r,account_type:"AD_ACCOUNT",validate_owned_only:o}});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)})},833627:function(e,t,n){"use strict";n.d(t,{R:function(){return l},b:function(){return i}});var r,s=n(27399);function o(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var a=e.apply(t,n);function i(e){o(a,r,s,i,l,"next",e)}function l(e){o(a,r,s,i,l,"throw",e)}i(void 0)})}}var i=(r=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.create("UserResource",{user_id:t}).callGet();case 2:return n=e.sent.resource_response.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});function l(e){return c.apply(this,arguments)}function c(){return(c=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Array.from(new Set(t)).map(function(e){return s.Z.create("UserResource",{user_id:e}).callGet().then(function(e){return e.resource_response.data}).catch(function(){return{id:e,full_name:"Not Found",type:"user"}})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}},577432:function(e,t,n){"use strict";n.d(t,{AG:function(){return f},EH:function(){return d},Jg:function(){return u},Xy:function(){return l},fp:function(){return c},op:function(){return i},sA:function(){return _},wk:function(){return a}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){return e.adAccounts}),a=(0,r.createSelector)(o,function(e){return e.loading}),i=(0,r.createSelector)(o,function(e){return e.error}),l=(0,r.createSelector)(o,function(e){return e.data}),c=(0,r.createSelector)(o,function(e){return e.totalCount}),u=function(e){return(0,r.createSelector)(l,function(t){var n;return null!=(n=t[e])?n:{}})},d=(0,r.createSelector)(l,function(e){return Object.keys(e).length>0}),_=function(e){return(0,r.createSelector)(l,function(t){var n,r;return t&&null!=(n=null==(r=t[e])?void 0:r.settings)?n:{}})},f=(0,r.createSelector)(o,function(e){return e.businessIdsAssociatedWithAoaas||[]})},184587:function(e,t,n){"use strict";n.d(t,{$1:function(){return a},Mr:function(){return i},PP:function(){return l},Ps:function(){return u},TY:function(){return d},gY:function(){return c}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){var t=e.aoaaRequests;return null!=t?t:{}}),a=(0,r.createSelector)(o,function(e){return e.loading}),i=(0,r.createSelector)(o,function(e){var t=e.requests;return null!=t?t:{}}),l=function(e){return(0,r.createSelector)(i,function(t){var n;return null!=(n=t[e])?n:{}})},c=(0,r.createSelector)(i,function(e){return e.error}),u=function(e){return(0,r.createSelector)((0,r.createSelector)(i,function(t){return Object.keys(t).filter(function(n){return t[n].client_business.id===e&&"PENDING"===t[n].status})}),function(e){return Object.keys(e).length>0})},d=function(e){return(0,r.createSelector)((0,r.createSelector)(i,function(t){return Object.keys(t).filter(function(n){return t[n].client_business.id!==e&&"EXPIRED"===t[n].status})}),function(e){return Object.keys(e).length>0})}},569401:function(e,t,n){"use strict";n.d(t,{I0:function(){return _},Pm:function(){return l},fR:function(){return d},kO:function(){return a},sv:function(){return f},w9:function(){return c}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){var t=e.apps;return null!=t?t:{}}),a=(0,r.createSelector)(o,function(e){var t=e.data;return null!=t?t:{}}),i=(0,r.createSelector)(o,function(e){var t=e.selectedAppId;return null!=t?t:""}),l=(0,r.createSelector)(i,a,function(e,t){var n;return null!=(n=t.find(function(t){return t.id===e}))?n:{}}),c=(0,r.createSelector)(o,function(e){return e.loading}),u=(0,r.createSelector)(o,function(e){return e.refreshToken}),d=(0,r.createSelector)(u,function(e){return e.data}),_=(0,r.createSelector)(u,function(e){return e.loading}),f=(0,r.createSelector)(u,function(e){return e.error})},997973:function(e,t,n){"use strict";n.d(t,{Af:function(){return g},CE:function(){return b},E$:function(){return c},EW:function(){return A},FY:function(){return i},N5:function(){return h},Qx:function(){return m},Xq:function(){return u},c2:function(){return l},k0:function(){return v},md:function(){return y}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){return e.audienceSharing}),a=(0,r.createSelector)(o,function(e){return e.audiences}),i=(0,r.createSelector)(a,function(e){return e.sharedAudiences||[]}),l=(0,r.createSelector)(a,function(e){return e.receivedAudiences||[]}),c=(0,r.createSelector)(a,function(e){return e.ownedAudiences||[]}),u=(0,r.createSelector)(a,function(e){var t=e.selectedAudienceId;return null!=t?t:""}),d=(0,r.createSelector)(u,i,function(e,t){return t.find(function(t){return t.id===e})}),_=(0,r.createSelector)(u,c,function(e,t){return t.find(function(t){return t.id===e})}),f=(0,r.createSelector)(u,l,function(e,t){return t.find(function(t){return t.id===e})}),m=(0,r.createSelector)(u,d,f,function(e,t,n){return t?{audience:t,shareType:"SHARED"}:{audience:n,shareType:"RECEIVED"}}),h=(0,r.createSelector)(u,_,f,function(e,t,n){return t?{audience:t,shareType:"SHARED"}:{audience:n,shareType:"RECEIVED"}}),p=(0,r.createSelector)(o,function(e){return e.sharedAccounts}),b=(0,r.createSelector)(p,function(e){return e.loading}),y=(0,r.createSelector)(a,function(e){return e.sharedAudiencesLoading}),v=(0,r.createSelector)(a,function(e){return e.ownedAudiencesLoading}),A=(0,r.createSelector)(a,function(e){return e.receivedAudiencesLoading}),g=(0,r.createSelector)(p,function(e){return e.accounts})},255094:function(e,t,n){"use strict";n.d(t,{$b:function(){return en},A0:function(){return E},A3:function(){return H},BK:function(){return eN},B_:function(){return eg},Gq:function(){return M},H$:function(){return C},HW:function(){return P},IT:function(){return $},JQ:function(){return Q},Jg:function(){return _},LG:function(){return p},Mc:function(){return es},Q7:function(){return eq},QE:function(){return eQ},Qz:function(){return eY},Rc:function(){return eV},Rs:function(){return e_},Sl:function(){return ej},TL:function(){return ek},T_:function(){return eU},W1:function(){return T},Wb:function(){return ea},Wk:function(){return K},Xv:function(){return eE},Xy:function(){return d},YM:function(){return S},Ym:function(){return eB},Ys:function(){return ec},_1:function(){return ew},_8:function(){return J},bS:function(){return eC},bn:function(){return U},cF:function(){return O},cX:function(){return eZ},du:function(){return eA},e_:function(){return k},fp:function(){return h},fz:function(){return eP},ge:function(){return eW},h$:function(){return el},kE:function(){return eS},kt:function(){return v},mr:function(){return eR},nf:function(){return eF},nn:function(){return eD},oe:function(){return ey},py:function(){return eu},s5:function(){return er},tB:function(){return y},tv:function(){return B},u:function(){return ep},uZ:function(){return j},wd:function(){return W},wk:function(){return m},xv:function(){return ef},yY:function(){return V},zW:function(){return D}});var r=n(366503),s=n(498539);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){var r;return(r=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==o(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,r.createSelector)(s.Z,function(e){return e.businessHierarchy||{}}),u=(0,r.createSelector)(c,function(e){return e.adAccounts}),d=(0,r.createSelector)(u,function(e){return e.data||[]}),_=function(e){return(0,r.createSelector)(d,function(t){var n;return null!=(n=t.find(function(t){return t.asset_id===e}))?n:{}})},f=(0,r.createSelector)(u,function(e){return e.table}),m=(0,r.createSelector)(u,function(e){return e.loading}),h=(0,r.createSelector)(f,function(e){return e.totalCount}),p=(0,r.createSelector)(f,function(e){return e.limit}),b=(0,r.createSelector)(f,function(e){return e.searchBy}),y=(0,r.createSelector)(f,function(e){return e.searchTerm}),v=(0,r.createSelector)(f,function(e){return e.page}),A=(0,r.createSelector)(f,function(e){return e.sortBy}),g=(0,r.createSelector)(f,function(e){return e.sortDirection}),S=(0,r.createSelector)(p,b,y,v,A,g,function(e,t,n,r,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return i(i({sortBy:s,sortDirection:o,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),x=(0,r.createSelector)(c,function(e){return e.assetGroups||{}}),E=(0,r.createSelector)(x,function(e){return Object.values(e.data||{})}),P=(0,r.createSelector)(x,function(e){return e.loading}),I=(0,r.createSelector)(x,function(e){return e.table}),T=(0,r.createSelector)(I,function(e){return e.page}),C=(0,r.createSelector)(I,function(e){return e.totalCount}),O=(0,r.createSelector)(I,function(e){return e.limit}),j=(0,r.createSelector)(I,function(e){return e.searchTerm}),z=(0,r.createSelector)(I,function(e){return e.searchBy}),w=(0,r.createSelector)(I,function(e){return e.sortBy}),N=(0,r.createSelector)(I,function(e){return e.sortDirection}),R=(0,r.createSelector)(c,function(e){return e.catalogs||{}}),D=(0,r.createSelector)(R,function(e){return Object.values(e.data||{})}),k=(0,r.createSelector)(R,function(e){return e.loading}),L=(0,r.createSelector)(R,function(e){return e.table}),U=(0,r.createSelector)(L,function(e){return e.page}),B=(0,r.createSelector)(L,function(e){return e.totalCount}),M=(0,r.createSelector)(L,function(e){return e.limit}),H=(0,r.createSelector)(L,function(e){return e.searchTerm}),Z=(0,r.createSelector)(L,function(e){return e.searchBy}),G=(0,r.createSelector)(L,function(e){return e.sortBy}),F=(0,r.createSelector)(L,function(e){return e.sortDirection}),Y=(0,r.createSelector)(c,function(e){return e.profiles}),V=(0,r.createSelector)(Y,function(e){return e.data||[]}),q=(0,r.createSelector)(Y,function(e){return e.table}),Q=(0,r.createSelector)(Y,function(e){return e.loading}),W=(0,r.createSelector)(q,function(e){return e.limit}),X=(0,r.createSelector)(q,function(e){return e.searchBy}),K=(0,r.createSelector)(q,function(e){return e.totalCount}),$=(0,r.createSelector)(q,function(e){return e.searchTerm}),J=(0,r.createSelector)(q,function(e){return e.page}),ee=(0,r.createSelector)(q,function(e){return e.sortBy}),et=(0,r.createSelector)(q,function(e){return e.sortDirection}),en=(0,r.createSelector)(W,X,$,J,ee,et,function(e,t,n,r,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return i(i({sortBy:s,sortDirection:o,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),er=(0,r.createSelector)(O,z,j,T,w,N,function(e,t,n,r,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return i(i({sortBy:s,sortDirection:o,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),es=(0,r.createSelector)(M,Z,H,U,G,F,function(e,t,n,r,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return i(i({sortBy:s,sortDirection:o,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),eo=(0,r.createSelector)(c,function(e){return e.employees}),ea=(0,r.createSelector)(eo,function(e){return e.data||[]}),ei=(0,r.createSelector)(eo,function(e){return e.table}),el=(0,r.createSelector)(eo,function(e){return e.loading}),ec=(0,r.createSelector)(ei,function(e){return e.totalCount}),eu=(0,r.createSelector)(ei,function(e){return e.limit}),ed=(0,r.createSelector)(ei,function(e){return e.searchBy}),e_=(0,r.createSelector)(ei,function(e){return e.searchTerm}),ef=(0,r.createSelector)(ei,function(e){return e.page}),em=(0,r.createSelector)(ei,function(e){return e.sortBy}),eh=(0,r.createSelector)(ei,function(e){return e.sortDirection}),ep=(0,r.createSelector)(eu,ed,e_,ef,em,eh,function(e,t,n,r,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return i(i({sortBy:s,sortDirection:o,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),eb=(0,r.createSelector)(c,function(e){return e.businessHierarchyBusinessMembers}),ey=(0,r.createSelector)(eb,function(e){return e.data||[]}),ev=(0,r.createSelector)(eb,function(e){return e.table}),eA=(0,r.createSelector)(eb,function(e){return e.loading}),eg=(0,r.createSelector)(ev,function(e){return e.totalCount}),eS=(0,r.createSelector)(ev,function(e){return e.limit}),ex=(0,r.createSelector)(ev,function(e){return e.searchBy}),eE=(0,r.createSelector)(ev,function(e){return e.searchTerm}),eP=(0,r.createSelector)(ev,function(e){return e.page}),eI=(0,r.createSelector)(ev,function(e){return e.sortBy}),eT=(0,r.createSelector)(ev,function(e){return e.sortDirection}),eC=(0,r.createSelector)(eS,ex,eE,eP,eI,eT,function(e,t,n,r,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return i(i({sortBy:s,sortDirection:o,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),eO=(0,r.createSelector)(c,function(e){return e.partners}),ej=(0,r.createSelector)(eO,function(e){return e.data||[]}),ez=(0,r.createSelector)(eO,function(e){return e.table}),ew=(0,r.createSelector)(eO,function(e){return e.loading}),eN=function(e){return(0,r.createSelector)(ej,function(t){var n;return null!=(n=t.find(function(t){return t.id===e}))?n:{}})},eR=function(e){return(0,r.createSelector)(eN(e),function(e){return e.assets_summary})},eD=(0,r.createSelector)(ez,function(e){return e.totalCount}),ek=(0,r.createSelector)(ez,function(e){return e.limit}),eL=(0,r.createSelector)(ez,function(e){return e.searchBy}),eU=(0,r.createSelector)(ez,function(e){return e.searchTerm}),eB=(0,r.createSelector)(ez,function(e){return e.page}),eM=(0,r.createSelector)(ez,function(e){return e.sortBy}),eH=(0,r.createSelector)(ez,function(e){return e.sortDirection}),eZ=(0,r.createSelector)(ek,eL,eU,eB,eM,eH,function(e,t,n,r,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return i(i({sortBy:s,sortDirection:o,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),eG=(0,r.createSelector)(c,function(e){return e.pending}),eF=function(e){return(0,r.createSelector)(eG,function(t){var n=t.childBusinesses;return n.data?l({},e,n.data.reduce(function(e,t){return e.ids.push(t.id),e.data=i(i({},e.data),{},l({},t.id,t)),e},{ids:[],data:{}})):{}})},eY=function(e){return(0,r.createSelector)(eG,function(t){var n=t.organizationManagers;return n.data?l({},e,n.data.reduce(function(e,t){return e.ids.push(t.id),e.data=i(i({},e.data),{},l({},t.id,t)),e},{ids:[],data:{}})):{}})},eV=function(e){return(0,r.createSelector)(eG,function(t){var n=t.childBusinesses;return n.data&&n.data.length>0?l({},e,n.data):{}})},eq=function(e){return(0,r.createSelector)(eG,function(t){var n=t.organizationManagers;return n.data&&n.data.length>0?l({},e,n.data):{}})},eQ=(0,r.createSelector)(eG,function(e){return e.loading}),eW=(0,r.createSelector)(eG,function(e){return e.error})},686276:function(e,t,n){"use strict";n.d(t,{T:function(){return a},s:function(){return i}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){return e.businessMetrics}),a=(0,r.createSelector)(o,function(e){return e.loading}),i=(0,r.createSelector)(o,function(e){return e.data})},120516:function(e,t,n){"use strict";n.d(t,{AQ:function(){return H},BW:function(){return F},Cj:function(){return p},FM:function(){return y},Hz:function(){return v},Lp:function(){return Z},NA:function(){return G},Rf:function(){return h},Rs:function(){return E},TL:function(){return R},T_:function(){return k},Ym:function(){return L},Ys:function(){return g},ZF:function(){return m},a$:function(){return O},bw:function(){return f},e_:function(){return u},fL:function(){return j},ji:function(){return z},nn:function(){return N},py:function(){return S},sA:function(){return d},sL:function(){return b},xv:function(){return P},zW:function(){return _}});var r=n(366503),s=n(498539);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){var r;return(r=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==o(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,r.createSelector)(s.Z,function(e){var t=e.catalogs;return null!=t?t:{}}),u=(0,r.createSelector)(c,function(e){return e.loading}),d=(0,r.createSelector)(c,function(e){return e.error}),_=(0,r.createSelector)(c,function(e){var t=e.data;return null!=t?t:{}}),f=(0,r.createSelector)(c,function(e){var t=e.sharedData;return null!=t?t:{}}),m=(0,r.createSelector)(c,function(e){return e.selectedCatalogId}),h=(0,r.createSelector)(m,_,function(e,t){return e&&t?t[e]:{}}),p=(0,r.createSelector)(c,function(e){var t=e.invites;return null!=t?t:{}}),b=function(e){return(0,r.createSelector)(p,function(t){return Object.keys(t).reduce(function(n,r){return i(i({},n),t[r].inviteId===e&&l({},r,t[r]))},{})})},y=(0,r.createSelector)(c,function(e){return e.selectedInviteId}),v=(0,r.createSelector)(h,function(e){return e?e.employees:[]}),A=(0,r.createSelector)(c,function(e){return e.employeesTable}),g=(0,r.createSelector)(A,function(e){return e.totalCount}),S=(0,r.createSelector)(A,function(e){return e.limit}),x=(0,r.createSelector)(A,function(e){return e.searchBy}),E=(0,r.createSelector)(A,function(e){return e.searchTerm}),P=(0,r.createSelector)(A,function(e){return e.page}),I=(0,r.createSelector)(A,function(e){return e.sortBy}),T=(0,r.createSelector)(A,function(e){return e.sortDirection}),C=(0,r.createSelector)(A,function(e){return e.filtersPayload}),O=(0,r.createSelector)(S,x,E,P,I,C,T,function(e,t,n,r,s,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESCENDING";return i(i({sortBy:s,sortDirection:a,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e,filtersPayload:o})}),j=(0,r.createSelector)(c,function(e){return e.employeesLoading}),z=(0,r.createSelector)(h,function(e){return e?e.partners:[]}),w=(0,r.createSelector)(c,function(e){return e.partnersTable}),N=(0,r.createSelector)(w,function(e){return e.totalCount}),R=(0,r.createSelector)(w,function(e){return e.limit}),D=(0,r.createSelector)(w,function(e){return e.searchBy}),k=(0,r.createSelector)(w,function(e){return e.searchTerm}),L=(0,r.createSelector)(w,function(e){return e.page}),U=(0,r.createSelector)(w,function(e){return e.sortBy}),B=(0,r.createSelector)(w,function(e){return e.sortDirection}),M=(0,r.createSelector)(w,function(e){return e.filtersPayload}),H=(0,r.createSelector)(R,D,k,L,U,M,B,function(e,t,n,r,s,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESCENDING";return i(i({sortBy:s,sortDirection:a,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e,filtersPayload:o})}),Z=(0,r.createSelector)(c,function(e){return e.partnersLoading}),G=(0,r.createSelector)(c,function(e){return e.catalogOwnersLoading}),F=(0,r.createSelector)(c,function(e){var t=e.catalogOwners;return null!=t?t:{}})},140537:function(e,t,n){"use strict";n.d(t,{As:function(){return i},BH:function(){return l},I2:function(){return h},IV:function(){return u},LU:function(){return m},Nu:function(){return a},Nw:function(){return d},UG:function(){return _},Vf:function(){return p},id:function(){return f},kg:function(){return c},tg:function(){return b}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){var t=e.conversionSegments;return null!=t?t:{}}),a=(0,r.createSelector)(o,function(e){return e.table}),i=(0,r.createSelector)(o,function(e){var t=e.data;return null!=t?t:{}}),l=(0,r.createSelector)(o,function(e){var t=e.sharedData;return null!=t?t:[]}),c=(0,r.createSelector)(o,function(e){return e.loading}),u=(0,r.createSelector)(o,function(e){return e.mainPanelLoading}),d=(0,r.createSelector)(o,function(e){return e.selectedConversionId}),_=(0,r.createSelector)(o,function(e){return e.adAccountLoading}),f=(0,r.createSelector)(o,function(e){var t=e.adAccounts;return null!=t?t:[]}),m=(0,r.createSelector)(o,function(e){return e.conversionTypeLoading}),h=(0,r.createSelector)(o,function(e){var t=e.conversionTypes;return null!=t?t:[]}),p=(0,r.createSelector)(i,d,function(e,t){return e&&t?e.find(function(e){return e.id===t}):null}),b=(0,r.createSelector)(p,function(e){var t;return null!=(t=null==e?void 0:e.partner)?t:void 0})},343015:function(e,t,n){"use strict";n.d(t,{$b:function(){return H},A3:function(){return eo},Cf:function(){return I},Gq:function(){return er},H$:function(){return K},IE:function(){return h},IT:function(){return D},Io:function(){return P},LG:function(){return g},LT:function(){return j},Mc:function(){return ed},P5:function(){return U},Q4:function(){return C},ST:function(){return M},TZ:function(){return ee},Uy:function(){return y},W1:function(){return V},Wb:function(){return c},Wk:function(){return w},YM:function(){return O},_8:function(){return k},ay:function(){return eu},bn:function(){return ea},cF:function(){return G},cc:function(){return b},dl:function(){return p},fp:function(){return A},gR:function(){return _},gW:function(){return u},kt:function(){return E},ms:function(){return d},s5:function(){return X},s9:function(){return L},tB:function(){return x},tv:function(){return en},uZ:function(){return Y},wJ:function(){return J},wX:function(){return f},wd:function(){return N},wk:function(){return m},yU:function(){return $}});var r=n(366503),s=n(498539);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=(0,r.createSelector)(s.Z,function(e){var t=e.employees;return null!=t?t:{}}),c=(0,r.createSelector)(l,function(e){var t=e.employees;return null!=t?t:{}}),u=(0,r.createSelector)(l,function(e){var t=e.invites;return null!=t?t:{}}),d=(0,r.createSelector)(l,function(e){var t=e.assetRoles;return null!=t?t:{}}),_=(0,r.createSelector)(l,function(e){return e.assetRolesLoading}),f=(0,r.createSelector)(l,function(e){return e.loading}),m=(0,r.createSelector)(l,function(e){var t=e.currentBusiness;return null!=t?t:void 0}),h=(0,r.createSelector)(l,function(e){var t=e.selectedEmployeeId;return null!=t?t:void 0}),p=(0,r.createSelector)(l,function(e){var t=e.selectedEmployeeInviteId;return null!=t?t:void 0}),b=(0,r.createSelector)(h,c,function(e,t){return e&&t&&t[e]}),y=(0,r.createSelector)(b,function(e){return e?e.adAccounts:[]}),v=(0,r.createSelector)(l,function(e){return e.adAccountsTable}),A=(0,r.createSelector)(v,function(e){return e.totalCount}),g=(0,r.createSelector)(v,function(e){return e.limit}),S=(0,r.createSelector)(v,function(e){return e.searchBy}),x=(0,r.createSelector)(v,function(e){return e.searchTerm}),E=(0,r.createSelector)(v,function(e){return e.page}),P=(0,r.createSelector)(v,function(e){return e.sortBy}),I=(0,r.createSelector)(v,function(e){return e.sortDirection}),T=(0,r.createSelector)(v,function(e){return e.filtersPayload}),C=(0,r.createSelector)(l,function(e){return e.adAccountsLoading}),O=(0,r.createSelector)(g,S,x,E,P,T,I,function(e,t,n,r,s,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESCENDING";return i(i({sortBy:s,sortDirection:a,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e,filtersPayload:o})}),j=(0,r.createSelector)(b,function(e){return e?e.profiles:[]}),z=(0,r.createSelector)(l,function(e){return e.profilesTable}),w=(0,r.createSelector)(z,function(e){return e.totalCount}),N=(0,r.createSelector)(z,function(e){return e.limit}),R=(0,r.createSelector)(z,function(e){return e.searchBy}),D=(0,r.createSelector)(z,function(e){return e.searchTerm}),k=(0,r.createSelector)(z,function(e){return e.page}),L=(0,r.createSelector)(z,function(e){return e.sortBy}),U=(0,r.createSelector)(z,function(e){return e.sortDirection}),B=(0,r.createSelector)(z,function(e){return e.filtersPayload}),M=(0,r.createSelector)(l,function(e){return e.profilesLoading}),H=(0,r.createSelector)(N,R,D,k,L,B,U,function(e,t,n,r,s,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESCENDING";return i(i({sortBy:s,sortDirection:a,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e,filtersPayload:o})}),Z=(0,r.createSelector)(l,function(e){return e.assetGroupsTable}),G=(0,r.createSelector)(Z,function(e){return e.limit}),F=(0,r.createSelector)(Z,function(e){return e.searchBy}),Y=(0,r.createSelector)(Z,function(e){return e.searchTerm}),V=(0,r.createSelector)(Z,function(e){return e.page}),q=(0,r.createSelector)(Z,function(e){return e.sortBy}),Q=(0,r.createSelector)(Z,function(e){return e.sortDirection}),W=(0,r.createSelector)(Z,function(e){return e.filtersPayload}),X=(0,r.createSelector)(G,F,Y,V,q,W,Q,function(e,t,n,r,s,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESCENDING";return i(i({sortBy:s,sortDirection:a,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e,filtersPayload:o})}),K=(0,r.createSelector)(Z,function(e){return e.totalCount}),$=(0,r.createSelector)(l,function(e){return e.assetGroupsLoading}),J=(0,r.createSelector)(b,function(e){return e?e.assetGroups:[]}),ee=(0,r.createSelector)(b,function(e){return e?e.catalogs:[]}),et=(0,r.createSelector)(l,function(e){return e.catalogsTable}),en=(0,r.createSelector)(et,function(e){return e.totalCount}),er=(0,r.createSelector)(et,function(e){return e.limit}),es=(0,r.createSelector)(et,function(e){return e.searchBy}),eo=(0,r.createSelector)(et,function(e){return e.searchTerm}),ea=(0,r.createSelector)(et,function(e){return e.page}),ei=(0,r.createSelector)(et,function(e){return e.sortBy}),el=(0,r.createSelector)(et,function(e){return e.sortDirection}),ec=(0,r.createSelector)(et,function(e){return e.filtersPayload}),eu=(0,r.createSelector)(l,function(e){return e.catalogsLoading}),ed=(0,r.createSelector)(er,es,eo,ea,ei,ec,el,function(e,t,n,r,s,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESCENDING";return i(i({sortBy:s,sortDirection:a,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e,filtersPayload:o})})},315167:function(e,t,n){"use strict";n.d(t,{Es:function(){return l},Fp:function(){return a},qr:function(){return i}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){return e.history}),a=(0,r.createSelector)(o,function(e){return e.loading}),i=(0,r.createSelector)(o,function(e){return e.data}),l=(0,r.createSelector)(o,function(e){return e.dateRange})},257936:function(e,t,n){"use strict";n.d(t,{_:function(){return i},m:function(){return a}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){var t=e.invitesOrRequests;return null!=t?t:{}}),a=(0,r.createSelector)(o,function(e){return e.loading}),i=(0,r.createSelector)(o,function(e){var t=e.requests.partner;return null!=t?t:{}})},340642:function(e,t,n){"use strict";n.d(t,{$z:function(){return a},eW:function(){return i},gs:function(){return l}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){var t=e.invoiceManagement;return null!=t?t:{}}),a=(0,r.createSelector)(o,function(e){return e.loading}),i=(0,r.createSelector)(o,function(e){return e.data}),l=(0,r.createSelector)(o,function(e){return e.invoiceTabVisibility})},555787:function(e,t,n){"use strict";n.d(t,{BK:function(){return u},Sl:function(){return l},Ul:function(){return _},Vf:function(){return f},X7:function(){return i},_1:function(){return a},mr:function(){return d},nn:function(){return c}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){var t=e.partners;return null!=t?t:{}}),a=(0,r.createSelector)(o,function(e){return e.loading}),i=(0,r.createSelector)(o,function(e){return e.error}),l=(0,r.createSelector)(o,function(e){var t=e.data;return null!=t?t:{}}),c=(0,r.createSelector)(o,function(e){return e.totalCount}),u=function(e){return(0,r.createSelector)(l,function(t){var n;return null!=(n=t[e])?n:{}})},d=function(e){return(0,r.createSelector)(u(e),function(e){return e.assets_summary})},_=(0,r.createSelector)(l,function(e){return Object.keys(e).length>0}),f=(0,r.createSelector)(o,function(e){return e.isSelectedPartnerAssociatedWithAoaa})},300214:function(e,t,n){"use strict";n.d(t,{$A:function(){return u},Ak:function(){return c},Gc:function(){return f},Iw:function(){return a},VL:function(){return p},XD:function(){return b},_Y:function(){return m},ai:function(){return l},fJ:function(){return _},t_:function(){return h}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){var t=e.pending;return null!=t?t:{}}),a=(0,r.createSelector)(o,function(e){return e.loading}),i=(0,r.createSelector)(o,function(e){return e.loading}),l=(0,r.createSelector)(o,function(e){var t=e.people;return null!=t?t:{}}),c=(0,r.createSelector)(o,function(e){var t=e.partner;return null!=t?t:{}}),u=(0,r.createSelector)(c,function(e){return Object.keys(e).length>0}),d=(0,r.createSelector)(c,function(e){var t={};return Object.keys(e).forEach(function(n){e[n]&&Array.isArray(e[n].business_roles)&&e[n].business_roles.includes("RMN_PARTNER")&&(t[n]=e[n])}),t}),_=(0,r.createSelector)(d,function(e){return Object.keys(e).length>0}),f=function(e){return(0,r.createSelector)(c,i,function(t,n){if(n)return!1;var r=Object.keys(t).filter(function(n){return t[n].created_by_business.id!==e});return r&&r.length>0})},m=function(e){return(0,r.createSelector)(c,i,function(t,n){if(n)return 0;var r=Object.keys(t).filter(function(n){return t[n].created_by_business.id!==e});return r?r.length:0})},h=(0,r.createSelector)(o,function(e){return e.type}),p=(0,r.createSelector)(o,function(e){var t=e.assets;return null!=t?t:{}}),b=(0,r.createSelector)(p,i,function(e,t){if(!t)return Object.keys(e).length>0})},408524:function(e,t,n){"use strict";n.d(t,{Bk:function(){return c},V7:function(){return u},Ys:function(){return _},g7:function(){return d},gB:function(){return a},gF:function(){return l},xC:function(){return i}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){var t=e.people;return null!=t?t:{}}),a=(0,r.createSelector)(o,function(e){return e.loading}),i=(0,r.createSelector)(o,function(e){return e.error}),l=(0,r.createSelector)(o,function(e){var t=e.data;return null!=t?t:{}}),c=(0,r.createSelector)(o,function(e){return e.totalCount}),u=function(e){return(0,r.createSelector)(l,function(t){var n;return null!=(n=t[e])?n:{}})},d=function(e){return(0,r.createSelector)(u(e),function(e){return Object.keys(e).length>0})},_=(0,r.createSelector)(l,function(e){return Object.keys(e).length>0})},538569:function(e,t,n){"use strict";n.d(t,{DH:function(){return u},JQ:function(){return i},Tj:function(){return l},Tl:function(){return c},yY:function(){return a}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){return e.profiles}),a=(0,r.createSelector)(o,function(e){return e.data}),i=(0,r.createSelector)(o,function(e){return e.loading}),l=function(e){return(0,r.createSelector)(a,function(t){var n;return null!=(n=t[e])?n:{}})},c=(0,r.createSelector)(o,function(e){return e.error}),u=(0,r.createSelector)(o,function(e){return e.dashboardVisibleData||[]})},196482:function(e,t,n){"use strict";n.d(t,{$H:function(){return i},pf:function(){return a}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){var t=e.employers;return null==t?void 0:t.list}),a=(0,r.createSelector)(o,function(e){var t;return null==(t=e||[])?void 0:t.filter(function(e){return"showInTooltip"in e&&e.showInTooltip}).map(function(e){var t;return"user"in e&&(null==e||null==(t=e.user)?void 0:t.full_name)||""})}),i=(0,r.createSelector)(s.Z,function(e){var t=e.employers;return null==t?void 0:t.error});t.ZP=o},511824:function(e,t,n){"use strict";n.d(t,{$$:function(){return _},$P:function(){return w},Ai:function(){return k},EG:function(){return c},FA:function(){return Y},Fs:function(){return M},G6:function(){return m},Gr:function(){return T},Hp:function(){return L},Hs:function(){return K},I5:function(){return a},J2:function(){return S},LY:function(){return g},Lj:function(){return G},N8:function(){return E},PI:function(){return J},PW:function(){return j},R8:function(){return W},W2:function(){return v},Wg:function(){return B},Xg:function(){return V},YY:function(){return D},_P:function(){return b},_X:function(){return q},_v:function(){return i},cT:function(){return Q},ce:function(){return Z},fe:function(){return l},gQ:function(){return C},gb:function(){return N},gj:function(){return O},gm:function(){return z},id:function(){return h},jA:function(){return F},mD:function(){return H},mO:function(){return I},pU:function(){return X},qB:function(){return ee},ql:function(){return et},r$:function(){return x},r8:function(){return U},re:function(){return p},s2:function(){return R},sZ:function(){return P},tp:function(){return f},vu:function(){return d},xf:function(){return A},xo:function(){return $},z1:function(){return u},zE:function(){return y}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){var t=e.systemUsers;return null!=t?t:{}}),a=(0,r.createSelector)(o,function(e){var t=e.data;return null!=t?t:{}}),i=(0,r.createSelector)(o,function(e){return e.loading}),l=(0,r.createSelector)(o,function(e){return e.table}),c=(0,r.createSelector)(l,function(e){var t=e.page;return null!=t?t:1}),u=(0,r.createSelector)(l,function(e){var t=e.limit;return null!=t?t:20}),d=(0,r.createSelector)(l,function(e){var t=e.searchTerm;return null!=t?t:""}),_=(0,r.createSelector)(l,function(e){var t=e.totalCount;return null!=t?t:0}),f=(0,r.createSelector)(o,function(e){var t=e.systemUsers;return null!=t?t:{}}),m=(0,r.createSelector)(o,function(e){return e.adAccountLoading}),h=(0,r.createSelector)(o,function(e){var t=e.adAccounts;return null!=t?t:{}}),p=(0,r.createSelector)(o,function(e){return e.adAccountTable}),b=(0,r.createSelector)(p,function(e){var t=e.page;return null!=t?t:1}),y=(0,r.createSelector)(p,function(e){var t=e.limit;return null!=t?t:20}),v=(0,r.createSelector)(p,function(e){var t=e.searchTerm;return null!=t?t:""}),A=(0,r.createSelector)(p,function(e){var t=e.totalCount;return null!=t?t:0}),g=(0,r.createSelector)(p,function(e){var t=e.sortBy;return null!=t?t:"name"}),S=(0,r.createSelector)(p,function(e){var t=e.sortDirection;return null!=t?t:"ASCENDING"}),x=(0,r.createSelector)(o,function(e){return e.appsLoading}),E=(0,r.createSelector)(o,function(e){var t=e.profiles;return null!=t?t:[]}),P=(0,r.createSelector)(o,function(e){return e.profilesLoading}),I=(0,r.createSelector)(o,function(e){return e.profilesTable}),T=(0,r.createSelector)(I,function(e){var t=e.page;return null!=t?t:1}),C=(0,r.createSelector)(I,function(e){var t=e.limit;return null!=t?t:20}),O=(0,r.createSelector)(I,function(e){var t=e.searchTerm;return null!=t?t:""}),j=(0,r.createSelector)(I,function(e){var t=e.totalCount;return null!=t?t:0}),z=(0,r.createSelector)(I,function(e){var t=e.sortBy;return null!=t?t:"name"}),w=(0,r.createSelector)(I,function(e){var t=e.sortDirection;return null!=t?t:"ASCENDING"}),N=(0,r.createSelector)(o,function(e){var t=e.systemApps;return null!=t?t:{}}),R=(0,r.createSelector)(o,function(e){return e.appsTable}),D=(0,r.createSelector)(R,function(e){var t=e.page;return null!=t?t:1}),k=(0,r.createSelector)(R,function(e){var t=e.limit;return null!=t?t:20}),L=(0,r.createSelector)(R,function(e){var t=e.searchTerm;return null!=t?t:""}),U=(0,r.createSelector)(R,function(e){var t=e.totalCount;return null!=t?t:0}),B=(0,r.createSelector)(R,function(e){var t=e.sortBy;return null!=t?t:"name"}),M=(0,r.createSelector)(R,function(e){var t=e.sortDirection;return null!=t?t:"ASCENDING"}),H=(0,r.createSelector)(o,function(e){return e.selectedSystemId}),Z=(0,r.createSelector)(o,function(e){var t=e.catalogs;return null!=t?t:[]}),G=(0,r.createSelector)(o,function(e){return e.catalogsLoading}),F=(0,r.createSelector)(o,function(e){return e.catalogsTable}),Y=(0,r.createSelector)(F,function(e){var t=e.page;return null!=t?t:1}),V=(0,r.createSelector)(F,function(e){var t=e.limit;return null!=t?t:20}),q=(0,r.createSelector)(F,function(e){var t=e.searchTerm;return null!=t?t:""}),Q=(0,r.createSelector)(F,function(e){var t=e.totalCount;return null!=t?t:0}),W=(0,r.createSelector)(o,function(e){return e.assetGroupsTable}),X=(0,r.createSelector)(o,function(e){var t=e.assetGroups;return null!=t?t:[]}),K=(0,r.createSelector)(o,function(e){return e.assetGroupsLoading}),$=(0,r.createSelector)(W,function(e){var t=e.page;return null!=t?t:1}),J=(0,r.createSelector)(W,function(e){var t=e.limit;return null!=t?t:20}),ee=(0,r.createSelector)(W,function(e){var t=e.searchTerm;return null!=t?t:""}),et=(0,r.createSelector)(W,function(e){var t=e.totalCount;return null!=t?t:0})},618550:function(e,t,n){"use strict";n.d(t,{$p:function(){return C},Aj:function(){return z},C9:function(){return I},G1:function(){return E},GK:function(){return w},JD:function(){return D},MG:function(){return O},Q$:function(){return S},RT:function(){return Z},T6:function(){return k},Ug:function(){return H},Wt:function(){return F},Xj:function(){return R},ZD:function(){return G},a9:function(){return U},fI:function(){return P},im:function(){return N},jT:function(){return L},kg:function(){return V},lS:function(){return B},pr:function(){return x},qu:function(){return M},ut:function(){return Y}});var r=n(366503),s=n(577432),o=n(184587),a=n(997973),i=n(686276),l=n(315167),c=n(257936),u=n(340642),d=n(555787),_=n(300214),f=n(408524),m=n(538569),h=n(498539),p=n(511824);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A=(0,r.createSelector)(h.Z,function(e){return e.table||{}}),g=(0,r.createSelector)(A,function(e){return e.visibleData||[]}),S=(0,r.createSelector)(A,function(e){return e.page}),x=(0,r.createSelector)(A,function(e){return e.totalCount}),E=(0,r.createSelector)(A,function(e){return e.limit}),P=(0,r.createSelector)(A,function(e){return e.sortDirection}),I=(0,r.createSelector)(A,function(e){return e.sortBy}),T=(0,r.createSelector)(A,function(e){return e.searchBy}),C=(0,r.createSelector)(A,function(e){return e.searchTerm}),O=(0,r.createSelector)(E,T,C,S,I,P,function(e,t,n,r,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return v(v({sortBy:s,sortDirection:o,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce(function(e,n){return t[n]?e.concat(t[n]):e},[])},z=(0,r.createSelector)(g,f.gF,j),w=(0,r.createSelector)(g,p.tp,j),N=(0,r.createSelector)(g,d.Sl,j),R=(0,r.createSelector)(g,s.Xy,j),D=(0,r.createSelector)(s.wk,i.T,function(e,t){var n;return null!=(n=null!=e?e:t)&&n}),k=(0,r.createSelector)(g,s.Xy,i.s,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(function(e,r){var s;return t[r]?e.concat(v(v({},t[r]),{},{metrics:null!=(s=n[r])?s:{}})):e},[])}),L=(0,r.createSelector)(g,o.Mr,j),U=(0,r.createSelector)(g,l.qr,j),B=(0,r.createSelector)(g,a.Af,j),M=(0,r.createSelector)(g,u.eW,j),H=(0,r.createSelector)(g,_.ai,j),Z=(0,r.createSelector)(g,_.Ak,j),G=(0,r.createSelector)(g,m.yY,j),F=(0,r.createSelector)(m.DH,m.yY,j),Y=function(e){return(0,r.createSelector)(c._,(0,d.BK)(e),function(e,t){return Object.values(e).find(function(e){var n=e.created_by_biz,r=(n=void 0===n?{id:""}:n).id,s=e.created_by_business,o=(s=void 0===s?{id:""}:s).id;return r===t.id||o===t.id})})},V=function(e){return(0,r.createSelector)(c._,(0,d.BK)(e),function(e,t){return Object.values(e).find(function(e){return e.user.id===t.id})})}},88606:function(e,t,n){"use strict";n.d(t,{HR:function(){return b},Jb:function(){return p},LG:function(){return A},P2:function(){return u},Qr:function(){return c},TX:function(){return f},YM:function(){return T},aw:function(){return m},br:function(){return _},fp:function(){return v},iX:function(){return h},kt:function(){return x},tB:function(){return S},w0:function(){return d}});var r=n(366503),s=n(498539);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=(0,r.createSelector)(s.Z,function(e){var t=e.tags;return null!=t?t:{}}),c=(0,r.createSelector)(l,function(e){return e.loading}),u=(0,r.createSelector)(l,function(e){var t=e.tags;return null!=t?t:{}}),d=(0,r.createSelector)(l,function(e){var t=e.overlayOpen;return null!=t&&t}),_=(0,r.createSelector)(l,function(e){var t=e.selectedTagId;return null!=t?t:""}),f=(0,r.createSelector)(l,function(e){var t=e.selectedAdAccounts;return null!=t?t:[]}),m=(0,r.createSelector)(l,function(e){return e.adAccountsLoading}),h=(0,r.createSelector)(_,u,function(e,t){return e&&t&&t[e]}),p=(0,r.createSelector)(h,function(e){return e?e.adAccounts:[]}),b=(0,r.createSelector)(h,function(e){return e?e.ownerAdAccount:null}),y=(0,r.createSelector)(l,function(e){return e.adAccountsTable}),v=(0,r.createSelector)(y,function(e){return e.totalCount}),A=(0,r.createSelector)(y,function(e){return e.limit}),g=(0,r.createSelector)(y,function(e){return e.searchBy}),S=(0,r.createSelector)(y,function(e){return e.searchTerm}),x=(0,r.createSelector)(y,function(e){return e.page}),E=(0,r.createSelector)(y,function(e){return e.sortBy}),P=(0,r.createSelector)(y,function(e){return e.sortDirection}),I=(0,r.createSelector)(y,function(e){return e.filtersPayload}),T=(0,r.createSelector)(A,g,S,x,E,I,P,function(e,t,n,r,s,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESCENDING";return i(i({sortBy:s,sortDirection:a,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e,filtersPayload:o})})},977188:function(e,t,n){"use strict";n.d(t,{Ir:function(){return a},MP:function(){return l},Y0:function(){return i},uX:function(){return c}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){return e.updatePermissions}),a=(0,r.createSelector)(o,function(e){return e.loading}),i=(0,r.createSelector)(o,function(e){return e.error}),l=(0,r.createSelector)(o,function(e){var t=e.previousPermissions;return null!=t?t:{}}),c=(0,r.createSelector)(o,function(e){var t=e.selectedId;return null!=t?t:""})},746200:function(e,t,n){"use strict";n.d(t,{DU:function(){return p},GJ:function(){return h},St:function(){return f},_4:function(){return u},j7:function(){return d}});var r=n(366503),s=n(498539);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){var r;return(r=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==o(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,r.createSelector)(s.Z,function(e){var t=e.viewerBusinessHierarchyInvites;return null!=t?t:{data:[]}}),u=(0,r.createSelector)(c,function(e){return e.loading}),d=(0,r.createSelector)(c,function(e){return e.error}),_=(0,r.createSelector)(c,function(e){var t=e.data;return null!=t?t:[]}),f=(0,r.createSelector)(c,function(e){return e.data.length>0}),m=(0,r.createSelector)(_,function(e){return e.filter(function(e){return"PENDING"===e.invite_data.invite_status})}),h=(0,r.createSelector)(m,function(e){return e}),p=function(e){return(0,r.createSelector)(_,function(t){return t?l({},e,t.reduce(function(e,t){return e.ids.push(t.id),e.data=i(i({},e.data),{},l({},t.id,t)),e},{ids:[],data:{}})):{}})}},567651:function(e,t,n){"use strict";n.d(t,{O:function(){return i},U:function(){return c}});var r=n(366503),s=n(498539),o=(0,r.createSelector)(s.Z,function(e){var t=e.viewerInvites;return null!=t?t:{data:[]}}),a=(0,r.createSelector)(o,function(e){var t=e.data;return null!=t?t:[]}),i=(0,r.createSelector)(o,function(e){return e.data.length>0}),l=(0,r.createSelector)(a,function(e){return e.filter(Boolean).filter(function(e){return"PENDING"===e.invite_data.invite_status})}),c=(0,r.createSelector)(l,function(e){return e.map(function(e){var t=e.id,n=e.created_by_biz,r=e.created_by_business,s=e.extended_user_info,o=s.full_name,a=s.username,i=e.user.id;return{id:t,businessId:(null==n?void 0:n.id)||(null==r?void 0:r.id),businessName:null!=o?o:a,userId:i}})})},591361:function(e,t,n){"use strict";n.d(t,{O_:function(){return v},Q5:function(){return p},XY:function(){return b},oH:function(){return g},tQ:function(){return y},wr:function(){return S}});var r,s,o,a=n(681698),i=n(145626),l=n(866962),c=n(767415);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){f(o,r,s,a,i,"next",e)}function i(e){f(o,r,s,a,i,"throw",e)}a(void 0)})}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p={AD_ACCOUNT:"AD_ACCOUNT",BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT"},b={AUDIENCE_PRE_SELECTED:"AUDIENCE_PRE_SELECTED",PARTNER_PRE_SELECTED:"PARTNER_PRE_SELECTED"},y=function(e,t){return"".concat(i.vI,"/advertiser/").concat(e,"/audience/edit?audienceId=").concat(t)},v=function(e){return((function(e){if(Array.isArray(e))return h(e)})(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,t){return(e.name||"").localeCompare(t.name||"")})},A=(r=m(regeneratorRuntime.mark(function e(t,n){var r,s,o,i,l,u,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.audienceId,s=n.recipientAccountIds,o=n.recipientAccountType,i=n.businessId,l={audience_id:r,operation_type:t,business_hierarchy_node_id:n.businessHierarchyId,expiration_date:n.expirationDate},e.prev=2,o!==p.AD_ACCOUNT){e.next=9;break}return d=_(_({},l),{},{recipient_account_ids:s}),e.next=7,(0,a.Z)({url:"/ads/v4/business_access/businesses/".concat(i,"/audiences/advertisers/shared"),method:"PATCH",data:d});case 7:e.next=12;break;case 9:return f=_(_({},l),{},{recipient_business_ids:s}),e.next=12,(0,a.Z)({url:"/ads/v4/business_access/businesses/".concat(i,"/audiences/businesses/shared"),method:"PATCH",data:f});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),u=e.t0;case 17:return e.prev=17,(0,c.nP)("audience_sharing.business_manager.update_shared_audience",{sampleRate:1,tags:{error:!!u,share_operation_type:t,recipient_account_type:o}}),e.finish(17);case 20:return e.abrupt("return",{error:u});case 21:case"end":return e.stop()}},e,null,[[2,14,17,20]])})),function(e,t){return r.apply(this,arguments)}),g=(s=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(l.DW.SHARE,t));case 1:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),S=(o=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(l.DW.REVOKE,t));case 1:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})},338785:function(e,t){"use strict";t.Z=function(e){return e.isAuth?{user:{full_name:e.fullName,image_small_url:e.imageSmallUrl,image_medium_url:e.imageMediumUrl,image_xlarge_url:e.imageXLargeUrl,username:e.username,email:e.email,is_partner:e.isPartner,id:e.id},business_roles:[],id:e.id,business_id:e.id}:void 0}},969623:function(e,t){"use strict";t.Z=function(e){switch(e){case"CHOOSER":return 13908;case"DASHBOARD":return 13907;case"MEDIA_NETWORK_DASHBOARD":return 15490;case"PEOPLE":return 13906;case"PEOPLE_DETAIL":return 13626;case"PARTNERS":return 13627;case"PARTNERS_DETAIL":return 13628;case"AD_ACCOUNTS":return 13629;case"AD_ACCOUNTS_DETAIL":return 13630;case"PROFILES":return 13853;case"PROFILES_DETAIL":return 13854;case"HISTORY":return 13631;case"BUSINESS_SECURITY":return 14189;case"SUPPORT_TOOL":return 13655;case"BUSINESS_HIERARCHY":return 14318;case"BUSINESS_HIERARCHY_BUSINESS_SECURITY":return 14903;case"ASSET_GROUPS":return 14323;case"MANAGERS":return 14327;case"INVOICE_MANAGEMENT":return 14331;case"SHARED_TAGS":return 14484;case"CATALOGS":return 14931;case"BRAND_SAFETY":return 14983;default:return}}},739283:function(e,t,n){"use strict";var r=n(719301);t.Z=(0,n(562400).Z)(function(e,t){e(t)},r.dZ)},733686:function(e,t,n){"use strict";var r=n(387784),s=n(581722),o=n(20256),a=n(81221),i=n(505633),l=n(230201),c=n(681698),u=n(67077),d=n(24246),_=n(501010),f=n(774838),m=n(247387),h=n(396083),p=n(711089),b=n(435136),y=n(417525),v=n(552649),A=n(833477),g=n(680811);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(O=function(){return!!e})()}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}var N=function(e,t,n){var r;return e.id.split(":")[1]===t&&null!==e.businesses&&(null==(r=e.businesses)?void 0:r.includes(n||""))},R=function(e,t,n,r){r({event_type:9709,component:13770,view_type:465,aux_data:{user_id:e,business_id:t,modal_link_clicked:n}})},D=function(){var e=window.location.hostname;return e.includes("pinterdev")&&e.includes("trends-dev")?"https://".concat(e):m.iYw},k=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&T(s,e);var t,n,r=(t=O(),function(){var e,n=j(s);return e=t?Reflect.construct(n,arguments,j(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return C(e)}(this,e)});function s(){var e;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return z(C(e=r.call.apply(r,[this].concat(n))),"state",{actions:e.props.actions||[],accountBusinessAssigner:""}),z(C(e),"handleActionDataRequests",function(t,n,r,s,o){t=t||[];var a=0,i=e.state.actions;n&&(i=(null==(u=t[a])?void 0:u.resource_response.data)||[],a+=1);var l=s||"";if(o!==s){var c,u,d,_,f=new Set(((null==(d=t[a])?void 0:d.resource_response.data)||[]).filter(function(e){return N(e,o,s)}).map(function(e){return e.businesses}).reduce(function(e,t){return e.concat(t)},[]));a+=1;var m=new Set((c=(null==(_=t[a])?void 0:_.resource_response.data.data)||[]).map(function(e){return e.id})),h=new Set(c.filter(function(e){return e.business_roles.includes("BIZ_ADMIN")}).map(function(e){return e.id})),p=new Set(P(f).filter(function(e){return!m.has(e)})),b=new Set(P(f).filter(function(e){return h.has(e)}));l=p.size>0&&o?o||"":b.size>0&&P(b)[0]||""}e.setState({actions:i,accountBusinessAssigner:l})}),z(C(e),"fetchActionData",function(){var t=e.props,n=t.advertiserId,r=t.requestContext,s=t.userId,o=t.accountOwnerId,a=[],i=(e.props.actions||[]).length<1;i&&a.push((0,c.Z)({url:"/ads/v4/advertisers/".concat(n,"/actions/")})),s!==o&&(a.push((0,c.Z)({url:"/ads/v4/advertisers/".concat(n,"/policy/")})),a.push((0,c.Z)({url:"/ads/v4/business_access/businesses/me/employers/"}))),Promise.all(a).then(function(t){return e.handleActionDataRequests(t,i,r,o,s)})}),z(C(e),"advertiserActionList",function(){var t=e.props,n=t.advertiserId,r=t.campaignToolPreference,s=t.getSterlingURL,o=t.isAnalyticsSite,a=t.isOwnerUserSuspended,i=t.merchantId,l=t.isWwwSite,c=t.VMPstatus,d=t.reduxAdvertiserId,_=t.requestContext,f=e.state,p=f.actions,A=f.accountBusinessAssigner,g=o||l,S=e.props.experimentsClient.checkExperiment("aid_exp_reporting_access_check").anyEnabled,x=[{enabled:!a&&(0,v.Z)(function(e){return p.includes(e)},S),text:e.props.i18n._('View reporting', '[m10n] link to the reporting page', '[m10n] link to the reporting page'),url:s("campaigns",{advertiserId:n,absolutify:g})},{enabled:!a&&p.includes(56),text:e.props.i18n._('View billing', '[m10n] link to user\'s billing settings', '[m10n] link to user\'s billing settings'),url:s("billing",{advertiserId:n,absolutify:g})},{enabled:!a&&p.includes(32),text:e.props.i18n._('View audiences', '[m10n] link to audiences manager page', '[m10n] link to audiences manager page'),url:s("audiences",{advertiserId:n,absolutify:g})},{enabled:!a&&p.includes(35),text:e.props.i18n._('View conversion tags', '[m10n] link to conversion tags page', '[m10n] link to conversion tags page'),url:s("pinterest_tag",{advertiserId:n,absolutify:g})},{enabled:!a&&p.includes(55),text:e.props.i18n._('View audience insights', '[m10n] link to user\'s audience insights', '[m10n] link to user\'s audience insights'),url:(0,b.t)("audience_insights",{advertiserId:n,absolutify:!o,advertiserIdFromStore:d})},{enabled:!a&&p.includes(55),text:e.props.i18n._('View analytics', '[m10n] link to view analytics as a different advertiser on analytics site', '[m10n] link to view analytics as a different advertiser on analytics site'),url:(0,b.t)("overview",{advertiserId:n,absolutify:!o,advertiserIdFromStore:d})},{enabled:!a&&p.includes(49),text:e.props.i18n._('Create ad', '[m10n] link to create an ad', '[m10n] link to create an ad'),url:(0,y.GI)(_.advertiser)?s("createPreferred",{advertiserId:n,absolutify:g,campaignToolPreference:r}):s("create",{advertiserId:n,absolutify:g})},{enabled:!!(A&&A.length>0),text:e.props.i18n._('Manage access', '[m10n] link to business access', '[m10n] link to business access'),url:"https://".concat((0,u.Z)(),"/business/business-manager/").concat(A,"/ad-accounts/").concat(n,"/details/")},{enabled:!a,text:e.props.i18n._('View trends', '[m10n] link to view trends as a different advertiser on trends site', '[m10n] The link to view trends as a different advertiser on trends.pinterest.com'),url:"".concat(D(),"/?advertiserId=").concat(n)}];return i&&x.push({enabled:!a&&p.includes(68),text:e.props.i18n._('View Catalogs', '[m10n] link to user\'s catalogs', '[m10n] link to user\'s catalogs'),url:"https://".concat((0,u.Z)()).concat(h.F$,"?advertiserId=").concat(n)}),c&&x.push({enabled:!a&&p.includes(68),text:e.props.i18n._('View verified merchant status', '[m10n] link to user\'s verified merchant status', '[m10n] link to user\'s verified merchant status'),url:"".concat(m.srp)}),x.push({enabled:!a,text:e.props.i18n._('View branded Pins', '[m10n]advertiserSwitcher.actions', 'Link to view Branded Pins page for selected aaccount'),url:"https://".concat((0,u.Z)(),"/branded-pins/?advertiserId=").concat(n)}),x}),e}return n=[{key:"componentDidMount",value:function(){this.fetchActionData()}},{key:"render",value:function(){var e=this;return(0,g.jsx)(o.xu,{paddingX:4,paddingY:2,children:this.advertiserActionList().filter(function(e){return e.enabled}).map(function(t,n){return(0,g.jsx)(o.xu,{marginBottom:1,marginTop:1,children:(0,g.jsx)(o.iP,{onTap:function(){R(e.props.userId,e.props.advertiserId,t.text,e.props.logContextEvent),(0,i.Z)(t.url)},children:(0,g.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,g.jsx)(o.xu,{flex:"grow",paddingY:3,children:(0,g.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,g.jsx)(o.xv,{color:"subtle",weight:"bold",children:t.text}),t.isNew&&(0,g.jsx)(o.xu,{paddingX:2,children:(0,g.jsx)(o.Ct,{position:"middle",text:e.props.i18n._('New', '[m10n]advertiserActions.newBadge', 'badge to signify that this is a new product')})})]})}),(0,g.jsx)(o.xu,{marginStart:2,children:(0,g.jsx)(o.JO,{accessibilityLabel:e.props.i18n._('Go', '[m10n] accessibility label for an arrow icon on a link', '[m10n] accessibility label for an arrow icon on a link'),color:"subtle",icon:"arrow-forward",size:14})})]})})},n)})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}(s.prototype,n),Object.defineProperty(s,"prototype",{writable:!1}),s}(r.Component);t.Z=function(e){var t=(0,l.u)().logContextEvent,n=(0,d.Z)(),r=(0,f.B)(),o=(0,s.v9)(A.iC),i=(0,p.Z)();return(0,g.jsx)(k,E(E({experimentsClient:(0,_.Z)(),requestContext:r},e),{},{campaignToolPreference:i,getSterlingURL:(0,a.Z)(),i18n:n,logContextEvent:t,reduxAdvertiserId:o}))}},990057:function(e,t,n){"use strict";var r=n(387784),s=n(20256),o=n(537391),a=n(293772),i=n(465784),l=n(924591),c=n(24246),u=n(577356),d=n(591361),_=n(866962),f=n(967284),m=n(89446),h=n(680811);function p(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t=e.audience,n=e.recipientAccount,y=e.revokerAccountId,v=e.revokerAccountType,A=e.handleDismissRevokeAccessModal,g=e.onRevokeSubmitSuccess,S=e.revokerIsAudienceRecipient,x=n.account_id,E=n.account_type,P=n.account_name,I=(null==t?void 0:t.name)||"",T=(0,c.Z)(),C=(0,u.dI)().showToast,O=b((0,r.useState)(!1),2),j=O[0],z=O[1],w=b((0,r.useState)(!1),2),N=w[0],R=w[1],D=b((0,r.useState)(!1),2),k=D[0],L=D[1],U=(0,m.KJ)(),B=(0,(0,o.g)().getParentHierarchyForIdIfExists)(U),M=null==B?void 0:B.id;return(0,h.jsx)(s.mh,{children:(0,h.jsx)(i.ZP,{accessibilityModalLabel:S?T._('Remove received audience modal', '[m10n]audienceSharing.removeReceivedAudienceModal.accessibilityLabel', 'Accessibility label for a modal confirming to remove received audience'):T._('Revoke audience access modal', '[m10n]audienceSharing.revokeAccessModal.accessibilityLabel', 'Accessibility label for a modal confirming to revoke access to an audience'),align:"start",footer:(0,h.jsxs)(s.kC,{alignItems:"center",gap:1,justifyContent:"end",children:[(0,h.jsx)(a.zx,{dataTestId:"cancel",logEventProps:{},onClick:A,text:T._('Cancel', '[m10n]audienceSharing.revokeAccessModal.cancelButton', 'Button to dismiss modal')}),(0,h.jsx)(a.zx,{color:"red",dataTestId:"submit",disabled:j||S&&!k,logEventProps:{},onClick:function(){var e,n;(e=regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(z(!0),v!==d.Q5.AD_ACCOUNT){e.next=9;break}return e.next=4,(0,_.jd)({audienceId:(null==t?void 0:t.id)||"",recipientAccountIds:[x],recipientAccountType:E,advertiserId:y});case 4:n=!!e.sent.error,e.next=14;break;case 9:return e.next=11,(0,d.wr)({audienceId:(null==t?void 0:t.id)||"",recipientAccountIds:[x],recipientAccountType:E,businessId:y,businessHierarchyId:M});case 11:n=!!e.sent.error;case 14:n?R(n):(A(),g&&g(),C(function(e){var t=e.hideToast;return(0,h.jsx)(l.Z,{duration:5e3,onHide:t,text:(0,_.B$)({audienceName:I,recipientAccountName:P,recipientAccountType:E,revokerIsAudienceRecipient:S,i18n:T}),type:"success"})})),z(!1);case 16:case"end":return e.stop()}},e)}),n=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){p(o,r,s,a,i,"next",e)}function i(e){p(o,r,s,a,i,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)})()},text:S?T._('Remove list', '[m10n]audienceSharing.removeReceivedAudienceModal.removeButton', 'Text on a button to remove a received audience list '):T._('Revoke access', '[m10n]audienceSharing.revokeAccessModal.revokeAccessButton', 'Text on a button to revoke access to an audience '),type:"submit"})]}),heading:S?T._('Remove audience list', '[m10n]audienceSharing.removeReceivedAudienceModal.heading', 'Heading for a modal confirming to remove received audience'):T._('Revoke access to audience list', '[m10n]audienceSharing.revokeAccessModal.heading.alpha', 'Heading for a modal confirming to revoke access to an audience, when audience sharing experiment is in alpha.'),onDismiss:A,role:"alertdialog",size:"sm",children:(0,h.jsx)(s.xu,{marginBottom:2,paddingX:6,children:(0,h.jsxs)(s.kC,{direction:"column",gap:3,children:[(0,h.jsx)(s.xv,{children:(0,_.HW)({audienceName:I,audienceId:(null==t?void 0:t.id)||"",revokerIsAudienceRecipient:S,recipientAccountId:x,recipientAccountName:P,revokerAccountType:v,recipientAccountType:E,i18n:T})}),(0,h.jsxs)(s.kC,{direction:"row",children:[(0,h.jsx)(s.xu,{marginEnd:2,children:(0,h.jsx)(s.JO,{accessibilityLabel:T._('Warning Icon', '[m10n]audienceSharing.revokeAccessModal.warningIcon', 'Accessibility label for the warning icon'),color:"warning",icon:"workflow-status-warning",size:24})}),(0,h.jsx)(s.xv,{children:(0,_.vQ)(E,S,T)})]}),S&&(0,h.jsx)(f.Z,{checked:k,elementType:10214,id:"remove-audience-modal-confirmation-checkbox",label:T._('Check this box to confirm', '[m10n]audienceSharing.removeReceivedAudienceModal.checkbox.confirmationMessage', 'Text next to a checkbox asking the user to confirm they want to remove an audience'),onChange:function(e){return L(e.checked)}}),N&&(0,h.jsx)(s.xu,{marginEnd:4,role:"alert",children:(0,h.jsx)(s.xv,{color:"error",inline:!0,children:S?T._('We are having trouble removing this audience list. Please try again in a few minutes.', '[m10n]audienceSharing.removeReceivedAudienceModal.removalFailure.message', 'Error message displayed when the revoke access API fails'):T._('We are having trouble revoking access to this audience. Please try again in a few minutes.', '[m10n]audienceSharing.revokeAccessModal.revokeFailure.message', 'Error message displayed when the revoke access API fails')})})]})})})})}},649165:function(e,t,n){"use strict";var r=n(20256),s=n(24246),o=n(216975),a=n(501010),i=n(591361),l=n(866962),c=n(680811);t.Z=function(e){var t=e.audienceSelected,n=e.recipientAccountType,u=e.isAudienceOwner,d=e.forPartner,_=e.audienceAssignmentType,f=void 0===_?i.XY.AUDIENCE_PRE_SELECTED:_,m=e.inRmnFoundationsExperiment,h=n===i.Q5.AD_ACCOUNT,p=(0,(0,a.Z)().checkExperiment)("business_access__audience_sharing_improvements").anyEnabled,b=(0,s.Z)(),y=(0,c.jsxs)(r.xv,{children:[(0,o.nk)(b._('Share audience {{audienceName}} (Audience ID: {{audienceId}}) by selecting the {{accountType}} that should receive this audience from the dropdown below.', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.part1', 'Describe how to select an ad account to share an audience from. audienceId: the audience ID, audienceName: the audience name, accountType: ad account or business selected.'),{audienceId:(0,c.jsx)(r.xv,{inline:!0,weight:"bold",children:null==t?void 0:t.id},"subTitle-audienceId-".concat((null==t?void 0:t.id)||"")),audienceName:(0,c.jsx)(r.xv,{inline:!0,weight:"bold",children:null==t?void 0:t.name},"subTitle-audienceName-".concat((null==t?void 0:t.name)||"")),accountType:(0,l.O1)(n,b)})," ",u?void 0!==m&&m&&d?b._('You can only share this audience with brand partners.', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.brandPartners.', 'Describes who the user can share an audience with when sharing with a partner'):(0,o.nk)(b._('You can only share this audience with {{accountType}} within the same business hierarchy.', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.beta.part2', 'Describes the set of accounts that the user can share an audience with. accountType: "ad accounts" or "businesses"'),{accountType:(0,l.O1)(n,b)}):b._('You can only share this audience with ad accounts you own.', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.ga.part2', 'Describes the set of accounts that the user can share an audience with.')]}),v=(0,c.jsx)(r.xv,{children:(0,o.nk)(p?b._('Sharing: {{audienceName}} (ID: {{audienceId}})', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.slimHeader.new', 'indicates the seleected audienceId: the audience ID, audienceName: the audience name.'):b._('You are sharing the following audience: {{audienceName}} (Audience ID: {{audienceId}})', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.slimHeader', 'indicates the seleected audienceId: the audience ID, audienceName: the audience name.'),{audienceId:(0,c.jsx)(r.xv,{inline:!0,weight:p?"normal":"bold",children:null==t?void 0:t.id},"audienceSharedSlimHeaderText-audienceId-".concat((null==t?void 0:t.id)||"")),audienceName:(0,c.jsx)(r.xv,{inline:!0,weight:"bold",children:null==t?void 0:t.name},"audienceSharedSlimHeaderText-audienceName-".concat((null==t?void 0:t.name)||""))})}),A=(0,c.jsx)(r.xu,{color:"secondary",marginBottom:4*!!p,marginTop:6*!p,padding:4,rounding:3,children:(0,c.jsxs)(r.kC,{alignItems:"start",gap:2,children:[(0,c.jsx)(r.JO,{accessibilityLabel:b._('Icon that indicates information', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.header', 'Icon that indicates information about what happens when you share an audience'),color:"dark",icon:h?"people":"code",size:"18"}),(0,c.jsx)(r.xu,{children:v})]})});return(0,c.jsxs)(r.xu,{marginBottom:p?4:3,children:[p&&f===i.XY.AUDIENCE_PRE_SELECTED&&A,!p&&(0,c.jsx)(r.xu,{marginBottom:6,children:y}),(0,c.jsxs)(r.kC,{direction:"column",gap:3,children:[(0,c.jsxs)(r.kC,{alignItems:"start",gap:3,children:[(0,c.jsx)(r.JO,{accessibilityLabel:b._('Icon that indicates information', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.header', 'Icon that indicates information about what happens when you share an audience'),color:"info",icon:"info-circle",size:"18"}),(0,c.jsx)(r.xv,{weight:"bold",children:d?b._('Sharing an audience with a partner:', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.partner.header', 'Subtitle text for what happens when you share an audience with a partner'):b._('What happens when you share an audience:', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.header', 'Subtitle text for what happens when you share an audience')})]}),(0,c.jsxs)(r.xu,{marginStart:1,children:[h&&d&&(0,c.jsxs)(r.aV,{spacing:"condensed",type:"unordered",children:[(0,c.jsx)(r.aV.Item,{text:b._('Once the audience is shared to a partner, they will be able to use the audience immediately.', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.partnerAdAccount.list1', 'List text for what happens when you share an audience')}),(0,c.jsx)(r.aV.Item,{text:b._('Partners may only use the audience in their targeting.', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.partnerAdAccount.list2', 'List text for what happens when you share an audience')}),(0,c.jsx)(r.aV.Item,{text:b._('Partners cannot edit, delete or share this audience with other ad accounts or businesses.', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.partnerAdAccount.list3', 'List text for what happens when you share an audience')}),(0,c.jsx)(r.aV.Item,{text:b._('Partners retain access to this audience unless the audience owner revokes access, deletes the audience or the recipient removes the audience from their business', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.partnerAdAccount.list4', 'List text for what happens when you share an audience')})]}),h&&!d&&(0,c.jsxs)(r.aV,{spacing:"condensed",type:"unordered",children:[(0,c.jsx)(r.aV.Item,{text:b._('Once the audience is shared to an ad account, everyone with access to that ad account will be able to use the audience immediately', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.adAccount.list1', 'List text for what happens when you share an audience')}),(0,c.jsx)(r.aV.Item,{text:b._('Ad accounts that receive the audience may only use it in their targeting. They cannot edit, delete or share this audience with other ad accounts or businesses.', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.adAccount.list2', 'List text for what happens when you share an audience')}),(0,c.jsx)(r.aV.Item,{text:b._('Ad accounts retain access to this audience until the audience owner revokes access, deletes the audience or the recipient removes this audience from their ad accounts', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.adAccount.list3', 'List text for what happens when you share an audience')})]}),!h&&(0,c.jsxs)(r.aV,{spacing:"condensed",type:"unordered",children:[(0,c.jsx)(r.aV.Item,{text:b._('Once the audience is shared to a business, that business account will be able to use the audience immediately', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.business.list1', 'List text for what happens when you share an audience')}),(0,c.jsx)(r.aV.Item,{text:b._('Businesses may only use the audience in their targeting', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.business.list2', 'List text for what happens when you share an audience')}),(0,c.jsx)(r.aV.Item,{text:b._('Businesses can share the audience to ad accounts they own, but they cannot edit or delete the audience', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.business.list3', 'List text for what happens when you share an audience')}),(0,c.jsx)(r.aV.Item,{text:b._('Businesses retain access to this audience unless the audience owner revokes access, deletes the audience or the recipient removes the audience from their business', '[m10n]audienceSharing.ModalShareAudienceList.subtitle.happenText.business.list4', 'List text for what happens when you share an audience')})]})]})]}),!p&&f===i.XY.AUDIENCE_PRE_SELECTED&&A]})}},622922:function(e,t,n){"use strict";var r=n(387784),s=n(20256),o=n(24246),a=n(696749),i=n(552263),l=n(680811);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n=e.forPartner,u=e.setPrimaryButtonDisabled,d=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=d[0],f=d[1],m=(0,i.Z)().isRmnBusiness,h=(0,o.Z)(),p=h._('business or ad account', '[m10n]audienceSharing.shareForm.legalDisclaimer.businessOrAdAccount', 'Entity type appearing as part of a legal disclaimer');return(0,l.jsxs)(s.kC,{direction:"column",gap:4,children:[(0,l.jsx)(s.xu,{children:(0,l.jsx)(s.xv,{size:"400",weight:"bold",children:h._('Legal disclaimer', '[m10n]audienceSharing.ModalShareAudienceList.legalDisclaimer.header', 'Header for the legal disclaimer text in second step of the Share Audience modal')})}),(0,l.jsx)(s.xu,{children:m&&n?(0,l.jsx)(s.xv,{color:"subtle",size:"200",children:h._('By sharing this audience list, you acknowledge and agree that Pinterest will share your audience list with the entity selected above, and such agreement shall supersede any provisions to the contrary in Pinterest\u2019s Ad Data Terms. You represent that you are in compliance with applicable law when sharing this audience list and that you have the rights and the legally required consents from the individuals contained in this list to share the audience with the entity selected above. You further agree that you shall indemnify, defend, and hold harmless Pinterest in the event of any claims brought against Pinterest related to the sharing of this audience list.', '[m10n]audienceSharing.shareForm.legalDisclaimer.secondParagraph.businessRecipient', 'Text that appears in a modal describing the legal terms and conditions an advertiser must agree to before sharing an audience')}):(0,l.jsx)(s.xv,{color:"subtle",size:"200",children:(0,a.Z)(h._('By checking the box and sharing this audience list, you acknowledge and agree that Pinterest will share your audience list with the {{ accountType }} selected above, and such agreement shall supersede any provisions to the contrary in Pinterest\'s Ad Data Terms. You represent that you are in compliance with applicable law when sharing this audience list and that you have the rights and the legally required consents from the individuals contained in this list to share the audience with the entity selected above. You further agree that you shall indemnify, defend, and hold harmless Pinterest in the event of any claims brought against Pinterest related to the sharing of this audience list.', '[m10n]audienceSharing.ModalShareAudienceList.legalDisclaimer.firstParagraph', 'Label for the legal disclaimer text in second step of the Share Audience modal. accountType: either "ad account" or "business or ad account"'),{accountType:p})})}),(0,l.jsx)(s.xu,{children:m&&n?(0,l.jsx)(s.xv,{color:"subtle",size:"200",children:(0,a.Z)(h._('You acknowledge that by sharing this audience list with a specific ad account of a selected business, you are giving the selected {{ accountType }} the right to leverage the audience but not see who is in the audience list.', '[m10n]audienceSharing.shareForm.legalDisclaimer.secondParagraph', 'Text that appears in a modal describing the legal terms and conditions an advertiser must agree to before sharing an audience. accountType: either "ad account" or "business or ad account"'),{accountType:p})}):(0,l.jsxs)(s.xv,{color:"subtle",size:"200",children:[h._('You acknowledge that by sharing this audience list with the selected business or ad account, you allow that business to share the audience list with any of their ad accounts.', '[m10n]audienceSharing.shareForm.legalDisclaimer.secondParagraph.businessRecipient', 'Text that appears in a modal describing the legal terms and conditions an advertiser must agree to before sharing an audience')," ",(0,a.Z)(h._('By sharing the audience, you give the selected {{ accountType }} the right to use the audience but not see who is in the audience list.', '[m10n]audienceSharing.shareForm.legalDisclaimer.secondParagraph', 'Text that appears in a modal describing the legal terms and conditions an advertiser must agree to before sharing an audience. accountType: either "ad account" or "business or ad account"'),{accountType:p})]})}),(0,l.jsx)(s.xu,{children:(0,l.jsx)(s.XZ,{checked:_,id:"checkbox",label:h._('By checking this box, you agree to the above Terms and Conditions', '[m10n]audienceSharing.ModalShareAudienceList.legalDisclaimer.checkbox', 'Checkbox for the legal disclaimer text in second step of the Share Audience modal'),onChange:function(e){var t=e.checked;f(t),u(!t)}})})]})}},593015:function(e,t,n){"use strict";var r=n(387784),s=n(20256),o=n(935059),a=n(24246),i=n(514223),l=n(501010),c=n(180483),u=n(893957),d=n(185806),_=n(866962),f=n(89446),m=n(767415),h=n(680811);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){A(o,r,s,a,i,"next",e)}function i(e){A(o,r,s,a,i,"throw",e)}a(void 0)})}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||x(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return E(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=new s.Ry(1e3);t.Z=function(e){var t,n=e.recipientAccountType,p=e.accountsToExclude,b=e.selectedAccountIds,A=e.setSelectedAccountIds,x=e.existsInvalidSelectedAccountId,E=e.setExistsInvalidSelectedAccountId,I=e.isAudienceOwner,T=e.recipientBusinessId,C=e.audienceAdvertiserId,O=e.audienceOwningBusinessId,j=e.setAccountAvatarConfigs,z=e.isAdsManager,w=e.forPartner,N=e.inRmnFoundationsExperiment,R=void 0!==N&&N,D=(0,(0,l.Z)().checkExperiment)("business_access__audience_sharing_improvements").anyEnabled,k=n===_.Q5.AD_ACCOUNT,L=(0,a.Z)(),U=(0,f.KJ)(),B=(0,r.useRef)(null),M=(0,o.Z)(),H=M.isAuth?M.id:"",Z=S((0,r.useState)([]),2),G=Z[0],F=Z[1],Y=(0,r.useRef)(null),V=S((0,r.useState)([]),2),q=V[0],Q=V[1],W=S((0,r.useState)(!0),2),X=W[0],K=W[1],$=S((0,r.useState)(!1),2),J=$[0],ee=$[1],et=S((0,r.useState)({}),2),en=et[0],er=et[1],es=S((0,r.useState)(""),2),eo=es[0],ea=es[1],ei=S((0,r.useState)(),2),el=ei[0],ec=ei[1];(0,u.Z)(function(){var e;(e=g(regeneratorRuntime.mark(function e(){var t,r,s,o,a,i,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],r=!1,!(k&&!w)){e.next=10;break}return e.next=5,(0,_.fV)({audienceAdvertiserId:C,audienceOwningBusinessId:O,isAudienceOwner:I,recipientBusinessId:T,viewerId:H,inRmnFoundationsExperiment:R});case 5:t=(s=e.sent).eligibleRecipientAccounts,r=s.errorLoadingAdAccounts,e.next=33;break;case 10:if(!(k&&w)){e.next=18;break}return e.next=13,(0,_.Hs)({audienceOwningBusinessId:O});case 13:t=(o=e.sent).eligibleRecipientAccounts,r=o.errorLoadingAdAccounts,e.next=33;break;case 18:if(!(!k&&w)){e.next=26;break}return e.next=21,(0,_.RN)({audienceOwningBusinessId:O});case 21:t=(a=e.sent).eligiblePartners,r=a.errorLoadingPartners,e.next=33;break;case 26:if(!I){e.next=33;break}return e.next=29,(0,_.dc)(O);case 29:r=(i=e.sent).error,t=i.bizHierarchyBusinessAccounts.filter(function(e){return e.id!==O});case 33:er(l=(0,_.Zk)({eligibleRecipientAccounts:t,recipientAccountType:n})),j&&j(l),c=(0,_.RV)({eligibleRecipientAccounts:t,recipientAccountType:n,accountsToExclude:new Set(v(p||[])),i18n:L,forPartner:w}),ee(r),F(c),Y.current=c||[],Q(c),K(!1);case 42:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()}),(0,r.useEffect)(function(){if(w){var e,t=(null!=el&&el.id?null==(e=Y.current)?void 0:e.filter(function(e){return e.partnerId===(null==el?void 0:el.id)}):Y.current)||[];F(t),Q(t)}},[w,null==el?void 0:el.id]);var eu=S((0,r.useState)(null),2),ed=eu[0],e_=eu[1],ef=S((0,r.useState)(!1),2),em=ef[0],eh=ef[1],ep=function(e){var t,n=v(b);b.includes(e)||n.push(e),A(n),Q((0,_.In)(G,n,null)),ea(""),w&&!el&&ec({id:(null==(t=G.find(function(t){return t.value===e}))?void 0:t.partnerId)||"",name:"",image:""})},eb=function(e){var t=b.filter(function(t){return t!==e});A(t),Q((0,_.In)(G,t,eo))};(0,r.useEffect)(function(){if(ed){var e,t=!1,r=y({},en);ed in en||(/^\d+$/.test(ed)&&ed!==C?t=!0:r[ed]={account_name:null,account_type:null,account_id:ed,is_valid:!1}),(e=g(regeneratorRuntime.mark(function e(){var s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return eh(!0),s={businessId:!I&&T?T:O,filteredAccountIdsToValidate:[ed],accountType:n,validate_owned_only:!I},z&&(s=y(y({},s),{},{advertiserId:C})),e.next=6,(0,_.Hu)(y(y({},s),{},{businessEntityId:U}));case 6:(o=e.sent.validatedAccounts)[ed]?r[ed]=y(y({},o[ed]),{},{owningBusinessId:o[ed].parent_id}):((0,m.nP)("audience_sharing.ui.audience_edit.batch_validation_failure",{sampleRate:1}),r[ed]={account_name:null,account_type:null,account_id:ed,is_valid:!1}),eh(!1);case 10:er(r),j&&j(r),ep(ed),e_(null);case 14:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()}},[ed]),(0,r.useEffect)(function(){E(b.some(function(e){return!!en[e]&&!en[e].is_valid}))},[b]);var ey=b.map(function(e){var t=en[e],n="default";return null!=t&&t.is_valid?k&&I&&t.owningBusinessId!==O&&!w&&(n="warning"):n="error",t?(0,h.jsx)(s.Vp,{accessibilityRemoveIconLabel:(0,c.Z)(L._('Remove {{ accountNameOrId }}', '[m10n] audienceSharing.audienceShareForm.searchBox.removeIcon.accessibilityLabel', 'Accessibility label for icon button that removes the staged account when clicked, accountNameOrId: name or ID of the account associated with the given tag'),{accountNameOrId:t.account_name||e}),onRemove:function(){return eb(e)},text:t.account_name||e,type:n},e):null}).filter(Boolean),ev=L._('No results found for your selection', '[m10n] audienceSharing.audienceShareForm.searchBox.noResultsText', 'Text shown when there are no accounts found given the user\'s search term');X&&(ev=L._('Loading...', '[m10n]audienceSharing.audienceShareForm.searchBox.loadingText', 'Text shown when the account options are still being loaded')),J&&(ev=L._('Unable to retrieve accounts. Please try again in a few minutes.', '[m10n]audienceSharing.audienceShareForm.searchBox.errorText', 'Text shown when the was an error loading account options'));var eA=b.some(function(e){return k&&I&&!!en[e]&&en[e].owningBusinessId!==O});return x?t=(0,_.xi)(n,L):eA&&!w&&(t=L._('This ad account belongs to a business within your business hierarchy. Please confirm this ad account before sharing this audience.', '[m10n]audienceSharing.audienceShareForm.searchBox.externalAccount.warning', 'A message displayed in a form for sharing an audience when the user has selected an account that is outside of their business, but is instead within another business in their business hierarchy.')),(0,h.jsx)(r.Fragment,{children:X?(0,h.jsx)(s.xu,{marginTop:8,width:"100%",children:(0,h.jsx)(s.xH,{accessibilityLabel:L._('Loading accounts', '[m10n] audienceSharing.audienceShareForm.loadingAccounts.spinner', 'Accessibility label for a Spinner icon that is displayed while waiting to load the account data'),delay:!1,show:!0,size:"sm"})}):(0,h.jsxs)(s.xu,{"data-test-id":"audience-sharing-search-box",position:"relative",width:"100%",children:[(0,h.jsxs)(s.xu,{width:"100%",children:[(0,h.jsxs)(s.kC,{gap:4,width:"100%",children:[!R&&w&&(0,h.jsx)(s.kC.Item,{flex:"grow",minWidth:"50%",children:(0,h.jsx)(d.Z,{businessIdProp:O,ignorePendingAssetRequests:!0,label:(0,_.hJ)(L),onPartnerChange:function(){e_(null),A([])},placeholder:(0,_.Yh)("PARTNER",L,D),selectedPartner:el||void 0,selectedPartnerIdProp:(null==el?void 0:el.id)||void 0,setPartner:ec})}),(0,h.jsx)(s.kC.Item,{flex:"grow",children:(0,h.jsx)(s.xu,{marginEnd:-4,children:(0,h.jsx)(s.BC,{ref:B,accessibilityClearButtonLabel:(0,_.PY)(n,L),helperText:D?void 0:(0,_.ic)(n,I,L,R),id:"audience-sharing-search-box",inputValue:eo,label:(0,_.s9)(n,L,null!=w&&w,D),noResultText:ev,onBlur:function(){""!==eo&&e_(eo.trim())},onChange:function(e){var t=e.value;em||(ea(t),Q((0,_.In)(G,b,t)))},onClear:function(){e_(null),A([]),Q(G),ea(""),w&&el&&ec(null)},onKeyDown:function(e){var t=e.event,n=t.keyCode,r=t.currentTarget;n===i.Z.BACKSPACE&&0===r.selectionEnd&&eb(b[b.length-1]),n===i.Z.ENTER&&!em&&r.value.trim().length>0&&e_(r.value.trim())},onSelect:function(e){ep(e.item.value)},options:q,placeholder:b.length>0?"":(0,_.Yh)(n,L,D),size:"lg",tags:ey,zIndex:P})})})]}),em&&(0,h.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},position:"absolute",children:(0,h.jsx)(s.xH,{accessibilityLabel:L._('Validating account', '[m10n] audienceSharing.audienceShareForm.searchBox.validatingAccount.spinner', 'Accessibility label for a Spinner icon that is displayed while waiting to validate the input that the user has typed in TextField'),delay:!1,show:!0,size:"sm"})})]}),t&&(0,h.jsx)(s.xu,{marginTop:2,children:(0,h.jsxs)(s.kC,{alignItems:"center",gap:2,children:[(0,h.jsx)(s.JO,{accessibilityLabel:x?L._('Error', '[m10n]audienceSharing.audienceShareForm.searchBox.error', 'Error icon accessibility label'):L._('Warning', '[m10n]audienceSharing.audienceShareForm.searchBox.warning', 'Warning icon accessibility label'),color:x?"error":"warning",icon:x?"workflow-status-problem":"workflow-status-warning"}),(0,h.jsx)(s.xv,{color:x?"error":"warning",size:"100",children:t})]})})]})})}},866962:function(e,t,n){"use strict";n.d(t,{DW:function(){return W.DW},RV:function(){return eO},YG:function(){return ea},KG:function(){return ef},ju:function(){return eL},dc:function(){return eh},Fb:function(){return eW},hJ:function(){return eG},Yl:function(){return eU},zN:function(){return el},xi:function(){return eY},Pd:function(){return eq},ic:function(){return eF},BQ:function(){return eR},N9:function(){return eV},PY:function(){return eM},vQ:function(){return eK},Dz:function(){return eP},Jn:function(){return ec},Ud:function(){return em},Hu:function(){return ex},zi:function(){return ei},HW:function(){return eX},pe:function(){return eu},RF:function(){return eT},Yh:function(){return eZ},Q5:function(){return W.Q5},Hs:function(){return ev},fV:function(){return eS},UN:function(){return eB},bZ:function(){return eQ},sb:function(){return eD},RN:function(){return eA},O1:function(){return ek},E7:function(){return eo},In:function(){return ej},B$:function(){return e$},jd:function(){return eI},zy:function(){return ez},s9:function(){return eH},Zk:function(){return eC},mX:function(){return ew}});var r,s,o,a,i,l,c,u,d,_,f,m,h,p,b,y,v,A,g=n(20256),S=n(339146),x=n(994193);function E(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function P(){var e;return e=regeneratorRuntime.mark(function e(t,n){var r,s,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,x.t)().api,s=(0,x.u)(),e.prev=2,s.attempt("getSharedAccountsForAudience",n),o=new Date().getTime(),a={audience_id:t.audience_id,requestor_account_id:t.requestor_account_id,requestor_account_type:t.requestor_account_type,recipient_account_type:t.recipient_account_type},e.next=9,r.get("/ads/v4/audiences/shared/accounts",a,!1);case 9:return i=e.sent,s.success("getSharedAccountsForAudience",n),s.latency("getSharedAccountsForAudience",new Date().getTime()-o,n),e.abrupt("return",i);case 15:throw e.prev=15,e.t0=e.catch(2),s.failure("getSharedAccountsForAudience",n),e.t0;case 19:case"end":return e.stop()}},e,null,[[2,15]])}),(P=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){E(o,r,s,a,i,"next",e)}function i(e){E(o,r,s,a,i,"throw",e)}a(void 0)})}).apply(this,arguments)}function I(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function T(){var e;return e=regeneratorRuntime.mark(function e(t,n,r){var s,o,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,x.t)().api,o=(0,x.u)(),e.prev=2,o.attempt("updateAudience",r),a=new Date().getTime(),i="/ads/v4/advertisers/".concat(t.advertiser_id,"/audiences/").concat(t.audience_id),e.next=8,s.patch(i,n,!1);case 8:return l=e.sent,o.success("updateAudience",r),o.latency("updateAudience",new Date().getTime()-a,r),e.abrupt("return",l);case 14:throw e.prev=14,e.t0=e.catch(2),o.failure("updateAudience",r),e.t0;case 18:case"end":return e.stop()}},e,null,[[2,14]])}),(T=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){I(o,r,s,a,i,"next",e)}function i(e){I(o,r,s,a,i,"throw",e)}a(void 0)})}).apply(this,arguments)}function C(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function O(){var e;return e=regeneratorRuntime.mark(function e(t,n,r){var s,o,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,x.t)().api,o=(0,x.u)(),e.prev=2,o.attempt("updateSharedAudienceAdvertiserToAdvertiser",r),a=new Date().getTime(),i="/ads/v4/advertisers/".concat(t.advertiser_id,"/audiences/advertisers/shared"),e.next=8,s.patch(i,n,!1);case 8:return l=e.sent,o.success("updateSharedAudienceAdvertiserToAdvertiser",r),o.latency("updateSharedAudienceAdvertiserToAdvertiser",new Date().getTime()-a,r),e.abrupt("return",l);case 14:throw e.prev=14,e.t0=e.catch(2),o.failure("updateSharedAudienceAdvertiserToAdvertiser",r),e.t0;case 18:case"end":return e.stop()}},e,null,[[2,14]])}),(O=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){C(o,r,s,a,i,"next",e)}function i(e){C(o,r,s,a,i,"throw",e)}a(void 0)})}).apply(this,arguments)}function j(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function z(){var e;return e=regeneratorRuntime.mark(function e(t,n,r){var s,o,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,x.t)().api,o=(0,x.u)(),e.prev=2,o.attempt("updateSharedAudienceAdvertiserToBusiness",r),a=new Date().getTime(),i="/ads/v4/advertisers/".concat(t.advertiser_id,"/audiences/businesses/shared"),e.next=8,s.patch(i,n,!1);case 8:return l=e.sent,o.success("updateSharedAudienceAdvertiserToBusiness",r),o.latency("updateSharedAudienceAdvertiserToBusiness",new Date().getTime()-a,r),e.abrupt("return",l);case 14:throw e.prev=14,e.t0=e.catch(2),o.failure("updateSharedAudienceAdvertiserToBusiness",r),e.t0;case 18:case"end":return e.stop()}},e,null,[[2,14]])}),(z=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){j(o,r,s,a,i,"next",e)}function i(e){j(o,r,s,a,i,"throw",e)}a(void 0)})}).apply(this,arguments)}(0,x.u)(),(0,x.u)(),(0,x.u)(),(0,x.u)();var w=n(719301),N=n(236269),R=n(216975),D=n(424868),k=n(792559),L=n(180483),U=n(696749),B=n(239426),M=n(563218),H=n(498452),Z=n(208422),G=n(681698);function F(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function Y(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){F(o,r,s,a,i,"next",e)}function i(e){F(o,r,s,a,i,"throw",e)}a(void 0)})}}var V=(r=Y(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,G.Z)({url:"/ads/v4/business_access/businesses/validate_accounts",method:"POST",data:t});case 2:return n=e.sent,e.abrupt("return",n.resource_response.data);case 4:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),q=(s=Y(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,G.Z)({url:"/ads/v4/business_access/business_hierarchy/".concat(t.business_hierarchy_lookup_id),method:"GET",data:t});case 2:return n=e.sent,e.abrupt("return",n.resource_response.data);case 4:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),Q=(o=Y(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,G.Z)({url:"/ads/v4/business_access/business_hierarchy/".concat(t.business_hierarchy_node_id,"/assets"),method:"GET",data:t});case 2:return n=e.sent,e.abrupt("return",n.resource_response.data);case 4:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),W=n(458397),X=n(767415),K=n(680811);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function en(e,t,n){var r;return(r=function(e,t){if("object"!=$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==$(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function es(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){er(o,r,s,a,i,"next",e)}function i(e){er(o,r,s,a,i,"throw",e)}a(void 0)})}}var eo=Object.freeze({SHARED:"SHARED",RECEIVED:"RECEIVED"}),ea=Object.freeze({OWNED:"OWNED",RECEIVED:"RECEIVED"}),ei=Object.freeze({ADS_MANAGER:"ADS_MANAGER",BUSINESS_MANAGER:"BUSINESS_MANAGER"}),el=Object.freeze({NAME_AND_ID:"NAME_AND_ID",CATEGORY:"CATEGORY",OWNER:"OWNER",SHARE_DATE:"SHARE_DATE",ACTIONS:"ACTIONS"}),ec=function(e,t,n){t&&(0,X.nP)("audience_sharing.ui.audience_edit.".concat(t),{sampleRate:1}),n("/advertiser/".concat(e,"/audiences"))},eu=function(e){var t=e.clientBusinessId,n=e.ownerUserId;return t||n},ed=function(e){var t=e.clientBusinessName,n=e.ownerUserName;return t||n},e_=function(e){return e!==D.$9&&e!==D.au},ef=(a=es(regeneratorRuntime.mark(function e(t,n){var r,s,o,a,i,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={advertiser_id:t,search_query:n},a=!1,e.prev=2,e.next=5,(0,S.Z)(o);case 5:i=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a=!0;case 11:return e.prev=11,(0,X.nP)("audience_sharing.ui.get_audience",{sampleRate:1,tags:{error:a,emptyResult:!(null!=(l=i)&&null!=(c=l.audiences)&&c.length)}}),e.finish(11);case 14:return e.abrupt("return",(null==(r=i)||null==(s=r.audiences)?void 0:s[0])||null);case 15:case"end":return e.stop()}},e,null,[[2,8,11,14]])})),function(e,t){return a.apply(this,arguments)}),em=(i=es(regeneratorRuntime.mark(function e(t,n){var r,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={advertiser_id:t,audience_id:n},s={operation_type:"REMOVE"},e.prev=2,e.next=5,function(e,t,n){return T.apply(this,arguments)}(r,s);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),o=e.t0;case 10:return e.prev=10,(0,X.nP)("audience_sharing.ui.delete_audience",{sampleRate:1,tags:{error:!!o}}),e.finish(10);case 13:return e.abrupt("return",{error:!!o});case 14:case"end":return e.stop()}},e,null,[[2,7,10,13]])})),function(e,t){return i.apply(this,arguments)}),eh=(l=es(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1,o=null,e.prev=2,e.next=5,q({business_hierarchy_lookup_id:t});case 5:a=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),s=e_(null!=(i=o=(0,N.Z)(e.t0,"api_error_code"))?i:0);case 12:return e.prev=12,(0,X.nP)("audience_sharing.ui.get_business_hierarchy",{sampleRate:1,tags:{error:s,error_code:o}}),e.finish(12);case 15:return l=((null==(n=a)?void 0:n.children)||[]).map(function(e){var t;return null!=(t=e.user)&&t.id&&e.user.full_name?{id:e.user.id,name:e.user.full_name,image_medium_url:e.user.image_medium_url}:null}).filter(Boolean),e.abrupt("return",{error:s,bizHierarchyId:(null==(r=a)?void 0:r.id)||null,bizHierarchyBusinessAccounts:l});case 17:case"end":return e.stop()}},e,null,[[2,8,12,15]])})),function(e){return l.apply(this,arguments)}),ep=(c=es(regeneratorRuntime.mark(function e(t,n){var r,s,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1,e.prev=1,e.next=4,Q({business_hierarchy_node_id:t,resource_type:W.Q5.AD_ACCOUNT});case 4:o=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),s=!0;case 10:return e.prev=10,(0,X.nP)("audience_sharing.ui.get_business_hierarchy_ad_accounts",{sampleRate:1,tags:{error:s}}),e.finish(10);case 13:return a=new Set(n.map(function(e){return e.id})),i=((null==(r=o)?void 0:r.data)||[]).map(function(e){var t=ed({clientBusinessName:e.client_business_name,ownerUserName:e.owner_user_name}),n=eu({clientBusinessId:e.client_business_id,ownerUserId:e.owner_user_id});return e.asset_id&&e.name?{id:e.asset_id,name:e.name,owningBusinessId:n,owningBusinessName:t}:null}).filter(Boolean).filter(function(e){return e.owningBusinessId&&a.has(e.owningBusinessId)}),e.abrupt("return",{error:s,bizHierarchyAdAccounts:i});case 16:case"end":return e.stop()}},e,null,[[1,7,10,13]])})),function(e,t){return c.apply(this,arguments)}),eb=(u=es(regeneratorRuntime.mark(function e(t,n){var r,s,o,a,i,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eh(t);case 2:if(s=(r=e.sent).error,o=r.bizHierarchyId,a=r.bizHierarchyBusinessAccounts,!s){e.next=8;break}return e.abrupt("return",{error:!0,isInBusinessHierarchy:null,bizHierarchyAdAccounts:[]});case 8:if(!o){e.next=17;break}return e.next=11,ep(o,a);case 11:return l=(i=e.sent).error,c=i.bizHierarchyAdAccounts,e.abrupt("return",{error:l,isInBusinessHierarchy:!0,bizHierarchyAdAccounts:c.filter(function(e){return e.id!==n})});case 17:return e.abrupt("return",{error:!1,isInBusinessHierarchy:!1,bizHierarchyAdAccounts:[]});case 18:case"end":return e.stop()}},e)})),function(e,t){return u.apply(this,arguments)}),ey=(d=es(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i,l,c,u,d,_,f,m,h,p,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.businessId,o=t.viewerId,a=t.audienceAdvertiserId,i=t.audienceOwningBusinessIsRmnPartner,l=t.audienceOwningBusinessId,c=t.inRmnFoundationsExperiment,d=!1,_=null,e.prev=3,f={id:s,searchBy:"name",sortBy:"name",sortDirection:w.IR.ASCENDING,limit:w.xX},o===s){e.next=24;break}return e.next=8,(0,Z.QC)(et(et({},f),{},{businessId:s,personId:o,includeAssetSummary:!0}));case 8:if(e.t2=m=e.sent,e.t1=null===e.t2,e.t1){e.next=12;break}e.t1=void 0===m;case 12:if(!e.t1){e.next=16;break}e.t3=void 0,e.next=17;break;case 16:e.t3=m.data.data;case 17:if(e.t0=e.t3,e.t0){e.next=20;break}e.t0={};case 20:e.t4=e.t0,u={isMapResponse:!0,map:e.t4},e.next=40;break;case 24:return e.next=26,(0,M.cE)(et(et({},f),{},{includeAssetSummary:!0}));case 26:if(e.t7=h=e.sent,e.t6=null===e.t7,e.t6){e.next=30;break}e.t6=void 0===h;case 30:if(!e.t6){e.next=34;break}e.t8=void 0,e.next=35;break;case 34:e.t8=h.data.data;case 35:if(e.t5=e.t8,e.t5){e.next=38;break}e.t5=[];case 38:e.t9=e.t5,u={isMapResponse:!1,array:e.t9};case 40:e.next=46;break;case 42:e.prev=42,e.t10=e.catch(3),d=e_(null!=(p=_=(0,N.Z)(e.t10,"api_error_code"))?p:0);case 46:return e.prev=46,(0,X.nP)("audience_sharing.ui.searchbox.get_ad_accounts",{sampleRate:1,tags:{error:d,error_code:_}}),e.finish(46);case 49:return b=new Set([w.V3.OWNER,w.gO.ADMIN]),y=(null!=(n=u)&&n.isMapResponse?Object.values(u.map||{}):(null==(r=u)?void 0:r.array)||[]).filter(function(e){var t;return(e.permissions||[]).some(function(e){return b.has(e)})&&eu({clientBusinessId:null==(t=e.client_business)?void 0:t.id,ownerUserId:e.owner.id})===s&&e.asset.id!==a}).filter(function(e){return!c||!i||e.targeting_rmn_business_id&&e.targeting_rmn_business_id===l}).map(function(e){var t,n,r,s=ed({clientBusinessName:null==(t=e.client_business)?void 0:t.full_name,ownerUserName:null==(n=e.owner)?void 0:n.full_name}),o=eu({clientBusinessId:null==(r=e.client_business)?void 0:r.id,ownerUserId:e.owner.id});return{id:e.asset.id,name:e.asset.name,owningBusinessId:o,owningBusinessName:s}}),e.abrupt("return",{adAccountsBusiness:y,error:d});case 52:case"end":return e.stop()}},e,null,[[3,42,46,49]])})),function(e){return d.apply(this,arguments)}),ev=(_=es(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.audienceOwningBusinessId,e.prev=1,e.next=4,(0,B.dF)({id:n},w.xX,void 0,function(e){var t=e.limit,r=e.startIndex;return(0,M.cE)({id:n,limit:t,startIndex:r,includeAssetSummary:!0})});case 4:return r=e.sent,e.abrupt("return",{eligibleRecipientAccounts:r.data.data.filter(function(e){return e.owner.id!==n}).map(function(e){return{id:e.asset_id,name:e.asset.name,owningBusinessId:e.owner.id}}),errorLoadingAdAccounts:!1});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{eligibleRecipientAccounts:[],errorLoadingAdAccounts:!0});case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return _.apply(this,arguments)}),eA=(f=es(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.audienceOwningBusinessId,e.prev=1,e.next=4,(0,B.dF)({id:n,businessPartnerType:"RMN"},w.xX,"PARTNER");case 4:return r=e.sent,e.abrupt("return",{eligiblePartners:r.data.data.filter(function(e){return"BRAND"===e.rmn_or_brand}).map(function(e){return{id:e.id,name:e.user.full_name,image_medium_url:e.user.image_medium_url||e.user.image_small_url}}),errorLoadingPartners:!1});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{eligiblePartners:[],errorLoadingPartners:!0});case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return f.apply(this,arguments)}),eg=(m=es(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.audienceOwningBusinessId,r=t.recipientBusinessId,e.prev=1,e.next=4,(0,H.Eg)({id:r,businessPartnerType:"UNDEFINED",partners:[n]});case 4:return i=void 0===(a=(o=void 0===(o=e.sent.data)?{}:o).data)?[]:a,e.abrupt("return",{isRmnPartner:i.length>0&&(null==(s=i[0])?void 0:s.rmn_or_brand)==="RMN",errorFetchingPartner:!1});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{isRmnPartner:!1,errorFetchingPartner:!0});case 14:case"end":return e.stop()}},e,null,[[1,11]])})),function(e){return m.apply(this,arguments)}),eS=(h=es(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i,l,c,u,d,_,f,m,h,p,b,y,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.audienceAdvertiserId,r=t.audienceOwningBusinessId,s=t.isAudienceOwner,o=t.recipientBusinessId,a=t.viewerId,l=void 0!==(i=t.inRmnFoundationsExperiment)&&i,!s){e.next=7;break}return e.next=4,eb(r,n);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={error:!1,isInBusinessHierarchy:!1,bizHierarchyAdAccounts:[]};case 8:if(d=void 0!==(u=(c=e.t0).error)&&u,_=c.isInBusinessHierarchy,f=c.bizHierarchyAdAccounts,m=s&&_,!d){e.next=18;break}return e.abrupt("return",{eligibleRecipientAccounts:[],errorLoadingAdAccounts:d});case 18:if(!m){e.next=22;break}return e.abrupt("return",{eligibleRecipientAccounts:f,errorLoadingAdAccounts:d});case 22:if(!(l&&!s&&o)){e.next=28;break}return e.next=25,eg({audienceOwningBusinessId:r,recipientBusinessId:o});case 25:e.t1=e.sent,e.next=29;break;case 28:e.t1={isRmnPartner:!1};case 29:return h=e.t1.isRmnPartner,p=!s&&o?o:r,e.next=34,ey({businessId:p,viewerId:a,audienceAdvertiserId:n,audienceOwningBusinessIsRmnPartner:h,audienceOwningBusinessId:r,inRmnFoundationsExperiment:l});case 34:return y=(b=e.sent).adAccountsBusiness,v=b.error,e.abrupt("return",{eligibleRecipientAccounts:y,errorLoadingAdAccounts:v});case 38:case"end":return e.stop()}},e)})),function(e){return h.apply(this,arguments)}),ex=(p=es(regeneratorRuntime.mark(function e(t){var n,r,s,o,a,i,l,c,u,d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.businessId,s=t.filteredAccountIdsToValidate,o=t.accountType,a=t.validate_owned_only,i=t.advertiserId,l=t.businessEntityId,c={owner_business_id:r,account_ids:s,account_type:o,validate_owned_only:a},i&&(c=et(et({},c),{},{advertiser_id:i})),u=!1,e.prev=4,e.next=7,V(et(et({},c),{},{business_entity_id:l}));case 7:d=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),u=!0;case 13:return e.prev=13,(0,X.nP)("audience_sharing.ui.validate_accounts",{sampleRate:1,tags:{error:u}}),e.finish(13);case 16:return _=Object.fromEntries(((null==(n=d)?void 0:n.accounts)||[]).map(function(e){return[e.account_id||"",e]})),e.abrupt("return",{validatedAccounts:_});case 18:case"end":return e.stop()}},e,null,[[4,10,13,16]])})),function(e){return p.apply(this,arguments)}),eE=(b=es(regeneratorRuntime.mark(function e(t,n){var r,s,o,a,i,l,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.audienceId,s=n.recipientAccountIds,o=n.recipientAccountType,a={advertiser_id:n.advertiserId},i={audience_id:r,operation_type:t},e.prev=3,o!==W.Q5.AD_ACCOUNT){e.next=10;break}return c=et(et({},i),{},{recipient_account_ids:s}),e.next=8,function(e,t,n){return O.apply(this,arguments)}(a,c);case 8:e.next=13;break;case 10:return u=et(et({},i),{},{recipient_business_ids:s}),e.next=13,function(e,t,n){return z.apply(this,arguments)}(a,u);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),l=e.t0;case 18:return e.prev=18,(0,X.nP)("audience_sharing.ui.".concat(t===W.DW.SHARE?"share_audience":"revoke_audience_access"),{sampleRate:1,tags:{error:!!l}}),(0,X.nP)("audience_sharing.ads_manager.update_shared_audience",{sampleRate:1,tags:{error:!!l,share_operation_type:t,recipient_account_type:o}}),e.finish(18);case 22:return e.abrupt("return",{error:l});case 23:case"end":return e.stop()}},e,null,[[3,15,18,22]])})),function(e,t){return b.apply(this,arguments)}),eP=(y=es(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(W.DW.SHARE,t));case 1:case"end":return e.stop()}},e)})),function(e){return y.apply(this,arguments)}),eI=(v=es(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(W.DW.REVOKE,t));case 1:case"end":return e.stop()}},e)})),function(e){return v.apply(this,arguments)}),eT=(A=es(regeneratorRuntime.mark(function e(t,n,r){var s,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={audience_id:t,requestor_account_id:n,requestor_account_type:r},i=!1,e.prev=2,e.next=5,function(e,t){return P.apply(this,arguments)}(o);case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),i=!0;case 11:return e.prev=11,(0,X.nP)("audience_sharing.ui.get_shared_accounts",{sampleRate:1,tags:{error:i,surface:ei.ADS_MANAGER}}),e.finish(11);case 14:return e.abrupt("return",{error:i,sharedAccounts:null==(s=a)?void 0:s.accounts});case 15:case"end":return e.stop()}},e,null,[[2,8,11,14]])})),function(e,t,n){return A.apply(this,arguments)}),eC=function(e){var t=e.eligibleRecipientAccounts,n=e.recipientAccountType;return Object.fromEntries(t.map(function(e){var t={account_name:e.name,account_type:n,account_id:e.id,image_medium_url:e.image_medium_url,owningBusinessId:e.owningBusinessId,is_valid:!0};return[e.id,t]}))},eO=function(e){var t=e.eligibleRecipientAccounts,n=e.recipientAccountType,r=e.accountsToExclude,s=e.i18n,o=e.forPartner;return t.filter(function(e){return!r||!r.has(e.id)}).sort(function(e,t){return e.name<t.name?-1:1}).map(function(e){var t=e.id;return et({label:e.name,subtext:(0,U.Z)(s._('ID: {{ advertiserId }}', '[m10n] audienceSharing.audienceShareForm.searchBox.dropdownOption.subtext', 'Accessibility label for icon button that removes the selected account when clicked. advertiserId: name of the selected account'),{advertiserId:t})+(n===W.Q5.BUSINESS_ACCOUNT||o?"":"\xa0".repeat(5)+(0,L.Z)(s._('Account Owner: {{ businessName }}', '[m10n] audienceSharing.audienceShareForm.searchBox.dropdownOption.subtext.suffix', 'Text that appears in a dropdown menu of ad accounts to select from. businessName: name of the owner business'),{businessName:e.owningBusinessName||""})),value:t},o&&{partnerId:e.owningBusinessId||""})})},ej=function(e,t,n){return e.filter(function(e){return!t.includes(e.value)&&(!n||e.label.toLowerCase().includes(n.toLowerCase())||e.value.includes(n))})},ez=function(e,t,n){return e.filter(function(e){return(!t||e.account_name.toLowerCase().includes(t.toLowerCase())||e.account_id.includes(t))&&(!n||e.account_type===n)})},ew=Object.freeze({ASCENDING:"asc",DESCENDING:"desc"}),eN=function(e,t,n,r){var s=r===ew.ASCENDING?1:-1,o=r===ew.ASCENDING?-1:1;switch(n){case el.NAME_AND_ID:return r===ew.ASCENDING?e.account_name.localeCompare(t.account_name):t.account_name.localeCompare(e.account_name);case el.CATEGORY:return e.account_type>t.account_type?s:o;case el.OWNER:return r===ew.ASCENDING?e.owner_name.localeCompare(t.owner_name):t.owner_name.localeCompare(e.owner_name);case el.SHARE_DATE:return new Date(e.shared_on).getTime()>new Date(t.shared_on).getTime()?s:o;default:return 0}},eR=function(e,t){return((function(e){if(Array.isArray(e))return J(e)})(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return J(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,n){return eN(e,n,t.sortBy,t.order)})},eD=function(e,t,n){return e.filter(function(e){return(!n||e.name.toLowerCase().includes(n.toLowerCase())||e.id.includes(n))&&(!t||t.includes(e.audience_type))})},ek=function(e,t){return e===W.Q5.AD_ACCOUNT?t._('ad accounts', '[m10n]audienceSharing.ModalShareAudienceList.accountTypeText.adAccounts', 'Describe the type of the account selected by the user'):t._('businesses', '[m10n]audienceSharing.ModalShareAudienceList.accountTypeText.businesses', 'Describe the type of the account selected by the user')},eL=function(e,t){return e===W.Q5.AD_ACCOUNT?t._('Ad account', '[m10n] audienceSharing.sharedAccountsTable.accountType.adAccount', 'Text that appears in a table of accounts denoting that the row corresponds to an ad account'):t._('Business', '[m10n] audienceSharing.audienceEdit.sharedAccountsTable.accountType.businessAccount', 'Text that appears in a table of accounts denoting that the row corresponds to a business')},eU=function(e,t){return e===W.Q5.AD_ACCOUNT?t._('Share audience list with an ad account', '[m10n] audienceSharing.audienceShareForm.adAccountRecipient.heading', 'Heading text that appears on a form for sharing an audience list with an ad account'):t._('Share audience list with a business', '[m10n] audienceSharing.audienceShareForm.businessAccountRecipient.heading', 'Heading text that appears on a form for sharing an audience list with a business account.')},eB=function(e,t){return e===W.Q5.AD_ACCOUNT?t._('Choose ad accounts to share this audience list with', '[m10n] audienceSharing.audienceShareForm.adAccountRecipient.accessibilityLabel', 'Accessibility label for an Overlay Panel for sharing an audience list with an ad account'):t._('Choose businesses to share this audience list with', '[m10n] audienceSharing.audienceShareForm.businessAccountRecipient.accessibilityLabel', 'Accessibility label for an Overlay Panel for sharing an audience list with a business account.')},eM=function(e,t){return e===W.Q5.AD_ACCOUNT?t._('Clear the selected ad accounts', '[m10n] audienceSharing.audienceShareForm.adAccountRecipient.searchBox.clear', 'Accessibility label for clear selection icon button'):t._('Clear the selected businesses', '[m10n] audienceSharing.audienceShareForm.businessAccountRecipient.searchBox.clear', 'Accessibility label for clear selection icon button')},eH=function(e,t,n,r){return r||n?e!==W.Q5.AD_ACCOUNT||n?e===W.Q5.AD_ACCOUNT&&n?t._('Select partner ad account', '[m10n] audienceSharing.audienceShareForm.partnerAdAccount.searchBox.label', 'Label for an input text field for searching for partner ad account to share the current audience list with.'):e===W.Q5.BUSINESS_ACCOUNT&&n?t._('Select brand partner', '[m10n] audienceSharing.audienceShareForm.brandPartner.searchBox.label', 'Label for an input text field for searching for a brand partner to share the current audience list with.'):e===W.Q5.BUSINESS_ACCOUNT?t._('Select child business', '[m10n] audienceSharing.audienceShareForm.businessAccountNew.searchBox.label', 'Label for an input text field for searching for businesses to share the current audience list with.'):"":t._('Select ad account', '[m10n] audienceSharing.audienceShareForm.adAccountNew.searchBox.label', 'Label for an input text field for searching for ad accounts to share the current audience list with.'):e===W.Q5.AD_ACCOUNT?t._('Ad accounts you would like to share with', '[m10n] audienceSharing.audienceShareForm.adAccountRecipient.searchBox.label', 'Label for an input text field for searching for ad accounts to share the current audience list with.'):t._('Businesses you would like to share with', '[m10n] audienceSharing.audienceShareForm.businessAccountRecipient.searchBox.label', 'Label for an input text field for searching for businesses to share the current audience list with.')},eZ=function(e,t,n){switch(e){case W.Q5.AD_ACCOUNT:if(n)return t._('Select ad account', '[m10n] audienceSharing.audienceShareForm.partnerAdAccountRecipient.searchBox.placeholder', 'Placeholder in input text field for searching for a partner ad account to share the current audience with.');return t._('Search ad account name or ID ', '[m10n] audienceSharing.audienceShareForm.adAccountRecipient.searchBox.placeholder', 'Placeholder in input text field for searching for an ad account to share the current audience with.');case W.Q5.BUSINESS_ACCOUNT:return t._('Search business name or ID', '[m10n] audienceSharing.audienceShareForm.businessAccountRecipient.searchBox.placeholder', 'Placeholder in input text field for searching for a business to share the current audience with.');case"PARTNER":return t._('Select partner', '[m10n] audienceSharing.audienceShareForm.partnerRecipient.searchBox.placeholder', 'Placeholder in input text field for searching for a partner to share the current audience with.');default:return""}},eG=function(e){return e._('Select partner recipient (optional)', '[m10n]audienceSharing.audienceShareForm.adAccountRecipient.searchBox.helperText.partner', 'Helper text for input text field to select a partner to share audience with.')},eF=function(e,t,n,r,s){return e!==W.Q5.AD_ACCOUNT?s?n._('Select one or more businesses. Only brand businesses will appear.', '[m10n]audienceSharing.audienceShareForm.businessAccountRecipient.searchBox.helperText', 'Helper text for input text field for searching for a business to share the current audience with.'):n._('Select one or more businesses. Only businesses within the same business hierarchy will appear.', '[m10n]audienceSharing.audienceShareForm.businessAccountRecipient.searchBox.helperText', 'Helper text for input text field for searching for a business to share the current audience with.'):r?n._('Select ad account', '[m10n]audienceSharing.audienceShareForm.adAccountRecipient.searchBox.helperText.partner.adAccounts', 'Helper text for input text field explaining which ad account the user can share an audience with.'):t?n._('Select one or more ad accounts. Only ad accounts within the same business hierarchy will appear.', '[m10n]audienceSharing.audienceShareForm.adAccountRecipient.searchBox.helperText.ga.bizHierarchy', 'Helper text for input text field explaining which ad accounts the user can share an audience with.'):n._('Select one or more ad accounts. Only ad accounts you own will appear.', '[m10n]audienceSharing.audienceShareForm.adAccountRecipient.searchBox.helperText.beta.withinBusiness', 'Helper text for input text field explaining which ad accounts the user can share an audience with.')},eY=function(e,t){return e===W.Q5.AD_ACCOUNT?t._('This is not a valid ad account name or ID', '[m10n] audienceSharing.audienceShareForm.adAccountRecipient.searchBox.validationError', 'An error message shown under an ad account searchbox when the input is not valid'):t._('This is not a valid business name or ID', '[m10n] audienceSharing.audienceShareForm.businessAccountRecipient.searchBox.validationError', 'An error message shown under a business account searchbox when the input is not valid')},eV=function(e,t,n,r){var s={numberOfNewRecipientAccounts:n.toString(),audienceName:e.name,audienceId:e.id};return t===W.Q5.AD_ACCOUNT?(0,L.Z)(r.ngettext('You have shared audience list {{ audienceName }} ({{ audienceId }}) with {{ numberOfNewRecipientAccounts }} ad account.', 'You have shared audience list {{ audienceName }} ({{ audienceId }}) with {{ numberOfNewRecipientAccounts }} ad accounts.', n, '[m10n] audienceSharing.manageAccess.adAccountRecipient.share.successMessage', 'Message displayed in a Toast when an advertiser successfully shares an audience with one or more ad accounts, audienceName: name of the audience, audienceId: ID of the audience, numberOfNewRecipientAccounts: the number of ad accounts the audience was shared with'),s):(0,L.Z)(r.ngettext('You have shared audience list {{ audienceName }} ({{ audienceId }}) with {{ numberOfNewRecipientAccounts }} business account.', 'You have shared audience list {{ audienceName }} ({{ audienceId }}) with {{ numberOfNewRecipientAccounts }} business accounts.', n, '[m10n] audienceSharing.manageAccess.businessAccountRecipient.share.successMessage', 'Message displayed in a Toast when an advertiser successfully shares an audience with one or more business accounts, audienceName: name of the audience, audienceId: ID of the audience, numberOfNewRecipientAccounts: the number of business accounts the audience was shared with'),s)},eq=function(e){return e._('Your changes were successfully saved', '[m10n] audienceSharing.audienceEdit.save.successMessage', 'Message displayed in a Toast when an advertiser successfully saves an audience.')},eQ=function(e,t){var n;return(en(n={},el.NAME_AND_ID,t._('Name and ID', '[m10n] audienceSharing.sharedAccountsTable.nameAndId.columnName', 'Column header name in a table that lists the accounts an audience has been shared with')),en(n,el.CATEGORY,t._('Category', '[m10n] audienceSharing.sharedAccountsTable.category.columnName', 'Column header name in a table that lists the accounts an audience has been shared with')),en(n,el.OWNER,t._('Owner', '[m10n] audienceSharing.sharedAccountsTable.owner.columnName', 'Column header name in a table that lists the accounts an audience has been shared with')),en(n,el.SHARE_DATE,t._('Shared on', '[m10n] audienceSharing.sharedAccountsTable.sharedOn.columnName', 'Header name for a column showing the date on which an audience was shared with an account, in a table that lists the accounts an audience has been shared with')),en(n,el.ACTIONS,t._('Actions', '[m10n] audienceSharing.sharedAccountsTable.actions.columnName', 'Header name for a column showing the possible actions that can be taken on an account, in a table that lists the accounts an audience has been shared with')),n)[e]},eW=function(e){var t=e.apiError,n=e.i18n;return t&&400===t.httpStatus?n._('We are having trouble sharing this audience. Please check your permissions.', '[m10n] audienceSharing.shareForm.shareAudienceList.invalidRequestErrorMessage', 'Generic error message when the share audience request is invalid'):n._('We are having trouble sharing this audience. Please try again in a few minutes.', '[m10n] audienceSharing.shareForm.shareAudienceList.genericAPIErrorMessage', 'Generic error message when the share audience API fails')},eX=function(e){var t=e.audienceName,n=e.audienceId,r=e.recipientAccountName,s=e.recipientAccountId,o=e.revokerIsAudienceRecipient,a=e.revokerAccountType,i=e.recipientAccountType,l=e.i18n;return o?a===W.Q5.BUSINESS_ACCOUNT?(0,R.nk)(l._('Remove audience {{audienceName}} (Audience ID: {{audienceId}}) from your {{ recipientAccountType }} {{recipientAccountName}} ({{ idAccountType }} ID: {{recipientAccountId}})', '[m10n]audienceSharing.removeReceivedAudienceFromBusinessModal.primaryText', 'Text that appears in a modal for confirmation of audience access removal from the business account of recipient. audienceName: name of the received audience list we are about to remove from our account, audienceId: ID of the audience to be removed, recipientAccountName: ID of the audience to be removed, recipientAccountId: ID of the audience to be removed, recipientAccountType: the type of account for which access will be revoked - either "ad account" or "business", idAccountType: the type of account, but the string is formatted to capitalize the first letter'),{audienceName:(0,K.jsx)(g.xv,{inline:!0,weight:"bold",children:t},"getRevokeAccessModalPrimaryText-recipient-businessAccount-audienceName-".concat(t)),audienceId:n,recipientAccountName:(0,K.jsx)(g.xv,{inline:!0,weight:"bold",children:r},"getRevokeAccessModalPrimaryText-recipient-businessAccount-recipientAccountName-".concat(r)),recipientAccountId:s,recipientAccountType:eL(i,l).toLocaleLowerCase(),idAccountType:(0,k.Z)(eL(i,l))}):(0,R.nk)(l._('Remove {{ audienceName }} (Audience ID: {{ audienceId }}) from your account', '[m10n]audienceSharing.removeReceivedAudienceModal.primaryText', 'Text that appears in a modal for confirmation of audience access removal from the recipient\'s account. audienceName: name of the received audience list we are about to remove from our account, audienceId: ID of the audience to be removed'),{audienceName:(0,K.jsx)(g.xv,{inline:!0,weight:"bold",children:t},"getRevokeAccessModalPrimaryText-recipient-adAccount-audienceName-".concat(t)),audienceId:n}):(0,R.nk)(l._('Revoke access to {{ audienceName }} (Audience ID: {{ audienceId }}) from {{ recipientAccountName }} ({{ recipientAccountId }})', '[m10n]audienceSharing.revokeAccessModal.primaryText.alpha', 'Text that appears in a modal for confirmation of audience access revocation. audienceName: name of the audience list from which we are about to revoke access, recipientAccountName: name of the account that the audience is currently shared with and whose access will be revoked, recipientAccountId: ID of the account that the audience is currently shared with and whose access will be revoked, when audience sharing experiment is in alpha, audienceId: ID of the audience to be removed'),{recipientAccountName:(0,K.jsx)(g.xv,{inline:!0,weight:"bold",children:r},"getRevokeAccessModalPrimaryText-nonRecipient-recipientAccountName-".concat(r)),recipientAccountId:s,audienceName:(0,K.jsx)(g.xv,{inline:!0,weight:"bold",children:t},"getRevokeAccessModalPrimaryText-nonRecipient-audienceName-".concat(t)),audienceId:n})},eK=function(e,t,n){return t?(0,U.Z)(n._('Once this audience is removed from your {{ recipientAccountType }}, you will lose access to this audience and will no longer be able to use it for targeting when creating campaigns. Any campaigns that are only using this audience will also be paused immediately unless they are targeting interests or keywords.', '[m10n]audienceSharing.removeReceivedAudienceModal.secondaryText.alpha', 'Text that appears in a modal for confirmation of audience removal from the account of recipient. recipientAccountType: the type of account for which access will be revoked - either "ad account" or "business"'),{recipientAccountType:eL(e,n).toLocaleLowerCase()}):(0,U.Z)(n._('Once access is revoked, this {{ recipientAccountType }} will lose access to this audience list and will no longer be able to use it for targeting when creating campaigns. Any campaigns that are only using this audience list will also be paused immediately unless they are targeting interests or keywords.', '[m10n]audienceSharing.revokeAccessModal.secondaryText', 'Text that appears in a modal for confirmation of audience access revocation. recipientAccountType: the type of account for which access will be revoked - either "ad account" or "business"'),{recipientAccountType:eL(e,n).toLocaleLowerCase()})},e$=function(e){var t=e.audienceName,n=e.recipientAccountName,r=e.recipientAccountType,s=e.revokerIsAudienceRecipient,o=e.i18n;return s?(0,K.jsx)(g.xv,{children:(0,R.nk)(o._('Audience list {{ audienceName }} has been removed from your account.', '[m10n]audienceSharing.removeReceivedAudience.toast.message', 'Text that appears in a Toast message confirming that audience access removal was successful, audienceName: name of the audience list that was successfully removed from the recipient\'s account'),{audienceName:(0,K.jsx)(g.xv,{inline:!0,weight:"bold",children:t},"getRevokeAccessSuccessToastMessage-recipient-audienceName-".concat(t))})}):(0,K.jsx)(g.xv,{children:(0,R.nk)(o._('Access to {{ audienceName }} has been revoked. {{ recipientAccountTypeText }} {{ recipientAccountName }} will no longer have access.', '[m10n]audienceSharing.revokeAccess.toast.message', 'Text that appears in a Toast message confirming that audience access revocation was successful. audienceName: name of the audience list to which access was successfully revoked, recipientAccountTypeText: the type of account for which access was revoked - either "ad account" or "business", recipientAccountName: the name of the recipient account for which access was revoked'),{audienceName:(0,K.jsx)(g.xv,{inline:!0,weight:"bold",children:t},"getRevokeAccessSuccessToastMessage-nonRecipient-audienceName-".concat(t)),recipientAccountTypeText:eL(r,o),recipientAccountName:(0,K.jsx)(g.xv,{inline:!0,weight:"bold",children:n},"getRevokeAccessSuccessToastMessage-nonRecipient-recipientAccountName-".concat(n))})})}},151910:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(387784),s=n(20256),o=n(27399),a=n(680811);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),e&&l(d,e);var t,n,r=(t=c(),function(){var e,n=u(d);return e=t?Reflect.construct(n,arguments,u(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function d(e){var t;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return(t=r.call(this,e))._isMounted=!1,t.state={options:[],acceptedStateValues:[]},t}return n=[{key:"componentDidMount",value:function(){this._isMounted=!0,this.updateOptions(),this.addAutoCompleteAttribute()}},{key:"componentDidUpdate",value:function(e){e.country!==this.props.country&&this.updateOptions(),this.addAutoCompleteAttribute()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"updateOptions",value:function(){var e=this;o.Z.create("CountriesDivisionsResource",{country_codes:this.props.country}).callGet().then(function(t){if(e._isMounted){var n=[];((t.resource_response.data||{})[e.props.country]||[]).forEach(function(e){var t=e.name,r=e.key;n.push({value:r,label:t})});var r=n.map(function(e){return e.value});e.setState({options:n,acceptedStateValues:r})}})}},{key:"addAutoCompleteAttribute",value:function(){var e=document.getElementById(this.props.id);e&&e instanceof HTMLSelectElement&&this.props.autoComplete&&e.setAttribute("autocomplete",this.props.autoComplete)}},{key:"render",value:function(){var e=this.props.value?this.props.value:void 0;return this.props.shouldCheckForValueMatch&&!this.state.acceptedStateValues.includes(this.props.value||"")&&(e=void 0),(0,a.jsx)(s.EI,{disabled:this.props.disabled,errorMessage:this.props.errorMessage,id:this.props.id,name:this.props.name,onChange:this.props.onChange,placeholder:this.props.placeholder,size:this.props.dropdownListSize||"lg",value:e,children:this.state.options.map(function(e){var t=e.disabled,n=e.label,r=e.value;return(0,a.jsx)(s.EI.Option,{disabled:t,label:n,value:r},n)})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r.key),r)}}(d.prototype,n),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.Component)},131806:function(e,t,n){"use strict";n.d(t,{E:function(){return m},G:function(){return S}});var r=n(540015),s=n(982671),o=n(326023),a=n(696749),i=n(496883);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){var r;return(r=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==l(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){var t;return null!=(t=r.tN[e])?t:0},f=function(e,t){return t===r.JD.JAPAN?e._('Please use only letters, halfwidth numbers, hyphens and spaces.', '[m10n]billing.validationRules.errorMessage', 'Billing form Postal Code and Phone Number field validation error message'):e._('Please use only letters, numbers, hyphens and spaces.', '[m10n]billing.validationRules.errorMessage', 'Billing form Postal Code and Phone Number field validation error message')},m=function(e,t,n){return({country:t._('Please select a country', '[m10n]billing.validationRules.errorMessage', 'Billing form country dropdown field validation error message'),state:t._('Please select a state', '[m10n]billing.validationRules.errorMessage', 'Billing form state dropdown field validation error message'),postal_code:f(t,n),phone_number:f(t,n),required:t._('Required', '[m10n]billing.validationRules.errorMessage', 'Validation error when missing a required value'),email:t._('Not a valid email.', '[m10n]billing.validationRules.errorMessage', 'Error message for an improperly formatted email address'),date:t._('Not a valid date.', '[m10n]billing.validationRules.errorMessage', 'Error message for an invalid date value'),business_address:t._('Invalid business address location', '[m10n]billing.validationRules.errorMessage', 'Error message for a business address that does not exist')})[e]},h=function(e,t){return(0,a.Z)(t._('Please enter no more than {{ maxLength }} characters.', '[m10n]billing.validationRules.errorMessage', 'Validation error message for maximum input length'),{maxLength:e})};function p(e,t){return function(e){s.Sy.includes(e.country)?(n=[(0,i.aH)({message:m("required",t)})],s.I.includes(e.country)||n.push((0,i.Gy)({min:2,max:2,should_trim:!0,minErrorString:m("state",t),maxErrorString:m("state",t)}))):n=[(0,i.Gy)({max:60,should_trim:!0,maxErrorString:h(60,t)})];var n,r=[];return n.forEach(function(t){var n=t(e.state).errors;r=r.concat(n)}),{errors:r}}}function b(e,t){return function(n){var r=e.field,s=n.country,o=n[r],a=[];return o?[(0,i.Gy)({max:20,maxErrorString:h(20,t)}),(0,i.vd)({pattern:/^[A-Za-z0-9\- ]+$/,message:m(r,t,s)})].forEach(function(e){var t=e(o.trim()).errors;a=a.concat(t)}):a=a.concat(t._('Required', '[m10n]billing.validationRules.errorMessage', 'Validation error when missing a required value')),{errors:a}}}function y(e,t){return function(e){var n=[],s=e.country===r.JD.BRAZIL?75:64,o=[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:s,maxErrorString:h(s,t)})];return e.country===r.JD.BRAZIL&&o.push((0,i.vd)({pattern:/^[A-Za-z0-9\-_&çãÇÃ ]+$/,message:t._('Please use only letters, numbers, spaces, hyphens, underscores and ampersands, and avoid using accented characters.', '[m10n]billing.validationRules.businessName.brazil', 'Business Name characters restriction validation for brazilian customers')})),o.forEach(function(t){var r=t(e.name.trim()).errors;n=n.concat(r)}),{errors:n}}}function v(e,t){return function(e){var n=_(e.country);if(o.$p(n))return{errors:[]};var r=o.Bc(n,t),a=e.vat_number||"",l=[t._('Required', '[m10n]billing.validationRules.errorMessage', 'Validation error when missing a required value')];if(r){var c=r.pattern,u=r.message,d=r.validator,f=!!e.vat_number_2,m=(0,i.vd)({pattern:c,message:u})(a);if(m.errors.length>0)return m;if(d&&!d(a))return{errors:u};if(f&&!a)return{errors:l}}return(e.is_reseller_managed&&s.Cf.includes(e.country)||s.CN.includes(e.country))&&!a?{errors:l}:{errors:[]}}}function A(e,t){return function(n){var r=[];if("boolean"!=typeof n){var s=e&&e.message?e.message:t._('Please select a value', '[m10n]billing.validationRules.errorMessage', 'Error message when radio button is not selected');r.push(s)}return{errors:r}}}var g=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=[],a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(s);try{for(a.s();!(t=a.n()).done;){var i=t.value;o=o.concat(i(n).errors)}}catch(e){a.e(e)}finally{a.f()}o.length>0&&(r[e]=o.join(", "))},S=function(e,t,n){for(var a={},l=Object.entries(t),u=0;u<l.length;u++){var f,S=function(e){if(Array.isArray(e))return e}(f=l[u])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(f,2)||c(f,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=S[0],E=S[1],P=function(e,t){var n,a;return(d(a={},s.D0.BUSINESS_INFORMATION,{name:[y({},t)],phone_number:[(0,i.Gy)({max:30,maxErrorString:h(30,t)}),(n={field:"phone_number"},function(e){var r=n.field,s=e.country,o=e[r];return o?(0,i.vd)({pattern:/^$|^[A-Za-z0-9\- ]+$/,message:m(r,t,s)})(o):{errors:[]}})],address_line_1:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:60,maxErrorString:h(60,t)})],address_line_2:[(0,i.Gy)({max:60,maxErrorString:h(60,t)})],city:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:60,maxErrorString:h(60,t)})],postal_code:[b({field:"postal_code"},t)],state:[p({},t)],is_agency:[A({},t)],is_commercial_communication:[A({},t)],represented_advertiser_country:[function(e){var n=[];return e.isAgency&&!e.value&&n.push(t._('Please select a value', '[m10n]billing.validationRules.errorMessage', 'Error message to select represented advertiser country on ad account information form')),{errors:n}}],vat_checkbox:[function(e){var n=o.Bc(_(e.country),t),s=e.country===r.JD.CHILE,a=e.country===r.JD.COLOMBIA,i=[];if(n&&!s){var l=n.checkboxRules,c=0===l.length||l.some(function(t){return t.boxChecked===e.boxChecked&&t.vatProvided===e.vatProvided&&(!("exemptNumProvided"in t)||t.exemptNumProvided===e.exemptNumProvided)}),u=!0;if(e.country===r.JD.CANADA&&e.state===o.w8){var d=o.Bc(_(e.country),t,o.w8);if(d){var f=d.checkboxRules;u=0===f.length||f.some(function(t){return t.boxChecked===e.boxChecked&&t.vatProvided===e.vat2Provided})}}c&&u||a||(e.boxChecked?i.push(t._('Box must be unchecked or tax information must be provided.', '[m10n]billing.validationRules.errorMessage', 'Error message for unchecked box on tax agreement')):i.push(t._('Box must be checked.', '[m10n]billing.validationRules.errorMessage', 'Error message for checked box on tax agreement'))),a&&e.boxChecked&&(e.tax_registry_form_id||i.push(t._('If you check this box you must upload a copy of the unique tax registry form (RUT)', '[m10n]billing.validationRules.errorMessage', 'Error message when radio button is not selected')))}return{errors:i}}],extra_checkbox:[function(e){var n=o.Bc(_(e.country),t,e.state),r=[];if(n){var s=n.extraCheckboxRules;!e.vatProvided||!s||0===s.length||s.map(function(t){return t.boxChecked===e.boxChecked&&t.vatProvided===e.vatProvided&&(!("exemptNumProvided"in t)||t.exemptNumProvided===e.exemptNumProvided)})||(e.boxChecked?r.push(t._('Box must be unchecked or tax information must be provided.', '[m10n]billing.validationRules.errorMessage', 'Error message for unchecked box on tax agreement')):r.push(t._('Box must be checked.', '[m10n]billing.validationRules.errorMessage', 'Error message for checked box on tax agreement')))}return{errors:r}}],vat_number:[v({},t)],vat_number_2:[function(e){var n=o.Bc(_(e.country),t,e.state),s=e.country===r.JD.CANADA&&e.state===o.w8;if(n&&s){var a=n.pattern,l=n.message,c=!!e.vat_number,u=e.vat_number_2||"",d=(0,i.vd)({pattern:a,message:l})(u);if(d.errors.length>0)return d;var f=[t._('Required', '[m10n]billing.validationRules.errorMessage', 'Validation error when missing a required value')];if(c&&!u)return{errors:f}}return{errors:[]}}],vat_exempt_number:[(0,i.Gy)({max:25,maxErrorString:h(25,t)})],mandate_certification:[function(e){var t=[];return e.isFrenchOrMexicoAdvertiser&&!e.boxChecked&&t.push("Invalid state"),{errors:t}}],hasAcceptedTos:[(0,i.aH)({message:m("required",t)})],date_of_birth:[function(e){var n=[];if(e.country===r.JD.BRAZIL){var s=e.tax_id_cnpj||e.tax_id_cpf||"";o._r(s)&&[(0,i.aH)({message:m("required",t)}),(0,i.J_)({message:m("date",t)})].forEach(function(t){var r=t(e.date_of_birth).errors;n=n.concat(r)})}return{errors:n}}],street_number:[function(e){var n=[],s=[];return e.country===r.JD.BRAZIL&&(n.push((0,i.aH)({message:m("required",t)})),n.push((0,i.Gy)({max:10,should_trim:!0,maxErrorString:h(10,t)})),n.forEach(function(t){var n=t(e.street_number||"").errors;s=s.concat(n)})),{errors:s}}],neighborhood:[function(e){var n=[],s=[];return e.country===r.JD.BRAZIL&&(n.push((0,i.aH)({message:m("required",t)})),n.push((0,i.Gy)({max:30,should_trim:!0,maxErrorString:h(30,t)})),n.forEach(function(t){var n=t(e.neighborhood||"").errors;s=s.concat(n)})),{errors:s}}],vat_registered:[],withholding_agent:[]}),d(a,s.D0.LOI_SAPIN_INFORMATION,{business_name:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:120,maxErrorString:h(120,t)})],web:[(0,i.Gy)({max:240,maxErrorString:h(240,t)})],full_name:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:120,maxErrorString:h(120,t)})],email:[(0,i.GT)({message:m("email",t)}),(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:255,maxErrorString:h(255,t)})],address_1:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:60,maxErrorString:h(60,t)})],address_2:[(0,i.Gy)({max:60,maxErrorString:h(60,t)})],city:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:60,maxErrorString:h(60,t)})],state:[(0,i.Gy)({max:60,maxErrorString:h(60,t)})],postal_code:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:20,maxErrorString:h(20,t)}),(0,i.vd)({pattern:/^$|^[A-Za-z0-9\- ]+$/,message:m("postalCode",t)})],phone:[(0,i.Gy)({max:30,maxErrorString:h(30,t)})],vat_number:[v("FR",t)]}),d(a,s.D0.BILLING_INFORMATION,{billingFirstName:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:60,should_trim:!0,maxErrorString:h(60,t)})],billingLastName:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:60,should_trim:!0,maxErrorString:h(60,t)})],billingCompanyName:[(0,i.Gy)({max:120,should_trim:!0,maxErrorString:h(120,t)})],billingEmail:[(0,i.GT)({message:m("email",t)}),(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:128,should_trim:!0,maxErrorString:h(128,t)})],billingPhoneNumber:[(0,i.Gy)({max:30,should_trim:!0,maxErrorString:h(30,t)})],billingAddress1:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:50,should_trim:!0,maxErrorString:h(50,t)})],billingAddress2:[(0,i.Gy)({max:50,should_trim:!0,maxErrorString:h(50,t)})],billingCity:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:50,should_trim:!0,maxErrorString:h(50,t)})],billingState:[p({},t)],billingPostalCode:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:20,should_trim:!0,maxErrorString:h(20,t)}),(0,i.vd)({pattern:/^$|^[A-Za-z0-9\- ]+$/,message:m("postalCode",t)})],billingCountry:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({min:2,max:2,should_trim:!0,minErrorString:m("country",t),maxErrorString:m("country",t)})],prepayment:[function(e){var n=[];return e.paymentMethodType===s.Yz&&e.country!==r.JD.BRAZIL&&n.push(t._('pix is only supported in Brazil', '[m10n]billing.validationRules.errorMessage', 'Validation error when ')),e.paymentMethodType!==s.Yz||e.isPrepaymentSelected||n.push(t._('Prepaid billing has to be selected when pix is chosen', '[m10n]billing.validationRules.errorMessage', 'Validation error when users choose pix but do not select prepayment')),{errors:n}}]}),d(a,s.D0.BILLING_INFORMATION_SHORT,{billingFirstName:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:60,should_trim:!0,maxErrorString:h(60,t)})],billingLastName:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:60,should_trim:!0,maxErrorString:h(60,t)})],billingPostalCode:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:20,should_trim:!0,maxErrorString:h(20,t)}),(0,i.vd)({pattern:/^$|^[A-Za-z0-9\- ]+$/,message:m("postalCode",t)})],billingEmail:[(0,i.GT)({message:m("email",t)}),(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:128,should_trim:!0,maxErrorString:h(128,t)})]}),d(a,s.D0.BUSINESS_INFORMATION_RESELLER_MANAGED,{name:[y({},t)],address_line_1:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:60,maxErrorString:h(60,t)})],address_line_2:[(0,i.Gy)({max:60,maxErrorString:h(60,t)})],address_line_3:[(0,i.Gy)({max:60,maxErrorString:h(60,t)})],address_line_4:[(0,i.Gy)({max:60,maxErrorString:h(60,t)})],city:[(0,i.aH)({message:m("required",t)}),(0,i.Gy)({max:60,maxErrorString:h(60,t)})],country:[(0,i.aH)({message:m("required",t)})],postal_code:[b({field:"postal_code"},t)],state:[p({},t)],is_commercial_communication:[A({},t)],vat_number:[v({},t)],hasAcceptedTos:[(0,i.aH)({message:m("required",t)})]}),a)[e]}(e,n)[x];P&&g(x,E,a,P)}return{isValid:!(Object.keys(a).map(function(e){return a[e]}).length>0),errorObject:a}}},711089:function(e,t,n){"use strict";n.d(t,{f:function(){return f}});var r,s=n(387784),o=n(681698),a=n(501010),i=n(774838),l=n(918985);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){u(o,r,s,a,i,"next",e)}function i(e){u(o,r,s,a,i,"throw",e)}a(void 0)})}}var _="ADVERTISER",f=(r=d(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Z)({method:"GET",url:"/ads/v4/preferences/".concat(t,"/"),data:{level:_,key:"CAMPAIGN_TOOL_PREFERENCE"}});case 3:var r;n=(r=e.sent.resource_response.data)&&r[_]&&r[_][0]&&r[_][0].preferences,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:return e.abrupt("return",n&&(0,l.T)(n)?n:null);case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return r.apply(this,arguments)});t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,s.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],r=t[1],o=(0,a.Z)(),l=(0,i.B)().advertiser;return(0,s.useEffect)(function(){var e;(e=d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=5;break}return e.next=3,f(l.id);case 3:r(e.sent);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[l,o]),n}},49830:function(e,t,n){"use strict";n.d(t,{Eg:function(){return v},FC:function(){return S},JT:function(){return b},RL:function(){return y},_7:function(){return A},_E:function(){return g},mi:function(){return x},wJ:function(){return m}});var r=n(805674),s=n(360033),o=n(319528),a=n(856853);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["idx"];function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f={campaign:"CAMPAIGN",adgroup:"AD_GROUP",pinpromotion:"PIN_PROMOTION",productGroup:"PRODUCT_GROUP"},m={id:"ID",spend:"SPEND_IN_DOLLAR",impressions:"TOTAL_IMPRESSION",reach:"TOTAL_IMPRESSION_USER",cpm:"CPM_IN_DOLLAR",paidImpressions:"IMPRESSION_1",frequency:"TOTAL_IMPRESSION_FREQUENCY",lifetimeBudget:"CAMPAIGN_LIFETIME_SPEND_CAP",pinClicks:"TOTAL_CLICKTHROUGH",paidPinClicks:"CLICKTHROUGH_1",cpc:"ECPC_IN_DOLLAR",engagements:"TOTAL_ENGAGEMENT",conversions:"TOTAL_CONVERSIONS",ctr:"ECTR",paidCtr:"CTR",outboundClicks:"TOTAL_OUTBOUND_CLICK",paidOutboundClicks:"OUTBOUND_CLICK_1",cpoc:"COST_PER_OUTBOUND_CLICK_IN_DOLLAR",saves:"TOTAL_REPIN",videoViews:"TOTAL_VIDEO_MRC_VIEWS",paidVideoViews:"VIDEO_MRC_VIEWS_1",threeSVideoViews:"TOTAL_VIDEO_3SEC_VIEWS",totalVideoPlayedAt100:"TOTAL_VIDEO_P100_COMPLETE",paidVideoPlayedAt100:"VIDEO_P100_COMPLETE_1",totalConversionsCheckout:"TOTAL_CHECKOUT",totalOrderValueCheckout:"TOTAL_CHECKOUT_VALUE_IN_MICRO_DOLLAR",totalRoasCheckout:"CHECKOUT_ROAS",totalConversionsPageVisit:"TOTAL_PAGE_VISIT",totalConversionsSignup:"TOTAL_SIGNUP",totalConversionsAddToCart:"TOTAL_ADD_TO_CART",totalConversionsLead:"TOTAL_LEAD",totalConversionsUnknown:"TOTAL_UNKNOWN",totalConversionsCustom:"TOTAL_CUSTOM",totalConversionsCategoryView:"TOTAL_VIEW_CATEGORY",totalConversionsWebsiteSearch:"TOTAL_SEARCH",totalConversionsWatchVideo:"TOTAL_WATCH_VIDEO",totalConversionsAddPaymentInfo:"TOTAL_ADD_PAYMENT_INFO",totalConversionsAddToWishlist:"TOTAL_ADD_TO_WISHLIST",totalConversionsInitiateCheckout:"TOTAL_INITIATE_CHECKOUT",totalConversionsSubscribe:"TOTAL_SUBSCRIBE",totalConversionsViewContent:"TOTAL_VIEW_CONTENT"},h=function(e,t){var n=m[t];if("spend"===t||"impressions"===t)return n;var r=f[e];return"".concat(r,"_").concat(n)},p=Object.freeze({IN:"in",GREATER_THAN:">",LESS_THAN:"<",EQUALS:"=",FUZZY_MATCH:"~"}),b=Object.freeze({equals:p.IN,greater:p.GREATER_THAN,less:p.LESS_THAN}),y=function(e){return Object.keys(m).includes(e.meta.column)&&Object.values(m).includes(e.field)&&Object.keys(f).includes(e.meta.entityType)&&Object.keys(b).includes(e.meta.comparator)&&Object.values(b).includes(e.operator)},v=function(e){var t=e.entityType,n=e.column,r=e.comparator,s=e.value;return{field:h(t,n),operator:b[r],value:[].concat(s),meta:{entityType:t,comparator:r,column:n}}},A=function(e,t){var n=t.idx,r=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(t,l),s=Array.from(e);return s[n]=v(r),s},g=function(e,t){return e.filter(function(e,n){return t!==n})},S=function(e,t){return e.find(function(e){return(0,s.ZP)(e,t)})?e:e.concat(t)},x=(0,r.compose)(function(e){return Object.values(e).reduce(function(e,t){return e.concat((0,a.Z)(t)?t:t.reduce(function(e,t){return _(_({},e),{},{value:Array.from(new Set([].concat(c(e.value),c(t.value))))})}))},[])},function(e){return(0,o.Z)(e,function(e){return"".concat(e.field,"_").concat(e.operator,"_").concat(e.meta.entityType)})})},339989:function(e,t,n){"use strict";n.d(t,{Ab:function(){return y},JV:function(){return C},Lt:function(){return v},PO:function(){return O},SZ:function(){return E},TB:function(){return x},iq:function(){return b},mb:function(){return T},xF:function(){return j},yZ:function(){return I}});var r,s,o,a=n(210940),i=n(176612),l=n(49830);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t,n){var r;return(r=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==c(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||h(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return p(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=Object.freeze({CAMPAIGN:"campaign",AD_GROUP:"adgroup",PIN_PROMOTION:"pinpromotion"}),y=Object.freeze({SPEND_IN_DOLLAR:"SPEND_IN_DOLLAR",TOTAL_IMPRESSION:"TOTAL_IMPRESSION",TOTAL_IMPRESSION_USER:"TOTAL_IMPRESSION_USER",CPM_IN_DOLLAR:"CPM_IN_DOLLAR",IMPRESSION_1:"IMPRESSION_1",TOTAL_IMPRESSION_FREQUENCY:"TOTAL_IMPRESSION_FREQUENCY",CAMPAIGN_LIFETIME_SPEND_CAP:"CAMPAIGN_LIFETIME_SPEND_CAP",TOTAL_CLICKTHROUGH:"TOTAL_CLICKTHROUGH",CLICKTHROUGH_1:"CLICKTHROUGH_1",ECPC_IN_DOLLAR:"ECPC_IN_DOLLAR",TOTAL_ENGAGEMENT:"TOTAL_ENGAGEMENT",ENGAGEMENT_1:"ENGAGEMENT_1",EENGAGEMENT_RATE:"EENGAGEMENT_RATE",TOTAL_CONVERSIONS:"TOTAL_CONVERSIONS",ECTR:"ECTR",CTR:"CTR",TOTAL_OUTBOUND_CLICK:"TOTAL_OUTBOUND_CLICK",OUTBOUND_CLICK_1:"OUTBOUND_CLICK_1",COST_PER_OUTBOUND_CLICK_IN_DOLLAR:"COST_PER_OUTBOUND_CLICK_IN_DOLLAR",TOTAL_REPIN:"TOTAL_REPIN",TOTAL_VIDEO_MRC_VIEWS:"TOTAL_VIDEO_MRC_VIEWS",VIDEO_MRC_VIEWS_1:"VIDEO_MRC_VIEWS_1",TOTAL_VIDEO_3SEC_VIEWS:"TOTAL_VIDEO_3SEC_VIEWS",TOTAL_VIDEO_P100_COMPLETE:"TOTAL_VIDEO_P100_COMPLETE",VIDEO_P100_COMPLETE_1:"VIDEO_P100_COMPLETE_1",TOTAL_CHECKOUT:"TOTAL_CHECKOUT",TOTAL_CHECKOUT_VALUE_IN_MICRO_DOLLAR:"TOTAL_CHECKOUT_VALUE_IN_MICRO_DOLLAR",CHECKOUT_ROAS:"CHECKOUT_ROAS",TOTAL_PAGE_VISIT:"TOTAL_PAGE_VISIT",TOTAL_SIGNUP:"TOTAL_SIGNUP",TOTAL_ADD_TO_CART:"TOTAL_ADD_TO_CART",TOTAL_LEAD:"TOTAL_LEAD",TOTAL_UNKNOWN:"TOTAL_UNKNOWN",TOTAL_CUSTOM:"TOTAL_CUSTOM",TOTAL_VIEW_CATEGORY:"TOTAL_VIEW_CATEGORY",TOTAL_SEARCH:"TOTAL_SEARCH",TOTAL_WATCH_VIDEO:"TOTAL_WATCH_VIDEO",TOTAL_ADD_PAYMENT_INFO:"TOTAL_ADD_PAYMENT_INFO",TOTAL_ADD_TO_WISHLIST:"TOTAL_ADD_TO_WISHLIST",TOTAL_INITIATE_CHECKOUT:"TOTAL_INITIATE_CHECKOUT",TOTAL_SUBSCRIBE:"TOTAL_SUBSCRIBE",TOTAL_VIEW_CONTENT:"TOTAL_VIEW_CONTENT"});function v(e,t){var n;return null==(n=Object.entries(e).find(function(e){var n=m(e,2);return n[0],n[1]===t}))?void 0:n[0]}var A=(f(r={},b.CAMPAIGN,"c"),f(r,b.AD_GROUP,"a"),f(r,b.PIN_PROMOTION,"pp"),r),g=(f(s={},i.Wy[">"],"g"),f(s,i.Wy["<"],"l"),s),S=(f(o={},y.SPEND_IN_DOLLAR,"sp"),f(o,y.TOTAL_IMPRESSION,"im"),f(o,y.TOTAL_IMPRESSION_USER,"iu"),f(o,y.CPM_IN_DOLLAR,"cpm"),f(o,y.IMPRESSION_1,"pi"),f(o,y.TOTAL_IMPRESSION_FREQUENCY,"if"),f(o,y.CAMPAIGN_LIFETIME_SPEND_CAP,"clsc"),f(o,y.TOTAL_CLICKTHROUGH,"ct"),f(o,y.CLICKTHROUGH_1,"ct1"),f(o,y.ECPC_IN_DOLLAR,"ecpc"),f(o,y.TOTAL_ENGAGEMENT,"te"),f(o,y.ENGAGEMENT_1,"e1"),f(o,y.EENGAGEMENT_RATE,"er"),f(o,y.TOTAL_CONVERSIONS,"tc"),f(o,y.ECTR,"ectr"),f(o,y.CTR,"ctr"),f(o,y.TOTAL_OUTBOUND_CLICK,"oc"),f(o,y.OUTBOUND_CLICK_1,"oc1"),f(o,y.COST_PER_OUTBOUND_CLICK_IN_DOLLAR,"cpoc"),f(o,y.TOTAL_REPIN,"tr"),f(o,y.TOTAL_VIDEO_MRC_VIEWS,"vmv"),f(o,y.VIDEO_MRC_VIEWS_1,"vmv1"),f(o,y.TOTAL_VIDEO_3SEC_VIEWS,"v3v"),f(o,y.TOTAL_VIDEO_P100_COMPLETE,"vp100"),f(o,y.VIDEO_P100_COMPLETE_1,"vp1001"),f(o,y.TOTAL_CHECKOUT,"chk"),f(o,y.TOTAL_CHECKOUT_VALUE_IN_MICRO_DOLLAR,"chkval"),f(o,y.CHECKOUT_ROAS,"croas"),f(o,y.TOTAL_PAGE_VISIT,"pv"),f(o,y.TOTAL_SIGNUP,"su"),f(o,y.TOTAL_ADD_TO_CART,"atc"),f(o,y.TOTAL_LEAD,"lead"),f(o,y.TOTAL_UNKNOWN,"unk"),f(o,y.TOTAL_CUSTOM,"cust"),f(o,y.TOTAL_VIEW_CATEGORY,"vc"),f(o,y.TOTAL_SEARCH,"search"),f(o,y.TOTAL_WATCH_VIDEO,"wv"),f(o,y.TOTAL_ADD_PAYMENT_INFO,"api"),f(o,y.TOTAL_ADD_TO_WISHLIST,"atw"),f(o,y.TOTAL_INITIATE_CHECKOUT,"ic"),f(o,y.TOTAL_SUBSCRIBE,"sub"),f(o,y.TOTAL_VIEW_CONTENT,"vcnt"),o);function x(e,t,n){if(e.length!==t.length)return!1;var r=_(e).sort(function(e,t){return e.field.localeCompare(t.field)}),s=_(t).sort(function(e,t){return e.field.localeCompare(t.field)});return r.every(function(e,t){var r=s[t];return e.entityType===r.entityType&&e.field===r.field&&e.operator===r.operator&&(0,a.qq)(e.value[0],n)===(0,a.qq)(r.value[0],n)})}function E(e){var t=d({},e);return t.meta.column=v(l.wJ,e.meta.column)||e.meta.column,t}var P=["spend","SPEND_IN_DOLLAR","CPM_IN_DOLLAR","ECPC_IN_DOLLAR","COST_PER_OUTBOUND_CLICK_IN_DOLLAR","TOTAL_CHECKOUT_VALUE_IN_MICRO_DOLLAR","COST_PER_OUTBOUND_CLICK_IN_DOLLAR","ECTR","CTR","CAMPAIGN_LIFETIME_SPEND_CAP"],I=function(e,t,n,r){return""===r?"":P.includes(String(n))?e(t,Number(r),{maximum_fraction_digits:2,minimum_fraction_digits:2}):e(t,Number(r))},T=function(e){var t=e.map(function(e){return[A[e.entityType],g[e.operator],S[e.field],e.value]});return e.length?JSON.stringify(t):"none"},C=function(e){var t=unescape(e);if("none"!==t&&Array.isArray(JSON.parse(t))){var n=[];return JSON.parse(t).forEach(function(e){var t=m(e,4),r=t[0],s=t[1],o=t[2],a=t[3],i=v(A,r),l=v(g,s),c=a.join(","),u=v(S,o);i&&l&&u&&!["NaN","undefined","null"].includes(c)&&n.push({entityType:i,operator:l,field:u,value:a})}),n}return[]},O=function(e,t){var n,r,s,o,i,l;return{hasInvalidValue:e.some(function(e){var n,r,s=e.value[0];return s&&(n=s,r=t,""===n||!!(!(/^(?:\d{1,3}(?:,\d{3})*|\d+)(?:\.\d+)?$/.test(n)||/^(?:\d{1,3}(?:\.\d{3})*|\d+)(?:,\d+)?$/.test(n))||Number.isNaN((0,a.qq)(n,r))))||""===s}),hasNegativeValue:e.some(function(e){var n=e.value[0];return n&&0>(0,a.qq)(n,t)}),hasInvalidRange:!!(2===e.length&&(null==(n=e[0])?void 0:n.field)===(null==(r=e[1])?void 0:r.field)&&(null==(s=e[0])?void 0:s.operator)==="GREATER_THAN"&&(null==(o=e[1])?void 0:o.operator)==="LESS_THAN"&&(null==(i=e[0])?void 0:i.value[0])&&(null==(l=e[1])?void 0:l.value[0])&&(0,a.qq)(e[0].value[0],t)>=(0,a.qq)(e[1].value[0],t)),hasIncompleteDataFilter:e.some(function(e){var t=e.value[0];return!t||""===t})}},j=function(e,t){return e.map(function(e){return"STERLING_SET_DATA_FILTERS"===e.type?d(d({},e),{},{payload:e.payload.map(function(e){return d(d({},e),{},{value:e.value.map(function(e){return(0,a.qq)(e,t).toString()})})})}):e})}},232971:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(680811);function s(e){var t=e.children;return(0,r.jsx)("tbody",{children:t})}},993339:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(680811);function s(e){var t=e.children;return(0,r.jsx)("thead",{children:t})}},180884:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(680811);function s(e){var t=e.children;return(0,r.jsx)("tr",{children:t})}},373134:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(387784),s=n(20256),o=n(104999),a=n(24246),i=n(625531),l=n(365395),c=n(680811);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var b=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&d(o,e);var t,n,r=(t=f(),function(){var e,n=m(o);return e=t?Reflect.construct(n,arguments,m(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return h(_(e=r.call.apply(r,[this].concat(n))),"state",{isToolTipOpen:!1}),h(_(e),"onTooltipButtonClick",function(){e.updateTooltipState(!e.state.isToolTipOpen)}),h(_(e),"onDismiss",function(){e.updateTooltipState(!1)}),h(_(e),"updateTooltipState",function(t){e.setState({isToolTipOpen:t})}),e}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.accessibilityLabel,r=t.bgColor,o=t.children,a=t.icon,i=t.idealDirection,l=t.size;return(0,c.jsxs)(s.xu,{children:[(0,c.jsx)(s.xu,{ref:function(t){e.tooltipButton=t},children:(0,c.jsx)(s.hU,{accessibilityLabel:n,bgColor:r,icon:a,iconColor:!r||["white","lightGray","transparent"].includes(r)?"gray":void 0,onClick:this.onTooltipButtonClick,size:l})}),this.state.isToolTipOpen&&(0,c.jsx)(s.J2,{anchor:this.tooltipButton,color:"darkGray",idealDirection:i,onDismiss:this.onDismiss,shouldFocus:!1,size:"md",children:(0,c.jsx)(s.xu,{column:12,padding:3,children:o})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.PureComponent);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||g(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return S(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t,n=e.id,o=e.text,u=e.textSize,d=e.onChange,_=e.checked,f=e.disabled,m=e.indeterminate,h=e.size,p=e.toolTip,y=e.tooltipTitle,v=e.exclusiveSelection,g=e.onChangeWithExclusiveSelection,S=e.tooltipType,x=e.tooltipOnHover,E=e.tooltipAligned,P=e.tooltipZIndex,I=e.highlightRowOnHover,T=e.maintainSpacingWithHover,C=void 0!==T&&T,O=(0,a.Z)(),j=A((0,r.useState)(!1),2),z=j[0],w=j[1],N=(0,r.useRef)(null),R=A((0,r.useState)(null),2),D=R[0],k=R[1],L=A((0,r.useState)(!1),2),U=L[0],B=L[1],M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];D&&k(clearTimeout(D)),B(e)},H=null;y&&"icon"===S?H=(0,c.jsx)(s.xu,{marginEnd:1,children:(0,c.jsxs)(i.Z,{accessibilityLabel:O._('Tooltip for checkbox', '[m10n] Tooltip', '[m10n] Help icon for checkbox list'),children:[(0,c.jsx)(s.xv,{color:"inverse",size:"100",weight:"bold",children:y}),p&&(0,c.jsx)(s.xv,{color:"inverse",size:"100",children:p})]})}):p&&(H="icon"===S?(0,c.jsx)(s.xu,{marginEnd:2,children:(0,c.jsx)(l.Z,{accessibilityLabel:O._('Tooltip for checkbox', '[m10n] Tooltip', '[m10n] Help icon for checkbox list'),icon:"info-circle",text:p,tooltipZIndex:P})}):"row"===S?U?(0,c.jsx)(s.mh,{children:(0,c.jsx)(s.J2,{anchor:N.current,color:"darkGray",idealDirection:"left",onDismiss:function(){},positionRelativeToAnchor:!1,role:"dialog",shouldFocus:!1,size:"sm",children:(0,c.jsx)(s.xu,{column:12,padding:3,children:(0,c.jsx)(s.xv,{color:"inverse",size:"100",children:p})})})}):null:(0,c.jsx)(b,{children:(0,c.jsx)(s.xv,{color:"inverse",children:p})}));var Z=(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(s.XZ,{checked:_,disabled:f,id:n,indeterminate:m,onChange:d,size:h}),(0,c.jsx)(s.__,{htmlFor:n,children:(0,c.jsx)(s.xu,{paddingX:2,children:(0,c.jsx)(s.xv,{size:void 0===u?"300":u,children:o})})})]});return I&&(t=z?"secondary":"transparent"),(0,c.jsxs)(s.xu,{ref:N,alignItems:"center",color:t,"data-test-id":n,direction:"row",display:"flex",margin:I&&C?0:2,onMouseEnter:function(){w(!0),"row"===S&&(M(),k(setTimeout(function(){M(!0)},500)))},onMouseLeave:function(){w(!1),"row"===S&&M()},padding:I&&C?1:0,paddingY:I&&!C?2:0,children:[H&&E?(0,c.jsx)(s.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:Z}):Z,(!x||z)&&H,v&&z&&(0,c.jsx)(s.kC,{alignItems:"stretch",flex:"shrink",justifyContent:"start",children:(0,c.jsx)(s.iP,{onTap:function(){g({checked:!0,exclusive:!0})},children:(0,c.jsx)(s.xu,{paddingX:1,children:(0,c.jsx)(s.xv,{weight:"bold",children:O._('only', '[m10n] link for selecting a sinlge item in a checkbox list exclusively', '[m10n] link for selecting a sinlge item in a checkbox list exclusively')})})})})]})}function E(e){var t=e.enableLogging,n=void 0===t||t,r=e.name,i=e.componentType,l=e.elementType,u=e.onChange,d=e.view,_=e.viewParameter,f=e.exclusiveSelection,m=void 0!==f&&f,h=e.options,p=e.checkboxSize,b=void 0===p?"sm":p,A=e.textSize,E=void 0===A?"300":A,P=e.enableAllCheckbox,I=e.id,T=e.direction,C=e.sublevel,O=e.tooltipType,j=void 0===O?"button":O,z=e.tooltipOnHover,w=void 0!==z&&z,N=e.tooltipAligned,R=void 0!==N&&N,D=e.tooltipZIndex,k=e.highlightRowOnHover,L=void 0!==k&&k,U=e.maintainSpacingWithHover,B=void 0!==U&&U,M=(0,o.Z)(),H=(0,a.Z)(),Z=function(e,t,s){n&&M({event_type:101,view_type:d,view_parameter:_,component:i||null,element:l||m&&s&&11515||10214,aux_data:{element_name:r,is_checked:e,value:t}});var o=h.filter(function(e){return!e.disabled}).map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)});"all"===t?o.forEach(function(t){return t.checked=e}):o.forEach(function(n){n.value===t&&(n.checked=e)}),u({name:r,checked:e,value:t,sublevel:C,allCheckedValues:o.filter(function(e){return e.checked}).map(function(e){return e.value}),exclusive:s})},G=null;if(P){var F=h.filter(function(e){return!e.disabled}),Y=F.filter(function(e){return e.checked}).length,V=!1,q=!1,Q=!1;F.length>0&&Y===F.length?V=!0:Y>0?(q=!0,V=!0):0===F.length&&(Q=!0),G={label:H._('All', ' - ', ' -- '),value:"all",checked:V,indeterminate:q,disabled:Q}}return(0,c.jsx)(s.xu,{"data-test-id":"".concat(void 0===I?"":I),display:"row"===(void 0===T?"column":T)?"flex":"block",padding:L&&B?1:0,children:[G].concat(function(e){if(Array.isArray(e))return S(e)}(h)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(h)||g(h)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(Boolean).map(function(e){return(0,c.jsx)(x,{checked:e.checked,disabled:e.disabled,exclusiveSelection:!["all","ALL"].includes(e.value)&&m,highlightRowOnHover:L,id:r+":"+e.value,indeterminate:e.indeterminate,maintainSpacingWithHover:B,name:r,onChange:function(t){Z(t.checked,e.value)},onChangeWithExclusiveSelection:function(t){var n=t.checked,r=t.exclusive;Z(n,e.value,r)},size:b,text:e.label,textSize:E,toolTip:e.tooltip,tooltipAligned:R,tooltipOnHover:w,tooltipTitle:e.tooltipTitle,tooltipType:j,tooltipZIndex:D,value:e.value},r+":"+e.value)})})}h(b,"defaultProps",{idealDirection:"up",accessibilityLabel:"get more information",icon:"question-mark",size:"xs",bgColor:"lightGray"})},967284:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(20256),s=n(104999),o=n(680811);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e){var t=e.componentType,n=void 0===t?null:t,a=e.elementType,i=e.onChange,c=e.view,u=e.viewParameter,d=e.id,_=e.checked,f=e.disabled,m=e.indeterminate,h=e.name,p=e.onClick,b=e.size,y=e.label,v=e.helperText,A=e.errorMessage,g=(0,s.Z)();return(0,o.jsx)("span",l(l({},{"data-test-id":d,"data-component":"checkbox"}),{},{children:(0,o.jsx)(r.XZ,{checked:_,disabled:f,errorMessage:A,helperText:v,id:d,indeterminate:m,label:y,name:h,onChange:function(e){var t={value:e.checked};d&&(t=l(l({},t),{},{element_id:d})),h&&(t=l(l({},t),{},{element_name:h})),g({event_type:7472,view_type:c,view_parameter:u,component:n||null,element:a||10214,aux_data:l({},t)}),i(e)},onClick:p,size:b})}))}},100286:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(20256),s=n(680811);function o(e){var t=e.children,n=e.position,o=void 0===n?"left":n,a=e.width;return(0,s.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:["right"===o?(0,s.jsx)(r.iz,{}):null,(0,s.jsx)(r.xu,{flex:"none",padding:4,width:void 0===a?320:a,children:t}),"left"===o?(0,s.jsx)(r.iz,{}):null]})}},47348:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(387784),s=n(360033),o=n(893957),a=n(383702);function i(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function l(){var e;return e=regeneratorRuntime.mark(function e(){var t,n,r,s,o,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:"",n=i.length>1?i[1]:void 0,r=i.length>2?i[2]:void 0,s=i.length>3&&void 0!==i[3]?i[3]:new a.ZP,o=null,e.t0=r,e.next="postJSON"===e.t0?8:"post"===e.t0?12:"put"===e.t0?16:20;break;case 8:return e.next=10,s.postJSON(t,n||{},!0);case 10:case 14:case 18:return o=e.sent,e.abrupt("break",23);case 12:return e.next=14,s.post(t,n||{},!0);case 16:return e.next=18,s.put(t,n||{},!0);case 20:return e.next=22,s.get(t,n||{},!0);case 22:o=e.sent;case 23:return e.abrupt("return",o);case 24:case"end":return e.stop()}},e)}),(l=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){i(o,r,s,a,l,"next",e)}function l(e){i(o,r,s,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){f(o,r,s,a,i,"next",e)}function i(e){f(o,r,s,a,i,"throw",e)}a(void 0)})}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||p(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return b(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.method,n=e.onError,a=e.params,i=e.url,c=h((0,r.useState)(null),2),d=c[0],f=c[1],p=h((0,r.useState)(!1),2),b=p[0],y=p[1],v=h((0,r.useState)(!1),2),A=v[0],g=v[1],S=h((0,r.useState)(null),2),x=S[0],E=S[1],P=h((0,r.useState)(null),2),I=P[0],T=P[1],C=h((0,r.useState)(null),2),O=C[0],j=C[1],z=h((0,r.useState)(null),2),w=z[0],N=z[1],R=(0,r.useRef)(0),D=(0,r.useCallback)(function(){try{x&&"function"==typeof n&&n({error:x,url:i,params:a})}catch(e){}},[x,n,a,i]),k=(0,r.useCallback)(m(regeneratorRuntime.mark(function e(){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!1),E(null),f(null),i){e.next=6;break}return y(!1),e.abrupt("return");case 6:return R.current+=1,n=R.current,y(!0),e.prev=9,r=a&&I?_(_({},a),{},{bookmark:I}):null!=a?a:null,e.next=13,function(){return l.apply(this,arguments)}(i,null!=r?r:null,t);case 13:if(o=e.sent,!(n<R.current)){e.next=16;break}return e.abrupt("return");case 16:f(d&&Array.isArray(d)&&i===O&&(0,s.ZP)(a,w)?[].concat(u(d||[]),u(o.data||[])):o.data),T(o.bookmark),y(!1),g(!0),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(9),E(e.t0),y(!1),g(!0);case 28:j(i),N(a);case 30:case"end":return e.stop()}},e,null,[[9,23]])})),[I,d,t,a,i,w,O]),L=(0,r.useCallback)(m(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=5;break}return E(null),y(!1),g(!0),e.abrupt("return");case 5:return e.next=7,k();case 7:case"end":return e.stop()}},e)})),[I,k]),U=(0,r.useCallback)(function(){return T(null)},[]);return(0,o.Z)(function(){k()}),(0,r.useEffect)(function(){D()},[x,D]),{data:d,dataReady:A,error:x,loadData:k,loading:b,loadMoreData:L,bookmark:I,resetBookmark:U}}},435136:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(310348),s=n(247387),o=n(925201),a={analyticsRoot:function(){return"/"},overview:function(){return"/overview/"},audience_insights:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom",n="/audience-insights/";if(e.audienceId){var s=(0,r.dk)(t,e.audienceId);return(0,o.Z)(n,{audience_1:s})}return n}};function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!a[e])throw Error("unknown url key: ".concat(e));var r=a[e](t,n),i=t.advertiserId||t.advertiserIdFromStore||null,l=!!t.absolutify;return"string"==typeof i&&(r=(0,o.Z)(r,{advertiserId:i})),l&&(r=s._Ow+r),r}},762720:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(387784),s=n(581722),o=n(653551),a=n(501010),i=n(907049),l=n(900946),c=n(629724),u=n(893957),d=n(82905);function _(e){return{type:"STERLING_SET_QUERY_STRING_BIND_READY",ready:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e){var t={},n=null,f=null;function h(n,r,s){var o=n.getState(),a=s.location,u={};if(Object.keys(t).forEach(function(t){var n=e[t];u[t]=n.mapStateToQueryStringValue(o)}),r||!f||!(0,i.Z)(f,u)){f=u;var d,_,m,h=(d=p(p({},(0,c.Z)(a.search)),u),_=function(e,t){return null!=t},m={},Object.keys(d).forEach(function(e){var t=d[e];_(e,t)&&(m[e]=t)}),m),b=(0,l.Z)(h),y=b?"?".concat(b):"";(r||a.search!==y)&&s.replace({pathname:a.pathname,search:y})}}return function(i){var l=(0,s.oR)(),f=(0,r.use)(o.Us).navigator,p=(0,a.Z)(),b=[];i.forEach(function(t){if(void 0===e[t])throw Error("Binding does not exist for queryStringName: '".concat(t,"'"));b.push([t,e[t]])});var y=(0,r.useRef)(!1);(0,u.Z)(function(){function e(e){var t=(0,c.Z)(e),n=[];b.forEach(function(e){var r=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return m(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=r[0],o=r[1];void 0!==t[s]&&o.mapQueryStringValueToActions(t[s],l.getState,p).forEach(function(e){return n.push(e)})}),n.length>0&&l.dispatch((0,d.Z)(n)),l.dispatch(_(!0))}l.dispatch(_(!1));var r=f.listen(function(t,n){t.location&&(t=t.location),y.current&&(y.current=!1,h(l,!0,f)),"POP"===n&&e(t.search),"PUSH"===n&&(y.current=!0)});return e(f.location.search),i.length>0&&!n&&(n=l.subscribe(function(){return h(l,!1,f)})),i.forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)?t[e]+=1:t[e]=1}),h(l,!0,f),function(){i.forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(t[e]-=1,t[e]<=0&&delete t[e])}),0===Object.keys(t).reduce(function(e,n){return e+t[n]},0)&&n&&(n(),n=null),r(),y.current=!1}})}}},552649:function(e,t,n){"use strict";function r(e,t){if(!e(11))return!1;if(t){var n=e(39),r=e(72);if(!n||!r)return!1}return!0}n.d(t,{Z:function(){return r}})},959707:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(415030),s=n(564770),o=n(660947),a=n(762720),i=n(287549),l=n(648116),c=n(620812),u=n(683766),d=n(234012),_=n(201481),f=n(408559),m=n(723924),h=n(623736),p=n(331005),b=n(307407),y=n(278067),v=n(339989),A=n(969134);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){return Array.isArray(e)&&1===e.length&&"all"===e[0]},x=function(e){try{var t=JSON.parse(e);return Array.isArray(t)?t.filter(function(e){return Number.isInteger(e)}).map(function(e){return e.toString()}):[]}catch(e){return[]}},E=function(e){return e?e.join(","):"all"},P=function(e){return Array.isArray(e)&&e.length>0?e.join("\n"):void 0},I=function(e){return Array.isArray(e)&&e.length>0?e:null},T=function(e){return function(t){var n=x(t);return n.length>0?[(0,c.eF)(e),(0,c.sr)(e,n,!0)]:[]}},C=function(e){return function(t){var n=x(t);return n.length>0?[(0,c.Tv)(e,{searchIds:n})]:[(0,c.Tv)(e,{searchIds:[]})]}},O=function(e){return function(t){var n=t.split("\n");return n.length>0?[(0,c.Tv)(e,{names:n,name:n[0]})]:[(0,c.Tv)(e,{names:[],name:""})]}},j=function(e){return function(t){var n=t.split("\n");return n.length>0?[(0,c.Tv)(e,{namesExclude:n})]:[(0,c.Tv)(e,{namesExclude:[]})]}},z={lineone:{mapStateToQueryStringValue:function(e){return e.metricsGraph.lineOne},mapQueryStringValueToActions:function(e){return[(0,d.ZP)({lineOne:e})]}},linetwo:{mapStateToQueryStringValue:function(e){return e.metricsGraph.lineTwo},mapQueryStringValueToActions:function(e){return[(0,d.ZP)({lineTwo:e})]}},campaignName:{mapStateToQueryStringValue:function(e){return e.filters.campaign.name?e.filters.campaign.name:void 0},mapQueryStringValueToActions:function(e){return[(0,c.Tv)(s.eX.campaign,{name:e}),(0,c.Tv)(s.eX.campaign,{names:[e]})]}},adGroupName:{mapStateToQueryStringValue:function(e){return e.filters.adgroup.name?e.filters.adgroup.name:void 0},mapQueryStringValueToActions:function(e){return[(0,c.Tv)(s.eX.adGroup,{name:e}),(0,c.Tv)(s.eX.adGroup,{names:[e]})]}},pinPromotionName:{mapStateToQueryStringValue:function(e){return e.filters.pinPromotion.name?e.filters.pinPromotion.name:void 0},mapQueryStringValueToActions:function(e){return[(0,c.Tv)(s.eX.pinPromotion,{name:e}),(0,c.Tv)(s.eX.pinPromotion,{names:[e]})]}},campaignNames:{mapStateToQueryStringValue:function(e){return P(e.filters.campaign.names)},mapQueryStringValueToActions:O(s.eX.campaign)},adGroupNames:{mapStateToQueryStringValue:function(e){var t;return P(null!=(t=e.filters.adgroup.names)?t:[])},mapQueryStringValueToActions:O(s.eX.adGroup)},pinPromotionNames:{mapStateToQueryStringValue:function(e){var t;return P(null!=(t=e.filters.pinPromotion.names)?t:[])},mapQueryStringValueToActions:O(s.eX.pinPromotion)},campaignNamesExclude:{mapStateToQueryStringValue:function(e){var t;return P(null!=(t=e.filters.campaign.namesExclude)?t:[])},mapQueryStringValueToActions:j(s.eX.campaign)},adGroupNamesExclude:{mapStateToQueryStringValue:function(e){var t;return P(null!=(t=e.filters.adgroup.namesExclude)?t:[])},mapQueryStringValueToActions:j(s.eX.adGroup)},pinPromotionNamesExclude:{mapStateToQueryStringValue:function(e){var t;return P(null!=(t=e.filters.pinPromotion.namesExclude)?t:[])},mapQueryStringValueToActions:j(s.eX.pinPromotion)},campaignIdSearch:{mapStateToQueryStringValue:function(e){var t;return I(null!=(t=e.filters.campaign.searchIds)?t:[])},mapQueryStringValueToActions:C(s.eX.campaign)},pinPromotionIdSearch:{mapStateToQueryStringValue:function(e){var t;return I(null!=(t=e.filters.pinPromotion.searchIds)?t:[])},mapQueryStringValueToActions:C(s.eX.pinPromotion)},adGroupIdSearch:{mapStateToQueryStringValue:function(e){var t;return I(null!=(t=e.filters.adgroup.searchIds)?t:[])},mapQueryStringValueToActions:C(s.eX.adGroup)},campaignBrandLabel:{mapStateToQueryStringValue:function(e){return e.filters.campaign.brandLabel?e.filters.campaign.brandLabel:void 0},mapQueryStringValueToActions:function(e){return[(0,c.Tv)(s.eX.campaign,{brandLabel:e})]}},campaignCustomLabel:{mapStateToQueryStringValue:function(e){return e.filters.campaign.customLabel?e.filters.campaign.customLabel:void 0},mapQueryStringValueToActions:function(e){return[(0,c.Tv)(s.eX.campaign,{customLabel:e})]}},otherFilters:{mapStateToQueryStringValue:function(e){var t=e.filters.otherFilters;return t&&t.length>0?t.join(","):void 0},mapQueryStringValueToActions:function(e){var t=e.split(",");return[(0,c.Et)(t.length>0?t:[])]}},limit:{mapStateToQueryStringValue:function(e){return(0,h.iX)(e)},mapQueryStringValueToActions:function(e){var t=parseInt(e,10);return isNaN(t)?[]:[(0,c.Np)(t)]}},bookmark:{mapStateToQueryStringValue:function(e){return(0,b.sm)(e)},mapQueryStringValueToActions:function(e,t){var n=parseInt(e,10);return isNaN(n)?[]:[(0,m.hS)(t().filters.entityType,{start_index:n})]}},filter:{mapStateToQueryStringValue:function(e){var t=(0,h.zK)(e).status;return Array.isArray(t)?t?t.join(","):"all":t||"all"},mapQueryStringValueToActions:function(e,t){var n=e.split(",");return[(0,c.Tv)(t().filters.entityType,{status:S(n)?null:n})]}},campaignFilter:{mapStateToQueryStringValue:function(e){return E(e.filters.campaign.status)},mapQueryStringValueToActions:function(e){var t=e.split(",").filter(function(e){return y.nO.includes(e)});return[(0,c.Tv)(s.eX.campaign,{status:S(t)||0===t.length?y.nO:t})]}},campaignFilterUpdated:{mapStateToQueryStringValue:function(e){return e.filters.campaign.isStatusUpdated.toString()},mapQueryStringValueToActions:function(e){return e?[(0,c.Tv)(s.eX.campaign,{isStatusUpdated:"true"===e.toLowerCase()})]:[]}},adGroupFilter:{mapStateToQueryStringValue:function(e){return E(e.filters.adgroup.status)},mapQueryStringValueToActions:function(e){var t=e.split(",");return[(0,c.Tv)(s.eX.adGroup,{status:S(t)?Object.values(o.d9):t})]}},adGroupFilterUpdated:{mapStateToQueryStringValue:function(e){return e.filters.adgroup.isStatusUpdated.toString()},mapQueryStringValueToActions:function(e){return e?[(0,c.Tv)(s.eX.adGroup,{isStatusUpdated:"true"===e.toLowerCase()})]:[]}},adFilter:{mapStateToQueryStringValue:function(e){return E(e.filters.pinPromotion.status)},mapQueryStringValueToActions:function(e){var t=e.split(",");return[(0,c.Tv)(s.eX.pinPromotion,{status:S(t)?Object.values(o.eW):t})]}},adFilterUpdated:{mapStateToQueryStringValue:function(e){return e.filters.pinPromotion.isStatusUpdated.toString()},mapQueryStringValueToActions:function(e){return e?[(0,c.Tv)(s.eX.pinPromotion,{isStatusUpdated:"true"===e.toLowerCase()})]:[]}},adFormatFilter:{mapStateToQueryStringValue:function(e){var t=e.filters.pinPromotion.creativeTypes;return t&&t.length?t.join(","):"all"},mapQueryStringValueToActions:function(e){var t=e?e.split(","):[];return[(0,c.Tv)(s.eX.pinPromotion,{creativeTypes:S(t)?null:t})]}},adFormatFilterUpdated:{mapStateToQueryStringValue:function(e){return e.filters.pinPromotion.isCreativeTypesUpdated.toString()},mapQueryStringValueToActions:function(e){return e?[(0,c.Tv)(s.eX.pinPromotion,{isCreativeTypesUpdated:"true"===e.toLowerCase()})]:[]}},productGroupFilter:{mapStateToQueryStringValue:function(e){return E(e.filters.productGroup.status)},mapQueryStringValueToActions:function(e){var t=e.split(",");return[(0,c.Tv)(s.eX.productGroup,{status:S(t)?Object.values(o.Pf):t})]}},productGroupFilterUpdated:{mapStateToQueryStringValue:function(e){return e.filters.productGroup.isStatusUpdated.toString()},mapQueryStringValueToActions:function(e){return e?[(0,c.Tv)(s.eX.productGroup,{isStatusUpdated:"true"===e.toLowerCase()})]:[]}},deliveryFilter:{mapStateToQueryStringValue:function(e){var t=e.reportingTables.zeroFill;return void 0===t?"true":t.toString()},mapQueryStringValueToActions:function(e){return e?[(0,m.lB)("true"===e.toLowerCase())]:[]}},customFilters:{mapStateToQueryStringValue:function(e){return(0,v.mb)((0,h.LJ)(e))},mapQueryStringValueToActions:function(e){return[(0,c.hN)((0,v.JV)(e))]}},objectiveTypes:{mapStateToQueryStringValue:function(e){return e.filters.campaign.objectiveTypes},mapQueryStringValueToActions:function(e,t,n){var o=[];try{var a,i=null==n?void 0:n.checkExperiment("aid_exp_app_install_objective").anyEnabled;a=new Set(e.split(/[\[\]\"\,\s]/).filter(Boolean)),o=(o=function(e){if(Array.isArray(e))return g(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return g(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,void 0):void 0}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(function(e){return e in r.mE||e===r.LN.APP_INSTALL&&i})}catch(e){o=[]}return Array.isArray(o)&&o.length>0?[(0,c.Tv)(s.eX.campaign,{objectiveTypes:o})]:[]}},objectiveTypesUpdated:{mapStateToQueryStringValue:function(e){return e.filters.campaign.isObjectiveTypesUpdated.toString()},mapQueryStringValueToActions:function(e){return e?[(0,c.Tv)(s.eX.campaign,{isObjectiveTypesUpdated:"true"===e.toLowerCase()})]:[]}},start_date:{mapStateToQueryStringValue:function(e){return e.dateRange.startTime},mapQueryStringValueToActions:function(e,t,n){var r=null==n?void 0:n.checkExperiment("aid_exp_fix_outdated_reporting_date_range").anyEnabled,s=null;return s=new URLSearchParams(window.location.search).get("end_date")||null,[(0,l.FO)(e,s,null,null,null,r)]}},comp_start_date:{mapStateToQueryStringValue:function(e){return e.dateRange.startTimeForComparison},mapQueryStringValueToActions:function(e,t,n){var r=null==n?void 0:n.checkExperiment("aid_exp_fix_outdated_reporting_date_range").anyEnabled,s=null;return s=new URLSearchParams(window.location.search).get("comp_end_date")||null,e&&s?[(0,l.tf)(e,s,null,r)]:[]}},end_date:{mapStateToQueryStringValue:function(e){return e.dateRange.endTime},mapQueryStringValueToActions:function(e,t,n){var r=null==n?void 0:n.checkExperiment("aid_exp_fix_outdated_reporting_date_range").anyEnabled,s=new URLSearchParams(window.location.search).get("startDate")||null;return[(0,l.FO)(s,e,null,null,null,r)]}},comp_end_date:{mapStateToQueryStringValue:function(e){return e.dateRange.endTimeForComparison},mapQueryStringValueToActions:function(e,t,n){var r=null==n?void 0:n.checkExperiment("aid_exp_fix_outdated_reporting_date_range").anyEnabled,s=new URLSearchParams(window.location.search).get("comp_start_date")||null;return s&&e?[(0,l.tf)(s,e,null,r)]:[]}},granularity:{mapStateToQueryStringValue:function(e){return e.dateRange.granularity},mapQueryStringValueToActions:function(e){return"daily"===e||"hourly"===e?[(0,l.FO)(null,null,e)]:[]}},campaignIds:{mapStateToQueryStringValue:function(e){return I(e.filters.campaign.selectedIds)},mapQueryStringValueToActions:T(s.eX.campaign)},adGroupIds:{mapStateToQueryStringValue:function(e){return I(e.filters.adgroup.selectedIds)},mapQueryStringValueToActions:T(s.eX.adGroup)},pinPromotionIds:{mapStateToQueryStringValue:function(e){return I(e.filters.pinPromotion.selectedIds)},mapQueryStringValueToActions:T(s.eX.pinPromotion)},productGroupIds:{mapStateToQueryStringValue:function(e){return I(e.filters.productGroup.selectedIds)},mapQueryStringValueToActions:T(s.eX.productGroup)},reportingViewId:{mapStateToQueryStringValue:function(e){return e.reporting.reportingViews.selectedViewId},mapQueryStringValueToActions:function(){return[]}},targeting:{mapStateToQueryStringValue:function(e){var t=e.reportingTables[e.filters.entityType];return t?t.breakdown:null},mapQueryStringValueToActions:function(e,t){return[(0,m.eU)(t().filters.entityType,e)]}},promo_code:{mapStateToQueryStringValue:function(){},mapQueryStringValueToActions:function(e){return[(0,i.wL)(e)]}},promotions_email:{mapStateToQueryStringValue:function(){},mapQueryStringValueToActions:function(e){return e?[(0,A.L4)("promotionsEmailRedirect",e)]:[]}},attributionWindow:{mapStateToQueryStringValue:function(e){return e.reportingProperties.attributionWindow},mapQueryStringValueToActions:function(e,t){return[(0,f.nH)(e,t().advertiser.ocpm_conversion_window_enabled)]}},conversionReportDate:{mapStateToQueryStringValue:function(e){return e.reportingProperties.conversionReportTimeType},mapQueryStringValueToActions:function(e){return[(0,f.Ab)(e)]}},attributionLevel:{mapStateToQueryStringValue:function(e){return e.reportingProperties.conversionReportAttributionTypes},mapQueryStringValueToActions:function(e){return[(0,f.lv)(e)]}},conversionMetricType:{mapStateToQueryStringValue:function(e){return e.reportingProperties.conversionMetricType},mapQueryStringValueToActions:function(e){return[(0,f.JI)(e)]}},notification:{mapStateToQueryStringValue:function(e){return(0,p.Hd)(e)},mapQueryStringValueToActions:function(e){return[e?(0,u.UQ)(e):(0,u.Vx)()]}},aggregated_notification_keys:{mapStateToQueryStringValue:function(e){var t=(0,p.OD)(e);return t&&t.join(",")},mapQueryStringValueToActions:function(e){return[e?(0,u.hG)(e.split(",")):(0,u.mt)()]}},sf_opportunity_ids:{mapStateToQueryStringValue:function(e){var t=(0,p.Tb)(e);return t&&t.join(",")},mapQueryStringValueToActions:function(e){return[e?(0,u.FI)(e.split(",")):(0,u.VW)()]}},sf_solution_line_item_ids:{mapStateToQueryStringValue:function(e){var t=(0,p.ds)(e);return t&&t.join(",")},mapQueryStringValueToActions:function(e){return[e?(0,u.bU)(e.split(",")):(0,u.R8)()]}},filter_tab:{mapStateToQueryStringValue:function(e){return e.recommendations.filterStatusType.toLowerCase()},mapQueryStringValueToActions:function(e){return e?[(0,_.Ix)(e.toUpperCase())]:[]}},redirectSource:{mapStateToQueryStringValue:function(e){return e.reporting.redirectSource},mapQueryStringValueToActions:function(e){return[{type:"STERLING_SET_REDIRECT_SOURCE",payload:{redirectSource:e}}]}},email_source:{mapStateToQueryStringValue:function(e){return e.recommendations.emailRedirect.toString()},mapQueryStringValueToActions:function(e){return e?[(0,_.JG)("true"===e.toLowerCase())]:[]}}},w=(0,a.Z)(z)},287549:function(e,t,n){"use strict";n.d(t,{VQ:function(){return r},Xi:function(){return u},aM:function(){return l},kV:function(){return s},lX:function(){return o},vt:function(){return a},wL:function(){return c}});var r="STERLING_UPDATE_BUSINESS_INFORMATION_FORM",s="STERLING_UPDATE_BILLING_INFORMATION_FORM",o="STERLING_UPDATE_PROMO_CODE",a="STERLING_COPY_BUSINESS_INFO",i={businessInformationForm:r,billingInformationForm:s};function l(e,t){return{type:i[e],formName:e,values:t}}function c(e){return{type:o,payload:e}}function u(e){return{type:a,checked:e}}},648116:function(e,t,n){"use strict";n.d(t,{CS:function(){return S},Ct:function(){return b},FO:function(){return g},eZ:function(){return h},gM:function(){return x},jL:function(){return f},me:function(){return m},mg:function(){return p},tf:function(){return A}});var r=n(693490),s=n(115785),o=n(291283),a=n(552010),i=n(68213),l=n(179317),c=n(280221),u=n(302091),d=n(178249),_=n(541751),f="STERLING_SET_DATE_RANGE",m="STERLING_SET_DATE_RANGE_COMPARISON",h="STERLING_SET_USER_HAS_SEEN_TIME_ZONE_MODAL_REPORTING",p="STERLING_SET_USER_HAS_SEEN_TIME_ZONE_MODAL_CUSTOM_REPORTS",b=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"PINTEREST_TIME_ZONE",l=arguments.length>4?arguments[4]:void 0;if(!e||!t||!(0,r.Z)(new Date(e))||!(0,r.Z)(new Date(t)))return!1;var _=(0,d.Z6)(i,l),f=(0,d.Ri)(new Date,_);if((0,s.Z)(new Date(e),new Date(t))||(0,s.Z)(new Date(e),f)||(0,s.Z)(new Date(t),f))return!1;if("daily"===n)if("AD_ACCOUNT_TIME_ZONE"===i)return(0,u.Z)(new Date(t),(0,o.Z)(new Date(e),c.Q3))&&(0,u.Z)(f,(0,a.Z)(new Date(e),c.yG));else return(0,u.Z)(new Date(t),(0,a.Z)(new Date(e),24))&&(0,u.Z)(f,(0,o.Z)(new Date(e),914));return"hourly"!==n||(0,u.Z)(new Date(t),(0,o.Z)(new Date(e),3))&&(0,u.Z)(f,(0,o.Z)(new Date(e),8))};function y(e,t,n,r,s){return{type:f,startTime:e,endTime:t,granularity:n,presetId:r,timeZoneMode:s}}function v(e,t,n){return{type:m,startTimeForComparison:e,endTimeForComparison:t,presetIdForComparison:n}}function A(e,t,n,r){return function(s,o){var a=o(),i=(a.advertiser||{}).time_zone;s(b(e||a.dateRange.startTimeForComparison||null,t||a.dateRange.endTimeForComparison||null,r?"daily":a.dateRange.granularity,a.dateRange.timeZoneMode,i)?v(e,t,n||a.dateRange.presetIdForComparison):v(null,null,null))}}var g=function(e,t,n,r,s,o){return function(a,c){var u=c(),f=u.dateRange,m=f.startTime,h=f.endTime,p=f.granularity,v=f.presetId,A=f.timeZoneMode,g=(u.advertiser||{}).time_zone;a(b(e||m,t||h,o?"daily":n||p,s||A,g)?y(e,t,n,r||v,s||A):"AD_ACCOUNT_TIME_ZONE"===(null!=s?s:A)&&g?y((0,d.Oj)((0,i.Z)((0,l.Z)(),14),g),(0,d.Oj)((0,i.Z)((0,l.Z)(),1),g),_.W.granularity,_.W.presetId,"AD_ACCOUNT_TIME_ZONE"):y(_.W.startTime,_.W.endTime,_.W.granularity,_.W.presetId,"PINTEREST_TIME_ZONE"))}},S=function(e){return{type:h,userHasSeenTimeZoneModalReporting:e}},x=function(e){return{type:p,userHasSeenTimeZoneModalCustomReports:e}};t.ZP=y},683766:function(e,t,n){"use strict";n.d(t,{CI:function(){return s},Eu:function(){return f},FI:function(){return y},HZ:function(){return u},I8:function(){return o},Ju:function(){return d},Mw:function(){return c},Qc:function(){return _},R8:function(){return g},UQ:function(){return m},VW:function(){return v},Vx:function(){return h},Zg:function(){return l},bU:function(){return A},eI:function(){return S},f3:function(){return E},hG:function(){return p},jq:function(){return r},km:function(){return x},m:function(){return a},mt:function(){return b},ng:function(){return i}});var r="GUIDANCE_SET_AGGREGATED_NOTIFICATION_KEY",s="GUIDANCE_UNSET_AGGREGATED_NOTIFICATION_KEY",o="GUIDANCE_SET_AGGREGATED_NOTIFICATION_KEYS",a="GUIDANCE_UNSET_AGGREGATED_NOTIFICATION_KEYS",i="GUIDANCE_SET_SF_OPPORTUNITY_IDS",l="GUIDANCE_UNSET_SF_OPPORTUNITY_IDS",c="GUIDANCE_SET_SF_SOLUTION_LINE_ITEM_IDS",u="GUIDANCE_UNSET_SF_SOLUTION_LINE_ITEM_IDS",d="GUIDANCE_SET_REC_PAGE_ACTIVE_FILTER",_="GUIDANCE_UNSET_REC_PAGE_ACTIVE_FILTER",f="GUIDANCE_RESET_REC_PAGE_FILTER";function m(e){return{type:r,payload:e}}function h(){return{type:s,payload:null}}function p(e){return{type:o,payload:e}}function b(){return{type:a,payload:null}}function y(e){return{type:i,payload:e}}function v(){return{type:l,payload:null}}function A(e){return{type:c,payload:e}}function g(){return{type:u,payload:null}}function S(e){return{type:d,payload:e}}function x(e){return{type:_,payload:e}}function E(){return{type:f,payload:null}}},234012:function(e,t,n){"use strict";n.d(t,{Ux:function(){return r},Xt:function(){return s},ZP:function(){return o}});var r=function(e){return{type:"STERLING_SET_GRAPH_COLLAPSED",isGraphCollapsed:e}},s=function(e){return{type:"STERLING_SET_GRAPH_OBJECTIVE_BREAKOUT",isGraphObjectiveBreakoutActive:e}};function o(e){return{type:"STERLING_SET_METRICS_GRAPH",lineOne:e.lineOne,lineTwo:e.lineTwo}}},201481:function(e,t,n){"use strict";function r(e){return{type:"RECOMMENDATIONS_STATUS_FILTER_TYPE",status:e}}function s(e){return{type:"RECOMMENDATIONS_EMAIL_REDIRECT",status:e}}function o(e){return{type:"RECOMMENDATIONS_SET_RECOMMENDATION_HELPER",payload:e}}n.d(t,{GF:function(){return o},Ix:function(){return r},JG:function(){return s}})},408559:function(e,t,n){"use strict";n.d(t,{Ab:function(){return l},pE:function(){return o},lv:function(){return u},ak:function(){return c},JI:function(){return d},nH:function(){return s}});var r=n(589162),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,s){var o=s().advertiser.custom_attribution_windows,a=r.Z.constants.defaultWindow;r.Z.isValidWindow(e,o,t)?n({type:"STERLING_SET_ATTRIBUTION_WINDOW",value:e}):r.Z.isDeprecatedWindow(e)?n({type:"STERLING_SET_ATTRIBUTION_WINDOW",value:r.Z.getMappedAttributionWindowWithEngagement(e,null!=o?o:[],t)}):(n({type:"ERROR_LOG_EVENT",error:Error("Rejected invalid attribution window: ".concat(e,". Setting attribution to default value: ").concat(a)),auxData:void 0}),n({type:"STERLING_SET_ATTRIBUTION_WINDOW",value:a}))}},o=function(e){return{type:"STERLING_SET_NEWLY_ELIGIBLE_FLAG",value:e}},a=function(e){return"string"==typeof e&&"["===e.charAt(0)&&"]"===e.charAt(e.length-1)},i=function(e){if(!a(e))return[];var t=e.slice(1,-1);return t.length>0?t.split(","):[]},l=function(e){return{type:"STERLING_SET_REPORTING_TABLE_CONVERSION_REPORT_TIME_TYPE",value:e}},c=function(e){return{type:"STERLING_SET_REPORTING_TABLE_CONVERSION_TYPES",values:e}},u=function(e){return{type:"STERLING_SET_REPORTING_TABLE_CONVERSION_REPORT_ATTRIBUTION_TYPES",values:a(e)?i(e):e}},d=function(e){return{type:"STERLING_SET_REPORTING_TABLE_CONVERSION_METRIC_TYPE",value:e}}},541751:function(e,t,n){"use strict";n.d(t,{W:function(){return u}});var r=n(68213),s=n(859950),o=n(179317),a=n(648116);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u={startTime:(0,s.Z)((0,r.Z)((0,o.Z)(),14)),endTime:(0,s.Z)((0,r.Z)((0,o.Z)(),1)),granularity:"daily",enableHourly:!0,presetId:"lastTwoWeeks",timeZoneMode:"PINTEREST_TIME_ZONE",userHasSeenTimeZoneModalReporting:!1,userHasSeenTimeZoneModalCustomReports:!1},d=function(e,t){var n=t.startTime,r=t.endTime,s=t.granularity,o=t.presetId,a=t.timeZoneMode,i=e.enableHourly,l=void 0===i||i,u=e.timeZoneMode,d=c(c({},e),{},{enableHourly:l,timeZoneMode:a||u});return d.presetId=o||"custom",(l||"hourly"!==s)&&(d.startTime=n||d.startTime,d.endTime=r||d.endTime,d.granularity=s||d.granularity),"hourly"!==s||["custom","today","yesterday"].includes(d.presetId)||(d.presetId="lastThreeDaysHourly"),d},_=function(e,t){var n=t.startTimeForComparison,r=t.endTimeForComparison,s=t.presetIdForComparison;return c(c({},e),{},{startTimeForComparison:n,endTimeForComparison:r,presetIdForComparison:s})},f=function(e,t){var n=c({},e);n.startTime&&n.endTime||(n=c({},u));var r=t.filters&&t.filters.objectiveTypes;if(r)if(1===r.length&&["TEMPORARY_APP_INSTALL_CLICKTHROUGH","TEMPORARY_TRAFFIC_CLICKTHROUGH_APP"].includes(r[0]))"hourly"===n.granularity&&(n=c({},u)),n.enableHourly=!1;else{if(1===r.length)return n;n.enableHourly=!0}return n};t.Z=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case a.jL:return d(n,r);case a.me:return _(n,r);case"STERLING_SET_FILTER":return f(n,r);case a.eZ:return c(c({},n),{},{userHasSeenTimeZoneModalReporting:null!=(e=r.userHasSeenTimeZoneModalReporting)?e:n.userHasSeenTimeZoneModalReporting});case a.mg:return c(c({},n),{},{userHasSeenTimeZoneModalCustomReports:null!=(t=r.userHasSeenTimeZoneModalCustomReports)?t:n.userHasSeenTimeZoneModalCustomReports});default:return n}}},331005:function(e,t,n){"use strict";n.d(t,{CT:function(){return l},De:function(){return c},Ds:function(){return i},Hd:function(){return r},OD:function(){return s},Tb:function(){return o},ds:function(){return a}});var r=function(e){return e.guidance.aggregatedNotificationKey||null},s=function(e){return e.guidance.aggregatedNotificationKeys||void 0},o=function(e){return e.guidance.sfOpportunityIds||void 0},a=function(e){return e.guidance.sfSolutionLineItemIds||void 0},i=function(e){return e.guidance.adsNotifications},l=function(e){return e.recommendations.recommendationHelper},c=function(e){return e.guidance.activeFilters}},830949:function(e,t){"use strict";t.Z=function(e,t,n){return"".concat(e,":").concat(t||"",":").concat(n||"")}},969134:function(e,t,n){"use strict";n.d(t,{J6:function(){return m},L4:function(){return d},me:function(){return h},q3:function(){return f},wL:function(){return _}});var r=n(818037),s=n(988393),o=n(415030),a=n(660947),i=n(767415);function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var d=function(e,t){return{type:"UPDATE_PROMO_MODAL_FIELD",field:e,value:t}},_=function(e){return{type:"UPDATE_PROMO_CODE",value:e}},f=function(e){return{type:"UPDATE_DISCOUNT_GROUP",value:e}},m=function(e){return{type:"UPDATE_DISCOUNT_TYPE",value:e}},h=function(e){var t,n;return t=regeneratorRuntime.mark(function t(n){var c,u,_,f,m,h,p,b,y,v,A,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",n(d("isLoading",!1)));case 2:return t.next=4,(0,s.Z)({advertiser_id:e,entity_statuses:["ACTIVE"],order:"DESCENDING"});case 4:return c=t.sent,u=function(e){return(null==e?void 0:e.summary_status)===a.$d.RUNNING&&(null==e?void 0:e.objective_type)&&[o.mE.CATALOG_SALES,o.mE.WEB_CONVERSION,o.mE.CONSIDERATION].includes(e.objective_type)},f=((_=(c.data||[]).filter(u))||[]).map(function(e){return e.id}),m=new Date,h=1,t.next=12,(0,r.Z)({advertiser_id:e,campaign_ids:f,entity_statuses:["ACTIVE"],order:"DESCENDING",page_size:250});case 12:b=(p=t.sent).bookmark,y=p.data;case 14:if(!b){t.next=23;break}return t.next=17,(0,r.Z)({advertiser_id:e,campaign_ids:f,entity_statuses:["ACTIVE"],order:"DESCENDING",bookmark:b,page_size:250});case 17:v=t.sent,y=[].concat(l(y),l(v.data)),b=v.bookmark,h+=1,t.next=14;break;case 23:return A=new Date,(0,i.nP)("promotionsUpsellModal.fetchAdGroups",{sampleRate:1,tags:{latency:A.getTime()-m.getTime(),pages:h,adGroups:y?y.length:0,advertiserId:e}}),g=y||[],t.abrupt("return",n({type:"UPDATE_INITIAL_CAMPAIGNS_STATE",value:{eligibleCampaignIds:f,filteredCampaigns:_,adGroups:g}}));case 27:case"end":return t.stop()}},t)}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){u(o,r,s,a,i,"next",e)}function i(e){u(o,r,s,a,i,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}}},651941:function(e,t,n){"use strict";n.d(t,{Z:function(){return th}});var r=n(719301),s=n(999294),o=n(387784),a=n(20256),i=n(766857),l=n(24246),c=n(216975),u=n(540846),d=n(581722),_=n(537391),f=n(935059),m=n(501010),h=n(861150),p=n(179362),b=n(552263),y=n(355750),v=n(300214),A=n(427865),g=n(89446),S=n(680811);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=function(){var e=(0,g.KJ)(),t=(0,d.I0)(),n=(0,(0,m.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,s=(0,f.Z)(),i=s.isAuth?s.id:"",l=(0,_.g)().businessHierarchies,c=(0,d.v9)((0,A.G)(e,l,n))||i===e,u=(0,b.Z)().inRmnFoundations,E=(0,d.v9)(v.fJ),P=(0,d.v9)(v.XD),I=x((0,o.useState)(!1),2),T=I[0],C=I[1],O=x((0,o.useState)(!1),2),j=O[0],z=O[1],w=x((0,o.useState)(!1),2),N=w[0],R=w[1];return(0,o.useEffect)(function(){return R(!0)},[e]),(0,o.useEffect)(function(){var n=null!=E,r=u&&null!=P;N&&(n||r)&&(t({type:"CLEAR_PENDING_DATA"}),c&&(t((0,y.R)(["PENDING"],"PARTNER",e,!0)),u&&t((0,y.r)(e))),R(!1))},[e,E,N,P,u]),(0,o.useEffect)(function(){e&&(C(E),z(!!P))},[e,E,P]),(0,S.jsx)(a.xu,{children:(0,S.jsxs)(a.kC,{direction:"column",gap:4,children:[T&&(0,S.jsx)(h.Z,{businessId:e,page:"MEDIA_NETWORK_DASHBOARD",partnershipType:"RMN_PARTNER"}),j&&(0,S.jsx)(p.Z,{businessId:e,page:r.Q6.DASHBOARD})]})})},I=n(452022),T=n(38517),C=n(997526),O=n(924591),j=n(774838),z=n(577356),w=n(534690),N=n(776446),R=n(560619),D=n(364545),k=n(291283),L=n(464375),U=n(275389),B=n(544183),M=n(594725),H=n(322940),Z=n(803911),G=n(591842),F=n(400850);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t,n){var r;return(r=function(e,t){if("object"!=Y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Y(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=function(e,t){var n=t?(0,N.Z)(e):(0,R.Z)(e);return new Date(n.getTime()-60*n.getTimezoneOffset()*1e3)},Q=Object.freeze({TODAY:"TODAY_RANGE",YESTERDAY:"YESTERDAY_RANGE",LAST_7_DAYS:"LAST_7_DAYS_RANGE",LAST_14_DAYS:"LAST_14_DAYS_RANGE",LAST_30_DAYS:"LAST_30_DAYS_RANGE",LAST_MONTH:"LAST_MONTH_RANGE",THIS_MONTH:"THIS_MONTH_RANGE",LAST_QUARTER:"LAST_QUARTER_RANGE",THIS_QUARTER:"THIS_QUARTER_RANGE",THIS_YEAR:"THIS_YEAR_RANGE",CUSTOM:"CUSTOM_RANGE"}),W=function(e,t){switch(t){case Q.TODAY:return e._('Today', 'businessAccess.datePicker.header.dateRange.today', 'Label for today date range');case Q.YESTERDAY:return e._('Yesterday', 'businessAccess.datePicker.header.dateRange.yesterday', 'Label for yesterday date range');case Q.LAST_7_DAYS:return e._('Last 7 Days', 'businessAccess.datePicker.header.dateRange.last7Days', 'Label for last 7 days date range');case Q.LAST_14_DAYS:return e._('Last 14 Days', 'businessAccess.datePicker.header.dateRange.last14Days', 'Label for last 14 days date range');case Q.LAST_30_DAYS:return e._('Last 30 Days', 'businessAccess.datePicker.header.dateRange.last30Days', 'Label for last 30 days date range');case Q.LAST_MONTH:return e._('Last month', 'businessAccess.datePicker.header.dateRange.lastMonth', 'Label for last month date range');case Q.THIS_MONTH:return e._('This month', 'businessAccess.datePicker.header.dateRange.thisMonth', 'Label for this month date range');case Q.LAST_QUARTER:return e._('Last quarter', 'businessAccess.datePicker.header.dateRange.lastQuarter', 'Label for last quarter date range');case Q.THIS_QUARTER:return e._('This quarter', 'businessAccess.datePicker.header.dateRange.thisQuarter', 'Label for this quarter date range');case Q.THIS_YEAR:return e._('This year', 'businessAccess.datePicker.header.dateRange.thisYear', 'Label for this year date range');case Q.CUSTOM:return e._('Custom', 'businessAccess.datePicker.header.dateRange.custom', 'Label for custom date range');default:return null}},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=(0,R.Z)(t),r=(0,N.Z)(t),s=(0,D.Z)(r);switch(e){case Q.TODAY:return{startDate:n,endDate:r};case Q.YESTERDAY:if(s)return{startDate:n,endDate:r};return{startDate:(0,k.Z)(n,-1),endDate:(0,k.Z)(r,-1)};case Q.LAST_7_DAYS:return{startDate:(0,k.Z)(n,-7),endDate:(0,k.Z)(r,s?0:-1)};case Q.LAST_14_DAYS:return{startDate:(0,k.Z)(n,-14),endDate:(0,k.Z)(r,s?0:-1)};case Q.LAST_30_DAYS:return{startDate:(0,k.Z)(n,-30),endDate:(0,k.Z)(r,s?0:-1)};case Q.LAST_MONTH:var o=(0,L.Z)(t,1);return{startDate:(0,R.Z)((0,U.Z)(o)),endDate:(0,N.Z)((0,B.Z)(o))};case Q.THIS_MONTH:return{startDate:(0,U.Z)(n),endDate:r};case Q.LAST_QUARTER:var a=(0,M.Z)(t,1);return{startDate:(0,R.Z)((0,H.Z)(a)),endDate:(0,N.Z)((0,Z.Z)(a))};case Q.THIS_QUARTER:return{startDate:(0,H.Z)(n),endDate:r};case Q.THIS_YEAR:return{startDate:(0,G.Z)(n),endDate:r}}return{startDate:null,endDate:null}},K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;if(!e||!t)return Q.CUSTOM;for(var r=[Q.TODAY,Q.YESTERDAY,Q.LAST_7_DAYS,Q.LAST_14_DAYS,Q.LAST_30_DAYS,Q.LAST_MONTH,Q.THIS_MONTH,Q.LAST_QUARTER,Q.THIS_QUARTER,Q.THIS_YEAR],s=0;s<r.length;s++){var o=r[s],a=X(o,n),i=a.startDate,l=a.endDate;if(i&&l){var c=q(i),u=q(l,!0);if(e.getTime()===c.getTime()&&t.getTime()===u.getTime())return o}}return Q.CUSTOM},$=function(e,t,n,r){var s=(0,F.ZP)(r,t,F.kH.NUMERIC),o=(0,F.ZP)(r,n,F.kH.NUMERIC);return"".concat(s," - ").concat(o)},J=function(e){if(!e)return"";var t=e.getUTCFullYear(),n=String(e.getUTCMonth()+1).padStart(2,"0"),r=String(e.getUTCDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},ee=function(e){var t=e.dateString,n=e.isEndDate,r=t.split("-").map(Number),s=r[0]||2024,o=r[1]||1,a=r[2]||1;return new Date(void 0!==n&&n?Date.UTC(s,o-1,a,23,59,59,999):Date.UTC(s,o-1,a))},et=function(e){var t;return(V(t={},Q.TODAY,"today"),V(t,Q.YESTERDAY,"yesterday"),V(t,Q.LAST_7_DAYS,"lastSevenDays"),V(t,Q.LAST_14_DAYS,"lastFourteenDays"),V(t,Q.LAST_30_DAYS,"lastThirtyDays"),V(t,Q.LAST_MONTH,"previousMonth"),V(t,Q.THIS_MONTH,"thisMonth"),V(t,Q.LAST_QUARTER,"previousQuarter"),V(t,Q.THIS_QUARTER,"thisQuarter"),V(t,Q.THIS_YEAR,"thisYear"),V(t,Q.CUSTOM,"custom"),t)[e]||"custom"},en=n(660947),er=n(501667);function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=es(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=es(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==es(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return el(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?el(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function el(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ec=X(Q.LAST_7_DAYS),eu=["SPEND_IN_DOLLAR","TOTAL_IMPRESSION","CPM_IN_DOLLAR","TOTAL_ENGAGEMENT","TOTAL_CLICKTHROUGH","ECTR","ECPC_IN_DOLLAR"],ed=function(e,t){return{advertiserSearchTerm:"",currencyDisplay:"AD_ACCOUNT",startDate:J(q(ec.startDate)),endDate:J(q(ec.endDate,!0)),datePresetId:"lastSevenDays",objectiveTypes:(0,er.f5)(!1,e,t),campaignStatuses:[en.$d.RUNNING,en.$d.PAUSED,en.$d.NOT_STARTED,en.$d.COMPLETED,en.$d.ADVERTISER_DISABLED],clickWindowDays:30,engagementWindowDays:30,viewWindowDays:30,conversionReportTime:"AD_EVENT",ingestionSources:(0,T.Ll)(),countries:[],columns:eu,isActiveAdvertiserOnly:!1,excludedAdvertiserIds:[],selectedChildBusinesses:[],selectedAssetGroups:[]}},e_=ed(!1,!0),ef={startDate:q(ec.startDate),setStartDate:function(){},endDate:q(ec.endDate,!0),setEndDate:function(){},selectedPeriod:Q.LAST_7_DAYS,setSelectedPeriod:function(){},filter:e_,setFilter:function(){},selectedAttributionWindow:"30/30/30",setSelectedAttributionWindow:function(){},selectedConversionReportTimeType:"AD_EVENT",setSelectedConversionReportTimeType:function(){}},em=(0,o.createContext)(ef),eh=function(e){var t=e.children,n=ei((0,o.useState)(q(ec.startDate)),2),r=n[0],s=n[1],a=ei((0,o.useState)(q(ec.endDate,!0)),2),i=a[0],l=a[1],c=ei((0,o.useState)(Q.LAST_7_DAYS),2),u=c[0],d=c[1],_=ei((0,o.useState)(function(){var e=(0,m.Z)();return ed(e.checkExperiment("enable_catalogs").anyEnabled,e.checkExperiment("aid_exp_app_install_objective").anyEnabled)}),2),f=_[0],h=_[1],p=(0,o.useMemo)(function(){return"".concat(f.clickWindowDays,"/").concat(f.engagementWindowDays,"/").concat(f.viewWindowDays)},[f.clickWindowDays,f.engagementWindowDays,f.viewWindowDays]),b=(0,o.useCallback)(function(e){if(e){var t=ei(e.split("/").map(Number),3),n=t[0],r=t[1],s=t[2];h(function(e){return ea(ea({},e),{},{clickWindowDays:n||30,engagementWindowDays:r||30,viewWindowDays:s||30})})}},[]),y=(0,o.useCallback)(function(e){("AD_EVENT"===e||"CONVERSION_EVENT"===e)&&h(function(t){return ea(ea({},t),{},{conversionReportTime:e})})},[]),v=(0,o.useMemo)(function(){return{startDate:r,setStartDate:s,endDate:i,setEndDate:l,selectedPeriod:u,setSelectedPeriod:d,filter:f,setFilter:h,selectedAttributionWindow:p,setSelectedAttributionWindow:b,selectedConversionReportTimeType:f.conversionReportTime,setSelectedConversionReportTimeType:y}},[r,i,u,f,p,b,y]);return(0,S.jsx)(em.Provider,{value:v,children:t})},ep=function(){return(0,o.useContext)(em)},eb=n(594110),ey=n(563218),ev=n(59006);function eA(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function eg(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){eA(o,r,s,a,i,"next",e)}function i(e){eA(o,r,s,a,i,"throw",e)}a(void 0)})}}function eS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ex(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ex(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ex(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eE={PARTNERS:"PARTNERS",AD_ACCOUNTS:"AD_ACCOUNTS",CAMPAIGNS:"CAMPAIGNS",AUDIENCES:"AUDIENCES"},eP=function(){var e,t=(0,l.Z)(),n=(0,i.ZP)(),s=(0,z.dI)().showToast,u=(0,j.B)().locale,h=(0,f.Z)(),p=(0,g.KJ)(),b=(0,m.Z)().checkExperiment,y=(0,_.g)().businessHierarchies,v=b("web_m10n_business_hierarchy_beta").anyEnabled,x=h.isAuth?h.id:void 0,E=(0,d.v9)((0,A.G)(p,y,v)),P=ep(),N=P.selectedPeriod,R=P.setSelectedPeriod,D=P.startDate,k=P.endDate,L=P.filter,U=P.setFilter,B=P.setStartDate,M=P.setEndDate,H=eS((0,o.useState)(""),2),Z=H[0],G=H[1],F=eS((0,o.useState)("PARTNERS"),2),Y=F[0],V=F[1],q=eS((0,o.useState)(!1),2),X=q[0],K=q[1],J=eS((0,o.useState)(!1),2),et=J[0],en=J[1],er=eS((0,o.useState)(!1),2),es=er[0],eo=er[1],ea=eS((0,o.useState)([]),2),ei=ea[0],el=ea[1],ec=(0,T.Tt)({isBusinessHierarchy:!1,isBusinessOwner:x===p,isBusinessAdmin:E}),eu=b("enable_catalogs").anyEnabled;(0,o.useEffect)(function(){var e,t=(e=eg(regeneratorRuntime.mark(function e(t){var n,s,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ev.lo)({businessId:t});case 3:return s=e.sent.map(function(e){return e.asset_id}),e.next=7,(0,ey.pI)({assetIds:s,businessId:t,resourceType:"ASSET_GROUP",limit:r.xX});case 7:a=(null==(o=e.sent)||null==(n=o.data)?void 0:n.data)||{},el(s.reduce(function(e,t){var n,r=a[t];return null!=r&&null!=(n=r.asset)&&n.name&&e.push({name:r.asset.name,id:t}),e},[])),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}},e,null,[[0,13]])})),function(t){return e.apply(this,arguments)});(0,T.Uy)(ec)&&t(p)},[p,ec]);var ed=(0,o.useRef)(null),e_=N?$(N,D,k,u):"",ef="".concat(L.clickWindowDays,"/").concat(L.viewWindowDays),em=function(e,t){switch(t){case"PARTNERS":return e._('Partners', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.dimensionLabel.partners', 'Label for partners option');case"AD_ACCOUNTS":return e._('Ad accounts', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.dimensionLabel.adAccounts', 'Label for ad accounts option');case"CAMPAIGNS":return e._('Campaigns', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.dimensionLabel.campaigns', 'Label for campaigns option');case"AUDIENCES":return e._('Audiences', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.dimensionLabel.audiences', 'Label for audiences option');default:return""}},eh=function(e,t){switch(t){case"PARTNERS":return e._('Search partners', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.search.placeholder', 'Placeholder for search media network partners input');case"AD_ACCOUNTS":return e._('Search ad accounts', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.adAccountSearch.placeholder', 'Placeholder for search media network ad accounts input');case"CAMPAIGNS":return e._('Search campaigns', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.campaignSearch.placeholder', 'Placeholder for search media network campaigns input');case"AUDIENCES":return e._('Search audiences', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.audienceSearch.placeholder', 'Placeholder for search media network audiences input');default:return e._('Search', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.search.placeholder', 'Placeholder for search media network input')}};(0,w.Z)(function(){},eb.I.debounceTimeOut,[Z]);var eA=(0,o.useCallback)(function(){eo(!0),n({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"media-network-partner-overview-filter-sidesheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"open-filter-sidesheet"})},[n]),ex=(0,o.useCallback)(function(){eo(function(e){return!e})},[]),eP=(0,o.useCallback)(function(e){var t;U(e),B(ee({dateString:e.startDate})),M(ee({dateString:e.endDate,isEndDate:!0})),R((t=e.datePresetId,({today:Q.TODAY,yesterday:Q.YESTERDAY,lastSevenDays:Q.LAST_7_DAYS,lastFourteenDays:Q.LAST_14_DAYS,lastThirtyDays:Q.LAST_30_DAYS,previousMonth:Q.LAST_MONTH,thisMonth:Q.THIS_MONTH,previousQuarter:Q.LAST_QUARTER,thisQuarter:Q.THIS_QUARTER,thisYear:Q.THIS_YEAR,custom:Q.CUSTOM})[t]||Q.CUSTOM))},[U,B,M,R]),eI=(e=eg(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=2;break}return e.abrupt("return");case 2:K(!0),s(function(e){var n=e.hideToast;return(0,S.jsx)(O.Z,{duration:1200,onHide:n,text:t._('Report processing...', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.downloadTable.inProgressText', 'A toast message to user when the report is being processed and will be downloaded soon'),type:"progress"})});try{s(function(e){var n=e.hideToast;return(0,S.jsx)(O.Z,{duration:1200,onHide:n,text:t._('Successfully exported table', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.downloadTable.successText', 'A toast message to user when the report is being downloaded successfully'),type:"success"})})}catch(e){s(function(e){var n=e.hideToast;return(0,S.jsx)(O.Z,{duration:1200,onHide:n,text:t._('Something went wrong, please try again', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.downloadTable.successText', 'A toast message to user when the report is being downloaded successfully'),type:"error"})})}K(!1);case 6:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),eT=function(){en(!et)},eC=function(e){V(e.item.value),en(!1)},eO=t._('Media network partner overview', '[m10n]bizAccess.rmnHub.overview.header.title', 'Title for the media network partner overview section'),ej=(0,c.nk)(t._('Date range: {{datePeriod}} ({{datePeriodString}}) | Conversion settings: {{settingType}}', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.header.subHeader', 'Subheader for the campaigns overview section. datePeriod: selected date range, datePeriodString: formatted date range string, settingType: conversion setting type'),{datePeriod:W(t,N||Q.CUSTOM),datePeriodString:e_,settingType:ef}).join(""),ez=(0,c.nk)(t._('Showing: {{dimensionFilter}}', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.dimensionFilter.label', 'Label for dimension filter dropdown, dimensionFilter: the name of the dimension'),{dimensionFilter:em(t,Y)}).join(""),ew=Object.values(eE).map(function(e){return(0,S.jsx)(a.Lt.Item,{onSelect:eC,option:{value:e,label:em(t,e)}},e)});return(0,S.jsxs)(a.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:C.iiJ}},flex:"grow",marginEnd:4,marginTop:6,minWidth:675,padding:4,rounding:4,width:"grow",children:[(0,S.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"between",children:[(0,S.jsxs)(a.xu,{children:[(0,S.jsx)(a.xv,{size:"400",weight:"bold",children:eO}),(0,S.jsx)(a.xv,{color:"subtle",overflow:"noWrap",size:"200",children:ej})]}),(0,S.jsxs)(a.kC,{alignItems:"center",direction:"row",gap:2,justifyContent:"end",wrap:!0,children:[(0,S.jsx)(a.xu,{"data-test-id":"media-network-overview-search-field",width:300,children:(0,S.jsx)(a.Um,{accessibilityClearButtonLabel:t._('Clear search field', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.search.accessibilityClearButtonLabel', 'Accessibility label for search media network  overview input clear button'),accessibilityLabel:eh(t,Y),id:"searchMediaNetworkText",onChange:function(e){G(e.value)},placeholder:eh(t,Y),size:"md"})}),(0,S.jsx)(a.zx,{accessibilityLabel:t._('Edit filters', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.editFilters.accessibilityLabel', 'Edit filters for media network overview'),iconEnd:"filter",onClick:eA,size:"md",text:t._('Filters', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.editFilters.buttonText', 'Button text for edit filters button')}),(0,S.jsx)(a.zx,{ref:ed,accessibilityLabel:t._('Select dimension filter', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.selectFilters.accessibilityLabel', 'Select dimension filter for media network overview'),iconEnd:et?"arrow-up":"arrow-down",onClick:eT,size:"md",text:ez}),et&&(0,S.jsx)(a.Lt,{anchor:ed.current,disableMobileUI:!0,id:"dimension-filter-dropdown",onDismiss:eT,children:ew}),(0,S.jsx)(a.xu,{alignItems:"center",display:"flex",height:44,justifyContent:"center",position:"relative",children:(0,S.jsx)(a.hU,{accessibilityLabel:t._('Download table', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.downloadTable.accessibilityLabel', 'Icon Button text to download table'),bgColor:"white",dataTestId:"download-button",icon:"download",onClick:eI,size:"md",tooltip:{text:t._('Export table', '[m10n]bizAccess.rmnHub.mediaNetworkDashboard.downloadTable.tooltip.text', 'A download table tooltip shown to users'),idealDirection:"down"}})})]})]}),es&&(0,S.jsx)(I.Z,{applyFilter:eP,assetGroups:ei,childBusinesses:[],entityId:p,filter:L,isCatalogsEnabled:eu,toggleSheet:ex,userRole:ec})]})},eI=function(){return(0,S.jsx)(o.Fragment,{children:(0,S.jsxs)(a.xu,{marginTop:-6,children:[(0,S.jsx)(eP,{}),(0,S.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start"})]})})},eT=n(978547),eC=n(720459),eO=n(826703),ej=n(502225),ez=n(366503),ew=n(498539),eN=(0,ez.createSelector)(ew.Z,function(e){var t=e.rmnHub;return null!=t?t:{}}),eR=(0,ez.createSelector)(eN,function(e){var t=e.partners;return null!=t?t:{}}),eD=(0,ez.createSelector)(eR,function(e){var t=e.data;return null!=t?t:{}}),ek=(0,ez.createSelector)(eR,function(e){return e.totalCount});function eL(e){return(eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=eL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eL(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eL(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eM(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var eH=function(e){var t,n;return t=regeneratorRuntime.mark(function t(n,r){var s,o,a,i,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.businessId){t.next=3;break}return t.abrupt("return");case 3:return s=eD(r()),o={limit:1,startIndex:0},n({type:"GET_RMN_PARTNERS"}),t.prev=7,t.next=10,(0,ej.WP)(eB(eB({},e),{},{businessPartnerType:"RMN"}),s,o);case 10:if(a=t.sent){t.next=14;break}return n({type:"UPDATE_RMN_PARTNERS_TOTAL_COUNT",payload:{totalCount:0}}),t.abrupt("return");case 14:i=a.data,l=a.sharedData,c=a.totalCount,n({type:"GET_RMN_PARTNERS_SUCCESS",payload:{data:eB(eB({},i),l),totalCount:c}}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(7),n({type:"GET_RMN_PARTNERS_ERROR",error:t.t0});case 21:case"end":return t.stop()}},t,null,[[7,18]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(e){eM(o,r,s,a,i,"next",e)}function i(e){eM(o,r,s,a,i,"throw",e)}a(void 0)})},function(e,t){return n.apply(this,arguments)}},eZ=n(134301);function eG(e){return(eG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eF(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=eG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eG(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eG(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eq={dataReady:!0,perObjective:{},total:{graph_data:{invalidColumns:[],metrics:{timestamp:[17356896e5,1738368e6,17407872e5,17434656e5,17460576e5,1748736e6,1751328e6,17540064e5,17566848e5,17592768e5],SPEND_IN_DOLLAR:[0,0,0,0,0,0,0,0,0,0],TOTAL_IMPRESSION:[0,0,0,0,1,0,0,1,3,0],ADVERTISER_ID:[0x800078160f,0x800078160f,0x800078160f,0x800078160f,0x800078160f,0x800078160f,0x800078160f,0x800078160f,0x800078160f,0x800078160f]}}},hasError:!1},eQ="monthly",eW={yAxes:[{label:"Spend",labelColor:"#71BAC2",values:[0],series:[{key:"SPEND_IN_DOLLAR",type:"line",data:[{x:17356896e5,y:0},{x:1738368e6,y:0},{x:17407872e5,y:0},{x:17434656e5,y:0},{x:17460576e5,y:0},{x:1748736e6,y:0},{x:1751328e6,y:0},{x:17540064e5,y:0},{x:17566848e5,y:0},{x:17592768e5,y:0}],color:"#71BAC2"}]},{label:"Impressions",labelColor:"#84174B",values:[0,1,2,3,4],series:[{key:"TOTAL_IMPRESSION",type:"line",data:[{x:17356896e5,y:0},{x:1738368e6,y:0},{x:17407872e5,y:0},{x:17434656e5,y:0},{x:17460576e5,y:1},{x:1748736e6,y:0},{x:1751328e6,y:0},{x:17540064e5,y:1},{x:17566848e5,y:3},{x:17592768e5,y:0}],color:"#84174B"}]}],xAxis:{values:[17356896e5,1738368e6,17407872e5,17434656e5,17460576e5,1748736e6,1751328e6,17540064e5,17566848e5,17592768e5],boldedValues:[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]}},eX=[[{label:"None",value:"EMPTY"},{label:"Spend",value:"SPEND_IN_DOLLAR"},{label:"Pin clicks",value:"TOTAL_CLICKTHROUGH"},{label:"Outbound clicks",value:"TOTAL_OUTBOUND_CLICK"},{label:"Total CPA (Checkout)",value:"CHECKOUT_COST_PER_ACTION"},{label:"Total ROAS (Checkout)",value:"CHECKOUT_ROAS"},{label:"Total conversions (Checkout)",value:"TOTAL_CHECKOUT"},{label:"Total order value (Checkout)",value:"TOTAL_CHECKOUT_VALUE_IN_MICRO_DOLLAR"},{label:"Total conversion rate (Checkout)",value:"TOTAL_CHECKOUT_CONVERSION_RATE"}],[{label:"None",value:"EMPTY"},{label:"Impressions",value:"TOTAL_IMPRESSION"},{label:"Pin clicks",value:"TOTAL_CLICKTHROUGH"},{label:"Outbound clicks",value:"TOTAL_OUTBOUND_CLICK"},{label:"Total CPA (Checkout)",value:"CHECKOUT_COST_PER_ACTION"},{label:"Total ROAS (Checkout)",value:"CHECKOUT_ROAS"},{label:"Total conversions (Checkout)",value:"TOTAL_CHECKOUT"},{label:"Total order value (Checkout)",value:"TOTAL_CHECKOUT_VALUE_IN_MICRO_DOLLAR"},{label:"Total conversion rate (Checkout)",value:"TOTAL_CHECKOUT_CONVERSION_RATE"}]],eK=["AWARENESS","CONSIDERATION","CATALOG_SALES","WEB_CONVERSION","VIDEO_VIEW","VIDEO_COMPLETION"],e$=["SPEND_IN_DOLLAR","TOTAL_IMPRESSION"],eJ=[{lines:[{key:"SPEND_IN_DOLLAR",groupName:"Overall performance",value:"Spend",preciseLabel:"Spend",units:"currency"},{key:"TOTAL_IMPRESSION",groupName:"Overall performance",value:"Impressions",preciseLabel:"Impressions",units:"integer"},{key:"TOTAL_CLICKTHROUGH",groupName:"Engagement",value:"Pin clicks",preciseLabel:"Pin clicks",units:"integer"},{key:"TOTAL_OUTBOUND_CLICK",groupName:"Engagement",value:"Outbound clicks",preciseLabel:"Outbound clicks",units:"integer"},{key:"CHECKOUT_COST_PER_ACTION",groupName:"Checkout conversions",value:"Total CPA (Checkout)",preciseLabel:"Total CPA (Checkout)",units:"currency"},{key:"CHECKOUT_ROAS",groupName:"Checkout conversions",value:"Total ROAS (Checkout)",preciseLabel:"Total ROAS (Checkout)",units:"integer"},{key:"TOTAL_CHECKOUT",groupName:"Checkout conversions",value:"Total conversions (Checkout)",preciseLabel:"Total conversions (Checkout)",units:"integer"},{key:"TOTAL_CHECKOUT_VALUE_IN_MICRO_DOLLAR",groupName:"Checkout conversions",value:"Total order value (Checkout)",preciseLabel:"Total order value (Checkout)",units:"microcurrency"},{key:"TOTAL_CHECKOUT_CONVERSION_RATE",groupName:"Checkout conversions",value:"Total conversion rate (Checkout)",preciseLabel:"Total conversion rate (Checkout)",units:"percent"}],value:"FakeSeriesValue"}],e0=function(){},e1=function(e){var t,n=e.dimension,r=(0,l.Z)(),s=(0,i.ZP)(),u=(0,j.B)().locale,_=(0,eC.Z)(),f=(0,g.KJ)(),m=(0,d.I0)(),h=(0,d.v9)(ek),p=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eV(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eV(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=p[0],y=p[1],v=(0,eO.Z)(),A=v.isBrandBusinessV2,x=v.isRmnBusinessV2;(0,o.useEffect)(function(){f&&m(eH({businessId:f,partnerType:x&&!A?"INTERNAL":"EXTERNAL"}))},[f,A,x,m]);var E=function(){y(!b),s({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"media-network-dashboard-".concat(n,"-table-graph-toggle"),element:"BUSINESS_ACCESS_TAP",elementId:b?"hide-graph":"show-graph"})},P=r._('Toggle Graph', '[m10n]bizAccess.mediaNetworkDashboard.partnersTable.toggleGraph.accessibilityLabel', 'Accessibility label for partners table graph toggle'),I=r._('Show Graph', '[m10n]bizAccess.mediaNetworkDashboard.partnersTable.showGraph', 'Label for show graph button'),T=r._('Hide Graph', '[m10n]bizAccess.mediaNetworkDashboard.partnersTable.hideGraph', 'Label for hide graph button');return(0,S.jsx)(a.xu,{borderStyle:"shadow",marginTop:4,rounding:4,children:(0,S.jsxs)(a.xu,{padding:4,children:[(0,S.jsx)(a.iP,{accessibilityLabel:P,onTap:E,rounding:2,children:(0,S.jsxs)(a.kC,{alignItems:"start",justifyContent:"between",children:[(0,S.jsx)(a.xu,{paddingX:2,paddingY:1,children:(0,S.jsx)(a.xv,{weight:"bold",children:function(){if("partners"===n)return(0,c.nk)(r._('{{count}} partners', '[m10n]bizAccess.mediaNetworkDashboard.partnersTable.header', 'Title for the partners table. count: number of RMN partners associated with the business'),{count:h});throw Error("Unsupported dimension: ".concat(n))}()})}),(0,S.jsx)(a.zx,{accessibilityLabel:P,color:"transparent",iconEnd:b?"arrow-down":"arrow-up",iconStart:"graph-bar",onClick:E,text:b?T:I,type:"button"})]})}),(0,S.jsx)(a.xu,{children:b&&(0,S.jsx)(a.xv,{children:function(){if("partners"===n)return(0,S.jsx)(eT.Z,{graphData:eq,graphGranularity:eQ,graphProps:eY(eY({},eW),{},{xAxis:eY(eY({},eW.xAxis),{},{dataFormatter:function(e){return(0,eZ.N)(eQ,u,e,eW.xAxis.values,17605728e5)}}),yAxes:eW.yAxes.map(function(e){return eY(eY({},e),{},{dataFormatter:function(e,t){return(0,eZ.jP)(e,"integer",u,"USD",_,t)}})})}),hasConversionColumns:!0,isGraphObjectiveBreakoutActive:!1,metricOptions:eX,objectiveTypes:eK,selectedMetrics:e$,seriesControls:eJ,setMetric:e0});throw Error("Unsupported dimension: ".concat(n))}()})})]})})};function e2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e5(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e5(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e6=function(e){var t=e.tableTitle,n=e.tableSubtitle,r=(0,l.Z)(),s=e2((0,o.useState)("top"),2),i=s[0],c=s[1],u=(0,o.useRef)(null),d=e2((0,o.useState)(!1),2),_=d[0],f=d[1],m=r._('Top performers', '[m10n]bizAccess.mediaNetworkDashboard.partnerInsights.topPerformers', 'Label for top performers option'),h=r._('Bottom performers', '[m10n]bizAccess.mediaNetworkDashboard.partnerInsights.bottomPerformers', 'Label for bottom performers option'),p=function(e){c(e.item.value),f(!1)};return(0,S.jsx)(a.xu,{borderStyle:"shadow",padding:4,rounding:4,children:(0,S.jsxs)(a.kC,{alignItems:"start",justifyContent:"between",children:[(0,S.jsxs)(a.xu,{marginBottom:2,children:[(0,S.jsx)(a.xv,{weight:"bold",children:t}),(0,S.jsx)(a.xv,{color:"subtle",children:n})]}),(0,S.jsxs)(a.xu,{children:[(0,S.jsx)(a.zx,{ref:u,color:"transparent",iconEnd:"arrow-down",onClick:function(){f(!_)},selected:_,text:"top"===i?m:h}),_&&(0,S.jsxs)(a.Lt,{anchor:u.current,disableMobileUI:!0,id:"top-bottom-performers-dropdown",onDismiss:function(){return f(!1)},children:[(0,S.jsx)(a.Lt.Item,{onSelect:p,option:{value:"top",label:m}}),(0,S.jsx)(a.Lt.Item,{onSelect:p,option:{value:"bottom",label:h}})]})]})]})})};function e3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e8(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e8(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e4=function(){var e=(0,l.Z)(),t=e._('Select up to 2 metrics to display in the graph and modules below', '[m10n]businessAccess.mediaNetworkDashboard.performanceOverview.message', 'Message for Performance Overview panel'),n=e3((0,o.useState)("Ad spend"),2),r=n[0];n[1];var s=(0,c.nk)(e._('{{metric_name}}', '[m10n]bizAccess.mediaNetworkDashboard.partnerInsights.firstTable.title', 'Title for first partner insights table metric_name:the name of the metric being displayed'),{metric_name:r}).join(""),i=e3((0,o.useState)(e._('Partner insights', '[m10n]bizAccess.mediaNetworkDashboard.partnerInsights.firstTable.subtitle', 'Subtitle for first partner insights table')),2),u=i[0];i[1];var d=e3((0,o.useState)("Impressions"),2),_=d[0];d[1];var f=(0,c.nk)(e._('{{metric_name}}', '[m10n]bizAccess.mediaNetworkDashboard.partnerInsights.secondTable.title', 'Title for second partner insights table metric_name:the name of the metric being displayed'),{metric_name:_}).join(""),m=e3((0,o.useState)(e._('Partner insights', '[m10n]bizAccess.mediaNetworkDashboard.partnerInsights.secondTable.subtitle', 'Subtitle for second partner insights table')),2),h=m[0];return m[1],(0,S.jsx)(o.Fragment,{children:(0,S.jsxs)(a.xu,{marginTop:-6,children:[(0,S.jsx)(a.xv,{color:"subtle",children:t}),(0,S.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,S.jsx)(a.xu,{marginBottom:4,marginTop:4,children:(0,S.jsx)(e1,{dimension:"partners"})}),(0,S.jsxs)(a.kC,{alignItems:"stretch",direction:"row",gap:4,justifyContent:"between",children:[(0,S.jsx)(a.kC.Item,{flex:"grow",children:(0,S.jsx)(e6,{tableSubtitle:u,tableTitle:s})}),(0,S.jsx)(a.kC.Item,{flex:"grow",children:(0,S.jsx)(e6,{tableSubtitle:h,tableTitle:f})})]})]})]})})},e7=n(732249);function e9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tt(e){var t=e.onDismiss,n=(0,l.Z)(),r=(0,i.ZP)(),s=ep(),a=s.selectedAttributionWindow,c=s.setSelectedAttributionWindow,u=s.selectedConversionReportTimeType,d=s.setSelectedConversionReportTimeType,_=e9((0,o.useState)(a),2),f=_[0],m=_[1],h=e9((0,o.useState)(u),2),p=h[0],b=h[1];return(0,S.jsx)(e7.nA,{i18n:n,modalSize:"sm",onApply:function(){c(f),d(p),r({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"media-network-dashboard-conversion-settings",element:"BUSINESS_ACCESS_BUTTON",elementId:"apply-conversion-settings"}),t()},onDismiss:t,selectedAttributionWindow:f,selectedConversionReportTimeType:p,setSelectedAttributionWindow:m,setSelectedConversionReportTimeType:b,showRichHeaders:!0})}var tn=n(30587),tr=n(809293);function ts(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return to(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?to(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ta={years:-1};function ti(e){var t=e.startDate,n=e.setStartDate,r=e.endDate,s=e.setEndDate,i=e.selectedPeriod,u=e.setSelectedPeriod,d=e.useLocalTimezone,_=void 0!==d&&d,f=e.buttonColor,m=e.fullWidth,h=e.onDatePickerOpen,p=e.onDateSelected,b=(0,l.Z)(),y=(0,j.B)().locale,v=b._('Please enter a valid date between one year ago and today', 'businessAccess.datePicker.header.errorMessage', 'Error message for invalid date input'),A=ts((0,o.useState)(i),2),g=A[0],x=A[1],E=ts((0,o.useState)(t),2),P=E[0],I=E[1],T=ts((0,o.useState)(r),2),C=T[0],O=T[1],z=ts((0,o.useState)(!1),2),w=z[0],N=z[1],R=ts((0,o.useState)(null),2),D=R[0],k=R[1],L=ts((0,o.useState)(null),2),U=L[0],B=L[1],M=(0,o.useRef)(null),H=(0,o.useMemo)(function(){return new Date},[]),Z=(0,tn.Z)(H,ta);(0,o.useEffect)(function(){x(i)},[i]),(0,o.useEffect)(function(){I(t),O(r)},[t,r]);var G=(0,o.useCallback)(function(e){var t,n;return t=e,n=_,t?n?t:new Date(t.getTime()+60*t.getTimezoneOffset()*1e3):null},[_]),Y=(0,o.useCallback)(function(e,t){return e?_?e:q(e,t):null},[_]),V=(0,o.useMemo)(function(){return{dateRangeStartDate:G(P),dateRangeEndDate:G(C)}},[P,C,G]),$=V.dateRangeStartDate,J=V.dateRangeEndDate,ee=(0,o.useCallback)(function(){I(t),O(r)},[t,r]),et=(0,o.useCallback)(function(e){x(e);var t=X(e,H),n=t.startDate,r=t.endDate;I(Y(n)),O(Y(r,!0))},[H,Y]),en=(0,o.useCallback)(function(e,t){if(e||t){var n=Y(e),r=Y(t,!0),s=null===n&&null===P||null!==n&&null!==P&&n.getTime()===P.getTime(),o=null===r&&null===C||null!==r&&null!==C&&r.getTime()===C.getTime();s&&o||(x(Q.CUSTOM),I(n),O(r))}},[P,C,Y]),er=function(){k(null),B(null),ee(),x(i),N(!1)},es=(0,o.useMemo)(function(){return(0,S.jsx)(a.FX,{id:"rmn-hub-date-range",legend:b._('Date Range', 'businessAccess.datePicker.header.dateRange.legend', 'Legend for date range'),children:Object.keys(Q).map(function(e){var t=W(b,Q[e]);return t?(0,S.jsx)(a.FX.RadioButton,{checked:g===Q[e],id:Q[e],label:t,name:Q[e],onChange:function(){et(Q[e])},value:Q[e]},e):null})})},[b,g,et]),eo=(0,o.useMemo)(function(){return t?(0,F.ZP)(y,t,F.kH.NUMERIC):""},[t,y]),ea=(0,o.useMemo)(function(){return r?(0,F.ZP)(y,r,F.kH.NUMERIC):""},[r,y]),ei=(0,c.nk)(b._('{{period}}: {{startDate}}\u2013{{endDate}}', 'businessAccess.datePicker.header.reportingPeriodLabel', 'Label for the reporting period with date range. period: The selected period. startDate: The start date of the range. endDate: The end date of the range.'),{period:W(b,null!=i?i:Q.LAST_7_DAYS),startDate:eo,endDate:ea}).join("");return(0,S.jsxs)(o.Fragment,{children:[(0,S.jsx)(a.zx,{ref:M,accessibilityLabel:b._('Open calendar', 'businessAccess.datePicker.header.openCalendar', 'Accessibility label for the open calendar button'),color:void 0===f?"white":f,fullWidth:void 0!==m&&m,onClick:function(){N(function(e){var t=!e;return t&&(ee(),null==h||h()),t})},selected:w,size:"md",text:ei}),w?(0,S.jsx)(a.mh,{zIndex:new a.Ry(300),children:(0,S.jsx)(a.J2,{anchor:M.current,idealDirection:"down",onDismiss:function(){er()},size:"flexible",children:(0,S.jsx)(a.xu,{height:"100%",position:"relative",width:"100%",children:(0,S.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,S.jsx)(tr.C0,{dateErrorMessage:{startDate:D,endDate:U},dateValue:{startDate:$,endDate:J},maxDate:H,minDate:Z,onCancel:function(){er()},onDateChange:function(e,t){return en(e.value,t.value)},onDateError:{startDate:function(e){return k(e.errorMessage?v:null)},endDate:function(e){return B(e.errorMessage?v:null)}},onSubmit:function(){var e=K(P,C,H);n(P),s(C),u(e),x(e),N(!1),null==p||p({startDate:P,endDate:C,period:e})},radioGroup:es})})})})}):null]})}function tl(e){return(tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!=tl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tl(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tl(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function td(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return t_(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t_(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tf=function(e){var t=e.onAddPartnerClick,n=(0,l.Z)(),r=(0,u.y)().openSheet;return(0,S.jsx)(a.zx,{color:"gray",dataTestId:"add-partner-button",fullWidth:!0,onClick:function(){t(),r("ADD_PARTNER_INVITE_FLOW",{})},size:"md",text:n._('Add partner', '[m10n]bizAccess.rmnHub.partners.add.action', 'Button to add a partner to a business')})},tm=function(){var e=(0,l.Z)(),t=(0,i.ZP)(),n=td((0,o.useState)(!1),2),r=n[0],s=n[1],u=td((0,o.useState)(0),2),d=u[0],_=u[1],f=ep(),m=f.startDate,h=f.setStartDate,p=f.endDate,b=f.setEndDate,y=f.selectedPeriod,v=f.setSelectedPeriod,A=f.selectedAttributionWindow,g=f.filter,x=f.setFilter;(0,o.useEffect)(function(){if(m&&p){var e=J(m),t=J(p),n=et(y||Q.CUSTOM);(e!==g.startDate||t!==g.endDate||n!==g.datePresetId)&&x(tu(tu({},g),{},{startDate:e,endDate:t,datePresetId:n}))}},[m,p,y,g,x]);var E=e._('Media network dashboard', '[m10n]bizAccess.mediaNetworkDashboard.heading', 'Media network dashboard page heading'),I=(0,c.nk)(e._('Conversion settings ({{window}})', '[m10n]bizAccess.mediaNetworkDashboard.conversionSettingsLabel', 'Label for conversion settings button with attribution window. window: the attribution window value (e.g., 30/7)'),{window:(null==A?void 0:A.split("/").filter(function(e,t){return 1!==t}).join("/"))||""}).join(""),T=(0,o.useCallback)(function(){t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"media-network-dashboard-date-picker",element:"BUSINESS_ACCESS_BUTTON",elementId:"open-date-picker"})},[t]),C=(0,o.useCallback)(function(){t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"media-network-dashboard-date-picker",element:"BUSINESS_ACCESS_BUTTON",elementId:"date-selected"})},[t]),O=(0,o.useCallback)(function(){t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"media-network-dashboard",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-button"})},[t]),j=(0,o.useCallback)(function(){t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"media-network-dashboard-conversion-settings",element:"BUSINESS_ACCESS_BUTTON",elementId:"open-conversion-settings"})},[t]);return(0,S.jsx)(a.xu,{marginEnd:6,marginStart:6,paddingY:6,children:(0,S.jsxs)(a.kC,{direction:"column",gap:4,children:[(0,S.jsxs)(a.xu,{children:[(0,S.jsx)(a.xu,{marginBottom:4,marginStart:2,children:(0,S.jsx)(a.xu,{marginBottom:2,children:(0,S.jsx)(a.X6,{size:"600",children:E})})}),(0,S.jsx)(P,{}),(0,S.jsx)(a.xu,{marginTop:4,children:(0,S.jsxs)(a.kC,{alignItems:"center",gap:4,justifyContent:"between",width:"100%",children:[(0,S.jsxs)(a.kC,{alignItems:"center",gap:4,children:[(0,S.jsx)(ti,{buttonColor:"white",endDate:p,fullWidth:!0,onDatePickerOpen:T,onDateSelected:C,selectedPeriod:y,setEndDate:b,setSelectedPeriod:v,setStartDate:h,startDate:m}),(0,S.jsx)(a.zx,{color:"white",onClick:function(){j(),s(!0)},size:"md",text:I})]}),(0,S.jsx)(tf,{onAddPartnerClick:O})]})})]}),r&&(0,S.jsx)(tt,{onDismiss:function(){return s(!1)}}),(0,S.jsx)(a.xu,{marginEnd:4,children:(0,S.jsx)(a.UQ.Expandable,{accessibilityCollapseLabel:e._('Collapse Performance Overview panel', '[m10n]businessAccess.mediaNetworkDashboard.performanceOverview.expandable.collapse', 'Accesibility label for expandable component to collapse Performance Overview panel'),accessibilityExpandLabel:e._('Expand Performance Overview panel', '[m10n]businessAccess.mediaNetworkDashboard.performanceOverview.expandable.expand', 'Accesibility label for expandable component to expand Performance Overview panel'),borderStyle:"sm",expandedIndex:d,id:"performance-overview",items:[{title:e._('Performance Overview', '[m10n]businessAccess.mediaNetworkDashboard.performanceOverview.expandable.title', 'Title for Performance Overview panel'),children:(0,S.jsx)(e4,{})}],onExpandedChange:function(e){_(e),t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"media-network-dashboard-performance-overview-expandable",element:"BUSINESS_ACCESS_TAP",elementId:0===e?"expanded-accordion":"collapsed-accordion"})},size:"lg"})}),(0,S.jsx)(a.xu,{marginTop:4,children:(0,S.jsx)(eI,{})})]})})},th=function(){return(0,S.jsx)(s.Z,{pageType:r.Q6.MEDIA_NETWORK_DASHBOARD,children:(0,S.jsx)(eh,{children:(0,S.jsx)(tm,{})})})}},30587:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(291283),s=n(552010),o=n(948715),a=n(677269),i=n(3504);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if((0,a.Z)(2,arguments),!t||"object"!==l(t))return new Date(NaN);var n="years"in t?(0,i.Z)(t.years):0,c="months"in t?(0,i.Z)(t.months):0,u="weeks"in t?(0,i.Z)(t.weeks):0,d="days"in t?(0,i.Z)(t.days):0,_="hours"in t?(0,i.Z)(t.hours):0,f="minutes"in t?(0,i.Z)(t.minutes):0,m="seconds"in t?(0,i.Z)(t.seconds):0,h=(0,o.Z)(e),p=c||n?(0,s.Z)(h,c+12*n):h;return new Date((d||u?(0,r.Z)(p,d+7*u):p).getTime()+1e3*(m+60*(f+60*_)))}},776446:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(948715),s=n(677269);function o(e){(0,s.Z)(1,arguments);var t=(0,r.Z)(e);return t.setHours(23,59,59,999),t}},793301:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(560619),s=n(677269);function o(e,t){(0,s.Z)(2,arguments);var n=(0,r.Z)(e),o=(0,r.Z)(t);return n.getTime()===o.getTime()}},364545:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(793301),s=n(68213),o=n(677269);function a(e){return(0,o.Z)(1,arguments),(0,r.Z)(e,(0,s.Z)(Date.now(),1))}},998986:function(e,t,n){e.exports=n(263279)(n(663038),"DataView")},558798:function(e,t,n){var r=n(97542),s=n(812128),o=n(538808),a=n(504859),i=n(419469);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=s,l.prototype.get=o,l.prototype.has=a,l.prototype.set=i,e.exports=l},464260:function(e,t,n){var r=n(77111),s=n(556058),o=n(629941),a=n(317353),i=n(795642);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=s,l.prototype.get=o,l.prototype.has=a,l.prototype.set=i,e.exports=l},645048:function(e,t,n){e.exports=n(263279)(n(663038),"Map")},703023:function(e,t,n){var r=n(645327),s=n(937e3),o=n(395329),a=n(790996),i=n(903602);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=s,l.prototype.get=o,l.prototype.has=a,l.prototype.set=i,e.exports=l},234388:function(e,t,n){e.exports=n(263279)(n(663038),"Promise")},148368:function(e,t,n){e.exports=n(263279)(n(663038),"Set")},691194:function(e,t,n){var r=n(703023),s=n(161026),o=n(451618);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=s,a.prototype.has=o,e.exports=a},793171:function(e,t,n){var r=n(464260),s=n(158582),o=n(758169),a=n(273924),i=n(703052),l=n(189967);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=s,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=l,e.exports=c},981697:function(e,t,n){e.exports=n(663038).Symbol},465557:function(e,t,n){e.exports=n(663038).Uint8Array},715412:function(e,t,n){e.exports=n(263279)(n(663038),"WeakMap")},145527:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},265575:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,s=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[s++]=a)}return o}},478671:function(e,t,n){var r=n(201977);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},833326:function(e){e.exports=function(e,t,n){for(var r=-1,s=null==e?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}},149543:function(e,t,n){var r=n(752133),s=n(347596),o=n(962840),a=n(507283),i=n(297153),l=n(368203),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&s(e),d=!n&&!u&&a(e),_=!n&&!u&&!d&&l(e),f=n||u||d||_,m=f?r(e.length,String):[],h=m.length;for(var p in e)(t||c.call(e,p))&&!(f&&("length"==p||d&&("offset"==p||"parent"==p)||_&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||i(p,h)))&&m.push(p);return m}},842117:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}},553851:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}},332217:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},338173:function(e,t,n){var r=n(349826),s=n(612640),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&s(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},712075:function(e,t,n){var r=n(612640);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return -1}},349826:function(e,t,n){var r=n(419368);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},194185:function(e,t,n){var r=n(780272);e.exports=n(916857)(r)},967919:function(e){e.exports=function(e,t,n,r){for(var s=e.length,o=n+(r?1:-1);r?o--:++o<s;)if(t(e[o],o,e))return o;return -1}},330529:function(e,t,n){var r=n(553851),s=n(231678);e.exports=function e(t,n,o,a,i){var l=-1,c=t.length;for(o||(o=s),i||(i=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,a,i):r(i,u):a||(i[i.length]=u)}return i}},300865:function(e,t,n){e.exports=n(592188)()},780272:function(e,t,n){var r=n(300865),s=n(185155);e.exports=function(e,t){return e&&r(e,t,s)}},330462:function(e,t,n){var r=n(899227),s=n(55372);e.exports=function(e,t){t=r(t,e);for(var n=0,o=t.length;null!=e&&n<o;)e=e[s(t[n++])];return n&&n==o?e:void 0}},214632:function(e,t,n){var r=n(553851),s=n(962840);e.exports=function(e,t,n){var o=t(e);return s(e)?o:r(o,n(e))}},595953:function(e,t,n){var r=n(981697),s=n(759018),o=n(924297),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?s(e):o(e)}},897046:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},201977:function(e,t,n){var r=n(967919),s=n(793128),o=n(367314);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,s,n)}},400659:function(e,t,n){var r=n(595953),s=n(782359);e.exports=function(e){return s(e)&&"[object Arguments]"==r(e)}},346977:function(e,t,n){var r=n(839431),s=n(782359);e.exports=function e(t,n,o,a,i){return t===n||(null!=t&&null!=n&&(s(t)||s(n))?r(t,n,o,a,e,i):t!=t&&n!=n)}},839431:function(e,t,n){var r=n(793171),s=n(469716),o=n(410055),a=n(348100),i=n(962818),l=n(962840),c=n(507283),u=n(368203),d="[object Arguments]",_="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,h,p,b){var y=l(e),v=l(t),A=y?_:i(e),g=v?_:i(t);A=A==d?f:A,g=g==d?f:g;var S=A==f,x=g==f,E=A==g;if(E&&c(e)){if(!c(t))return!1;y=!0,S=!1}if(E&&!S)return b||(b=new r),y||u(e)?s(e,t,n,h,p,b):o(e,t,A,n,h,p,b);if(!(1&n)){var P=S&&m.call(e,"__wrapped__"),I=x&&m.call(t,"__wrapped__");if(P||I){var T=P?e.value():e,C=I?t.value():t;return b||(b=new r),p(T,C,n,h,b)}}return!!E&&(b||(b=new r),a(e,t,n,h,p,b))}},933676:function(e,t,n){var r=n(793171),s=n(346977);e.exports=function(e,t,n,o){var a=n.length,i=a,l=!o;if(null==e)return!i;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<i;){var u=(c=n[a])[0],d=e[u],_=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(o)var m=o(d,_,u,e,t,f);if(!(void 0===m?s(_,d,3,o,f):m))return!1}}return!0}},793128:function(e){e.exports=function(e){return e!=e}},126206:function(e,t,n){var r=n(998994),s=n(473047),o=n(425686),a=n(182578),i=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||s(e))&&(r(e)?d:i).test(a(e))}},420513:function(e,t,n){var r=n(595953),s=n(157112),o=n(782359),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&s(e.length)&&!!a[r(e)]}},777382:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(565871),o=n(644618),a=n(690905),i=n(962840),l=n(697734);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==r(e)?i(e)?o(e[0],e[1]):s(e):l(e)}},431981:function(e,t,n){var r=n(728403),s=n(262872),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},673501:function(e,t,n){var r=n(425686),s=n(728403),o=n(71231),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=s(e),n=[];for(var i in e)"constructor"==i&&(t||!a.call(e,i))||n.push(i);return n}},907012:function(e,t,n){var r=n(194185),s=n(236614);e.exports=function(e,t){var n=-1,o=s(e)?Array(e.length):[];return r(e,function(e,r,s){o[++n]=t(e,r,s)}),o}},565871:function(e,t,n){var r=n(933676),s=n(391371),o=n(326984);e.exports=function(e){var t=s(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},644618:function(e,t,n){var r=n(346977),s=n(681290),o=n(212305),a=n(663965),i=n(98308),l=n(326984),c=n(55372);e.exports=function(e,t){return a(e)&&i(t)?l(c(e),t):function(n){var a=s(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},40340:function(e,t,n){var r=n(842117),s=n(330462),o=n(777382),a=n(907012),i=n(136019),l=n(307641),c=n(642058),u=n(690905),d=n(962840);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return s(t,1===e.length?e[0]:e)}:e}):[u];var _=-1;return t=r(t,l(o)),i(a(e,function(e,n,s){return{criteria:r(t,function(t){return t(e)}),index:++_,value:e}}),function(e,t){return c(e,t,n)})}},645566:function(e,t,n){var r=n(489546),s=n(212305);e.exports=function(e,t){return r(e,t,function(t,n){return s(e,n)})}},489546:function(e,t,n){var r=n(330462),s=n(274836),o=n(899227);e.exports=function(e,t,n){for(var a=-1,i=t.length,l={};++a<i;){var c=t[a],u=r(e,c);n(u,c)&&s(l,o(c,e),u)}return l}},186217:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},920445:function(e,t,n){var r=n(330462);e.exports=function(e){return function(t){return r(t,e)}}},189691:function(e,t,n){var r=n(690905),s=n(565412),o=n(223849);e.exports=function(e,t){return o(s(e,t,r),e+"")}},274836:function(e,t,n){var r=n(338173),s=n(899227),o=n(297153),a=n(425686),i=n(55372);e.exports=function(e,t,n,l){if(!a(e))return e;t=s(t,e);for(var c=-1,u=t.length,d=u-1,_=e;null!=_&&++c<u;){var f=i(t[c]),m=n;if("__proto__"===f||"constructor"===f||"prototype"===f)break;if(c!=d){var h=_[f];void 0===(m=l?l(h,f,_):void 0)&&(m=a(h)?h:o(t[c+1])?[]:{})}r(_,f,m),_=_[f]}return e}},745388:function(e,t,n){var r=n(721406),s=n(419368),o=n(690905);e.exports=s?function(e,t){return s(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o},136019:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},752133:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},938540:function(e,t,n){var r=n(981697),s=n(842117),o=n(962840),a=n(92309),i=1/0,l=r?r.prototype:void 0,c=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return s(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-i?"-0":n}},307641:function(e){e.exports=function(e){return function(t){return e(t)}}},530179:function(e,t,n){var r=n(691194),s=n(478671),o=n(833326),a=n(578037),i=n(131182),l=n(865483);e.exports=function(e,t,n){var c=-1,u=s,d=e.length,_=!0,f=[],m=f;if(n)_=!1,u=o;else if(d>=200){var h=t?null:i(e);if(h)return l(h);_=!1,u=a,m=new r}else m=t?[]:f;e:for(;++c<d;){var p=e[c],b=t?t(p):p;if(p=n||0!==p?p:0,_&&b==b){for(var y=m.length;y--;)if(m[y]===b)continue e;t&&m.push(b),f.push(p)}else u(m,b,n)||(m!==f&&m.push(b),f.push(p))}return f}},578037:function(e){e.exports=function(e,t){return e.has(t)}},899227:function(e,t,n){var r=n(962840),s=n(663965),o=n(419299),a=n(109201);e.exports=function(e,t){return r(e)?e:s(e,t)?[e]:o(a(e))}},928165:function(e,t,n){var r=n(92309);e.exports=function(e,t){if(e!==t){var n=void 0!==e,s=null===e,o=e==e,a=r(e),i=void 0!==t,l=null===t,c=t==t,u=r(t);if(!l&&!u&&!a&&e>t||a&&i&&c&&!l&&!u||s&&i&&c||!n&&c||!o)return 1;if(!s&&!a&&!u&&e<t||u&&n&&o&&!s&&!a||l&&n&&o||!i&&o||!c)return -1}return 0}},642058:function(e,t,n){var r=n(928165);e.exports=function(e,t,n){for(var s=-1,o=e.criteria,a=t.criteria,i=o.length,l=n.length;++s<i;){var c=r(o[s],a[s]);if(c){if(s>=l)return c;return c*("desc"==n[s]?-1:1)}}return e.index-t.index}},961824:function(e,t,n){e.exports=n(663038)["__core-js_shared__"]},916857:function(e,t,n){var r=n(236614);e.exports=function(e,t){return function(n,s){if(null==n)return n;if(!r(n))return e(n,s);for(var o=n.length,a=t?o:-1,i=Object(n);(t?a--:++a<o)&&!1!==s(i[a],a,i););return n}}},592188:function(e){e.exports=function(e){return function(t,n,r){for(var s=-1,o=Object(t),a=r(t),i=a.length;i--;){var l=a[e?i:++s];if(!1===n(o[l],l,o))break}return t}}},131182:function(e,t,n){var r=n(148368),s=n(804513),o=n(865483);e.exports=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:s},419368:function(e,t,n){var r=n(263279);e.exports=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},469716:function(e,t,n){var r=n(691194),s=n(332217),o=n(578037);e.exports=function(e,t,n,a,i,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var _=l.get(e),f=l.get(t);if(_&&f)return _==t&&f==e;var m=-1,h=!0,p=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++m<u;){var b=e[m],y=t[m];if(a)var v=c?a(y,b,m,t,e,l):a(b,y,m,e,t,l);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!s(t,function(e,t){if(!o(p,t)&&(b===e||i(b,e,n,a,l)))return p.push(t)})){h=!1;break}}else if(!(b===y||i(b,y,n,a,l))){h=!1;break}}return l.delete(e),l.delete(t),h}},410055:function(e,t,n){var r=n(981697),s=n(465557),o=n(612640),a=n(469716),i=n(514929),l=n(865483),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,_){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!d(new s(e),new s(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=i;case"[object Set]":var m=1&r;if(f||(f=l),e.size!=t.size&&!m)break;var h=_.get(e);if(h)return h==t;r|=2,_.set(e,t);var p=a(f(e),f(t),r,c,d,_);return _.delete(e),p;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},348100:function(e,t,n){var r=n(158633),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,i){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var _=c[d];if(!(l?_ in t:s.call(t,_)))return!1}var f=i.get(e),m=i.get(t);if(f&&m)return f==t&&m==e;var h=!0;i.set(e,t),i.set(t,e);for(var p=l;++d<u;){var b=e[_=c[d]],y=t[_];if(o)var v=l?o(y,b,_,t,e,i):o(b,y,_,e,t,i);if(!(void 0===v?b===y||a(b,y,n,o,i):v)){h=!1;break}p||(p="constructor"==_)}if(h&&!p){var A=e.constructor,g=t.constructor;A!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof A&&A instanceof A&&"function"==typeof g&&g instanceof g)&&(h=!1)}return i.delete(e),i.delete(t),h}},23677:function(e,t,n){var r=n(401172),s=n(565412),o=n(223849);e.exports=function(e){return o(s(e,void 0,r),e+"")}},171008:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=(void 0===n.g?"undefined":r(n.g))=="object"&&n.g&&n.g.Object===Object&&n.g},158633:function(e,t,n){var r=n(214632),s=n(705553),o=n(185155);e.exports=function(e){return r(e,o,s)}},535313:function(e,t,n){var r=n(214632),s=n(703329),o=n(694250);e.exports=function(e){return r(e,o,s)}},369744:function(e,t,n){var r=n(393630);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},391371:function(e,t,n){var r=n(98308),s=n(185155);e.exports=function(e){for(var t=s(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},263279:function(e,t,n){var r=n(126206),s=n(462343);e.exports=function(e,t){var n=s(e,t);return r(n)?n:void 0}},136001:function(e,t,n){e.exports=n(74758)(Object.getPrototypeOf,Object)},759018:function(e,t,n){var r=n(981697),s=Object.prototype,o=s.hasOwnProperty,a=s.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(e){}var s=a.call(e);return r&&(t?e[i]=n:delete e[i]),s}},705553:function(e,t,n){var r=n(265575),s=n(248679),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;e.exports=a?function(e){return null==e?[]:r(a(e=Object(e)),function(t){return o.call(e,t)})}:s},703329:function(e,t,n){var r=n(553851),s=n(136001),o=n(705553),a=n(248679);e.exports=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=s(e);return t}:a},962818:function(e,t,n){var r=n(998986),s=n(645048),o=n(234388),a=n(148368),i=n(715412),l=n(595953),c=n(182578),u="[object Map]",d="[object Promise]",_="[object Set]",f="[object WeakMap]",m="[object DataView]",h=c(r),p=c(s),b=c(o),y=c(a),v=c(i),A=l;(r&&A(new r(new ArrayBuffer(1)))!=m||s&&A(new s)!=u||o&&A(o.resolve())!=d||a&&A(new a)!=_||i&&A(new i)!=f)&&(A=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case h:return m;case p:return u;case b:return d;case y:return _;case v:return f}return t}),e.exports=A},462343:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},171644:function(e,t,n){var r=n(899227),s=n(347596),o=n(962840),a=n(297153),i=n(157112),l=n(55372);e.exports=function(e,t,n){t=r(t,e);for(var c=-1,u=t.length,d=!1;++c<u;){var _=l(t[c]);if(!(d=null!=e&&n(e,_)))break;e=e[_]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&i(u)&&a(_,u)&&(o(e)||s(e))}},97542:function(e,t,n){var r=n(761951);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},812128:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t}},538808:function(e,t,n){var r=n(761951),s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return s.call(t,e)?t[e]:void 0}},504859:function(e,t,n){var r=n(761951),s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:s.call(t,e)}},419469:function(e,t,n){var r=n(761951);e.exports=function(e,t){var n=this.__data__;return this.size+=+!this.has(e),n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},231678:function(e,t,n){var r=n(981697),s=n(347596),o=n(962840),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||s(e)||!!(a&&e&&e[a])}},297153:function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var s=t(e);return!!(r=null==r?0x1fffffffffffff:r)&&("number"==s||"symbol"!=s&&n.test(e))&&e>-1&&e%1==0&&e<r}},281119:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(612640),o=n(236614),a=n(297153),i=n(425686);e.exports=function(e,t,n){if(!i(n))return!1;var l=r(t);return("number"==l?!!(o(n)&&a(t,n.length)):"string"==l&&t in n)&&s(n[t],e)}},663965:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(962840),o=n(92309),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(s(e))return!1;var n=r(e);return!!("number"==n||"symbol"==n||"boolean"==n||null==e||o(e))||i.test(e)||!a.test(e)||null!=t&&e in Object(t)}},393630:function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var n=t(e);return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}},473047:function(e,t,n){var r,s=n(961824),o=(r=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},728403:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},98308:function(e,t,n){var r=n(425686);e.exports=function(e){return e==e&&!r(e)}},77111:function(e){e.exports=function(){this.__data__=[],this.size=0}},556058:function(e,t,n){var r=n(712075),s=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():s.call(t,n,1),--this.size,!0)}},629941:function(e,t,n){var r=n(712075);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},317353:function(e,t,n){var r=n(712075);e.exports=function(e){return r(this.__data__,e)>-1}},795642:function(e,t,n){var r=n(712075);e.exports=function(e,t){var n=this.__data__,s=r(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}},645327:function(e,t,n){var r=n(558798),s=n(464260),o=n(645048);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||s),string:new r}}},937e3:function(e,t,n){var r=n(369744);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=!!t,t}},395329:function(e,t,n){var r=n(369744);e.exports=function(e){return r(this,e).get(e)}},790996:function(e,t,n){var r=n(369744);e.exports=function(e){return r(this,e).has(e)}},903602:function(e,t,n){var r=n(369744);e.exports=function(e,t){var n=r(this,e),s=n.size;return n.set(e,t),this.size+=+(n.size!=s),this}},514929:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},326984:function(e){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},293956:function(e,t,n){var r=n(990400);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},761951:function(e,t,n){e.exports=n(263279)(Object,"create")},262872:function(e,t,n){e.exports=n(74758)(Object.keys,Object)},71231:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},791414:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=n.nmd(e);var s=n(171008),o="object"==r(t)&&t&&!t.nodeType&&t,a=o&&"object"==r(e)&&e&&!e.nodeType&&e,i=a&&a.exports===o&&s.process,l=function(){try{var e=a&&a.require&&a.require("util").types;if(e)return e;return i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=l},924297:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},74758:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},565412:function(e,t,n){var r=n(145527),s=Math.max;e.exports=function(e,t,n){return t=s(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,i=s(o.length-t,0),l=Array(i);++a<i;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},663038:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(171008),o=("undefined"==typeof self?"undefined":r(self))=="object"&&self&&self.Object===Object&&self;e.exports=s||o||Function("return this")()},161026:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},451618:function(e){e.exports=function(e){return this.__data__.has(e)}},865483:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},223849:function(e,t,n){var r=n(745388);e.exports=n(363591)(r)},363591:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var s=t(),o=16-(s-r);if(r=s,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},158582:function(e,t,n){var r=n(464260);e.exports=function(){this.__data__=new r,this.size=0}},758169:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},273924:function(e){e.exports=function(e){return this.__data__.get(e)}},703052:function(e){e.exports=function(e){return this.__data__.has(e)}},189967:function(e,t,n){var r=n(464260),s=n(645048),o=n(703023);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!s||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},367314:function(e){e.exports=function(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return -1}},419299:function(e,t,n){var r=n(293956),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g;e.exports=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(s,function(e,n,r,s){t.push(r?s.replace(o,"$1"):n||e)}),t})},55372:function(e,t,n){var r=n(92309),s=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-s?"-0":t}},182578:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},721406:function(e){e.exports=function(e){return function(){return e}}},350017:function(e,t,n){var r=n(189691),s=n(612640),o=n(281119),a=n(694250),i=Object.prototype,l=i.hasOwnProperty;e.exports=r(function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&o(t[0],t[1],c)&&(r=1);++n<r;)for(var u=t[n],d=a(u),_=-1,f=d.length;++_<f;){var m=d[_],h=e[m];(void 0===h||s(h,i[m])&&!l.call(e,m))&&(e[m]=u[m])}return e})},612640:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},401172:function(e,t,n){var r=n(330529);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},681290:function(e,t,n){var r=n(330462);e.exports=function(e,t,n){var s=null==e?void 0:r(e,t);return void 0===s?n:s}},212305:function(e,t,n){var r=n(897046),s=n(171644);e.exports=function(e,t){return null!=e&&s(e,t,r)}},690905:function(e){e.exports=function(e){return e}},347596:function(e,t,n){var r=n(400659),s=n(782359),o=Object.prototype,a=o.hasOwnProperty,i=o.propertyIsEnumerable;e.exports=r(function(){return arguments}())?r:function(e){return s(e)&&a.call(e,"callee")&&!i.call(e,"callee")}},962840:function(e){e.exports=Array.isArray},236614:function(e,t,n){var r=n(998994),s=n(157112);e.exports=function(e){return null!=e&&s(e.length)&&!r(e)}},507283:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=n.nmd(e);var s=n(663038),o=n(581350),a="object"==r(t)&&t&&!t.nodeType&&t,i=a&&"object"==r(e)&&e&&!e.nodeType&&e,l=i&&i.exports===a?s.Buffer:void 0,c=l?l.isBuffer:void 0;e.exports=c||o},863657:function(e,t,n){var r=n(431981),s=n(962818),o=n(347596),a=n(962840),i=n(236614),l=n(507283),c=n(728403),u=n(368203),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(i(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||o(e)))return!e.length;var t=s(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},663763:function(e,t,n){var r=n(346977);e.exports=function(e,t){return r(e,t)}},998994:function(e,t,n){var r=n(595953),s=n(425686);e.exports=function(e){if(!s(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},157112:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}},425686:function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var n=t(e);return null!=e&&("object"==n||"function"==n)}},782359:function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){return null!=e&&"object"==t(e)}},2927:function(e,t,n){var r=n(595953),s=n(136001),o=n(782359),a=Object.prototype,i=Function.prototype.toString,l=a.hasOwnProperty,c=i.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=s(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&i.call(n)==c}},92309:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(595953),o=n(782359);e.exports=function(e){return"symbol"==r(e)||o(e)&&"[object Symbol]"==s(e)}},368203:function(e,t,n){var r=n(420513),s=n(307641),o=n(791414),a=o&&o.isTypedArray;e.exports=a?s(a):r},500704:function(e){e.exports=function(e){return void 0===e}},185155:function(e,t,n){var r=n(149543),s=n(431981),o=n(236614);e.exports=function(e){return o(e)?r(e):s(e)}},694250:function(e,t,n){var r=n(149543),s=n(673501),o=n(236614);e.exports=function(e){return o(e)?r(e,!0):s(e)}},990400:function(e,t,n){var r=n(703023);function s(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function n(){var r=arguments,s=t?t.apply(this,r):r[0],o=n.cache;if(o.has(s))return o.get(s);var a=e.apply(this,r);return n.cache=o.set(s,a)||o,a};return n.cache=new(s.Cache||r),n}s.Cache=r,e.exports=s},38270:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},804513:function(e){e.exports=function(){}},124304:function(e,t,n){var r=n(777382),s=n(38270),o=n(351288);e.exports=function(e,t){return o(e,s(r(t)))}},77933:function(e,t,n){var r=n(40340),s=n(962840);e.exports=function(e,t,n,o){return null==e?[]:(s(t)||(t=null==t?[]:[t]),s(n=o?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},192673:function(e,t,n){var r=n(645566);e.exports=n(23677)(function(e,t){return null==e?{}:r(e,t)})},351288:function(e,t,n){var r=n(842117),s=n(777382),o=n(489546),a=n(535313);e.exports=function(e,t){if(null==e)return{};var n=r(a(e),function(e){return[e]});return t=s(t),o(e,n,function(e,n){return t(e,n[0])})}},697734:function(e,t,n){var r=n(186217),s=n(920445),o=n(663965),a=n(55372);e.exports=function(e){return o(e)?r(a(e)):s(e)}},248679:function(e){e.exports=function(){return[]}},581350:function(e){e.exports=function(){return!1}},109201:function(e,t,n){var r=n(938540);e.exports=function(e){return null==e?"":r(e)}},37581:function(e,t,n){var r=n(530179);e.exports=function(e){return e&&e.length?r(e):[]}},126578:function(e,t,n){var r=n(109201),s=0;e.exports=function(e){var t=++s;return r(e)+t}},961162:function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n="undefined"!=typeof Element,r="function"==typeof Map,s="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,a){try{return function e(a,i){if(a===i)return!0;if(a&&i&&"object"==t(a)&&"object"==t(i)){var l,c,u,d;if(a.constructor!==i.constructor)return!1;if(Array.isArray(a)){if((l=a.length)!=i.length)return!1;for(c=l;0!=c--;)if(!e(a[c],i[c]))return!1;return!0}if(r&&a instanceof Map&&i instanceof Map){if(a.size!==i.size)return!1;for(d=a.entries();!(c=d.next()).done;)if(!i.has(c.value[0]))return!1;for(d=a.entries();!(c=d.next()).done;)if(!e(c.value[1],i.get(c.value[0])))return!1;return!0}if(s&&a instanceof Set&&i instanceof Set){if(a.size!==i.size)return!1;for(d=a.entries();!(c=d.next()).done;)if(!i.has(c.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(i)){if((l=a.length)!=i.length)return!1;for(c=l;0!=c--;)if(a[c]!==i[c])return!1;return!0}if(a.constructor===RegExp)return a.source===i.source&&a.flags===i.flags;if(a.valueOf!==Object.prototype.valueOf&&"function"==typeof a.valueOf&&"function"==typeof i.valueOf)return a.valueOf()===i.valueOf();if(a.toString!==Object.prototype.toString&&"function"==typeof a.toString&&"function"==typeof i.toString)return a.toString()===i.toString();if((l=(u=Object.keys(a)).length)!==Object.keys(i).length)return!1;for(c=l;0!=c--;)if(!Object.prototype.hasOwnProperty.call(i,u[c]))return!1;if(n&&a instanceof Element)return!1;for(c=l;0!=c--;)if(("_owner"!==u[c]&&"__v"!==u[c]&&"__o"!==u[c]||!a.$$typeof)&&!e(a[u[c]],i[u[c]]))return!1;return!0}return a!=a&&i!=i}(e,a)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},995978:function(e,t,n){"use strict";n.d(t,{_:function(){return E}});var r=n(425686),s=n.n(r),o=n(126578),a=n.n(o),i=n(350017),l=n.n(i),c=n(387784);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&d(s,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=_(s);return e=t?Reflect.construct(n,arguments,_(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function s(e){var t;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");return(t=r.call(this,e)).map=void 0,t.index=void 0,t.portalRegister=function(){return++t.index},t.portalUpdate=function(e,n){t.map[e]=n,t.forceUpdate()},t.portalDeregister=function(e){delete t.map[e],t.forceUpdate()},t.map={},t.index=1,t}return n=[{key:"getChildren",value:function(){var e=this;return Object.keys(this.map).map(function(t){var n=e.map[t];return n?c.cloneElement(n,{key:t}):n})}},{key:"render",value:function(){return c.createElement("svg",this.props,this.getChildren())}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(s.prototype,n),Object.defineProperty(s,"prototype",{writable:!1}),s}(c.Component);f.displayName="Portal";var m=n(407968),h=n(529353),p=n(737688),b=n(221538);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&S(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=x(o);return e=t?Reflect.construct(n,arguments,x(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function o(e){var t;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return(t=r.call(this,e)).containerId=void 0,t.portalRef=void 0,t.containerRef=void 0,t.shouldHandleWheel=void 0,t.savePortalRef=function(e){return t.portalRef=e,e},t.portalUpdate=function(e,n){return t.portalRef.portalUpdate(e,n)},t.portalRegister=function(){return t.portalRef.portalRegister()},t.portalDeregister=function(e){return t.portalRef.portalDeregister(e)},t.saveContainerRef=function(e){return p.mf(t.props.containerRef)&&t.props.containerRef(e),t.containerRef=e,e},t.handleWheel=function(e){return e.preventDefault()},t.containerId=s()(e)&&void 0!==e.containerId?e.containerId:a()("victory-container-"),t.shouldHandleWheel=!!(e&&e.events&&e.events.onWheel),t}return n=[{key:"componentDidMount",value:function(){this.shouldHandleWheel&&this.containerRef&&this.containerRef.addEventListener("wheel",this.handleWheel)}},{key:"componentWillUnmount",value:function(){this.shouldHandleWheel&&this.containerRef&&this.containerRef.removeEventListener("wheel",this.handleWheel)}},{key:"getIdForElement",value:function(e){return"".concat(this.containerId,"-").concat(e)}},{key:"getChildren",value:function(e){return e.children}},{key:"getOUIAProps",value:function(e){var t=e.ouiaId,n=e.ouiaSafe,r=e.ouiaType;return g(g(g({},t&&{"data-ouia-component-id":t}),r&&{"data-ouia-component-type":r}),void 0!==n&&{"data-ouia-safe":n})}},{key:"renderContainer",value:function(e,t,n){var r=e.title,s=e.desc,o=e.portalComponent,a=e.className,i=e.width,u=e.height,d=e.portalZIndex,_=e.responsive,f=this.getChildren(e),h=_?{width:"100%",height:"100%"}:{width:i,height:u},p=Object.assign({pointerEvents:"none",touchAction:"none",position:"relative"},h),b=Object.assign({zIndex:d,position:"absolute",top:0,left:0},h),y=Object.assign({pointerEvents:"all"},h),A=Object.assign({overflow:"visible"},h),S={width:i,height:u,viewBox:t.viewBox,preserveAspectRatio:t.preserveAspectRatio,style:A};return c.createElement(m.w.Provider,{value:{portalUpdate:this.portalUpdate,portalRegister:this.portalRegister,portalDeregister:this.portalDeregister}},c.createElement("div",v({style:l()({},n,p),className:a,ref:this.saveContainerRef},this.getOUIAProps(e)),c.createElement("svg",v({},t,{style:y}),r?c.createElement("title",{id:this.getIdForElement("title")},r):null,s?c.createElement("desc",{id:this.getIdForElement("desc")},s):null,f),c.createElement("div",{style:b},c.cloneElement(o,g(g({},S),{},{ref:this.savePortalRef})))))}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.responsive,s=e.events,o=e.title,a=e.desc,i=e.tabIndex,l=e.preserveAspectRatio,c=e.role,u=r?this.props.style:p.CE(this.props.style,["height","width"]),d=b.IG(this.props),_=Object.assign(g({width:t,height:n,tabIndex:i,role:c,"aria-labelledby":[o&&this.getIdForElement("title"),this.props["aria-labelledby"]].filter(Boolean).join(" ")||void 0,"aria-describedby":[a&&this.getIdForElement("desc"),this.props["aria-describedby"]].filter(Boolean).join(" ")||void 0,viewBox:r?"0 0 ".concat(t," ").concat(n):void 0,preserveAspectRatio:r?l:void 0},d),s);return this.renderContainer(this.props,_,u)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(c.Component);E.displayName="VictoryContainer",E.role="container",E.defaultProps={className:"VictoryContainer",portalComponent:c.createElement(f,null),portalZIndex:99,responsive:!0,role:"img"},E.contextType=h.Z},25290:function(e,t,n){"use strict";n.d(t,{X:function(){return q}});var r=n(863657),s=n.n(r),o=n(350017),a=n.n(o),i=n(387784),l=n(136008),c=n(137881),u=n(737688),d=["children","desc","id","origin","tabIndex","title"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var f=["desc","id","tabIndex","origin"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var h=n(843002),p=n(638841),b=n(638666),y=n(820299),v=n(221538);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return x(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E={fill:"#252525",fontSize:14,fontFamily:"'Gill Sans', 'Gill Sans MT', 'Ser\xadavek', 'Trebuchet MS', sans-serif",stroke:"transparent"},P=function(e,t){return e.datum?u.q2(e,e.datum)[t]:0},I=function(e){var t=e&&e.fontSize;if("number"==typeof t)return t;if(null==t);else if("string"==typeof t){var n=Number(t.replace("px",""));if(!isNaN(n))return n;p.Z("fontSize should be expressed as a number of pixels")}return E.fontSize},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.isArray(e)?e[t]||e[0]:e},C=function(e){var t=e.backgroundStyle,n=e.backgroundPadding;return Array.isArray(t)&&!s()(t)||Array.isArray(n)&&!s()(n)},O=function(e,t){if(t.disableInlineStyles)return{fontSize:I(u.F3(e,t))};var n=function(e){var n=u.F3(e?a()({},e,E):E,t);return Object.assign({},n,{fontSize:I(n)})};return Array.isArray(e)&&!s()(e)?e.map(function(e){return n(e)}):n(e)},j=function(e,t){if(e)return Array.isArray(e)&&!s()(e)?e.map(function(e){return u.F3(e,t)}):u.F3(e,t)},z=function(e){if(e.backgroundPadding&&Array.isArray(e.backgroundPadding))return e.backgroundPadding.map(function(t){var n=u.xs(t,e);return u.tQ({padding:n})});var t=u.xs(e.backgroundPadding,e);return u.tQ({padding:t})},w=function(e){var t=u.xs(e.lineHeight,e);return Array.isArray(t)&&s()(t)?[1]:t},N=function(e,t){if(null!=e){if(Array.isArray(e))return e.map(function(e){return u.xs(e,t)});var n=u.xs(e,t);if(null!=n)return Array.isArray(n)?n:"".concat(n).split("\n")}},R=function(e,t,n){var r=e.dy?u.xs(e.dy,e):0,s=e.inline?1:e.text.length,o=u.xs(e.capHeight,e),a=t?u.xs(t,e):"middle",i=S(Array(s).keys()).map(function(t){return T(e.style,t).fontSize}),l=S(Array(s).keys()).map(function(e){return T(n,e)});if("start"===a)return r+(o/2+l[0]/2)*i[0];if(e.inline)return"end"===a?r+(o/2-l[0]/2)*i[0]:r+o/2*i[0];if(1===s)return"end"===a?r+(o/2+(.5-s)*l[0])*i[0]:r+(o/2+(.5-s/2)*l[0])*i[0];var c=S(Array(s).keys()).reduce(function(e,t){return e+(o/2+(.5-s)*l[t])*i[t]/s},0);return"end"===a?r+c:r+c/2+o/2*l[s-1]*i[s-1]},D=function(e,t,n){var r=e.polar,s=T(e.style),o=r?h.Sw(e):0,a=void 0===s.angle?u.xs(e.angle,e):s.angle,i=void 0===a?o:a,l=e.transform||s.transform,c=l&&u.xs(l,e);return c||i?b._(c,i&&{rotate:[i,t,n]}):void 0},k=function(e,t){var n=e.direction,r=e.textAnchor,s=e.x,o=e.dx;if("rtl"===n)return s-t;switch(r){case"middle":return Math.round(s-t/2);case"end":return Math.round(s-t);default:return s+(o||0)}},L=function(e,t){var n=e.verticalAnchor,r=e.y,s=e.originalDy,o=r+(void 0===s?0:s);switch(n){case"start":return Math.floor(o);case"end":return Math.ceil(o-t);default:return Math.floor(o-t/2)}},U=function(e,t){var n=e.dx,r=void 0===n?0:n,s=e.transform,o=e.backgroundComponent,l=e.backgroundStyle,c=e.inline,u=e.backgroundPadding,d=e.capHeight,_=t.map(function(e){return e.textSize}),f=c?Math.max.apply(Math,S(_.map(function(e){return e.height}))):_.reduce(function(e,n,r){return e+n.height*(t[r].lineHeight-(r?0:d/2))},0),m=c?_.reduce(function(e,t,n){return e+t.width+(n?r:0)},0):Math.max.apply(Math,S(_.map(function(e){return e.width}))),h=k(e,m),p=L(e,f),b={key:"background",height:f+u.top+u.bottom,style:l,transform:s,width:m+u.left+u.right,x:c?h-u.left:h+r-u.left,y:p};return i.cloneElement(o,a()({},o.props,b))},B=function(e,t,n){var r=e.textAnchor,s=t.map(function(e){return e.widthWithPadding}),o=s.reduce(function(e,t){return e+t},0);switch(r){case"start":return s.reduce(function(e,t,r){return r<n?e+t:e},0);case"end":return s.reduce(function(e,t,r){return r>n?e-t:e},0);default:return s.reduce(function(e,t,r){return r===n?e+t/2:e+(r<n?t:0)},-o/2)}},M=function(e,t){var n=e.dy,r=e.dx,s=e.transform,o=e.backgroundStyle,l=e.backgroundPadding,c=e.backgroundComponent,u=e.inline,d=e.y,_=t.map(function(e,s){var o=T(t,s-1),a=e.textSize,i=e.fontSize*e.lineHeight,c=Math.ceil(i),_=T(l,s),f=T(l,s-1),m=s&&!u?o.fontSize*o.lineHeight+f.top+f.bottom:n-.5*i-(e.fontSize-e.capHeight);return{textHeight:c,labelSize:a,heightWithPadding:c+_.top+_.bottom,widthWithPadding:a.width+_.left+_.right+(u&&r||0),y:d,fontSize:e.fontSize,dy:m}});return _.map(function(t,n){var r=k(e,t.labelSize.width),f=_.slice(0,n+1).reduce(function(e,t){return e+t.dy},d),m=T(l,n),h=t.heightWithPadding,p=u?B(e,_,n)+r-m.left:r,b=u?L(e,h)-m.top:f,y={key:"tspan-background-".concat(n),height:h,style:T(o,n),width:t.widthWithPadding,transform:s,x:p-m.left,y:b};return i.cloneElement(c,a()({},c.props,y))})},H=function(e,t,n){var r=T(e,t),s=T(e,t-1),o=s.fontSize*s.lineHeight,a=r.fontSize*r.lineHeight,i=s.fontSize-s.capHeight,l=r.fontSize-r.capHeight,c=o-s.fontSize/2+r.fontSize/2-o/2+a/2-l/2+i/2;return C(n)?c+r.backgroundPadding.top+s.backgroundPadding.bottom:c},Z=function(e,t,n){var r=t.inline,s=T(e,n);return n&&!r?H(e,n,t):r?0===n?s.backgroundPadding.top:void 0:s.backgroundPadding.top},G=function(e){var t=N(e.text,e),n=O(e.style,Object.assign({},e,{text:t})),r=j(e.backgroundStyle,Object.assign({},e,{text:t,style:n})),s=z(Object.assign({},e,{text:t,style:n,backgroundStyle:r})),o=u.xs(e.id,e);return Object.assign({},e,{backgroundStyle:r,backgroundPadding:s,style:n,text:t,id:o})},F=function(e){var t=u.xs(e.ariaLabel,e),n=T(e.style),r=w(e),s=e.direction?u.xs(e.direction,e):"inherit",o=e.textAnchor?u.xs(e.textAnchor,e):n.textAnchor||"start",a=e.verticalAnchor?u.xs(e.verticalAnchor,e):n.verticalAnchor||"middle",i=e.dx?u.xs(e.dx,e):0,l=R(e,a,r),c=void 0!==e.x?e.x:P(e,"x"),d=void 0!==e.y?e.y:P(e,"y"),_=D(e,c,d);return Object.assign({},e,{ariaLabel:t,lineHeight:r,direction:s,textAnchor:o,verticalAnchor:a,dx:i,dy:l,originalDy:u.xs(e.dy,e),transform:_,x:c,y:d})},Y=function(e,t){var n=e.ariaLabel,r=e.inline,s=e.className,o=e.title,a=e.events,l=e.direction,c=e.text,d=e.textAnchor,_=e.dx,f=e.dy,m=e.transform,h=e.x,p=e.y,b=e.desc,y=e.id,A=e.tabIndex,S=e.tspanComponent,x=e.textComponent,E=v.IG(e),P=g(g({"aria-label":n,key:"text"},a),{},{direction:l,dx:_,x:h,y:p+f,transform:m,className:s,title:o,desc:u.xs(b,e),tabIndex:u.xs(A,e),id:y},E),I=c.map(function(n,s){var o=t[s].style,a={key:"".concat(y,"-key-").concat(s),x:r?void 0:h,dx:r?_+t[s].backgroundPadding.left:_,dy:Z(t,e,s),textAnchor:o.textAnchor||d,style:o,children:n};return i.cloneElement(S,a)});return i.cloneElement(x,P,I)},V={backgroundComponent:i.createElement(c.U,null),groupComponent:i.createElement("g",null),direction:"inherit",textComponent:i.createElement(function(e){var t,n=e.children,r=e.desc,s=e.id,o=(e.origin,e.tabIndex),a=e.title,l=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,d),c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:null==(t=(0,u.xs)(s,e))?void 0:t.toString(),tabIndex:(0,u.xs)(o,e)},l);return i.createElement("text",c,a&&i.createElement("title",null,a),r&&i.createElement("desc",null,r),n)},null),tspanComponent:i.createElement(function(e){e.desc;var t,n=e.id,r=e.tabIndex,s=(e.origin,function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,f)),o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:null==(t=(0,u.xs)(n,e))?void 0:t.toString(),tabIndex:(0,u.xs)(r,e)},s);return i.createElement("tspan",o)},null),capHeight:.71,lineHeight:1},q=function(e){var t=G(g(g({},V),e));if(null===t.text||void 0===t.text)return null;var n=F(t),r=n.text,s=n.style,o=n.capHeight,a=n.backgroundPadding,c=n.lineHeight,u=r.map(function(e,t){var n=T(s,t),r=y.Tj("".concat(o,"em"),n.fontSize),i=T(c,t);return{style:n,fontSize:n.fontSize||E.fontSize,capHeight:r,text:e,textSize:y.Z9(e,n),lineHeight:i,backgroundPadding:T(a,t)}}),d=Y(n,u);if(t.backgroundStyle){var _=C(n)?M(n,u):U(n,u),f=i.cloneElement(t.groupComponent,{},[_,d]);return t.renderInPortal?i.createElement(l.V,null,f):f}return t.renderInPortal?i.createElement(l.V,null,d):d};q.displayName="VictoryLabel",q.role="label",q.defaultStyles=E},407968:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var r=n(387784).createContext({});r.displayName="PortalContext"},136008:function(e,t,n){"use strict";n.d(t,{V:function(){return _}});var r=n(350017),s=n.n(r),o=n(387784),a=n(638841),i=n(737688),l=n(407968);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");l.prototype=Object.create(e&&e.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),e&&u(l,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=d(l);return e=t?Reflect.construct(n,arguments,d(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function l(){var e;if(!(this instanceof l))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return(e=r.call.apply(r,[this].concat(n))).checkedContext=void 0,e.portalKey=void 0,e.renderInPlace=void 0,e.element=void 0,e}return n=[{key:"componentDidMount",value:function(){this.checkedContext||("function"!=typeof this.context.portalUpdate&&(a.Z("`renderInPortal` is not supported outside of `VictoryContainer`. Component will be rendered in place"),this.renderInPlace=!0),this.checkedContext=!0),this.forceUpdate()}},{key:"componentDidUpdate",value:function(){this.renderInPlace||(this.portalKey=this.portalKey||this.context.portalRegister(),this.context.portalUpdate(this.portalKey,this.element))}},{key:"componentWillUnmount",value:function(){this.context&&this.context.portalDeregister&&this.context.portalDeregister(this.portalKey)}},{key:"renderPortal",value:function(e){return this.renderInPlace?e:(this.element=e,null)}},{key:"render",value:function(){var e=Array.isArray(this.props.children)?this.props.children[0]:this.props.children,t=this.props.groupComponent,n=e&&e.props||{},r=n.groupComponent?{groupComponent:t,standalone:!1}:{},a=s()(r,n,i.CE(this.props,["children","groupComponent"])),l=e&&o.cloneElement(e,a);return this.renderPortal(l)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(l.prototype,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(o.Component);_.displayName="VictoryPortal",_.role="portal",_.defaultProps={groupComponent:o.createElement("g",null)},_.contextType=l.w},670988:function(e,t,n){"use strict";n.d(t,{c:function(){return f}});var r=n(387784),s=n(737688),o=["desc","id","tabIndex","origin"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l=(0,r.forwardRef)(function(e,t){var n,l=e.desc,c=e.id,u=e.tabIndex,d=(e.origin,function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,o)),_=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({vectorEffect:"non-scaling-stroke",id:null==(n=(0,s.xs)(c,e))?void 0:n.toString(),tabIndex:(0,s.xs)(u,e)},d);return l?r.createElement("line",a({},_,{ref:t}),r.createElement("desc",null,l)):r.createElement("line",a({},_,{ref:t}))});function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=function(e){var t=s.xs(e.ariaLabel,e),n=s.xs(e.desc,e),r=s.xs(e.id,e),o=s.F3(Object.assign({stroke:"black"},e.style),e),a=s.xs(e.tabIndex,e);return Object.assign({},e,{ariaLabel:t,desc:n,id:r,style:o,tabIndex:a})},_={lineComponent:r.createElement(l,null),role:"presentation",shapeRendering:"auto"},f=function(e){var t=d(u(u({},_),e));return r.cloneElement(t.lineComponent,u(u({},t.events),{},{"aria-label":t.ariaLabel,style:t.style,desc:t.desc,tabIndex:t.tabIndex,className:t.className,role:t.role,shapeRendering:t.shapeRendering,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,transform:t.transform,clipPath:t.clipPath}))}},412418:function(e,t,n){"use strict";n.d(t,{y:function(){return l}});var r=n(387784),s=n(737688),o=["desc","id","tabIndex","origin"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l=(0,r.forwardRef)(function(e,t){var n,l=e.desc,c=e.id,u=e.tabIndex,d=(e.origin,function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,o)),_=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:null==(n=(0,s.xs)(c,e))?void 0:n.toString(),tabIndex:(0,s.xs)(u,e)},d);return l?r.createElement("path",a({},_,{ref:t}),r.createElement("desc",null,l)):r.createElement("path",a({},_,{ref:t}))})},137881:function(e,t,n){"use strict";n.d(t,{U:function(){return l}});var r=n(387784),s=n(737688),o=["desc","id","tabIndex","origin"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l=(0,r.forwardRef)(function(e,t){var n,l=e.desc,c=e.id,u=e.tabIndex,d=(e.origin,function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,o)),_=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({vectorEffect:"non-scaling-stroke",id:null==(n=(0,s.xs)(c,e))?void 0:n.toString(),tabIndex:(0,s.xs)(u,e)},d);return l?r.createElement("rect",a({},_,{ref:t}),r.createElement("desc",null,l)):r.createElement("rect",a({},_,{ref:t}))})},65779:function(e,t,n){"use strict";n.d(t,{J:function(){return A}});var r=["#252525","#525252","#737373","#969696","#bdbdbd","#d9d9d9","#f0f0f0"],s="#252525",o="#969696",a={width:450,height:300,padding:50,colorScale:r},i={fontFamily:"'Gill Sans', 'Seravek', 'Trebuchet MS', sans-serif",fontSize:14,letterSpacing:"normal",padding:10,fill:s,stroke:"transparent"},l=Object.assign({textAnchor:"middle"},i),c={area:Object.assign({style:{data:{fill:s},labels:i}},a),axis:Object.assign({style:{axis:{fill:"transparent",stroke:s,strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},axisLabel:Object.assign({},l,{padding:25}),grid:{fill:"none",stroke:"none",pointerEvents:"painted"},ticks:{fill:"transparent",size:1,stroke:"transparent"},tickLabels:i}},a),bar:Object.assign({style:{data:{fill:s,padding:8,strokeWidth:0},labels:i}},a),boxplot:Object.assign({style:{max:{padding:8,stroke:s,strokeWidth:1},maxLabels:Object.assign({},i,{padding:3}),median:{padding:8,stroke:s,strokeWidth:1},medianLabels:Object.assign({},i,{padding:3}),min:{padding:8,stroke:s,strokeWidth:1},minLabels:Object.assign({},i,{padding:3}),q1:{padding:8,fill:o},q1Labels:Object.assign({},i,{padding:3}),q3:{padding:8,fill:o},q3Labels:Object.assign({},i,{padding:3})},boxWidth:20},a),candlestick:Object.assign({style:{data:{stroke:s,strokeWidth:1},labels:Object.assign({},i,{padding:5})},candleColors:{positive:"#ffffff",negative:s}},a),chart:a,errorbar:Object.assign({borderWidth:8,style:{data:{fill:"transparent",stroke:s,strokeWidth:2},labels:i}},a),group:Object.assign({colorScale:r},a),histogram:Object.assign({style:{data:{fill:o,stroke:s,strokeWidth:2},labels:i}},a),legend:{colorScale:r,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle"},labels:i,title:Object.assign({},i,{padding:5})}},line:Object.assign({style:{data:{fill:"transparent",stroke:s,strokeWidth:2},labels:i}},a),pie:{style:{data:{padding:10,stroke:"transparent",strokeWidth:1},labels:Object.assign({},i,{padding:20})},colorScale:r,width:400,height:400,padding:50},scatter:Object.assign({style:{data:{fill:s,stroke:"transparent",strokeWidth:0},labels:i}},a),stack:Object.assign({colorScale:r},a),tooltip:{style:Object.assign({},i,{padding:0,pointerEvents:"none"}),flyoutStyle:{stroke:s,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},flyoutPadding:5,cornerRadius:5,pointerLength:10},voronoi:Object.assign({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:Object.assign({},i,{padding:5,pointerEvents:"none"}),flyout:{stroke:s,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},a)},u=["#F4511E","#FFF59D","#DCE775","#8BC34A","#00796B","#006064"],d="#ECEFF1",_="#90A4AE",f="#455A64",m="#212121",h={width:350,height:350,padding:50},p={fontFamily:"'Helvetica Neue', 'Helvetica', sans-serif",fontSize:12,letterSpacing:"normal",padding:8,fill:f,stroke:"transparent",strokeWidth:0},b=Object.assign({textAnchor:"middle"},p),y="round",v="round",A={grayscale:c,material:{area:Object.assign({style:{data:{fill:m},labels:p}},h),axis:Object.assign({style:{axis:{fill:"transparent",stroke:_,strokeWidth:2,strokeLinecap:y,strokeLinejoin:v},axisLabel:Object.assign({},b,{padding:8,stroke:"transparent"}),grid:{fill:"none",stroke:d,strokeDasharray:"10, 5",strokeLinecap:y,strokeLinejoin:v,pointerEvents:"painted"},ticks:{fill:"transparent",size:5,stroke:_,strokeWidth:1,strokeLinecap:y,strokeLinejoin:v},tickLabels:Object.assign({},p,{fill:f})}},h),polarDependentAxis:Object.assign({style:{ticks:{fill:"transparent",size:1,stroke:"transparent"}}}),bar:Object.assign({style:{data:{fill:f,padding:8,strokeWidth:0},labels:p}},h),boxplot:Object.assign({style:{max:{padding:8,stroke:f,strokeWidth:1},maxLabels:Object.assign({},p,{padding:3}),median:{padding:8,stroke:f,strokeWidth:1},medianLabels:Object.assign({},p,{padding:3}),min:{padding:8,stroke:f,strokeWidth:1},minLabels:Object.assign({},p,{padding:3}),q1:{padding:8,fill:f},q1Labels:Object.assign({},p,{padding:3}),q3:{padding:8,fill:f},q3Labels:Object.assign({},p,{padding:3})},boxWidth:20},h),candlestick:Object.assign({style:{data:{stroke:f},labels:Object.assign({},p,{padding:5})},candleColors:{positive:"#ffffff",negative:f}},h),chart:h,errorbar:Object.assign({borderWidth:8,style:{data:{fill:"transparent",opacity:1,stroke:f,strokeWidth:2},labels:p}},h),group:Object.assign({colorScale:u},h),histogram:Object.assign({style:{data:{fill:f,stroke:m,strokeWidth:2},labels:p}},h),legend:{colorScale:u,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle"},labels:p,title:Object.assign({},p,{padding:5})}},line:Object.assign({style:{data:{fill:"transparent",opacity:1,stroke:f,strokeWidth:2},labels:p}},h),pie:Object.assign({colorScale:u,style:{data:{padding:8,stroke:d,strokeWidth:1},labels:Object.assign({},p,{padding:20})}},h),scatter:Object.assign({style:{data:{fill:f,opacity:1,stroke:"transparent",strokeWidth:0},labels:p}},h),stack:Object.assign({colorScale:u},h),tooltip:{style:Object.assign({},p,{padding:0,pointerEvents:"none"}),flyoutStyle:{stroke:m,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},flyoutPadding:5,cornerRadius:5,pointerLength:10},voronoi:Object.assign({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:Object.assign({},p,{padding:5,pointerEvents:"none"}),flyout:{stroke:m,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},h)}}},864437:function(e,t,n){"use strict";n.d(t,{o:function(){return eN}});var r={};n.r(r),n.d(r,{easeBack:function(){return X},easeBackIn:function(){return Q},easeBackInOut:function(){return X},easeBackOut:function(){return W},easeBounce:function(){return V},easeBounceIn:function(){return Y},easeBounceInOut:function(){return q},easeBounceOut:function(){return V},easeCircle:function(){return R},easeCircleIn:function(){return w},easeCircleInOut:function(){return R},easeCircleOut:function(){return N},easeCubic:function(){return v},easeCubicIn:function(){return b},easeCubicInOut:function(){return v},easeCubicOut:function(){return y},easeElastic:function(){return J},easeElasticIn:function(){return $},easeElasticInOut:function(){return ee},easeElasticOut:function(){return J},easeExp:function(){return z},easeExpIn:function(){return O},easeExpInOut:function(){return z},easeExpOut:function(){return j},easeLinear:function(){return f},easePoly:function(){return S},easePolyIn:function(){return A},easePolyInOut:function(){return S},easePolyOut:function(){return g},easeQuad:function(){return p},easeQuadIn:function(){return m},easeQuadInOut:function(){return p},easeQuadOut:function(){return h},easeSin:function(){return T},easeSinIn:function(){return P},easeSinInOut:function(){return T},easeSinOut:function(){return I}});var s=n(192673),o=n.n(s),a=n(863657),i=n.n(a),l=n(350017),c=n.n(l),u=n(387784),d=n(961162),_=n.n(d),f=function(e){return+e};function m(e){return e*e}function h(e){return e*(2-e)}function p(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function b(e){return e*e*e}function y(e){return--e*e*e+1}function v(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var A=function e(t){function n(e){return Math.pow(e,t)}return t*=1,n.exponent=e,n}(3),g=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t*=1,n.exponent=e,n}(3),S=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t*=1,n.exponent=e,n}(3),x=Math.PI,E=x/2;function P(e){return 1==+e?1:1-Math.cos(e*E)}function I(e){return Math.sin(e*E)}function T(e){return(1-Math.cos(x*e))/2}function C(e){return(Math.pow(2,-10*e)-9765625e-10)*1.0009775171065494}function O(e){return C(1-e)}function j(e){return 1-C(e)}function z(e){return((e*=2)<=1?C(1-e):2-C(e-1))/2}function w(e){return 1-Math.sqrt(1-e*e)}function N(e){return Math.sqrt(1- --e*e)}function R(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var D=4/11,k=6/11,L=8/11,U=3/4,B=9/11,M=10/11,H=15/16,Z=21/22,G=63/64,F=1/(4/11)/(4/11);function Y(e){return 1-V(1-e)}function V(e){return(e*=1)<D?F*e*e:e<L?F*(e-=k)*e+U:e<M?F*(e-=B)*e+H:F*(e-=Z)*e+G}function q(e){return((e*=2)<=1?1-V(1-e):V(e-1)+1)/2}var Q=function e(t){function n(e){return(e*=1)*e*(t*(e-1)+e)}return t*=1,n.overshoot=e,n}(1.70158),W=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t*=1,n.overshoot=e,n}(1.70158),X=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t*=1,n.overshoot=e,n}(1.70158),K=2*Math.PI,$=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=K);function s(e){return t*C(- --e)*Math.sin((r-e)/n)}return s.amplitude=function(t){return e(t,n*K)},s.period=function(n){return e(t,n)},s}(1,.3),J=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=K);function s(e){return 1-t*C(e*=1)*Math.sin((e+r)/n)}return s.amplitude=function(t){return e(t,n*K)},s.period=function(n){return e(t,n)},s}(1,.3),ee=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=K);function s(e){return((e=2*e-1)<0?t*C(-e)*Math.sin((r-e)/n):2-t*C(e)*Math.sin((r+e)/n))/2}return s.amplitude=function(t){return e(t,n*K)},s.period=function(n){return e(t,n)},s}(1,.3),et=n(77933),en=n.n(et),er=n(2927),es=n.n(er),eo=n(3587);function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ei=function(e){if(null!==e)switch(ea(e)){case"undefined":case"boolean":break;case"number":return!isNaN(e)&&e!==1/0&&e!==-1/0;case"string":case"function":return!0;case"object":return e instanceof Date||Array.isArray(e)||es()(e)}return!1},el=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(r){return r<n?e:t}},ec=function(e,t){return function(n){return n>=1?t:function(){var r="function"==typeof e?e.apply(this,arguments):e,s="function"==typeof t?t.apply(this,arguments):t;return(0,eo.Z)(r,s)(n)}}},eu=function e(t,n){var r,s,o,a=function(e){return Array.isArray(e)?en()(e,"key"):e},i={},l={},c=t,u=n;for(r in(null===c||"object"!==ea(c))&&(c={}),(null===u||"object"!==ea(u))&&(u={}),u)r in c?i[r]=(s=a(c[r]))!==(o=a(u[r]))&&ei(s)&&ei(o)?"function"==typeof s||"function"==typeof o?ec(s,o):"object"===ea(s)&&es()(s)||"object"===ea(o)&&es()(o)?e(s,o):(0,eo.Z)(s,o):el(s,o):l[r]=u[r];return function(e){for(r in i)l[r]=i[r](e);return l}},ed=function(e,t){var n=function(e){return"string"==typeof e?e.replace(/,/g,""):e};return(0,eo.Z)(n(e),n(t))},e_=n(529353);function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var em=function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);return"ease".concat(t)},eh=function(e){var t,n=e.duration,s=void 0===n?1e3:n,o=e.easing,a=e.delay,i=void 0===a?0:a,l=e.data,c=e.children,d=e.onEnd,_=function(e){if(Array.isArray(e))return e}(t=u.useState({data:Array.isArray(l)?l[0]:l,animationInfo:{progress:0,animating:!1}}))||function(e,t){var n,r,s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var o=[],a=!0,i=!1;try{for(s=s.call(e);!(a=(n=s.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ef(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ef(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=_[0],m=_[1],h=u.useContext(e_.Z).animationTimer,p=u.useRef(Array.isArray(l)?l.slice(1):[]),b=u.useRef(null),y=u.useRef(void 0),v=r[em(void 0===o?"quadInOut":o)];u.useEffect(function(){return p.current.length&&A(),function(){y.current?h.unsubscribe(y.current):h.stop()}},[]),u.useEffect(function(){b.current&&f.animationInfo&&f.animationInfo.progress<1?m({data:b.current(1),animationInfo:{progress:1,animating:!1,terminating:!0}}):(h.unsubscribe(y.current),p.current=Array.isArray(l)?l:[l],A())},[l]);var A=function(){if(p.current.length){var e,t=p.current[0];b.current=(e=f.data)!==t&&ei(e)&&ei(t)?"function"==typeof e||"function"==typeof t?ec(e,t):es()(e)||es()(t)?eu(e,t):"string"==typeof e||"string"==typeof t?ed(e,t):(0,eo.Z)(e,t):el(e,t),i?setTimeout(function(){y.current=h.subscribe(g,s)},i):y.current=h.subscribe(g,s)}else d&&d()},g=function(e){if(b.current){var t=s?e/s:1;if(t>=1){m({data:b.current(1),animationInfo:{progress:1,animating:!1,terminating:!0}}),y.current&&h.unsubscribe(y.current),p.current.shift(),A();return}m({data:b.current(v(t)),animationInfo:{progress:t,animating:t<1}})}};return c(f.data,f.animationInfo)},ep=n(60918),eb=n(737688),ey=n(756042);function ev(e){return(ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eA(){return(eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eg(e,t){return(eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eS(e){return(eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ex=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&eg(s,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=eS(s);return e=t?Reflect.construct(n,arguments,eS(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===ev(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e)});function s(e,t){if(!(this instanceof s))throw TypeError("Cannot call a class as a function");(n=r.call(this,e,t)).continuous=void 0,n.timer=void 0,n.transitionProps=void 0,n.state={nodesShouldLoad:!1,nodesDoneLoad:!1};var n,o=n.props.children;return n.continuous=!o.props.polar&&o.type&&!0===o.type.continuous,n.timer=n.context.transitionTimer,n}return n=[{key:"componentDidMount",value:function(){this.setState({nodesShouldLoad:!0})}},{key:"shouldComponentUpdate",value:function(e){var t=this;return _()(this.props,e)||(this.timer.bypassAnimation(),this.setState(this.getTransitionState(this.props,e),function(){return t.timer.resumeAnimation()})),!0}},{key:"componentWillUnmount",value:function(){this.timer.stop()}},{key:"getTransitionState",value:function(e,t){var n=e.animate;if(!n)return{};if(n.parentState)return{oldProps:n.parentState.nodesWillExit?e:null,nextProps:t};var r=u.Children.toArray(e.children),s=u.Children.toArray(t.children),o=ey.A(r,s),a=o.nodesWillExit;return{nodesWillExit:a,nodesWillEnter:o.nodesWillEnter,childrenTransitions:o.childrenTransitions,nodesShouldEnter:o.nodesShouldEnter,oldProps:a?e:null,nextProps:t}}},{key:"getDomainFromChildren",value:function(e,t){var n=u.Children.toArray(e.children)[0],r=n.props||{},s=Array.isArray(r.domain)?r.domain:r.domain&&r.domain[t];if(!r.children&&s)return s;var o=function e(n){return n.reduce(function(n,r){if(r.type&&eb.mf(r.type.getDomain)){var s=r.props&&r.type.getDomain(r.props,t);return s?n.concat(s):n}return r.props&&r.props.children?n.concat(e(u.Children.toArray(r.props.children))):n},[])}([n]);return 0===o.length?[0,1]:[ep.ao(o),ep.MN(o)]}},{key:"pickProps",value:function(){return this.state&&this.state.nodesWillExit&&this.state.oldProps||this.props}},{key:"pickDomainProps",value:function(e){var t,n=null==(t=e.animate)?void 0:t.parentState;return n&&n.nodesWillExit?(this.continuous||n.continuous)&&(n.nextProps||this.state.nextProps)||e:this.continuous&&this.state.nodesWillExit&&this.state.nextProps||e}},{key:"getClipWidth",value:function(e,t){var n,r=this.transitionProps?this.transitionProps.clipWidth:void 0;return void 0!==r?r:(n=eb.rx(t.props,"x"))?Math.abs(n[1]-n[0]):e.width}},{key:"render",value:function(){var e,t=this,n=this.pickProps(),r=null!=(e=this.props.animate)&&e.getTransitions?this.props.animate.getTransitions:ey.C(n,this.state,function(e){return t.setState(e)}),s=u.Children.toArray(n.children)[0],a=r(s);this.transitionProps=a;var i={x:this.getDomainFromChildren(this.pickDomainProps(n),"x"),y:this.getDomainFromChildren(n,"y")},l=this.getClipWidth(n,s),d=c()({domain:i,clipWidth:l},a,s.props),_=(n.animationWhitelist||[]).concat(["clipWidth"]),f=_.length?o()(d,_):d;return u.createElement(eh,eA({},d.animate,{data:f}),function(e){if(s.props.groupComponent){var n=t.continuous?u.cloneElement(s.props.groupComponent,{clipWidth:e.clipWidth||0}):s.props.groupComponent;return u.cloneElement(s,c()({animate:null,animating:!0,groupComponent:n},e,d))}return u.cloneElement(s,c()({animate:null,animating:!0},e,d))})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(s.prototype,n),Object.defineProperty(s,"prototype",{writable:!1}),s}(u.Component);ex.displayName="VictoryTransition",ex.contextType=e_.Z;var eE=n(80625);function eP(e){return(eP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eI(e){return function(e){if(Array.isArray(e))return eT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return eT(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eT(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eC(e,t){return(eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eO(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ej(e){return(ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ez=function(e){return!(0,eb.kK)(e._x)&&!(0,eb.kK)(e._y)},ew=[{name:"parent",index:"parent"},{name:"data"},{name:"labels"}];function eN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),n&&eC(l,n);var r,s,a=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=ej(l);return e=r?Reflect.construct(t,arguments,ej(this).constructor):t.apply(this,arguments),function(e,t){if(t&&("object"===eP(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eO(e)}(this,e)});function l(e){var t;if(!(this instanceof l))throw TypeError("Cannot call a class as a function");return(t=a.call(this,e)).state={},t.getEventState=eE.Ki.bind(eO(t)),t.getScopedEvents=eE.$V.bind(eO(t)),t.getEvents=function(e,n,r){return eE.vw.call(eO(t),e,n,r,t.getScopedEvents)},t.externalMutations=t.getExternalMutations(t.props),t.calculatedState=t.getStateChanges(t.props),t.globalEvents={},t.prevGlobalEventKeys=[],t.boundGlobalEvents={},t.cacheValues(t.getCalculatedValues(e)),t}return s=[{key:"shouldComponentUpdate",value:function(e){var t=this.getExternalMutations(e),n=this.props.animating||this.props.animate,r=!_()(t,this.externalMutations);if(n||r)return this.cacheValues(this.getCalculatedValues(e)),this.externalMutations=t,this.applyExternalMutations(e,t),!0;var s=this.getStateChanges(e);return!(_()(this.calculatedState,s)&&_()(this.props,e))&&(this.cacheValues(this.getCalculatedValues(e)),!0)}},{key:"componentDidMount",value:function(){var e=this,t=Object.keys(this.globalEvents);t.forEach(function(t){return e.addGlobalListener(t)}),this.prevGlobalEventKeys=t}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.getStateChanges(e);this.calculatedState=n;var r=Object.keys(this.globalEvents);(0,ep.e5)(this.prevGlobalEventKeys,r).forEach(function(e){return t.removeGlobalListener(e)}),(0,ep.e5)(r,this.prevGlobalEventKeys).forEach(function(e){return t.addGlobalListener(e)}),this.prevGlobalEventKeys=r}},{key:"componentWillUnmount",value:function(){var e=this;this.prevGlobalEventKeys.forEach(function(t){return e.removeGlobalListener(t)})}},{key:"addGlobalListener",value:function(e){var t=this,n=function(n){var r=t.globalEvents[e];return r&&r(eE.ss(n))};this.boundGlobalEvents[e]=n,window.addEventListener(eE.Ih(e),n)}},{key:"removeGlobalListener",value:function(e){window.removeEventListener(eE.Ih(e),this.boundGlobalEvents[e])}},{key:"getStateChanges",value:function(e){var n=this;if(!this.hasEvents)return{};var r=function(e,t){var r=c()({},n.getEventState(e,t),n.getSharedEventState(e,t));return i()(r)?void 0:r};return(t.components||ew).map(function(t){if(e.standalone||"parent"!==t.name)return void 0!==t.index?r(t.index,t.name):n.dataKeys.map(function(e){return r(e,t.name)}).filter(Boolean)}).filter(Boolean)}},{key:"applyExternalMutations",value:function(e,t){if(!i()(t)){var n=e.externalEventMutations.reduce(function(e,t){return(0,eb.mf)(t.callback)?e.concat(t.callback):e},[]),r=n.length?function(){n.forEach(function(e){return e()})}:void 0;this.setState(t,r)}}},{key:"getCalculatedValues",value:function(t){var n=t.sharedEvents,r=e.expectedComponents,s=eE.pA(t,r),o=n&&(0,eb.mf)(n.getEventState)?n.getEventState:function(){},a=this.getBaseProps(t,o),i=Object.keys(a).filter(function(e){return"parent"!==e}),l=t.events||t.sharedEvents||s;return{componentEvents:s,getSharedEventState:o,baseProps:a,dataKeys:i,hasEvents:l,events:this.getAllEvents(t)}}},{key:"getExternalMutations",value:function(e){var t=e.sharedEvents,n=e.externalEventMutations;return i()(n)||t?void 0:eE.g2(n,this.baseProps,this.state)}},{key:"cacheValues",value:function(e){var t=this;Object.keys(e).forEach(function(n){t[n]=e[n]})}},{key:"getBaseProps",value:function(t,n){var r=(n||this.getSharedEventState.bind(this))("parent","parent"),s=this.getEventState("parent","parent"),a=c()({},s,r),i=a.parentControlledProps,l=i?o()(a,i):{},u=c()({},l,t);return"function"==typeof e.getBaseProps?e.getBaseProps(u):{}}},{key:"getAllEvents",value:function(e){if(Array.isArray(this.componentEvents)){var t;return Array.isArray(e.events)?(t=this.componentEvents).concat.apply(t,eI(e.events)):this.componentEvents}return e.events}},{key:"getComponentProps",value:function(t,n,r){var s=this.props.name||e.role,o=this.dataKeys&&this.dataKeys[r]||r,a="".concat(s,"-").concat(n,"-").concat(o),i=this.baseProps[o]&&this.baseProps[o][n]||this.baseProps[o];if(i||this.hasEvents){var l=t&&"object"===eP(t)&&"props"in t?t.props:void 0;if(this.hasEvents){var u=this.getEvents(this.props,n,o),d=c()({index:r,key:a},this.getEventState(o,n),this.getSharedEventState(o,n),l,i,{id:a}),_=c()({},eE.Z8(u,o,d),d.events);return Object.assign({},d,{events:_})}return c()({index:r,key:a},l,i,{id:a})}}},{key:"renderContainer",value:function(e,t){var n=e.type&&"container"===e.type.role?this.getComponentProps(e,"parent","parent"):{};return n.events&&(this.globalEvents=eE.hy(n.events),n.events=eE.fM(n.events)),u.cloneElement(e,n,t)}},{key:"animateComponent",value:function(e,t){var n,r="object"===eP(e.animate)&&(null==(n=e.animate)?void 0:n.animationWhitelist)||t,s=this.constructor;return u.createElement(ex,{animate:e.animate,animationWhitelist:r},u.createElement(s,e))}},{key:"renderContinuousData",value:function(e){var t=this,n=e.dataComponent,r=e.labelComponent,s=e.groupComponent,o=this.dataKeys.filter(function(e){return"all"!==e}).reduce(function(e,n){var s=e,o=t.getComponentProps(r,"labels",n);return o&&void 0!==o.text&&null!==o.text&&(s=s.concat(u.cloneElement(r,o))),s},[]),a=this.getComponentProps(n,"data","all"),i=[u.cloneElement(n,a)].concat(eI(o));return this.renderContainer(s,i)}},{key:"renderData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ez,r=e.dataComponent,s=e.labelComponent,o=e.groupComponent,a=this.dataKeys.reduce(function(e,s,o){var a=t.getComponentProps(r,"data",o);return n(a.datum)&&e.push(u.cloneElement(r,a)),e},[]),i=this.dataKeys.map(function(e,n){var r=t.getComponentProps(s,"labels",n);if(void 0!==r.text&&null!==r.text)return u.cloneElement(s,r)}).filter(Boolean),l=[].concat(eI(a),eI(i));return this.renderContainer(o,l)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(l.prototype,s),Object.defineProperty(l,"prototype",{writable:!1}),l}},60918:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return Array.isArray(e)&&e.length>0}function a(e){return Array.isArray(e)&&e.some(function(e){return"string"==typeof e})}function i(e){return Array.isArray(e)&&e.some(function(e){return e instanceof Date})}function l(e){return o(e)&&e.every(function(e){return"string"==typeof e})}function c(e,t){return e&&t?e.filter(function(e){return!t.includes(e)}):[]}function u(e){return o(e)&&e.every(Array.isArray)}function d(e){return e.filter(function(e){return void 0!==e})}function _(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var o=e.concat(n);return i(o)?new Date(Math.max.apply(Math,r(o))):Math.max.apply(Math,r(o))}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var o=e.concat(n);return i(o)?new Date(Math.min.apply(Math,r(o))):Math.min.apply(Math,r(o))}n.d(t,{AM:function(){return i},Jr:function(){return u},MN:function(){return _},ao:function(){return f},bO:function(){return l},e5:function(){return c},kL:function(){return a},o2:function(){return d}})},655107:function(e,t,n){"use strict";n.d(t,{ZY:function(){return L},hi:function(){return U},kQ:function(){return j},CP:function(){return R},DU:function(){return w},Yu:function(){return D},RU:function(){return k}});var r=n(124304),s=n.n(r),o=n(500704),a=n.n(o),i=n(663763),l=n.n(i),c=n(863657),u=n.n(c),d=n(77933),_=n.n(d),f=n(697734),m=n.n(f),h=n(2927),p=n.n(h),b=n(37581),y=n.n(b),v=n(387784),A=n(737688),g=n(60918),S=n(866456);function x(e){return!!(e&&e["@@__IMMUTABLE_ITERABLE__@@"])}function E(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return P(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(e){return x(e)||e&&e["@@__IMMUTABLE_RECORD__@@"]?function e(t,n){return x(t)?t.reduce(function(t,r,s){var o=r;return n&&n[s]&&(o=e(r)),t[s]=o,t},t&&t["@@__IMMUTABLE_LIST__@@"]?[]:{}):t}(e,{errorX:!0,errorY:!0}):e}function T(e){return x(e)?e.size:e.length}function C(e,t){var n=(p()(e.domain)?e.domain[t]:e.domain)||S.q8(e,t).domain(),r=e.samples||1,s=Math.max.apply(Math,E(n)),o=Math.min.apply(Math,E(n)),a=(s-o)/r,i=A.w6(o,s,a);return i[i.length-1]===s?i:i.concat(s)}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ascending";if(!t)return e;var r=t;return("x"===t||"y"===t)&&(r="_".concat(t)),_()(e,r,"ascending"===n?"asc":"desc")}function j(e,t,n){var r=function(e){return void 0!==e},o=g.ao(t.x),i=g.MN(t.x),l=g.ao(t.y),c=g.MN(t.y),u=function(e){return function(t){return r(t)&&t<e}},d=function(e){return function(t){return r(t)&&t>e}},_=u(o),f=u(l),m=d(i),h=d(c);return e.map(function(e){var t=e._x,o=e._y,i=e._y0,u=e._y1;(_(t)||m(t))&&(t=null);var d=r(i)?i:n,p=r(u)?u:o;return r(p)?(!r(d)&&(f(p)||h(p))&&(o=null),(f(d)&&f(p)||h(d)&&h(p))&&(o=i=u=null),f(d)&&!f(p)&&(i=l),h(d)&&!h(p)&&(i=c),Object.assign({},e,s()({_x:t,_y:o,_y0:i,_y1:u},a()))):e})}function z(e,t){var n=k(e,t),r=L(e,t),s=function(e,t){if(!(Array.isArray(e.data)||x(e.data)))return[];var n=void 0===e[t]?t:e[t],r=A.$0(n);return O(e.data.reduce(function(e,t){return e.push(I(t)),e},[]),e.sortKey,e.sortOrder).reduce(function(e,t){var n=I(t);return e.push(r(n)),e},[]).filter(function(e){return"string"==typeof e}).reduce(function(e,t){return null!=t&&-1===e.indexOf(t)&&e.push(t),e},[])}(e,t),o=y()([].concat(E(n),E(r),E(s)));return 0===o.length?null:o.reduce(function(e,t,n){return e[t]=n+1,e},{})}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=T(e);if(r>t){var s=Math.pow(2,Math.ceil(Math.log2(r/t)));return e.filter(function(e,t){return(t+n)%s==0})}return e}function N(e,t,n){if(!(Array.isArray(e)||x(e))||1>T(e))return[];var r,s,o,a,i=["x","y","y0"],c=(n=Array.isArray(n)?n:i).reduce(function(e,n){return e[n]=A.$0(void 0!==t[n]?t[n]:n),e},{}),d=l()(n,i)&&"_x"===t.x&&"_y"===t.y&&"_y0"===t.y0;!1===d&&(r={x:-1!==n.indexOf("x")?z(t,"x"):void 0,y:-1!==n.indexOf("y")?z(t,"y"):void 0,y0:-1!==n.indexOf("y0")?z(t,"y"):void 0});var _=function(e,t){var n=1/Number.MAX_SAFE_INTEGER,r={x:S.md(t,"x"),y:S.md(t,"y")};if("log"!==r.x&&"log"!==r.y)return e;var s=function(e,t){return"log"!==r[t]||0!==e["_".concat(t)]},o=function(e){var t=s(e,"x")?e._x:n,r=s(e,"y")?e._y:n,o=s(e,"y0")?e._y0:n;return Object.assign({},e,{_x:t,_y:r,_y0:o})};return e.map(function(e){return s(e,"x")&&s(e,"y")&&s(e,"y0")?e:o(e)})}(O(d?e:e.reduce(function(e,t,s){var o=I(t),a={x:s,y:o},i=Object.assign({},n.reduce(function(e,t){var n=c[t](o),s=void 0!==n?n:a[t];return void 0!==s&&("string"==typeof s&&r[t]?(e["".concat(t,"Name")]=s,e["_".concat(t)]=r[t][s]):e["_".concat(t)]=s),e},{}),o);return u()(i)||e.push(i),e},[]),t.sortKey,t.sortOrder),t);return s=!!t.eventKey,o=t.eventKey,a=A.mf(o)?o:null==o?function(){}:m()(o),_.map(function(e,t){if(void 0!==e.eventKey);else if(s){var n=a(e,t);return void 0!==n?Object.assign({eventKey:n},e):e}return e})}function R(e,t){return e.categories&&!Array.isArray(e.categories)?e.categories[t]:e.categories}function D(e){var t,n;return e.data?N(e.data,e):N((t=C(e,"x"),n=C(e,"y"),t.map(function(e,t){return{x:e,y:n[t]}})),e)}function k(e,t){var n=e.tickValues,r=e.tickFormat;return(n&&(Array.isArray(n)||n[t])?n[t]||n:r&&Array.isArray(r)?r:[]).filter(function(e){return"string"==typeof e})}function L(e,t){if(!e.categories)return[];var n=R(e,t),r=n&&n.filter(function(e){return"string"==typeof e});return r?g.o2(r):[]}function U(e){var t=function(e){return e&&e.type?e.type.role:""},n=t(e);if("portal"===n){var r=v.Children.toArray(e.props.children);n=r.length?t(r[0]):""}return["area","bar","boxplot","candlestick","errorbar","group","histogram","line","pie","scatter","stack","voronoi"].includes(n)}},80625:function(e,t,n){"use strict";n.d(t,{$V:function(){return b},Ih:function(){return E},Ki:function(){return v},Z8:function(){return y},fM:function(){return I},g2:function(){return g},gX:function(){return A},hy:function(){return P},pA:function(){return x},ss:function(){return T},vw:function(){return p}});var r=n(37581),s=n.n(r),o=n(124304),a=n.n(o),i=n(351288),l=n.n(i),c=n(863657),u=n.n(c),d=n(737688);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=/^onGlobal(.*)$/;function p(e,t,n,r){var s=this,o=function(e){var r,s=(r=e.reduce(function(e,n){return void 0!==n.target?(Array.isArray(n.target)?n.target.includes(t):"".concat(n.target)==="".concat(t))?e.concat(n):e:e.concat(n)},[]),void 0!==n&&"parent"!==t?r.filter(function(e){var t=e.eventKey,r=function(e){return!e||"".concat(e)==="".concat(n)};return Array.isArray(t)?t.some(function(e){return r(e)}):r(t)}):r);return Array.isArray(s)&&s.reduce(function(e,t){return t?Object.assign(e,t.eventHandlers):e},{})},a=function(){if(Array.isArray(s.componentEvents)){var t;return Array.isArray(e.events)?(t=s.componentEvents).concat.apply(t,f(e.events)):s.componentEvents}return e.events}(),i=a&&(0,d.mf)(r)?r(o(a),t):void 0;if(!e.sharedEvents)return i;var l=e.sharedEvents.getEvents;return Object.assign({},e.sharedEvents.events&&l(o(e.sharedEvents.events),t),i)}function b(e,t,n,r){var s=this;if(u()(e))return{};var o=r||this.baseProps,a=function(e,t){var n=e.childName,r=e.target,a=e.key,i="props"===t?o:s.state||{},l=null!=n&&i[n]?i[n]:i;return"parent"===a?l.parent:l[a]&&l[a][r]},i=function(e,r){var i="parent"===t?e.childName:e.childName||n,l=e.target||t,c=function(t,n){var r=s.state||{};if(!(0,d.mf)(e.mutation))return r;var i=a({childName:n,key:t,target:l},"props"),c=a({childName:n,key:t,target:l},"state"),u=e.mutation(Object.assign({},i,c),o),f=r[n]||{},m=function(e){return u?"parent"===l?Object.assign(e,_({},t,Object.assign(e[t]||{},u))):Object.assign(e,_({},t,Object.assign(e[t]||{},_({},l,u)))):(e[t]&&e[t][l]&&delete e[t][l],e[t]&&!Object.keys(e[t]).length&&delete e[t],e)};return null!=n?Object.assign(r,_({},n,m(f))):m(r)},u=function(t){var n="parent"===l?"parent":"all"===e.eventKey?o[t]?Object.keys(o[t]).filter(function(e){return"parent"!==e}):Object.keys(o).filter(function(e){return"parent"!==e}):void 0===e.eventKey&&"parent"===r?o[t]?Object.keys(o[t]):Object.keys(o):void 0!==e.eventKey?e.eventKey:r;return Array.isArray(n)?n.reduce(function(e,n){return Object.assign(e,c(n,t))},{}):c(n,t)},f="all"===i?Object.keys(o).filter(function(e){return"parent"!==e}):i;return Array.isArray(f)?f.reduce(function(e,t){return Object.assign(e,u(t))},{}):u(f)},l=function(e){var t=function(e){return(0,d.mf)(e.callback)&&e.callback},n=(Array.isArray(e)?e.map(function(e){return t(e)}):[t(e)]).filter(function(e){return!1!==e});return n.length?function(){return n.forEach(function(e){return e()})}:void 0},c=function(t,n,r,o){var a=e[o](t,n,r,s);if(!u()(a)){var c=l(a);s.setState(Array.isArray(a)?a.reduce(function(e,t){return Object.assign({},e,i(t,r))},{}):i(a,r),c)}};return Object.keys(e).reduce(function(e,t){return e[t]=c,e},{})}function y(e,t,n){return e?Object.keys(e).reduce(function(r,s){return r[s]=function(r){return e[s](r,n,t,s)},r},{}):{}}function v(e,t,n){var r=this.state||{};return n?r[n]&&r[n][e]&&r[n][e][t]:"parent"===e?r[e]&&r[e][t]||r[e]:r[e]&&r[e][t]}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return r.reduce(function(r,s){var o=n[s],a=g(e,t[s],n[s],s);return r[s]=a||o,l()(r,function(e){return!u()(e)})},{})}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return Object.keys(t).reduce(function(o,a){var i=n[a]||{},c=t[a]||{};if("parent"===a){var d=S(e,c,i,{eventKey:a,target:"parent"});o[a]=void 0!==d?Object.assign({},i,d):i}else{var _=s()(Object.keys(c).concat(Object.keys(i)));o[a]=_.reduce(function(t,n){var s=S(e,c[n],i[n],{eventKey:a,target:n,childName:r});return t[n]=void 0!==s?Object.assign({},i[n],s):i[n],l()(t,function(e){return!u()(e)})},{})}return l()(o,function(e){return!u()(e)})},{})}function S(e,t,n,r){var s=function(e,t){return"string"==typeof e[t]?"all"===e[t]||e[t]===r[t]:!!Array.isArray(e[t])&&e[t].map(function(e){return"".concat(e)}).includes(r[t])},o=Array.isArray(e)?e:[e];r.childName&&(o=e.filter(function(e){return s(e,"childName")}));var a=o.filter(function(e){return s(e,"target")});if(!u()(a)){var i=a.filter(function(e){return s(e,"eventKey")});if(!u()(i))return i.reduce(function(e,r){return Object.assign({},e,(r&&(0,d.mf)(r.mutation)?r.mutation:function(){})(Object.assign({},t,n)))},{})}}function x(e,t){var n=Array.isArray(t)&&t.reduce(function(t,n){var r=e[n],s=r&&r.type&&r.type.defaultEvents,o=(0,d.mf)(s)?s(r.props):s;return Array.isArray(o)?t.concat.apply(t,f(o)):t},[]);return n&&n.length?n:void 0}function E(e){var t=e.match(h);return t&&t[1]&&t[1].toLowerCase()}var P=function(e){return l()(e,function(e,t){return h.test(t)})},I=function(e){return a()(e,function(e,t){return h.test(t)})},T=function(e){return Object.assign(e,{nativeEvent:e})}},737688:function(e,t,n){"use strict";n.d(t,{$0:function(){return C},CE:function(){return _},F1:function(){return w},F3:function(){return A},F8:function(){return f},H5:function(){return x},Ht:function(){return g},IW:function(){return E},Lo:function(){return b},TY:function(){return O},U_:function(){return d},Uk:function(){return j},Wi:function(){return y},ij:function(){return p},kK:function(){return I},mf:function(){return T},q2:function(){return m},rx:function(){return P},tQ:function(){return h},vi:function(){return S},w6:function(){return z},xs:function(){return v}});var r=n(192673),s=n.n(r),o=n(697734),a=n.n(o),i=n(350017),l=n.n(i),c=n(387784);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return Object.entries(e).reduce(function(e,t){return e[t[1]]=t[0],e},{})}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};for(var r in e)!(t.indexOf(r)>=0)&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function f(e){var t=function(e){return void 0!==e},n=e._x,r=e._x1,s=e._x0,o=e._voronoiX,a=e._y,i=e._y1,c=e._y0,u=e._voronoiY,d=t(r)?r:n,_=t(i)?i:a,f={x:t(o)?o:d,x0:t(s)?s:n,y:t(u)?u:_,y0:t(c)?c:a};return l()({},f,e)}function m(e,t){var n=e.scale,r=e.polar,s=e.horizontal,o=f(t),a=e.origin||{x:0,y:0},i=s?n.y(o.y):n.x(o.x),l=s?n.y(o.y0):n.x(o.x0),c=s?n.x(o.x):n.y(o.y),u=s?n.x(o.x0):n.y(o.y0);return{x:r?c*Math.cos(i)+a.x:i,x0:r?u*Math.cos(l)+a.x:l,y:r?-c*Math.sin(i)+a.y:c,y0:r?-u*Math.sin(l)+a.x:u}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"padding",n=e[t],r="number"==typeof n?n:0,s="object"===u(n)?n:{};return{top:s.top||r,bottom:s.bottom||r,left:s.left||r,right:s.right||r}}function p(e){return"tooltip"===(e&&e.type&&e.type.role)}function b(e,t){var n=e.theme,r=void 0===n?{}:n,s=e.labelComponent,o=r[t]&&r[t].style||{};if(!p(s))return o;var a=r.tooltip&&r.tooltip.style||{},i=l()({},a,o.labels);return l()({},{labels:i},o)}function y(e,t){var n="100%",r="100%";if(!e)return l()({parent:{height:r,width:n}},t);var s=e.data,o=e.labels,a=e.parent,i=t&&t.parent||{},c=t&&t.labels||{},u=t&&t.data||{};return{parent:l()({},a,i,{width:n,height:r}),labels:l()({},o,c),data:l()({},s,u)}}function v(e,t){return T(e)?e(t):e}function A(e,t){return t.disableInlineStyles?{}:e&&Object.keys(e).some(function(t){return T(e[t])})?Object.keys(e).reduce(function(n,r){return n[r]=v(e[r],t),n},{}):e}function g(e){return"number"==typeof e?Math.PI/180*e:e}function S(e){return"number"==typeof e?e/(Math.PI/180):e}function x(e){var t=h(e),n=t.left,r=t.right,s=t.top,o=t.bottom;return Math.min(e.width-n-r,e.height-s-o)/2}function E(e){var t=e.width,n=e.height,r=h(e),s=r.top,o=r.bottom,a=r.left,i=r.right,l=Math.min(t-a-i,n-s-o)/2,c=t/2+a-i,u=n/2+s-o;return{x:c+l>t?l+a-i:c,y:u+l>n?l+s-o:u}}function P(e,t){var n;return e.range&&e.range[t]?e.range[t]:e.range&&Array.isArray(e.range)?e.range:e.polar?"x"===t?[g(e.startAngle||0),g(e.endAngle||360)]:[e.innerRadius||0,x(e)]:(n=h(e),"x"!==t?[e.height-n.bottom,n.top]:[n.left,e.width-n.right])}function I(e){return null==e}function T(e){return"function"==typeof e}function C(e){return T(e)?e:null==e?function(e){return e}:a()(e)}function O(e,t,n){var r=_(e.theme&&e.theme[n]?e.theme[n]:{},["style"]),s=void 0===e.horizontal&&e.children?function e(t){return t.reduce(function(t,n){var r=n.props||{};return t||r.horizontal||!r.children?t||r.horizontal:e(c.Children.toArray(r.children))},!1)}(c.Children.toArray(e.children)):e.horizontal;return l()(void 0===s?{}:{horizontal:s},e,r,t)}function j(e,t){return t?"x"===e?"y":"x":e}function z(e,t,n){var r=t?e:0,s=t||e;s||(s=0);var o=s-r,a=Math.abs(o),i=o/a||1,l=n||1;return Array.from(Array(Math.max(Math.ceil(a/l),0)),function(e,t){return r+t*i*l})}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e,t){return e.concat(t)},a=["data","domain","categories","polar","startAngle","endAngle","minDomain","maxDomain","horizontal"],i=e.filter(c.isValidElement),l=i.map(function(e,t){return t});return function e(i,l,u){return i.reduce(function(r,i,d){var _=r,f=i.type&&i.type.role,m=i.props.name||"".concat(f,"-").concat(l[d]);if(i.props&&i.props.children){var h=Object.assign({},i.props,s()(n,a)),p=i.type&&"stack"===i.type.role&&T(i.type.getChildren)?i.type.getChildren(h):c.Children.toArray(i.props.children).map(function(e){var t=Object.assign({},e.props,s()(h,a));return c.cloneElement(e,t)}),b=p.map(function(e,t){return"".concat(m,"-").concat(t)});_=o(_,e(p,b,i))}else{var y=t(i,m,u);y&&(_=o(_,y))}return _},r)}(i,l)}},843002:function(e,t,n){"use strict";n.d(t,{AM:function(){return _},Nf:function(){return l},Q:function(){return i},Sw:function(){return u},nV:function(){return c},ow:function(){return d}});var r=n(350017),s=n.n(r),o=n(737688);function a(e){var t=e.labelComponent,n=e.labelPlacement,r=e.polar;return n||t.props&&t.props.labelPlacement||(r?"perpendicular":"vertical")}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return void 0!==t.label?t.label:Array.isArray(e.labels)?e.labels[n]:e.labels}function l(e,t){var n=a(e);return"perpendicular"===n||"vertical"===n&&(90===t||270===t)?"middle":t<=90||t>270?"start":"end"}function c(e,t){var n=a(e),r=t<45||t>315?"right":t>=45&&t<=135?"top":t>135&&t<225?"left":"bottom";return"parallel"===n||"left"===r||"right"===r?"middle":"top"===r?"end":"start"}function u(e,t){var n=e.labelPlacement,r=e.datum;if(!n||"vertical"===n)return 0;var s=void 0!==t?t%360:d(e,r),o=0;return 0===s||180===s?o=90:s>0&&s<180?o=90-s:s>180&&s<360&&(o=270-s),o+90*("perpendicular"!==n)*(s>90&&s<180||s>270?1:-1)}function d(e,t){var n=o.F8(t).x;return o.vi(e.scale.x(n))%360}function _(e,t){var n=e.scale,r=e.data,u=e.style,_=e.horizontal,f=e.polar,m=e.width,h=e.height,p=e.theme,b=e.labelComponent,y=e.disableInlineStyles,v=r[t],A=d(e,v),g=f?l(e,A):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.style,r=e.horizontal,s=t._y>=0?1:-1,o=n&&n.labels||{};return t.verticalAnchor||o.verticalAnchor?t.verticalAnchor||o.verticalAnchor:r?s>=0?"start":"end":"middle"}(e,v),S=f?c(e,A):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t._y>=0?1:-1,r=e.style&&e.style.labels||{};return t.verticalAnchor||r.verticalAnchor?t.verticalAnchor||r.verticalAnchor:e.horizontal?"middle":n>=0?"end":"start"}(e,v),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.style&&e.style.labels||{};return void 0===t.angle?n.angle:t.angle}(e,v),E=i(e,v,t),P=a(e),I=function(e,t){var n,r,s,a,i,l=e.polar,c=o.q2(e,t),u=c.x,_=c.y;if(!l)return{x:u,y:_};var f=(n=e.style,r=d(e,t),s=n.labels||{},{x:(a=o.xs(s.padding,e)||0)*Math.cos(i=o.Ht(r)),y:-a*Math.sin(i)});return{x:u+f.x,y:_+f.y}}(e,v),T=I.x,C=I.y,O=function(e,t){if(e.polar)return{};var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.horizontal,r=e.style.labels||{},s=o.xs(r.padding,e)||0,a=t._y<0?-1:1;return{x:n?a*s:0,y:n?0:-1*a*s}}(e,t);return{dx:n.x,dy:n.y}}(e,v),j={angle:x,data:r,datum:v,disableInlineStyles:y,horizontal:_,index:t,polar:f,scale:n,labelPlacement:P,text:E,textAnchor:g,verticalAnchor:S,x:T,y:C,dx:O.dx,dy:O.dy,width:m,height:h,style:u.labels};if(!o.ij(b))return j;var z=p&&p.tooltip||{};return s()({},j,o.CE(z,["style"]))}},638841:function(e,t,n){"use strict";function r(e){}n.d(t,{Z:function(){return r}})},866456:function(e,t,n){"use strict";n.d(t,{j$:function(){return h},md:function(){return p},oL:function(){return y},q8:function(){return m},w8:function(){return f}});var r=n(2927),s=n.n(r),o=n(737688),a=n(60918),i=n(530842),l=n(565338),c=["linear","time","log","sqrt"];function u(e){return"function"==typeof e?o.mf(e.copy)&&o.mf(e.domain)&&o.mf(e.range):"string"==typeof e&&c.includes(e)}function d(e,t){return!!e.scale&&(!e.scale.x&&!e.scale.y||!!e.scale[t])}function _(e,t){if(!e.data)return"linear";var n=o.$0(e[t]),r=e.data.map(function(e){var r=s()(n(e))?n(e)[t]:n(e);return void 0!==r?r:e[t]});return a.AM(r)?"time":"linear"}function f(e){return u(e)?i["scale".concat(e&&e[0].toUpperCase()+e.slice(1))]():l.Z()}function m(e,t){var n=h(e,t);return n?"string"==typeof n?f(n):n:f(function(e,t){var n;if(e.domain&&e.domain[t]?n=e.domain[t]:e.domain&&Array.isArray(e.domain)&&(n=e.domain),n)return a.AM(n)?"time":"linear"}(e,t)||_(e,t))}function h(e,t){if(d(e,t)){var n=e.scale[t]||e.scale;if(u(n))return o.mf(n)?n:f(n)}}function p(e,t){return function(e,t){if(d(e,t)){var n=e.scale[t]||e.scale;return"string"==typeof n?n:y(n)}}(e,t)||_(e,t)}var b=[{name:"quantile",method:"quantiles"},{name:"log",method:"base"}];function y(e){if("string"==typeof e)return e;var t=b.filter(function(t){return void 0!==e[t.method]})[0];return t?t.name:void 0}},638666:function(e,t,n){"use strict";n.d(t,{_:function(){return r},p:function(){return s}});var r=function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(r.length>0)return r.reduce(function(t,n){return[t,e(n)].join(" ")},e(t)).trim();if(null==t||"string"==typeof t)return t;var o=[];for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];o.push("".concat(a,"(").concat(i,")"))}return o.join(" ").trim()};function s(e){var t={grayscale:["#cccccc","#969696","#636363","#252525"],qualitative:["#334D5C","#45B29D","#EFC94C","#E27A3F","#DF5A49","#4F7DA1","#55DBC1","#EFDA97","#E2A37F","#DF948A"],heatmap:["#428517","#77D200","#D6D305","#EC8E19","#C92B05"],warm:["#940031","#C43343","#DC5429","#FF821D","#FFAF55"],cool:["#2746B9","#0B69D4","#2794DB","#31BB76","#60E83B"],red:["#FCAE91","#FB6A4A","#DE2D26","#A50F15","#750B0E"],blue:["#002C61","#004B8F","#006BC9","#3795E5","#65B4F4"],green:["#354722","#466631","#649146","#8AB25C","#A9C97E"]};return e?t[e]:t.grayscale}},820299:function(e,t,n){"use strict";n.d(t,{Tj:function(){return p},Z9:function(){return E}});var r=n(990400),s=n.n(r),o=n(350017),a=n.n(o);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u={"American Typewriter":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.25,.4203125,.3296875,.6,.6375,.8015625,.8203125,.1875,.45625,.45625,.6375,.5,.2734375,.309375,.2734375,.4390625,.6375,.6375,.6375,.6375,.6375,.6375,.6375,.6375,.6375,.6375,.2734375,.2734375,.5,.5,.5,.6,.6921875,.7640625,.6921875,.6375,.728125,.6734375,.6203125,.7109375,.784375,.3828125,.6421875,.7859375,.6375,.9484375,.7640625,.65625,.6375,.65625,.7296875,.6203125,.6375,.7109375,.740625,.940625,.784375,.7578125,.6203125,.4375,.5,.4375,.5,.5,.4921875,.5734375,.5890625,.5109375,.6,.528125,.43125,.5578125,.6375,.3109375,.40625,.6234375,.309375,.928125,.6375,.546875,.6,.58125,.4921875,.4921875,.4,.6203125,.625,.825,.6375,.640625,.528125,.5,.5,.5,.6671875],avg:.5793421052631578},Arial:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.278125,.278125,.35625,.55625,.55625,.890625,.6671875,.1921875,.334375,.334375,.390625,.584375,.278125,.334375,.278125,.278125,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.278125,.278125,.584375,.584375,.584375,.55625,1.015625,.6703125,.6671875,.7234375,.7234375,.6671875,.6109375,.778125,.7234375,.278125,.5,.6671875,.55625,.834375,.7234375,.778125,.6671875,.778125,.7234375,.6671875,.6109375,.7234375,.6671875,.9453125,.6671875,.6671875,.6109375,.278125,.278125,.278125,.4703125,.584375,.334375,.55625,.55625,.5,.55625,.55625,.3125,.55625,.55625,.2234375,.2703125,.5,.2234375,.834375,.55625,.55625,.55625,.55625,.346875,.5,.278125,.55625,.5,.7234375,.5,.5,.5,.334375,.2609375,.334375,.584375],avg:.528733552631579},"Arial Black":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.33125,.334375,.5,.6609375,.6671875,1,.890625,.278125,.390625,.390625,.55625,.6609375,.334375,.334375,.334375,.28125,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.334375,.334375,.6609375,.6609375,.6609375,.6109375,.7453125,.78125,.778125,.778125,.778125,.7234375,.6671875,.834375,.834375,.390625,.6671875,.834375,.6671875,.9453125,.834375,.834375,.7234375,.834375,.78125,.7234375,.7234375,.834375,.7796875,1.003125,.78125,.78125,.7234375,.390625,.28125,.390625,.6609375,.5125,.334375,.6671875,.6671875,.6671875,.6671875,.6671875,.41875,.6671875,.6671875,.334375,.384375,.6671875,.334375,1,.6671875,.6671875,.6671875,.6671875,.4703125,.6109375,.4453125,.6671875,.6140625,.946875,.6671875,.615625,.55625,.390625,.278125,.390625,.6609375],avg:.6213157894736842},Baskerville:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.25,.25,.40625,.6671875,.490625,.875,.7015625,.178125,.2453125,.246875,.4171875,.6671875,.25,.3125,.25,.521875,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.25,.25,.6671875,.6671875,.6671875,.396875,.9171875,.684375,.615625,.71875,.7609375,.625,.553125,.771875,.803125,.3546875,.515625,.78125,.6046875,.928125,.75,.8234375,.5625,.96875,.7296875,.5421875,.6984375,.771875,.7296875,.9484375,.771875,.678125,.6359375,.3640625,.521875,.3640625,.46875,.5125,.334375,.46875,.521875,.428125,.521875,.4375,.3890625,.4765625,.53125,.25,.359375,.4640625,.240625,.803125,.53125,.5,.521875,.521875,.365625,.334375,.2921875,.521875,.4640625,.678125,.4796875,.465625,.428125,.4796875,.5109375,.4796875,.6671875],avg:.5323519736842108},Courier:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.5984375,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6078125,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.61875,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.615625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6140625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625],avg:.6020559210526316},"Courier New":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.5984375,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625],avg:.6015296052631579},cursive:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.1921875,.24375,.40625,.5671875,.3984375,.721875,.909375,.2328125,.434375,.365625,.4734375,.5578125,.19375,.3484375,.19375,.7734375,.503125,.4171875,.5453125,.45,.6046875,.4703125,.5984375,.55625,.503125,.5546875,.20625,.2,.5625,.5546875,.546875,.403125,.70625,.734375,.7078125,.64375,.85,.753125,.75,.6484375,1.0765625,.44375,.5359375,.8359375,.653125,1.0109375,1.1515625,.6796875,.6984375,1.0625,.8234375,.5125,.9234375,.8546875,.70625,.9109375,.7421875,.715625,.6015625,.4640625,.3359375,.4109375,.5421875,.5421875,.4328125,.5125,.5,.3859375,.7375,.359375,.75625,.540625,.5328125,.3203125,.5296875,.5015625,.484375,.7890625,.5640625,.4203125,.703125,.471875,.4734375,.35,.4125,.5640625,.471875,.6484375,.5296875,.575,.4140625,.415625,.20625,.3796875,.5421875],avg:.5604440789473684},fantasy:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.215625,.2625,.3265625,.6109375,.534375,.7625,.7828125,.2,.4359375,.4359375,.3765625,.5109375,.2796875,.4609375,.2796875,.5296875,.6640625,.253125,.521875,.4765625,.6640625,.490625,.528125,.5546875,.496875,.5421875,.2796875,.2796875,.5625,.4609375,.5625,.4828125,.609375,.740625,.7234375,.740625,.8265625,.7234375,.6171875,.7359375,.765625,.240625,.5453125,.715625,.6078125,.8640625,.653125,.9125,.6484375,.946875,.6921875,.653125,.6953125,.8015625,.58125,.784375,.671875,.6265625,.690625,.4359375,.5296875,.4359375,.53125,.5,.2875,.5375,.603125,.4984375,.60625,.53125,.434375,.6421875,.56875,.209375,.4671875,.5484375,.2203125,.709375,.55,.5984375,.6140625,.5765625,.40625,.4734375,.3734375,.559375,.4421875,.6421875,.4890625,.578125,.4484375,.2546875,.2203125,.2546875,.55],avg:.536496710526316},Geneva:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.3328125,.3046875,.5,.6671875,.6671875,.90625,.728125,.3046875,.446875,.446875,.5078125,.6671875,.3046875,.3796875,.3046875,.5390625,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.3046875,.3046875,.6671875,.6671875,.6671875,.56875,.871875,.728125,.6375,.6515625,.7015625,.5765625,.5546875,.675,.690625,.2421875,.4921875,.6640625,.584375,.7890625,.709375,.7359375,.584375,.78125,.60625,.60625,.640625,.6671875,.728125,.946875,.6109375,.6109375,.5765625,.446875,.5390625,.446875,.6671875,.6671875,.5921875,.5546875,.6109375,.546875,.603125,.5765625,.390625,.6109375,.584375,.2359375,.334375,.5390625,.2359375,.8953125,.584375,.60625,.603125,.603125,.3875,.509375,.44375,.584375,.565625,.78125,.53125,.571875,.5546875,.4515625,.246875,.4515625,.6671875],avg:.5762664473684211},Georgia:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2421875,.33125,.4125,.64375,.6109375,.81875,.7109375,.215625,.375,.375,.4734375,.64375,.2703125,.375,.2703125,.46875,.6140625,.4296875,.559375,.553125,.565625,.5296875,.5671875,.503125,.596875,.5671875,.3125,.3125,.64375,.64375,.64375,.4796875,.9296875,.715625,.6546875,.6421875,.75,.6546875,.6,.7265625,.815625,.390625,.51875,.7203125,.6046875,.928125,.7671875,.7453125,.6109375,.7453125,.7234375,.5625,.61875,.7578125,.70625,.99375,.7125,.6640625,.6015625,.375,.46875,.375,.64375,.65,.5,.5046875,.56875,.4546875,.575,.484375,.39375,.509375,.5828125,.29375,.3671875,.546875,.2875,.88125,.5921875,.5390625,.571875,.5640625,.4109375,.4328125,.3453125,.5765625,.5203125,.75625,.50625,.5171875,.4453125,.43125,.375,.43125,.64375],avg:.5551809210526316},"Gill Sans":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2765625,.271875,.3546875,.584375,.5421875,.6765625,.625,.1890625,.3234375,.3234375,.4171875,.584375,.2203125,.3234375,.2203125,.28125,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.2203125,.2296875,.584375,.584375,.584375,.334375,1.0109375,.6671875,.5640625,.709375,.75,.5,.4703125,.740625,.7296875,.25,.3125,.65625,.490625,.78125,.78125,.8234375,.5109375,.8234375,.6046875,.459375,.6046875,.709375,.6046875,1.0421875,.709375,.6046875,.646875,.334375,.28125,.334375,.4703125,.5828125,.334375,.428125,.5,.4390625,.5109375,.4796875,.296875,.428125,.5,.2203125,.2265625,.5,.2203125,.771875,.5,.553125,.5,.5,.3984375,.3859375,.334375,.5,.4390625,.7203125,.5,.4390625,.4171875,.334375,.2609375,.334375,.584375],avg:.4933717105263159},Helvetica:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2765625,.3546875,.5546875,.5546875,.8890625,.665625,.190625,.3328125,.3328125,.3890625,.5828125,.2765625,.3328125,.2765625,.3015625,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.2765625,.2765625,.584375,.5828125,.584375,.5546875,1.0140625,.665625,.665625,.721875,.721875,.665625,.609375,.7765625,.721875,.2765625,.5,.665625,.5546875,.8328125,.721875,.7765625,.665625,.7765625,.721875,.665625,.609375,.721875,.665625,.94375,.665625,.665625,.609375,.2765625,.3546875,.2765625,.4765625,.5546875,.3328125,.5546875,.5546875,.5,.5546875,.5546875,.2765625,.5546875,.5546875,.221875,.240625,.5,.221875,.8328125,.5546875,.5546875,.5546875,.5546875,.3328125,.5,.2765625,.5546875,.5,.721875,.5,.5,.5,.3546875,.259375,.353125,.5890625],avg:.5279276315789471},"Helvetica Neue":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.278125,.259375,.4265625,.55625,.55625,1,.6453125,.278125,.2703125,.26875,.353125,.6,.278125,.3890625,.278125,.36875,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.278125,.278125,.6,.6,.6,.55625,.8,.6625,.6859375,.7234375,.7046875,.6125,.575,.759375,.7234375,.259375,.5203125,.6703125,.55625,.871875,.7234375,.7609375,.6484375,.7609375,.6859375,.6484375,.575,.7234375,.6140625,.9265625,.6125,.6484375,.6125,.259375,.36875,.259375,.6,.5,.25625,.5375,.59375,.5375,.59375,.5375,.2984375,.575,.55625,.2234375,.2375,.5203125,.2234375,.853125,.55625,.575,.59375,.59375,.334375,.5,.315625,.55625,.5,.759375,.51875,.5,.48125,.334375,.2234375,.334375,.6],avg:.5279440789473684},"Hoefler Text":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2359375,.2234375,.3921875,.7125,.49375,.8859375,.771875,.2125,.3078125,.309375,.375,.4234375,.234375,.3125,.234375,.3,.5828125,.365625,.434375,.3921875,.5234375,.3984375,.5125,.4328125,.46875,.5125,.234375,.234375,.515625,.4234375,.515625,.340625,.7609375,.7359375,.6359375,.721875,.8125,.6375,.5875,.8078125,.853125,.4296875,.503125,.78125,.609375,.9609375,.8515625,.8140625,.6125,.8140625,.71875,.49375,.7125,.76875,.771875,1.125,.7765625,.7734375,.65625,.321875,.3078125,.321875,.3546875,.5,.3375,.446875,.5359375,.45,.5296875,.4546875,.425,.4921875,.54375,.2671875,.240625,.5390625,.25,.815625,.5375,.5234375,.5390625,.5421875,.365625,.36875,.35625,.5171875,.5015625,.75,.5,.509375,.44375,.2421875,.14375,.2421875,.35],avg:.5116447368421051},Montserrat:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2625,.2609375,.3734375,.696875,.615625,.8296875,.6703125,.203125,.3296875,.3296875,.3875,.575,.2125,.3828125,.2125,.3953125,.6625,.3625,.56875,.5640625,.6625,.5671875,.609375,.5890625,.6390625,.609375,.2125,.2125,.575,.575,.575,.5671875,1.034375,.7171875,.7546875,.7203125,.8265625,.6703125,.634375,.7734375,.8140625,.303125,.5078125,.7125,.5890625,.95625,.8140625,.8390625,.71875,.8390625,.7234375,.615625,.575,.7921875,.6984375,1.1125,.65625,.6359375,.6515625,.31875,.396875,.31875,.5765625,.5,.6,.590625,.678125,.5640625,.678125,.6046875,.375,.6875,.678125,.2703125,.365625,.6015625,.2703125,1.0625,.678125,.628125,.678125,.678125,.4015625,.4890625,.40625,.6734375,.5421875,.8796875,.534375,.5671875,.5125,.334375,.2953125,.334375,.575],avg:.571792763157895},monospace:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.5984375,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6078125,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.61875,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.615625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6140625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625],avg:.6020559210526316},Overpass:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2296875,.2765625,.4203125,.68125,.584375,.8515625,.7015625,.2203125,.3453125,.3453125,.53125,.63125,.2234375,.3953125,.2234375,.509375,.65,.4046875,.6171875,.60625,.6484375,.60625,.6015625,.5375,.615625,.6015625,.2234375,.2234375,.63125,.63125,.63125,.5015625,.8203125,.696875,.6671875,.65,.6859375,.6015625,.559375,.690625,.7078125,.2953125,.565625,.678125,.58125,.8046875,.7109375,.740625,.6421875,.740625,.6765625,.6046875,.590625,.696875,.6640625,.853125,.65,.6671875,.6625,.3734375,.509375,.3734375,.63125,.5125,.4,.5328125,.5625,.51875,.5625,.546875,.3359375,.5625,.565625,.25625,.3203125,.55,.265625,.85,.565625,.5671875,.5625,.5625,.4046875,.4765625,.3796875,.565625,.521875,.7265625,.53125,.5390625,.5125,.3671875,.275,.3671875,.63125],avg:.5430756578947369},Palatino:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.25,.278125,.371875,.60625,.5,.840625,.778125,.209375,.334375,.334375,.390625,.60625,.2578125,.334375,.25,.60625,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.25,.25,.60625,.60625,.60625,.4453125,.7484375,.778125,.6109375,.709375,.775,.6109375,.55625,.7640625,.8328125,.3375,.346875,.7265625,.6109375,.946875,.83125,.7875,.6046875,.7875,.66875,.525,.6140625,.778125,.7234375,1,.6671875,.6671875,.6671875,.334375,.60625,.334375,.60625,.5,.334375,.5,.565625,.4453125,.6109375,.4796875,.340625,.55625,.5828125,.2921875,.2671875,.5640625,.2921875,.8828125,.5828125,.546875,.6015625,.5609375,.3953125,.425,.3265625,.603125,.565625,.834375,.5171875,.55625,.5,.334375,.60625,.334375,.60625],avg:.5408552631578947},RedHatText:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2328125,.2203125,.35625,.6890625,.55,.7390625,.6703125,.2140625,.4015625,.4015625,.4546875,.53125,.2203125,.45625,.2203125,.515625,.6609375,.3078125,.5484375,.5875,.61875,.5703125,.6203125,.559375,.6140625,.6203125,.2203125,.2234375,.465625,.534375,.465625,.5125,.7671875,.6609375,.6703125,.7265625,.728125,.6203125,.6109375,.8,.73125,.253125,.6,.6125,.6078125,.8625,.7390625,.8109375,.6546875,.809375,.6484375,.6234375,.6171875,.7125,.6609375,.8984375,.6546875,.646875,.60625,.3625,.5203125,.3625,.540625,.4609375,.5234375,.5265625,.584375,.509375,.5828125,.5578125,.3703125,.5828125,.553125,.2234375,.24375,.4890625,.2234375,.8453125,.553125,.58125,.584375,.5828125,.353125,.453125,.378125,.553125,.5015625,.6984375,.4875,.4984375,.459375,.3953125,.2921875,.3953125,.58125],avg:.5341940789473685},"sans-serif":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.278125,.278125,.35625,.55625,.55625,.890625,.6671875,.1921875,.334375,.334375,.390625,.584375,.278125,.334375,.278125,.303125,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.278125,.278125,.5859375,.584375,.5859375,.55625,1.015625,.6671875,.6671875,.7234375,.7234375,.6671875,.6109375,.778125,.7234375,.278125,.5,.6671875,.55625,.834375,.7234375,.778125,.6671875,.778125,.7234375,.6671875,.6109375,.7234375,.6671875,.9453125,.6671875,.6671875,.6109375,.278125,.35625,.278125,.478125,.55625,.334375,.55625,.55625,.5,.55625,.55625,.278125,.55625,.55625,.2234375,.2421875,.5,.2234375,.834375,.55625,.55625,.55625,.55625,.334375,.5,.278125,.55625,.5,.7234375,.5,.5,.5,.35625,.2609375,.3546875,.590625],avg:.5293256578947368},Seravek:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.215625,.296875,.4171875,.6734375,.4953125,.9125,.740625,.2421875,.3375,.3375,.409375,.60625,.2609375,.35625,.25625,.41875,.5921875,.3515625,.475,.4875,.5375,.509375,.5484375,.4546875,.5421875,.5484375,.25625,.2546875,.5875,.6171875,.5875,.4578125,.8140625,.6765625,.5703125,.6109375,.684375,.5109375,.4953125,.678125,.6859375,.2625,.2625,.5859375,.4734375,.846875,.709375,.740625,.509375,.740625,.584375,.5015625,.528125,.675,.5953125,.9453125,.596875,.540625,.540625,.359375,.4203125,.359375,.5109375,.421875,.4046875,.5015625,.5421875,.446875,.5453125,.484375,.38125,.5140625,.5546875,.240625,.2640625,.490625,.2765625,.8625,.5546875,.546875,.5453125,.5453125,.3625,.41875,.3890625,.5453125,.4703125,.7546875,.4921875,.4609375,.453125,.4015625,.2640625,.4015625,.58125],avg:.5044078947368421},serif:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2484375,.334375,.409375,.5,.5,.834375,.778125,.18125,.334375,.334375,.5,.5640625,.25,.334375,.25,.278125,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.278125,.278125,.5640625,.5640625,.5640625,.4453125,.921875,.7234375,.6671875,.6671875,.7234375,.6109375,.55625,.7234375,.7234375,.334375,.390625,.7234375,.6109375,.890625,.7234375,.7234375,.55625,.7234375,.6671875,.55625,.6109375,.7234375,.7234375,.9453125,.7234375,.7234375,.6109375,.334375,.340625,.334375,.4703125,.5,.3453125,.4453125,.5,.4453125,.5,.4453125,.3828125,.5,.5,.278125,.3359375,.5,.278125,.778125,.5,.5,.5,.5,.3375,.390625,.2796875,.5,.5,.7234375,.5,.5,.4453125,.48125,.2015625,.48125,.5421875],avg:.5126315789473684},Tahoma:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.3109375,.3328125,.4015625,.728125,.546875,.9765625,.70625,.2109375,.3828125,.3828125,.546875,.728125,.303125,.3640625,.303125,.3953125,.546875,.546875,.546875,.546875,.546875,.546875,.546875,.546875,.546875,.546875,.3546875,.3546875,.728125,.728125,.728125,.475,.909375,.6109375,.590625,.6015625,.6796875,.5625,.521875,.66875,.6765625,.3734375,.4171875,.6046875,.4984375,.771875,.66875,.7078125,.5515625,.7078125,.6375,.5578125,.5875,.65625,.60625,.903125,.58125,.5890625,.559375,.3828125,.39375,.3828125,.728125,.5625,.546875,.525,.553125,.4625,.553125,.5265625,.3546875,.553125,.5578125,.2296875,.328125,.51875,.2296875,.840625,.5578125,.54375,.553125,.553125,.3609375,.446875,.3359375,.5578125,.4984375,.7421875,.4953125,.4984375,.4453125,.48125,.3828125,.48125,.728125],avg:.5384374999999998},"Times New Roman":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2484375,.334375,.409375,.5,.5,.834375,.778125,.18125,.334375,.334375,.5,.5640625,.25,.334375,.25,.28125,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.278125,.278125,.5640625,.5640625,.5640625,.4453125,.921875,.7234375,.6671875,.6671875,.7234375,.6109375,.55625,.7234375,.7234375,.334375,.390625,.73125,.6109375,.890625,.7375,.7234375,.55625,.7234375,.6765625,.55625,.6109375,.7234375,.7234375,.9453125,.7234375,.7234375,.6109375,.334375,.28125,.334375,.4703125,.51875,.334375,.4453125,.503125,.4453125,.503125,.4453125,.4359375,.5,.5,.278125,.35625,.50625,.278125,.778125,.5,.5,.5046875,.5,.340625,.390625,.2796875,.5,.5,.7234375,.5,.5,.4453125,.48125,.2015625,.48125,.5421875],avg:.5134375},"Trebuchet MS":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.3015625,.3671875,.325,.53125,.525,.6015625,.70625,.1609375,.3671875,.3671875,.3671875,.525,.3671875,.3671875,.3671875,.525,.525,.525,.525,.525,.525,.525,.525,.525,.525,.525,.3671875,.3671875,.525,.525,.525,.3671875,.771875,.590625,.5671875,.5984375,.6140625,.5359375,.525,.6765625,.6546875,.2796875,.4765625,.5765625,.5078125,.7109375,.6390625,.675,.5578125,.7421875,.5828125,.48125,.58125,.6484375,.5875,.853125,.5578125,.5703125,.5515625,.3671875,.3578125,.3671875,.525,.53125,.525,.5265625,.5578125,.4953125,.5578125,.546875,.375,.503125,.546875,.2859375,.3671875,.5046875,.2953125,.83125,.546875,.5375,.5578125,.5578125,.3890625,.40625,.396875,.546875,.490625,.7453125,.5015625,.49375,.475,.3671875,.525,.3671875,.525],avg:.5085197368421052},Verdana:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.35,.39375,.459375,.81875,.6359375,1.0765625,.759375,.26875,.4546875,.4546875,.6359375,.81875,.3640625,.4546875,.3640625,.4703125,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.4546875,.4546875,.81875,.81875,.81875,.546875,1,.684375,.6859375,.6984375,.771875,.6328125,.575,.7765625,.7515625,.421875,.4546875,.69375,.5578125,.84375,.7484375,.7875,.603125,.7875,.7,.684375,.6171875,.7328125,.684375,.9890625,.6859375,.615625,.6859375,.4546875,.46875,.4546875,.81875,.6421875,.6359375,.6015625,.6234375,.521875,.6234375,.596875,.384375,.6234375,.6328125,.275,.3765625,.5921875,.275,.9734375,.6328125,.6078125,.6234375,.6234375,.43125,.521875,.3953125,.6328125,.5921875,.81875,.5921875,.5921875,.5265625,.6359375,.4546875,.6359375,.81875],avg:.6171875000000003}},d={mm:3.8,sm:38,pt:1.33,pc:16,in:96,px:1},_={em:1,ex:.5},f={lineHeight:1,letterSpacing:"0px",fontSize:0,angle:0,fontFamily:""},m=function(e){return Array.isArray(e)?e:e.toString().split(/\r\n|\r|\n/g)},h=function(e,t,n){var r=n*Math.PI/180;return Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t)},p=function(e,t){var n,r=null==(n=e.match(/[a-zA-Z%]+/))?void 0:n[0],s=Number(e.match(/[0-9.,]+/));return r?d.hasOwnProperty(r)?s*d[r]:_.hasOwnProperty(r)?(t?s*t:s*f.fontSize)*_[r]:s:s||0},b=function(e,t){var n=Array.isArray(e)?e[t]:e,r=a()({},n,f);return Object.assign({},r,{fontFamily:r.fontFamily,letterSpacing:"number"==typeof r.letterSpacing?r.letterSpacing:p(String(r.letterSpacing),r.fontSize),fontSize:"number"==typeof r.fontSize?r.fontSize:p(String(r.fontSize))})},y=function(e,t){if(void 0===e||""===e||null===e)return 0;var n=m(e).map(function(e,n){var r=e.toString().length,s=b(t,n),o=s.fontSize,a=s.letterSpacing,i=u[s.fontFamily.split(",").map(function(e){return e.replace(/'|"/g,"")}).find(function(e){return u[e]})||"Helvetica"];return e.toString().split("").map(function(e){return e.charCodeAt(0)<i.widths.length?i.widths[e.charCodeAt(0)]:i.avg}).reduce(function(e,t){return t+e},0)*o+a*Math.max(r-1,0)});return Math.max.apply(Math,function(e){if(Array.isArray(e))return c(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||l(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},v=function(e,t){var n=Array.isArray(t)?t[0]&&t[0].angle:t&&t.angle,r=void 0===e||""===e||null===e?0:m(e).reduce(function(e,n,r){var s=b(t,r),o=n.toString().match(/[(A-Z)(0-9)]/)?1.15*s.fontSize:s.fontSize;return e+s.lineHeight*o},0),s=y(e,t);return{width:n?h(s,r,n):s,height:(n?h(r,s,n):r)*1.05}},A=s()(function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("xlink","http://www.w3.org/1999/xlink"),e.setAttribute("width","300"),e.setAttribute("height","300"),e.setAttribute("viewBox","0 0 300 300"),e.setAttribute("aria-hidden","true");var t=document.createElementNS("http://www.w3.org/2000/svg","text");return e.appendChild(t),e.style.position="fixed",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e),t}),g=function(e){return e?"".concat(e.angle,":").concat(e.fontFamily,":").concat(e.fontSize,":").concat(e.letterSpacing,":").concat(e.lineHeight):"null"},S=s()(function(e,t){var n=A();n.isConnected||(null==(r=(s=A.cache).clear)||r.call(s),n=A());var r,s,o,a=m(e),c=0,u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(e))){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(a.entries());try{for(u.s();!(o=u.n()).done;){var d,_=(d=o.value,function(e){if(Array.isArray(e))return e}(d)||function(e,t){var n,r,s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var o=[],a=!0,i=!1;try{for(s=s.call(e);!(a=(n=s.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw r}}return o}}(d,2)||l(d,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=_[0],p=_[1],y=document.createElementNS("http://www.w3.org/2000/svg","tspan"),v=b(t,f);y.style.fontFamily=v.fontFamily,y.style.fontSize="".concat(v.fontSize,"px"),y.style.lineHeight=v.lineHeight,y.style.fontFamily=v.fontFamily,y.style.letterSpacing=v.letterSpacing,y.textContent=p,y.setAttribute("x","0"),y.setAttribute("y","".concat(c)),n.appendChild(y),c+=v.lineHeight*y.getBoundingClientRect().height}}catch(e){u.e(e)}finally{u.f()}var g=n.getBoundingClientRect().width;return n.innerHTML="",{width:null!=t&&t.angle?h(g,c,null==t?void 0:t.angle):g,height:null!=t&&t.angle?h(c,g,null==t?void 0:t.angle):c}},function(e,t){var n=Array.isArray(e)?e.join():e,r=Array.isArray(t)?t.map(g).join():g(t);return"".concat(n,"::").concat(r)}),x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"undefined"==typeof window||void 0===window.document||void 0===window.document.createElement||n?v(e,t):S(e,t)},E=function(e,t){return x(e,t)}},529353:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(387784);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a,i=0,l=0,c=0,u=0,d=0,_=0,f=("undefined"==typeof performance?"undefined":s(performance))==="object"&&performance.now?performance:Date,m=("undefined"==typeof window?"undefined":s(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function h(){return d||(m(p),d=f.now()+_)}function p(){d=0}function b(){this._call=this._time=this._next=null}function y(e,t,n){var r=new b;return r.restart(e,t,n),r}function v(){d=(u=f.now())+_,i=l=0;try{h(),++i;for(var e,t=o;t;)(e=d-t._time)>=0&&t._call.call(void 0,e),t=t._next;--i}finally{i=0,function(){for(var e,t,n=o,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:o=t);a=e,g(r)}(),d=0}}function A(){var e=f.now(),t=e-u;t>1e3&&(_-=t,u=e)}function g(e){!i&&(l&&(l=clearTimeout(l)),e-d>24?(e<1/0&&(l=setTimeout(v,e-f.now()-_)),c&&(c=clearInterval(c))):(c||(u=f.now(),c=setInterval(A,1e3)),i=1,m(v)))}b.prototype=y.prototype={constructor:b,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?h():+n)+(null==t?0:+t),this._next||a===this||(a?a._next=this:o=this,a=this),this._call=e,this._time=n,g()},stop:function(){this._call&&(this._call=null,this._time=1/0,g())}};var S=function(){var e;function t(){var e=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.shouldAnimate=void 0,this.subscribers=void 0,this.activeSubscriptions=void 0,this.timer=void 0,this.loop=function(){e.subscribers.forEach(function(e){e.callback(h()-e.startTime,e.duration)})},this.shouldAnimate=!0,this.subscribers=[],this.timer=null,this.activeSubscriptions=0}return e=[{key:"bypassAnimation",value:function(){this.shouldAnimate=!1}},{key:"resumeAnimation",value:function(){this.shouldAnimate=!0}},{key:"start",value:function(){this.timer||(this.timer=y(this.loop))}},{key:"stop",value:function(){this.timer&&(this.timer.stop(),this.timer=null)}},{key:"subscribe",value:function(e,t){var n=this.subscribers.push({startTime:h(),callback:e,duration:this.shouldAnimate?t:0});return this.activeSubscriptions++,this.start(),n}},{key:"unsubscribe",value:function(e){null!==e&&this.subscribers[e-1]&&(delete this.subscribers[e-1],this.activeSubscriptions--),0===this.activeSubscriptions&&this.stop()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(),x=r.createContext({transitionTimer:new S,animationTimer:new S});x.displayName="TimerContext";var E=x},756042:function(e,t,n){"use strict";n.d(t,{A:function(){return _},C:function(){return f}});var r=n(690905),s=n.n(r),o=n(350017),a=n.n(o),i=n(387784);function l(e,t){return(e.key||t).toString()}function c(e){return e.reduce(function(e,t,n){return e[l(t,n)]=t,e},{})}function u(e,t){var n=!1,r=Object.keys(e).reduce(function(e,r){return r in t||(n=!0,e[r]=!0),e},{});return n&&r}function d(e){return e.type&&e.type.getData?e.type.getData(e.props):e.props&&e.props.data||!1}function _(e,t){var n=!1,r=!1,s=function(e,t){if(!t||e.type!==t.type)return{};var s,o,a,i,l=(s=d(e),o=d(t),a=s&&c(s),i=o&&c(o),{entering:a&&u(i,a),exiting:i&&u(a,i)}),_=l.entering,f=l.exiting;return n=n||!!f,r=r||!!_,{entering:_||!1,exiting:f||!1}},o=function e(t,n){return t.map(function(r,o){return r&&r.props&&r.props.children&&n[o]?e(i.Children.toArray(t[o].props.children),i.Children.toArray(n[o].props.children)):s(r,n[o])})}(i.Children.toArray(e),i.Children.toArray(t));return{nodesWillExit:n,nodesWillEnter:r,childrenTransitions:o,nodesShouldEnter:!1}}function f(e,t,n){var r=t&&t.nodesWillExit,o=t&&t.nodesWillEnter,i=t&&t.nodesShouldEnter,c=t&&t.nodesShouldLoad,u=t&&t.nodesDoneLoad,_=t&&t.childrenTransitions||[],f={enter:e.animate&&e.animate.onEnter&&e.animate.onEnter.duration,exit:e.animate&&e.animate.onExit&&e.animate.onExit.duration,load:e.animate&&e.animate.onLoad&&e.animate.onLoad.duration,move:e.animate&&e.animate.duration},m=function(e,t,r){if(c){var o=r,a=t,i=function(){n({nodesShouldLoad:!1,nodesDoneLoad:!0})},l=Object.assign({},o,{onEnd:i});if(l&&l.onLoad&&!l.onLoad.duration)return{animate:o,data:a};var u=o.onLoad&&o.onLoad.after?o.onLoad.after:s();return{animate:l,data:a.map(function(e,t){return Object.assign({},e,u(e,t,a))})}}var d=Object.assign({},r,{onEnd:function(){n({nodesDoneLoad:!0})}});if(d&&d.onLoad&&!d.onLoad.duration)return{animate:d,data:t};var _=d.onLoad&&d.onLoad.before?d.onLoad.before:s();return{animate:d,data:t.map(function(e,n){return Object.assign({},e,_(e,n,t))}),clipWidth:0}},h=function(e,t){var n=e.props.animate;if(!e.type)return{};var r=e.props&&e.props.polar&&e.type.defaultPolarTransitions||e.type.defaultTransitions;if(r){var s=n[t]&&n[t].duration;return void 0!==s?s:r[t]&&r[t].duration}return{}};return function(c,p){var b,y=d(c)||[],v=a()({},e.animate,c.props.animate),A=c.props.polar&&c.type.defaultPolarTransitions||c.type.defaultTransitions;v.onExit=a()({},v.onExit,A&&A.onExit),v.onEnter=a()({},v.onEnter,A&&A.onEnter),v.onLoad=a()({},v.onLoad,A&&A.onLoad);var g=_[p]||_[0];if(u){if(r){var S=g&&g.exiting,x=void 0!==f.exit?f.exit:h(c,"onExit");return function(e,t,n,r,o){var a=e&&e.onExit,i=Object.assign({},e,a),l=n;if(r){e.onEnd=o;var c=e.onExit&&e.onExit.before?e.onExit.before:s();l=n.map(function(e,t){return r[(e.key||t).toString()]?Object.assign({},e,c(e,t,n)):e})}return{animate:i,data:l}}(Object.assign({},v,S?{duration:x}:{delay:x}),0,y,S,function(){n({nodesWillExit:!1})})}else if(o){var E,P=g&&g.entering,I=void 0!==f.enter?f.enter:h(c,"onEnter"),T=void 0!==f.move?f.move:c.props.animate&&c.props.animate.duration;return E=Object.assign({},v,{duration:i&&P?I:T}),i?function(e,t,n,r){var o=e&&e.onEnter,a=Object.assign({},e,o),i=t;if(n){a.onEnd=r;var c=a.onEnter&&a.onEnter.after?a.onEnter.after:s();i=t.map(function(e,r){return n[l(e,r)]?Object.assign({},e,c(e,r,t)):e})}return{animate:a,data:i}}(E,y,P,function(){n({nodesWillEnter:!1})}):function(e,t,n,r,o){var a=e,i=n;if(r){a=Object.assign({},e,{onEnd:o});var l=e.onEnter&&e.onEnter.before?e.onEnter.before:s();i=n.map(function(e,t){return r[(e.key||t).toString()]?Object.assign({},e,l(e,t,n)):e})}return{animate:a,data:i}}(E,0,y,P,function(){n({nodesShouldEnter:!0})})}else if(!t&&v&&v.onExit)return b=v.onEnter&&v.onEnter.after?v.onEnter.after:s(),{data:y.map(function(e,t){return Object.assign({},e,b(e,t,y))})}}else{var C=void 0!==f.load?f.load:h(c,"onLoad");return m(c,y,Object.assign({},v,{duration:C}))}return{animate:v,data:y}}}},221538:function(e,t,n){"use strict";n.d(t,{IG:function(){return _},hH:function(){return f},hu:function(){return d}});var r=n(387784),s=n(737688);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var o=[],a=!0,i=!1;try{for(s=s.call(e);!(a=(n=s.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l=["data-","aria-"],c=[],u=function(e){var t=!1;return l.forEach(function(n){RegExp("\\b(".concat(n,")(\\w|-)+"),"g").test(e)&&(t=!0)}),t};function d(e,t){if(null==e)throw Error(t)}var _=function(e){return Object.fromEntries(Object.entries(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)).filter(function(e){var t;return!!(u(t=o(e,1)[0])||c.includes(t))}).map(function(t){var n=o(t,2),r=n[0],a=n[1];return[r,(0,s.xs)(a,e)]}))},f=function(e,t){return r.cloneElement(e,_(t))}},530842:function(e,t,n){"use strict";n.r(t),n.d(t,{scaleDivergingSqrt:function(){return no},scaleUtc:function(){return t1},scaleOrdinal:function(){return P.Z},scaleDivergingPow:function(){return ns},scalePow:function(){return j},scaleSequentialPow:function(){return t7},tickFormat:function(){return na.Z},scaleBand:function(){return a.Z},scaleSequentialSymlog:function(){return function e(){var t=E(t8());return t.copy=function(){return t4(t,e()).constant(t.constant())},m.O.apply(t,arguments)}},scaleSymlog:function(){return function e(){var t=E((0,f.l4)());return t.copy=function(){return(0,f.JG)(t,e()).constant(t.constant())},m.o.apply(t,arguments)}},scaleDiverging:function(){return function e(){var t=(0,i.Q)(nr()(f.yR));return t.copy=function(){return t4(t,e())},m.O.apply(t,arguments)}},scaleRadial:function(){return function e(){var t,n=(0,f.ZP)(),r=[0,1],s=!1;function o(e){var r,o=Math.sign(r=n(e))*Math.sqrt(Math.abs(r));return isNaN(o)?t:s?Math.round(o):o}return o.invert=function(e){return n.invert(w(e))},o.domain=function(e){return arguments.length?(n.domain(e),o):n.domain()},o.range=function(e){return arguments.length?(n.range((r=Array.from(e,l.Z)).map(w)),o):r.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(s=!!e,o):s},o.clamp=function(e){return arguments.length?(n.clamp(e),o):n.clamp()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(n.domain(),r).round(s).clamp(n.clamp()).unknown(t)},m.o.apply(o,arguments),(0,i.Q)(o)}},scaleImplicit:function(){return P.O},scaleQuantile:function(){return function e(){var t,n=[],r=[],s=[];function o(){var e=0,t=Math.max(1,r.length);for(s=Array(t-1);++e<t;)s[e-1]=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z.Z;if(!(!(r=e.length)||isNaN(t*=1))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,o=Math.floor(s),a=+n(e[o],o,e);return a+(n(e[o+1],o+1,e)-a)*(s-o)}}(n,e/t);return a}function a(e){return null==e||isNaN(e*=1)?t:r[(0,G.ZP)(s,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?s[t-1]:n[0],t<s.length?s[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];var t,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return F(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,void 0):void 0}}(e))){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(e);try{for(r.s();!(t=r.n()).done;){var s=t.value;null==s||isNaN(s*=1)||n.push(s)}}catch(e){r.e(e)}finally{r.f()}return n.sort(B.Z),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return s.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},m.o.apply(a,arguments)}},scaleTime:function(){return t0},scaleSequentialQuantile:function(){return function e(){var t=[],n=f.yR;function r(e){if(null!=e&&!isNaN(e*=1))return n(((0,G.ZP)(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];var n,s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ne(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,void 0):void 0}}(e))){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(e);try{for(s.s();!(n=s.n()).done;){var o=n.value;null==o||isNaN(o*=1)||t.push(o)}}catch(e){s.e(e)}finally{s.f()}return t.sort(B.Z),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map(function(e,r){return n(r/(t.length-1))})},r.quantiles=function(e){return Array.from({length:e+1},function(n,r){return function(e,t,n){if(!(!(r=(e=Float64Array.from((0,Z.K)(e,void 0))).length)||isNaN(t*=1))){if(t<=0||r<2)return U(e);if(t>=1)return D(e);var r,s=(r-1)*t,o=Math.floor(s),a=D((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=arguments.length>4?arguments[4]:void 0;if(n=Math.floor(n),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(t.length-1,s)),!(r<=n&&n<=s))return t;for(o=void 0===o?M:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.Z;if(e===B.Z)return M;if("function"!=typeof e)throw TypeError("compare is not a function");return function(t,n){var r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(o);s>r;){if(s-r>600){var a=s-r+1,i=n-r+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(i-a/2<0?-1:1),d=Math.max(r,Math.floor(n-i*c/a+u)),_=Math.min(s,Math.floor(n+(a-i)*c/a+u));e(t,n,d,_,o)}var f=t[n],m=r,h=s;for(H(t,r,n),o(t[s],f)>0&&H(t,r,s);m<h;){for(H(t,m,h),++m,--h;0>o(t[m],f);)++m;for(;o(t[h],f)>0;)--h}0===o(t[r],f)?H(t,r,h):H(t,++h,s),h<=n&&(r=h+1),n<=h&&(s=h-1)}return t})(e,o).subarray(0,o+1));return a+(U(e.subarray(o+1))-a)*(s-o)}}(t,r/e)})},r.copy=function(){return e(n).domain(t)},m.O.apply(r,arguments)}},scalePoint:function(){return a.x},scaleThreshold:function(){return function e(){var t,n=[.5],r=[0,1],s=1;function o(e){return null!=e&&e<=e?r[(0,G.ZP)(n,e,0,s)]:t}return o.domain=function(e){return arguments.length?(s=Math.min((n=Array.from(e)).length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),s=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},m.o.apply(o,arguments)}},scaleIdentity:function(){return function e(t){var n;function r(e){return null==e||isNaN(e*=1)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,l.Z),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,l.Z):[0,1],(0,i.Q)(r)}},scaleSequential:function(){return function e(){var t=(0,i.Q)(t8()(f.yR));return t.copy=function(){return t4(t,e())},m.O.apply(t,arguments)}},scaleLog:function(){return function e(){var t=g((0,f.l4)()).domain([1,10]);return t.copy=function(){return(0,f.JG)(t,e()).base(t.base())},m.o.apply(t,arguments),t}},scaleQuantize:function(){return function e(){var t,n=0,r=1,s=1,o=[.5],a=[0,1];function l(e){return null!=e&&e<=e?a[(0,G.ZP)(o,e,0,s)]:t}function c(){var e=-1;for(o=Array(s);++e<s;)o[e]=((e+1)*r-(e-s)*n)/(s+1);return l}return l.domain=function(e){var t;return arguments.length?(n=(t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return Y(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],r=t[1],n*=1,r*=1,c()):[n,r]},l.range=function(e){return arguments.length?(s=(a=Array.from(e)).length-1,c()):a.slice()},l.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=s?[o[s-1],r]:[o[t-1],o[t]]},l.unknown=function(e){return arguments.length&&(t=e),l},l.thresholds=function(){return o.slice()},l.copy=function(){return e().domain([n,r]).range(a).unknown(t)},m.o.apply((0,i.Q)(l),arguments)}},scaleSequentialSqrt:function(){return t9},scaleSqrt:function(){return z},scaleLinear:function(){return i.Z},scaleSequentialLog:function(){return function e(){var t=g(t8()).domain([1,10]);return t.copy=function(){return t4(t,e()).base(t.base())},m.O.apply(t,arguments)}},scaleDivergingSymlog:function(){return function e(){var t=E(nr());return t.copy=function(){return t4(t,e()).constant(t.constant())},m.O.apply(t,arguments)}},scaleDivergingLog:function(){return function e(){var t=g(nr()).domain([.1,1,10]);return t.copy=function(){return t4(t,e()).base(t.base())},m.O.apply(t,arguments)}}});var r,s,o,a=n(186631),i=n(565338),l=n(885756),c=n(872632),u=n(360085),d=n(431328);function _(e,t){e=e.slice();var n,r=0,s=e.length-1,o=e[r],a=e[s];return a<o&&(n=r,r=s,s=n,n=o,o=a,a=n),e[r]=t.floor(o),e[s]=t.ceil(a),e}var f=n(421059),m=n(729726);function h(e){return Math.log(e)}function p(e){return Math.exp(e)}function b(e){return-Math.log(-e)}function y(e){return-Math.exp(-e)}function v(e){return isFinite(e)?+("1e"+e):e<0?0:e}function A(e){return function(t,n){return-e(-t,n)}}function g(e){var t,n,r=e(h,p),s=r.domain,o=10;function a(){var a,i;return t=(a=o)===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(e){return Math.log(e)/a}),n=10===(i=o)?v:i===Math.E?Math.exp:function(e){return Math.pow(i,e)},s()[0]<0?(t=A(t),n=A(n),e(b,y)):e(h,p),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(s(e),a()):s()},r.ticks=function(e){var r,a,i=s(),l=i[0],u=i[i.length-1],d=u<l;if(d){var _=[u,l];l=_[0],u=_[1]}var f=t(l),m=t(u),h=null==e?10:+e,p=[];if(!(o%1)&&m-f<h){if(f=Math.floor(f),m=Math.ceil(m),l>0){for(;f<=m;++f)for(r=1;r<o;++r)if(!((a=f<0?r/n(-f):r*n(f))<l)){if(a>u)break;p.push(a)}}else for(;f<=m;++f)for(r=o-1;r>=1;--r)if(!((a=f>0?r/n(-f):r*n(f))<l)){if(a>u)break;p.push(a)}2*p.length<h&&(p=(0,c.ZP)(l,u,h))}else p=(0,c.ZP)(f,m,Math.min(m-f,h)).map(n);return d?p.reverse():p},r.tickFormat=function(e,s){if(null==e&&(e=10),null==s&&(s=10===o?"s":","),"function"!=typeof s&&(o%1||null!=(s=(0,u.Z)(s)).precision||(s.trim=!0),s=(0,d.WU)(s)),e===1/0)return s;var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?s(e):""}},r.nice=function(){return s(_(s(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function S(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function x(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function E(e){var t=1,n=e(S(1),x(t));return n.constant=function(n){return arguments.length?e(S(t=+n),x(t)):t},(0,i.Q)(n)}var P=n(941208);function I(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function T(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function C(e){return e<0?-e*e:e*e}function O(e){var t=e(f.yR,f.yR),n=1;return t.exponent=function(t){return arguments.length?1==(n=+t)?e(f.yR,f.yR):.5===n?e(T,C):e(I(n),I(1/n)):n},(0,i.Q)(t)}function j(){var e=O((0,f.l4)());return e.copy=function(){return(0,f.JG)(e,j()).exponent(e.exponent())},m.o.apply(e,arguments),e}function z(){return j.apply(null,arguments).exponent(.5)}function w(e){return Math.sign(e)*e*e}function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return R(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){if(void 0===t){var n,r,s=N(e);try{for(s.s();!(r=s.n()).done;){var o=r.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(e){s.e(e)}finally{s.f()}}else{var a,i=-1,l=N(e);try{for(l.s();!(a=l.n()).done;){var c=a.value;null!=(c=t(c,++i,e))&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(e){l.e(e)}finally{l.f()}}return n}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return L(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){if(void 0===t){var n,r,s=k(e);try{for(s.s();!(r=s.n()).done;){var o=r.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(e){s.e(e)}finally{s.f()}}else{var a,i=-1,l=k(e);try{for(l.s();!(a=l.n()).done;){var c=a.value;null!=(c=t(c,++i,e))&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(e){l.e(e)}finally{l.f()}}return n}var B=n(505454);function M(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:+(e>t))}function H(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}var Z=n(893351),G=n(563469);function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function q(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Q(){return 0}var W=Math.sqrt(50),X=Math.sqrt(10),K=Math.sqrt(2);function $(e,t,n){return function e(t,n,r){var s,o,a,i=(n-t)/Math.max(0,r),l=Math.floor(Math.log10(i)),c=i/Math.pow(10,l),u=c>=W?10:c>=X?5:c>=K?2:1;return(l<0?(s=Math.round(t*(a=Math.pow(10,-l)/u)),o=Math.round(n*a),s/a<t&&++s,o/a>n&&--o,a=-a):(s=Math.round(t/(a=Math.pow(10,l)*u)),o=Math.round(n/a),s*a<t&&++s,o*a>n&&--o),o<s&&.5<=r&&r<2)?e(t,n,2*r):[s,o,a]}(e*=1,t*=1,n*=1)[2]}function J(e,t,n){t*=1,e*=1,n*=1;var r=t<e,s=r?$(t,e,n):$(e,t,n);return(r?-1:1)*(s<0?-(1/s):s)}var ee=new Date,et=new Date;function en(e,t,n,r){function s(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},s.range=function(n,r,o){var a,i=[];if(n=s.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return i;do i.push(a=new Date(+n)),t(n,o),e(n);while(a<n&&n<r);return i},s.filter=function(n){return en(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(s.count=function(t,r){return ee.setTime(+t),et.setTime(+r),e(ee),e(et),Math.floor(n(ee,et))},s.every=function(e){return isFinite(e=Math.floor(e))&&e>0?e>1?s.filter(r?function(t){return r(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var er=en(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});er.every=function(e){return isFinite(e=Math.floor(e))&&e>0?e>1?en(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):er:null},er.range;var es=en(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()});es.range;var eo=en(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()});eo.range;var ea=en(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()});ea.range;var ei=en(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()});ei.range;var el=en(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()});el.range;var ec=en(function(e){return e.setHours(0,0,0,0)},function(e,t){return e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5},function(e){return e.getDate()-1});ec.range;var eu=en(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1});eu.range;var ed=en(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return Math.floor(e/864e5)});function e_(e){return en(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5})}ed.range;var ef=e_(0),em=e_(1),eh=e_(2),ep=e_(3),eb=e_(4),ey=e_(5),ev=e_(6);function eA(e){return en(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}ef.range,em.range,eh.range,ep.range,eb.range,ey.range,ev.range;var eg=eA(0),eS=eA(1),ex=eA(2),eE=eA(3),eP=eA(4),eI=eA(5),eT=eA(6);eg.range,eS.range,ex.range,eE.range,eP.range,eI.range,eT.range;var eC=en(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});eC.range;var eO=en(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});eO.range;var ej=en(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});ej.every=function(e){return isFinite(e=Math.floor(e))&&e>0?en(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null},ej.range;var ez=en(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});function ew(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eN(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eN(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eR(e,t,n,r,s,o){var a=[[es,1,1e3],[es,5,5e3],[es,15,15e3],[es,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[s,1,36e5],[s,3,108e5],[s,6,216e5],[s,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function i(t,n,r){var s=Math.abs(n-t)/r,o=(function(e){var t,n,r;function s(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(s<o){if(0!==t(r,r))return o;do{var a=s+o>>>1;0>n(e[a],r)?s=a+1:o=a}while(s<o)}return s}return 2!==e.length?(t=V,n=function(t,n){return V(e(t),n)},r=function(t,n){return e(t)-n}):(t=e===V||e===q?e:Q,n=e,r=e),{left:s,center:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,a=s(e,t,n,o-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(s<o){if(0!==t(r,r))return o;do{var a=s+o>>>1;0>=n(e[a],r)?s=a+1:o=a}while(s<o)}return s}}})(function(e){return ew(e,3)[2]}).right(a,s);if(o===a.length)return e.every(J(t/31536e6,n/31536e6,r));if(0===o)return er.every(Math.max(J(t,n,r),1));var i=ew(a[s/a[o-1][2]<a[o][2]/s?o-1:o],2),l=i[0],c=i[1];return l.every(c)}return[function(e,t,n){var r=t<e;if(r){var s=[t,e];e=s[0],t=s[1]}var o=n&&"function"==typeof n.range?n:i(e,t,n),a=o?o.range(e,+t+1):[];return r?a.reverse():a},i]}ez.every=function(e){return isFinite(e=Math.floor(e))&&e>0?en(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null},ez.range;var eD=ew(eR(ez,eO,eg,ed,el,ea),2),ek=eD[0],eL=eD[1],eU=ew(eR(ej,eC,ef,ec,ei,eo),2),eB=eU[0],eM=eU[1];function eH(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function eZ(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function eG(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var eF={"-":"",_:" ",0:"0"},eY=/^\s*\d+/,eV=/^%/,eq=/[\\^$*+?|[\]().{}]/g;function eQ(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",o=s.length;return r+(o<n?Array(n-o+1).join(t)+s:s)}function eW(e){return e.replace(eq,"\\$&")}function eX(e){return RegExp("^(?:"+e.map(eW).join("|")+")","i")}function eK(e){return new Map(e.map(function(e,t){return[e.toLowerCase(),t]}))}function e$(e,t,n){var r=eY.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function eJ(e,t,n){var r=eY.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function e0(e,t,n){var r=eY.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function e1(e,t,n){var r=eY.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function e2(e,t,n){var r=eY.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function e5(e,t,n){var r=eY.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function e6(e,t,n){var r=eY.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function e3(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function e8(e,t,n){var r=eY.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function e4(e,t,n){var r=eY.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function e7(e,t,n){var r=eY.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function e9(e,t,n){var r=eY.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function te(e,t,n){var r=eY.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function tt(e,t,n){var r=eY.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function tn(e,t,n){var r=eY.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function tr(e,t,n){var r=eY.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ts(e,t,n){var r=eY.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function to(e,t,n){var r=eV.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ta(e,t,n){var r=eY.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ti(e,t,n){var r=eY.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function tl(e,t){return eQ(e.getDate(),t,2)}function tc(e,t){return eQ(e.getHours(),t,2)}function tu(e,t){return eQ(e.getHours()%12||12,t,2)}function td(e,t){return eQ(1+ec.count(ej(e),e),t,3)}function t_(e,t){return eQ(e.getMilliseconds(),t,3)}function tf(e,t){return t_(e,t)+"000"}function tm(e,t){return eQ(e.getMonth()+1,t,2)}function th(e,t){return eQ(e.getMinutes(),t,2)}function tp(e,t){return eQ(e.getSeconds(),t,2)}function tb(e){var t=e.getDay();return 0===t?7:t}function ty(e,t){return eQ(ef.count(ej(e)-1,e),t,2)}function tv(e){var t=e.getDay();return t>=4||0===t?eb(e):eb.ceil(e)}function tA(e,t){return e=tv(e),eQ(eb.count(ej(e),e)+(4===ej(e).getDay()),t,2)}function tg(e){return e.getDay()}function tS(e,t){return eQ(em.count(ej(e)-1,e),t,2)}function tx(e,t){return eQ(e.getFullYear()%100,t,2)}function tE(e,t){return eQ((e=tv(e)).getFullYear()%100,t,2)}function tP(e,t){return eQ(e.getFullYear()%1e4,t,4)}function tI(e,t){var n=e.getDay();return eQ((e=n>=4||0===n?eb(e):eb.ceil(e)).getFullYear()%1e4,t,4)}function tT(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+eQ(t/60|0,"0",2)+eQ(t%60,"0",2)}function tC(e,t){return eQ(e.getUTCDate(),t,2)}function tO(e,t){return eQ(e.getUTCHours(),t,2)}function tj(e,t){return eQ(e.getUTCHours()%12||12,t,2)}function tz(e,t){return eQ(1+eu.count(ez(e),e),t,3)}function tw(e,t){return eQ(e.getUTCMilliseconds(),t,3)}function tN(e,t){return tw(e,t)+"000"}function tR(e,t){return eQ(e.getUTCMonth()+1,t,2)}function tD(e,t){return eQ(e.getUTCMinutes(),t,2)}function tk(e,t){return eQ(e.getUTCSeconds(),t,2)}function tL(e){var t=e.getUTCDay();return 0===t?7:t}function tU(e,t){return eQ(eg.count(ez(e)-1,e),t,2)}function tB(e){var t=e.getUTCDay();return t>=4||0===t?eP(e):eP.ceil(e)}function tM(e,t){return e=tB(e),eQ(eP.count(ez(e),e)+(4===ez(e).getUTCDay()),t,2)}function tH(e){return e.getUTCDay()}function tZ(e,t){return eQ(eS.count(ez(e)-1,e),t,2)}function tG(e,t){return eQ(e.getUTCFullYear()%100,t,2)}function tF(e,t){return eQ((e=tB(e)).getUTCFullYear()%100,t,2)}function tY(e,t){return eQ(e.getUTCFullYear()%1e4,t,4)}function tV(e,t){var n=e.getUTCDay();return eQ((e=n>=4||0===n?eP(e):eP.ceil(e)).getUTCFullYear()%1e4,t,4)}function tq(){return"+0000"}function tQ(){return"%"}function tW(e){return+e}function tX(e){return Math.floor(e/1e3)}function tK(e){return new Date(e)}function t$(e){return e instanceof Date?+e:+new Date(+e)}function tJ(e,t,n,r,s,o,a,i,l,c){var u=(0,f.ZP)(),d=u.invert,m=u.domain,h=c(".%L"),p=c(":%S"),b=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),A=c("%b %d"),g=c("%B"),S=c("%Y");function x(e){return(l(e)<e?h:i(e)<e?p:a(e)<e?b:o(e)<e?y:r(e)<e?s(e)<e?v:A:n(e)<e?g:S)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?m(Array.from(e,t$)):m().map(tK)},u.ticks=function(t){var n=m();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=m();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?m(_(n,e)):u},u.copy=function(){return(0,f.JG)(u,tJ(e,t,n,r,s,o,a,i,l,c))},u}function t0(){return m.o.apply(tJ(eB,eM,ej,eC,ef,ec,ei,eo,es,s).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function t1(){return m.o.apply(tJ(ek,eL,ez,eO,eg,eu,el,ea,es,o).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}s=(r=function(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,o=e.days,a=e.shortDays,i=e.months,l=e.shortMonths,c=eX(s),u=eK(s),d=eX(o),_=eK(o),f=eX(a),m=eK(a),h=eX(i),p=eK(i),b=eX(l),y=eK(l),v={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return i[e.getMonth()]},c:null,d:tl,e:tl,f:tf,g:tE,G:tI,H:tc,I:tu,j:td,L:t_,m:tm,M:th,p:function(e){return s[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:tW,s:tX,S:tp,u:tb,U:ty,V:tA,w:tg,W:tS,x:null,X:null,y:tx,Y:tP,Z:tT,"%":tQ},A={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return i[e.getUTCMonth()]},c:null,d:tC,e:tC,f:tN,g:tF,G:tV,H:tO,I:tj,j:tz,L:tw,m:tR,M:tD,p:function(e){return s[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:tW,s:tX,S:tk,u:tL,U:tU,V:tM,w:tH,W:tZ,x:null,X:null,y:tG,Y:tY,Z:tq,"%":tQ},g={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=_.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=b.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.m=p.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:e7,e:e7,f:ts,g:e6,G:e5,H:te,I:te,j:e9,L:tr,m:e4,M:tt,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:e8,Q:ta,s:ti,S:tn,u:eJ,U:e0,V:e1,w:e$,W:e2,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:e6,Y:e5,Z:e3,"%":to};function S(e,t){return function(n){var r,s,o,a=[],i=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++i<c;)37===e.charCodeAt(i)&&(a.push(e.slice(l,i)),null!=(s=eF[r=e.charAt(++i)])?r=e.charAt(++i):s="e"===r?" ":"0",(o=t[r])&&(r=o(n,s)),a.push(r),l=i+1);return a.push(e.slice(l,i)),a.join("")}}function x(e,t){return function(n){var r,s,o=eG(1900,void 0,1);if(E(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!t||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(s=(r=eZ(eG(o.y,0,1))).getUTCDay())>4||0===s?eS.ceil(r):eS(r),r=eu.offset(r,(o.V-1)*7),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=(s=(r=eH(eG(o.y,0,1))).getDay())>4||0===s?em.ceil(r):em(r),r=ec.offset(r,(o.V-1)*7),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:+("W"in o)),s="Z"in o?eZ(eG(o.y,0,1)).getUTCDay():eH(eG(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(s+5)%7:o.w+7*o.U-(s+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,eZ(o)):eH(o)}}function E(e,t,n,r){for(var s,o,a=0,i=t.length,l=n.length;a<i;){if(r>=l)return -1;if(37===(s=t.charCodeAt(a++))){if(!(o=g[(s=t.charAt(a++))in eF?t.charAt(a++):s])||(r=o(e,n,r))<0)return -1}else if(s!=n.charCodeAt(r++))return -1}return r}return v.x=S(n,v),v.X=S(r,v),v.c=S(t,v),A.x=S(n,A),A.X=S(r,A),A.c=S(t,A),{format:function(e){var t=S(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",A);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,r.parse,o=r.utcFormat,r.utcParse;var t2=n(3587),t5=n(192986);function t6(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return t3(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t3(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t8(){var e,t,n,r,s,o=0,a=1,i=f.yR,l=!1;function c(t){return null==t||isNaN(t*=1)?s:i(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n;return arguments.length?(i=e((n=t6(t,2))[0],n[1]),c):[i(0),i(1)]}}return c.domain=function(s){var i;return arguments.length?(o=(i=t6(s,2))[0],a=i[1],e=r(o*=1),t=r(a*=1),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(i=e,c):i},c.range=u(t2.Z),c.rangeRound=u(t5.Z),c.unknown=function(e){return arguments.length?(s=e,c):s},function(s){return r=s,e=s(o),t=s(a),n=e===t?0:1/(t-e),c}}function t4(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function t7(){var e=O(t8());return e.copy=function(){return t4(e,t7()).exponent(e.exponent())},m.O.apply(e,arguments)}function t9(){return t7.apply(null,arguments).exponent(.5)}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nn(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nr(){var e,t,n,r,s,o,a,i=0,l=.5,c=1,u=1,d=f.yR,_=!1;function m(e){return isNaN(e*=1)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:s),d(_?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var n;return arguments.length?(d=function(e,t){void 0===t&&(t=e,e=t2.Z);for(var n=0,r=t.length-1,s=t[0],o=Array(r<0?0:r);n<r;)o[n]=e(s,s=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[(n=nt(t,3))[0],n[1],n[2]]),m):[d(0),d(.5),d(1)]}}return m.domain=function(a){var d;return arguments.length?(i=(d=nt(a,3))[0],l=d[1],c=d[2],e=o(i*=1),t=o(l*=1),n=o(c*=1),r=e===t?0:.5/(t-e),s=t===n?0:.5/(n-t),u=t<e?-1:1,m):[i,l,c]},m.clamp=function(e){return arguments.length?(_=!!e,m):_},m.interpolator=function(e){return arguments.length?(d=e,m):d},m.range=h(t2.Z),m.rangeRound=h(t5.Z),m.unknown=function(e){return arguments.length?(a=e,m):a},function(a){return o=a,e=a(i),t=a(l),n=a(c),r=e===t?0:.5/(t-e),s=t===n?0:.5/(n-t),u=t<e?-1:1,m}}function ns(){var e=O(nr());return e.copy=function(){return t4(e,ns()).exponent(e.exponent())},m.O.apply(e,arguments)}function no(){return ns.apply(null,arguments).exponent(.5)}var na=n(288313)},227069:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/business-manager/[userBizId]/media-network-hub/dashboard",function(){return n(651941).Z}])},995751:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/empty-state-ad-accounts-2x-6fe6a9c7.png"},505454:function(e,t,n){"use strict";function r(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{Z:function(){return r}})},563469:function(e,t,n){"use strict";n.d(t,{ZP:function(){return u}});var r=n(505454);function s(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function o(e){var t,n,o;function i(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(s<o){if(0!==t(r,r))return o;do{var a=s+o>>>1;0>n(e[a],r)?s=a+1:o=a}while(s<o)}return s}return 2!==e.length?(t=r.Z,n=function(t,n){return(0,r.Z)(e(t),n)},o=function(t,n){return e(t)-n}):(t=e===r.Z||e===s?e:a,n=e,o=e),{left:i,center:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,s=i(e,t,n,r-1);return s>n&&o(e[s-1],t)>-o(e[s],t)?s-1:s},right:function(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(s<o){if(0!==t(r,r))return o;do{var a=s+o>>>1;0>=n(e[a],r)?s=a+1:o=a}while(s<o)}return s}}}function a(){return 0}var i=n(893351),l=o(r.Z),c=l.right;l.left,o(i.Z).center;var u=c},893351:function(e,t,n){"use strict";n.d(t,{K:function(){return i},Z:function(){return a}});var r=regeneratorRuntime.mark(i);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return null===e?NaN:+e}function i(e,t){var n,o,a,i,l,c,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=21;break}n=s(e),r.prev=2,n.s();case 4:if((o=n.n()).done){r.next=11;break}if(!(null!=(a=o.value)&&(a*=1)>=a)){r.next=9;break}return r.next=9,a;case 9:r.next=4;break;case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(2),n.e(r.t0);case 16:return r.prev=16,n.f(),r.finish(16);case 19:r.next=40;break;case 21:i=-1,l=s(e),r.prev=23,l.s();case 25:if((c=l.n()).done){r.next=32;break}if(!(null!=(u=t(u=c.value,++i,e))&&(u*=1)>=u)){r.next=30;break}return r.next=30,u;case 30:r.next=25;break;case 32:r.next=37;break;case 34:r.prev=34,r.t1=r.catch(23),l.e(r.t1);case 37:return r.prev=37,l.f(),r.finish(37);case 40:case"end":return r.stop()}},r,null,[[2,13,16,19],[23,34,37,40]])}},872632:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{G9:function(){return c},ZP:function(){return l},ly:function(){return u}});var s=Math.sqrt(50),o=Math.sqrt(10),a=Math.sqrt(2);function i(e,t,n){var r,l,c,u=(t-e)/Math.max(0,n),d=Math.floor(Math.log10(u)),_=u/Math.pow(10,d),f=_>=s?10:_>=o?5:_>=a?2:1;return(d<0?(r=Math.round(e*(c=Math.pow(10,-d)/f)),l=Math.round(t*c),r/c<e&&++r,l/c>t&&--l,c=-c):(r=Math.round(e/(c=Math.pow(10,d)*f)),l=Math.round(t/c),r*c<e&&++r,l*c>t&&--l),l<r&&.5<=n&&n<2)?i(e,t,2*n):[r,l,c]}function l(e,t,n){if(t*=1,e*=1,!((n*=1)>0))return[];if(e===t)return[e];var s,o=t<e,a=function(e){if(Array.isArray(e))return e}(s=o?i(t,e,n):i(e,t,n))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),3!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(s,3)||function(e,t){if(e){if("string"==typeof e)return r(e,3);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,3):void 0}}(s,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],c=a[1],u=a[2];if(!(c>=l))return[];var d=c-l+1,_=Array(d);if(o)if(u<0)for(var f=0;f<d;++f)_[f]=-((c-f)/u);else for(var m=0;m<d;++m)_[m]=(c-m)*u;else if(u<0)for(var h=0;h<d;++h)_[h]=-((l+h)/u);else for(var p=0;p<d;++p)_[p]=(l+p)*u;return _}function c(e,t,n){return i(e*=1,t*=1,n*=1)[2]}function u(e,t,n){t*=1,e*=1,n*=1;var r=t<e,s=r?c(t,e,n):c(e,t,n);return(r?-1:1)*(s<0?-(1/s):s)}},431328:function(e,t,n){"use strict";n.d(t,{jH:function(){return a},WU:function(){return o}});var r,s,o,a,i=n(928723),l=n(360085),c=n(69863);function u(e,t){var n=(0,c.V)(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+Array(s-r.length+2).join("0")}var d={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:c.Z,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return u(100*e,t)},r:u,s:function(e,t){var n=(0,c.V)(e,t);if(!n)return e+"";var s=n[0],o=n[1],a=o-(r=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,i=s.length;return a===i?s:a>i?s+Array(a-i+1).join("0"):a>0?s.slice(0,a)+"."+s.slice(a):"0."+Array(1-a).join("0")+(0,c.V)(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function _(e){return e}var f=Array.prototype.map,m=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];o=(s=function(e){var t,n,s,o=void 0===e.grouping||void 0===e.thousands?_:(t=f.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var s=e.length,o=[],a=0,i=t[0],l=0;s>0&&i>0&&(l+i+1>r&&(i=Math.max(1,r-l)),o.push(e.substring(s-=i,s+i)),!((l+=i+1)>r));)i=t[a=(a+1)%t.length];return o.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",c=void 0===e.currency?"":e.currency[1]+"",u=void 0===e.decimal?".":e.decimal+"",h=void 0===e.numerals?_:(s=f.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return s[+e]})}),p=void 0===e.percent?"%":e.percent+"",b=void 0===e.minus?"−":e.minus+"",y=void 0===e.nan?"NaN":e.nan+"";function v(e){var t=(e=(0,l.Z)(e)).fill,n=e.align,s=e.sign,i=e.symbol,_=e.zero,f=e.width,v=e.comma,A=e.precision,g=e.trim,S=e.type;"n"===S?(v=!0,S="g"):d[S]||(void 0===A&&(A=12),g=!0,S="g"),(_||"0"===t&&"="===n)&&(_=!0,t="0",n="=");var x="$"===i?a:"#"===i&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E="$"===i?c:/[%p]/.test(S)?p:"",P=d[S],I=/[defgprs%]/.test(S);function T(e){var a,i,l,c=x,d=E;if("c"===S)d=P(e)+d,e="";else{var p=(e*=1)<0||1/e<0;if(e=isNaN(e)?y:P(Math.abs(e),A),g&&(e=function(e){t:for(var t,n=e.length,r=1,s=-1;r<n;++r)switch(e[r]){case".":s=t=r;break;case"0":0===s&&(s=r),t=r;break;default:if(!+e[r])break t;s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(t+1):e}(e)),p&&0==+e&&"+"!==s&&(p=!1),c=(p?"("===s?s:b:"-"===s||"("===s?"":s)+c,d=("s"===S?m[8+r/3]:"")+d+(p&&"("===s?")":""),I){for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){d=(46===l?u+e.slice(a+1):e.slice(a))+d,e=e.slice(0,a);break}}}v&&!_&&(e=o(e,1/0));var T=c.length+e.length+d.length,C=T<f?Array(f-T+1).join(t):"";switch(v&&_&&(e=o(C+e,C.length?f-d.length:1/0),C=""),n){case"<":e=c+e+d+C;break;case"=":e=c+C+e+d;break;case"^":e=C.slice(0,T=C.length>>1)+c+e+d+C.slice(T);break;default:e=C+c+e+d}return h(e)}return A=void 0===A?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A)),T.toString=function(){return e+""},T}return{format:v,formatPrefix:function(e,t){var n=v(((e=(0,l.Z)(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor((0,i.Z)(t)/3))),s=Math.pow(10,-r),o=m[8+r/3];return function(e){return n(s*e)+o}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,a=s.formatPrefix},928723:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(69863);function s(e){return(e=(0,r.V)(Math.abs(e)))?e[1]:NaN}},69863:function(e,t,n){"use strict";function r(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function s(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}n.d(t,{V:function(){return s},Z:function(){return r}})},360085:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(e){var t;if(!(t=r.exec(e)))throw Error("invalid format: "+e);return new o({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function o(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}s.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},36717:function(e,t,n){"use strict";function r(e,t){return e*=1,t*=1,function(n){return e*(1-n)+t*n}}n.d(t,{Z:function(){return r}})},192986:function(e,t,n){"use strict";function r(e,t){return e*=1,t*=1,function(n){return Math.round(e*(1-n)+t*n)}}n.d(t,{Z:function(){return r}})},3587:function(e,t,n){"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function s(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function o(){}n.d(t,{Z:function(){return function e(t,n){var r,s,o=F(n);return null==n||"boolean"===o?k(n):("number"===o?M.Z:"string"===o?(s=v(n))?(n=s,U):function(e,t){var n,r,s,o,a,i=Z.lastIndex=G.lastIndex=0,l=-1,c=[],u=[];for(e+="",t+="";(s=Z.exec(e))&&(o=G.exec(t));)(a=o.index)>i&&(a=t.slice(i,a),c[l]?c[l]+=a:c[++l]=a),(s=s[0])===(o=o[0])?c[l]?c[l]+=o:c[++l]=o:(c[++l]=null,u.push({i:l,x:(0,M.Z)(s,o)})),i=G.lastIndex;return i<t.length&&(a=t.slice(i),c[l]?c[l]+=a:c[++l]=a),c.length<2?u[0]?(n=u[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=u.length,function(e){for(var n,r=0;r<t;++r)c[(n=u[r]).i]=n.x(e);return c.join("")})}:n instanceof v?U:n instanceof Date?function(e,t){var n=new Date;return e*=1,t*=1,function(r){return n.setTime(e*(1-r)+t*r),n}}:!ArrayBuffer.isView(r=n)||r instanceof DataView?Array.isArray(n)?function(t,n){var r,s=n?n.length:0,o=t?Math.min(s,t.length):0,a=Array(o),i=Array(s);for(r=0;r<o;++r)a[r]=e(t[r],n[r]);for(;r<s;++r)i[r]=n[r];return function(e){for(r=0;r<o;++r)i[r]=a[r](e);return i}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var r,s={},o={};for(r in(null===t||"object"!==H(t))&&(t={}),(null===n||"object"!==H(n))&&(n={}),n)r in t?s[r]=e(t[r],n[r]):o[r]=n[r];return function(e){for(r in s)o[r]=s[r](e);return o}}:M.Z:function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,s=t.slice();return function(o){for(n=0;n<r;++n)s[n]=e[n]*(1-o)+t[n]*o;return s}})(t,n)}}});var a="\\s*([+-]?\\d+)\\s*",i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,u=new RegExp("^rgb\\(".concat(a,",").concat(a,",").concat(a,"\\)$")),d=new RegExp("^rgb\\(".concat(l,",").concat(l,",").concat(l,"\\)$")),_=new RegExp("^rgba\\(".concat(a,",").concat(a,",").concat(a,",").concat(i,"\\)$")),f=new RegExp("^rgba\\(".concat(l,",").concat(l,",").concat(l,",").concat(i,"\\)$")),m=new RegExp("^hsl\\(".concat(i,",").concat(l,",").concat(l,"\\)$")),h=new RegExp("^hsla\\(".concat(i,",").concat(l,",").concat(l,",").concat(i,"\\)$")),p={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function b(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function v(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?A(t):3===n?new x(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?g(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?g(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=u.exec(e))?new x(t[1],t[2],t[3],1):(t=d.exec(e))?new x(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=_.exec(e))?g(t[1],t[2],t[3],t[4]):(t=f.exec(e))?g(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=m.exec(e))?O(t[1],t[2]/100,t[3]/100,1):(t=h.exec(e))?O(t[1],t[2]/100,t[3]/100,t[4]):p.hasOwnProperty(e)?A(p[e]):"transparent"===e?new x(NaN,NaN,NaN,0):null}function A(e){return new x(e>>16&255,e>>8&255,255&e,1)}function g(e,t,n,r){return r<=0&&(e=t=n=NaN),new x(e,t,n,r)}function S(e,t,n,r){var s;return 1==arguments.length?((s=e)instanceof o||(s=v(s)),s)?new x((s=s.rgb()).r,s.g,s.b,s.opacity):new x:new x(e,t,n,null==r?1:r)}function x(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function E(){return"#".concat(C(this.r)).concat(C(this.g)).concat(C(this.b))}function P(){var e=I(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(T(this.r),", ").concat(T(this.g),", ").concat(T(this.b)).concat(1===e?")":", ".concat(e,")"))}function I(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function T(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function C(e){return((e=T(e))<16?"0":"")+e.toString(16)}function O(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new z(e,t,n,r)}function j(e){if(e instanceof z)return new z(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=v(e)),!e)return new z;if(e instanceof z)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,l=a-s,c=(a+s)/2;return l?(i=t===a?(n-r)/l+(n<r)*6:n===a?(r-t)/l+2:(t-n)/l+4,l/=c<.5?a+s:2-a-s,i*=60):l=c>0&&c<1?0:i,new z(i,l,c,e.opacity)}function z(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function w(e){return(e=(e||0)%360)<0?e+360:e}function N(e){return Math.max(0,Math.min(1,e||0))}function R(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function D(e,t,n,r,s){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*s)/6}r(o,v,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return j(this).formatHsl()},formatRgb:y,toString:y}),r(x,S,s(o,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new x(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new x(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new x(T(this.r),T(this.g),T(this.b),I(this.opacity))},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E,formatHex:E,formatHex8:function(){return"#".concat(C(this.r)).concat(C(this.g)).concat(C(this.b)).concat(C((isNaN(this.opacity)?1:this.opacity)*255))},formatRgb:P,toString:P})),r(z,function(e,t,n,r){return 1==arguments.length?j(e):new z(e,t,n,null==r?1:r)},s(o,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new z(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new z(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new x(R(e>=240?e-240:e+120,s,r),R(e,s,r),R(e<120?e+240:e-120,s,r),this.opacity)},clamp:function(){return new z(w(this.h),N(this.s),N(this.l),I(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=I(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(w(this.h),", ").concat(100*N(this.s),"%, ").concat(100*N(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var k=function(e){return function(){return e}};function L(e,t){var n=t-e;return n?function(t){return e+t*n}:k(isNaN(e)?t:e)}var U=function e(t){var n,r=1==(n=+t)?L:function(e,t){var r,s,o;return t-e?(r=e,s=t,r=Math.pow(r,o=n),s=Math.pow(s,o)-r,o=1/o,function(e){return Math.pow(r+e*s,o)}):k(isNaN(e)?t:e)};function s(e,t){var n=r((e=S(e)).r,(t=S(t)).r),s=r(e.g,t.g),o=r(e.b,t.b),a=L(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=s(t),e.b=o(t),e.opacity=a(t),e+""}}return s.gamma=e,s}(1);function B(e){return function(t){var n,r,s=t.length,o=Array(s),a=Array(s),i=Array(s);for(n=0;n<s;++n)r=S(t[n]),o[n]=r.r||0,a[n]=r.g||0,i[n]=r.b||0;return o=e(o),a=e(a),i=e(i),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=i(e),r+""}}}B(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),s=e[r],o=e[r+1],a=r>0?e[r-1]:2*s-o,i=r<t-1?e[r+2]:2*o-s;return D((n-r/t)*t,a,s,o,i)}}),B(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),s=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],i=e[(r+2)%t];return D((n-r/t)*t,s,o,a,i)}});var M=n(36717);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Z=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,G=RegExp(Z.source,"g");function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},186631:function(e,t,n){"use strict";n.d(t,{x:function(){return l},Z:function(){return i}});var r=n(729726),s=n(941208);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(){var e,t,n=(0,s.Z)().unknown(void 0),a=n.domain,l=n.range,c=0,u=1,d=!1,_=0,f=0,m=.5;function h(){var n=a().length,r=u<c,s=r?u:c,o=r?c:u;e=(o-s)/Math.max(1,n-_+2*f),d&&(e=Math.floor(e)),s+=(o-s-e*(n-_))*m,t=e*(1-_),d&&(s=Math.round(s),t=Math.round(t));var i=(function(e,t,n){e*=1,t*=1,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=0|Math.max(0,Math.ceil((t-e)/n)),o=Array(s);++r<s;)o[r]=e+r*n;return o})(n).map(function(t){return s+e*t});return l(r?i.reverse():i)}return delete n.unknown,n.domain=function(e){return arguments.length?(a(e),h()):a()},n.range=function(e){var t;return arguments.length?(c=(t=o(e,2))[0],u=t[1],c*=1,u*=1,h()):[c,u]},n.rangeRound=function(e){var t;return c=(t=o(e,2))[0],u=t[1],c*=1,u*=1,d=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(d=!!e,h()):d},n.padding=function(e){return arguments.length?(_=Math.min(1,f=+e),h()):_},n.paddingInner=function(e){return arguments.length?(_=Math.min(1,e),h()):_},n.paddingOuter=function(e){return arguments.length?(f=+e,h()):f},n.align=function(e){return arguments.length?(m=Math.max(0,Math.min(1,e)),h()):m},n.copy=function(){return i(a(),[c,u]).round(d).paddingInner(_).paddingOuter(f).align(m)},r.o.apply(h(),arguments)}function l(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(n())},t}(i.apply(null,arguments).paddingInner(1))}},421059:function(e,t,n){"use strict";n.d(t,{JG:function(){return f},ZP:function(){return h},yR:function(){return c},l4:function(){return m}});var r=n(563469),s=n(3587),o=n(36717),a=n(192986),i=n(885756),l=[0,1];function c(e){return e}function u(e,t){var n;return(t-=e*=1)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n})}function d(e,t,n){var r=e[0],s=e[1],o=t[0],a=t[1];return s<r?(r=u(s,r),o=n(a,o)):(r=u(r,s),o=n(o,a)),function(e){return o(r(e))}}function _(e,t,n){var s=Math.min(e.length,t.length)-1,o=Array(s),a=Array(s),i=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<s;)o[i]=u(e[i],e[i+1]),a[i]=n(t[i],t[i+1]);return function(t){var n=(0,r.ZP)(e,t,1,s)-1;return a[n](o[n](t))}}function f(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function m(){var e,t,n,r,u,f,m=l,h=l,p=s.Z,b=c;function y(){var e,t,n,s=Math.min(m.length,h.length);return b!==c&&(e=m[0],t=m[s-1],e>t&&(n=e,e=t,t=n),b=function(n){return Math.max(e,Math.min(t,n))}),r=s>2?_:d,u=f=null,v}function v(t){return null==t||isNaN(t*=1)?n:(u||(u=r(m.map(e),h,p)))(e(b(t)))}return v.invert=function(n){return b(t((f||(f=r(h,m.map(e),o.Z)))(n)))},v.domain=function(e){return arguments.length?(m=Array.from(e,i.Z),y()):m.slice()},v.range=function(e){return arguments.length?(h=Array.from(e),y()):h.slice()},v.rangeRound=function(e){return h=Array.from(e),p=a.Z,y()},v.clamp=function(e){return arguments.length?(b=!!e||c,y()):b!==c},v.interpolate=function(e){return arguments.length?(p=e,y()):p},v.unknown=function(e){return arguments.length?(n=e,v):n},function(n,r){return e=n,t=r,y()}}function h(){return m()(c,c)}},729726:function(e,t,n){"use strict";function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function s(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}n.d(t,{O:function(){return s},o:function(){return r}})},565338:function(e,t,n){"use strict";n.d(t,{Q:function(){return i},Z:function(){return function e(){var t=(0,s.ZP)();return t.copy=function(){return(0,s.JG)(t,e())},o.o.apply(t,arguments),i(t)}}});var r=n(872632),s=n(421059),o=n(729726),a=n(288313);function i(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,r.ZP)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return(0,a.Z)(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var s,o,a=t(),i=0,l=a.length-1,c=a[i],u=a[l],d=10;for(u<c&&(o=c,c=u,u=o,o=i,i=l,l=o);d-- >0;){if((o=(0,r.G9)(c,u,n))===s)return a[i]=c,a[l]=u,t(a);if(o>0)c=Math.floor(c/o)*o,u=Math.ceil(u/o)*o;else if(o<0)c=Math.ceil(c*o)/o,u=Math.floor(u*o)/o;else break;s=o}return e},e}},885756:function(e,t,n){"use strict";function r(e){return+e}n.d(t,{Z:function(){return r}})},941208:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(e){if("string"==typeof e)return o(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n,r){var s=i(_(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof s?function(e){return s.apply(n,e)}:s}function i(){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!({}).hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var s=Object.getOwnPropertyDescriptor(r,t);return s.get?s.get.call(arguments.length<3?e:n):s.value}}).apply(null,arguments)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(u())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var s=new(e.bind.apply(e,r));return n&&d(s,n.prototype),s}(e,arguments,_(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)})(e)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{O:function(){return y},Z:function(){return function e(){var t=new f,n=[],r=[],s=y;function o(e){var o=t.get(e);if(void 0===o){if(s!==y)return s;t.set(e,o=n.push(e)-1)}return r[o%r.length]}return o.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new f;var r,s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,void 0):void 0}}(e))){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(e);try{for(s.s();!(r=s.n()).done;){var a=r.value;t.has(a)||t.set(a,n.push(a)-1)}}catch(e){s.e(e)}finally{s.f()}return o},o.range=function(e){return arguments.length?(r=Array.from(e),o):r.slice()},o.unknown=function(e){return arguments.length?(s=e,o):s},o.copy=function(){return e(n,r).unknown(s)},p.o.apply(o,arguments),o}}});var f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&d(i,e);var t,n,o=(t=u(),function(){var e,n=_(i);return e=t?Reflect.construct(n,arguments,_(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");if(Object.defineProperties(l(n=o.call(this)),{_intern:{value:new Map},_key:{value:t}}),null!=e){var n,r,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(a.s();!(r=a.n()).done;){var c,u=(c=r.value,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,o,a,i=[],l=!0,c=!1;try{for(o=(n=n.call(e)).next;!(l=(r=o.call(n)).done)&&(i.push(r.value),2!==i.length);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}(c,2)||s(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],_=u[1];n.set(d,_)}}catch(e){a.e(e)}finally{a.f()}}return n}return n=[{key:"get",value:function(e){return a(i,"get",this,3)([m(this,e)])}},{key:"has",value:function(e){return a(i,"has",this,3)([m(this,e)])}},{key:"set",value:function(e,t){var n,r;return a(i,"set",this,3)([(n=this._intern,r=(0,this._key)(e),n.has(r)?n.get(r):(n.set(r,e),e)),t])}},{key:"delete",value:function(e){var t,n,r;return a(i,"delete",this,3)([(t=e,n=this._intern,r=(0,this._key)(t),n.has(r)&&(t=n.get(r),n.delete(r)),t)])}}],function(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=r(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(s.key),s)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(c(Map));function m(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):t}function h(e){return null!==e&&"object"===r(e)?e.valueOf():e}var p=n(729726);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=Symbol("implicit")},288313:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(872632),s=n(360085),o=n(928723),a=n(431328);function i(e,t,n,i){var l,c,u,d=(0,r.ly)(e,t,n);switch((i=(0,s.Z)(null==i?",f":i)).type){case"s":var _=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(u=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,o.Z)(_)/3)))-(0,o.Z)(Math.abs(d))))||(i.precision=u),(0,a.jH)(i,_);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN((l=d,c=Math.abs(c=Math.max(Math.abs(e),Math.abs(t)))-(l=Math.abs(l)),u=Math.max(0,(0,o.Z)(c)-(0,o.Z)(l))+1))||(i.precision=u-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(u=Math.max(0,-(0,o.Z)(Math.abs(d))))||(i.precision=u-("%"===i.type)*2)}return(0,a.WU)(i)}},745681:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(51166),s=n(556612),o=n(550778);function a(e){return e.innerRadius}function i(e){return e.outerRadius}function l(e){return e.startAngle}function c(e){return e.endAngle}function u(e){return e&&e.padAngle}function d(e,t,n,r,o,a,i){var l=e-n,c=t-r,u=(i?a:-a)/(0,s._b)(l*l+c*c),d=u*c,_=-u*l,f=e+d,m=t+_,h=n+d,p=r+_,b=(f+h)/2,y=(m+p)/2,v=h-f,A=p-m,g=v*v+A*A,S=o-a,x=f*p-h*m,E=(A<0?-1:1)*(0,s._b)((0,s.Fp)(0,S*S*g-x*x)),P=(x*A-v*E)/g,I=(-x*v-A*E)/g,T=(x*A+v*E)/g,C=(-x*v+A*E)/g,O=P-b,j=I-y,z=T-b,w=C-y;return O*O+j*j>z*z+w*w&&(P=T,I=C),{cx:P,cy:I,x01:-d,y01:-_,x11:P*(o/S-1),y11:I*(o/S-1)}}function _(){var e=a,t=i,n=(0,r.Z)(0),_=null,f=l,m=c,h=u,p=null,b=(0,o.d)(y);function y(){var r,o,a=+e.apply(this,arguments),i=+t.apply(this,arguments),l=f.apply(this,arguments)-s.ou,c=m.apply(this,arguments)-s.ou,u=(0,s.Wn)(c-l),y=c>l;if(p||(p=r=b()),i<a&&(o=i,i=a,a=o),i>s.Ho)if(u>s.BZ-s.Ho)p.moveTo(i*(0,s.mC)(l),i*(0,s.O$)(l)),p.arc(0,0,i,l,c,!y),a>s.Ho&&(p.moveTo(a*(0,s.mC)(c),a*(0,s.O$)(c)),p.arc(0,0,a,c,l,y));else{var v,A,g=l,S=c,x=l,E=c,P=u,I=u,T=h.apply(this,arguments)/2,C=T>s.Ho&&(_?+_.apply(this,arguments):(0,s._b)(a*a+i*i)),O=(0,s.VV)((0,s.Wn)(i-a)/2,+n.apply(this,arguments)),j=O,z=O;if(C>s.Ho){var w=(0,s.ZR)(C/a*(0,s.O$)(T)),N=(0,s.ZR)(C/i*(0,s.O$)(T));(P-=2*w)>s.Ho?(w*=y?1:-1,x+=w,E-=w):(P=0,x=E=(l+c)/2),(I-=2*N)>s.Ho?(N*=y?1:-1,g+=N,S-=N):(I=0,g=S=(l+c)/2)}var R=i*(0,s.mC)(g),D=i*(0,s.O$)(g),k=a*(0,s.mC)(E),L=a*(0,s.O$)(E);if(O>s.Ho){var U,B=i*(0,s.mC)(S),M=i*(0,s.O$)(S),H=a*(0,s.mC)(x),Z=a*(0,s.O$)(x);if(u<s.pi)if(U=function(e,t,n,r,o,a,i,l){var c=n-e,u=r-t,d=i-o,_=l-a,f=_*c-d*u;if(!(f*f<s.Ho))return f=(d*(t-a)-_*(e-o))/f,[e+f*c,t+f*u]}(R,D,H,Z,B,M,k,L)){var G=R-U[0],F=D-U[1],Y=B-U[0],V=M-U[1],q=1/(0,s.O$)((0,s.Kh)((G*Y+F*V)/((0,s._b)(G*G+F*F)*(0,s._b)(Y*Y+V*V)))/2),Q=(0,s._b)(U[0]*U[0]+U[1]*U[1]);j=(0,s.VV)(O,(a-Q)/(q-1)),z=(0,s.VV)(O,(i-Q)/(q+1))}else j=z=0}I>s.Ho?z>s.Ho?(v=d(H,Z,R,D,i,z,y),A=d(B,M,k,L,i,z,y),p.moveTo(v.cx+v.x01,v.cy+v.y01),z<O?p.arc(v.cx,v.cy,z,(0,s.fv)(v.y01,v.x01),(0,s.fv)(A.y01,A.x01),!y):(p.arc(v.cx,v.cy,z,(0,s.fv)(v.y01,v.x01),(0,s.fv)(v.y11,v.x11),!y),p.arc(0,0,i,(0,s.fv)(v.cy+v.y11,v.cx+v.x11),(0,s.fv)(A.cy+A.y11,A.cx+A.x11),!y),p.arc(A.cx,A.cy,z,(0,s.fv)(A.y11,A.x11),(0,s.fv)(A.y01,A.x01),!y))):(p.moveTo(R,D),p.arc(0,0,i,g,S,!y)):p.moveTo(R,D),a>s.Ho&&P>s.Ho?j>s.Ho?(v=d(k,L,B,M,a,-j,y),A=d(R,D,H,Z,a,-j,y),p.lineTo(v.cx+v.x01,v.cy+v.y01),j<O?p.arc(v.cx,v.cy,j,(0,s.fv)(v.y01,v.x01),(0,s.fv)(A.y01,A.x01),!y):(p.arc(v.cx,v.cy,j,(0,s.fv)(v.y01,v.x01),(0,s.fv)(v.y11,v.x11),!y),p.arc(0,0,a,(0,s.fv)(v.cy+v.y11,v.cx+v.x11),(0,s.fv)(A.cy+A.y11,A.cx+A.x11),y),p.arc(A.cx,A.cy,j,(0,s.fv)(A.y11,A.x11),(0,s.fv)(A.y01,A.x01),!y))):p.arc(0,0,a,E,x,y):p.lineTo(k,L)}else p.moveTo(0,0);if(p.closePath(),r)return p=null,r+""||null}return y.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+f.apply(this,arguments)+ +m.apply(this,arguments))/2-s.pi/2;return[(0,s.mC)(r)*n,(0,s.O$)(r)*n]},y.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.Z)(+t),y):e},y.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.Z)(+e),y):t},y.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:(0,r.Z)(+e),y):n},y.padRadius=function(e){return arguments.length?(_=null==e?null:"function"==typeof e?e:(0,r.Z)(+e),y):_},y.startAngle=function(e){return arguments.length?(f="function"==typeof e?e:(0,r.Z)(+e),y):f},y.endAngle=function(e){return arguments.length?(m="function"==typeof e?e:(0,r.Z)(+e),y):m},y.padAngle=function(e){return arguments.length?(h="function"==typeof e?e:(0,r.Z)(+e),y):h},y.context=function(e){return arguments.length?(p=null==e?null:e,y):p},y}},186722:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return o},t:function(){return s}});var s=Array.prototype.slice;function o(e){return"object"===r(e)&&"length"in e?e:Array.from(e)}},51166:function(e,t,n){"use strict";function r(e){return function(){return e}}n.d(t,{Z:function(){return r}})},556612:function(e,t,n){"use strict";n.d(t,{BZ:function(){return f},Fp:function(){return a},Ho:function(){return u},Kh:function(){return m},O$:function(){return l},VV:function(){return i},Wn:function(){return r},ZR:function(){return h},_b:function(){return c},fv:function(){return s},mC:function(){return o},ou:function(){return _},pi:function(){return d}});var r=Math.abs,s=Math.atan2,o=Math.cos,a=Math.max,i=Math.min,l=Math.sin,c=Math.sqrt,u=1e-12,d=Math.PI,_=d/2,f=2*d;function m(e){return e>1?0:e<-1?d:Math.acos(e)}function h(e){return e>=1?_:e<=-1?-_:Math.asin(e)}},550778:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{d:function(){return E}});var o,a,i,l,c,u,d,_,f,m,h,p,b,y,v=Math.PI,A=2*v,g=A-1e-6;function S(e){this._+=e[0];for(var t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}var x=function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?S:function(e){var t=Math.floor(e);if(!(t>=0))throw Error("invalid digits: ".concat(e));if(t>15)return S;var n=Math.pow(10,t);return function(e){this._+=e[0];for(var t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}return e=[{key:"moveTo",value:function(e,t){this._append(o||(o=s(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(a||(a=s(["Z"]))))}},{key:"lineTo",value:function(e,t){this._append(i||(i=s(["L",",",""])),this._x1=+e,this._y1=+t)}},{key:"quadraticCurveTo",value:function(e,t,n,r){this._append(l||(l=s(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}},{key:"bezierCurveTo",value:function(e,t,n,r,o,a){this._append(c||(c=s(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+o,this._y1=+a)}},{key:"arcTo",value:function(e,t,n,r,o){if(e*=1,t*=1,n*=1,r*=1,(o*=1)<0)throw Error("negative radius: ".concat(o));var a=this._x1,i=this._y1,l=n-e,c=r-t,m=a-e,h=i-t,p=m*m+h*h;if(null===this._x1)this._append(u||(u=s(["M",",",""])),this._x1=e,this._y1=t);else if(p>1e-6)if(Math.abs(h*l-c*m)>1e-6&&o){var b=n-a,y=r-i,A=l*l+c*c,g=Math.sqrt(A),S=Math.sqrt(p),x=o*Math.tan((v-Math.acos((A+p-(b*b+y*y))/(2*g*S)))/2),E=x/S,P=x/g;Math.abs(E-1)>1e-6&&this._append(_||(_=s(["L",",",""])),e+E*m,t+E*h),this._append(f||(f=s(["A",",",",0,0,",",",",",""])),o,o,+(h*b>m*y),this._x1=e+P*l,this._y1=t+P*c)}else this._append(d||(d=s(["L",",",""])),this._x1=e,this._y1=t)}},{key:"arc",value:function(e,t,n,r,o,a){if(e*=1,t*=1,a=!!a,(n*=1)<0)throw Error("negative radius: ".concat(n));var i=n*Math.cos(r),l=n*Math.sin(r),c=e+i,u=t+l,d=1^a,_=a?r-o:o-r;null===this._x1?this._append(m||(m=s(["M",",",""])),c,u):(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-u)>1e-6)&&this._append(h||(h=s(["L",",",""])),c,u),n&&(_<0&&(_=_%A+A),_>g?this._append(p||(p=s(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,d,e-i,t-l,n,n,d,this._x1=c,this._y1=u):_>1e-6&&this._append(b||(b=s(["A",",",",0,",",",",",",",""])),n,n,+(_>=v),d,this._x1=e+n*Math.cos(o),this._y1=t+n*Math.sin(o)))}},{key:"rect",value:function(e,t,n,r){this._append(y||(y=s(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n*=1,+r,-n)}},{key:"toString",value:function(){return this._}}],function(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=r(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(s.key),s)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function E(e){var t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{var r=Math.floor(n);if(!(r>=0))throw RangeError("invalid digits: ".concat(n));t=r}return e},function(){return new x(t)}}x.prototype},241649:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(186722),s=n(51166);function o(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function a(e){return e}var i=n(556612);function l(){var e=a,t=o,n=null,l=(0,s.Z)(0),c=(0,s.Z)(i.BZ),u=(0,s.Z)(0);function d(s){var o,a,d,_,f,m=(s=(0,r.Z)(s)).length,h=0,p=Array(m),b=Array(m),y=+l.apply(this,arguments),v=Math.min(i.BZ,Math.max(-i.BZ,c.apply(this,arguments)-y)),A=Math.min(Math.abs(v)/m,u.apply(this,arguments)),g=A*(v<0?-1:1);for(o=0;o<m;++o)(f=b[p[o]=o]=+e(s[o],o,s))>0&&(h+=f);for(null!=t?p.sort(function(e,n){return t(b[e],b[n])}):null!=n&&p.sort(function(e,t){return n(s[e],s[t])}),o=0,d=h?(v-m*g)/h:0;o<m;++o,y=_)_=y+((f=b[a=p[o]])>0?f*d:0)+g,b[a]={data:s[a],index:o,value:f,startAngle:y,endAngle:_,padAngle:A};return b}return d.value=function(t){return arguments.length?(e="function"==typeof t?t:(0,s.Z)(+t),d):e},d.sortValues=function(e){return arguments.length?(t=e,n=null,d):t},d.sort=function(e){return arguments.length?(n=e,t=null,d):n},d.startAngle=function(e){return arguments.length?(l="function"==typeof e?e:(0,s.Z)(+e),d):l},d.endAngle=function(e){return arguments.length?(c="function"==typeof e?e:(0,s.Z)(+e),d):c},d.padAngle=function(e){return arguments.length?(u="function"==typeof e?e:(0,s.Z)(+e),d):u},d}},901303:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c},z:function(){return r}});var r={};n.r(r),n.d(r,{BRAND:function(){return i.cg},DIRTY:function(){return o.RC},EMPTY_PATH:function(){return o.h2},INVALID:function(){return o.UI},NEVER:function(){return i.C4},OK:function(){return o.OK},ParseStatus:function(){return o.Q9},Schema:function(){return i.V_},ZodAny:function(){return i.O8},ZodArray:function(){return i.p5},ZodBigInt:function(){return i.EG},ZodBoolean:function(){return i.pZ},ZodBranded:function(){return i.Gd},ZodCatch:function(){return i.ON},ZodDate:function(){return i.$s},ZodDefault:function(){return i.uE},ZodDiscriminatedUnion:function(){return i.Iy},ZodEffects:function(){return i.Xc},ZodEnum:function(){return i.K7},ZodError:function(){return l.jm},ZodFirstPartyTypeKind:function(){return i.pA},ZodFunction:function(){return i.b_},ZodIntersection:function(){return i.f9},ZodIssueCode:function(){return l.NL},ZodLazy:function(){return i.dT},ZodLiteral:function(){return i.SG},ZodMap:function(){return i.Ym},ZodNaN:function(){return i.Hu},ZodNativeEnum:function(){return i.Zl},ZodNever:function(){return i.$n},ZodNull:function(){return i.pV},ZodNullable:function(){return i.ng},ZodNumber:function(){return i.IV},ZodObject:function(){return i.CQ},ZodOptional:function(){return i.ak},ZodParsedType:function(){return a.$k},ZodPipeline:function(){return i.om},ZodPromise:function(){return i.Wx},ZodReadonly:function(){return i.ur},ZodRecord:function(){return i.KX},ZodSchema:function(){return i.I6},ZodSet:function(){return i.qA},ZodString:function(){return i.$T},ZodSymbol:function(){return i.tX},ZodTransformer:function(){return i.z2},ZodTuple:function(){return i._P},ZodType:function(){return i.DI},ZodUndefined:function(){return i.DY},ZodUnion:function(){return i.jp},ZodUnknown:function(){return i.Dy},ZodVoid:function(){return i.XE},addIssueToContext:function(){return o.KD},any:function(){return i.Yj},array:function(){return i.IX},bigint:function(){return i.Kv},boolean:function(){return i.O7},coerce:function(){return i.oQ},custom:function(){return i.PG},date:function(){return i.hT},datetimeRegex:function(){return i.wU},defaultErrorMap:function(){return s.jY},discriminatedUnion:function(){return i.VK},effect:function(){return i.cE},enum:function(){return i.Km},function:function(){return i.ZI},getErrorMap:function(){return s.Pr},getParsedType:function(){return a.FQ},instanceof:function(){return i.Pp},intersection:function(){return i.jV},isAborted:function(){return o.Hc},isAsync:function(){return o.S9},isDirty:function(){return o.eT},isValid:function(){return o.JY},late:function(){return i.wt},lazy:function(){return i.Vo},literal:function(){return i.i0},makeIssue:function(){return o.Xm},map:function(){return i.UI},nan:function(){return i.qn},nativeEnum:function(){return i.jb},never:function(){return i.Fi},null:function(){return i.lB},nullable:function(){return i.AG},number:function(){return i.Rx},object:function(){return i.Ry},objectUtil:function(){return a.Mg},oboolean:function(){return i.Ts},onumber:function(){return i.vs},optional:function(){return i.jt},ostring:function(){return i.Dk},pipeline:function(){return i.EU},preprocess:function(){return i.dj},promise:function(){return i.MC},quotelessJson:function(){return l.Zh},record:function(){return i.IM},set:function(){return i.t8},setErrorMap:function(){return s.DJ},strictObject:function(){return i.cf},string:function(){return i.Z_},symbol:function(){return i.NA},transformer:function(){return i.l4},tuple:function(){return i.bc},undefined:function(){return i.S1},union:function(){return i.G0},unknown:function(){return i._4},util:function(){return a.D5},void:function(){return i.Hc}});var s=n(660604),o=n(23459),a=n(147565),i=n(577632),l=n(619199),c=r},619199:function(e,t,n){"use strict";n.d(t,{NL:function(){return h},Zh:function(){return p},jm:function(){return b}});var r=n(147565);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return l(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r.key),r)}}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){var t="function"==typeof Map?new Map:void 0;return(d=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(_())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var s=new(e.bind.apply(e,r));return n&&f(s,n.prototype),s}(e,arguments,m(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)})(e)}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=r.D5.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),p=function(e){return JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")},b=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),e&&f(d,e);var t,n,i,l=(t=_(),function(){var e,n=m(d);return e=t?Reflect.construct(n,arguments,m(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function d(e){if(!(this instanceof d))throw TypeError("Cannot call a class as a function");(t=l.call(this)).issues=[],t.addIssue=function(e){t.issues=[].concat(a(t.issues),[e])},t.addIssues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[].concat(a(t.issues),a(e))};var t,n=(this instanceof d?this.constructor:void 0).prototype;return Object.setPrototypeOf?Object.setPrototypeOf(u(t),n):t.__proto__=n,t.name="ZodError",t.issues=e,t}return n=[{key:"errors",get:function(){return this.issues}},{key:"format",value:function(e){var t=e||function(e){return e.message},n={_errors:[]};return!function e(r){var s,a=o(r.issues);try{for(a.s();!(s=a.n()).done;){var i=s.value;if("invalid_union"===i.code)i.unionErrors.map(e);else if("invalid_return_type"===i.code)e(i.returnTypeError);else if("invalid_arguments"===i.code)e(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else for(var l=n,c=0;c<i.path.length;){var u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(t(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}}catch(e){a.e(e)}finally{a.f()}}(this),n}},{key:"toString",value:function(){return this.message}},{key:"message",get:function(){return JSON.stringify(this.issues,r.D5.jsonStringifyReplacer,2)}},{key:"isEmpty",get:function(){return 0===this.issues.length}},{key:"flatten",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.message},n={},r=[],s=o(this.issues);try{for(s.s();!(e=s.n()).done;){var a=e.value;a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a))}}catch(e){s.e(e)}finally{s.f()}return{formErrors:r,fieldErrors:n}}},{key:"formErrors",get:function(){return this.flatten()}}],i=[{key:"assert",value:function(e){if(!(e instanceof d))throw Error("Not a ZodError: ".concat(e))}}],n&&c(d.prototype,n),i&&c(d,i),Object.defineProperty(d,"prototype",{writable:!1}),d}(d(Error));b.create=function(e){return new b(e)}},660604:function(e,t,n){"use strict";n.d(t,{DJ:function(){return o},Pr:function(){return a},jY:function(){return r.Z}});var r=n(805502),s=r.Z;function o(e){s=e}function a(){return s}},612579:function(e,t,n){"use strict";var r,s;n.d(t,{v:function(){return r}}),(s=r||(r={})).errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},s.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message}},23459:function(e,t,n){"use strict";n.d(t,{Hc:function(){return S},JY:function(){return E},KD:function(){return b},OK:function(){return g},Q9:function(){return y},RC:function(){return A},S9:function(){return P},UI:function(){return v},Xm:function(){return h},eT:function(){return x},h2:function(){return p}});var r=n(660604),s=n(805502);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n,r,s,o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,s)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=d(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function _(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return m(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=e.data,n=e.path,r=e.errorMaps,s=e.issueData,o=[].concat(_(n),_(s.path||[])),a=u(u({},s),{},{path:o});if(void 0!==s.message)return u(u({},s),{},{path:o,message:s.message});var i,c="",d=l(r.filter(function(e){return!!e}).slice().reverse());try{for(d.s();!(i=d.n()).done;)c=(0,i.value)(a,{data:t,defaultError:c}).message}catch(e){d.e(e)}finally{d.f()}return u(u({},s),{},{path:o,message:c})},p=[];function b(e,t){var n=(0,r.Pr)(),o=h({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===s.Z?void 0:s.Z].filter(function(e){return!!e})});e.common.issues.push(o)}var y=function(){var e,t,n,r;function s(){if(!(this instanceof s))throw TypeError("Cannot call a class as a function");this.value="valid"}return n=[{key:"dirty",value:function(){"valid"===this.value&&(this.value="dirty")}},{key:"abort",value:function(){"aborted"!==this.value&&(this.value="aborted")}}],r=[{key:"mergeArray",value:function(e,t){var n,r=[],s=l(t);try{for(s.s();!(n=s.n()).done;){var o=n.value;if("aborted"===o.status)return v;"dirty"===o.status&&e.dirty(),r.push(o.value)}}catch(e){s.e(e)}finally{s.f()}return{status:e.value,value:r}}},{key:"mergeObjectAsync",value:(e=regeneratorRuntime.mark(function e(t,n){var r,o,a,i,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],o=l(n),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=15;break}return i=a.value,e.next=8,i.key;case 8:return c=e.sent,e.next=11,i.value;case 11:u=e.sent,r.push({key:c,value:u});case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),o.e(e.t0);case 20:return e.prev=20,o.f(),e.finish(20);case 23:return e.abrupt("return",s.mergeObjectSync(t,r));case 24:case"end":return e.stop()}},e,null,[[2,17,20,23]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function i(e){a(o,r,s,i,l,"next",e)}function l(e){a(o,r,s,i,l,"throw",e)}i(void 0)})},function(e,n){return t.apply(this,arguments)})},{key:"mergeObjectSync",value:function(e,t){var n,r={},s=l(t);try{for(s.s();!(n=s.n()).done;){var o=n.value,a=o.key,i=o.value;if("aborted"===a.status||"aborted"===i.status)return v;"dirty"===a.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==a.value&&(void 0!==i.value||o.alwaysSet)&&(r[a.value]=i.value)}}catch(e){s.e(e)}finally{s.f()}return{status:e.value,value:r}}}],n&&i(s.prototype,n),r&&i(s,r),Object.defineProperty(s,"prototype",{writable:!1}),s}(),v=Object.freeze({status:"aborted"}),A=function(e){return{status:"dirty",value:e}},g=function(e){return{status:"valid",value:e}},S=function(e){return"aborted"===e.status},x=function(e){return"dirty"===e.status},E=function(e){return"valid"===e.status},P=function(e){return"undefined"!=typeof Promise&&e instanceof Promise}},147565:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var s,o;s=t,o=n[t],(s=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=r(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(s))in e?Object.defineProperty(e,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[s]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{$k:function(){return d},D5:function(){return c},FQ:function(){return _},Mg:function(){return u}}),(l=c||(c={})).assertEqual=function(e){},l.assertIs=function(e){},l.assertNever=function(e){throw Error()},l.arrayToEnum=function(e){var t,n={},r=a(e);try{for(r.s();!(t=r.n()).done;){var s=t.value;n[s]=s}}catch(e){r.e(e)}finally{r.f()}return n},l.getValidEnumValues=function(e){var t,n=l.objectKeys(e).filter(function(t){return"number"!=typeof e[e[t]]}),r={},s=a(n);try{for(s.s();!(t=s.n()).done;){var o=t.value;r[o]=e[o]}}catch(e){s.e(e)}finally{s.f()}return l.objectValues(r)},l.objectValues=function(e){return l.objectKeys(e).map(function(t){return e[t]})},l.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},l.find=function(e,t){var n,r=a(e);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(t(s))return s}}catch(e){r.e(e)}finally{r.f()}},l.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e},l.joinValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map(function(e){return"string"==typeof e?"'".concat(e,"'"):e}).join(t)},l.jsonStringifyReplacer=function(e,t){return"bigint"==typeof t?t.toString():t},(u||(u={})).mergeShapes=function(e,t){return o(o({},e),t)};var l,c,u,d=c.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_=function(e){switch(r(e)){case"undefined":return d.undefined;case"string":return d.string;case"number":return Number.isNaN(e)?d.nan:d.number;case"boolean":return d.boolean;case"function":return d.function;case"bigint":return d.bigint;case"symbol":return d.symbol;case"object":if(Array.isArray(e))return d.array;if(null===e)return d.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return d.promise;if("undefined"!=typeof Map&&e instanceof Map)return d.map;if("undefined"!=typeof Set&&e instanceof Set)return d.set;if("undefined"!=typeof Date&&e instanceof Date)return d.date;return d.object;default:return d.unknown}}},805502:function(e,t,n){"use strict";var r=n(619199),s=n(147565);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.Z=function(e,t){var n;switch(e.code){case r.NL.invalid_type:n=e.received===s.$k.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case r.NL.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,s.D5.jsonStringifyReplacer));break;case r.NL.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(s.D5.joinValues(e.keys,", "));break;case r.NL.invalid_union:n="Invalid input";break;case r.NL.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(s.D5.joinValues(e.options));break;case r.NL.invalid_enum_value:n="Invalid enum value. Expected ".concat(s.D5.joinValues(e.options),", received '").concat(e.received,"'");break;case r.NL.invalid_arguments:n="Invalid function arguments";break;case r.NL.invalid_return_type:n="Invalid function return type";break;case r.NL.invalid_date:n="Invalid date";break;case r.NL.invalid_string:"object"===o(e.validation)?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"==typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):s.D5.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case r.NL.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case r.NL.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case r.NL.custom:n="Invalid input";break;case r.NL.invalid_intersection_types:n="Intersection results could not be merged";break;case r.NL.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case r.NL.not_finite:n="Number must be finite";break;default:n=t.defaultError,s.D5.assertNever(e)}return{message:n}}}},function(e){e.O(0,["14906","25418","29755","32467","33699","34709","34799","3519","38489","39142","4664","48961","53037","55170","59306","60886","63638","70426","70740","72112","79763","82926","85857","88038","91444","92298","95964","99180"],function(){return e(e.s=227069)}),e.O()}]);