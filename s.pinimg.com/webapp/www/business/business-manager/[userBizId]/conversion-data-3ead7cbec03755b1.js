(self.legacyJsonp=self.legacyJsonp||[]).push([["7422"],{826703:function(e,n,t){"use strict";var s=t(387784),o=t(581722),i=t(935059),a=t(661376),r=t(196482),c=t(89446);n.Z=function(e,n){var t,l=(0,o.v9)(r.ZP),d=(0,c.KJ)(),u=n||d,_=(0,a.Z)({name:"ApiResource",options:{url:"/ads/v4/business_access/businesses/".concat(u,"/owner/")}}),h=null==_||null==(t=_.data)?void 0:t.data,v=(e||l||[]).find(function(e){return e.id===u}),m=(0,i.Z)(),g=m.isAuth?m.id:null,x=(0,s.useMemo)(function(){return v?{isRmnBusinessV2:"rmn_or_brand_v2"in v&&"RMN"===v.rmn_or_brand_v2,isBrandBusinessV2:"rmn_or_brand_v2"in v&&"BRAND"===v.rmn_or_brand_v2}:{isRmnBusinessV2:u===g&&(null==h?void 0:h.rmn_or_brand_v2)==="RMN",isBrandBusinessV2:u===g&&(null==h?void 0:h.rmn_or_brand_v2)==="BRAND"}},[v,h,u,g]);return{isRmnBusinessV2:x.isRmnBusinessV2,isBrandBusinessV2:x.isBrandBusinessV2}}},874273:function(e,n,t){"use strict";var s=t(20256),o=t(680811);n.Z=function(e){var n=e.title,t=e.subtitle,i=e.iconLabel,a=e.onClick,r=e.toolTipLabel,c=e.gap;return(0,o.jsxs)(s.xu,{marginBottom:2,children:[(0,o.jsxs)(s.kC,{alignItems:"center",gap:c||1,height:"100%",justifyContent:"start",width:"100%",children:[(0,o.jsx)(s.X6,{size:"600",children:n}),(0,o.jsx)(s.xu,{"data-test-id":"tooltip-button-trigger",children:(0,o.jsx)(s.hU,{accessibilityLabel:i,bgColor:"transparent",icon:"info-circle",iconColor:"gray",onClick:a,size:"xs",tooltip:{text:r,accessibilityLabel:r}})})]}),t&&(0,o.jsx)(s.xv,{size:"300",children:t})]})}},333528:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var s=t(20256),o=t(997526),i=t(874273),a=t(680811);function r(e){var n=e.pageProps,t=e.pageTitle,r=e.content,c=n||{},l=c.title,d=void 0===l?"":l,u=c.infoTooltip,_=c.onClick,h=u||{},v=h.iconLabel,m=h.toolTipLabel;return(0,a.jsxs)(s.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[!!t&&(0,a.jsx)(s.xu,{marginBottom:4,marginStart:2,children:(0,a.jsx)(s.X6,{size:"600",children:t})}),!!d&&(0,a.jsx)(s.xu,{marginBottom:4,marginStart:2,children:(0,a.jsx)(i.Z,{gap:0,iconLabel:void 0===v?"":v,onClick:_,title:d,toolTipLabel:void 0===m?"":m})}),(0,a.jsx)(s.kC,{minHeight:"calc(100vh - 169px)",width:"100%",children:(0,a.jsx)(s.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:o.iiJ}},flex:"grow",minWidth:940,paddingX:2,paddingY:4,rounding:4,width:"grow",children:r})})]})}},364778:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var s=t(20256),o=t(997526),i=t(680811);function a(e){var n,t,a=e.pageProps,r=e.sidebarContent,c=e.mainContent,l=e.fitToWindow,d=e.style,u="calc(100vh - 169px)",_=a||{},h=_.title,v=_.infoTooltip;return(0,i.jsxs)(s.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[!!h&&(0,i.jsxs)(s.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"start",marginBottom:4,marginStart:2,width:"100%",children:[(0,i.jsx)(s.kC.Item,{flex:v?void 0:"grow",children:(0,i.jsx)(s.X6,{size:"600",children:h})}),v&&(0,i.jsx)(s.xu,{marginStart:1,children:(0,i.jsx)(s.hU,{accessibilityLabel:v.accessibilityLabel,bgColor:"transparent",icon:"info-circle",iconColor:"gray",onClick:v.onClick,size:"xs",tooltip:v.text?{text:v.text,accessibilityLabel:v.text}:void 0})})]}),(0,i.jsxs)(s.kC,{height:l?u:void 0,minHeight:l?void 0:u,overflow:l?"hidden":"visible",width:"100%",children:[(0,i.jsx)(s.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:o.iiJ}},height:l?"100%":void 0,marginEnd:2,minWidth:280,overflow:l?"hidden":"visible",paddingX:2,paddingY:4,rounding:4,width:280,children:r}),(0,i.jsx)(s.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:o.iiJ}},display:null==d||null==(n=d.content)?void 0:n.display,flex:"grow",minWidth:660,paddingY:4,rounding:4,width:"grow",children:(0,i.jsxs)(s.xu,{display:null==d||null==(t=d.content)?void 0:t.display,flex:l?void 0:"grow",height:l?"100%":void 0,overflow:l?"auto":"visible",paddingX:4,children:[c,(0,i.jsx)(s.xu,{height:2})]})})]})]})}},607618:function(e,n,t){"use strict";t.d(n,{H:function(){return U},Z:function(){return M}});var s=t(387784),o=t(581722),i=t(20256),a=t(719301),r=t(224625),c=t(24246),l=t(216975),d=t(540846),u=t(826703),_=t(458630),h=t(506672),v=t(377823),m=t(680811),g=function(e){var n=e.pageType,t=e.conversionTypes,s=e.conversionTypesIsLoading,o=e.conversionTypesCurrentPageSelector,i=e.conversionTypesTotalCountSelector,a=e.conversionTypesPageSizeSelector,r=e.conversionTypesSearchTermSelector,l=e.conversionTypesFetchData,d=e.conversionTypesColumnDefs,u=e.conversionTypesTableConfiguration,_=e.conversionTypesOnRowClick,h=e.hidePagination,g=e.searchFieldText,x=e.emptyState,b=e.options,p=(0,c.Z)();return(0,m.jsx)(v.Z,{columnDefs:d,currentPageSelector:o||(null==u?void 0:u.dataCurrentPageSelector),data:t,emptyState:x,fetchData:null!=l?l:function(){},hidePagination:h,isLoading:s,onRowClick:_,options:b,pageSizeSelector:a||(null==u?void 0:u.dataPageSizeSelector),pageType:n,searchPlaceholder:null!=g?g:p._('Search conversion types', '[m10n]conversionTypesTable.search', 'Placeholder text to hint user to search for conversion types by name'),searchTermSelector:r||(null==u?void 0:u.dataSearchTermSelector),totalCountSelector:i||(null==u?void 0:u.dataTotalCountSelector)})},x=function(e){var n=e.pageType,t=e.productIds,s=e.productIdsIsLoading,o=e.productIdsFetchData,i=e.productIdsColumnDefs,a=e.productIdsTableConfiguration,r=e.productIdsOnRowClick,l=e.hidePagination,d=e.showSearchField,u=e.emptyState,_=e.options,h=(0,c.Z)();return(0,m.jsx)(v.Z,{columnDefs:i,currentPageSelector:null==a?void 0:a.dataCurrentPageSelector,data:t,emptyState:u,fetchData:null!=o?o:function(){},hidePagination:l,isLoading:s||!1,onRowClick:r,options:_,pageSizeSelector:null==a?void 0:a.dataPageSizeSelector,pageType:n,searchPlaceholder:d?h._('Search product IDs', '[m10n]productIdsTable.search', 'Placeholder text to hint user to search for product IDs by name'):"",searchTermSelector:null==a?void 0:a.dataSearchTermSelector,totalCountSelector:null==a?void 0:a.dataTotalCountSelector})},b=t(384408),p=t(283937),f=t(84723),A=t(720459),y=t(774838),C=t(477291),j=t(594110),z=function(e){var n=(0,y.B)().locale,t=(0,A.Z)();return{field:"eventCount",headerName:(0,m.jsxs)(i.kC,{alignItems:"center",direction:"row",children:[(0,m.jsx)(i.xu,{padding:1,children:e._('Recent events', '[m10n]bizAccess.business.conversionType.eventCount', 'Table column title to indicate recent count of the conversion type event in this row')}),(0,m.jsx)(i.u,{text:e._('Last 7 days', '[m10n]bizAccess.business.conversionType.eventCount.tooltip', 'Tooltip text for the recent count of the conversion type event in this row'),children:(0,m.jsx)(i.hU,{accessibilityLabel:e._('Tooltip icon', '[m10n]bizAccess.business.conversionType.eventCount.tooltip.icon.accessibilityLabel', 'Accessibility icon or the tooltip icon for the recent count of the conversion type event in this row'),bgColor:"white",icon:"info-circle",iconColor:"darkGray",padding:1,size:"xs"})})]}),minWidth:j.I.columnWidths.md,TableCellComponent:C.Z,valueGetter:function(e){return(0,m.jsx)(i.xv,{size:"200",children:null!==e.eventCount?t(n,e.eventCount):"..."})},justifying:"start"}},S=t(308592),w=t(172608),P=t(656120),I=t(254925),D=t(563218),T=t(140537),k=t(89446);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,s)}return t}function N(e,n,t,s,o,i,a){try{var r=e[i](a),c=r.value}catch(e){return void t(e)}r.done?n(c):Promise.resolve(c).then(s,o)}function L(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,o,i,a,r=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(s=i.call(t)).done)&&(r.push(s.value),r.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return r}}(e,n)||B(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,n){if(e){if("string"==typeof e)return Z(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Z(e,n):void 0}}function Z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,s=Array(n);t<n;t++)s[t]=e[t];return s}var V=function(e){var n=e.activeTabIndex,t=e.conversion,s=e.setActiveTabIndex,o=(0,c.Z)(),a=(0,u.Z)().isBrandBusinessV2,r=(0,k.HU)().setAssignAdAccountToConversionSegmentModal,l=[{href:"#",text:o._('Ad accounts', '[m10n]businessAccess.conversionData.adAccounts.tab.label', 'conversion segment ad accounts tab label'),id:"conversion-data-adAccount-tab",icon:"ad"},{href:"#",text:o._('Conversion types', '[m10n]businessAccess.conversionData.types.tab.label', 'conversion segment types tab label'),id:"conversion-data-type-tab",icon:"diagnostics"}].concat(R(a?[]:[{href:"#",text:o._('Source data', '[m10n]businessAccess.conversionData.sourceData.tab.label', 'conversion segment source data tab label'),id:"conversion-data-source-data-tab",icon:"data-source"}]));return(0,m.jsxs)(i.xu,{alignItems:"center","data-test-id":"conversion-data-table-tabs",display:"flex",justifyContent:"between",marginBottom:4,marginTop:2,width:"100%",children:[(0,m.jsx)(i.mQ,{activeTabIndex:n,onChange:function(e){var n=e.event,t=e.dangerouslyDisableOnNavigation,o=e.activeTabIndex;n.preventDefault(),t(),s(o)},tabs:l}),(0,m.jsx)(i.xu,{marginBottom:2,children:a&&(0,m.jsx)(i.zx,{color:"red",onClick:function(){r({conversionId:t.id,partnerId:t.partner.id,ownerId:t.owner.id})},text:o._('Assign ad account', '[m10n]businessAccess.conversionData.detail.assignAdAccountButton.label', 'Assign ad account label')})})]})};function U(e){var n=e.button,t=e.image,s=e.header,o=e.description;return(0,m.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderColor:"#e9e9e9"}},height:"100%",rounding:4,children:(0,m.jsxs)(i.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",width:"100%",children:[(0,m.jsx)(i.xu,{"aria-hidden":!0,height:200,width:200,children:t}),(0,m.jsx)(i.xu,{marginBottom:2,marginTop:2,children:(0,m.jsx)(i.xv,{align:"center",size:"300",children:s})}),(0,m.jsx)(i.xu,{width:500,children:(0,m.jsx)(i.xv,{align:"center",color:"subtle",size:"200",children:o})}),n&&(0,m.jsx)(i.xu,{marginTop:2,children:n})]})})}var W=function(e){var n,t,a=e.activeTabIndex,u=e.conversion,v=e.pageType,A=e.isBrandBusiness,y=e.partner,B=(0,o.I0)(),Z=(0,c.Z)(),V=(0,k.KJ)(),W=(0,d.y)().openSheet,M=u.additionalItemIds,H=u.adAccountId,G=u.catalogId,F=u.conversionSegmentSummary,J=u.id||"",Y=(0,o.v9)(T.UG),X=(0,o.v9)(T.id),K=(0,o.v9)(T.LU),Q=(0,o.v9)(T.I2),$=(u.conversionTypes||[]).map(function(e){var n=F&&e in F?F[e]:{},t=n.events_cloned_count,s=n.last_received_timestamp,o=void 0===s?null:s;return{eventName:e,eventCount:void 0===t?null:t,lastReceivedTime:null!=o?new Date(o):null,conversionId:u.id}})||Q,q=L((0,s.useState)([]),2),ee=q[0],en=q[1],et=(0,k.HU)().setAssignAdAccountToConversionSegmentModal,es=(0,s.useMemo)(function(){return{adAccountId:Z._('Loading...', '[m10n]bizAccess.conversionData.sourceData.adAccountIdLoadingState', 'Loading...'),adAccountName:void 0,catalogName:Z._('Loading...', '[m10n]bizAccess.conversionData.sourceData.catalogNameLoadingState', 'Loading...')}},[Z]),eo=L((0,s.useState)(es),2),ei=eo[0],ea=eo[1],er=(0,s.useCallback)((n=regeneratorRuntime.mark(function e(){var n,t,s,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ea(es),e.next=3,(0,D.G2)({businessId:V,assetId:H,resourceType:"AD_ACCOUNT",includeAssetSummary:!0});case 3:if(o=e.sent.data.data,!G){e.next=9;break}return e.next=8,(0,D.G2)({businessId:V,assetId:G,resourceType:"CATALOG",includeAssetSummary:!0});case 8:i=e.sent;case 9:a=null==(n=i)||null==(t=n.data)||null==(s=t.data)?void 0:s.asset,ea({adAccountId:null==o?void 0:o.asset_id,adAccountName:null==o?void 0:o.asset.name,catalogName:null==a?void 0:a.name});case 11:case"end":return e.stop()}},e)}),function(){var e=this,t=arguments;return new Promise(function(s,o){var i=n.apply(e,t);function a(e){N(i,s,o,a,r,"next",e)}function r(e){N(i,s,o,a,r,"throw",e)}a(void 0)})}),[V,H,G,es]),ec=(0,s.useMemo)(function(){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach(function(n){var s,o;s=n,o=t[n],(s=function(e){var n=function(e,n){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,n||"default");if("object"!=E(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==E(n)?n:n+""}(s))in e?Object.defineProperty(e,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[s]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({AD_ACCOUNTS:0,CONVERSION_TYPES:1},!A&&{SOURCE_DATA:2})},[A]),el=[(0,p.Z)(Z,{headerName:"Assigned ad account"}),(0,f.Z)(Z,{businessId:V}),(0,b.Z)(Z,"AD_ACCOUNT","LINK",{onHoverOnly:!1,iconSize:"xs"})],ed=[{field:"eventName",headerName:Z._('Event name', '[m10n]bizAccess.business.conversionType.eventName', 'Table column title to indicate name of the conversion type event in this row'),minWidth:j.I.columnWidths.md,TableCellComponent:C.Z,valueGetter:function(e){return(0,m.jsxs)(i.kC,{alignItems:"center",direction:"row",gap:1,children:[(0,m.jsx)(i.xu,{color:"lightWash",marginEnd:1,padding:1,rounding:1,children:(0,m.jsx)(i.JO,{accessibilityLabel:"Event icon for conversion type",icon:{PAGE_VISIT:"globe",LEAD:"person-add",ADD_TO_CART:"shopping-bag",SIGNUP:"file-box",CHECKOUT:"credit-card"}[e.eventName],size:14})}),(0,m.jsx)(i.xv,{size:"200",children:(0,S.Z)(e.eventName,Z)})]})},justifying:"start"},z(Z),{field:"last_received_date",justifying:"start",headerName:Z._('Last received date', '[m10n]businessAccess.business.conversionType.lastReceivedDate', 'Table column title to indicate the date on which the asset was last received. Cell values are in typical date formats'),TableCellComponent:w.Z,valueGetter:function(e){return null!=e.lastReceivedTime?"".concat((0,P.vs)(e.lastReceivedTime,{format:"MM/DD/yyyy hh:mm A"})," (UTC)"):"..."},minWidth:j.I.columnWidths.md}].concat(R(!A&&$.length>1?[(0,b.Z)(Z,"CONVERSION_TYPE","REMOVE",{onHoverOnly:!1,iconSize:"xs"})]:[])),eu=[{field:"productId",headerName:Z._('Product ID', '[m10n]bizAccess.conversionData.productId', 'product IDs in conversion data source data'),TableCellComponent:C.Z,minWidth:j.I.columnWidths.md,valueGetter:function(e){return e},justifying:"start"}].concat(R(!A&&(ee.length>1||u.catalogId)?[(0,b.Z)(Z,"SOURCE_DATA","REMOVE",{onHoverOnly:!1,iconSize:"xs"})]:[])),e_=(0,s.useCallback)(function(){var e={accountId:V,businessId:V,conversionId:J||"",partnerId:(null==y?void 0:y.id)||""};B((0,I.zs)(e))},[B,V,J,y]),eh=(0,s.useCallback)(function(){B((0,I.MB)({accountId:V,businessId:V,conversionId:J||""}))},[B,V,J]),ev=(0,s.useCallback)(function(e){en(function(){return(M||[]).filter(function(n){return n.toLowerCase().includes(e.toLowerCase())})})},[M]),em=(0,s.useCallback)(function(e){a===ec.AD_ACCOUNTS&&e_(),a===ec.CONVERSION_TYPES&&eh(),a===ec.SOURCE_DATA&&ev(e)},[e_,eh,a,ev,ec]);return(0,s.useEffect)(function(){em("")},[em]),(0,s.useEffect)(function(){er()},[er]),(0,m.jsxs)(i.xu,{marginTop:2,children:[a===ec.AD_ACCOUNTS&&(0,m.jsx)(i.xu,{height:"100%",children:(0,m.jsx)(i.xu,{"data-test-id":"conversion-data-configuration-tab-content",height:"100%",children:y?0!==X.length||Y?(0,m.jsx)(h.Z,{adAccounts:null!=X?X:[],adAccountsColumnDefs:el,adAccountsFetchData:e_,adAccountsIsLoading:Y,emptyState:(0,m.jsx)(i.xu,{}),hidePagination:!0,pageType:v,searchFieldText:""}):(0,m.jsx)(i.he,{iconAccessibilityLabel:Z._('Info icon', '[m10n]bizAccess.conversionData.adAccount.infoBanner.iconAccessibilityLabel', 'Information icon accessibility label'),message:Z._('Until your partner assigns a conversion segment to an ad account, it will remain pending', '[m10n]bizAccess.conversionData.adAccount.infoBanner', 'Banner that warns the user that the partner has not yet assigned the conversion segment to an ad account'),type:"info"}):(0,m.jsx)(U,{button:A?(0,m.jsx)(i.zx,{accessibilityLabel:Z._('Assign ad account', '[m10n]businessAccess.conversionData.assets.assignAdAccounts.button.label', 'Button to assign ad accounts'),color:"gray",onClick:function(){et({conversionId:u.id,partnerId:u.partner.id,ownerId:u.owner.id})},text:Z._('Assign ad account', '[m10n]businessAccess.conversionData.assets.assignAdAccounts.button.text', 'Assign ad account button text')}):(0,m.jsx)(i.zx,{accessibilityLabel:Z._('Assign access', '[m10n]businessAccess.conversionData.assets.addAdAccounts.button.label', 'Button to add ad accounts'),color:"gray",onClick:function(){return W("ASSIGN_ACCESS_FOR_CONVERSION_SEGMENTS",{selectedConversion:u})},text:Z._('Assign access', '[m10n]businessAccess.conversionData.assets.addAdAccounts.button.text', 'Button to assign access')}),description:A?Z._('Assign this conversion segment to a new or existing ad account to use it in campaigns and reporting. Once assigned, your media network partner will receive analyst permissions to the assigned ad account.', '[m10n].bizAccess.partner.conversionData.emptyState.brandDescription', 'Description explaining this conversion segment should be assigned to an ad account for conversion data sharing'):Z._('After assigning conversion data access, your brand partner will be able to assign it to an ad account they own or create and you will receive analyst permission to that ad account', '[m10n].bizAccess.conversionData.adAccount.emptyState.description', 'Description explaining this conversion segment is not assigned to any partners'),header:A?Z._('Assign ad account to this conversion segment', '[m10n].bizAccess.partner.conversionData.emptyState.brandHeader', 'Header of conversion data table empty state for RMN business'):Z._('Assign access to a partner', '[m10n].bizAccess.conversionData.adAccount.emptyState.header', 'Heading explaining this conversion segment is not assigned to any partners'),image:(0,m.jsx)(i.Ee,{alt:"",naturalHeight:1,naturalWidth:1,src:r})})})}),a===ec.CONVERSION_TYPES&&(0,m.jsx)(i.xu,{height:"100%",children:(0,m.jsx)(i.xu,{"data-test-id":"conversion-data-conversion-types-tab-content",height:"100%",children:(0,m.jsx)(g,{conversionTypes:null!=$?$:[],conversionTypesColumnDefs:ed,conversionTypesFetchData:eh,conversionTypesIsLoading:0===$.length&&K,emptyState:(0,m.jsx)(i.xu,{}),hidePagination:!0,pageType:v,searchFieldText:""})})}),a===ec.SOURCE_DATA&&(0,m.jsx)(i.xu,{height:"100%",children:(0,m.jsxs)(i.xu,{"data-test-id":"conversion-data-source-data-tab-content",height:"100%",children:[(0,m.jsx)(i.xu,{marginBottom:2,marginTop:2,children:(0,m.jsxs)(i.kC,{direction:"row",gap:2,width:"100%",children:[(0,m.jsx)(i.kC.Item,{flex:"grow",children:(0,m.jsx)(_.Z,{items:[(0,m.jsxs)(i.xu,{padding:3,children:[(0,m.jsx)(i.xu,{marginBottom:1,children:(0,m.jsx)(i.xv,{size:"300",weight:"bold",children:Z._('Source ad account', '[m10n]bizAccess.conversionData.sourceData.adAccountHeader', 'Source ad account name.')})}),(0,m.jsx)(i.xv,{size:"200",children:null==ei?void 0:ei.adAccountName}),(0,m.jsx)(i.xv,{color:"subtle",size:"200",children:(0,l.nk)(Z._('ID: {{ adAccountId }}', '[m10n]bizAccess.conversionData.sourceData.adAccountId', 'Source ad account ID. adAccountId: ad account ID'),{adAccountId:null==ei?void 0:ei.adAccountId})})]},"adAccountSummary")]})}),(0,m.jsx)(i.kC.Item,{flex:"grow",children:(0,m.jsx)(_.Z,{items:[(0,m.jsxs)(i.xu,{padding:3,children:[(0,m.jsx)(i.xu,{marginBottom:1,children:(0,m.jsx)(i.xv,{size:"300",weight:"bold",children:Z._('Source catalog data', '[m10n]bizAccess.conversionData.sourceData.catalogHeader', 'Source catalog data.')})}),(0,m.jsx)(i.xv,{size:"200",children:null!=(t=null==ei?void 0:ei.catalogName)?t:Z._('No source catalog', '[m10n]bizAccess.conversionData.sourceData.catalogEmptyState', 'No source catalog')}),(0,m.jsx)(i.xv,{color:"subtle",size:"200",children:(0,l.nk)(Z.ngettext('{{ productCnt }} product', '{{ productCnt }} products', ee.length, '[m10n]bizAccess.conversionData.sourceData.productCount', 'Number of products. productCnt: number of products'),{productCnt:ee.length})})]},"catalogSummary")]})})]})}),(0,m.jsx)(x,{emptyState:(0,m.jsx)(i.xu,{}),hidePagination:!0,pageType:v,productIds:ee,productIdsColumnDefs:eu,productIdsFetchData:function(e){return ev(e.searchTerm||"")},showSearchField:!0},"product-ids-table-".concat(J))]})})]})},M=function(e){var n=e.conversion,t=L((0,s.useState)(0),2),r=t[0],c=t[1],l=(0,u.Z)().isBrandBusinessV2,d=(0,o.v9)(T.tg);return n?(0,m.jsx)(s.Fragment,{children:(0,m.jsxs)(i.kC,{direction:"column",children:[(0,m.jsx)(V,{activeTabIndex:r,conversion:n,setActiveTabIndex:c}),(0,m.jsx)(i.kC.Item,{flex:"grow",children:(0,m.jsx)(W,{activeTabIndex:r,conversion:n,isBrandBusiness:l,pageType:a.Q6.CONVERSION_DATA,partner:d})})]})}):null}},512296:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var s=t(719301),o=t(999294),i=t(387784),a=t(581722),r=t(20256),c=t(24246),l=t(540846),d=t(826703),u=t(999791),_=t(333528),h=t(680811),v=function(){var e=(0,c.Z)(),n=(0,d.Z)(),t=n.isRmnBusinessV2,s=n.isBrandBusinessV2,o=t||s,i=(0,l.y)().openSheet,a={title:e._('Conversion data', '[m10n]bizAccess.conversionData.tab.title', 'title of conversion data page'),unknownTitle:e._('Conversion data unavailable', '[m10n]bizAccess.conversionData.tab.unknownTitle', 'title of conversion data empty page when the business type is unknown'),emptyTitle:e._('Track performance with conversion segments', '[m10n]bizAccess.conversionData.tab.emptyTitle', 'title of conversion data empty page'),unknownText:e._('Your business hasn\'t been identified as a retail media network or a brand. Once partnership has been established, return here to either create or share conversion segments or access conversion segments that have been shared with you', '[m10n]bizAccess.conversionData.emptyPage.unknownDescription', 'Description how to get conversion segment data for conversion data sharing when business type is unknown'),text:s?e._('In order to view conversion segments, your retail media network partner must share conversion data with you', '[m10n].bizAccess.conversionData.emptyPage.brandDescription', 'Description how to get conversion segment data for conversion data sharing'):e._('Once a retail media network or brand partnership has been established, you can create and share conversion segments or access conversion segments that have been shared with you', '[m10n]bizAccess.conversionData.emptyPage.nonBrandDescription', 'text of empty conversion data page'),buttonText:e._('Create', '[m10n]bizAccess.conversionData.button.text', 'text to create a conversion segment')},v=e._('View, create and manage your conversion segments', '[m10n]businessAccess.conversionData.info.tooltip', 'conversion data page info tooltip'),m=e._('Conversion data info icon', '[[m10n]bizAccess.conversionData.info.icon', 'Accessibility label for conversion info icon');return(0,h.jsx)(_.Z,{content:(0,h.jsx)(r.kC,{alignItems:"center",justifyContent:"center",minHeight:"100%",children:(0,h.jsxs)(r.xu,{"data-test-id":"emptyConversionDataPage",children:[(0,h.jsx)(r.xu,{marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:8,maxHeight:161,maxWidth:161,children:(0,h.jsx)(r.Ee,{alt:e._('Disco ball for empty conversion data state', '[m10n]bizAccess.conversionData.emptyState.image', 'Alternate text for icon that shows a disco ball'),naturalHeight:127,naturalWidth:127,src:u})}),(0,h.jsxs)(r.kC,{alignItems:"center",direction:"column",gap:4,justifyContent:"center",width:500,children:[(0,h.jsx)(r.X6,{accessibilityLevel:3,align:"center",size:"300",children:o?a.emptyTitle:a.unknownTitle}),(0,h.jsx)(r.xu,{"data-test-id":"emptyConversionList",marginEnd:"auto",marginStart:"auto",width:420,children:(0,h.jsx)(r.xv,{align:"center",size:"300",children:o?a.text:a.unknownText})}),(0,h.jsx)(r.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",width:"100%",children:t&&(0,h.jsx)(r.zx,{color:"red",onClick:function(){return i("ADD_CONVERSION_SEGMENT",{})},text:a.buttonText})})]})]})}),pageProps:{title:a.title,infoTooltip:{iconLabel:m,toolTipLabel:v}}})},m=t(364778),g=t(935059),x=t(607618),b=t(465989),p=t(81221),f=t(400850),A=t(216975),y=t(458630),C=t(140537),j=t(89446);function z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,s=Array(n);t<n;t++)s[t]=e[t];return s}var S=function(e){var n,t,s=e.conversion,o=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,o,i,a,r=[],c=!0,l=!1;try{for(i=(t=t.call(e)).next;!(c=(s=i.call(t)).done)&&(r.push(s.value),2!==r.length);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return r}}(n,2)||function(e,n){if(e){if("string"==typeof e)return z(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?z(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=o[0],_=o[1],v=(0,c.Z)(),m=(0,i.useRef)(null),g=(0,l.y)().openSheet,x=(0,d.Z)().isBrandBusinessV2,f=(0,a.v9)(C.tg),A=(0,p.Z)(),y=(0,j.HU)(),S=y.setRemoveConversionSegmentModal,w=y.setDeleteConversionSegmentModal,P=y.setRevokeConversionSegmentAccessModal,I=A("pinterest_tag",{page:b.qp.PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP,absolutify:!0}),D=null==f?void 0:f.id,T=null==f||null==(t=f.user)?void 0:t.full_name;return x?(0,h.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,h.jsx)(r.zx,{iconEnd:"visit",onClick:function(){window.open(I,"_blank")},text:v._('Visit conversions', '[m10n]businessAccess.conversionData.detail.manage.conversionData.listButton', 'Visit conversions button label')}),D&&(0,h.jsx)(r.zx,{iconEnd:"remove",onClick:function(){S({partnerId:D,conversionId:s.id})},text:v._('Remove', '[m10n]businessAccess.conversionData.detail.manage.conversionData.removeButton', 'Remove segment button label')})]}):(0,h.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,h.jsxs)(r.kC.Item,{children:[D&&(0,h.jsx)(r.zx,{iconEnd:"visit",onClick:function(){window.open(I,"_blank")},text:v._('Visit conversions', '[m10n]businessAccess.conversionData.detail.manage.conversionData.listButton', 'Visit conversions button label')}),!D&&(0,h.jsx)(r.zx,{color:"red",iconEnd:"person-add",onClick:function(){return g("ASSIGN_ACCESS_FOR_CONVERSION_SEGMENTS",{selectedConversion:s})},text:v._('Assign access', '[m10n]businessAccess.conversionData.detail.manage.conversionData.listButton', 'Assign access button label')})]}),(0,h.jsx)(r.kC.Item,{children:(0,h.jsx)(r.zx,{iconEnd:"edit",onClick:function(){return g("EDIT_CONVERSION_SEGMENT",{selectedConversion:s})},text:v._('Edit', '[m10n]businessAccess.conversionData.detail.manage.conversionData.editButton', 'Edit button label')})}),(0,h.jsxs)(r.kC.Item,{children:[(0,h.jsx)(r.iP,{accessibilityControls:"menu",accessibilityExpanded:u,accessibilityHaspopup:!0,accessibilityLabel:"Open the options menu",onTap:function(){return _(!u)},children:(0,h.jsx)(r.hU,{ref:m,accessibilityLabel:v._('More options', '[m10n]businessAccess.conversionData.more.button', 'More options button'),bgColor:"lightGray",icon:"ellipsis",size:"md"})}),u&&(0,h.jsx)(r.mh,{children:(0,h.jsx)(r.J2,{anchor:m.current,idealDirection:"down",onDismiss:function(){return _(!1)},positionRelativeToAnchor:!1,size:"md",children:(0,h.jsxs)(r.xu,{direction:"column",display:"flex",id:"menu",padding:2,children:[D&&(0,h.jsx)(r.zx,{color:"white",iconStart:"person",onClick:function(){P({partnerId:D,partnerName:T||"",conversionId:s.id})},text:v._('Revoke access', '[m10n]businessAccess.conversionData.detail.manage.conversionData.revokeButton', 'Revoke access button label')}),(0,h.jsx)(r.zx,{color:"white",iconStart:"remove",onClick:function(){w({conversionId:s.id,advertiserId:s.adAccountId||""})},text:v._('Delete segment', '[m10n]businessAccess.conversionData.detail.manage.conversionData.deleteButton', 'Delete segment button label')})]})})})]})]})},w=function(e){var n,t=e.selectedConversionId,s=(0,c.Z)(),o=(0,a.v9)(C.Vf);if(!o)return null;var i=o.name,l=o.owner,d=o.conversionTypes,u=o.createdAt,_=o.additionalItemIds,v=o.retargetingEnabled,m=o.partner,g=Object.values(o.conversionSegmentSummary||{}),x=null;return g.length>0&&(x=g.reduce(function(e,n){return e+n.events_cloned_count},0)),(0,h.jsx)(y.Z,{items:[(0,h.jsxs)(r.xu,{direction:"row",display:"flex",margin:4,children:[(0,h.jsxs)(r.kC.Item,{flex:"grow",children:[(0,h.jsx)(r.xv,{size:"400",weight:"bold",children:i}),(0,h.jsx)(r.xv,{color:"subtle",size:"200",children:(0,A.nk)(s._('ID: {{id}}', '[m10n]businessAccess.conversionData.id.label', 'id: id for conversion data'),{id:null!=t?t:""}).join("")})]}),(0,h.jsx)(S,{conversion:o})]},"conversionSegment"),(0,h.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#F9F9F9"}},padding:4,rounding:4,children:(0,h.jsxs)(r.kC,{alignItems:"center",direction:"row",gap:2,height:"100%",width:"100%",wrap:!0,children:[(0,h.jsxs)(r.kC,{direction:"row",children:[(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:130,children:(0,h.jsx)(r.xv,{size:"200",weight:"bold",children:s._('Owner', '[m10n]businessAccess.conversionData.owner.label', 'Label to show as heading for owner in summary')})}),(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:150,children:(0,h.jsx)(r.xv,{size:"200",children:null==l?void 0:l.full_name})})]}),(0,h.jsxs)(r.kC,{direction:"row",children:[(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:130,children:(0,h.jsx)(r.xv,{size:"200",weight:"bold",children:s._('Created at', '[m10n]businessAccess.conversionData.created.label', 'Label to show as heading for created at in summary')})}),(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:150,children:(0,h.jsx)(r.xv,{size:"200",children:u?(0,f.ZP)("US",u,f.kH.LONG):"..."})})]}),(0,h.jsxs)(r.kC,{direction:"row",children:[(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:130,children:(0,h.jsx)(r.xv,{size:"200",weight:"bold",children:s._('Conversion types', '[m10n]businessAccess.conversionData.conversion.type.label', 'Label to show as heading for conversion types in summary')})}),(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:150,children:(0,h.jsx)(r.xv,{size:"200",children:d?d.length:"..."})})]}),(0,h.jsxs)(r.kC,{direction:"row",children:[(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:130,children:(0,h.jsx)(r.xv,{size:"200",weight:"bold",children:s._('Assigned partner', '[m10n]businessAccess.conversionData.partner.label', 'Label to show as heading for assigned partner in summary')})}),(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:150,children:(0,h.jsx)(r.xv,{size:"200",children:m&&m.user?m.user.full_name:s._('Not assigned', '[m10n]businessAccess.conversionData.partner.text', 'No assigned partner in summary')})})]}),(0,h.jsxs)(r.kC,{direction:"row",children:[(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:130,children:(0,h.jsx)(r.xv,{size:"200",weight:"bold",children:s._('Product IDs', '[m10n]businessAccess.conversionData.productids.label', 'Label to show as heading for product ids in summary')})}),(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:150,children:(0,h.jsx)(r.xv,{size:"200",children:_?_.length:"..."})})]}),(0,h.jsxs)(r.kC,{direction:"row",children:[(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:130,children:(0,h.jsx)(r.xv,{size:"200",weight:"bold",children:s._('Retargeting', '[m10n]businessAccess.conversionData.retargeting.label', 'Label to show as heading for retargeting in summary')})}),(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:150,children:(0,h.jsx)(r.xv,{size:"200",children:v?s._('Enabled', '[m10n]businessAccess.conversionData.retargeting.text', 'Retargeting in summary'):s._('Not enabled', '[m10n]businessAccess.conversionData.retargeting.text', 'No retargeting in summary')})})]}),(0,h.jsxs)(r.kC,{direction:"row",children:[(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:130,children:(0,h.jsxs)(r.kC,{alignItems:"end",direction:"row",children:[(0,h.jsx)(r.xu,{marginEnd:1,children:(0,h.jsx)(r.xv,{size:"200",weight:"bold",children:s._('Recent events', '[m10n]businessAccess.conversionData.events.label', 'Label to show as heading for recent events in summary')})}),(0,h.jsx)(r.u,{text:s._('Last 7 days', '[m10n]businessAccess.conversionData.events.tooltip', 'Tooltip text for the recent events in summary'),children:(0,h.jsx)(r.hU,{accessibilityLabel:s._('Tooltip icon', '[m10n]businessAccess.conversionData.events.tooltip.icon.accessibilityLabel', 'Accessibility icon or the tooltip icon for the recent count of the conversion type event in this row'),bgColor:"transparent",icon:"info-circle",iconColor:"darkGray",padding:1,size:"xs"})})]})}),(0,h.jsx)(r.kC.Item,{flex:"grow",minWidth:150,children:(0,h.jsx)(r.xv,{size:"200",children:null!=(n=x)?n:"..."})})]})]})},"conversionDataSummary")]})},P=t(254925);function I(e,n,t,s,o,i,a){try{var r=e[i](a),c=r.value}catch(e){return void t(e)}r.done?n(c):Promise.resolve(c).then(s,o)}var D=function(e){var n=e.conversion,t=e.selectedConversionId,s=(0,c.Z)(),o=(0,j.KJ)(!0),l=(0,a.I0)(),d=(0,g.Z)(),u=(0,a.v9)(C.IV);return((0,i.useEffect)(function(){var e,t;(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!n||!o||n.partner)){e.next=2;break}return e.abrupt("return");case 2:return t=(null==n?void 0:n.permissions)||[],e.next=5,l((0,P.sS)(o,n.id,t.includes("RESOURCE_CONVERSION_SEGMENT_OWNER"),t,d));case 5:case"end":return e.stop()}},e)}),t=function(){var n=this,t=arguments;return new Promise(function(s,o){var i=e.apply(n,t);function a(e){I(i,s,o,a,r,"next",e)}function r(e){I(i,s,o,a,r,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)})()},[n,o,d,l]),u)?(0,h.jsx)(r.xH,{accessibilityLabel:s._('Loading conversion data details', '[m10n]businessAccess.conversion.loading', 'message shown when loading conversion details'),delay:!1,show:!0}):(0,h.jsx)(i.Fragment,{children:(0,h.jsxs)(r.kC,{direction:"column",height:"calc(100% - 10px)",children:[(0,h.jsx)(w,{selectedConversionId:t}),(0,h.jsx)(r.kC.Item,{flex:"grow",children:(0,h.jsx)(x.Z,{conversion:n})})]})})},T=t(766857),k=t(696749);function E(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,o,i,a,r=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(s=i.call(t)).done)&&(r.push(s.value),r.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return r}}(e,n)||function(e,n){if(e){if("string"==typeof e)return O(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,s=Array(n);t<n;t++)s[t]=e[t];return s}var N=function(e){var n=e.conversion,t=e.isHovered,s=e.selectedConversionId,o=e.setSelectedConversionId,i=(0,c.Z)(),a=(0,T.ZP)("BUSINESS_ACCESS_CONVERSION_DATA");if(!n)return null;var l=n.id===s,d=l?"inverse":"default";return(0,h.jsx)(r.xu,{alignItems:"center",color:l&&"inverse"||t&&"secondary"||void 0,direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:2,role:"button",children:(0,h.jsx)(r.iP,{onTap:function(){a({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"share-conversion-data-not-empty-state",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-conversion-data-switch-users"}),o(n.id||"")},children:(0,h.jsx)(r.kC,{alignItems:"center",gap:2,height:"100%",width:"100%",children:(0,h.jsxs)(r.kC.Item,{flex:"grow",children:[(0,h.jsx)(r.xv,{color:d,weight:"bold",children:n.name}),(0,h.jsx)(r.xv,{color:d,size:"200",children:(0,k.Z)(i._('ID: {{conversion_id}}', '[m10n]businessAccess.conversionData.list.ID', 'Conversion segment id label to show on conversion segment list'),{conversion_id:n.id})})]})})})},n.id)},L=function(e){var n=e.conversions,t=e.selectedConversionId,s=e.setSelectedConversionId,o=(0,c.Z)(),a=(0,l.y)().openSheet,u=E((0,i.useState)(""),2),_=u[0],v=u[1],m=(0,d.Z)().isBrandBusinessV2,g=E((0,i.useState)(null),2),x=g[0],b=g[1],p=n.filter(function(e){return(e.name||"").toLowerCase().includes(_.toLowerCase())||(e.id||"").toLowerCase().includes(_.toLowerCase())});return(0,h.jsxs)(r.kC,{dataTestId:"conversion-data-side-panel",direction:"column",gap:2,height:"100%",children:[(0,h.jsxs)(r.kC,{justifyContent:"start",children:[(0,h.jsx)(r.xu,{marginStart:2,width:"100%",children:(0,h.jsx)(r.Um,{accessibilityLabel:o._('Search conversions', '[m10n]businessAccess.conversionData.search.a11y', 'accessibility conversion segment search label'),id:"conversionSearch",onChange:function(e){v(e.value)},placeholder:o._('Search conversions', '[m10n]businessAccess.conversionData.search.placeholder', 'Conversion segment search placeholder')})}),!m&&(0,h.jsx)(r.xu,{marginStart:2,children:(0,h.jsx)(r.hU,{accessibilityLabel:o._('Create Conversion', '[m10n]businessAccess.conversionData.add.button', 'accessibility create conversion button'),bgColor:"lightGray",icon:"add",onClick:function(){return a("ADD_CONVERSION_SEGMENT",{})},size:"md"})})]}),(0,h.jsx)(r.kC.Item,{flex:"grow",children:(0,h.jsx)(r.xu,{height:"100%",marginEnd:-2,marginStart:-2,overflow:"auto",children:p.map(function(e){return(0,h.jsx)(r.iP,{onMouseEnter:function(){return b(e)},onMouseLeave:function(){return b(null)},children:(0,h.jsx)(N,{conversion:e,isHovered:(null==x?void 0:x.id)===e.id,selectedConversionId:t,setSelectedConversionId:s},e.id)},e.id)})})})]})},R=function(e){var n=e.conversions,t=(0,c.Z)(),s=(0,a.I0)(),o=(0,a.v9)(C.Nw),r=n.filter(function(e){return e.id===o})[0],l=(0,i.useCallback)(function(e){s((0,P.UK)(e))},[s]);return(0,i.useEffect)(function(){if(n.length>0&&!o){var e;l((null==(e=n[0])?void 0:e.id)||"")}else l(o)},[l,n,o]),(0,h.jsx)(m.Z,{fitToWindow:!0,mainContent:(0,h.jsx)(D,{conversion:r,selectedConversionId:o}),pageProps:{title:t._('Conversion data', '[m10n]businessAccess.conversionData.pageTitle', 'conversion data page title'),infoTooltip:{text:"Add or remove conversion segments.",accessibilityLabel:t._('Conversion data info icon', '[m10n]businessAccess.conversionData.info.icon.a11y', 'Accessibility label for conversion data info icon')}},sidebarContent:(0,h.jsx)(L,{conversions:n,selectedConversionId:o,setSelectedConversionId:l})})},B=function(){var e=(0,j.KJ)(),n=(0,a.I0)(),t=(0,c.Z)(),s=(0,a.v9)(C.kg),o=(0,a.v9)(C.As);return((0,i.useEffect)(function(){n((0,P.oF)({businessId:e,accountId:e,id:e}))},[e,n]),s)?(0,h.jsx)(r.xH,{accessibilityLabel:t._('Loading conversion data information', '[m10n]businessAccess.conversions.loading', 'message shown when loading conversion data'),delay:!1,show:!0}):(0,h.jsx)(r.xu,{"data-test-id":"conversion-data-page",children:o&&o.length>0?(0,h.jsx)(R,{conversions:o}):(0,h.jsx)(v,{})})},Z=function(){return(0,h.jsx)(o.Z,{pageType:s.Q6.CONVERSION_DATA,children:(0,h.jsx)(B,{})})}},442431:function(e,n,t){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/business-manager/[userBizId]/conversion-data",function(){return t(512296).Z}])},224625:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/sad-plant-81c429b2.svg"},999791:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/empty-state-audiences-page-53481ed6.png"}},function(e){e.O(0,["14906","25418","32467","33699","34709","34799","3519","38489","39142","48961","55170","59306","60886","63638","70426","72112","75984","79763","85857","88038","91444","92298","95964"],function(){return e(e.s=442431)}),e.O()}]);