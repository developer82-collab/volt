(self.legacyJsonp=self.legacyJsonp||[]).push([["92123"],{568353:function(e,t,s){"use strict";var n=s(20256),r=s(719301),i=s(766857),o=s(924591),a=s(24246),c=s(577356),l=s(680811);t.Z=function(e){var t=e.text,s=e.page,u=e.tooltipText,_=e.accessibilityLabel,d=e.elementId,m=e.dangerouslySetSmallMarginTop,h=e.dangerouslySetSmallMarginBottom,f=(0,i.ZP)((0,i.QK)(s)),p=(0,c.dI)().showToast,b=(0,a.Z)();return(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:h||m?{__style:{marginTop:m,marginBottom:h,marginLeft:2}}:void 0,children:(0,l.jsx)(n.hU,{accessibilityLabel:_,icon:"copy-to-clipboard",iconColor:"gray",onClick:function(){navigator.clipboard.writeText(t),f({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"copy-to-clip-board-icon",element:"BUSINESS_ACCESS_BUTTON",elementId:d}),p(function(e){var t=e.hideToast;return(0,l.jsx)(o.Z,{duration:r.QE,onHide:t,text:b._('Copied!', '[m10n].bizAccess.copyToClipBoardIcon.toast', 'message in toast after text copied'),type:"success"})})},size:"xs",tooltip:{text:u,accessibilityLabel:_}})})}},775167:function(e,t,s){"use strict";s.d(t,{O:function(){return n},i:function(){return r}});var n=Object.freeze({AD_ACCOUNT_ID:"AD_ACCOUNT_ID",BUSINESS_ID:"BUSINESS_ID",HIERARCHY_ID:"HIERARCHY_ID",TAG_ID:"TAG_ID",ASSET_GROUP_ID:"ASSET_GROUP_ID",AUDIENCE_ID:"AUDIENCE_ID",EMAIL:"EMAIL",OWNER_EMAIL:"OWNER_EMAIL",ADMIN_EMAIL:"ADMIN_EMAIL",CATALOG_ID:"CATALOG_ID"}),r=function(e,t){switch(e){case n.AD_ACCOUNT_ID:return{elementId:"copy-ad-account-id",accessibilityLabel:t._('Copy ad account ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.adAccount.a11y', 'a11y for icon button to copy ad account id'),tooltipText:t._('Copy ad account ID', '[m10n].bizAccess.copyToClipBoardIcon.adAccount', 'tooltip text for icon button to copy ad account id')};case n.BUSINESS_ID:return{elementId:"copy-business-id",accessibilityLabel:t._('Copy business ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.businessId.a11y', 'a11y for icon button to copy business id'),tooltipText:t._('Copy business ID', '[m10n].bizAccess.copyToClipBoardIcon.businessId', 'tooltip text for icon button to copy business id')};case n.HIERARCHY_ID:return{elementId:"copy-hierarchy-id",accessibilityLabel:t._('Copy hierarchy ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.hierarchyId.a11y', 'a11y for icon button to copy hierarchy id'),tooltipText:t._('Copy hierarchy ID', '[m10n].bizAccess.copyToClipBoardIcon.hierarchyId', 'tooltip text for icon button to copy hiearchy id')};case n.TAG_ID:return{elementId:"copy-tag-id",accessibilityLabel:t._('Copy tag ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.tag.a11y', 'a11y for icon button to copy tag id'),tooltipText:t._('Copy tag ID', '[m10n].bizAccess.copyToClipBoardIcon.tag', 'tooltip text for icon button to copy tag id')};case n.ASSET_GROUP_ID:return{elementId:"copy-asset-group-id",accessibilityLabel:t._('Copy asset group ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.assetGroup.a11y', 'a11y for icon button to copy asset group id'),tooltipText:t._('Copy asset group ID', '[m10n].bizAccess.copyToClipBoardIcon.assetGroup', 'tooltip text for icon button to copy asset group id')};case n.AUDIENCE_ID:return{elementId:"copy-audience-id",accessibilityLabel:t._('Copy ad audience ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.audience.a11y', 'a11y for icon button to copy audience id'),tooltipText:t._('Copy audience ID', '[m10n].bizAccess.copyToClipBoardIcon.audience', 'tooltip text for icon button to copy audience id')};case n.CATALOG_ID:return{elementId:"copy-catalog-id",accessibilityLabel:t._('Copy catalog ID to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.catalog.a11y', 'a11y for icon button to copy catalog id'),tooltipText:t._('Copy catalog ID', '[m10n].bizAccess.copyToClipBoardIcon.catalog', 'tooltip text for icon button to copy catalog id')};case n.EMAIL:return{elementId:"copy-email",accessibilityLabel:t._('Copy email address to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.email.a11y', 'a11y for icon button to copy email address'),tooltipText:t._('Copy email address', '[m10n].bizAccess.copyToClipBoardIcon.email', 'tooltip text for icon button to copy email address')};case n.OWNER_EMAIL:return{elementId:"copy-owner-email",accessibilityLabel:t._('Copy email address to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.emailOwner.a11y', 'a11y for icon button to copy email address'),tooltipText:t._('Copy email address', '[m10n].bizAccess.copyToClipBoardIcon.emailOwner', 'tooltip text for icon button to copy email address')};case n.ADMIN_EMAIL:return{elementId:"copy-admin-email",accessibilityLabel:t._('Copy email address to clipboard', '[m10n].bizAccess.copyToClipBoardIcon.emailAdmin.a11y', 'a11y for icon button to copy email address'),tooltipText:t._('Copy email address', '[m10n].bizAccess.copyToClipBoardIcon.emailAdmin', 'tooltip text for icon button to copy email address')};default:return{elementId:"",accessibilityLabel:"",tooltipText:""}}}},300686:function(e,t,s){"use strict";var n=s(20256),r=s(680811);t.Z=function(e){var t=e.pageTitle,s=e.children;return(0,r.jsxs)(n.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[(0,r.jsx)(n.xu,{marginBottom:4,marginStart:2,children:t}),s]})}},614371:function(e,t,s){"use strict";s.d(t,{Z:function(){return a},c:function(){return o}});var n=s(20256),r=s(997526),i=s(680811),o=675;function a(e){var t=e.items,s=e.width;return(0,i.jsx)(n.kC,{direction:"column",width:s,children:t.map(function(e,t){return e.needsPanel?(0,i.jsx)(n.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:r.iiJ}},flex:"grow",marginBottom:4,minWidth:o,padding:4,rounding:4,width:"grow",children:e.content},"layout-item-".concat(t)):e.content})})}},874273:function(e,t,s){"use strict";var n=s(20256),r=s(680811);t.Z=function(e){var t=e.title,s=e.subtitle,i=e.iconLabel,o=e.onClick,a=e.toolTipLabel,c=e.gap;return(0,r.jsxs)(n.xu,{marginBottom:2,children:[(0,r.jsxs)(n.kC,{alignItems:"center",gap:c||1,height:"100%",justifyContent:"start",width:"100%",children:[(0,r.jsx)(n.X6,{size:"600",children:t}),(0,r.jsx)(n.xu,{"data-test-id":"tooltip-button-trigger",children:(0,r.jsx)(n.hU,{accessibilityLabel:i,bgColor:"transparent",icon:"info-circle",iconColor:"gray",onClick:o,size:"xs",tooltip:{text:a,accessibilityLabel:a}})})]}),s&&(0,r.jsx)(n.xv,{size:"300",children:s})]})}},699702:function(e,t,s){"use strict";s.d(t,{hh:function(){return x},lV:function(){return I}});var n=s(387784),r=s(20256),i=s(719301),o=s(457223),a=s(766857),c=s(974080),l=s(924591),u=s(935059),_=s(24246),d=s(501010),m=s(577356),h=s(386811),f=s(89446),p=s(680811);function b(e,t,s,n,r,i,o){try{var a=e[i](o),c=a.value}catch(e){return void s(e)}a.done?t(c):Promise.resolve(c).then(n,r)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,a=[],c=!0,l=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;c=!1}else for(;!(c=(n=i.call(s)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var s=({}).toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?g(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var A=function(e){var t=e.switcherEnabled,s=e.require2FA,n=e.setRequire2FA,i=void 0===n?function(){}:n,o=e.changeMfaRequirement,a=void 0===o?function(){}:o,c=(0,_.Z)();return(0,p.jsxs)(r.kC,{alignItems:"center",gap:2,children:[(0,p.jsx)(r.rs,{disabled:!(void 0!==t&&t),id:"require-2fa",onChange:function(){i(function(e){var t=!e;return t||a("inactive"),t})},switched:void 0!==s&&s}),(0,p.jsx)(r.__,{htmlFor:"require-2fa",children:(0,p.jsxs)(r.kC,{direction:"column",gap:1,children:[(0,p.jsx)(r.xv,{children:c._('Require code at login', '[m10n]business.security.switcher.mfaRequired.description', 'item description of mfa enforcement form')}),(0,p.jsx)(r.xv,{color:"subtle",size:"100",children:c._('Managers or employees are required to confirm their identity before accessing ad accounts and profiles', '[m10n]business.security.switcher.mfaRequired.explanation', 'item explanation of mfa enforcement form')})]})})]})},x=function(){var e=(0,f.KJ)(),t=(0,_.Z)(),s=(0,a.ZP)("BUSINESS_ACCESS_BUSINESS_SECURITY"),c=(0,(0,d.Z)().checkExperiment)("web_m10n_business_manager_business_settings").anyEnabled,l=c?(0,o.Z)(i.Q6.BUSINESS_SETTINGS,e):(0,o.Z)(i.Q6.BUSINESS_SECURITY,e);return(0,p.jsxs)(r.kC,{direction:"column",gap:4,width:"100%",children:[(0,p.jsx)(r.xu,{maxWidth:"76ch",children:(0,p.jsx)(r.xv,{size:"300",children:t._('Enhance security for your account by requiring employees to enter a unique code that is texted to their phone each time they attempt to access your account. To get started, you must first enable two-factor authentication for your account.', '[m10n]bizAccess.security.mfaDisabled.description', 'note to inform users they need to enable 2FA before enabling 2FA enforcement')})}),!!c&&(0,p.jsxs)(r.kC,{direction:"column",gap:4,width:"100%",children:[(0,p.jsx)(A,{}),(0,p.jsx)(r.ci,{message:t._('To set up two-factor authentication go to Settings > Security and logins', '[m10n]business.security.cta.description', 'description of mfa requirement'),primaryAction:{role:"link",accessibilityLabel:t._('Go to Security settings page', '[m10n]business.security.profile.settings.cta.a11y', 'copy of button that takes users to 2FA settings page'),href:"/settings/security/?redirectUrl=".concat(l),label:t._('Security settings', '[m10n]business.security.profile.settings.cta', 'copy of button that takes users to 2FA settings page')},type:"warning"})]}),!c&&(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(r.xu,{color:"secondary",marginTop:1,padding:4,rounding:3,children:(0,p.jsx)(r.xv,{size:"300",children:t._('To set up two-factor authentication go to Settings > Security and logins', '[m10n]bizAccess.security.cta.description', 'description of mfa requirement')})}),(0,p.jsx)(r.xu,{marginTop:5,children:(0,p.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,p.jsx)(r.xu,{}),(0,p.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:(0,p.jsx)(r.xu,{"data-test-id":"go-to-settings-button",children:(0,p.jsx)(r.ZP,{href:"/settings/security/?redirectUrl=".concat(l),onClick:function(){s({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"business-security",element:"BUSINESS_ACCESS_LINK",business_id:e,elementId:"go-to-mfa-settings"})},text:t._('Go to settings', '[m10n]bizAccess.security.mfaDisabled.cta', 'copy of button that takes users to 2FA settings page')})})})]})})]})]})},v=function(e){var t=e.id,s=e.checked,n=e.name,i=e.onChange,o=e.value,a=e.label,c=e.helperText,l=e.disabled,u=e.badgeText;return(0,p.jsxs)(r.kC,{alignItems:"start",gap:{row:2,column:0},children:[(0,p.jsx)(r.FX.RadioButton,{checked:s,disabled:l,id:t,name:n,onChange:i,value:o}),(0,p.jsx)(r.__,{htmlFor:t,children:(0,p.jsxs)(r.kC,{alignItems:"start",direction:"column",children:[(0,p.jsx)(r.xu,{children:(0,p.jsxs)(r.xv,{weight:"bold",children:[a,"\xa0",u&&(0,p.jsx)(r.Ct,{position:"middle",text:u,type:"recommendation"})]})}),(0,p.jsx)(r.xu,{marginTop:1,children:(0,p.jsx)(r.xv,{color:"subtle",size:"200",children:c})})]})})]})},I=function(){var e,t,s=(0,c.Z)(),o=(0,_.Z)(),u=y((0,n.useState)(null),2),g=u[0],x=u[1],I=y((0,n.useState)(!1),2),z=I[0],P=I[1],S=y((0,n.useState)(!0),2),j=S[0],C=S[1],w=y((0,n.useState)(!1),2),E=w[0],T=w[1],O=(0,f.KJ)(),k=(0,m.dI)().showToast,D=(0,a.ZP)("BUSINESS_ACCESS_BUSINESS_SECURITY"),N=(0,(0,d.Z)().checkExperiment)("web_m10n_business_manager_business_settings").anyEnabled,R={inactive:o._('Two-factor authentication is inactive for everyone', '[m10n]bizAccess.security.mfaDisabled.toast', 'copy of toast users see when mfa enforcement is disabled'),managers:o._('Two-factor authentication is enabled for managers', '[m10n]bizAccess.security.mfaEnabled.managers', 'copy of toast users see when mfa enforcement enabled for managers'),everyone:o._('Two-factor authentication is enabled for everyone', '[m10n]bizAccess.security.mfaEnabled.everyone', 'copy of toast users see when mfa enforcement is enabled for everyone')};(0,n.useEffect)(function(){s&&(0===s.length?x("inactive"):s.includes("EMPLOYEE")?x("everyone"):s.includes("BIZ_ADMIN")&&x("managers"),P(!0))},[s]),(0,n.useEffect)(function(){T("everyone"===g||"managers"===g)},[g]);var B=(e=regeneratorRuntime.mark(function e(t){var s,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(t),n=[],"everyone"===t?n.push("EMPLOYEE","BIZ_ADMIN"):"managers"===t&&n.push("BIZ_ADMIN"),P(!1),C(!1),e.next=7,(0,h.H9)({businessId:O,businessRoles:n});case 7:null!=(r=e.sent)&&null!=(s=r.data)&&s.error?D({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"business-security",element:"BUSINESS_ACCESS_FIELD",business_id:O,elementId:"set-mfa-".concat(t),errorClass:"Error",errorMessage:(r.data.error||"unknown error").slice(0,4096)}):(k(function(e){var s=e.hideToast;return(0,p.jsx)(l.Z,{duration:i.QE,onHide:s,text:R[t]})}),P(!0),C(!0),D({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-security",element:"BUSINESS_ACCESS_FIELD",business_id:O,elementId:"set-mfa-".concat(t)}));case 9:case"end":return e.stop()}},e)}),t=function(){var t=this,s=arguments;return new Promise(function(n,r){var i=e.apply(t,s);function o(e){b(i,n,r,o,a,"next",e)}function a(e){b(i,n,r,o,a,"throw",e)}o(void 0)})},function(e){return t.apply(this,arguments)});return(0,p.jsxs)(r.kC,{direction:"column",gap:6,width:"100%",children:[(0,p.jsxs)(r.kC,{direction:"column",gap:4,width:"100%",children:[(0,p.jsx)(r.xu,{maxWidth:"76ch",children:(0,p.jsx)(r.xv,{children:o._('Enhance security for your account by requiring employees to enter a unique code that is texted to their phone each time they attempt to access your account', '[m10n]bizAccess.security.mfaEnabled.description', 'description of mfa enforcement form')})}),!!N&&(0,p.jsx)(A,{changeMfaRequirement:B,require2FA:E,setRequire2FA:T,switcherEnabled:j})]}),!!N&&E&&(0,p.jsx)(r.iz,{}),(!N||E)&&(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(r.xv,{weight:"bold",children:o._('Select security requirement:', '[m10n]bizAccess.security.form.title', 'title of mfa enforcement form')}),(0,p.jsx)(r.xu,{marginTop:4,children:(0,p.jsxs)(r.FX,{id:"mfa-enforcement-configs",legend:o._('Select security requirement:', '[m10n]bizAccess.security.radioGroup.legend', 'legend of mfa radio group'),legendDisplay:"hidden",children:[(0,p.jsx)(v,{badgeText:o._('Recommended', '[m10n]bizAccess.security.radioGroup.everyone.recommendedBadge', 'badge to show mfa enforcement recommendation'),checked:"everyone"===g,disabled:!z,helperText:o._('Managers and employees will be required to turn on two-factor authentication', '[m10n]bizAccess.security.radioGroup.everyone.helperText', 'mfa enforcement for everyone radio button helper text'),id:"everyone",label:o._('Required for everyone', '[m10n]bizAccess.security.radioGroup.everyone.label', 'mfa enforcement for everyone radio button label'),name:"mfaEnforcementConfig",onChange:function(){B("everyone")},value:"EVERYONE"}),(0,p.jsx)(v,{checked:"managers"===g,disabled:!z,helperText:o._('Managers will be required to turn on two-factor authentication', '[m10n]bizAccess.security.radioGroup.managers.helperText', 'mfa enforcement for managers radio button helper text'),id:"managers",label:o._('Required for managers', '[m10n]bizAccess.security.radioGroup.managers.label', 'mfa enforcement for managers radio button label'),name:"mfaEnforcementConfig",onChange:function(){B("managers")},value:"BIZ_ADMIN"}),!N&&(0,p.jsx)(v,{checked:"inactive"===g,disabled:!z,helperText:o._('Managers and employees are not required to confirm their identity before accessing ad accounts and profiles', '[m10n]bizAccess.security.radioGroup.inactive.helperText', 'mfa enforcement inactive radio button helper text'),id:"inactive",label:o._('Inactive two-factor authentication', '[m10n]bizAccess.security.radioGroup.inactive.label', 'mfa enforcement inactive radio button label'),name:"mfaEnforcementConfig",onChange:function(){B("inactive")},value:"INACTIVE"})]})})]})]})};t.ZP=function(){var e=(0,_.Z)(),t=(0,u.Z)();return(0,p.jsxs)(r.kC,{direction:"column",gap:4,minWidth:"100%",children:[(0,p.jsx)(r.X6,{size:"400",children:e._('Business two-factor authentication', '[m10n]business.security.panel.title', 'title of mfa enforcement panel')}),t.isAuth&&t.has_mfa_enabled?(0,p.jsx)(I,{}):(0,p.jsx)(x,{})]})}},572707:function(e,t,s){"use strict";s.d(t,{Z:function(){return ee}});var n,r,i=s(719301),o=s(999294),a=s(387784),c=s(20256),l=s(935059),u=s(24246),_=s(501010),d=s(581722),m=s(800287),h=s(537391),f=s(457223),p=s(143754),b=s(583875),y=s(216975),g=s(247387),A=s(568353),x=s(775167),v=s(196482),I=s(591786),z=s(89446),P=s(680811);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function C(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?j(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=S(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var E=function(){var e,t=(0,u.Z)(),s=(0,z.KJ)(),n=(0,l.Z)(),r="id"in n?n.id:"",o=n.isAuth?n.avatar_color_index:void 0,_=(0,z.HU)().setCreateBusinessHierarchyModal,S=(0,h.g)(),j=S.businessHierarchies,E=S.loadingAccounts,T=(0,m.NM)().selectedAccount,O=function(e){if(Array.isArray(e))return e}(e=(0,a.useState)())||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,a=[],c=!0,l=!1;try{for(i=(s=s.call(e)).next;!(c=(n=i.call(s)).done)&&(a.push(n.value),2!==a.length);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(l)throw r}}return a}}(e,2)||function(e,t){if(e){if("string"==typeof e)return w(e,2);var s=({}).toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?w(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),k=O[0],D=O[1];(0,a.useEffect)(function(){E||D(j.flatMap(function(e){return"BUSINESS_HIERARCHY"===e.entity_type?e.children.map(function(t){return C({parentName:e.name,parentId:e.id,parentAvatarImageUrl:e.img_medium_url},t)}):e}).find(function(e){return e.user.id===(null==T?void 0:T.id)}))},[j,E,null==T?void 0:T.id]);var N=k||{},R=N.user,B=(R=void 0===R?{}:R).image_medium_url,L=R.full_name,U=void 0===L?"":L,M=N.parentName,Z=void 0===M?"":M,H=N.parentAvatarImageUrl,q=N.parentId,G=void 0===q?"":q,F=(0,d.v9)(v.ZP),W=(0,I._4)(F,s,j,!0),Y="OWNER"===W&&r===s;return(0,P.jsxs)(c.kC,{direction:"column",gap:6,width:"100%",children:[(0,P.jsxs)(c.kC,{direction:"column",gap:4,minWidth:"100%",children:[(0,P.jsx)(c.xv,{size:"400",weight:"bold",children:t._('My information', '[m10n]businessAccess.myInformation', 'title of my information section')}),(0,P.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,P.jsx)(b.qE,{color:o,name:U,size:"md",src:(void 0===B?"":B)||""})," ",(0,P.jsxs)(c.kC,{alignItems:"center",justifyContent:"between",width:"100%",children:[(0,P.jsxs)(c.xu,{alignItems:"baseline",direction:"column",display:"flex",justifyContent:"between",marginStart:2,children:[(0,P.jsx)(c.xv,{size:"300",weight:"bold",children:U}),(0,P.jsxs)(c.kC,{alignItems:"center",children:[(0,P.jsx)(c.xv,{color:"subtle",inline:!0,size:"200",children:(0,y.nk)(t._('Business ID: {{businessId}}', '[m10n]businessAccess.myInformation.businessId', 'text showing business id with a description. businessId: id of business being detailed'),{businessId:s}).join("")}),(0,P.jsx)(A.Z,C({page:i.Q6.DASHBOARD,text:s},(0,x.i)(x.O.BUSINESS_ID,t)))]}),!Y&&(0,P.jsx)(c.xv,{color:"subtle",size:"200",children:(0,y.nk)(t._('{{businessRole}} of {{businessName}}', '[m10n]businessAccess.myInformation.business.role', 'text showing employee role and business name. businessRole: role of employee, businessName: name of business'),{businessName:U,businessRole:"OWNER"===W&&r!==s?t._('Organization manager', '[m10n]businessManager.dashboard.organizationManager.title', 'text for viewer\'s role in Business Manager Dashboard'):W&&"OWNER"!==W?(0,p.MX)([W],t):(0,p.CZ)(t)}).join("")})]}),Y&&(0,P.jsx)(c.ZP,{accessibilityLabel:t._('Edit business profile', '[m10n]businessAccess.myInformation.editDetails.button.a11y', 'A11y edit business profile button text'),dataTestId:"edit-profile-button",href:"/settings",text:t._('Edit profile', '[m10n]businessAccess.myInformation.editDetails.button.text', 'Edit business profile button text')})]})]})]}),(0,P.jsx)(c.iz,{}),(0,P.jsxs)(c.kC,{direction:"column",gap:4,children:[(0,P.jsx)(c.xv,{size:"400",weight:"bold",children:t._('Business hierarchy', '[m10n]businessAccess.myInformation.businessHierarchy', 'title of business hierarchy section')}),G?(0,P.jsx)(a.Fragment,{children:(0,P.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,P.jsx)(b.qE,{color:o,name:Z,size:"md",src:(void 0===H?"":H)||""}),(0,P.jsxs)(c.kC,{alignItems:"center",justifyContent:"between",width:"100%",children:[(0,P.jsxs)(c.xu,{alignItems:"baseline",direction:"column",display:"flex",justifyContent:"between",marginStart:2,children:[(0,P.jsx)(c.xv,{size:"300",weight:"bold",children:Z}),(0,P.jsxs)(c.kC,{alignItems:"center",children:[(0,P.jsx)(c.xv,{color:"subtle",inline:!0,size:"200",children:(0,y.nk)(t._('Hierarchy ID: {{hierarchyId}}', '[m10n]businessAccess.myInformation.hierarchyId', 'text showing hierarchy id with a description. hierarchyId: id of hierarchy being detailed'),{hierarchyId:G}).join("")}),(0,P.jsx)(A.Z,C({page:i.Q6.DASHBOARD,text:G},(0,x.i)(x.O.HIERARCHY_ID,t)))]}),(0,P.jsx)(c.xv,{color:"subtle",size:"200",children:(0,y.nk)(t._('{{businessName}} is a child business of {{hierarchyName}}', '[m10n]businessAccess.myInformation.childParentHierarchy', 'text showing business is a child business of the parent hierarchy. businessName: name of business, hierarchyName: name of hierarchy'),{businessName:U,hierarchyName:Z}).join("")})]}),(0,P.jsx)(c.xu,{minWidth:141,children:(0,P.jsx)(c.ZP,{accessibilityLabel:t._('View hierarchy', '[m10n]businessAccess.myInformation.viewHierarchy.button.a11y', 'A11y edit business profile button text'),dataTestId:"view-hierarchy-button",href:(0,f.Z)(i.Q6.BUSINESS_HIERARCHY,"","",G),text:t._('View hierarchy', '[m10n]businessAccess.myInformation.viewHierarchy.button.text', 'View hierarchy profile button text')})})]})]})}):(0,P.jsxs)(a.Fragment,{children:[(0,P.jsxs)(c.kC,{direction:"column",gap:2,children:[(0,P.jsx)(c.xv,{weight:"bold",children:t._('Create a business hierarchy', '[m10n]businessAccess.myInformation.businessHierarchy.create', 'title of section to create a business hierarchy')}),(0,P.jsx)(c.xv,{children:t._('View and manage your child businesses in one place. Save time with a view of all your business, employee and partner permissions and make change at scale.', '[m10n]businessAccess.myInformation.businessHierarchy.create.description', 'description of section to create a business hierarchy')})]}),(0,P.jsxs)(c.kC,{gap:4,justifyContent:"end",children:[(0,P.jsx)(c.ZP,{color:"transparent",href:"".concat(g.gOE,"business/article/create-and-manage-accounts"),target:"blank",text:t._('Learn more', '[m10n]businessAccess.myInformation.businessHierarchy.learnMore.button', 'text for button to learn more about business hierarchy')}),(0,P.jsx)(c.zx,{onClick:function(){k&&_({businessAccount:k})},text:t._('Create business hierarchy', '[m10n]businessAccess.myInformation.businessHierarchy.create.button', 'text for button to create a business hierarchy')})]})]})]})]})},T=s(300686),O=s(230201),k=s(681698);function D(e,t,s,n,r,i,o){try{var a=e[i](o),c=a.value}catch(e){return void s(e)}a.done?t(c):Promise.resolve(c).then(n,r)}function N(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var i=e.apply(t,s);function o(e){D(i,n,r,o,a,"next",e)}function a(e){D(i,n,r,o,a,"throw",e)}o(void 0)})}}var R=function(e){return"ads/v4/partners/".concat(e,"/business_settings")},B=(n=N(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.Z)({url:R(t)});case 2:return s=e.sent.resource_response,e.abrupt("return",s.data);case 5:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),L=(r=N(regeneratorRuntime.mark(function e(t,s){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.Z)({url:R(t),method:"POST",data:{partner_id:t,default_utm_source_enabled:s}});case 2:return n=e.sent.resource_response,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)});function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function Z(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?M(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!=U(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=U(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):M(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function H(e,t,s,n,r,i,o){try{var a=e[i](o),c=a.value}catch(e){return void s(e)}a.done?t(c):Promise.resolve(c).then(n,r)}function q(e){return function(){var t=this,s=arguments;return new Promise(function(n,r){var i=e.apply(t,s);function o(e){H(i,n,r,o,a,"next",e)}function a(e){H(i,n,r,o,a,"throw",e)}o(void 0)})}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,a=[],c=!0,l=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;c=!1}else for(;!(c=(n=i.call(s)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var s=({}).toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?F(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var W=function(e){var t,s=e.businessSettings,n=(0,u.Z)(),r=(0,z.KJ)(),i=(0,O.u)().logContextEvent,o=G((0,a.useState)(s),2),l=o[0],_=o[1],d=G((0,a.useState)(!1),2),m=d[0],h=d[1],f=G((0,a.useState)(!1),2),p=f[0],y=f[1],g=n._('URL parameters are text strings added to the end of a URL to provide extra information for tracking and customization. They allow you to track campaign performance, customize behavior, and improve reporting.', '[m10n]business.settings.urlParams.description', 'description of url parameters'),A=(t=q(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!r||!l)){e.next=2;break}return e.abrupt("return");case 2:return i({event_type:101,element:44,aux_data:{business_id:r,action:"confirm_turn_off_url_params",component_id:"business_url_params_settings",element_id:"confirmation_modal_confirm_turn_off_button"}}),y(!1),h(!0),t=l,e.prev=6,e.next=9,L(r,!1);case 9:_({default_utm_source_enabled:e.sent.default_utm_source_enabled}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),_(t);case 16:return e.prev=16,h(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[6,13,16,19]])})),function(){return t.apply(this,arguments)}),x=function(){i({event_type:101,element:44,aux_data:{business_id:r,action:"cancel_turn_off_url_params",component_id:"business_url_params_settings",element_id:"confirmation_modal_cancel_turn_off_button"}}),y(!1)};return(0,P.jsxs)("div",{"data-test-id":"business-settings-url-params",children:[(0,P.jsxs)(c.kC,{direction:"column",gap:4,minWidth:"100%",children:[(0,P.jsxs)(c.kC,{direction:"row",children:[(0,P.jsx)(c.X6,{size:"400",children:n._('URL Parameters', '[m10n]business.settings.urlParams.title', 'title url parameters panel')}),(0,P.jsx)(c.u,{text:g,children:(0,P.jsx)(c.hU,{accessibilityLabel:"Additional info",bgColor:"white",icon:"info-circle",iconColor:"darkGray",padding:1,size:"md"})})]}),(0,P.jsx)(function(e){var t,s,o=e.isLoading,a=null==(s=null==l?void 0:l.default_utm_source_enabled)||s,u=(t=q(regeneratorRuntime.mark(function e(){var t,s,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!r||!l)){e.next=2;break}return e.abrupt("return");case 2:if(t=l,i({event_type:101,element:44,aux_data:{business_id:r,action:(n=!(s=a))?"turn_on_url_params":"attempt_turn_off_url_params",component_id:"business_url_params_settings",element_id:"url_params_switcher"}}),n){e.next=9;break}return y(!0),e.abrupt("return");case 9:return _(Z(Z({},l),{},{default_utm_source_enabled:n})),e.prev=10,e.next=13,L(r,n);case 13:_({default_utm_source_enabled:e.sent.default_utm_source_enabled}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),_(Z(Z({},t),{},{default_utm_source_enabled:s}));case 20:case"end":return e.stop()}},e,null,[[10,17]])})),function(){return t.apply(this,arguments)}),d=n._('Automatically apply UTM source, medium and campaign parameters to all destination URLs for your future campaigns.  This will not override already specified parameters set for specific Advertisers. When enabled, URL parameters will be applied to all new advertisers created in the future. Additionally, you can opt out at an advertiser level within advertiser level settings or at campaign/ad group levels during campaign create or edit.', '[m10n]business.settings.urlParams.switcher.description', 'description of url parameters switcher');return(0,P.jsx)(c.kC,{direction:"column",gap:6,width:"100%",children:(0,P.jsxs)(c.kC,{alignItems:"center",direction:"row",gap:2,children:[(0,P.jsx)(c.kC,{alignItems:"center",height:24,justifyContent:"center",width:48,children:o?(0,P.jsx)(c.xH,{accessibilityLabel:"Updating settings",show:!0}):(0,P.jsx)(c.rs,{disabled:o,id:"url-params-switcher",onChange:u,switched:a})}),(0,P.jsxs)(c.__,{htmlFor:"url-params-switcher",children:[(0,P.jsx)(c.xv,{children:n._('Apply URL parameters', '[m10n]business.settings.urlParams.switcher.label', 'label for url parameters switcher')}),(0,P.jsx)(c.xv,{color:"subtle",size:"100",children:d})]})]})})},{isLoading:m})]}),p&&(0,P.jsx)(b.u_,{accessibilityModalLabel:"Confirm turning off URL parameters",align:"start",onDismiss:x,size:"sm",children:(0,P.jsx)(c.xu,{padding:4,children:(0,P.jsxs)(c.kC,{direction:"column",gap:4,children:[(0,P.jsxs)(c.kC,{alignItems:"center",direction:"row",gap:2,children:[(0,P.jsx)(c.qb,{accessibilityLabel:"Warning",type:"warning"}),(0,P.jsx)(c.X6,{size:"400",children:n._('Are you sure you want to disable URL parameters?', '[m10n]business.settings.urlParams.modal.title', 'modal title for turning off url parameters')})]}),(0,P.jsx)(c.xv,{children:n._('Turning URL parameters off will remove all UTM source, medium, and campaign parameters from all destination URLs in your current and future campaigns.', '[m10n]business.settings.urlParams.modal.body', 'modal body text explaining consequences')}),(0,P.jsxs)(c.kC,{direction:"row",gap:2,justifyContent:"end",children:[(0,P.jsx)(c.zx,{color:"gray",onClick:x,size:"lg",text:n._('Keep tracking', '[m10n]business.settings.urlParams.modal.cancel', 'cancel button text to keep tracking on')}),(0,P.jsx)(c.zx,{color:"red",onClick:A,size:"lg",text:n._('Turn off tracking', '[m10n]business.settings.urlParams.modal.confirm', 'confirm button text to turn off tracking')})]})]})})})]})},Y=s(614371),Q=s(874273),J=s(699702);function K(e,t,s,n,r,i,o){try{var a=e[i](o),c=a.value}catch(e){return void s(e)}a.done?t(c):Promise.resolve(c).then(n,r)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,a=[],c=!0,l=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;c=!1}else for(;!(c=(n=i.call(s)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var s=({}).toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?X(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var $=function(){var e=(0,u.Z)(),t=(0,z.KJ)(),s=(0,l.Z)(),n=s.isAuth?s.id:void 0,r=(0,_.Z)().checkExperiment,i=V((0,a.useState)(null),2),o=i[0],d=i[1],m=V((0,a.useState)(!1),2),h=m[0],f=m[1],p=t===n&&r("adv_growth_business_settings_autms").anyEnabled;(0,a.useEffect)(function(){var e,s;if(!p||!t)return void d(null);(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,B(t);case 4:d(e.sent),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d(null);case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,8,11,14]])}),s=function(){var t=this,s=arguments;return new Promise(function(n,r){var i=e.apply(t,s);function o(e){K(i,n,r,o,a,"next",e)}function a(e){K(i,n,r,o,a,"throw",e)}o(void 0)})},function(){return s.apply(this,arguments)})()},[p,t]);var b=p&&o&&null!==o.default_utm_source_enabled?[{content:(0,P.jsx)(W,{businessSettings:{default_utm_source_enabled:o.default_utm_source_enabled}}),needsPanel:!0}]:[];return p&&h?(0,P.jsx)(c.xu,{"data-test-id":"business-settings-page",children:(0,P.jsx)(c.xu,{alignItems:"center",display:"flex",height:"50vh",justifyContent:"center",padding:8,children:(0,P.jsx)(c.xH,{accessibilityLabel:"Loading business settings",show:!0})})}):(0,P.jsx)(c.xu,{"data-test-id":"business-settings-page",children:(0,P.jsx)(c.xu,{children:(0,P.jsx)(T.Z,{pageTitle:(0,P.jsx)(Q.Z,{gap:2,iconLabel:e._('Business Settings', 'businessaccess.settings.page.icon.label', 'Title of Business Manager Settings page'),subtitle:e._('Manage settings across your business to protect your assets', 'businessaccess.settings.page.description', 'Title description of Business Manager Settings page'),title:e._('Business Settings', 'businessaccess.settings.page.title', 'Title of Business Manager Settings page'),toolTipLabel:e._('Manage settings across your business to protect your assets', 'businessaccess.settings.page.tooltip', 'Title of Business Manager Settings page')}),children:(0,P.jsx)(Y.Z,{items:[{content:(0,P.jsx)(E,{}),needsPanel:!0},{content:(0,P.jsx)(J.ZP,{}),needsPanel:!0}].concat(b),width:174})})})})},ee=function(){return(0,P.jsx)(o.Z,{pageType:i.Q6.BUSINESS_SETTINGS,children:(0,P.jsx)($,{})})}},243661:function(e,t,s){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/business-manager/[userBizId]/settings",function(){return s(572707).Z}])}},function(e){e.O(0,["14906","25418","32467","33699","34709","34799","3519","38489","39142","48961","55170","59306","60886","63638","70426","72112","75984","79763","85857","88038","91444","92298","95964"],function(){return e(e.s=243661)}),e.O()}]);