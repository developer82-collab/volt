"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["56695"],{562400:function(e,o,n){function t(e,o){(null==o||o>e.length)&&(o=e.length);for(var n=0,t=Array(o);n<o;n++)t[n]=e[n];return t}function r(e,o,n){var r,a,i,s=!!(null!=n&&n.leading),l=(null==n?void 0:n.trailing)!==!1,c=null!=n&&n.maxWait?Math.max(n.maxWait,o):void 0,u=null,d=0;function g(o){var n=r;return r=void 0,d=o,n&&(a=e.apply(void 0,function(e){if(Array.isArray(e))return t(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,o){if(e){if("string"==typeof e)return t(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,void 0):void 0}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),a}function f(e){var n,t=e-(null!=(n=i)?n:0),r=e-d;return void 0===i||t>=o||t<0||void 0!==c&&r>=c}function p(){var e,n,t,a,s=Date.now();f(s)?(u=null,l&&r)?g(s):r=void 0:u=setTimeout(p,(n=s-(null!=(e=i)?e:0),t=s-d,a=o-n,void 0!==c?Math.min(a,c-t):a))}function h(){null!==u&&clearTimeout(u),u=setTimeout(p,o)}function m(){for(var e=Date.now(),n=f(e),t=arguments.length,l=Array(t),m=0;m<t;m++)l[m]=arguments[m];if(r=l,i=e,n){if(null===u)return d=e,u=setTimeout(p,o),s?g(e):a;else if(void 0!==c)return h(),g(e)}return null===u&&h(),a}return m.flush=function(){if(null!==u&&r){var e=Date.now();return clearTimeout(u),u=null,g(e)}return a},m.cancel=function(){null!==u&&clearTimeout(u),d=0,r=void 0,i=void 0,u=null},m}n.d(o,{Z:function(){return r}})},797502:function(e,o,n){n.d(o,{Kz:function(){return t},mM:function(){return r}});var t='\ninput[type="password"]::-ms-reveal  {\n    display: none;\n}\n',r={margin:"0 auto 22px",width:"270px"};o.ZP="\n.Tooltip_message:before, .Tooltip_message:after {\n  border-style: solid;\n  content: '';\n  display: block;\n  margin-top: -8px;\n  position: absolute;\n  right: 100%;\n  top: 17px;\n  width: 0;\n}\n.Tooltip_message:before {\n  border-color: transparent rgba(0,0,0,0.48);\n  border-width: 8px 10px 8px 0;\n}\n.Tooltip_message:after {\n  border-color: transparent #fff;\n  border-width: 8px 10px 8px 0;\n  margin-right: -1px;\n}\n.Tooltip_mobileMessage:before, .Tooltip_message:after {\n  border-style: solid;\n  display: block;\n  margin-top: -8px;\n  position: absolute;\n  right: 100%;\n  top: 17px;\n  width: 0;\n}\n.Tooltip_mobileMessage:before {\n  border-color: transparent rgba(0,0,0,0.48);\n  border-width: 8px 10px 8px 0;\n}\n.Tooltip_mobileMessage:after {\n  border-color: transparent #fff;\n  border-width: 8px 10px 8px 0;\n  margin-right: -1px;\n}\n.Tooltip_wrapper {\n  position: absolute;\n  left: calc(100% + 12px);\n  z-index: 1;\n}\n.Tooltip_mobileWrapper {\n  margin-top: 7px;\n  z-index: 1;\n}\n\n.TermsOfService__light a {\n  color: rgba(255,255,255,0.9);\n}\n"},440077:function(e,o,n){n.d(o,{$9u:function(){return el},$wC:function(){return em},$wd:function(){return S},AEu:function(){return E},AMH:function(){return J},AmI:function(){return Q},Apc:function(){return eE},BJZ:function(){return eh},ByL:function(){return ee},C9x:function(){return W},CkT:function(){return en},EFb:function(){return ew},Ecf:function(){return eg},EvS:function(){return j},FCL:function(){return eP},F_B:function(){return s},G4W:function(){return x},Gh8:function(){return U},GnN:function(){return eO},Hgl:function(){return ez},Klx:function(){return G},KtD:function(){return ea},LZO:function(){return d},N$$:function(){return eS},NKq:function(){return et},O8_:function(){return ei},OHS:function(){return O},QJA:function(){return T},QO3:function(){return u},RdP:function(){return eb},Ryt:function(){return C},Tp5:function(){return eT},Twt:function(){return p},UON:function(){return eL},UTl:function(){return L},V9q:function(){return ej},Vrx:function(){return eC},Wmm:function(){return t},Wyp:function(){return m},XSG:function(){return c},XgG:function(){return V},YmI:function(){return H},_HG:function(){return i},_dC:function(){return k},a85:function(){return P},b2_:function(){return b},b9x:function(){return es},bJI:function(){return D},bcf:function(){return _},buv:function(){return ed},cYF:function(){return e_},cpp:function(){return v},cxq:function(){return B},d40:function(){return ev},dUT:function(){return z},etl:function(){return g},fcC:function(){return Z},hWn:function(){return eu},hio:function(){return f},ilB:function(){return h},jKP:function(){return I},jKo:function(){return ep},jc_:function(){return A},k29:function(){return X},kWh:function(){return Y},klq:function(){return q},lbE:function(){return w},lwx:function(){return ex},nTo:function(){return M},o6P:function(){return N},o6z:function(){return ec},oVm:function(){return er},qiK:function(){return r},qqC:function(){return l},r1i:function(){return K},rEw:function(){return y},saV:function(){return ey},v$5:function(){return F},v2p:function(){return ef},v6B:function(){return ek},vvv:function(){return eA},xW7:function(){return $},z6F:function(){return R},zsO:function(){return a},zuj:function(){return eo}});var t="var(--sema-color-background-default)",r="var(--sema-color-background-primary)",a="var(--sema-color-background-secondary)",i="var(--sema-color-background-tertiary)",s="var(--sema-color-background-subtle)",l="var(--sema-color-background-selected)",c="var(--sema-color-background-education)",u="var(--sema-color-background-elevation)",d="var(--sema-color-background-scrim)",g="var(--sema-color-background-inverse)",f="var(--sema-color-background-light)",p="var(--sema-color-background-dark)",h="var(--sema-color-background-disabled)",m="var(--sema-color-background-transparent)",_="var(--sema-color-background-info-default)",b="var(--sema-color-background-info-weak)",v="var(--sema-color-background-recommendation-default)",y="var(--sema-color-background-recommendation-weak)",w="var(--sema-color-background-success-default)",x="var(--sema-color-background-success-weak)",P="var(--sema-color-background-warning-default)",k="var(--sema-color-background-warning-weak)",j="var(--sema-color-background-error-default)",S="var(--sema-color-background-error-weak)",A="var(--sema-color-background-wash-scrims-opaque)",E="var(--sema-color-background-gradient-darken-bottom-weak)",z="var(--sema-color-background-gradient-darken-bottom-strong)",O="var(--sema-color-background-gradient-darken-top-weak)",T="var(--sema-color-background-gradient-darken-top-strong)",L="var(--sema-color-border-decorative)",C="var(--sema-color-border-interactive)",F="var(--sema-color-border-selected)",B="var(--sema-color-border-disabled)",I="var(--sema-color-border-error)",U="var(--sema-color-border-education)",R="var(--sema-color-border-inverse)",Z="var(--sema-color-border-transparent)",M="var(--sema-color-border-focus-outer-default)",D="var(--sema-color-border-focus-inner-default)",V="var(--sema-color-text-default)",W="var(--sema-color-text-subtle)",H="var(--sema-color-text-inverse)",G="var(--sema-color-icon-primary)",N="var(--sema-color-icon-performance-plus)",q="var(--sema-color-dataviz-10)",Y="var(--sema-color-dataviz-11)",K="var(--sema-color-dataviz-12)",X="var(--sema-color-dataviz-01)",J="var(--sema-color-dataviz-02)",$="var(--sema-color-dataviz-03)",Q="var(--sema-color-dataviz-04)",ee="var(--sema-color-dataviz-05)",eo="var(--sema-color-dataviz-06)",en="var(--sema-color-dataviz-07)",et="var(--sema-color-dataviz-08)",er="var(--sema-color-dataviz-09)",ea="var(--sema-color-hover-background-default)",ei="var(--sema-color-hover-background-primary)",es="var(--sema-color-hover-background-elevation)",el="var(--sema-color-hover-border-decorative)",ec="var(--sema-color-hover-border-error)",eu="var(--sema-color-pressed-background-default)",ed="var(--sema-color-pressed-background-elevation)",eg="var(--sema-elevation-shadow-floating)",ef="var(--sema-font-weight-heading-700)",ep="var(--sema-font-weight-UI-100)",eh="var(--sema-font-size-body-100)",em="var(--sema-font-family-heading-700)",e_="var(--sema-font-family-body-SM)",eb="var(--sema-rounding-200)",ev="var(--sema-rounding-300)",ey="var(--sema-rounding-400)",ew="var(--sema-rounding-pill)",ex="var(--sema-space-0)",eP="var(--sema-space-25)",ek="var(--sema-space-50)",ej="var(--sema-space-100)",eS="var(--sema-space-200)",eA="var(--sema-space-300)",eE="var(--sema-space-400)",ez="var(--sema-space-500)",eO="var(--sema-space-800)",eT="var(--sema-space-1000)",eL="var(--sema-space-1200)",eC="var(--sema-space-1400)"},600138:function(e,o,n){n.d(o,{Z:function(){return a}});var t=n(533104),r=n(575820);function a(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!(o&&o.search))return"";var a=(0,r.mB)(o.search).message,i=(0,r.mB)(o.search).username||n,s="true"===(0,r.mB)(o.search).multiple_accounts;return(0,t.Z)({i18n:e,message:a,multipleAccounts:s,username:i})}},533104:function(e,o,n){n.d(o,{Z:function(){return l}});var t=n(20256),r=n(216975),a=n(253542),i=n(680811);function s(e,o,n){return(0,i.jsx)(t.xv,{align:n||"center",children:(0,r.nk)(e,{username:(0,i.jsx)(t.xv,{inline:!0,weight:"bold",children:o})})})}function l(e){var o=e.i18n,n=e.message,t=e.multipleAccounts,r=e.username,i=void 0===r?"":r;switch(n){case a.R:return o._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case a.j2:if(t)return s(o._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),i);return s(o._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),i);case a.Di:return s(t?o._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):o._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),i);case a.aU:return s(o._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),i,"start");case a.pN:return s(o._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),i,"start");case a.iu:return o._('Your account is now a personal account', 'unauthLoginPage.unlinkAccountToast.personal.message', 'Confirmation message after a user has successfully converted the lba to a personal account');case a.E2:return o._('Your account is now a business account', 'unauthLoginPage.unlinkAccountToast.business.message', 'Confirmation message after a user has successfully converted the lba to a business account');case a.Eh:return o._('Your Linked Business Account was deleted', 'unauthLoginPage.unlinkAccountToast.business.message', 'Confirmation message after a user has successfully deleted their linked business account');default:return""}}},157498:function(e,o,n){n.d(o,{LO:function(){return g},cm:function(){return d},dM:function(){return c},kY:function(){return f},mN:function(){return u}});var t=n(581722),r=n(213491),a=n(935059),i=n(680811),s=(0,r.Z)("Users"),l=s.Provider,c=s.get;function u(){var e=c();return function(o){return e[o]}}function d(){var e=c();return function(o){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Object.keys(e).find(function(n){return e[n].username===o});if(t||!n)return e[null!=t?t:""]}}function g(){var e=(0,a.Z)();return c()[e.isAuth?e.id:""]}function f(e){var o=e.children,n=(0,t.v9)(function(e){return e.users},t.wU);return(0,i.jsx)(l,{value:n,children:o})}},272319:function(e,o,n){n.r(o),n.d(o,{default:function(){return g}});var t=n(20256),r=n(230201),a=n(24246),i=n(216975),s=n(865043),l=n(893957),c=n(878243),u=n(680811),d={textAlign:"start"};function g(){var e=(0,a.Z)(),o=(0,r.u)().logContextEvent,n=(0,i.XB)({text:e._('<strong id=\'1\'>Get the app</strong> to log in with QR code', 'mweb.qr_code_login_app_error.banner.text', 'Text for QR code login app error banner'),jsxReplacements:{1:function(e){var o=e.innerHtmlStrings;return(0,u.jsx)(t.xv,{inline:!0,underline:!0,children:o})}}});return(0,l.Z)(function(){(0,s.My)("mweb.qr_code_login_app_error.banner.view"),o({event_type:13,component:15429})}),(0,u.jsx)(t.xu,{children:(0,u.jsx)(c.Z,{app_upsell_type:"qr-code-login-app-error-banner",componentType:15430,children:function(r){var a=r.handleOpenApp;return(0,u.jsx)(t.iP,{onTap:function(){(0,s.My)("mweb.qr_code_login_app_error.banner.tap"),o({event_type:102,component:15429}),a()},children:(0,u.jsxs)(t.xu,{alignItems:"center",color:"infoWeak",direction:"row",display:"flex",paddingX:4,paddingY:4,rounding:4,children:[(0,u.jsx)(t.xu,{marginEnd:4,children:(0,u.jsx)(t.JO,{accessibilityLabel:e._('Pinterest', 'proPartnerHeader.partnerBadge.pinterestIcon', 'Pinterest icon'),color:"info",icon:"pinterest",size:20})}),(0,u.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,u.jsx)(t.xv,{inline:!0,children:n})})]})})}})})}},880256:function(e,o,n){n.d(o,{Z:function(){return eW}});var t=n(387784),r=n(581722),a=n(653551),i=n(20256),s=n(987704),l=n(4533),c=n(104999),u=n(562400),d=n(230201),g=n(160125),f=n(774838),p=n(739405);function h(e,o,n,t,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?o(l):Promise.resolve(l).then(t,r)}function m(e,o){return function(e){if(Array.isArray(e))return e}(e)||function(e,o){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,r,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===o){if(Object(n)!==n)return;l=!1}else for(;!(l=(t=a.call(n)).done)&&(s.push(t.value),s.length!==o);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return s}}(e,o)||function(e,o){if(e){if("string"==typeof e)return _(e,o);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,o):void 0}}(e,o)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,o){(null==o||o>e.length)&&(o=e.length);for(var n=0,t=Array(o);n<o;n++)t[n]=e[n];return t}var b=n(24246),v=n(247387),y=n(865043),w=n(893957),x=n(680811);function P(e,o){(null==o||o>e.length)&&(o=e.length);for(var n=0,t=Array(o);n<o;n++)t[n]=e[n];return t}var k={textAlign:"start"},j=function(e){var o=e.authOption,n=e.i18n,t=e.isRetrievingLoginData,r=n._('Facebook login is no longer available. Log in with an option below or ', 'facebook_recover_account_banner.text_1', 'Text for facebook recover account banner 1'),a=n._('tap to recover your account', 'facebook_recover_account_banner.text_2', 'Text for facebook recover account banner 2');return t?(0,x.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:10,width:"100%",children:(0,x.jsx)(i.xH,{color:"default",show:!0,size:"sm"})}):(t||("google"===o?r=n._('Facebook login is no longer available. Log in with Google or ', 'facebook_recover_account_banner_google.text', 'Text for facebook recover account banner suggesting Google connection'):"email"===o?r=n._('Facebook login is no longer available. Log in with email or ', 'facebook_recover_account_banner_email.text', 'Text for facebook recover account banner suggesting Email login'):"fbOnly"===o&&(r=n._('Facebook login is no longer available. ', 'facebook_recover_account_banner_facebook.text_1', 'Text for facebook recover account banner Facebook only login 1'),a=n._('Tap to get back into your account', 'facebook_recover_account_banner_facebook.text_2', 'Text for facebook recover account banner Facebook only login 2'))),(0,x.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:k},children:[(0,x.jsx)(i.xv,{inline:!0,children:r}),(0,x.jsx)(i.xv,{inline:!0,weight:"bold",children:a})]}))};function S(){var e,o,n,r,a,s,l,c,u,_,k,S,A,E,z,O,T,L,C=(0,b.Z)(),F=(0,p.HG)(),B=(e=(0,f.B)().locale,o=(0,p.HG)(),r=(n=m((0,t.useState)(!1),2))[0],a=n[1],l=(s=m((0,t.useState)(!1),2))[0],c=s[1],_=(u=m((0,t.useState)(!1),2))[0],k=u[1],A=(S=m((0,t.useState)(!1),2))[0],E=S[1],O=(z=m((0,t.useState)(!0),2))[0],T=z[1],(0,t.useEffect)(function(){var n,t,r=(n=regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,g.fi)(e,o);case 2:(t=n.sent)?(a(t.isGoogleConnected),c(t.hasPassword),k(t.isFBAuthOnly)):E(!0),T(!1);case 5:case"end":return n.stop()}},n)}),t=function(){var e=this,o=arguments;return new Promise(function(t,r){var a=n.apply(e,o);function i(e){h(a,t,r,i,s,"next",e)}function s(e){h(a,t,r,i,s,"throw",e)}i(void 0)})},function(){return t.apply(this,arguments)});r()},[e,o,!1]),A?{isRetrievingLoginData:O}:{isGoogleConnected:r,hasPassword:l,isFBAuthOnly:_,isRetrievingLoginData:O}),I=B.isRetrievingLoginData,U=B.isGoogleConnected,R=B.hasPassword,Z=B.isFBAuthOnly,M=(0,d.u)().logContextEvent,D=function(e){if(Array.isArray(e))return e}(L=(0,t.useState)("default"))||function(e,o){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,r,a,i,s=[],l=!0,c=!1;try{for(a=(n=n.call(e)).next;!(l=(t=a.call(n)).done)&&(s.push(t.value),2!==s.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return s}}(L,2)||function(e,o){if(e){if("string"==typeof e)return P(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,2):void 0}}(L,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),V=D[0],W=D[1],H=F?"dweb":"mweb";return(0,w.Z)(function(){M({event_type:15393,element:10881}),(0,y.My)("pcons.login_page.fb_recover_account_banner.view")}),(0,t.useEffect)(function(){if(!I){var e="default";U?e="google":R?e="email":Z&&(e="fbOnly"),W(e),(0,y.My)("".concat(H,".fb_recover_account_banner.view.").concat(e))}},[I,H,U,R,Z]),(0,x.jsx)(i.xu,{marginTop:F?4:void 0,padding:F?4:void 0,children:(0,x.jsx)(i.Tg,{href:"".concat(v.lfe,"?lookup=true"),onTap:function(e){var o=e.dangerouslyDisableOnNavigation;(0,y.My)("".concat(H,".fb_recover_account_banner.click.").concat(V)),F&&o(),M({event_type:15392,element:10881})},children:(0,x.jsxs)(i.xu,{alignItems:"center",color:"infoWeak",direction:"row",display:"flex",paddingX:4,paddingY:4,rounding:4,children:[(0,x.jsx)(i.xu,{marginEnd:4,children:(0,x.jsx)(i.JO,{accessibilityLabel:C._('info icon on the facebook recover account banner', 'facebook_recover_account_banner.icon', 'Icon for facebook recover account banner'),color:"info",icon:"info-circle",size:20})}),j({authOption:V,i18n:C,isRetrievingLoginData:I})]})})})}var A=n(157459);function E(){var e=(0,b.Z)(),o=(0,d.u)().logContextEvent;return(0,w.Z)(function(){(0,y.My)("mweb.fb_deprecation_text_link.view"),o({event_type:15393,element:18307})}),(0,x.jsx)(i.xu,{marginTop:3,children:(0,x.jsxs)(i.xv,{align:"center",size:"200",children:[e._('Facebook login is no longer available ', 'facebook_deprecation_text_link.text_1', 'First part of Facebook deprecation message below login button'),(0,x.jsx)(i.Tg,{href:"".concat(v.lfe,"?lookup=true"),onTap:function(){(0,y.My)("mweb.fb_deprecation_text_link.click"),o({event_type:15392,element:18307})},children:(0,x.jsx)(i.xv,{inline:!0,size:"200",underline:!0,weight:"bold",children:e._('Update login method', 'facebook_deprecation_text_link.text_2', 'Link text for updating login method after Facebook deprecation')})})]})})}var z=n(681698),O=n(583875),T=n(924591),L=n(216975),C=n(253542),F=n(600138),B=n(424868),I=n(413220),U=n(444382),R=n(904278),Z=n(501010),M=n(615695),D=n(34550),V=n(481889),W=n(577356),H=n(575820),G=n(986523),N=n(496883),q=n(550759),Y=n(846277),K=n(797502),X=n(953037),J=n(59111),$=n(736328),Q=n(113188);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,o){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,t)}return n}function en(e){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?eo(Object(n),!0).forEach(function(o){es(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function et(e,o){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,o){return e.__proto__=o,e})(e,o)}function er(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ea(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ea=function(){return!!e})()}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function es(e,o,n){return(o=el(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n,e}function el(e){var o=function(e,o){if("object"!=ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,o||"default");if("object"!=ee(t))return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==ee(o)?o:o+""}var ec=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&et(a,e);var o,n,r=(o=ea(),function(){var e,n=ei(a);return e=o?Reflect.construct(n,arguments,ei(this).constructor):n.apply(this,arguments),function(e,o){if(o&&("object"==ee(o)||"function"==typeof o))return o;if(void 0!==o)throw TypeError("Derived constructors may only return object or undefined");return er(e)}(this,e)});function a(){var e;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var o=arguments.length,n=Array(o),t=0;t<o;t++)n[t]=arguments[t];return es(er(e=r.call.apply(r,[this].concat(n))),"state",{emailFieldElement:null,shouldShowEmailSuggestion:!1}),es(er(e),"handleChangeEmail",function(o){var n=o.value,t=e.props.handleChangeEmail;if(e.state.shouldShowEmailSuggestion)e.setState({shouldShowEmailSuggestion:!1});else if(n.endsWith("@")){var r=e.emailInputRef;e.setState({shouldShowEmailSuggestion:!0,emailFieldElement:r})}t&&t({value:n})}),es(er(e),"handlePasswordFocus",function(){(0,y.NC)("focus_password")}),es(er(e),"handleEmailSuggestionClick",function(o){var n=e.props.trackInteraction;n&&n({action:"click",item:"email-suggestions",within:"login-page"}),e.setState({shouldShowEmailSuggestion:!1}),e.handleChangeEmail({value:o})}),es(er(e),"passwordReset",function(o){(0,y.NC)("click_forget_password"),e.props.handlePasswordReset&&e.props.handlePasswordReset(o)}),es(er(e),"handleLoginClick",function(){(0,y.EX)({event:"start",provider:"email"}),(0,y.NC)("press_login_continue"),e.props.onLoginClick&&e.props.onLoginClick()}),es(er(e),"handleSignupClick",function(){var o=e.props.onSignUpClick;o&&o()}),e}return n=[{key:"componentDidMount",value:function(){this.handleChangeEmail({value:this.props.email})}},{key:"render",value:function(){var e,o=this,n=this.props,r=n.email,a=n.handleChangePassword,s=n.hideEmailField,l=n.hideLoginBtn,c=n.hidePasswordField,u=n.i18n,d=n.passwordValidationError,g=n.emailValidationError,f=n.emailLoginOnlyForRecoverAccount,p=n.validateEmailOnBlur,h=n.validatePasswordOnBlur,m=n.isSIWAError,_=n.isValid,b=n.isSsoFlow,v=n.onSubmit,y=n.password,w=n.requestContext,P=n.shouldShowSignUpButton,k=n.showEmailAsText,j=n.onForgetPasswordForFacebookRecover,S=this.state,A=S.emailFieldElement,E=S.shouldShowEmailSuggestion,z=m&&d,O=u._('Log in', 'Label for log in button', 'Label for log in button'),T=!c;return b&&(O=u._('Continue with SSO', 'login.sso.continue_button.text', 'Label for continue with SSO button'),T=!1),(0,x.jsx)(i.xu,{marginBottom:3,marginTop:3,children:(0,x.jsxs)("form",{autoCapitalize:"none",autoCorrect:"off",onSubmit:v,children:[!s&&k&&(0,x.jsx)(i.xu,{marginBottom:5,children:(0,x.jsx)(i.xv,{align:"center",children:r})}),!s&&!k&&(0,x.jsxs)(t.Fragment,{children:[E?(0,x.jsx)(Q.Z,{email:r,emailFieldElement:A,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null,(0,x.jsx)(i.xu,{marginTop:1,children:(0,x.jsx)(i.nv,{ref:function(e){o.emailInputRef=e},errorMessage:g,id:"email",onBlur:p,onChange:this.handleChangeEmail,placeholder:u._('Email', 'Prompt for user to enter in email on the mobile web login page', 'Prompt for user to enter in email on the mobile web login page'),size:"lg",type:"email",value:r})})]}),T?(0,x.jsxs)(i.xu,{children:[(0,x.jsxs)(i.xu,{marginTop:2,position:"relative",children:[(null==(e=w.userAgent.browserName)?void 0:e.includes("Edge"))&&(0,x.jsx)(J.Z,{unsafeCSS:K.Kz}),(0,x.jsx)(i.nv,{autoComplete:"on",errorMessage:d,id:"password",onBlur:h,onChange:a,onFocus:this.handlePasswordFocus,placeholder:u._('Password', 'Prompt for user to enter in password on the mobile web login page', 'Prompt for user to enter in password on the mobile web login page'),size:"lg",type:"password",value:y})]}),f?(0,x.jsx)(i.xu,{"data-test-id":"reset-password",marginTop:2,children:(0,x.jsx)(i.iP,{onTap:function(){null==j||j(o.props.email)},children:(0,x.jsx)(i.xv,{inline:!0,size:"100",weight:"bold",children:u._('Forgot your password', 'pass_word_reset_page.fb_multi_auth_login.send_forgot_password_email', 'Link for fb multi-auth user to reset their email if they are eligible for email password sign-in')})})}):(0,x.jsx)(i.xu,{"data-test-id":"reset-password",marginTop:2,children:(0,x.jsx)(i.xv,{inline:!0,size:"100",weight:"bold",children:(0,x.jsx)(i.rU,{display:"inlineBlock",href:"/password/reset",onClick:function(e){var n=e.event;return o.passwordReset(n)},tapStyle:"none",underline:"hover",children:z?u._('Reset your password', 'Heading displayed when email is entered on the password reset page', 'Heading displayed when email is entered on the password reset page'):u._('Forgot your password?', 'Link to the password reset page', 'Link to the password reset page')})})})]}):null,P&&(0,x.jsx)(i.xu,{marginTop:3,children:(0,x.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:this.handleSignupClick,text:u._('Sign up with this email', 'Label for sign up button', 'Label for sign up button'),type:"submit"})}),!l&&(0,x.jsx)(i.xu,{"data-test-id":"log-in-button",marginTop:4,children:(0,x.jsx)(X.Z,{color:"red",disabled:!_||P,fullWidth:!0,onClick:this.handleLoginClick,size:"md",text:O,type:"submit"},!_||P?"disabled":"enabled")})]})})}}],function(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,el(t.key),t)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(t.PureComponent),eu=function(e){var o=(0,b.Z)(),n=(0,p.ml)(),t=(0,$.Z)(),r=(0,c.Z)(),a=(0,f.B)();return(0,x.jsx)(ec,en(en({},e),{},{i18n:o,isPhoneDevice:n,logContextEvent:r,requestContext:a,trackInteraction:t}))},ed=n(465784),eg=n(375147);function ef(e){var o=e.onDismiss,n=(0,b.Z)();(0,t.useEffect)(function(){(0,y.My)("unauth.mweb.login_assistance_google_modal.view")},[]);var r=n._('Having trouble logging in?', 'mweb.accountRecovery.loginAssistance.googleModal.heading', 'Modal heading for users who failed to login through password and are connected through Google');return(0,x.jsxs)(ed.ZP,{accessibilityModalLabel:r,heading:(0,x.jsxs)(i.xu,{children:[(0,x.jsx)(i.xu,{left:!0,marginStart:6,marginTop:-10,position:"absolute",children:(0,x.jsx)(i.hU,{accessibilityLabel:n._('Dismiss modal button', 'dismiss button accessibilityLabel', 'accessibilityLabel.dismiss.link_modal'),bgColor:"transparent",icon:"cancel",onClick:function(){o()},size:"sm"})}),(0,x.jsx)(i.xu,{display:"flex",justifyContent:"center",marginBottom:4,marginTop:10,children:(0,x.jsx)(i.JO,{accessibilityLabel:n._('Pinterest logo', 'Accessibility label for Pinterest icon', 'Accessibility label for Pinterest icon'),color:"brandPrimary",icon:"pinterest",size:32})}),(0,x.jsx)(i.X6,{accessibilityLevel:1,align:"center",size:"400",children:r})]}),isOpen:!0,onDismiss:o,children:[(0,x.jsx)(i.xu,{marginBottom:4,marginTop:4,paddingX:12,children:(0,x.jsx)(i.xv,{align:"center",children:n._('Looks like your account is connected to Google. Log in with Google to get back into your account.', 'mweb.accountRecovery.loginAssistance.googleModal.text', 'Modal text for users who failed to login through password and are connected through Google')})}),(0,x.jsx)(i.xu,{marginBottom:8,paddingX:14,children:(0,x.jsx)(eg.Z,{google:!0})})]})}var ep=n(592094),eh=n(272319),em=n(680391);function e_(e){return(e_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e,o){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,t)}return n}function ev(e){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?eb(Object(n),!0).forEach(function(o){var t,r;t=o,r=n[o],(t=function(e){var o=function(e,o){if("object"!=e_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,o||"default");if("object"!=e_(t))return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==e_(o)?o:o+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var ey=function(e){var o=e.href,n=e.state,t=e.onClick,r=e.children,s=(0,a.TH)().state,l=(0,em.Z)({href:{pathname:o,state:ev(ev({},s),n)}});return(0,x.jsx)(i.rU,{href:o,onClick:function(e){var o=e.event;(0,e.dangerouslyDisableOnNavigation)(),t(),l({event:o})},children:r})},ew=n(440890),ex=n(157498),eP=n(254889),ek=n(938772),ej=n(108199),eS=["userInfo"],eA=["shouldShowAccountExistsToast"];function eE(e){return(eE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ez(e,o,n,t,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?o(l):Promise.resolve(l).then(t,r)}function eO(e){return function(){var o=this,n=arguments;return new Promise(function(t,r){var a=e.apply(o,n);function i(e){ez(a,t,r,i,s,"next",e)}function s(e){ez(a,t,r,i,s,"throw",e)}i(void 0)})}}function eT(e,o){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,t)}return n}function eL(e){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?eT(Object(n),!0).forEach(function(o){eZ(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function eC(e,o){if(null==e)return{};var n,t,r=function(e,o){if(null==e)return{};var n={};for(var t in e)if(({}).hasOwnProperty.call(e,t)){if(-1!==o.indexOf(t))continue;n[t]=e[t]}return n}(e,o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],-1===o.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eF(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,eM(t.key),t)}}function eB(e,o){return(eB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,o){return e.__proto__=o,e})(e,o)}function eI(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eU=function(){return!!e})()}function eR(e){return(eR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eZ(e,o,n){return(o=eM(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n,e}function eM(e){var o=function(e,o){if("object"!=eE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,o||"default");if("object"!=eE(t))return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==eE(o)?o:o+""}var eD=function(e){return(0,H.mB)(e.search).next||e.state&&e.state.next||"/"},eV=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&eB(s,e);var o,n,r,a=(o=eU(),function(){var e,n=eR(s);return e=o?Reflect.construct(n,arguments,eR(this).constructor):n.apply(this,arguments),function(e,o){if(o&&("object"==eE(o)||"function"==typeof o))return o;if(void 0!==o)throw TypeError("Derived constructors may only return object or undefined");return eI(e)}(this,e)});function s(){var e,o,n,r;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");for(var c=arguments.length,d=Array(c),g=0;g<c;g++)d[g]=arguments[g];return eZ(eI(e=a.call.apply(a,[this].concat(d))),"state",{apiErrorCode:0,email:(o=e.props.location).state&&o.state.email||"",isLoading:!1,isValid:!1,isSsoFlow:!1,password:"",recaptchaV3Token:"default",emailValidationError:"",passwordValidationError:"",optOutFromPersonalizedForm:!1,shouldShowSignUpButton:!1,hasKeychainErrorShown:!0,showLoginRateLimitedModal:!1,showLoginAssistanceGoogleModal:!1,shouldHideFBButtonForSignup:!1,isSsoEmail:!1,exchangeCodeToTokenUrl:"",existingUserSso:!1,existingUserIsSso:!1,ssoAuthorizationUri:"",showInfoBanner:!1,infoBannerMessage:"",showQRAppErrorBanner:!1}),eZ(eI(e),"clearPersonalizedLoginFromEmail",function(o){var n=e.props,t=n.navigate,r=n.location;if(r.state&&r.state.userInfo){var a=r.state;t(o?"/":"/login",{replace:!0,state:(a.userInfo,eC(a,eS))})}}),eZ(eI(e),"onLoginClick",function(){e.trackButtonTap(30),e.props.emailLoginOnlyForRecoverAccount&&e.props.logContextEvent({event_type:15392,component:15214,element:30})}),eZ(eI(e),"onSignUpClick",function(){var o=e.props,n=o.navigate,t=o.location,r=o.isAppFactoryOAuth,a=o.attributionLabel,i=o.trackConversionUpsell;e.trackButtonTap(31),i({eventType:14688,component:14215,upsellReason:a,incrementUpsellReasonCounter:!1}),n("/signup/step1/",{state:eL(eL({email:e.state.email,password:e.state.password,isSignUpFromLoginError:!0},t.state),{},{isAppFactoryOAuth:r,attributionLabel:a})})}),eZ(eI(e),"trackButtonTap",function(o){var n=e.props,t=n.isAuthenticated,r=n.isLimitedLoginUser,a=n.logContextEvent,i=n.trackConversionUpsell;a({view_type:9,element:o,event_type:102,aux_data:eL({},t?{login_state:r?I.Z.LIMITED:I.Z.DEFAULT}:{})}),i({eventType:14689,element:o})}),eZ(eI(e),"handleNotYouClick",function(){e.clearPersonalizedLoginFromEmail(),e.trackButtonTap(10879),e.setState({email:"",optOutFromPersonalizedForm:!0}),(0,y.NC)("click_change_signin_account")}),eZ(eI(e),"handleNoAccountClick",function(){var o=e.props,n=o.attributionLabel,t=o.trackConversionUpsell;e.clearPersonalizedLoginFromEmail(!0),e.trackButtonTap(10880),t({eventType:14688,component:14215,upsellReason:n,incrementUpsellReasonCounter:!1,viewType:10,viewParameter:47}),(0,y.NC)("click_toggle_signup")}),eZ(eI(e),"handlePasswordReset",function(){var o=e.props,n=o.navigate,t=o.logContextEvent,r=o.attributionLabel,a=e.state.email;e.trackButtonTap(10881);var i=(0,N.a3)(a,e.emailValidators());a&&!i&&(t({event_type:51,view_type:9,view_parameter:63}),(0,z.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:a,type:"reset"}}).then(function(){n("/password/reset/sent/",{replace:!0,state:{destinationEmail:a,fromLogin:!0,attributionLabel:r}}),e.setState({apiErrorCode:0})}))}),eZ(eI(e),"validateEmail",(n=eO(regeneratorRuntime.mark(function o(n){var t,r,a,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:t=n.showTooltip,r=e.state.email,(i=!(a=(0,N.a3)(r,e.emailValidators()))&&!e.state.passwordValidationError)&&e.checkIfUserIsSso({isEmailPasswordValid:i}),t||i?e.setState({emailValidationError:a,isValid:i}):e.setState({isValid:i});case 6:case"end":return o.stop()}},o)})),function(e){return n.apply(this,arguments)})),eZ(eI(e),"checkIfUserIsSso",(r=eO(regeneratorRuntime.mark(function o(n){var t,r,a,i,s,l,c,u,d,g,f,p;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=n.hasInitialEmail,r=n.isEmailPasswordValid,a=e.state.email,i=e.props.verifySsoUser,s=null!=r?r:e.state.isValid,o.next=6,i(a);case 6:c=(l=o.sent).isSso,u=l.existingUser,d=l.existingUserIsSso,g=l.authorizationUri,f=l.exchangeCodeToTokenUrl,p=!!(c&&(!u||d)),e.setState({exchangeCodeToTokenUrl:null!=f?f:"",isSsoEmail:c,isSsoFlow:p,existingUserSso:!!u,existingUserIsSso:!!d,ssoAuthorizationUri:null!=g?g:"",isValid:!!p&&!!t||s});case 14:case"end":return o.stop()}},o)})),function(e){return r.apply(this,arguments)})),eZ(eI(e),"debouncedCheckIfSsoUser",(0,u.Z)(eO(regeneratorRuntime.mark(function o(){var n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:n=e.state.email,(0,N.a3)(n,e.emailValidators())||e.checkIfUserIsSso({hasInitialEmail:!1});case 3:case"end":return o.stop()}},o)})),300)),eZ(eI(e),"validatePassword",function(o){var n=e.state.password,t=(0,N.a3)(n,[(0,N.aH)({message:e.props.i18n._('The password you entered is incorrect.', 'Password validation error', 'Password validation error')})]),r=!t&&!e.state.emailValidationError;o||r?e.setState({passwordValidationError:t,isValid:r}):e.setState({isValid:r})}),eZ(eI(e),"validateEmailOnBlur",function(){setTimeout(function(){e.validateEmail({showTooltip:!0})},0)}),eZ(eI(e),"validatePasswordOnBlur",function(){e.state.password&&setTimeout(function(){e.validatePassword(!0)},0)}),eZ(eI(e),"emailValidators",function(){return[(0,N.GT)({message:e.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')}),(0,N.aH)({message:e.props.i18n._('You missed a spot! Don\'t forget to add your email.', 'Email validation error', 'Email validation error')})]}),eZ(eI(e),"getSoftBannedErrorMsg",function(){var o=e.props.i18n;return(0,x.jsx)(i.xv,{color:"error",size:"200",children:(0,L.nk)(o._('We noticed some strange activity on your account. {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.', 'duplo.loginForm.softBanned.errorMessage', 'Error message when user is soft banned, resetPasswordLink: link to reset password flow with text \'Reset your password\''),{resetPasswordLink:(0,x.jsx)(i.xu,{display:"inlineBlock",children:(0,x.jsx)(i.iP,{onTap:e.handlePasswordReset,children:(0,x.jsx)(i.xv,{inline:!0,underline:!0,children:o._('Reset your password', 'duplo.loginForm.SoftBanned.passwordReset', 'Link text for password reset')},"err_reset_link")})})})},"err_text")}),eZ(eI(e),"handleChangeEmail",function(o){var n=o.value;e.setState({email:n,shouldShowSignUpButton:!1,hasKeychainErrorShown:!0,isSsoEmail:!1,isSsoFlow:!1,showInfoBanner:!1},function(){e.validateEmail({}),e.debouncedCheckIfSsoUser()})}),eZ(eI(e),"handleChangePassword",function(o){var n=o.value;return e.setState({password:n,hasKeychainErrorShown:!0},e.validatePassword)}),eZ(eI(e),"handleLoginFailure",function(o){if(o.isArkoseChallengeRequired)return void e.setState({isLoading:!1});var n=e.props,t=n.showToast,r=n.i18n,a=n.checkExperiment,i=e.state.email,s=o.api_error_code===B.yV||o.api_error_code===B.$j,l={},c=o.api_error_code===B.oP||o.message?{passwordValidationError:o.message}:{};if(s)c={passwordValidationError:e.getSoftBannedErrorMsg()};else if(o.api_error_code===B.q1){(0,y.My)("unauth.mweb.login_form.error.invalid_password_google_user");var u=a("mweb_unauth_assist_google_connected_users",{dangerouslySkipActivation:!0}).group.includes("banner");u&&(l={showInfoBanner:!0,infoBannerMessage:r._('Looks like your account is connected to Google. Use Google button to log in', 'mweb.unauth.loginForm.badPassword.googleConnected.bannerMessage', 'A banner message that directs the user to login using the Google sign-in button')}),c={passwordValidationError:r._('The password you entered is incorrect.', 'mweb.unauth.loginForm.badPassword.googleConnected.passwordError', 'An error message under the password input field warning the user that they inputted a bad password'),showLoginAssistanceGoogleModal:!u}}else o.api_error_code===B.nY&&o.message?(t(function(e){var n=e.hideToast;return(0,x.jsx)(T.Z,{onHide:n,text:o.message||""})}),c={}):o.api_error_code===B.hU?c=i?{emailValidationError:o.message,shouldShowSignUpButton:!0}:{emailValidationError:o.message}:B.ik.includes(o.api_error_code)&&(c={emailValidationError:"",showLoginRateLimitedModal:!0});e.setState(eL(eL({isLoading:!1,apiErrorCode:o.api_error_code||0},c),l)),(0,M.rY)(function(o){return e.setState({recaptchaV3Token:o})},function(){},M.xW)}),eZ(eI(e),"handleLogin",function(o){var n=e.props.fingerprintData;n&&!n.current.submitTriggeredTime&&(n.current.submitTriggeredTime=performance.now()),o&&o.preventDefault();var t=e.props,r=t.navigate,a=t.location,i=t.login,s=t.showToast,l=t.isAuthenticated,c=t.isLimitedLoginUser,u=t.isSwitchAccount,d=t.noImmediateRedirect,g=t.attributionLabel,f=e.state,p=f.email,h=f.password,m=f.recaptchaV3Token,_=e.props.authenticateWithSso,b=e.state,v=b.isSsoEmail,w=b.exchangeCodeToTokenUrl,P=b.existingUserSso,k=b.existingUserIsSso,j=b.ssoAuthorizationUri;if(v){if(!P)return void e.props.navigate("/signup/step1/",{state:eL(eL({email:e.state.email,isSignUpFromLoginError:!1},a.state),{},{attributionLabel:g})});else if(k){e.trackButtonTap(14367),_({callbacks:{success:function(o){var n=o.authCode,t=o.state;p&&n&&(e.setState({isLoading:!0}),i({sso_user_email:p,sso_auth_code:n,sso_state:t},r,eD(a),{isSwitchAccount:u,recaptchaV3Token:m,noImmediateRedirect:d},{event_type:7534,view_type:9,view_parameter:63,aux_data:eL(eL({},l?{login_state:c?I.Z.LIMITED:I.Z.DEFAULT}:{}),{},{signup_login_method:U.Z.SSO,upsell_reason:g})}).catch(function(o){(0,y.My)("unauth.mweb.login.sso.login.error",{code:o.api_error_code,message:o.message}),e.handleLoginFailure(o)}))},error:function(o){(0,y.My)("unauth.mweb.login.sso.autheticateWithSso.error",{code:o.api_error_code,message:o.message}),e.setState({isLoading:!1}),o.message&&s(function(e){var n=e.hideToast;return(0,x.jsx)(T.Z,{onHide:n,text:o.message||""})})}},exchangeCodeToTokenUrl:w,isLogin:!0,modalUrl:null!=j?j:""});return}}i({username_or_email:p,password:h},r,eD(a),{isSwitchAccount:u,recaptchaV3Token:m,noImmediateRedirect:d,fingerprintData:n},{event_type:7534,view_type:9,view_parameter:63,aux_data:eL(eL({},l?{login_state:c?I.Z.LIMITED:I.Z.DEFAULT}:{}),{},{signup_login_method:U.Z.EMAIL,upsell_reason:g})}).catch(function(o){return e.handleLoginFailure(o)}),e.setState({isLoading:!0})}),eZ(eI(e),"handleLoginTouch",function(e){"Facebook"===e?(0,y.My)("unauth_mweb.facebook_connect.manual.attempt"):"Google"===e&&(0,y.My)("unauth_mweb.google_connect.manual.attempt")}),eZ(eI(e),"handleDisableFBSignup",function(){e.setState({shouldHideFBButtonForSignup:!0}),e.props.navigate("/login/")}),eZ(eI(e),"renderPersonalizedLogin",function(o){var n=e.props,r=n.isAppFactoryOAuth,a=n.location,s=n.noImmediateRedirect,l=n.attributionLabel,c=n.checkExperiment,u=n.emailLoginOnlyForRecoverAccount,d=n.onForgetPasswordForFacebookRecover,g=n.lookedupEmail,f=e.state,p=f.emailValidationError,h=f.passwordValidationError,m=f.isSsoFlow,_=f.isValid,b=f.password,v=f.shouldShowSignUpButton,y={connectedToFacebook:o.connected_to_facebook,connectedToGoogle:o.connected_to_google||!!o.gplus_url,email:o.email,firstName:o.first_name,hasPassword:o.has_password,avatarSrc:o.image_medium_url||o.medium_image_url||""},w=y.connectedToFacebook,P=y.connectedToGoogle,k=y.email,j=y.firstName,S=y.hasPassword,A=y.avatarSrc,E=!!a.state&&!!a.state.userInfo,z=!S&&!w&&!P,T=S||z,C=P||z,F=T&&(w||z||C)&&!m,B=j?(0,L.nk)(e.props.i18n._('Welcome back, {{name}}!', 'Heading on personalized login page, followed by user\'s name', 'Heading on personalized login page, followed by user\'s name'),{name:j}):e.props.i18n._('Welcome back!', 'Welcome message on user login page', 'Welcome message on user login page');return(0,x.jsxs)(t.Fragment,{children:[E&&(0,x.jsx)(eP.default,{}),(0,x.jsxs)(t.Fragment,{children:[(0,x.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:T?-3:5,marginTop:5,children:[(0,x.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,x.jsx)(i.X6,{accessibilityLevel:1,overflow:"normal",size:"400",children:B})}),(0,x.jsx)(i.xu,{marginBottom:3,marginTop:3,children:(0,x.jsx)(O.qE,{name:j||"",size:"lg",src:A})}),!T&&(0,x.jsx)(i.xu,{children:(0,x.jsx)(i.xv,{align:"center",children:k})})]}),(0,x.jsxs)(i.xu,{marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:3,maxWidth:400,children:[T&&(0,x.jsx)(eu,{email:(null!=k?k:"")||(null!=g?g:""),emailLoginOnlyForRecoverAccount:u,emailValidationError:p,handleChangeEmail:e.handleChangeEmail,handleChangePassword:e.handleChangePassword,handlePasswordReset:e.handlePasswordReset,hideEmailField:!1,isSsoFlow:m,isValid:_,onForgetPasswordForFacebookRecover:d,onLoginClick:e.onLoginClick,onSignUpClick:e.onSignUpClick,onSubmit:e.handleLogin,password:b,passwordValidationError:h,shouldShowSignUpButton:v,showEmailAsText:!0,validateEmailOnBlur:e.validateEmailOnBlur,validatePasswordOnBlur:e.validatePasswordOnBlur}),F&&(0,x.jsx)(i.xu,{marginBottom:3,marginTop:3,children:(0,x.jsx)(i.xv,{align:"center",size:"100",weight:"bold",children:e.props.i18n._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})}),!m&&(0,x.jsx)(eg.Z,{attributionLabel:l,disableFBSignup:e.handleDisableFBSignup,facebook:!c("mweb_unauth_fb_login_account_recovery_flow").anyEnabled&&!c("mweb_unauth_remove_fb_autologin_and_manual_login_ucan").anyEnabled&&!c("mweb_unauth_fb_manual_login_dep_row").anyEnabled&&!e.state.shouldHideFBButtonForSignup,google:C,line:z,next:eD(a),noImmediateRedirect:s,onFacebookTouch:function(){return e.handleLoginTouch("Facebook")},phoneNumber:!0})]})]}),(0,x.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[(0,x.jsxs)(i.xu,{alignItems:"start","data-test-id":"login-switch-account",direction:"row",display:"flex",justifyContent:"center",wrap:!0,children:[(0,x.jsx)(i.xu,{marginEnd:1,children:(0,x.jsx)(i.xv,{align:"center",inline:!0,children:e.props.i18n._('Not you?', 'Short message on the bottom of the login modal that prompts a user to log in to a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account')})}),(0,x.jsx)(i.xv,{color:"default",inline:!0,weight:"bold",children:(0,x.jsx)(ey,{href:"/login/".concat(a.search||""),onClick:e.handleNotYouClick,children:e.props.i18n._('Log in with a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account')})})]}),(0,x.jsxs)(i.xu,{display:"flex",justifyContent:"center",marginTop:4,children:[(0,x.jsx)(i.xu,{"data-test-id":"signup-modal-personalized",marginEnd:1,children:(0,x.jsx)(i.xv,{children:e.props.i18n._('No Account?', 'Prompt for signing up', 'Prompt for signing up')})}),(0,x.jsx)(i.xv,{color:"default",weight:"bold",children:(0,x.jsx)(ey,{href:"/signup/step1/",onClick:e.handleNoAccountClick,state:eL(eL({},a.state),{},{isAppFactoryOAuth:r,attributionLabel:l}),children:e.props.i18n._('Sign up', 'Prompt for signing up', 'Prompt for signing up')})})]})]})]})}),eZ(eI(e),"renderLoginButtons",function(o){if(e.state.isSsoFlow)return null;var n=e.props,t=n.isAppFactoryOAuth,r=n.isBeforeHydration,a=n.location,s=n.noImmediateRedirect,c=n.attributionLabel,u=n.checkExperiment,d=(0,D.M0)().getItem(l.TB),g=u("mweb_unauth_fb_login_account_recovery_flow").anyEnabled||u("mweb_unauth_remove_fb_autologin_and_manual_login_ucan").anyEnabled||u("mweb_unauth_fb_manual_login_dep_row").anyEnabled,f=(0,x.jsx)(eg.Z,{apple:!r&&!!d||t,attributionLabel:c,disableFBSignup:e.handleDisableFBSignup,facebook:!g&&!e.state.shouldHideFBButtonForSignup,google:!0,line:!0,next:eD(a),noImmediateRedirect:s,onFacebookTouch:function(){return e.handleLoginTouch("Facebook")},phoneNumber:!0}),p=(0,x.jsx)(i.xu,{marginBottom:2*!!o,marginTop:2*!o,children:(0,x.jsx)(i.xv,{align:"center",size:"200",weight:"bold",children:e.props.i18n._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})});return o?(0,x.jsxs)(i.xu,{children:[p,f]}):(0,x.jsxs)(i.xu,{children:[f,p]})}),eZ(eI(e),"renderInfoBanner",function(){var o=e.state.infoBannerMessage,n=e.props.i18n;return(0,x.jsxs)(i.xu,{alignItems:"center",color:"infoWeak",direction:"row",display:"flex",paddingX:4,paddingY:4,rounding:4,children:[(0,x.jsx)(i.xu,{marginEnd:4,children:(0,x.jsx)(i.JO,{accessibilityLabel:n._('Info icon on the login form info banner', 'mweb.unauth.loginForm.infoBanner.icon', 'Info icon on the login form info banner'),color:"info",icon:"info-circle",size:20})}),(0,x.jsx)(i.xv,{inline:!0,children:o})]})}),e}return n=[{key:"componentDidMount",value:function(){var e,o,n=this,t=this.props,r=t.navigate,a=t.location,i=t.showToast;if(a.state&&a.state.shouldShowAccountExistsToast&&(i(function(e){var o=e.hideToast;return(0,x.jsx)(T.Z,{onHide:o,text:n.props.i18n._('Looks like you already have a Pinterest account. Please log in.', 'Toast showing that a user already has a Pinterest account and can login normally', 'Toast showing that a user already has a Pinterest account and can login normally')})}),a.state)){var s=a.state;r("/login/",{replace:!0,state:(s.shouldShowAccountExistsToast,eC(s,eA))})}(0,H.mB)(a.search).message===C.R&&i(function(e){var o=e.hideToast;return(0,x.jsx)(T.Z,{duration:C.Jl,onHide:o,text:(0,F.Z)(n.props.i18n,a)})});var l=function(){(0,M.rY)(function(e){return n.setState({recaptchaV3Token:e})},function(){},M.xW)};if(l(),setInterval(l,M.yc),a.state&&a.state.keychainiOSAutologinError){var c=a.state.keychainiOSAutologinError,u=c.code,d=u===B.hU?{emailValidationError:c.message}:{passwordValidationError:c.message};this.setState(eL({apiErrorCode:u,hasKeychainErrorShown:!1},d))}null!=(e=a.state)&&null!=(o=e.userInfo)&&o.email&&this.checkIfUserIsSso({hasInitialEmail:!0})}},{key:"render",value:function(){var e=this,o=this.props,n=o.isLimitedLoginUser,r=o.location,a=o.loggedOutUserInfo,s=o.isAppFactoryOAuth,l=o.viewingUser,c=o.showPLPBanner,u=o.plpBannerPin,d=o.i18n,g=o.showKeychainError,f=o.attributionLabel,p=o.checkExperiment,h=o.emailLoginOnlyForRecoverAccount,m=o.onForgetPasswordForFacebookRecover,_=o.lookedupEmail,b=o.isLoadingFingerprintContext,v=r.state&&r.state.shouldShowLoginBelow||!1,y=this.state,w=y.apiErrorCode,P=y.email,k=y.emailValidationError,j=y.passwordValidationError,z=y.isLoading,O=y.isSsoFlow,T=y.isValid,L=y.optOutFromPersonalizedForm,C=y.password,F=y.shouldShowSignUpButton,I=y.hasKeychainErrorShown,U=y.showLoginRateLimitedModal,R=y.showLoginAssistanceGoogleModal,Z=y.showInfoBanner,M=y.infoBannerMessage,D=y.showQRAppErrorBanner,V=n?l:a;r.state&&r.state.userInfo&&(V=r.state.userInfo);var W=p("mweb_unauth_fb_login_account_recovery_flow").anyEnabled||p("mweb_unauth_remove_fb_autologin_and_manual_login_ucan").anyEnabled||p("mweb_unauth_fb_manual_login_dep_row").anyEnabled,G=p("mweb_unauth_deprecation_fb_banner_iteration").anyEnabled,N=w>0&&w===B.nf,Y=(0,x.jsxs)(t.Fragment,{children:[G&&!h&&(0,x.jsx)(i.xu,{marginTop:5,children:(0,x.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,x.jsx)(i.X6,{accessibilityLevel:1,overflow:"normal",size:"400",children:d._('Log in to Pinterest', 'loginForm.header.title', 'Main heading displayed at the top of the login page when Facebook deprecation banner is shown')})})}),(0,x.jsxs)(i.xu,{"data-test-id":"duplo-login-form",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:3,maxWidth:400,children:[!v&&!h&&this.renderLoginButtons(v),(0,x.jsx)(eu,{email:P||(null!=_?_:""),emailLoginOnlyForRecoverAccount:null!=h&&h,emailValidationError:k,handleChangeEmail:this.handleChangeEmail,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,isSIWAError:N,isSsoFlow:O,isValid:T,onForgetPasswordForFacebookRecover:m,onLoginClick:this.onLoginClick,onSignUpClick:this.onSignUpClick,onSubmit:this.handleLogin,password:C,passwordValidationError:j,shouldShowSignUpButton:F,validateEmailOnBlur:this.validateEmailOnBlur,validatePasswordOnBlur:this.validatePasswordOnBlur}),G&&!h&&(0,x.jsx)(E,{}),v&&!h&&this.renderLoginButtons(v)]}),!h&&(0,x.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[(0,x.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,x.jsx)(i.xu,{"data-test-id":"signup-link",marginEnd:1,children:(0,x.jsx)(i.xv,{children:d._('No Account?', 'Prompt for signing up', 'Prompt for signing up')})}),(0,x.jsx)(i.xv,{color:"default",weight:"bold",children:(0,x.jsx)(ey,{href:"/signup/step1/",onClick:this.handleNoAccountClick,state:{email:P,isAppFactoryOAuth:s,next:(0,H.mB)(r.search).next,attributionLabel:f},children:d._('Sign up', 'Prompt for signing up', 'Prompt for signing up')})})]}),!s&&(0,x.jsx)(ek.Z,{})]})]});return g?(0,x.jsxs)(t.Fragment,{children:[(0,x.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(230, 0, 35, 0.08)",transition:"transform 400ms ease-in-out",transform:I?"translateY(-120%)":"translateY(0%)"}},display:"flex",height:52,justifyContent:"center",children:[(0,x.jsx)(i.qb,{accessibilityLabel:d._('Workflow status problem accessibility label', 'mweb.unauth.keychain_autologin.login_page.error_message.icon', 'Accessibility label for error message icon'),type:"problem"}),(0,x.jsx)(i.xu,{marginStart:2,children:(0,x.jsx)(i.xv,{color:"default",children:d._('Oops! We couldn\'t log you in', 'mweb.unauth.keychain_autologin.login_page.error_message', 'Error message to let user know there was an issue logging them in')})})]}),(0,x.jsxs)(i.xu,{paddingX:4*!!c,children:[V&&!L?this.renderPersonalizedLogin(V):Y,(z||b)&&(0,x.jsx)(q.Z,{})]})]}):(0,x.jsxs)(t.Fragment,{children:[U&&(0,x.jsx)(ep.Z,{onDismiss:function(){return e.setState({showLoginRateLimitedModal:!1})}}),R&&(0,x.jsx)(ef,{onDismiss:function(){return e.setState({showLoginAssistanceGoogleModal:!1})}}),this.state.shouldHideFBButtonForSignup&&(0,x.jsx)(A.Z,{}),!h&&W&&!G&&(0,x.jsx)(S,{}),D&&(0,x.jsx)(eh.default,{}),Z&&M&&this.renderInfoBanner(),c&&u&&!this.state.shouldHideFBButtonForSignup&&(0,x.jsx)(ej.Z,{pin:u}),(0,x.jsxs)(i.xu,{paddingX:4*!!c,children:[V&&!L?this.renderPersonalizedLogin(V):Y,(z||b)&&(0,x.jsx)(q.Z,{})]})]})}}],r=[{key:"getDerivedStateFromProps",value:function(e,o){var n=e.isAuthenticated,t=e.isLimitedLoginUser,r=e.location,a=e.loggedOutUserInfo,i=e.viewingUser,s=e.navigate;return(0,H.mB)(r.search).show_qr_app_error?(s("/login/",{replace:!0}),{showQRAppErrorBanner:!0}):r.state&&r.state.userInfo?{email:r.state.userInfo.email}:n||!a||o.optOutFromPersonalizedForm?t&&i&&!o.optOutFromPersonalizedForm?{email:i.email}:null:{email:a.email}}}],n&&eF(s.prototype,n),r&&eF(s,r),Object.defineProperty(s,"prototype",{writable:!1}),s}(t.PureComponent);function eW(e){var o,n,t=(0,b.Z)(),i=(0,a.s0)(),l=(0,a.TH)(),u=(0,r.I0)(),d=(0,ew.f)(),g=(0,W.dI)().showToast,p=(0,r.v9)(function(e){return e.session}),h=p.isAuthenticated,m=p.loggedOutUserInfo,_=(0,ex.LO)(),v=(0,c.Z)(),y=(0,G.Z)(),P=(0,V.Z)().trackConversionUpsell,k=(0,f.B)(),j=(0,R.ZP)(),S=j.authenticateWithSso,A=j.verifySsoUser,E=(0,Z.Z)().checkExperiment,z=null!=(o=(0,s.f)())?o:{isLoadingFingerprintContext:!1},O=z.fingerprintData,T=z.setupFingerprintSdks,L=z.isLoadingFingerprintContext;return(0,w.Z)(function(){null==T||T()}),(0,x.jsx)(eV,eL(eL({},e),{},{attributionLabel:null==(n=l.state)?void 0:n.attributionLabel,authenticateWithSso:S,checkExperiment:E,dispatch:u,fingerprintData:O,i18n:t,isAuthenticated:h,isBeforeHydration:y,isLimitedLoginUser:(0,Y.xT)(_),isLoadingFingerprintContext:L,location:l,logContextEvent:v,loggedOutUserInfo:m,login:d,navigate:i,requestContext:k,showToast:g,trackConversionUpsell:P,verifySsoUser:A,viewingUser:_}))}}}]);