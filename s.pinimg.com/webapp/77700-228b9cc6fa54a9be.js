"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["77700"],{492774:function(e,n,t){t.r(n);var r,i,o,a,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_board",selections:[{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},r,a,i,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_coverPin"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_board"}],type:"Board",abstractKey:null};l.hash="160b60f499ce33660e2c11915eed4d09",n.default=l},786897:function(e,n,t){t.r(n);var r,i,o,a,l={argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"}],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:i=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a=[o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},o,{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null}]},{args:null,kind:"FragmentSpread",name:"BoardCard_board"},{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};l.hash="b51e16b22d651401bb711c808b3fd44c",n.default=l},140503:function(e,n,t){t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselEllipsis_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};r.hash="d9fe632f7481dc91f9007bbd592d44c2",n.default=r},338716:function(e,n,t){t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin"}],type:"Pin",abstractKey:null};r.hash="4b0c4a7a095db0d3cc7f22f3f6c85086",n.default=r},453217:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null}],type:"Pin",abstractKey:null};i.hash="cabaa35ed7d59dee006897bf3ef32e3d",n.default=i},335193:function(e,n,t){t.r(n);var r,i,o,a,l,s,u,c,d,p,f,g,m=(c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null},{fragment:{argumentDefinitions:r=[{defaultValue:!1,kind:"LocalArgument",name:"isCloseupRelatedModulesFeedQuery"}],kind:"Fragment",metadata:null,name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"BoardRep_board"}],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},o={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}],storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:u=[s={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:u,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},c,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[a,l,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},d,p,f,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[c,g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[d,f,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[g],storageKey:null},p,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:u,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:u,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:u,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},l,{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null}]}],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},o],storageKey:null}]},params:{id:"fbd249e38f99d331f81b5a011933f33b0875d20313358bbe012da8e096dbac01",metadata:{},name:"SearchLandingPageFeaturedBoardsQuery",operationKind:"query",text:null}});m.hash="b847fbfd19a7af0a12504f95d075bcbd",n.default=m},932334:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},r,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};i.hash="92b841173868ce353dd00b5fce287546",n.default=i},353491:function(e,n,t){t.r(n);var r,i,o,a,l,s={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"e23a4165dc6f285e042f7e6e8b3bcb629c5f425352dfa3c3e807dd864f3ca8f1",metadata:{},name:"useDynamicSearchPlaceholderDataQuery",operationKind:"query",text:null}};s.hash="5a3162913508a33c37676bde5973ea45",n.default=s},97812:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};i.hash="756d8d8edca35eac0a0500359bf60618",n.default=i},884164:function(e,n,t){t.r(n);var r,i,o,a,l,s=(i={alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},o={alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r,storageKey:'additionalImagesPerSpec(spec:"474x")'},a={alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r,storageKey:'additionalImagesPerSpec(spec:"564x")'},l={alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r,storageKey:'additionalImagesPerSpec(spec:"736x")'},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:r,storageKey:null}],storageKey:null},i,o,a,l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},i,o,a,l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null}],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null});s.hash="5fc3e90469998e436af7fa9ec7d4a329",n.default=s},139902:function(e,n,t){t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useLogSwipe_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};r.hash="dbfca9820e0aa1302554a0137a270b16",n.default=r},248932:function(e,n,t){t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};r.hash="461a57fcc8f7958e3742c217e4cc45a2",n.default=r},758677:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="a3cbf6d55cf89d97d6e04c32195968d9",n.default=i},916986:function(e,n,t){t.r(n);var r,i,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:i=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};o.hash="6588018e2880f2695fc6c4ba45aab606",n.default=o},81422:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};i.hash="b49953855cdc69f6ee2c8d4925149d23",n.default=i},271255:function(e,n,t){var r=t(20256),i=t(680811);n.Z=function(e){var n=e.text;return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:n})}},478300:function(e,n,t){function r(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function i(e){return o.apply(this,arguments)}function o(){var e;return e=regeneratorRuntime.mark(function e(n){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return t=e.sent,e.next=5,t.blob();case 5:return r=e.sent,e.abrupt("return",new File([r],"image.png"));case 7:case"end":return e.stop()}},e)}),(o=function(){var n=this,t=arguments;return new Promise(function(i,o){var a=e.apply(n,t);function l(e){r(a,i,o,l,s,"next",e)}function s(e){r(a,i,o,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}t.d(n,{Z:function(){return i}})},735815:function(e,n,t){function r(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function i(e,n){return o.apply(this,arguments)}function o(){var e;return e=regeneratorRuntime.mark(function e(n,t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){var r=new FileReader;r.onload=function(){var i=new Image;i.src=r.result,i.onload=function(){var r=i.height,o=i.width;o>474&&(r*=474/o,o=474),t({src:i.src,height:r,width:o});var a=document.createElement("canvas");a.width=o,a.height=r;var l=a.getContext("2d");null!==l&&l.drawImage(i,0,0,o,r),a.toBlob(function(t){e(new File([t],n.name,{type:"image/jpeg"}))},"image/jpeg",.9)}},r.readAsDataURL(n)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}),(o=function(){var n=this,t=arguments;return new Promise(function(i,o){var a=e.apply(n,t);function l(e){r(a,i,o,l,s,"next",e)}function s(e){r(a,i,o,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}t.d(n,{Z:function(){return i}})},433100:function(e,n,t){t.d(n,{f:function(){return E},l:function(){return A}});var r=t(387784),i=t(178226),o=t(735243),a=t(477738),l=t(148),s=t(252974),u=t(250182),c=t(655068),d=t(531624),p=t(515511),f=t(213491),g=t(360033),m=t(986475),y=t(640200),h=t(680811);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||b(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,n){if(e){if("string"==typeof e)return x(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(e,n):void 0}}function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=v(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==v(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var w=function(e,n,t){var r=null==n?void 0:n.find(function(e){var n,r=e.action;return(null==r||null==(n=r.filter)?void 0:n.product_filter_type)===t});if(r){var i=(0,m.Z)(y.Z,!0)(r),o=e.findIndex(function(e){var n,r=e.action;return(null==r||null==(n=r.filter)?void 0:n.productFilterType)===t});e[o]?e[o]=i:e.push(i)}},I=function(e,n,t,r){var i,o=r.find(function(n){var t,r=n.action;return"number"==typeof(null==r||null==(t=r.filter)?void 0:t.productFilterType)&&e.has(r.filter.productFilterType)});if(null!=o&&null!=(i=o.action)&&i.filter){var a=o.action.filter.filterOptions;o.action.filter.appliedFilterOptions="string"==typeof n?null==a?void 0:a.filter(function(e){return(null==e?void 0:e[t])&&n.split(",").includes(String(e[t]))}).map(function(e){return P(P({},e),{},{selected:!0})}):[]}},O=(0,f.Z)("OneBarProductFilters"),j=O.Provider,A=O.get;function E(e){var n,t=e.children,f=_((0,r.useState)([]),2),m=f[0],y=f[1],v=_((0,r.useState)(null),2),S=v[0],O=v[1],A=(n=(0,l.n)().scope,[a.lw.BOARDS,a.lw.PINS_BUYABLE,a.lw.PINS_VIDEO,a.lw.USERS].includes(n)),E=(0,d.Z)(),k=(0,u.Z)(),T=(0,i.Z)(),C=(0,o.Z)(),D=(0,c.Z)(),L=(0,r.useCallback)(function(e){var n=e.oneBarModules,t=e.baseCacheKey,r=null==n?void 0:n.filter(function(e){var n=e.module_type;return 17===n||0===n});if(r&&(null==r?void 0:r.length)!==0&&t){var i=t!==S,o=i?[]:m;(i||!A)&&w(o,r,4),(i||!E)&&w(o,r,1),(i||!k)&&w(o,r,0),(i||!T)&&w(o,r,3),(i||!C)&&w(o,r,6),(i||!D)&&[7,8,9].forEach(function(e){w(o,r,e)}),(0,g.ZP)(o,m)||(y(o),O(t))}},[m,T,C,A,k,D,E,S]),M=(0,s.Z)(),R=(0,l.n)(),F=R.priceMax,N=R.priceMin,B=R.scope,z=R.brands,Z=R.onSale,U=R.colors,K=R.domains;(0,r.useEffect)(function(){if(M&&0!==m.length){var e=(0,p.Z)(m);if(B!==a.lw.PINS){var n,t,r=(0,a.gi)(B),i=e.find(function(e){return 0===e.moduleType});null!=i&&null!=(t=i.action)&&t.filter&&(i.action.filter.appliedFilterOptions=((function(e){if(Array.isArray(e))return x(e)})(n=i.action.filter.filterOptions||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||b(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(Boolean).map(function(e){var n=e.searchType;return{searchType:n,selected:n===r}}))}if("string"==typeof F||"string"==typeof N){var o,l,s,u=e.find(function(e){var n,t=e.action;return(null==t||null==(n=t.filter)?void 0:n.productFilterType)===1});null!=u&&null!=(o=u.action)&&o.filter&&(u.action.filter.appliedFilterOptions=[null!=(l=u.action.filter.filterOptions)&&l[0]?P(P({},u.action.filter.filterOptions[0]),{},{numericValue:Number(N)}):null,null!=(s=u.action.filter.filterOptions)&&s[1]?P(P({},u.action.filter.filterOptions[1]),{},{numericValue:Number(F)}):null].filter(Boolean))}I(new Set([3]),z,"stringValue",e),I(new Set([6]),U,"stringValue",e),I(new Set([0]),K,"stringValue",e),I(new Set([7,8,9]),Z,"numericValue",e),(0,g.ZP)(e,m)||y(e)}},[m,M,F,N,B,z,U,K,Z]);var V=(0,r.useMemo)(function(){return{cachedProductFilterOneBarModules:m,cacheOneBarModules:L}},[m,L]);return(0,h.jsx)(j,{value:V,children:t})}},310878:function(e,n,t){t.d(n,{N$:function(){return W},wy:function(){return Y},VA:function(){return G}});var r,i=t(387784),o=t(115821),a=t(433100),l=t(675450),s=t(17832),u=t(856853);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach(function(n){f(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function f(e,n,t){var r;return(r=function(e,n){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==c(r)?r:r+"")in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return m(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var y=function(e,n,t){return t&&(0,s.nZ)(t,n)?l.v.MODIFIED:(0,s.B1)(n,e)||t&&(0,s.Uv)(t,e)||(0,s.Uv)(n,e)?l.v.CLEARED:l.v.APPLIED};function h(e,n){(0,s.ph)(n);var t,r,i=e.find(function(e){return(null==e?void 0:e.id)===n.id}),o=null==i?void 0:i.rules,a=(null==i||null==(t=i.filter_options)||null==(r=t.find(function(e){return"selectedOptionId"in n&&e.id===n.selectedOptionId}))?void 0:r.rules)||o;if(!a)return[e,[]];var l=[],u=[];return e.forEach(function(e){void 0!==e.product_filter_type&&a.includes(e.product_filter_type)?l.push(e):u.push(e)}),[l,u]}function v(e,n){switch(n.type){case"RESET_FILTERS":var t=g(n.payload,2),r=t[0],i=t[1],o=r,a=(0,u.Z)(i)?(0,s.iP)(r):i;return Object.values(a).forEach(function(e){o=g(h(o,e),1)[0]}),{models:r,availableFilterModels:o,appliedFilters:i,filters:a,isFetching:!1,pendingDeletedSelections:{},status:y(r,i,a)};case"CLEAR_FILTERS":var c=e.models,d=(0,s.P5)(e.models);return Object.values(d).forEach(function(e){c=g(h(c,e),1)[0]}),p(p({},e),{},{filters:d,availableFilterModels:c,pendingDeletedSelections:{},status:y(e.models,e.appliedFilters,d)});case"UPDATE_FILTER":var m=n.payload,v=g(h(e.models,m),2),_=v[0],b=v[1],x=p(p({},e.filters),{},f({},m.id,m)),S=p({},e.pendingDeletedSelections);return _.forEach(function(e){if(e.id){var n=S[e.id];n&&(x[e.id]=n,delete S[e.id])}}),b.forEach(function(e){if(e.id){var n=x[e.id];n&&(S[e.id]=n,delete x[e.id])}}),(0,s.ph)(m,e.models.find(function(e){return e.id===m.id}))&&delete x[m.id],p(p({},e),{},{availableFilterModels:_,filters:x,pendingDeletedSelections:S,status:y(e.models,e.appliedFilters,x)});case"SUBMIT_FILTER":return p(p({},e),{},{pendingDeletedSelections:{},status:l.v.SUBMITTED});case"SUBMIT_FAILED":return p(p({},e),{},{status:l.v.FAILED});case"SUBMIT_COMPLETE":var P=e.filters;return p(p({},e),{},{appliedFilters:P,pendingDeletedSelections:{},status:y(e.models,P)});case"LOADING":return p(p({},e),{},{isFetching:!0});case"LOADING_COMPLETED_OR_FAILED":return p(p({},e),{},{isFetching:!1});default:return e}}var _=t(178226),b=t(735243),x=t(250182),S=t(655068),P=t(531624),w=t(360033);function I(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||O(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,n){if(e){if("string"==typeof e)return j(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j(e,n):void 0}}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var A=new Set([1,0,3,6,7,8,9]),E=function(e,n,t){var r=null==n?void 0:n.find(function(e){return e.product_filter_type===t});if(r){var i=e.findIndex(function(e){return e.product_filter_type===t});e[i]?e[i]=r:e.push(r)}},k=function(e,n,t){var r=null==n?void 0:n.find(function(e){return e.product_filter_type===t});if(!r)return e;var i=e.findIndex(function(e){return e.product_filter_type===t});return e[i]?e[i]=r:e.push(r),e},T=t(252974),C=t(213491),D=t(661376),L=t(148),M=t(657476),R=t(680811);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||z(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,n){if(e){if("string"==typeof e)return Z(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Z(e,n):void 0}}function Z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var U=function(){},K=(0,C.Z)("UnifiedFiltersContext"),V=K.Provider,G=K.getMaybe,H=function(e){var n,t,r,o,a,u,c,d,p,f,g,m,y=e.applyInitFilters,h=e.children,C=e.filterModels,D=e.filters,M=e.isFetching,F=e.refreshFiltersData,z=(0,L.n)().query,Z=(0,T.Z)(),U=(t=(n=I((0,i.useState)([]),2))[0],r=n[1],a=(o=I((0,i.useState)(null),2))[0],u=o[1],c=(0,P.Z)(),d=(0,x.Z)(),p=(0,_.Z)(),f=(0,b.Z)(),g=(0,S.Z)(),m=(0,i.useCallback)(function(e){var n=e.unifiedFilterModels,i=e.baseCacheKey,o=null==n?void 0:n.filter(function(e){var n=e.product_filter_type;return void 0!==n&&A.has(n)});if(o&&(null==o?void 0:o.length)!==0&&i){var l=i!==a,s=l?[]:t;(l||!c)&&E(s,o,1),(l||!d)&&E(s,o,0),(l||!p)&&E(s,o,3),(l||!f)&&E(s,o,6),(l||!g)&&[7,8,9].forEach(function(e){E(s,o,e)}),(0,w.ZP)(s,t)||(r(s),u(i))}},[t,p,f,d,g,c,a]),{getCachedFilters:(0,i.useCallback)(function(e){if(!e||(null==e?void 0:e.length)===0)return[];var n=function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return c&&(n=k(n,t,1)),d&&(n=k(n,t,0)),p&&(n=k(n,t,3)),f&&(n=k(n,t,6)),g&&[7,8,9].forEach(function(e){n=k(n,t,e)}),n},[t,p,f,d,g,c]),cacheUnifiedFilterModelsWithProductFilters:m}),K=U.getCachedFilters,G=U.cacheUnifiedFilterModelsWithProductFilters,H=(null==y?void 0:y(C))||D||{},W=B((0,i.useReducer)(v,{models:C,availableFilterModels:C,appliedFilters:H,filters:H,pendingDeletedSelections:{},isFetching:M,status:(0,s.B1)(H,C)||(0,s.Uv)(H,C)?l.v.CLEARED:l.v.APPLIED}),2),q=W[0],Y=W[1],X=B((0,i.useState)(C),2),$=X[0],Q=X[1];(0,i.useEffect)(function(){M&&Y({type:"LOADING"})},[M]),(0,i.useEffect)(function(){if(!M&&(!q.isFetching||0!==C.length)){if(!(0,s.a$)($,C))return void Y({type:"LOADING_COMPLETED_OR_FAILED"});var e=C;Z||(e=K(N(C)),G({unifiedFilterModels:N(C),baseCacheKey:z})),Y({type:"RESET_FILTERS",payload:[e,(null==y?void 0:y(e))||{}]}),Q(C)}},[y,C,$,M,q.isFetching,K,G,z,Z]);var J=(0,i.useMemo)(function(){return{filterState:q,dispatch:Y,refreshFiltersData:F}},[q,F]);return(0,R.jsx)(V,{value:J,children:h})},W=function(e){var n=e.bookmark,t=void 0===n?"":n,r=e.children,i=e.generateInitFilterCb,o=(0,T.Z)(),l=(0,D.Z)(!o&&t?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:t}}}:null),u=l.data,c=l.refresh,d=l.isLoaded,p=(0,a.l)().cachedProductFilterOneBarModules.map(s.tx).filter(Boolean);return(0,R.jsx)(H,{applyInitFilters:i,filterModels:(o?p:void 0===u?null:u)||[],isFetching:o?0===p.length:!d||!t,refreshFiltersData:c,children:r})},q=(void 0!==r||(r=t(932334)).hash&&"92b841173868ce353dd00b5fce287546"!==r.hash&&console.error("The definition of 'UnifiedFiltersContext_oneBarModules' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),Y=function(e){var n,t,r,a,s,u,c,d=e.children,p=e.oneBarModulesKey,f=(0,M.Z)(),g=f.data,m=f.isFetching,y=f.isLoaded,h=(g||{}).oneBarModules,v=(0,o.useFragment)(q,p),_=(0,i.useMemo)(function(){return{dispatch:function(){},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:m,pendingDeletedSelections:{},status:l.v.CLEARED},refreshFiltersData:U}},[m]),b=null==(s=v?[v]:null==h?void 0:h.map(function(e){var n,t;return e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(function(e){var n,t,r,i;return{isSelected:null!=(n=e.is_selected)?n:null,id:null!=(t=e.id)?t:null,display:e.display?{displayText:null!=(r=e.display.display_text)?r:null}:null,action:e.action?{feedUrl:null!=(i=e.action.feed_url)?i:null}:null}}):null}:null,id:null!=(n=e.id)?n:null,moduleType:null!=(t=e.module_type)?t:null}}))?void 0:s.find(function(e){return 0===e.moduleType}),x=null==b||null==(u=b.action)?void 0:u.filters;if(!b||!x)return(0,R.jsx)(V,{value:_,children:d});var S=b.id||"",P=(t={},r=S,a={id:S,selectedOptionId:(null==(c=x.find(function(e,n){return(null==e?void 0:e.isSelected)&&0!==n}))?void 0:c.id)||"",type:"single",lastChangedLocation:1},(n=function(e,n){if("object"!=F(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=F(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(r,"string"),(r="symbol"==F(n)?n:n+"")in t)?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t);return(0,R.jsx)(H,{filterModels:[{filter_component_type:2,filter_options:x.map(function(e,n){var t,r;return{label:(null==e||null==(t=e.display)?void 0:t.displayText)||"",id:(null==e?void 0:e.id)||"",string_value:(null==e||null==(r=e.action)?void 0:r.feedUrl)||"",is_selected:"boolean"==typeof(null==e?void 0:e.isSelected)?e.isSelected:0===n}}),id:S,title:"",product_filter_type:4}],filters:P,isFetching:!y,refreshFiltersData:U,children:d})}},675450:function(e,n,t){t.d(n,{$:function(){return r},v:function(){return i}});var r=50,i={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},190665:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(433100),i=t(310878),o=t(17832),a=t(986475),l=t(537701),s=t(629724),u=t(148);function c(){var e=(0,u.n)(),n=e.brands,t=e.colors,c=e.domains,d=e.onSale,p=e.priceMax,f=e.priceMin,g=(0,i.VA)(),m=(0,r.l)().cachedProductFilterOneBarModules,y=Number((0,s.Z)().filter_location);if(1===y){var h=(g||{}).filterState;return h?(0,o.Ax)(h.appliedFilters,h.models):null}if(0===y){var v=(0,a.Z)(l.Z,!0)(m.map(function(e){var n;return null==(n=e.action)?void 0:n.filter}).filter(Boolean));return(0,o.vJ)({brandsParam:n,colorsParam:t,domainsParam:c,onSaleParam:d,priceMaxParam:p,priceMinParam:f,unifiedFilterModels:v})}return null}},178226:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(653551),i=t(575820);function o(){return!!(0,i.mB)((0,r.TH)().search).brands}},735243:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(653551),i=t(501010),o=t(575820);function a(){var e=(0,i.Z)().checkExperiment,n=(0,r.TH)();return!!(0,o.mB)(n.search).colors&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(501010);function i(){return(0,(0,r.Z)().checkExperiment)("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(653551),i=t(575820);function o(){return!!(0,i.mB)((0,r.TH)().search).domains}},655068:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(653551),i=t(575820);function o(){var e=(0,r.TH)();return!!(0,i.mB)(e.search).on_sale}},531624:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(653551),i=t(575820);function o(){var e=(0,r.TH)(),n=(0,i.mB)(e.search),t=n.price_max,o=n.price_min;return!!(null!=o?o:t)}},17832:function(e,n,t){t.d(n,{Ak:function(){return D},Ax:function(){return E},B1:function(){return x},LG:function(){return C},P5:function(){return w},UP:function(){return L},Uv:function(){return S},a$:function(){return _},eF:function(){return M},i7:function(){return O},iP:function(){return P},nZ:function(){return v},ph:function(){return b},rc:function(){return A},tx:function(){return T},vJ:function(){return j}});var r=t(675450),i=t(360033),o=t(477738);function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||u(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=u(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw o}}}}function u(e,n){if(e){if("string"==typeof e)return c(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach(function(n){f(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function f(e,n,t){var r;return(r=function(e,n){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==g(r)?r:r+"")in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e){return e.map(function(e){var n=e.filter_component_type,t=e.filter_options,r=e.title;return{filter_component_type:n,filter_options:null==t?void 0:t.map(function(e){return{id:e.id,label:e.label,count:e.count,image_url:e.image_url,is_verified:e.is_verified,numeric_value:e.numeric_value,string_value:e.string_value,unit:e.unit}}),title:r}})},y=function(e,n){if(!e&&!n)return!1;if(!e||!n)return!0;if("single"===e.type&&"single"===n.type)return e.selectedOptionId!==n.selectedOptionId;if("multi"===e.type&&"multi"===n.type)return!(0,i.ZP)(e.selectedOptionIds,n.selectedOptionIds);if("range"===e.type&&"range"===n.type)return e.min!==n.min||e.max!==n.max;throw Error("Filter type specific return must be specified")},h=function(e){return!e||!Object.keys(e).length},v=function(e,n){if(h(e)&&h(n))return!1;if(h(e)||h(n)||e&&n&&Object.entries(e).length!==Object.entries(n).length)return!0;for(var t in e)if(y(e[t],null==n?void 0:n[t]))return!0;return!1},_=function(e,n){return!(0,i.ZP)(m(e),m(n))},b=function(e,n){if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type){var t,r;return!!(null!=n&&n.filter_options)&&e.min===(null==(t=n.filter_options[0])?void 0:t.numeric_value)&&e.max===(null==(r=n.filter_options[2])?void 0:r.numeric_value)}throw Error("Filter type specific return must be specified")},x=function(e,n){try{for(var t in e){var r=function(t){var r=e[t],i=n.find(function(e){return e.id===(null==r?void 0:r.id)});if(r&&!b(r,i))return{v:!1}}(t);if("object"===g(r))return r.v}return!0}catch(e){return!0}},S=function(e,n){if(!n||0===n.length)return!1;var t,r=n[0];if(!r)return!1;switch(null==r?void 0:r.filter_component_type){case 2:var i=null==(t=r.filter_options)?void 0:t[0];for(var o in e){var a=e[o];if(!a)break;if("selectedOptionId"in a&&a.selectedOptionId===(null==i?void 0:i.id))return!0}return!1;case 1:for(var l in e){var s=e[l];if(!s)break;if(s.id===r.id&&"selectedOptionIds"in s&&0===s.selectedOptionIds.size)return!0}return!1;default:return!1}},P=function(e){return e.map(function(e){var n,t,r;switch(e.filter_component_type){case 2:var i=null==(n=e.filter_options)||null==(t=n.find(function(e){return e.is_selected}))?void 0:t.id;return i?{selectedOptionId:i,id:e.id,type:"single"}:null;case 1:var o=null==(r=e.filter_options)?void 0:r.filter(function(e){return e.is_selected}).map(function(e){return e.id});return o&&o.length>0?{selectedOptionIds:new Set(o),id:e.id,type:"multi"}:null;default:return null}}).reduce(function(e,n){return n?p(p({},e),{},f({},n.id,n)):e},{})},w=function(e){if(!e||0===e.length)return{};var n,t,r=e[0];switch(null==r?void 0:r.filter_component_type){case 2:var i=null==(n=r.filter_options)||null==(t=n[0])?void 0:t.id;return i&&"string"==typeof r.id?f({},r.id,{selectedOptionId:i,lastChangedLocation:1,id:r.id,type:"single"}):{};case 1:return"string"==typeof r.id?f({},r.id,{selectedOptionIds:new Set,lastChangedLocation:1,id:r.id,type:"multi"}):{};default:return{}}},I=function(e){return e.map(function(e){var n=e.filter_id,t=e.filter_options,r=e.product_filter_type,i=n;return"number"==typeof r&&(i+="_".concat(r)),t.length>0&&(i+=":",t.forEach(function(e,n){var r=e.filter_option_id,o=e.numeric_value,a=e.string_value,l=e.unit;i+="".concat(r),"number"==typeof o&&(i+="_".concat(o)),"string"==typeof a&&(i+="_".concat(a)),"string"==typeof l&&(i+="_".concat(l)),n<t.length-1&&(i+=",")})),i}).join("|")},O=function(e){var n,t=e.brands,r=e.colors,i=e.domains,a=e.onSale,u=e.priceMax,c=e.priceMin,d=e.scope,p=e.unifiedFilterModels,f={},g=s(p);try{for(g.s();!(n=g.n()).done;)!function(){var e=n.value,s=e.filter_options,p=e.id,g=e.product_filter_type;if(p&&null!=s&&s.length){if(1===g&&("number"==typeof c||"number"==typeof u)){var m,y,h,v,_=l(s,4),b=_[0],x=_[1],S=_[2],P=_[3],w=null!=(m=null!=(y=null!=c?c:null==S?void 0:S.numeric_value)?y:null==b?void 0:b.numeric_value)?m:0,I=null!=(h=null!=(v=null!=u?u:null==P?void 0:P.numeric_value)?v:null==x?void 0:x.numeric_value)?h:100;f[p]={min:w,max:I,id:p,type:"range",lastChangedLocation:1}}if(0===g&&i&&i.length>0){var O=i.map(function(e){var n=s.find(function(n){return n.string_value===e});return n?n.id:null}).filter(Boolean);O.length>0&&(f[p]={id:p,lastChangedLocation:1,selectedOptionIds:new Set(O),type:"multi"})}if(3===g&&t&&t.length>0){var j=t.map(function(e){var n=s.find(function(n){return n.string_value===e});return n?n.id:null}).filter(Boolean);j.length>0&&(f[p]={id:p,lastChangedLocation:1,selectedOptionIds:new Set(j),type:"multi"})}if(6===g&&r&&r.length>0){var A=r.map(function(e){var n=s.find(function(n){return n.string_value===e});return n?n.id:null}).filter(Boolean);A.length>0&&(f[p]={id:p,lastChangedLocation:1,selectedOptionIds:new Set(A),type:"multi"})}if(4===g&&d){var E=(0,o.gi)(d),k=s.find(function(e){return e.search_type===E});null!=k&&k.id&&(f[p]={id:p,lastChangedLocation:1,selectedOptionId:k.id,type:"single"})}if("number"==typeof g&&new Set([7,8,9]).has(g)&&a){var T,C=null==(T=s[0])?void 0:T.id;C&&(f[p]={id:p,lastChangedLocation:1,selectedOptionId:C,type:"single"})}}}()}catch(e){g.e(e)}finally{g.f()}return f},j=function(e){var n,t,r,i,o=e.brandsParam,a=e.colorsParam,l=e.domainsParam,u=e.onSaleParam,c=e.priceMaxParam,d=e.priceMinParam,p=e.unifiedFilterModels,f=[],g=Number(d),m=Number(c),y=Number.isNaN(g)?void 0:g,h=Number.isNaN(m)?void 0:m,v=null!=(n=null==l?void 0:l.split(",").filter(Boolean))?n:[],_=null!=(t=null==o?void 0:o.split(",").filter(Boolean))?t:[],b=null!=(r=null==a?void 0:a.split(",").filter(Boolean))?r:[],x=s(p);try{for(x.s();!(i=x.n()).done;)!function(){var e=i.value,n=e.filter_options,t=e.id,r=e.product_filter_type;if(t&&null!=n&&n.length){if(1===r&&"number"==typeof y&&"number"==typeof h){var o={filter_id:t,filter_options:n.slice(0,2).filter(function(e){return void 0!==e.id}).map(function(e,n){return{filter_option_id:e.id,numeric_value:0===n?y:h,unit:e.unit||"USD"}}),location:0,product_filter_type:r};f.push(o)}if(0===r&&v&&v.length>0){var a=v.map(function(e){var t=n.find(function(n){return n.string_value===e});return t?t.id:null}).filter(Boolean);if(a.length>0){var l={filter_id:t,filter_options:a.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};f.push(l)}}if(3===r&&_&&_.length>0){var s=_.map(function(e){var t=n.find(function(n){return n.string_value===e});return t?t.id:null}).filter(Boolean);if(s.length>0){var c={filter_id:t,filter_options:s.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};f.push(c)}}if(6===r&&b&&b.length>0){var d=b.map(function(e){var t=n.find(function(n){var t;return(null==(t=n.string_value)?void 0:t.toLowerCase())===e.toLowerCase()});return t?t.id:null}).filter(Boolean);if(d.length>0){var p={filter_id:t,filter_options:d.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};f.push(p)}}if(7===r&&u){var g,m=null==(g=n[0])?void 0:g.id;if(m){var x={filter_id:t,filter_options:[{filter_option_id:m,numeric_value:Number(u)}],location:0,product_filter_type:r};f.push(x)}}}}()}catch(e){x.e(e)}finally{x.f()}return 0===f.length?null:I(f)},A=function(e){var n,t=e.filterMap,r=e.isInWebHundredPercentProductLoadExp,i=e.models,a=null,l=null,s=!1,u=null,c=null,d=null,p=null,f=null;for(var g in t)!function(e){var n=t[e];if(n){var g=i.find(function(e){return e.id===n.id});if(g)if("range"===n.type&&1===g.product_filter_type)d=n.min,c=n.max;else if("multi"===n.type&&0===g.product_filter_type){var m,y,h,v=null==(h=g.filter_options)?void 0:h.filter(function(e){return n.selectedOptionIds.has(e.id||"")});u=null==v?void 0:v.map(function(e){return e.string_value}).filter(Boolean)}else if("multi"===n.type&&3===g.product_filter_type){var _,b=null==(_=g.filter_options)?void 0:_.filter(function(e){return n.selectedOptionIds.has(e.id||"")});a=null==b?void 0:b.map(function(e){return e.string_value}).filter(Boolean)}else if("multi"===n.type&&6===g.product_filter_type){var x,S=null==(x=g.filter_options)?void 0:x.filter(function(e){return n.selectedOptionIds.has(e.id||"")});l=null==S?void 0:S.map(function(e){return e.string_value}).filter(Boolean)}else if("single"===n.type&&4===g.product_filter_type){var P,w=null==(P=g.filter_options)?void 0:P.find(function(e){return n.selectedOptionId===e.id}),I=w&&void 0!==w.search_type?(0,o.zh)(w.search_type):o.lw.PINS;f=I,r&&(f=I===o.lw.PINS_BUYABLE?o.lw.PINS:I,s=I===o.lw.PINS_BUYABLE)}else"single"===n.type&&7===g.product_filter_type&&(p=null==(m=g.filter_options)||null==(y=m[0])?void 0:y.numeric_value)}}(g);var m=i.find(function(e){return 4===e.product_filter_type}),y=null==m||null==(n=m.filter_options)?void 0:n.find(function(e){return e.is_selected});return null===f&&"number"==typeof(null==y?void 0:y.search_type)&&(f=(0,o.zh)(y.search_type)),{brands:a,colors:l,commerce_only:s,domains:u,max:c,min:d,on_sale:p,scope:f}},E=function(e,n){var t=[];return(Object.entries(e).forEach(function(e){var r=l(e,2),i=r[0],o=r[1],a=n.find(function(e){return e.id===o.id});if(a&&4!==a.product_filter_type&&"number"==typeof a.product_filter_type&&a.filter_options){var s=[];if("range"===o.type){var u=l(a.filter_options,2),c=u[0],d=u[1];if(!(null!=c&&c.id)||!(null!=d&&d.id))return;s=[{filter_option_id:c.id,numeric_value:o.min,unit:c.unit},{filter_option_id:d.id,numeric_value:o.max,unit:d.unit}]}if("single"===o.type){var p=a.filter_options.find(function(e){return e.id===o.selectedOptionId});if(!(null!=p&&p.id))return;s=[{filter_option_id:p.id,numeric_value:p.numeric_value,string_value:p.string_value}]}if("multi"===o.type){var f=a.filter_options.filter(function(e){return e.id&&o.selectedOptionIds.has(e.id)});if(0===f.length)return;s=f.filter(function(e){return void 0!==e.id}).map(function(e){return{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}})}t.push({filter_id:i,filter_options:s,location:o.lastChangedLocation,product_filter_type:a.product_filter_type})}}),t&&0!==t.length)?I(t):null},k=function(e){var n=e.map(function(e){if(!e)return null;var n=e.auxData,t=e.id,r=e.imageUrl,i=e.isVerified,o=e.label,l=e.numericValue,s=e.searchType,u=e.stringValue,c=e.unit,d=e.rules;return null===r||null===r||null===l||null===i||null===u||null===c?null:p(p(p({id:t||"",label:o||"",count:0,image_url:r,is_verified:i,numeric_value:l},d?{rules:a(d)}:{}),"number"==typeof s?{search_type:s}:{}),{},{string_value:u,unit:c},"string"==typeof(null==n?void 0:n.moduleId)?{aux_data:{module_id:n.moduleId}}:{})}).filter(Boolean);return n.length>0?n:null},T=function(e){var n=e.action||{},t=n.filter,r=n.title,i=(t||{}).title,o=r||i;if(!t||!o)return null;var l=t.filterComponentType,s=t.productFilterType,u=t.id,c=(t.filterOptions||[]).filter(Boolean);if(void 0===l||void 0===c||0===c.length||null==s||null==u)return null;var d=k(c);return d?{filter_component_type:l,filter_options:a(d),id:u||"",product_filter_type:s,title:o}:null};function C(e,n,t){var i,o,a,s=l(t,4),u=s[0],c=s[1],d=s[2],p=s[3],f=(null!=(i=null!=p?p:u)?i:{}).numeric_value,g=void 0===f?0:f,m=(null!=(o=null!=d?d:c)?o:{}).numeric_value,y=void 0===m?g+r.$:m,h=(null!=u?u:{}).unit,v=(null==(a=e.filters[n])?void 0:a.type)==="range"?e.filters[n]:{min:g,max:y,id:n,type:"range",lastChangedLocation:1};return{defaultMax:y,defaultMin:g,unit:void 0===h?"USD":h,range:v}}function D(e){return"multi"!==e.type?e:p(p({},e),{},{selectedOptionIds:new Set})}function L(e,n){var t=[];return Object.entries(n).forEach(function(n){var r=l(n,2),i=r[0],o=r[1],s=e.find(function(e){return(null==e?void 0:e.id)===i});if(s){var u,c=null==(u=s.aux_data)?void 0:u.module_id;c&&t.push(c);var d=("multi"===o.type?Array.from(o.selectedOptionIds):"single"===o.type?[o.selectedOptionId]:[]).map(function(e){var n,t,r=null==(n=s.filter_options)?void 0:n.find(function(n){return n.id===e});return(null==r||null==(t=r.aux_data)?void 0:t.module_id)||""}).filter(Boolean);t.push.apply(t,a(d))}}),t}function M(e,n){var t=[];return Object.keys(n).forEach(function(n){var r=e.find(function(e){return(null==e?void 0:e.id)===n});if(r){var i=r.product_filter_type;i&&t.push(i)}}),t}},821511:function(e,n,t){t.d(n,{B:function(){return s},Z:function(){return u}});var r=t(387784),i=t(20256),o=t(24246),a=t(38181),l=t(680811),s="media-viewer-full";function u(e){var n=e.children,t=e.onOutsideClick,u=e.onKeyboardExit,c=(0,o.Z)();return(0,r.useEffect)(function(){var e=function(e){"Escape"===e.key&&u()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[u]),(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(i.xu,{alignItems:"center","aria-label":c._('Media Viewer', 'closeup.mediaViewer.label', 'Label of Media Viewer modal'),"aria-modal":"true","data-test-id":s,display:"flex",height:"100vh",justifyContent:"center",left:!0,position:"fixed",role:"dialog",top:!0,width:"100vw",zIndex:a.k,children:[n,(0,l.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&t()},role:"presentation",style:{backgroundColor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(4px)",position:"absolute",bottom:0,left:0,right:0,top:0,marginBottom:"-1px"}})]})})}},788730:function(e,n,t){t.d(n,{BI:function(){return M},BO:function(){return S},DO:function(){return j},Gd:function(){return h},J:function(){return b},LV:function(){return _},MB:function(){return L},Re:function(){return P},Xw:function(){return g},_B:function(){return f},aW:function(){return m},ff:function(){return p},ho:function(){return k},ko:function(){return D},le:function(){return y},ne:function(){return O},pl:function(){return w},ql:function(){return x},rt:function(){return I},tV:function(){return E},tc:function(){return T},te:function(){return d},tm:function(){return A},yc:function(){return C},zw:function(){return v}});var r=t(20256),i=t(821511),o=t(440077),a=t(986523),l=t(113759);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==s(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var d={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},p=function(e){return"".concat(e.substring(0,33)).concat(e.length>33?"...":"")},f=375,g=4,m=new Set(["related_modules_header","related_products_feed_header"]),y=function(e){var n=e.verticalNavWidth;return{BREAKPOINT:1056+n,BACKBUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+n,SM_BREAKPOINT:680+n,EXP_SM_BREAKPOINT:814+n}},h=16,v=64,_=290,b=100,x=480,S=new r.Ry(5);function P(){var e,n,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(0,l.x4)(),s=o.peekCloseupEnabled,u=o.viewportSize,d=(0,a.Z)();if(!s)return{maxWidth:void 0,maxHeight:void 0,fiftyPercentWidth:void 0,fiftyPercentHeight:void 0};var p={sm:96,md:96,lg:244}[u],f={sm:v,md:v,lg:v}[u],g="100vw - ".concat(2*p,"px - ").concat(r,"px"),m="100vh - ".concat(80,"px - ").concat(f,"px - ").concat(i,"px"),y={maxWidth:"calc(".concat(g,")"),maxHeight:"calc(".concat(m,")"),fiftyPercentWidth:"sm"===u?"calc(".concat(g,")"):"calc((".concat(g,")/2)"),fiftyPercentHeight:"calc((".concat(m,")/2)")};if(d)return y;var h=(null==(e=window)?void 0:e.innerWidth)-2*p-r,_=(null==(n=window)?void 0:n.innerHeight)-80-f-i;return c(c({},y),{},{numericValues:{maxWidth:h,maxHeight:(null==(t=window)?void 0:t.innerHeight)-80-f-i,fiftyPercentWidth:"sm"===u?h:h/2,fiftyPercentHeight:_/2}})}function w(e){var n=e.objectFit,t=e.variant,r=(0,l.x4)(),o=r.peekCloseupEnabled,a=r.viewportSize,s=P(),u=s.maxHeight,c=s.maxWidth,d=s.fiftyPercentHeight,p=s.fiftyPercentWidth;if("media-viewer"===t)return{};var f="video:not([data-test-id=".concat(i.B,"] video)");return{styleOverrides:o?"\n      ".concat(f," {\n        max-height: ").concat("sm"===a?d:u,";\n        max-width: ").concat(p,";\n      }\n    "):"",objectFit:o?"contain":n,maxHeight:u,maxWidth:c,fiftyPercentHeight:d}}function I(e){var n=e.peekCloseupEnabled,t=e.viewportSize,r=e.surface;return!!n&&"lg"===t&&"ShoppingGridSmallCarousel"===r}var O={columnSpan:{sm:2,md:2,_lg1:3,lg:3,xl:5},type:"closeup_module",virtualize:!1},j={md:4,lg:4,lg1:4,xl:5},A={columnSpan:{sm:2,md:4,lg1:4,lg:5,xl:6},type:"closeup_module",virtualize:!1},E={columnSpan:{sm:2,md:2,_lg1:2,lg:2,xl:4},type:"shopping_module",virtualize:!1},k=1,T="".concat(k,"px solid ").concat(o.zsO),C="#FFFFFF",D={boxShadow:"unset",borderRadius:16},L={columnSpan:{sm:2,md:2,_lg1:2,lg:2,xl:2},type:"inclusive_filters_module",virtualize:!1},M={closeupWrapperStyle:{cursor:"zoom-out",display:"flex",width:"100%"},storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}}},860536:function(e,n,t){t.d(n,{Z:function(){return o},t:function(){return i}});var r=t(405897),i=[r.i.GUIDED_SEARCH_LANDING,r.i.GUIDED_SEARCH_ENTRY],o=296},667980:function(e,n,t){t.d(n,{N:function(){return a},Z:function(){return o}});var r=t(20256),i=t(680811);function o(e){var n=e.children,t=e.fullWidth,o=e.overrideDataTestId;return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":o||"pointer-events-wrapper",children:n})}function a(e){var n=e.children;return e.enabled?(0,i.jsx)(o,{children:n}):n}},115366:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(20256),i=t(680811),o={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},a=function(e,n,t){switch(t){case"MOBILE":r={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":r={0:{transform:n?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:n?"rotate(1deg)":"rotate(0deg)",top:n?"6px":"10px",left:"26px"},2:{transform:n?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":r={0:{transform:n?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:n?"rotate(1deg)":"rotate(0deg)",top:n?"36px":"40px",left:"68px"},2:{transform:n?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:r={0:{transform:n?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:n?"rotate(1deg)":"rotate(0deg)",top:n?"10px":"14px",left:"82px"},2:{transform:n?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}var r,i=r[e];return i.border="1px solid #FFFFFF",i.transition="all 150ms ease-out",i};function l(e){var n,t=e.fanOut,l=e.card,s=e.index,u=e.size,c=e.rounding,d=o[u],p=l.height,f=void 0===p?d.HEIGHT_PX:p,g=l.url,m=l.width,y=void 0===m?d.WIDTH_PX:m,h=l.colorRGB,v=l.opacity;return g?n=(0,i.jsx)(r.Ee,{alt:g,fit:"cover",naturalHeight:f,naturalWidth:y,src:g}):h&&v&&(n=(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(".concat(h.join(", "),", ").concat(v,")")}},height:d.HEIGHT_PX,width:d.WIDTH_PX})),(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:a(s,t,u)},position:"absolute",rounding:null!=c?c:5,children:(0,i.jsx)(r.zd,{height:d.HEIGHT_PX,rounding:5,wash:!0,width:d.WIDTH_PX,children:n})})}},568736:function(e,n,t){function r(e){return[0,24,21,26].includes(e)}function i(e){var n=e.articleType,t=e.id,r=e.title.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===n?"/today/shop/".concat(r,"/").concat(t,"/"):"/discover/article/".concat(r,"/").concat(t,"/")}t.d(n,{x:function(){return i},y:function(){return r}})},352015:function(e,n,t){t.d(n,{P:function(){return O},Z:function(){return I}}),t(115821);var r,i,o,a,l=t(183e3),s=(void 0!==r||(r=t(758677)).hash&&"a3cbf6d55cf89d97d6e04c32195968d9"!==r.hash&&console.error("The definition of 'usePinDefaultCarouselData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach(function(n){p(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function p(e,n,t){var r;return(r=function(e,n){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==u(r)?r:r+"")in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return g(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var m=(void 0!==i||(i=t(81422)).hash&&"b49953855cdc69f6ee2c8d4925149d23"!==i.hash&&console.error("The definition of 'useRichPinProductMetadataCarouselSlots_richPinProductMetadata' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),y=t(707855),h=t(767415);function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var _=(void 0!==o||(o=t(916986)).hash&&"6588018e2880f2695fc6c4ba45aab606"!==o.hash&&console.error("The definition of 'usePinProductCarouselData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),b=!1;function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=x(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==x(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var w=(void 0!==a||(a=t(248932)).hash&&"461a57fcc8f7958e3742c217e4cc45a2"!==a.hash&&console.error("The definition of 'usePinCarouselData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function I(e){var n,t,r,i=(0,l.Z)(w,e),o=null!=(r=(0,l.Z)(s,i))&&r.carouselData?{index:r.carouselData.index,carouselId:r.carouselData.entityId,carouselSlots:null!=(n=null==(t=r.carouselData.carouselSlots)?void 0:t.map(function(e){return{details:e.details,imageSignature:e.imageSignature,imageSizeMap:{"236x":e.image236x&&{height:e.image236x.height,url:e.image236x.url,width:e.image236x.width},"474x":e.image474x&&{height:e.image474x.height,url:e.image474x.url,width:e.image474x.width},"564x":e.image564x&&{height:e.image564x.height,url:e.image564x.url,width:e.image564x.width},"736x":e.image736x&&{height:e.image736x.height,url:e.image736x.url,width:e.image736x.width}},slotId:e.slotId,title:e.title}}))?n:[]}:null,a=function(e){var n,t,r,i,o,a,s,u,c=e.pinKey,g=e.index,x=(0,l.Z)(_,c),S=(null==(n=(null==x?void 0:x.richMetadata)||(null==x?void 0:x.richSummary))||null==(t=n.products)?void 0:t[0])||null,P=(null!=(r=null==x||null==(i=x.richMetadata)||null==(o=i.products)?void 0:o.length)?r:0)+(null!=(a=null==x||null==(s=x.richSummary)||null==(u=s.products)?void 0:u.length)?a:0);if(null!=c&&P>1&&!b){b=!0;var w=(0,y.o)(c);(0,h.nP)("autoLegacyAdapter.overfetch.usePinProductCarouselData_pin",{sampleRate:.1,tags:{totalLength:P,isGraphQL:"GraphQL"===w}})}var I=function(e){var n=(0,l.Z)(m,e);if(!n)return[];var t={};return[[n.image236x,"236x"],[n.image474x,"474x"],[n.image564x,"564x"],[n.image736x,"736x"]].forEach(function(e){var n=f(e,2),r=n[0],i=n[1];(Array.isArray(r)?r:[]).forEach(function(e){var n=e.canonicalImage,r=e.imageSignature;r&&n&&(t=d(d({},t),{},p({},r,d(d({},t[r]),{},p({},i,{height:n.height,url:n.url,width:n.width})))))})}),Object.entries(t).map(function(e){var n=f(e,2);return{imageSignature:n[0],imageSizeMap:n[1]}})}(S);return S&&I.length?{carouselId:S.productId,carouselSlots:[{imageSignature:null,imageSizeMap:{"236x":(null==x?void 0:x.image236x)&&{height:x.image236x.height,url:x.image236x.url,width:x.image236x.width},"474x":(null==x?void 0:x.image474x)&&{height:x.image474x.height,url:x.image474x.url,width:x.image474x.width},"564x":(null==x?void 0:x.image564x)&&{height:x.image564x.height,url:x.image564x.url,width:x.image564x.width},"736x":(null==x?void 0:x.image736x)&&{height:x.image736x.height,url:x.image736x.url,width:x.image736x.width}}}].concat(function(e){if(Array.isArray(e))return v(e)}(I)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(I)||function(e,n){if(e){if("string"==typeof e)return v(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,void 0):void 0}}(I)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),index:g}:null}({pinKey:i,index:null==o?void 0:o.index});return a?P(P({},a),{},{carouselSlots:a.carouselSlots.map(function(e){return P(P({},e),{},{details:null,slotId:null,title:null})})}):o}function O(e){return(0,e.children)(I(e.pinKey))}},59355:function(e,n,t){t.d(n,{Q:function(){return d},Z:function(){return p}});var r=t(387784),i=t(104999),o=t(746868),a=t(730056),l=t(774838);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==s(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function d(e,n){var t=(0,o.A$)().setViewContextData,s=(0,l.B)().requestIdentifier,u=(0,i.Z)(),d=(0,o.SU)().viewData;(0,r.useEffect)(function(){if(e){var n;t({viewType:null!=(n=e.view_type)?n:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),u(c(c({},e),{},{event_type:13,request_identifier:s}))}},[n])}function p(e){var n=e.children;return d(e.log),n||null}},514837:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(387784),i=t(20256),o=t(69841),a=t(680811);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==l(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return d(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function p(e){var n=e.carouselData,t=e.contextLogData,l=e.height,s=e.id,d=e.index,p=e.slideWidth,f=e.view,g=e.impressionType,m=e.viewParameter,y=c((0,r.useState)(null),2),h=y[0],v=y[1],_=c((0,r.useState)(!1),2),b=_[0],x=_[1];return((0,r.useEffect)(function(){h!==d?(v(d),x(!1)):x(!0)},[d,h]),n)?(0,a.jsx)(o.JE,{carouselData:u(u({},n),{},{type:"canonical"}),contextLogData:t,impressionType:null!=g?g:"Pin",isPaused:!b,loggingId:s,slotIndex:d,viewParameter:m,viewType:f,children:function(e){var n=e.impressionTrackerRef;return(0,a.jsx)(i.xu,{ref:n,"data-test-id":"carousel-impression-ref-".concat(s,"-").concat(d),height:l,overflow:"hidden",position:"absolute",width:p})}},"carousel-impression-key-".concat(d)):null}},319528:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e,n){return e.reduce(function(e,t){var r="function"==typeof n?n(t):t[n];return r in e||(e[r]=[]),e[r].push(t),e},{})}},720459:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(24246),i=t(696749);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==o(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var s=function(e,n){var t=n||0,r=Math.pow(10,t),i=+(t?e*r:e).toFixed(8),o=Math.floor(i),a=i-o,l=a>.49999999&&a<.50000001?o%2==0?o:o+1:Math.round(i);return t?l/r:l},u=function(e){var n=e.maximumFractionDigits,t=e.minimumFractionDigits,r=e.style,i=e.currency,o={maximumFractionDigits:n,minimumFractionDigits:t};return r?l(l({},o),{},{style:r},"currency"===r?{currency:i,currencyDisplay:"symbol"}:{}):o},c=function(e){try{0..toLocaleString([e])}catch(e){return!1}return!0},d=function(e,n){if(n){var t=new Intl.NumberFormat(e,{style:"currency",currency:n}).resolvedOptions(),r=t.minimumFractionDigits,i=t.maximumFractionDigits;if(void 0!==r&&void 0!==i)return{minimumFractionDigits:r,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function p(){var e=(0,r.Z)();return function(n,t,r){var o=0,a=0,l=r&&r.style||void 0,p=r&&r.shortform||!1,f=r&&r.uplimit||void 0,g=r&&r.currency||void 0,m=!!f&&t>=f,y=f&&m?f:t;if("currency"===l){var h=d(n,g),v=h.minimumFractionDigits,_=h.maximumFractionDigits;o=void 0===r||void 0===r.maximum_fraction_digits?_:r.maximum_fraction_digits,a=void 0===r||void 0===r.minimum_fraction_digits?v:r.minimum_fraction_digits}else o=void 0===r||void 0===r.maximum_fraction_digits?0:r.maximum_fraction_digits,a=void 0===r||void 0===r.minimum_fraction_digits?0:r.minimum_fraction_digits;if(p&&y>999&&(o=void 0===r||void 0===r.shortform_maximum_fraction_digits?2:r.shortform_maximum_fraction_digits,a=0),o<a)return String(y);var b=y,x="",S=[{"100m":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],P=[{b:{value:1e9,localeKey:e._('b', 'Used in number formatting to abbreviate large values in billions.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('m', 'Used in number formatting to abbreviate large values in millions.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Used in number formatting to abbreviate large values in thousands.', 'Abbreviation for one thousand.')}}],w=/^zh|ja|ko/.test(n);if(p&&y>999)for(var I=w?S:P,O=0;O<I.length;O+=1){var j=Object.keys(I[O])[0],A=I[O][j].value;if(y>=A){b=s(y/A*Math.pow(10,o))/Math.pow(10,o),x=I[O][j].localeKey;break}}if(null==b)return"";var E=b.toLocaleString([c(n)&&"ar-SA"!==n?n:"en-US"],u({maximumFractionDigits:o,minimumFractionDigits:a,currency:g,style:l}));return x&&x.length>0?(0,i.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:E,numberSuffix:x})+(m?"+":""):E+(m?"+":"")}}},192336:function(e,n,t){t.d(n,{Z:function(){return r}});function r(){window&&window.focus(),document.activeElement&&document.activeElement.blur()}},900993:function(e,n,t){var r=t(575820);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n,t){return(n=a(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e){var n=function(e,n){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==i(n)?n:n+""}var l={carousel:{authOnly:!0,partnerOnly:!0},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"]},shop_the_pin:{authOnly:!0,partnerOnly:!0},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:function(e){var n=e.user;return!!(null!=n&&n.video_upload_allowed)},authOnly:!0,hasCustomEnabledCheck:function(){return!0}},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"]},pinQuality:{partnerOnly:!0},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},pinItemBase64:{authOnly:!0,experiment:"aid_exp_pin_builder_item_base64",groups:/^(employees|enabled)/}};n.Z=new(function(){var e;function n(){if(!(this instanceof n))throw TypeError("Cannot call a class as a function");o(this,"_experiments",null),o(this,"_viewer",null),o(this,"_advertiser",null),o(this,"_scenario",null),o(this,"_language",null),o(this,"_context",null),o(this,"_orbacActingAs",null)}return e=[{key:"initialize",value:function(e){var n=e.requestContext,t=e.viewer,i=e.location,o=e.advertiser,a=e.scenario,l=e.orbacActingAs;this._context=e,this._experiments=n.experimentsClient,this._language=n.language,this._viewer=t,this._advertiser=o,this._orbacActingAs=l;var s=(0,r.mB)(i.search).adCreate;a?this._scenario=a:s?this._scenario="ad_creation":this._scenario="default"}},{key:"scenario",value:function(){return this._scenario}},{key:"enabled",value:function(e){if(!this._viewer||!this._experiments)return!1;var n,t=l[e],r=t.advertisers,i=t.authOnly,o=t.customEnabledCheck,a=t.experiment,s=t.groups,u=t.hasCustomEnabledCheck,c=t.languages,d=t.orbacDisabled,p=t.partnerOnly,f=t.scenarios,g=t.skipActivation,m=this._viewer.isAuth?this._viewer.id:void 0;return(null==(n=this._orbacActingAs)||!n.id||this._orbacActingAs.id===m||!d)&&(u&&o&&this._context&&u(this._context)?!!this._context&&o(this._context):g&&this._experiments?!!a&&this.checkExperimentWithSkipActivation(e):!!r&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!i||!!this._viewer.isAuth)&&(!this._viewer||!p||!!(this._viewer.isAuth&&this._viewer.isPartner))&&(!f||!!f.includes(this._scenario))&&(!c||!!c.includes(this._language))&&(!a||(void 0===s?/.*/:s).test(this.getExperimentGroup(e)||"")))}},{key:"getExperimentGroup",value:function(e){if(!this._viewer||!this._experiments)return null;var n,t,r,i,o,a,l,s,u=this._experiments.checkExperiment;switch(e){case"disabledIdeaPinCreation":return null!=(n=u("disable_pin_creation").group)?n:null;case"disabledPinCreation":return null!=(t=u("disable_pin_creation").group)?t:null;case"disabledVideoPinCreation":return null!=(r=u("disable_pin_creation").group)?r:null;case"imageSignals":return null!=(i=u("pin_quality_signal_image").group)?i:null;case"tagging":return null!=(o=u("web_pin_builder_tagging").group)?o:null;case"videoEditing":return null!=(a=u("video_edit").group)?a:null;case"ideaPinProductTagging":return null!=(l=u("web_idea_pin_product_tagging").group)?l:null;case"pinItemBase64":return null!=(s=u("aid_exp_pin_builder_item_base64").group)?s:null;default:return null}}},{key:"checkExperimentWithSkipActivation",value:function(e){if(!this._viewer||!this._experiments)return!1;var n,t,r,i,o,a,l=this._experiments.checkExperiment;switch(e){case"disabledIdeaPinCreation":return null!=(n=l("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled)&&n;case"disabledPinCreation":return null!=(t=l("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled)&&t;case"disabledVideoPinCreation":return null!=(r=l("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled)&&r;case"imageSignals":return null!=(i=l("pin_quality_signal_image",{dangerouslySkipActivation:!0}).anyEnabled)&&i;case"tagging":return null!=(o=l("web_pin_builder_tagging",{dangerouslySkipActivation:!0}).anyEnabled)&&o;case"videoEditing":return null!=(a=l("video_edit",{dangerouslySkipActivation:!0}).anyEnabled)&&a;default:return!1}}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}())},439947:function(e,n,t){t.d(n,{Z:function(){return E}});var r=t(387784),i=t(213491),o=t(705460),a=t(774303),l=t(381571),s=t(449896),u=t(780764),c=t(217472),d=t(337751),p=t(139876),f=t(998727),g=t(679767),m=t(240083),y=t(296264);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,n){if(e){if("string"==typeof e)return b(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?b(e,n):void 0}}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach(function(n){P(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function P(e,n,t){var r;return(r=function(e,n){if("object"!=h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==h(r)?r:r+"")in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var w=(0,a.XV)("PwtStopwatch"),I=function(e,n){if(y.Z){if("start"===n.type&&!e.isTiming){var t=n.name,r=n.startTime,i=n.navigationType;return(0,o.A9)("TIMING.".concat(t)),{isTiming:!0,name:t,isSampled:n.isSampled,startTime:"number"==typeof r?r:y.Z.now(),metricId:{type:"stopwatch",name:t,navigationType:i},pwtStaticContext:n.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming)if(n.bypassIsTimingCheck)w("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",n);else{var a=n.name||e.name;return w("ignoring action - stopwatch is not actively timing",n),(0,o.A9)("WARN.".concat(a,".noTiming.").concat(n.type)),e}if("annotate"===n.type){var p=y.Z.now();return w("adding annotation {".concat(n.label,": ").concat(p,"}")),S(S({},e),{},{annotations:e.annotations.concat([{label:n.label,timestamp:p}])})}if("binaryAnnotate"===n.type)return w("adding binary annotation {".concat(n.name,": ").concat(String(n.value),"}")),S(S({},e),{},{binaryAnnotations:S(S({},e.binaryAnnotations),P({},n.name,{value:n.value,type:n.annotationType}))});if("binaryAnnotateOperation"===n.type){var g=n.binaryAnnotationValueAndType,h=g.value,_=g.type;if(!e.binaryAnnotations[n.name])return S(S({},e),{},{binaryAnnotations:S(S({},e.binaryAnnotations),P({},n.name,{value:h,type:_}))});var b=e.binaryAnnotations[n.name].value||0;return w("operating on binary annotation {\n          name: ".concat(n.name,"\n          pervious value: ").concat(String(b),"\n          operand: ").concat(String(h),"\n        }")),S(S({},e),{},{binaryAnnotations:S(S({},e.binaryAnnotations),P({},n.name,{value:h?n.operation(b,h):b,type:_}))})}if("addSubspan"===n.type){w("adding subspan {".concat(n.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===n.name})&&w("WARNING: adding duplicate subspan name {".concat(n.name,"}"));var x=n.id||(0,m.Z)();-1!==e.spans.findIndex(function(e){return e.id===x})&&w("WARNING: adding duplicate subspan id {".concat(n.name,": ").concat(x,"}"));var I=0;return n.startTime?I=n.startTime:e.startTime?I=e.startTime:w("WARNING: adding subspan {".concat(n.name,"} without start time")),S(S({},e),{},{spans:[].concat(v(e.spans),[{name:n.name,id:x,startTime:I,endTime:n.endTime||1/0,annotationMap:S({},n.annotations),binaryAnnotationMap:S({},n.binaryAnnotations),parentId:n.parentId}])})}if("subspanStart"===n.type){w("starting subspan {".concat(n.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===n.name})&&w("WARNING: starting duplicate subspan name {".concat(n.name,"}"));var O,j=n.id||(0,m.Z)();-1!==e.spans.findIndex(function(e){return e.id===j})&&w("WARNING: starting duplicate subspan id {".concat(n.name,": ").concat(j,"}"));var A=n.parentName?null==(O=e.spans.find(function(e){return e.name===n.parentName}))?void 0:O.id:null;return S(S({},e),{},{spans:[].concat(v(e.spans),[{name:n.name,id:j,parentId:n.parentId||A,startTime:y.Z.now(),endTime:1/0,annotationMap:S({},n.annotations),binaryAnnotationMap:S({},n.binaryAnnotations)}])})}if("subspanStop"===n.type){w("stopping subspan {".concat(n.name,"}")),!n.id&&e.spans.filter(function(e){return e.name===n.name}).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:n.name,type:n.type});var E=n.id?e.spans.findIndex(function(e){return e.id===n.id}):e.spans.findIndex(function(e){return e.name===n.name});return E>-1?(e.spans[E].endTime=y.Z.now(),n.annotations&&(e.spans[E].annotationMap=S(S({},e.spans[E].annotationMap),n.annotations)),n.binaryAnnotations&&(e.spans[E].binaryAnnotationMap=S(S({},e.spans[E].binaryAnnotationMap),n.binaryAnnotations))):(0,o.H)("invalid_subspan_stop_name",{name:n.name}),e}if("subspanUpdateName"===n.type){e.spans.filter(function(e){return e.name===n.currentName}).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:n.currentName,type:n.type});var k=e.spans.findIndex(function(e){return e.name===n.currentName});return k>-1?n.updateWhenStopwatchCompletes?e.spanNameUpdates=[].concat(v(e.spanNameUpdates),[{currentName:n.currentName,newName:n.newName}]):(w("renaming subspan {".concat(n.currentName,"} to {").concat(n.newName,"}")),e.spans[k].name=n.newName):(0,o.H)("no_subspan_found_to_rename",{name:n.currentName}),e}if("stop"===n.type&&e.isTiming){var T=e.startTime,C=e.metricId,D=e.pwtStaticContext,L=e.annotations,M=e.binaryAnnotations,R=e.isSampled,F=e.spans,N=e.traceId;if(n.stopwatchPerformanceObserver&&n.stopwatchPerformanceObserver.disconnect(),R){var B=n.stopTime||y.Z.now(),z=v(F.map(function(n){n.endTime===1/0&&(n.endTime=B);var t=e.spanNameUpdates.findIndex(function(e){return n.name===e.currentName});return t>-1&&(w("renaming subspan {".concat(n.name,"} to {").concat(e.spanNameUpdates[t].newName,"}")),n.name=e.spanNameUpdates[t].newName,e.spanNameUpdates=e.spanNameUpdates.filter(function(e){return e.newName!==n.name})),n}));if(n.manualAndResourceSpans||0===F.length){var Z=(0,m.Z)();z.push.apply(z,[{name:"network_resources",id:Z,startTime:T,endTime:B,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(v((n.customStopwatchBuffer||[]).map(function(e){return(0,d.Z)((0,u.p)(e,[]),Z)}).filter(Boolean))))}var U={type:"COMPLETE",metricId:C,traceId:N,startTime:T,endTime:B,spans:z,annotationMap:S({},(0,f.Z)(L)),binaryAnnotationMap:(0,s.ng)({metricId:C,pwtStaticContext:D,binaryAnnotations:M,performanceResourceTimings:n.customStopwatchBuffer||[],type:"COMPLETE"})};(0,c.Z)({metricId:C,pwtStaticContext:D,result:U})}return(0,l.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}if("error"===n.type){var K=n.error,V=n.stopwatchPerformanceObserver;return K&&(0,o.H)(K),V&&V.disconnect(),(0,l.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}if("abort"===n.type&&e.isTiming){n.stopwatchPerformanceObserver&&n.stopwatchPerformanceObserver.disconnect();var G=n.reason||"",H=e.startTime,W=e.metricId,q=e.pwtStaticContext,Y=e.binaryAnnotations,X=e.traceId,$={type:"ABORT",traceId:X,startTime:H,endTime:y.Z.now(),spans:[],annotationMap:{},binaryAnnotationMap:(0,s.ng)({metricId:W,pwtStaticContext:q,binaryAnnotations:Y,performanceResourceTimings:n.customStopwatchBuffer||[],type:"ABORT"}),reason:G};return(0,c.Z)({metricId:W,pwtStaticContext:q,result:$}),(0,l.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:X,spanNameUpdates:[]}}}return e},O=function(e){var n,t=e.name,i=e.sampleRate,o=e.navigationType,a=e.manualAndResourceSpans,s=void 0!==a&&a,u=(0,p.Z)(),c=(0,r.useRef)([]),d=(0,r.useRef)(null),f=(0,r.useRef)(null);null===f.current&&(f.current=(0,l.jf)());var m=function(e){if(Array.isArray(e))return e}(n=(0,r.useReducer)(I,{isTiming:!1,name:t,annotations:[],binaryAnnotations:{},spans:[],traceId:f.current,spanNameUpdates:[]}))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||_(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],v=m[1];return u?{isTiming:h.isTiming,name:h.name,start:function(e){return window.PerformanceObserver&&(c.current=[],d.current=(0,g.Z)({entryTypes:["resource"]},function(e){c.current=c.current.concat(e.getEntries()),c.current.length>1e3&&(c.current=c.current.slice(-1e3))})),v({type:"start",startTime:e,name:t,navigationType:o,pwtStaticContext:u,isSampled:!i||Math.random()<i})},stop:function(e){return v({type:"stop",stopTime:e,stopwatchPerformanceObserver:d.current,customStopwatchBuffer:c.current,manualAndResourceSpans:s})},error:function(e){v({type:"error",stopwatchPerformanceObserver:d.current,error:e})},abort:function(e){return v({type:"abort",stopTime:null===y.Z||void 0===y.Z?void 0:y.Z.now(),stopwatchPerformanceObserver:d.current,customStopwatchBuffer:c.current,reason:e})},annotate:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v({type:"annotate",label:e,parentId:n,bypassIsTimingCheck:t})},binaryAnnotate:function(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return v({type:"binaryAnnotate",name:e,value:n,annotationType:t,parentId:r,bypassIsTimingCheck:i})},binaryAnnotateOperation:function(e){var n=e.name,t=e.binaryAnnotationValueAndType,r=e.operation,i=e.parentId,o=e.bypassIsTimingCheck;return v({type:"binaryAnnotateOperation",name:n,binaryAnnotationValueAndType:t,operation:r,parentId:i,bypassIsTimingCheck:void 0!==o&&o})},addSubspan:function(e){var n=e.name,t=e.startTime,r=e.endTime,i=e.annotations,o=e.binaryAnnotations,a=e.parentId,l=e.id,s=e.bypassIsTimingCheck;return v({type:"addSubspan",name:n,startTime:t,endTime:r,annotations:void 0===i?{}:i,binaryAnnotations:void 0===o?{}:o,parentId:void 0===a?null:a,id:void 0===l?null:l,bypassIsTimingCheck:void 0!==s&&s})},subspanStart:function(e){var n=e.name,t=e.annotations,r=e.binaryAnnotations,i=e.parentId,o=e.parentName,a=e.id,l=e.bypassIsTimingCheck;return v({type:"subspanStart",name:n,annotations:void 0===t?{}:t,binaryAnnotations:void 0===r?{}:r,parentId:void 0===i?null:i,parentName:void 0===o?null:o,id:void 0===a?null:a,bypassIsTimingCheck:void 0!==l&&l})},subspanStop:function(e){var n=e.name,t=e.annotations,r=e.binaryAnnotations,i=e.id,o=e.parentId,a=e.bypassIsTimingCheck;return v({type:"subspanStop",name:n,annotations:t,binaryAnnotations:r,id:i,parentId:o,bypassIsTimingCheck:void 0!==a&&a})},subspanUpdateName:function(e){var n=e.currentName,t=e.newName,r=e.bypassIsTimingCheck,i=e.updateWhenStopwatchCompletes;return v({type:"subspanUpdateName",currentName:n,newName:t,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:void 0===i||i})},getSpans:function(e,n){return h.spans.filter(function(t){return t[e]===n})},getTraceId:function(){return h.traceId}}:null},j=t(780657),A=t(680811),E=function(e){var n=e.name,t=e.sampleRate,a=e.abortOnUnloadOrClientNavigation,l=void 0===a||a,s=e.navigationType,u=e.manualAndResourceSpans,c=void 0!==u&&u,d=(0,i.Z)("Stopwatch_".concat(n)),p=d.Provider;return{Provider:function(e){var i=e.children,a=O({name:n,sampleRate:t,navigationType:s,manualAndResourceSpans:c}),u=(0,j.Z)(),d=u?u.time:0,f=(0,r.useRef)("NotStarted"),g=null==a?void 0:a.isTiming,m=(0,r.useCallback)(function(e){"Started"===f.current?(f.current="Stopped",null==a||a.abort(e)):(0,o.A9)("WARN.".concat(n,".noTiming.abort"))},[a]),y=(0,r.useCallback)(function(e,n){null==a||a.annotate(e,n)},[a]),h=(0,r.useCallback)(function(e,n,t,r){null==a||a.binaryAnnotate(e,n,t,r)},[a]),v=(0,r.useCallback)(function(e){var n=e.name,t=e.binaryAnnotationValueAndType,r=e.operation,i=e.parentId,o=e.bypassIsTimingCheck;null==a||a.binaryAnnotateOperation({name:n,binaryAnnotationValueAndType:t,operation:r,parentId:i,bypassIsTimingCheck:o})},[a]),_=(0,r.useCallback)(function(e){var n=e.name,t=e.startTime,r=e.endTime,i=e.annotations,o=e.binaryAnnotations,l=e.parentId,s=e.id,u=e.bypassIsTimingCheck;null==a||a.addSubspan({name:n,startTime:t,endTime:r,annotations:i,binaryAnnotations:o,parentId:l,id:s,bypassIsTimingCheck:u})},[a]),b=(0,r.useCallback)(function(e){var n=e.name,t=e.annotations,r=e.binaryAnnotations,i=e.parentId,o=e.parentName,l=e.id,s=e.bypassIsTimingCheck;null==a||a.subspanStart({name:n,annotations:t,binaryAnnotations:r,parentId:i,parentName:o,id:l,bypassIsTimingCheck:s})},[a]),x=(0,r.useCallback)(function(e){var n=e.name,t=e.annotations,r=e.binaryAnnotations,i=e.id,o=e.parentId,l=e.bypassIsTimingCheck;null==a||a.subspanStop({name:n,annotations:t,binaryAnnotations:r,id:i,parentId:o,bypassIsTimingCheck:l})},[a]),S=(0,r.useCallback)(function(e){var n=e.currentName,t=e.newName,r=e.bypassIsTimingCheck,i=e.updateWhenStopwatchCompletes;null==a||a.subspanUpdateName({currentName:n,newName:t,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:i})},[a]),P=(0,r.useCallback)(function(e,n){return a?a.getSpans(e,n):[]},[a]),w=(0,r.useCallback)(function(){return a?a.getTraceId():""},[a]),I=(0,r.useCallback)(function(e){"Started"===f.current?(f.current="Stopped",null==a||a.error(e)):(0,o.A9)("WARN.".concat(n,".noTiming.error"))},[a]),E=(0,r.useCallback)(function(e){"Started"===f.current&&(null==a||a.abort("duplicated_init_stopwatch_action")),f.current="Started",null==a||a.start(e)},[a]),k=(0,r.useCallback)(function(e){"NotStarted"===f.current&&(f.current="Started",null==a||a.start(e))},[a]),T=(0,r.useCallback)(function(e){"Started"===f.current?(f.current="Stopped",null==a||a.stop(e)):(0,o.A9)("WARN.".concat(n,".noTiming.stop"))},[a]);(0,r.useEffect)(function(){return function(){l&&m("unloadOrClientNavigation")}},[d]);var C=(0,r.useMemo)(function(){return{name:n,isTiming:g,abort:m,addAnnotation:y,addBinaryAnnotation:h,binaryAnnotationOperation:v,addSubspan:_,subspanStart:b,subspanStop:x,getSpans:P,getTraceId:w,updateSubspanName:S,stop:T,error:I,start:E,startOnce:k}},[g,m,y,h,v,_,b,x,P,w,S,T,I,E,k]);return(0,A.jsx)(p,{value:C,children:i})},get:d.getMaybe}}},780657:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(387784),i=t(169166);function o(){return(0,r.useContext)(i.Z)}},139876:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(387784),i=t(506807);function o(){return(0,r.useContext)(i.Z)}},431006:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(20256),i=t(367683),o=t(501010),a=function(e,n){var t=Array(e.length).fill(!1);n.forEach(function(n){if(n)for(var r=0;r<=e.length-n.length;){var i=e.indexOf(n,r);if(-1===i)break;for(var o=i+n.length,a=!1,l=i;l<o;l+=1)if(t[l]){a=!0;break}if(!a){for(var s=i;s<o;s+=1)t[s]=!0;break}r=o}});for(var r=[],i=0;i<t.length;){for(var o=t[i],a=i+1;a<t.length&&t[a]===o;)a+=1;r.push({matched:!!o,start:i,end:a}),i=a}return r},l=t(739405),s=t(680811);function u(e){var n=e.allBold,t=e.searchDelightConfig,u=e.query,c=e.text,d=(0,o.Z)().checkExperiment,p=(0,l.HG)(),f=(void 0===u?"":u).trim(),g=c.toLowerCase(),m=(g.startsWith(f.toLowerCase())?f:"").length,y=t?(0,i.pF)(c,t.search_query_list):null;if(y&&t)return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,s.jsx)(i.KS,{allBold:n,searchDelightConfig:t,searchDelightParts:y,text:c,weightPivot:m})});if(!p&&d("web_search_autocomplete_visual_treatment").anyEnabled){var h=a(g,f.toLowerCase().split(/\s/));return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:h.map(function(e){var n=e.matched,t=e.start,i=e.end;return(0,s.jsx)(r.xv,{color:n?"subtle":"default",inline:!0,weight:n?"normal":"bold",children:c.substring(t,i)},"search-autocomplete-suggestion-".concat(c,"-").concat(t,"-").concat(i))})})}return(0,s.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:[(0,s.jsx)(r.xv,{color:"subtle",inline:!0,weight:n?"bold":"normal",children:c.substring(0,m)}),(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:c.substring(m)})]})}},722157:function(e,n,t){t.d(n,{Z:function(){return I},b:function(){return P}});var r,i=t(387784),o=t(581722),a=t(204306),l=t(653551),s=t(20256),u=t(249459),c=t(173874),d=t(774838),p=t(865043),f=t(197908),g=t(739405),m=t(956226),y=t(305375);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,n){if(e){if("string"==typeof e)return _(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_(e,n):void 0}}function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==h(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var S=(void 0!==r||(r=t(353491)).hash&&"5a3162913508a33c37676bde5973ea45"!==r.hash&&console.error("The definition of 'useDynamicSearchPlaceholderDataQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),P=function(e){var n={pageType:"other",isEligiblePageTypeForDynamicSearchPlaceholder:!1};return(0,c.uM)(e)?(n.pageType="pin",n.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,c.am)(e)?(n.pageType="board",n.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,c.dr)(e)&&(n.pageType="klp",n.isEligiblePageTypeForDynamicSearchPlaceholder=!0),n},w=function(e){var n=e.fetchedSuggestedTerms,t=e.deviceType,r=e.pageType,i={deviceType:t,dataType:e.dataType,pageType:r};return n.length<3?((0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.missing_data",x({termsCount:n.length},i)),n=[]):(n=n.filter(function(e){return e.split(" ").length>1}).map(function(e){return e.toLowerCase()})).length<3&&((0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.not_enough_words",x({termsCount:n.length},i)),n=[]),n};function I(){var e,n=function(e){if(Array.isArray(e))return e}(e=(0,i.useState)([]))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||v(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=n[0],r=n[1],h=(0,l.TH)(),b=(0,y.Z)(),x=(0,s.JZ)(),I=(0,f.Z)(h.pathname)||"",O=(0,d.B)().isAuthenticated,j=(0,g.ZP)(),A=(0,c.uM)(h),E=(0,c.am)(h),k=(0,c.dr)(h),T=P(h),C=T.pageType,D=T.isEligiblePageTypeForDynamicSearchPlaceholder,L=b.id||(0,u.Gt)(b.interest||""),M=!O&&D&&!x,R=(0,a.useRelayEnvironment)(),F=(0,o.v9)(function(e){return(0,m.Z)(e)[h.pathname]}),N=(0,o.v9)(function(e){var n=e.topics;return Object.keys(n).reduce(function(e,t){var r=n[t];return e[r.slug]=r,e[t]=r,e},{})[L]}),B=function(e){return e.reduce(function(e,n){return n.name?[].concat(function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n.name]):e},[])},z=(0,i.useCallback)(function(){(0,a.fetchQuery)(R,S,{pinId:I},{fetchPolicy:"store-or-network"}).subscribe({next:function(e){var n,t,i,o=[],a=(null==(n=e.v3GetPinQuery)?void 0:n.__typename)==="V3GetPin"?null==(t=e.v3GetPinQuery)?void 0:t.data:null;null!=a&&a.isUnsafe?(0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.unsafe_pin"):(null!=a&&null!=(i=a.pinJoin)&&i.visualAnnotation&&(o=a.pinJoin.visualAnnotation),o=w({fetchedSuggestedTerms:o,deviceType:j,pageType:C,dataType:"vase"})),r(o.slice(0,5))},error:function(e){(0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.error",{message:e.message})}})},[j,I,R,C]),Z=(0,i.useCallback)(function(){var e;if(null!=F&&F.seo_related_interests&&!(null!=(e=F.owner)&&e.is_partner)){var n=B(F.seo_related_interests);r((n=w({fetchedSuggestedTerms:n,deviceType:j,pageType:C,dataType:"board_annotations"})).slice(0,5))}},[F,C,j]),U=(0,i.useCallback)(function(){if(null!=N&&N.seo_related_interests){var e=B(N.seo_related_interests);r((e=w({fetchedSuggestedTerms:e,deviceType:j,pageType:C,dataType:"klp_annotations"})).slice(0,5))}},[N,C,j]);return(0,i.useEffect)(function(){!O&&M&&("desktop"!==j?r([]):(A&&z(),E&&Z(),k&&U()))},[F,A,E,k,M,O,j,z,Z,U]),(0,i.useEffect)(function(){A||E||k||0===t.length||r([])},[A,t.length,E,k]),t}},477738:function(e,n,t){t.d(n,{Hd:function(){return u},_R:function(){return l},gi:function(){return o},lw:function(){return r},oD:function(){return i},wF:function(){return s},zh:function(){return a}});var r={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",BOARDS_MINE:"my_boards",USERS:"users",MY_CONTENT:"my_content",SHOP_TOOL:"shop_tool"},i=function(e){var n=Object.values(r).find(function(n){return n===e});return null!=n?n:void 0},o=function(e){switch(e){case r.PINS:return 0;case r.PINS_MINE:return null;case r.PINS_BUYABLE:return 1;case r.PINS_VIDEO:return 2;case r.BOARDS:return 3;case r.USERS:return 4;default:return null}},a=function(e){switch(e){case 0:return r.PINS;case 1:return r.PINS_BUYABLE;case 2:return r.PINS_VIDEO;case 3:return r.BOARDS;case 4:return r.USERS;default:return null}},l=function(e){switch(e){case r.PINS_MINE:case r.MY_CONTENT:return 107;case r.PINS_BUYABLE:return 254;case r.PINS_VIDEO:return 3306;case r.SHOP_TOOL:return 3380;case r.BOARDS:return 44;case r.USERS:return 45;case r.PINS:default:return 43}},s=function(e){switch(e){case r.PINS:return 60;case r.PINS_MINE:case r.MY_CONTENT:return 63;case r.PINS_BUYABLE:return 3800;case r.PINS_VIDEO:return 64;case r.BOARDS:return 61;case r.USERS:return 62;default:return null}},u=function(e,n){if(n)switch(e){case r.USERS:return 1000392;case r.PINS_BUYABLE:return 1000391;case r.PINS:default:return 29}switch(e){case r.USERS:return 1000432;case r.PINS_BUYABLE:return 1000433;case r.PINS:default:return 1000269}}},735403:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(900946);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function a(e){var n=e.enteredQuery,t=e.filters,a=e.guideAdded,l=e.query,s=e.requestParams,u=e.rs,c=e.scope,d=e.selectedOneBarModules,p=e.user,f=e.inlineSuggestion;if(!l)return"/";var g=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach(function(n){var r,o;r=n,o=t[n],(r=function(e){var n=function(e,n){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==i(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({q:l,rs:u},s);if(t&&(g.filters=t),p&&(g.user=p),d&&(g.selected_one_bar_modules=d),a&&a.term&&(g.add_refine="".concat(a.term,"|guide|word|").concat(a.index)),n&&(g.entered_query=n),f&&(g.inline_suggestion=f),window.location.pathname.startsWith("/explore"))return"/search/pins/?".concat((0,r.Z)(g));var m=c;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(m)||(m="pins"),m?"/search/".concat(m,"/?").concat((0,r.Z)(g)):"".concat(window.location.pathname,"?").concat((0,r.Z)(g))}},219136:function(e,n,t){t.d(n,{Sx:function(){return i},wU:function(){return r},zc:function(){return o}});var r="#E1E1E1",i="#F1F1F1",o="0 0 0 4px rgba(0, 132, 255, .5)"},197601:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(575820);function i(e){var n,t=(0,r.mB)(e.search)||{};if(t.q){var i=e.pathname.split("/");n=i.length>2?i[2]:"pins"}if(t.q&&n){var o=Array.isArray(t.q)?t.q.join(" "):t.q,a=Array.isArray(t.rs)?"":t.rs,l=Array.isArray(t.user)?"":t.user;return{filters:t.filters||"",user:l,query:o||"",rs:a||"",scope:"pins"===n||"buyable_pins"===n||"my_pins"===n||"boards"===n||"users"===n||"videos"===n?n:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},764210:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(568736),i=t(900946);function o(e){var n=e.bubbleId,t=e.pinId,o=e.query,a=e.referringSource,l=e.storyCategory,s=e.storyId,u=e.title,c=[0,24,21,26].includes(l),d=(0,i.Z)({q:o,rs:a||void 0,b_id:n,source_id:s,top_pin_ids:t}),p=c&&u?(0,r.x)({title:u,id:n,articleType:"discover"}):"/discover/article/".concat(n,"/");return c?p:"/search/pins/".concat(d?"?"+d:"")}},336024:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e){return(e||"").trim().replace(/\s+/g," ")}},574991:function(e,n,t){t.d(n,{J:function(){return r},Z:function(){return i}});var r=-1;function i(e){switch(e){case r:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"history";default:return"search"}}},537701:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e,n){var t=null!=n&&n.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(t,function(e,n){return"_"+n.toLowerCase()})}},327638:function(e,n,t){t.d(n,{U:function(){return o},Z:function(){return a}});var r=t(20256),i=t(680811),o=", ";function a(){return(0,i.jsx)(r.xu,{display:"visuallyHidden",children:o})}},836447:function(e,n,t){t.d(n,{Z:function(){return l}});var r,i,o=t(575820);function a(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function l(e){var n=e.boardId,t=e.username,l=e.slug;return n?(0,o.tV)(r||(r=a(["/v3/boards/","/"])),n):t&&l?(0,o.tV)(i||(i=a(["/v3/boards/","/","/"])),t,l):null}},622125:function(e,n){n.Z=function(){return window.location.pathname}},319910:function(e,n){n.Z=function(e){var n=e.url;return""===n||/^(https?:\/\/)?[a-z0-9_\-]+\..+/i.test(n)}},902123:function(e,n,t){t.d(n,{q:function(){return l}});var r=t(387784);function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return o(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var a=function(){var e=i((0,r.useState)(!1),2),n=e[0],t=e[1],o=i((0,r.useState)(!1),2),a=o[0],l=o[1],s=i((0,r.useState)(!1),2),u=s[0],c=s[1];return{active:n,focused:a,hovered:u,onBlur:function(){l(!1),t(!1)},onFocus:function(){return l(!0)},onMouseDown:function(){return t(!0)},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){c(!1),t(!1)},onMouseUp:function(){return t(!1)}}};function l(e){return(0,e.children)(a())}n.Z=a},575647:function(e,n,t){t.d(n,{Y:function(){return y}});var r,i=t(387784);t(115821);var o=t(707855),a=t(183e3);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach(function(n){c(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function c(e,n,t){var r;return(r=function(e,n){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==l(r)?r:r+"")in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return p(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var f=(void 0!==r||(r=t(884164)).hash&&"5fc3e90469998e436af7fa9ec7d4a329"!==r.hash&&console.error("The definition of 'useGetStringifiedCommerceAuxData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),g=function(e,n){var t,r,i,o,a,l,s,p,f,g,m,y,h,v=Symbol("SKIP"),_=null;return n||(_=!!(null!=(g=e.shoppingFlags)&&g.includes(10)||null!=(m=e.productPinData)&&null!=(y=m.items)&&null!=(h=y[0])&&h.additionalImagesLength)),Object.entries(u(u({},e.isEligibleForPdp||e.isOosProduct||e.isStaleProduct?u(u({},function(t,r,i,o,a,l,s,u,c){var d=null,p=null,f=null==(t=e.richMetadata)||null==(r=t.products)?void 0:r[0];if(!n){var g,m,y,h,_,b,x,S,P,w,I=null==(g=e.richMetadata||e.richSummary)||null==(m=g.products)?void 0:m[0],O=(null==I||null==(y=I.image736x)?void 0:y.length)||(null==I||null==(h=I.image564x)?void 0:h.length)||(null==I||null==(_=I.image474x)?void 0:_.length)||(null==I||null==(b=I.image236x)?void 0:b.length)||0,j=!!e.imageSpec_orig;p=O>0?+!!j+O:null==(x=e.carouselData)||null==(S=x.carouselSlots)?void 0:S.length,d=!n&&(null==f||null==(P=f.variantSet)||null==(w=P.dimensionMetadata)?void 0:w.reduce(function(e,n){var t=n.name,r=n.values;return e+(t&&r?r.length:0)},0))}return{carousel_image_count:p||v,brand_signature:(null==f||null==(i=f.brand)?void 0:i.signature)||v,free_shipping_price:(null==f||null==(o=f.shippingInfo)?void 0:o.freeShippingPrice)||v,free_shipping_value:(null==f||null==(a=f.shippingInfo)?void 0:a.freeShippingValue)||v,num_variants:(null==f||null==(l=f.variantSet)||null==(s=l.variants)?void 0:s.length)||v,total_dimension_option_count:(null==f||null==(u=f.variantSet)||null==(c=u.dimensionMetadata)?void 0:c.length)||v,valid_dimension_option_count:d||v}}()),{},{pin_show_pdp_oos:!!e.isOosProduct||v,pin_show_pdp_stale:!!e.isStaleProduct||v,pin_show_pdp:!!e.isEligibleForPdp||v}):{}),{},{pin_is_shop_the_look:!!(null!=(t=e.shoppingFlags)&&t.includes(2)||null!=(r=e.aggregatedPinData)&&r.isShopTheLook)||v,is_available:!!(null!=(i=e.shoppingFlags)&&i.includes(1))||v,is_product_pin_v2:!!(null!=(o=e.shoppingFlags)&&o.includes(5))||v,is_rich_product_pin:!!(null!=(a=e.shoppingFlags)&&a.includes(6))||v,is_organic_product_carousel:_||v,item_id:((null==(l=e.richSummary)||null==(s=l.products)?void 0:s[0])||{}).itemId||v,item_set_id:((null==(p=e.richSummary)||null==(f=p.products)?void 0:f[0])||{}).itemSetId||v,story_pin_id:e.storyPinData?e.storyPinDataId:v})).filter(function(e){return d(e,2)[1]!==v}).reduce(function(e,n){var t=d(n,2),r=t[0],i=t[1];return u(u({},e),{},c({},r,i))},{})},m=function(e){var n=!!(e&&"GraphQL"===(0,o.o)(e)),t=(0,a.Z)(f,e);return(0,i.useCallback)(function(e){var r;return 0===Object.keys(r=u(u(u({},null==e?void 0:e.default),t?g(t,n):{}),null==e?void 0:e.override)).length?{}:{commerce_data:JSON.stringify(r)}},[n,t])},y=function(e){return(0,e.children)(m(e.pinKey))};n.Z=m},992004:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(387784),i=t(20256),o=t(440077),a=t(680811);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach(function(n){g(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function c(e,n){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,n,t){return(n=m(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e){var n=function(e,n){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==l(n)?n:n+""}var y={default:{backgroundColor:o.zsO,boxShadow:"none"},drag:{backgroundColor:o.Wmm,boxShadow:"".concat(o.lwx," ").concat(o.lwx," ").concat(o.lwx," ").concat(o.FCL," ").concat(o.Gh8)},error:{backgroundColor:o.$wd,boxShadow:"".concat(o.lwx," ").concat(o.lwx," ").concat(o.lwx," ").concat(o.FCL," ").concat(o.jKP)}},h=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&c(o,e);var n,t,r=(n=p(),function(){var e,t=f(o);return e=n?Reflect.construct(t,arguments,f(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==l(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,t=Array(n),i=0;i<n;i++)t[i]=arguments[i];return g(d(e=r.call.apply(r,[this].concat(t))),"state",{isDraggingOver:!1,isHoveringOver:!1,containedHeight:null}),g(d(e),"handleOnDragEnter",function(n){var t=e.props.onDragEnter;n.preventDefault(),n.stopPropagation(),e.setState({isDraggingOver:!0}),t&&t(n)}),g(d(e),"handleOnDragLeave",function(n){var t=e.props.onDragLeave;n.preventDefault(),n.stopPropagation(),e.setState({isDraggingOver:!1}),t&&t(n)}),g(d(e),"handleOnDragOver",function(n){var t=e.props.onDragOver;n.preventDefault(),n.stopPropagation(),t&&t(n)}),g(d(e),"handleOnDrop",function(n){var t=e.props.onDrop;n.preventDefault(),n.stopPropagation(),e.setState({isDraggingOver:!1}),t&&t(n)}),g(d(e),"handleMouseEnter",function(){var n=e.props.onMouseEnter;n&&n(),e.setState({isHoveringOver:!0})}),g(d(e),"handleMouseLeave",function(){var n=e.props.onMouseLeave;n&&n(),e.setState({isHoveringOver:!1})}),g(d(e),"setContainedHeight",function(n){e.setState({containedHeight:n})}),e}return t=[{key:"getDragContainerStyles",value:function(e,n){return n&&"default"===e?u(u({},y[e]),{},{backgroundColor:n}):y[e]}},{key:"render",value:function(){var e=this.props,n=e.children,t=e.color,r=e.dropRounding,o=e.hasError,l=e.height,s=e.position,c=e.width,d=this.state,p=d.isDraggingOver,f=d.isHoveringOver,g=d.containedHeight;return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:u(u({},this.getDragContainerStyles(p?"drag":o?"error":"default",t)),r?{borderRadius:r}:{})},"data-test-id":"drag-behavior-container",height:l||g||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:s,rounding:2,width:c||"100%",children:n(p,f,this.setContainedHeight,g)})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}(o.prototype,t),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component)},257026:function(e,n,t){var r=t(387784),i=t(20256),o=t(440077),a=t(992004),l=t(680811);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var d={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0};n.Z=function(e){var n,t=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return c(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=t[0],f=t[1],g=function(n){var t=e.onChange;n.preventDefault(),n.stopPropagation(),t&&t(n),n.target.value=""},m=function(n){var t=e.onClick;t&&t(n)},y=e.accept,h=e.accessibilityLabel,v=e.accessibilityDescription,_=e.allowMultipleFiles,b=e.children,x=e.color,S=e.dropRounding,P=e.hasError,w=e.height,I=e.id,O=e.onDrop,j=e.position,A=e.rounding,E=void 0===A?2:A,k=e.width,T=e.isAriaHidden,C=void 0===T?void 0:T,D=e.isRequired,L=void 0===D?void 0:D,M=e.experimentsClient;return(0,l.jsx)(a.Z,{color:x,dropRounding:S,experimentsClient:M,hasError:P,height:w,onDrop:O,position:j,width:k,children:function(e){return(0,l.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==s(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},p?{border:"2px solid ".concat(o.nTo)}:{})},height:"100%",onBlur:function(){return f(!1)},onFocus:function(){return f(!0)},position:"relative",rounding:E,children:[b(e),(0,l.jsx)("input",{accept:y,"aria-describedby":"upload-button-explanation","aria-hidden":C,"aria-invalid":P?"true":void 0,"aria-label":h,"data-test-id":I,id:I,multiple:_,onChange:g,onClick:m,required:L,style:d,tabIndex:C?-1:0,type:"file"}),v&&(0,l.jsx)(i.xu,{display:"none",id:"upload-button-explanation",children:(0,l.jsx)(i.xv,{children:v})})]})}})}},832274:function(e,n,t){t.d(n,{P7:function(){return i},Zx:function(){return l},sc:function(){return a},ss:function(){return o},xl:function(){return r}});var r=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],i=["bmp","gif","jpg","jpeg","png","tiff","webp"],o=["video/mp4","video/x-m4v","video/quicktime"],a=["mp4","m4v","mov"],l={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},310621:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(216975),i=t(937656),o=t(900993);function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function l(e,n,t,l){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:t,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:n._('Your upload failed because it\'s the wrong format.', 'vip.errorMessaging.message', 'Error message uploading a file format that is not supported.'),blocking:!0};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:t,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:n._('This image is too large and can\'t be uploaded. Please try a smaller image size.', 'vip.errorMessaging.message', 'Error message uploading an image file that is too large'),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":var s,u=function(e){if(Array.isArray(e))return e}(s=o.Z.enabled("pinQuality")||null!=l&&l.isStoryPin?[300,200]:[100,100])||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(s,2)||function(e,n){if(e){if("string"==typeof e)return a(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,2):void 0}}(s,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=u[0],d=u[1];return{dispatchId:t,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:(0,r.nk)(n._('Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.', 'vip.errorMessaging.minImageMessage', 'Error message when uploading an image file that is smaller than the supported height and width.'),{minHeight:c,minWidth:d,pixelString:n.ngettext('pixel', 'pixels', d, 'pinBuilder.errorMessaging.pixel', 'Label for number of pixels')}).join(""),blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":return{dispatchId:t,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(n.ngettext('This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 'This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 20, 'vip.errorMessaging.message', 'Error message when uploading an image file larger than the supported size'),{max_size_mb:20}).join(""),blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:t,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:n._('This image type is invalid - please make sure the image is natively .jpg or .png', 'vip.errorMessaging.message', 'Error message uploading an image that is malformed in some way'),blocking:!0};case"VIDEO_UNDER_MIN_DIMENSIONS":return{dispatchId:t,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:(0,r.nk)(n.ngettext('This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel', 'This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels', 100, 'vip.errorMessaging.message', 'Error message when uploading an video file that is smaller than the supported height and width.'),{min_size_video:100}).join(""),blocking:!0};case"VIDEO_BELOW_MIN_DURATION":var p=Math.floor(4);return{dispatchId:t,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,r.nk)(n.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', p, 'vip.errorMessaging.message', 'Error message uploading a video file that is shorter than required seconds.'),{minVideoLengthSeconds:p}).join(""),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var f=i.W_;return{dispatchId:t,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,r.nk)(n.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} seconds.', f, 'vip.errorMessaging.storyPinVideoBelowMin.message', 'Error message uploading a video file that is shorter than required seconds.'),{minStoryPinVideoLengthSeconds:f}).join(""),blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:t,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:n._('The video\'s cover image must be of the same dimensions as the video itself', 'vip.errorMessaging.message', 'Error message when uploading cover image with non matching dimensions to video'),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:t,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:n._('Hmm, your upload failed for some reason. Please try again.', 'vip.errorMessaging.message', 'Error message uploading a video file and the process fails'),blocking:!0};case"VIDEO_OVER_MAX_DURATION":return{dispatchId:t,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:(0,r.nk)(n.ngettext('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minute.', 'This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minutes.', 15, 'vip.errorMessaging.message', 'Error message uploading a video file that is longer than required minutes.'),{max_video_length_minutes:15}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":return{dispatchId:t,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,r.nk)(n._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_seconds}} seconds.', 'vip.errorMessaging.message', 'Error message uploading a story pin video file that is longer than limit in seconds. max_video_length_seconds: Integer representing the max video length'),{max_video_length_seconds:Math.floor(i.P9)}).join(""),blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":return{dispatchId:t,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(n.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 2, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required gigabytes.'),{max_video_size_gb:2}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var g=i.Lr/1024/1024;return{dispatchId:t,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(n.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', g, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required megabytes. maxVideoFileSize: max video size for videos attempting to upload'),{maxVideoFileSize:g}).join(""),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:n._('This video isn\'t encoded in H.264', 'vip.errorMessaging.message', 'Error message uploading a video file that is malformed (generic error message)'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME",type:"error",message:n._('This video isn\'t encoded in H.264 or H.265.  Please use Safari if you want to upload ProRes videos.', 'vip.errorMessaging.message.chrome', 'Error message uploading a video file that is malformed from Chrome'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX",type:"error",message:n._('This video isn\'t encoded in H.264.  Please use Safari if you want to upload H.265 or ProRes videos.', 'vip.errorMessaging.message.firefox', 'Error message uploading a video file that is malformed from Firefox'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI",type:"error",message:n._('This video isn\'t encoded in H.264 or H.265 or ProRes.', 'vip.errorMessaging.message.safari', 'Error message uploading a video file that is malformed from Safari'),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:t,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:n._('This video is too tall or narrow and can\'t be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.', 'vip.errorMessaging.message', 'Error message uploading a video file that is not a supported aspect ratio'),blocking:!0};default:return{dispatchId:t,id:"GENERAL_ERROR",type:"error",message:n._('Hmm, something went wrong. Please try again.', 'vip.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}},468908:function(e,n,t){var r=t(347564),i=t(310621);n.Z=function(e){return function(n){return new Promise(function(t,o){var a=new Image;a.addEventListener("load",function(){return t({fileSrc:n,height:a.height,id:(0,r.Z)(),name:n.name,size:n.size,src:a.src,type:"localImage",width:a.width})}),a.addEventListener("error",function(){return o((0,i.Z)("IMAGE_UNRECOGNIZED_TYPE",e))}),a.src=URL.createObjectURL(n)})}}},629374:function(e,n,t){var r=t(347564),i=t(310621),o=t(954375);n.Z=function(e){return function(n){return new Promise(function(t,a){var l,s=new FileReader,u=((null==(l=window.navigator)?void 0:l.userAgent)||"").includes("Safari")?n.slice(0,n.size,"video/mp4"):n,c=URL.createObjectURL(u);s.addEventListener("load",function(){var l=document.createElement("video");l.addEventListener("loadedmetadata",function(){return t({id:(0,r.Z)(),duration:l.duration,fileSrc:n,height:l.videoHeight,name:n.name,size:n.size,src:l.src,thumbnail:0,type:"localVideo",width:l.videoWidth})}),l.addEventListener("error",function(){a((0,i.Z)((0,o.Z)(),e))}),l.src=c}),s.readAsDataURL(n)})}}},954375:function(e,n,t){t.d(n,{Z:function(){return r}});function r(){var e,n=(null==(e=window.navigator)?void 0:e.userAgent)||"";if(n.includes("Firefox"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX";if(n.includes("SamsungBrowser")||n.includes("Opera")||n.includes("OPR")||n.includes("Edge"))return"VIDEO_UNRECOGNIZED_ENCODING";if(n.includes("Edg"))return"VIDEO_UNRECOGNIZED_ENCODING";if(n.includes("Chrome"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME";if(n.includes("Safari"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI";else return"VIDEO_UNRECOGNIZED_ENCODING"}},424304:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(832274),i=t(310621),o=t(468908),a=t(900993),l=t(479297);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var u=t(937656),c=t(629374),d=t(954375);function p(e){var n,t,p=e.i18n,f=e.file,g=e.options,m=e.ideaPinRenamingEnabled,y=e.imageFileTypes,h=void 0===y?r.xl:y,v=g||{},_=v.allowVideo,b=v.videoOnly;return r.ss.includes(f.type)&&_?(t=(n=(g||{}).forStoryPin)?u.Lr:0x80000000,f.size>t?Promise.resolve((0,i.Z)(n?"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":"VIDEO_OVER_MAX_FILE_SIZE",p)):(0,c.Z)(p)(f).then(function(e){var n,t,r,o,a,l,s,c;return n=p,t=e,o=(r=g||{}).forStoryPin,a=r.allowAllAspectRatios,s=(l=!!o)?u.W_:4,c=l?u.P9:900,t.duration<s?(0,i.Z)(l?"STORY_PIN_VIDEO_BELOW_MIN_DURATION":"VIDEO_BELOW_MIN_DURATION",n):t.duration>c?(0,i.Z)(l?"STORY_PIN_VIDEO_OVER_MAX_DURATION":"VIDEO_OVER_MAX_DURATION",n):t.width&&t.height?!a&&(t.width/t.height<.5||t.width/t.height>1.91)?(0,i.Z)("VIDEO_UNSUPPORTED_RATIO",n):t.width<100||t.height<100?(0,i.Z)("VIDEO_UNDER_MIN_DIMENSIONS",n):t:(0,i.Z)((0,d.Z)(),n)}).catch(function(e){return e})):!h.includes(f.type)||b?Promise.resolve((0,i.Z)("FILE_UNRECOGNIZED_TYPE",p)):f.size>0x1400000?Promise.resolve((0,i.Z)("IMAGE_OVER_MAX_FILE_SIZE",p)):(0,o.Z)(p)(f).then(function(e){var n,t,r,i,o,u;return r=(t=function(e){if(Array.isArray(e))return e}(n=a.Z.enabled("pinQuality")||null!=g&&g.isStoryPin?[300,200]:[100,100])||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return s(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],i=t[1],o=(null==g?void 0:g.minHeight)||r,u=(null==g?void 0:g.minWidth)||i,e.height*e.width>0x5555555?(0,l.ZP)({errorId:"IMAGE_OVER_MAX_DIMENSIONS",i18n:p,ideaPinRenamingEnabled:m}):e.height<o||e.width<u?(0,l.ZP)({errorId:"IMAGE_UNDER_MIN_DIMENSIONS",i18n:p,ideaPinRenamingEnabled:m,options:g}):e}).catch(function(e){return e})}},338065:function(e,n,t){t.d(n,{Z:function(){return A}});var r,i=t(387784);t(115821);var o=t(20256),a=t(104999),l=t(935059),s=t(183e3),u=t(24246),c=t(501010),d=t(923298),p=t(865043),f=t(736328),g=t(577356),m=t(473687),y=t(671220),h=t(739405),v=t(893957),_=t(229127),b=t(120100),x=t(157498),S=t(512324),P=t(529312),w=t(680811);function I(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var O=function(e){var n=e.children,t=e.pulsar,r=e.testId;return t.show?(0,w.jsx)(o.xu,{"data-test-id":r,position:"relative",children:(0,w.jsxs)(o.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,w.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:n}),(0,w.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,w.jsx)(o.o3,{})})]})}):(0,w.jsx)(o.xu,{"data-test-id":r,children:n})},j=(void 0!==r||(r=t(453217)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==r.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function A(e){var n,t,r=e.auxData,A=e.disabled,E=e.disableLog,k=e.followEventType,T=e.id,C=e.inline,D=e.invertColors,L=e.isFollowed,M=e.isIdeaPin,R=e.isLegoEnabled,F=e.isSecondaryButton,N=e.isUserFollowButton,B=e.isUserMe,z=e.onFollow,Z=e.onUnfollow,U=e.pinKey,K=e.shouldUseLegoColors,V=e.showPulsar,G=e.size,H=e.textType,W=void 0===H?"FollowFollowing":H,q=e.unfollowEventType,Y=e.viewParameter,X=e.viewType,$=e.clientTrackingParams,Q=(0,u.Z)(),J=(0,h.HG)(),ee=(0,g.dI)().showToast,en=(0,f.Z)(),et=(0,a.Z)(),er=(0,d.Z)(),ei=(0,c.Z)().checkExperiment,eo=(0,b.Z)(),ea=(0,l.Z)(),el=ea&&ea.isAuth,es=(0,P.A)(),eu=es.unauthFollowUserId,ec=es.setUnauthFollowUserId,ed=(0,x.mN)()(T),ep=(0,m.Z)(),ef=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(L))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return I(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?I(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),eg=ef[0],em=ef[1],ey=ed&&{imageMediumUrl:ed.image_medium_url,username:ed.username},eh=(0,s.Z)(j,U),ev=null==eh?void 0:eh.linkDomain,e_=null==eh?void 0:eh.nativeCreator,eb=null==eh?void 0:eh.originPinner,ex=null==eh?void 0:eh.pinner;t=e_||(ev?ev.officialUser:eb||ex);var eS=null!=ey?ey:t;(0,v.Z)(function(){!J&&el&&eu&&T&&eu===T&&z(T)});var eP=eo({fn:function(){if(el)eg?(Z(T),em(!1),E||et({event_type:q,view_type:X,view_parameter:Y,object_id_str:T,aux_data:r,clientTrackingParams:$})):(z(T),em(!0),N&&ee(function(e){var n=e.hideToast,t=null!=eS&&eS.username?"/".concat(eS.username,"/"):"";return(0,w.jsx)(S.Z,{handleHide:n,href:t,imageUrl:(null==eS?void 0:eS.imageMediumUrl)||"",text:(0,w.jsx)(o.xv,{lineClamp:4,children:Q._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:T})}),E||et({event_type:k,view_type:X,view_parameter:Y,object_id_str:T,aux_data:r,clientTrackingParams:$}));else{if((0,p.NC)(eg?"press_profile_unfollow":"press_profile_follow"),en({action:"click",item:eg?"unfollow-button":"follow-button"}),ei("migration_upsell_manager_redux").anyEnabled||ei("migration_upsell_manager_redux_dweb").anyEnabled||ei("migration_upsell_manager_redux_mweb").anyEnabled||ei("migration_upsell_manager_redux_dweb_global").anyEnabled||ei("migration_upsell_manager_redux_mweb_global").anyEnabled)if(J){var e=ei("pcons_dweb_contextual_follow_modal").anyEnabled;ep((0,y.b9)(!!M,e))}else{var n=ei("pcons_mweb_contextual_follow_modal").anyEnabled;ep((0,y.Jw)(!!M,n))}else er({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:M?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:J&&ei("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!J&&ei("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});J||ec(null!=T?T:""),(0,p.NC)("clickthrough")}},modalHeader:(0,_.N4)({i18n:Q,toFollow:!eg})}),ew=!eg&&!!V,eI=function(){if(B)return Q._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===W)return eg?Q._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):Q._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');var e="FollowUnfollow"===W?Q._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):Q._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return eg?e:Q._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,w.jsx)(O,{pulsar:ew?{show:!0,onClick:eP}:{show:!1},testId:B||eg?"board-unfollow-button":"board-follow-button",children:(0,w.jsx)(o.zx,{accessibilityLabel:eI(),color:K||"AddRemove"===W||!R&&F||D?"gray":"red",disabled:B||A,fullWidth:C,onClick:ew?void 0:function(e){var n=e.event;n.preventDefault(),n.stopPropagation(),E||et({event_type:101,component:13672,element:11951,object_id_str:T,view_type:X,view_parameter:Y,aux_data:r,clientTrackingParams:$}),eP()},selected:eg||!1,size:G,text:eI()})})}},544030:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(20256),i=t(104999),o=t(367683),a=t(24246),l=t(192336),s=t(680391),u=t(902123),c=t(373696),d=t(682004),p=t(362777),f=t(680811),g=function(e){var n=e.children,t=e.eventHandlers,o=t.onBlur,a=t.onFocus,u=t.onMouseDown,c=t.onMouseEnter,d=t.onMouseLeave,p=t.onMouseUp,g=e.role,m=e.url,y=e.contextData,h=e.onClick,v=e.onMouseDown,_=e.onMouseEnter,b=e.onTap,x=(0,i.Z)(),S=(0,s.Z)({href:m||"",onHistoryChange:l.Z}),P=function(e){y&&x(y),h&&h(e)};return"link"===g?(0,f.jsx)(r.Tg,{href:m||"",onBlur:o,onFocus:function(){a()},onMouseDown:function(){u(),null==v||v()},onMouseEnter:function(){c(),null==_||_()},onMouseLeave:function(){d()},onMouseUp:p,onTap:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),P(n),m&&S({event:n}),null==b||b()},rounding:6,children:n}):(0,f.jsx)(r.iP,{onBlur:o,onFocus:a,onMouseDown:function(){u(),null==v||v()},onMouseEnter:function(){c(),null==_||_()},onMouseLeave:d,onMouseUp:p,onTap:function(e){var n=e.event;P(n),m&&S({event:n})},role:"button",rounding:6,children:n})};function m(e){var n=e.contextData,t=e.dataTestId,i=e.iconEnd,l=e.isSelected,s=e.onClick,m=e.onMouseDown,y=e.onTap,h=e.role,v=e.showNotifBadge,_=void 0!==v&&v,b=e.text,x=e.navigateTo,S=(0,a.Z)(),P=(0,u.Z)(),w=P.active,I=P.hovered,O=P.onBlur,j=P.onFocus,A=P.onMouseDown,E=P.onMouseEnter,k=P.onMouseLeave,T=P.onMouseUp,C=(0,o.oS)(c.nu),D=(0,d.G)().preload,L=function(){if((null==x?void 0:x.kind)==="Entrypoint"){var e=x.preloadExtent;if("None"!==e)return function(){return D(x.route,e)}}return null}(),M=(null==x?void 0:x.kind)==="Entrypoint"?(0,p.w)(x.route):(null==x?void 0:x.kind)==="Legacy"?x.url:null;return(0,f.jsx)(r.xu,{"data-test-id":t,flex:"none",height:48,minWidth:60,rounding:6,children:(0,f.jsx)(g,{contextData:n,eventHandlers:{onBlur:O,onFocus:j,onMouseDown:A,onMouseEnter:E,onMouseLeave:k,onMouseUp:T},onClick:function(e){null==s||s(e),_&&C.completeExperience(c.nu,c.wo)},onMouseDown:null!=m?m:null,onMouseEnter:L,onTap:y,role:void 0===h?"link":h,url:M,children:(0,f.jsx)(r.xu,{color:l||w?"selected":I?"secondary":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:w&&!l?"#D2D2D2":void 0,whiteSpace:"nowrap"}},flex:"none",height:48,minWidth:60,paddingX:4,rounding:6,children:(0,f.jsxs)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,f.jsx)(r.xv,{align:"center",color:l?"inverse":"default",inline:!0,overflow:"normal",weight:"bold",children:b}),i&&(0,f.jsx)(r.xu,{marginStart:2,children:(0,f.jsx)(r.JO,{accessibilityLabel:"",color:l?"inverse":"default",icon:i,size:12})}),_&&(0,f.jsx)(o.a3,{eligibleIds:[c.wo],placementId:c.nu,children:(0,f.jsx)(r.z$,{accessibilityLabel:S._('Notifications', 'header.headerTab.notifBadge', 'accessibility label for icon indicating the header tab has notifications')})})]})})})})}},923790:function(e,n,t){var r=t(387784),i=t(562400),o=t(818282);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==a(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}n.Z=function(){var e,n=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)({searchIconOnly:!1,shrinkSearchBox:!1}))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||function(e,n){if(e){if("string"==typeof e)return u(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=n[0],a=t.shrinkSearchBox,l=t.searchIconOnly,c=n[1];return(0,r.useEffect)(function(){var e=(0,i.Z)(function(){var e=document.getElementById(o.v6);if(e){var n=300>=(e.offsetWidth||0);window.innerWidth<850?c({searchIconOnly:n,shrinkSearchBox:!0}):a?c({searchIconOnly:!1,shrinkSearchBox:!1}):c(function(e){return s(s({},e),{},{searchIconOnly:n})})}},100);return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[a]),{shrinkSearchBox:a,searchIconOnly:l}}},69841:function(e,n,t){t.d(n,{Cy:function(){return p},HE:function(){return f},JE:function(){return y},Mv:function(){return s},Y4:function(){return g},dL:function(){return l},fS:function(){return m},fv:function(){return c},qS:function(){return d},u:function(){return h},uc:function(){return u}});var r=t(79271);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach(function(n){var r,o;r=n,o=t[n],(r=function(e){var n=function(e,n){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==i(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var l=function(e){var n=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},s=function(e){var n=(0,r.ZP)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:n})},u=function(e){var n=(0,r.ZP)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:n})},c=function(e){var n=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:n})},d=function(e){var n=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},p=function(e){var n=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},f=function(e){var n=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},g=function(e){var n=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},m=function(e){var n=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:n})},y=function(e){var n,t=(0,r.ZP)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:null!=(n=e.slotIndex)?n:0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},h=function(e){var n=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"EditorialBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})}},798385:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(157498);function i(){var e=(0,r.dM)();return Object.keys(e).reduce(function(n,t){var r=e[t];return n[r.username]=r,n},{})}},143677:function(e,n,t){t.d(n,{Z:function(){return L}});var r,i=t(387784);t(115821);var o=t(20256),a=t(104999),l=t(935059),s=t(183e3),u=t(24246),c=t(995514),d=t(720459),p=t(216975),f=t(774838),g=t(865043),m=t(327638),y=t(380938),h=t(739405),v=t(474885),_=t(914253);function b(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return x(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var S=t(680811);function P(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return w(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function I(e){var n,t,r,a,s,c,d,f,g=e.boardId,m=(0,u.Z)(),y=(0,l.Z)(),v=(0,h.HG)(),x=(0,_.gC)()(g),w=(n=(0,l.Z)(),t=(0,h.HG)()&&n&&n.isAuth,r=(0,_.gC)()(g),(0,i.useMemo)(function(){if(!r)return[];for(var e=r.owner,i=r.collaborating_users,o=new Set,a=new Set,l=new Set,s=0,u=[].concat(b(e?[e]:[]),b(i||[]));s<u.length;s++){var c=u[s];c.id===(null==e?void 0:e.id)?o.add(c):c.id===(n.isAuth?n.id:void 0)?a.add(c):l.add(c)}return[].concat(b(o),b(a),b(l)).map(function(e){var n,r,i;return{name:null!=(n=t?e.full_name:e.username)?n:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!=(r=e.image_medium_url)?r:"",color:null!=(i=null==e?void 0:e.avatar_color_index)?i:void 0}})},[t,r,n]));if(!x)return null;var I=x.collaborator_count,O=void 0===I?0:I,j=v&&y&&y.isAuth?23:16,A=j/3*((w.length>2?3:w.length)*2+1),E=O>=w.length?O-w.length:0;E=E>99?100:E;var k=[].concat(P(w),P(Array(E).fill({name:"",src:""}))),T="",C=w.slice(0,3).map(function(e){return e.name});switch(w.length){case 3:T=(0,p.Wc)("".concat(m._('{{ first }}, {{ second }}, and {{ last }}', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.usernames.threeAvatars', 'List of three usernames. Placeholders: first: first collaborator name, second: second collaborator name, last: third collaborator name.')),{first:"".concat(null!=(a=C[0])?a:""),second:"".concat(null!=(s=C[1])?s:""),last:"".concat(null!=(c=C[2])?c:"")});break;case 2:T=(0,p.Wc)("".concat(m._('{{ first }} and {{ second }}', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.usernames.twoAvatars', 'List of two usernames. Placeholders: first: first collaborator name, second: second collaborator name.')),{first:"".concat(null!=(d=C[0])?d:""),second:"".concat(null!=(f=C[1])?f:"")});break;default:T=C.join(", ")}var D=w.length>3?(0,p.Wc)(", ".concat(m.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', w.length - 3, 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars. Placeholders: userNames: list of displayed collaborator names, leftCount: count of non-displayed collaborators.')),{userNames:T,leftCount:"".concat(w.length-3)}):(0,p.Wc)(", ".concat(m._('Collaborators: {{ userNames }}.', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.notAboveThree', 'Accessibility label for the Avatar Group component that lists the names of collaborators. Placeholder: userNames: list of displayed collaborator names.')),{userNames:T});return(0,S.jsx)(o.xu,{height:j,marginStart:2,minWidth:A,width:A,children:(0,S.jsx)(o.HE,{accessibilityLabel:D,collaborators:k})})}var O=t(464094),j=t(748261),A=t(338065),E=t(69841),k=t(798385),T=t(305375),C=(void 0!==r||(r=t(492774)).hash&&"160b60f499ce33660e2c11915eed4d09"!==r.hash&&console.error("The definition of 'BoardCard_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),D=function(e){var n=e.children,t=e.isOwnProfile,r=e.lineClamp;return(0,h.HG)()?(0,S.jsx)(o.X6,{accessibilityLevel:2,lineClamp:t?1:r,size:t?"400":"300",children:n}):(0,S.jsx)(o.xv,{lineClamp:t?1:r,size:t?void 0:"200",weight:"bold",children:n})};function L(e){var n,t,r,_,b=e.archivedDate,x=e.boardId,P=e.boardUrl,w=e.canEdit,L=e.numberOfCollaborators,M=e.containerBackgroundColor,R=e.coverPhoto,F=e.display,N=e.followButtonDisabled,B=void 0!==N&&N,z=e.followedByMe,Z=e.fullSizeDrawer,U=e.sensitivityScreen,K=e.handleInviteResponse,V=e.hideMeta,G=e.hideSecretBoardIcon,H=void 0!==G&&G,W=e.id,q=e.invite,Y=e.imagesLego,X=e.isActive,$=e.isAttributionHeightUnfixed,Q=e.isAuthenticated,J=e.isBoardInviteAccepted,ee=e.isCollaborative,en=e.isCollaborator,et=e.isCollaboratorsAttributionVisible,er=e.isFeaturedBoardsModule,ei=void 0!==er&&er,eo=e.isHomePageBoards,ea=e.isOwner,el=e.isProtected,es=e.isSecret,eu=e.lastModifiedDate,ec=e.layout,ed=e.lineClamp,ep=void 0===ed?2:ed,ef=e.locale,eg=e.metaMarginTop,em=void 0===eg?0:eg,ey=e.metaMarginBottom,eh=void 0===ey?0:ey,ev=e.metaPaddingY,e_=void 0===ev?2:ev,eb=e.name,ex=e.numCols,eS=e.onEditClick,eP=e.onFollow,ew=e.onUnfollow,eI=e.pinCount,eO=void 0===eI?0:eI,ej=e.sectionCount,eA=e.slotIndex,eE=e.showFollowButton,ek=e.showBoardCollaborators,eT=void 0===ek||ek,eC=e.showTitleOnly,eD=e.trackingParams,eL=e.boardKey,eM=e.viewObjectIdStr,eR=e.viewParameter,eF=e.viewType,eN=(0,u.Z)(),eB=(0,c.Z)(),ez=(0,d.Z)(),eZ=(0,a.Z)(),eU=(0,h.HG)(),eK=(0,f.B)().isRTL,eV=(0,l.Z)(),eG=(0,T.Z)().username,eH=null==(n=(0,k.Z)()[null!=eG?eG:""])?void 0:n.is_gco_account,eW=(0,s.Z)(C,eL),eq=(eW||{}).featuredBoardMetadata||{},eY=eq.curator,eX=eq.isSponsoredContent,e$=ei&&eX,eQ=eU&&Q,eJ="square"===ec?O.M0:O.z9,e0="responsive"!==F&&(eQ||ei)?eJ:"100%",e1=eV.isAuth&&eV.username===eG,e2=function(e){Q||(0,g.NC)("press_follow_board"),eP&&eP(e)},e3=function(e){Q||(0,g.NC)("press_unfollow_board"),ew&&ew(e)},e6=(void 0===Y?[]:Y).map(function(e){return{url:e.url,name:eb}}),e5=!!(null!=eW&&eW.owner)&&!w&&eE,e4=null==eW||null==(t=eW.owner)?void 0:t.isVerifiedMerchant,e7=null==eW||null==(r=eW.owner)||null==(_=r.verifiedIdentity)?void 0:_.verified,e8=ee&&!ei;!e1&&e8&&(e8=!!eG&&!eH);var e9=!ea&&!en&&!!(null!=U&&U.show_warning),ne={board_id:W,reason:null==U?void 0:U.reason},nn=!e1&&!eC&&(!eG||void 0!==et&&et||eH),nt=eQ?void 0:O.s0+(e5?O.o2:0);e1||(nt=eU?void 0:(nn?O.AC:O.Y_)+(e5?O.o2:0));var nr=e5&&"responsive"!==F?"max(calc(25vh + 10px), calc(".concat(210,"px + ").concat(5*!e1,"vh))"):"100%";return(0,i.useEffect)(function(){e9&&eZ({event_type:13,component:13861,view_type:215,aux_data:ne})},[]),(0,S.jsx)(E.fS,{auxData:{board_id:W,board_pin_count:null!=eO?eO:0,board_section_count:null!=ej?ej:0,grid_index:eA||0},impressionData:{imageURL:null==R?void 0:R.url},loggingId:W,slotIndex:eA||0,trackingParams:eD,viewData:{view_object_id_str:eM},viewParameter:eR,viewType:eF,children:function(e){var n,t,r,a,l,s,u,c,d,f=e.impressionTrackerRef;return(0,S.jsxs)(o.xu,{ref:f,"data-test-id":"boardCard-".concat(eb),height:b&&!eU?"100%":nr,position:"relative",width:e0,children:[(0,S.jsx)(o.zd,{rounding:4,children:(0,S.jsx)(j.Z,{boardKey:eW,canEdit:w,containerBackgroundColor:M,coverPhoto:R,coverPinKey:null==eW?void 0:eW.coverPin,fullSize:Z,hideSecretBoardIcon:H,images:e6,isActive:X,isHomePageBoards:eo,isProtected:el,isSecret:es,layout:ec,onEditClick:eS,renderAsImage:!0,showSensitivityScreen:e9})}),!V&&(0,S.jsx)(i.Fragment,{children:q?(0,S.jsxs)(i.Fragment,{children:[(0,S.jsxs)(o.xu,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[(0,S.jsxs)(o.xu,{width:"100%",children:[(0,S.jsx)(o.rU,{href:null!=P?P:"",children:(0,S.jsx)(o.xu,{marginBottom:1,marginTop:0,children:(0,S.jsx)(D,{isOwnProfile:e1,lineClamp:ep,children:eb})})}),J?(0,S.jsx)(o.xv,{lineClamp:1,size:"200",children:eN._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,S.jsx)(o.xv,{size:"200",children:(t=(n=q.invited_by_user).full_name,r=n.username,a=(0,S.jsx)(o.rU,{display:"inlineBlock",href:"/".concat(r),underline:"hover",children:t},"linkToUser"),(0,p.nk)(eN._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:a}))})]}),eT&&(0,S.jsx)(I,{boardId:x})]}),J?(0,S.jsx)(o.xu,{direction:"row",display:"flex",paddingX:2,children:(0,S.jsx)(o.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,S.jsx)(o.ZP,{fullWidth:!0,href:null!=P?P:"",size:"lg",text:eN._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,S.jsxs)(o.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,S.jsx)(o.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,S.jsx)(o.zx,{fullWidth:!0,onClick:function(){null==K||K(!1)},size:"lg",text:eN._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,S.jsx)(o.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,S.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:function(){null==K||K(!0)},size:"lg",text:eN._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,S.jsxs)(o.xu,{height:$?void 0:nt,marginBottom:eh,marginTop:em,paddingX:2,paddingY:e_,children:[(0,S.jsxs)(o.xu,{alignItems:e1?"center":"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,S.jsx)(D,{isOwnProfile:e1,lineClamp:ep,children:eb}),e8&&eT&&(0,S.jsx)(I,{boardId:x})]}),nn&&(0,S.jsx)(o.xu,{marginTop:1,children:e$?(0,S.jsx)(v.Z,{numberOfCollaborators:0,ownerFullName:null!=(l=null==eY?void 0:eY.fullName)?l:"",ownerIsVerifiedIdentity:!!(null==eY||null==(s=eY.verifiedIdentity)?void 0:s.verified),ownerIsVerifiedMerchant:!!(null==eY?void 0:eY.isVerifiedMerchant),showBoardCollaborators:!1}):(0,S.jsx)(v.Z,{numberOfCollaborators:L,ownerFullName:null!=(u=null==eW||null==(c=eW.owner)?void 0:c.fullName)?u:"",ownerIsVerifiedIdentity:!!e7,ownerIsVerifiedMerchant:!!e4,showBoardCollaborators:eT})}),!eC&&(0,S.jsxs)(o.xu,{alignItems:eU?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,S.jsx)(o.kC.Item,{flex:"none",children:(0,S.jsxs)(o.xv,{color:e1?void 0:"subtle",lineClamp:1,size:"100",children:[(0,S.jsx)(m.Z,{}),(0,p.nk)(eN.ngettext('{{ count }} Pin', '{{ count }} Pins', eO, 'profile.ProfilePage.board.BoardCard.pinsCount', 'Show how many Pins there are in the board card. count:number of Pins'),{count:ez(ef,eO,{shortform:!0,shortform_maximum_fraction_digits:1})})]})}),!!ej&&(0,S.jsxs)(o.xv,{color:e1?void 0:"subtle",lineClamp:1,size:"100",children:[(0,S.jsx)(y.Z,{ariaHidden:!0,size:"100"}),(0,S.jsx)(m.Z,{}),(0,p.nk)(eN.ngettext('{{ count }} section', '{{ count }} sections', ej, 'profile.ProfilePage.board.BoardCard.sectionsCount', 'Show how many sections there are in the board card. count:number of sections'),{count:ej})]}),!e1&&(0,S.jsx)(o.xv,{color:"subtle",size:"100",children:(0,S.jsx)(y.Z,{ariaHidden:!0,size:"100"})}),(0,S.jsx)(o.kC.Item,{flex:ej?"none":"grow",children:(0,S.jsx)(o.xu,{display:"flex",marginEnd:2*!!eK,marginStart:e1?2:void 0,children:(0,S.jsxs)(o.xv,{color:"subtle",lineClamp:1,size:"100",children:[(0,S.jsx)(m.Z,{}),eB(eu,!0)]})})})]}),b&&!eU&&(0,S.jsxs)(o.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,S.jsx)(m.Z,{}),eN._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]}),e5&&(0,S.jsx)(o.xu,{column:2===ex?12:void 0,flex:"none",marginTop:2===ex?3:void 0,children:(0,S.jsx)(A.Z,{disabled:!!(null==eW||null==(d=eW.owner)?void 0:d.blockedByMe)||B,followEventType:26,id:W,isFollowed:z,onFollow:e2,onUnfollow:e3,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:eR,viewType:eF})})]})})]})}})}},662911:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r,i=t(387784),o=t(581722);t(115821);var a=t(20256),l=t(104999),s=t(935059),u=t(183e3),c=t(774838),d=t(865043),p=t(736328),f=t(739405),g=t(143677),m=t(422913),y=t(214451),h=t(701572),v=t(914253),_=t(680811);function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var x=(void 0!==r||(r=t(786897)).hash&&"b51e16b22d651401bb711c808b3fd44c"!==r.hash&&console.error("The definition of 'BoardRep_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),S=["thumbnail","imageOnly"],P=function(e){var n=e.isUsingMask,t=e.setIsHovered,r=e.children,o=(0,f.HG)();return n&&o?(0,_.jsx)(a.xu,{onMouseEnter:function(){return t(!0)},onMouseLeave:function(){return t(!1)},children:r}):(0,_.jsx)(i.Fragment,{children:r})};function w(e){var n,t,r,w,I,O,j,A,E,k,T,C,D,L,M,R,F,N,B,z,Z,U,K,V,G,H,W,q=e.boardKey,Y=e.component,X=e.containerBackgroundColor,$=e.display,Q=e.forwardedRef,J=e.fullSize,ee=e.hideSecretBoardIcon,en=e.isAttributionHeightUnfixed,et=e.isCollaboratorsAttributionVisible,er=e.isFeaturedBoardsModule,ei=e.isHomePageBoards,eo=e.noPaddings,ea=e.showFollowButton,el=e.isUsingMask,es=e.showPinCount,eu=e.slotIndex,ec=e.type,ed=e.viewObjectIdStr,ep=e.viewParameter,ef=e.viewType,eg=e.trackInteractionObjectProp,em=e.isFromProfileGrid,ey=e.metaMarginTop,eh=e.metaMarginBottom,ev=e.metaPaddingY,e_=(0,s.Z)(),eb=e_&&e_.isAuth,ex=(0,o.I0)(),eS=(0,c.B)().locale,eP=(0,p.Z)(),ew=(0,u.Z)(x,q),eI=(0,v.gC)(),eO=null!=ew&&ew.entityId?eI(ew.entityId):null,ej=(0,m.Z)(ew),eA=(0,l.Z)(),eE=(0,f.HG)(),ek=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return b(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?b(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),eT=ek[0],eC=ek[1];if(!ew)return null;var eD=ew.collaboratingUsers,eL=ew.owner,eM=ew.privacy,eR=ew.shouldShowBoardCollaborators,eF=e_.isAuth?e_.id:"",eN=(null==eL?void 0:eL.entityId)===eF,eB=[];(null==eD?void 0:eD.__typename)==="UserCollaboratingUsersConnectionContainer"?eB=null!=(G=null==(H=eD.connection)||null==(W=H.edges)?void 0:W.map(function(e){var n;return null==e||null==(n=e.node)?void 0:n.entityId}))?G:[]:null!=eO&&eO.collaborating_users&&(eB=eO.collaborating_users.map(function(e){return e.id}));var ez=eB.includes(eF)||eN;if("secret"===eM&&!ez)return null;var eZ=!eb&&!(void 0!==em&&em&&ew.hasCustomCover)&&!!(null!=(t=ew.images236x)&&null!=(r=t[0])&&r.url),eU="grid"===ec||"thumbnail"===ec?2:4,eK=eZ?null==(w=ew.images236x)||null==(I=w[0])?void 0:I.url:ej(eU),eV=null!=(O=ew.coverPin)?O:null==eO?void 0:eO.cover_pin,eG=null!=(j=(null==eV?void 0:eV.crop)&&(null==eV?void 0:eV.size)&&{x:null!=(A=null==eV?void 0:eV.crop[0])?A:0,y:null!=(E=null==eV?void 0:eV.crop[1])?E:0,width:null!=(k=null==eV?void 0:eV.size[0])?k:0,height:null!=(T=null==eV?void 0:eV.size[0])?T:0})?j:{x:0,y:0,width:0,height:0},eH={isCustom:!eZ&&(ew.hasCustomCover||void 0),url:eK,position:eG},eW=null!=(C=ew.pinThumbnailUrls)?C:null==eO?void 0:eO.pin_thumbnail_urls,eq=(0,y.Jx)(ew.images170x,null!=(D=null==eW?void 0:eW.filter(function(e){return null!==e}))?D:void 0,eK).map(function(e){var n=e.url;return{name:(0,y.po)(n),url:n}}),eY=[44,49,4182].includes(ep)||[3,442,625].includes(ef),eX=null!=ew&&ew.sensitivityScreen?{reason:null==(L=ew.sensitivityScreen)?void 0:L.reason,showWarning:null==(M=ew.sensitivityScreen)?void 0:M.showWarning}:void 0,e$=null!=(R=null!=(F=ew.pinCount)?F:null==eO?void 0:eO.pin_count)?R:0,eQ=null!=(N=null!=(B=ew.sectionCount)?B:null==eO?void 0:eO.section_count)?N:0,eJ=(0,_.jsx)(g.Z,{archivedDate:null!=(z=ew.archivedByMeAt)?z:null==eO?void 0:eO.archived_by_me_at,boardId:ew.entityId,boardKey:ew,canEdit:!!ew.boardAccess&&ew.boardAccess.includes("write"),containerBackgroundColor:X,coverPhoto:eH,display:void 0===$?"responsive":$,followedByMe:!!(null!=(Z=null==eO?void 0:eO.followed_by_me)?Z:ew.followedByMe),fullSizeDrawer:J,hideMeta:S.includes(ec),hideSecretBoardIcon:void 0!==ee&&ee,id:ew.entityId,imagesLego:eq,isActive:eT,isAttributionHeightUnfixed:void 0!==en&&en,isAuthenticated:eb,isCollaborative:!!ew.isCollaborative,isCollaborator:!!ez,isCollaboratorsAttributionVisible:void 0!==et&&et,isFeaturedBoardsModule:void 0!==er&&er,isHomePageBoards:ei,isOwner:eN,isProtected:"protected"===ew.privacy||(null==eO?void 0:eO.privacy)==="protected",isSecret:"secret"===ew.privacy||(null==eO?void 0:eO.privacy)==="secret",lastModifiedDate:null!=(U=null!=(K=ew.boardOrderModifiedAt)?K:null==eO?void 0:eO.board_order_modified_at)?U:"",layout:eE?"square":void 0,locale:eS,metaMarginBottom:void 0===eh?0:eh,metaMarginTop:void 0===ey?2:ey,metaPaddingY:void 0===ev?0:ev,name:null!=(V=ew.name)?V:(null==eO?void 0:eO.name)||"",numberOfCollaborators:eB.length,numCols:eU,onFollow:function(e){return ex((0,h.Z)(e,eA))},onUnfollow:function(e){return ex((0,h.f)(e,eA))},pinCount:(void 0===es||es)&&e$?e$:void 0,sectionCount:null!=eQ?eQ:0,sensitivityScreen:eX,showBoardCollaborators:!1!==eR,showFollowButton:void 0===ea||ea,showTitleOnly:"imageTitle"===ec,slotIndex:eu,viewerId:eF,viewObjectIdStr:ed,viewParameter:ep,viewType:ef}),e0=ew.url||(null==eO?void 0:eO.url);return!S.includes(ec)&&e0?(0,_.jsx)(a.Tg,{dataTestId:"board-rep-tap-area-link",href:eb?e0:e0.toLowerCase(),onTap:function(){if(eY&&eA({aux_data:{board_id:ew.entityId,board_pin_count:e$,board_section_count:eQ},component:null!=Y?Y:1,element:36,event_type:102,view_parameter:49===ep?eN?3106:3107:ep,view_data:{view_object_id_str:ed}}),!eb){if((0,d.NC)("click_go_to_board"),eg)return void eP(eg);eP({action:"click",item:"board-card"})}},rounding:2,tapStyle:"compress",children:(0,_.jsx)(a.xu,{ref:Q,paddingY:void 0!==eo&&eo?0:eE?2:3,children:(0,_.jsx)(P,{isUsingMask:void 0!==el&&el,setIsHovered:eC,children:eJ})})}):eJ}},474885:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(20256),i=t(271255),o=t(24246),a=t(720459),l=t(774838),s=t(680811),u={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function c(e){var n=e.ownerFullName,t=e.ownerIsVerifiedMerchant,c=e.ownerIsVerifiedIdentity,d=e.numberOfCollaborators,p=e.size,f=void 0===p?"xs":p,g=e.showBoardCollaborators,m=(0,o.Z)(),y=(0,l.B)().locale,h=(0,a.Z)();return(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",maxHeight:u[f].height,children:[(0,s.jsx)(r.xv,{lineClamp:1,size:u[f].text,children:(0,s.jsx)(i.Z,{text:n})}),(t||c)&&(0,s.jsx)(r.xu,{flex:"none",marginStart:1,children:t?(0,s.jsx)(r.kw,{accessibilityLabel:m._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant is verified'),color:"info",icon:"compact-check-circle-fill",size:u[f].icon}):(0,s.jsx)(r.kw,{accessibilityLabel:m._('Identity verification badge icon', 'identityVerification.badge.icon', 'Badge indicating that user is verified'),color:"error",icon:"compact-check-circle-fill",size:u[f].icon})}),(void 0===g||g)&&d>0&&(0,s.jsx)(r.xu,{flex:"none",marginStart:1,marginTop:.25,children:(0,s.jsx)(r.xv,{size:u[f].text,children:"+ "+h(y,d,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},422913:function(e,n,t){t(115821);var r,i=t(183e3),o=t(914253),a=(void 0!==r||(r=t(97812)).hash&&"756d8d8edca35eac0a0500359bf60618"!==r.hash&&console.error("The definition of 'useGetCoverPhoto_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);n.Z=function(e){var n,t,r,l,s,u,c,d=(0,i.Z)(a,e),p=(0,o.gC)(),f=null!=d&&d.entityId?p(d.entityId):null,g=null!=(n=null==d?void 0:d.imageCoverUrl)?n:null==f?void 0:f.image_cover_url,m=null!=(t=null==d?void 0:d.coverImageSpec_216x146)?t:null==f||null==(r=f.cover_images)?void 0:r.spec_216x146,y=null!=(l=null==d?void 0:d.coverImageSpec_222x)?l:null==f||null==(s=f.cover_images)?void 0:s.spec_222x,h=null!=(u=null==d?void 0:d.coverImageSpec_400x300)?u:null==f||null==(c=f.cover_images)?void 0:c.spec_400x300;return function(e){var n,t,r,i=(null==d?void 0:d.imageCoverHdUrl)||(null==d?void 0:d.imageCoverUrl);if(i)return i;var o=null!=(n=null!=(t=null!=(r=null==h?void 0:h.url)?r:null==y?void 0:y.url)?t:null==m?void 0:m.url)?n:"";return e&&e>2&&o?o:g||""}}},214451:function(e,n,t){t.d(n,{Bw:function(){return l},Jx:function(){return a},po:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1)},i=function(e){return{dominant_color:"#FFFFFF",height:1,url:e,width:1}},o=function(e){if(!e)return function(){return!0};var n=r(e);return function(e){var t;return"string"==typeof e?r(e)!==n:r(null!=(t=e.url)?t:"")!==n}},a=function(e,n,t){return e?e.filter(o(t)):n?n.filter(o(t)).map(i):[]},l=function(e){var n;return null!=(n=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})?n:{x:0,y:0,width:0,height:0}}},113759:function(e,n,t){t.d(n,{bq:function(){return d},x4:function(){return p}});var r=t(387784),i=t(15392),o=t(680811);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==a(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var u={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:i.Gg,maxWidth:i.u6,descriptionPaneWidth:i.u6-i.Gg,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:function(){},setIsCloseupMediaViewerOpen:function(){},setIsCommentAttachmentSelectorOpen:function(){},setIsCommentComposerFocused:function(){},setIsCommentPopoverInteractionActive:function(){},setIsMediaViewerOpen:function(){},setIsShoppingModuleExpanded:function(){},setCalculatedImageHeight:function(){},setViewportSize:function(){}},c=(0,r.createContext)(u);function d(e){var n=e.children,t=e.value,i=(0,r.useMemo)(function(){return s(s({},u),t)},[t]);return(0,o.jsx)(c,{value:i,children:n})}function p(){var e=(0,r.useContext)(c);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}},15392:function(e,n,t){t.d(n,{$T:function(){return m},CI:function(){return a},Ch:function(){return s},E$:function(){return P},ER:function(){return g},Gb:function(){return u},Gg:function(){return i},Hf:function(){return v},Id:function(){return x},Ie:function(){return d},KP:function(){return p},Kn:function(){return l},O5:function(){return y},d2:function(){return c},dm:function(){return S},fF:function(){return b},g9:function(){return f},iB:function(){return _},rv:function(){return h},u6:function(){return o}});var r=t(20256),i=508,o=1016,a=488,l=992,s=672,u=1176,c=40,d=72,p=740,f=32,g=16,m=24,y=2,h=1,v=new r.Ry(5),_={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},b={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"},x="calc(90vh - 80px)",S="calc(55vh + 80px)",P="calc(75vh - 80px)"},501755:function(e,n,t){t.d(n,{Z:function(){return E}});var r=t(387784),i=t(20256),o=t(788730),a=t(352015),l=t(230201),s=t(367683),u=t(514837),c=t(806513),d=t(24246),p=t(79271),f=t(59111),g=t(216975),m=t(774838),y=t(893957),h=t(113759),v=t(680811);function _(e){var n=e.index,t=e.length,r=e.showBadge;return(0,v.jsx)(i.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:.8*!!r,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new i.Ry(1),children:(0,v.jsx)(i.xv,{color:"inverse",children:"".concat((null!=n?n:0)+1,"/").concat(t)})})}var b=t(834182),x=t(228612),S=t(74195);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=P(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=P(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==P(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return j(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var A=function(e){var n=e.index,t=O((0,r.useState)(!0),2),i=t[0],o=t[1],a=(0,r.useRef)(void 0),l=(0,r.useRef)(void 0);return(0,r.useEffect)(function(){return a.current=setTimeout(function(){o(!1)},3e3),function(){clearTimeout(a.current)}},[]),(0,r.useEffect)(function(){if(!l.current){l.current=n;return}clearTimeout(a.current),o(!0)},[n]),{showBadge:i}};function E(e){var n,t,P,w=e.backgroundColor,j=e.children,E=e.componentType,k=e.containerRef,T=e.contextLogData,C=e.disableTransition,D=e.gap,L=void 0===D?0:D,M=e.height,R=e.id,F=e.impressionType,N=e.index,B=e.responsiveSizing,z=void 0!==B&&B,Z=e.shouldBeDragCarousel,U=e.showCarouselBadge,K=e.styleOverrides,V=e.innerCarouselWidthRef,G=e.slideWidth,H=e.surface,W=e.paddingX,q=e.view,Y=e.viewParameter,X=e.widthRatio,$=void 0===X?1:X,Q=e.setSlideIndex,J=e.sliderRef,ee=e.showCarouselOverflow,en=e.isHorizontalScrollable,et=A({index:N}).showBadge,er=(0,l.u)().logContextEvent,ei=(0,x.S6)()(R),eo=(0,d.Z)(),ea=(0,m.B)().isRTL,el=(0,r.useRef)(void 0),es=(0,r.useRef)(null),eu=(0,r.useRef)(0),ec=(0,r.useRef)(void 0),ed=(0,S.Z)(),ep=(0,h.x4)(),ef=ep.peekCloseupEnabled,eg=ep.viewportSize;if((0,y.Z)(function(){var e=es.current;if(e){J&&e&&(J.current=e);var n=function(){var e=eu.current;if(en){var n=new IntersectionObserver(function(t){var i,o=-(null!=(i=O(t,1)[0].boundingClientRect.x)?i:0),a=r.Children.toArray(j),l=J?(0,b.yR)(J.current,o+ed,G,$,L,a.length):0;null==Q||Q(l),Math.abs(e-o)>=10&&er({aux_data:I({},T),component:E,event_type:"right"==(e<o?"right":"left")?9315:9316,view_type:q,view_parameter:Y}),eu.current=o,ec.current&&n.unobserve(ec.current)});ec.current&&n.observe(ec.current)}else{var t,i,o=-(null!=(t=null==(i=ec.current)?void 0:i.getBoundingClientRect().x)?t:0);Math.abs(e-o)>=10&&er({aux_data:I({},T),component:E,event_type:"right"==(e<o?"right":"left")?9315:9316,view_type:q,view_parameter:Y}),eu.current=o}};return Z&&(en&&(null==e||e.addEventListener("scroll",n)),null==e||e.addEventListener("touchend",n)),function(){Z&&(en&&(null==e||e.removeEventListener("scroll",n)),null==e||e.removeEventListener("touchend",n))}}}),$>1||$<0)throw Error("widthRatio should be between 0 and 1 inclusive");var em=Math.floor(G*$),ey=r.Children.toArray(j),eh=ey.length*em,ev=(null==k?void 0:k.clientWidth)||eh,e_=(0,o.Re)(),eb=e_.maxHeight,ex=e_.fiftyPercentHeight,eS=e_.fiftyPercentWidth,eP=ef&&"lg"===eg&&"ShoppingGridSmallCarousel"===H;ef&&(P="sm"===eg?ex:eb);var ew=null!=(n=null==K?void 0:K.justifyContent)?n:ev>eh?"center":"start",eI=function(e){return void 0!==e?"".concat(e,"px"):Z?"".concat(c.yt,"px"):void 0},eO=eI(null==K?void 0:K.horizontalScrollContainerPaddingLeft),ej=eI(null==K?void 0:K.horizontalScrollContainerPaddingRight);V&&(V.current="center"===ew?es.current:null);var eA=z||Z?void 0:(0,b.CU)({slotWidth:em,gap:L,numberOfSlides:ey.length,index:N,containerWidth:ev,paddingX:W});return(0,v.jsxs)("div",{className:"BoardMoreIdeasRep"===F?"moreIdeasBoardRepCarousel":"",style:z?{height:"inherit"}:{},children:[(0,v.jsxs)(i.xu,{alignItems:"center","data-test-id":"carousel-pin",display:"flex",height:z?"inherit":void 0,justifyContent:ew,overflow:eP||ee?void 0:"hidden",children:[U&&(0,v.jsx)(_,{index:N,length:ey.length,showBadge:et}),"BoardMoreIdeasRep"!==F&&(0,v.jsx)(a.P,{pinKey:null!=ei?{type:"Legacy",data:ei}:null,children:function(e){var n,t;return(0,v.jsx)(u.Z,{carouselData:I(I({},e),{},{type:"canonical"}),contextLogData:T,height:null!=(n=null!=M?M:null==(t=el.current)?void 0:t.clientHeight)?n:1,id:R,impressionType:"Pin",index:N,slideWidth:G,view:null!=q?q:1,viewParameter:null!=Y?Y:72},"carousel-impression-key-".concat(N))}}),Z&&(0,v.jsx)(f.Z,{unsafeCSS:"\n  .horizontal-scroll-container {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }"}),(0,v.jsx)("div",{ref:es,className:"horizontal-scroll-container","data-test-id":"carousel-container",style:{backgroundColor:void 0===w?"transparent":w,overflowX:Z?"scroll":"visible",paddingLeft:eO,paddingRight:ej,display:"flex",flexDirection:null!=(t=null==K?void 0:K.flexDirection)?t:"row",height:z?"inherit":void 0,marginLeft:W?"".concat(W,"px"):void 0,marginRight:W?"".concat(W,"px"):void 0,position:"relative",scrollbarWidth:0,transition:Z||C?void 0:ea?"right .5s":"left .5s",right:ea?eA:void 0,left:ea?void 0:eA,width:z?"100%":void 0},children:ey.map(function(e,n){var t=n===ey.length-1,r=Math.ceil(L/4),a=0;r>=-12&&r<=12&&(a=r);var l=(0,v.jsx)(i.xu,{ref:function(e){el.current=e,0===n&&(ec.current=e)},"aria-label":(0,g.Wc)(eo._('Slide {{ currentSlide }} of {{ totalSlides }}', 'CloseupCarousel.Carousel.labelSlide', 'Accessibility label that defines a carousel slide. currentSlide: current slide number. totalSlides: total number of slides in carousel.'),{currentSlide:"".concat(n+1),totalSlides:"".concat(ey.length)}),"data-carousel-indicator":"carousel-card","data-test-id":"carousel-img-".concat(n),display:n!==N&&z?"none":"block",height:z?"100%":null!=M?M:void 0,marginEnd:t?0:a,maxHeight:P,maxWidth:eP?"calc(".concat(o.LV,"px - ").concat(o.Gd,"px * 2)"):eS,role:"group",width:z?"100%":em,children:e},"carousel-slot-".concat(R,"-").concat(n));if("BoardMoreIdeasRep"===F){var s=e.props,u={total_object_count:null==s?void 0:s.story.objects.length,storyType:null==s?void 0:s.story.story_type,boardIdStr:null==s?void 0:s.item.board_id,slotIndex:null==s?void 0:s.slotIndex,story_id:null==s?void 0:s.story.id};return(0,v.jsx)(p.Fw,{componentType:E,contextLogData:u,impressionAuxFields:u,impressionType:"BoardMoreIdeasRep",loggingId:R,slotIndex:n,viewParameter:null!=Y?Y:72,viewType:null!=q?q:1,children:function(e){var n=e.impressionTrackerRef;return(0,v.jsx)(i.xu,{ref:n,children:l})}},"carousel-slot-".concat(R,"-").concat(n))}return l})})]}),14114===E&&(0,v.jsx)(s.Qp,{anchor:ec.current,experienceIds:[506684],idealDirection:"down",placementId:11,positionRelativeToAnchor:!0,showCaret:!0,textWeight:"normal",useMasonryFlyout:!0})]})}},47574:function(e,n,t){t.d(n,{Z:function(){return m}});var r,i=t(581722);t(115821);var o=t(20256),a=t(352015),l=t(183e3),s=t(113759),u=t(445911),c=t(72034),d=t(680811);function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return f(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var g=(void 0!==r||(r=t(140503)).hash&&"d9fe632f7481dc91f9007bbd592d44c2"!==r.hash&&console.error("The definition of 'CarouselEllipsis_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function m(e){var n,t=e.carouselData,r=e.carouselIndex,f=e.componentType,m=e.contextLogData,y=e.enablePagination,h=e.handleCarouselSwipe,v=e.isCloseup,_=e.isEditMode,b=e.itemsPerPage,x=e.pinKey,S=e.viewParameter,P=e.viewType,w=e.variant,I=(0,l.Z)(g,x),O=(0,u.Z)(I),j=(0,a.Z)(I),A=t||j&&{carouselSlots:j.carouselSlots.map(function(e){return{id:e.slotId,title:e.title}}),entityId:null!=(n=j.carouselId)?n:"",index:j.index},E=(0,i.I0)(),k=(0,s.x4)(),T=k.closeupWithinMasonryEnabled,C=k.viewportSize;if(!A)return null;var D=function(e,n,t){var r,i,o;_||void 0===c.yR||(e.preventDefault(),e.stopPropagation(),E((0,c.yR)(null!=(o=null==I?void 0:I.entityId)?o:"",t))),void 0!==h&&h(t),O({pinId:null!=(r=null==I?void 0:I.entityId)?r:"",currentIndex:null!=n?n:0,nextIndex:t,carouselData:{carouselSlots:null==(i=A.carouselSlots)?void 0:i.map(function(e){return{id:e.id}}),entityId:A.entityId},viewParameter:S,viewType:P,componentType:f,contextLogData:m,isEditMode:_})},L=A.carouselSlots,M=A.index,R="number"==typeof r?r:M,F=null!=L&&L.length&&b?Math.ceil((null==L?void 0:L.length)/b):void 0,N="default"===w,B=N?"white":"#555",z=N?"rgba(255, 255, 255, 0.5)":"lightGray",Z=function(e,n){var t;return(0,d.jsx)(o.xu,{paddingX:1,children:(0,d.jsx)(o.iP,{accessibilityLabel:null!=(t=(e||{}).title)?t:"",fullWidth:!1,onTap:function(e){return D(e.event,R,n)},rounding:"circle",children:(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n===R?B:z}},"data-test-id":"ellipsis-size",height:8,rounding:"circle",width:8})})},"".concat(null==e?void 0:e.id,"-").concat(n))};return"sm"===C&&(T&&14339!==f&&14394!==f||!T)?null:L&&(0,d.jsx)(o.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:v?"end":"center",paddingY:+!!_,children:void 0!==y&&y?b&&p(Array(F).keys()).map(function(e){return Z(L[e*b],e*b)}):p(Array(L.length).keys()).map(function(e){return Z(L[e],e)})})}},620766:function(e,n,t){t.d(n,{Z:function(){return _}});var r,i=t(581722);t(115821);var o=t(20256),a=t(352015),l=t(183e3),s=t(24246),u=t(47574),c=t(445911),d=t(72034),p=t(680811);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==f(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var y={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},h=function(e,n,t,r,i,o){o||void 0===r||(e.preventDefault(),e.stopPropagation(),r(n,t)),void 0!==i&&i(t)},v=(void 0!==r||(r=t(338716)).hash&&"4b0c4a7a095db0d3cc7f22f3f6c85086"!==r.hash&&console.error("The definition of 'CarouselSliders_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function _(e){var n,t,r=e.addEllipsis,f=e.alwaysShowNavigationArrows,g=e.carouselIndex,_=e.carouselData,b=e.ellipsisVariant,x=e.handleCarouselSwipe,S=e.height,P=e.isShowingLastSlide,w=e.pinKey,I=e.contextLogData,O=e.viewParameter,j=e.viewType,A=e.componentType,E=e.isEditMode,k=e.storyType,T=e.itemsPerPage,C=e.forwardNode,D=e.backNode,L=e.sliderStyleOverride,M=e.hideNavigationArrows,R=(0,s.Z)(),F=(0,i.I0)(),N=(0,l.Z)(v,w),B=(0,c.Z)(N),z=(0,a.Z)(N),Z=_||z&&{carouselSlots:z.carouselSlots.map(function(e){return{id:e.slotId,title:e.title}}),entityId:null!=(n=z.carouselId)?n:"",index:z.index};if(!Z)return null;var U=function(e,n){return F((0,d.yR)(e,n))},K=Z.carouselSlots,V=Z.index,G=void 0!==g?g:null!=V?V:0,H=Math.max(0,G-(null!=T?T:1)),W=Math.min((null!=K?K:[]).length-1,G+(null!=T?T:1)),q=0===G,Y=P||G===(null!=K?K:[]).length-1,X=function(e,n){var t,r,i,o=n<G?9315:9316,a="search_3p_ad_only_module"===k;h(e,null!=(t=null==N?void 0:N.entityId)?t:"",n,U,x,E),B({pinId:null!=(r=null==N?void 0:N.entityId)?r:"",currentIndex:G,nextIndex:n,carouselData:{carouselSlots:null==K?void 0:K.map(function(e){return{id:e.id}}),entityId:Z.entityId},viewParameter:O,viewType:j,storyType:k,componentType:A,contextLogData:I,isEditMode:E,isEligibleForPdp:null!=(i=null==N?void 0:N.isEligibleForPdp)&&i,swipeEvent:a?o:108})},$=D||(0,p.jsx)(o.JO,{accessibilityLabel:R._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),color:"inverse",icon:"arrow-back"}),Q=M?null:C||(0,p.jsx)(o.JO,{accessibilityLabel:R._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image'),color:"inverse",icon:"arrow-forward"});return(0,p.jsxs)(o.xu,{alignItems:"center",bottom:!S,"data-test-id":"carousel-sliders",display:"flex",height:S,justifyContent:M?"center":"between",left:!0,position:"absolute",right:!0,top:!0,children:[!M&&(0,p.jsx)("div",{"data-test-id":"carousel-slider-left",onClick:function(e){return X(e,H)},role:"presentation",style:m(m(m({},y),L),{},{pointerEvents:q?"none":"auto"}),children:(0,p.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:q&&!f?"hidden":"visible",opacity:q&&f?"50%":"100%"}},"data-test-id":"carousel-slider-left-box",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:$})}),r&&(0,p.jsx)(u.Z,{carouselData:{carouselSlots:null==(t=Z.carouselSlots)?void 0:t.map(function(e){return{id:e.id,title:e.title}}),entityId:Z.entityId,index:Z.index},carouselIndex:g,componentType:A,handleCarouselSwipe:x,itemsPerPage:T,pinKey:N,variant:b||"default",viewParameter:O,viewType:j}),!M&&(0,p.jsx)("div",{"data-test-id":"carousel-slider-right",onClick:function(e){return X(e,W)},role:"presentation",style:m(m(m({},y),L),{},{pointerEvents:Y?"none":"auto"}),children:(0,p.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:Y&&!f?"hidden":"visible",opacity:Y&&f?"50%":"100%"}},"data-test-id":"carousel-slider-right-box",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:Q})})]})}},206928:function(e,n,t){var r=t(387784),i=t(20256),o=t(24246),a=t(680811);function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}n.Z=function(e){var n,t=e.iconType,s=e.showFab,u=e.moduleHovered,c=e.opacity,d=(0,o.Z)(),p=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return l(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=p[0],g=p[1],m=null!=u?u:f;return(0,a.jsx)(i.xu,{"data-test-id":"navigation-fab-container",onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},opacity:m?1:m===u?0:void 0===c?.8:c,children:(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},opacity:+!!s,children:(0,a.jsx)(i.hU,{accessibilityLabel:"forward"===t?d._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image'):d._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),bgColor:"white",dataTestId:"navigation-fab",icon:"forward"===t?"arrow-forward":"arrow-back",size:"md"})})})}},445911:function(e,n,t){t.d(n,{Z:function(){return p}}),t(115821);var r,i=t(230201),o=t(183e3),a=t(575647);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=["objectIdStr"];function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==l(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var d=(void 0!==r||(r=t(139902)).hash&&"dbfca9820e0aa1302554a0137a270b16"!==r.hash&&console.error("The definition of 'useLogSwipe_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function p(e){var n=(0,i.u)().logContextEvent,t=(0,o.Z)(d,e),r=(0,a.Z)(t);return function(e){var t=e.pinId,i=e.currentIndex,o=e.nextIndex,a=e.carouselData,l=e.viewParameter,u=e.viewType,d=e.storyType,p=e.componentType,f=e.contextLogData,g=e.isEditMode,m=e.swipeEvent;if(!g){var y=a.carouselSlots,h=a.entityId,v=null!=f?f:{},_=v.objectIdStr,b=function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],-1===n.indexOf(t)&&({}).propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(v,s);n({event_type:null!=m?m:108,object_id_str:null!=t?t:_,component:p,view_type:u,view_parameter:l,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==y?void 0:y[i])&&Number(y[i].id),carouselDataId:Number(h),carouselSlotIndex:i,toCarouselSlotIndex:o}},aux_data:c(c({story_type:d},b),r())})}}}},834182:function(e,n,t){t.d(n,{CU:function(){return l},GH:function(){return c},Iw:function(){return u},c3:function(){return g},gA:function(){return d},tD:function(){return s},vF:function(){return p},yR:function(){return f}});var r=function(e){var n=e.index;return e.numberOfSlides-n-Math.floor(e.slidesShownPerPosition)<1},i=function(e){var n=e.slidesShownPerPosition,t=e.slotAndGapWidth;return t-(n-parseInt(n,10))*t},o=function e(n){var t=n.containerWidth,r=n.contentWidth,i=n.index,o=n.slotAndGapWidth,a=i-1,l=a*o;return r-l>=t?l:e({index:a,slotAndGapWidth:o,containerWidth:t,contentWidth:r})},a=function(e){var n=e.containerWidth,t=e.contentWidth,r=e.gap,a=e.index,l=e.slidesShownPerPosition,s=e.slotAndGapWidth,u=e.paddingX;return o({containerWidth:n,contentWidth:t,index:a,slotAndGapWidth:s})+i({slidesShownPerPosition:l,slotAndGapWidth:s})-r+(void 0===u?0:u)},l=function(e){var n=e.containerWidth,t=e.gap,i=e.index,o=e.numberOfSlides,l=e.slotWidth,s=e.paddingX,u=l+t,c=u*o,d=s?n-s:n;if(c<=d)return 0;var p=d/u,f=r({index:i,numberOfSlides:o,slidesShownPerPosition:p})?a({containerWidth:d,contentWidth:c,gap:t,index:i,slidesShownPerPosition:p,slotAndGapWidth:u,paddingX:s}):i*u;return f?Math.round(-f):0},s=function(e){var n=e.containerWidth,t=e.gap,r=e.index,i=e.numberOfSlides,o=e.slotWidth,a=e.isHorizontalScrollable,s=e.paddingX,u=e.rows,c=i/(void 0===u?1:u)*o+t*(i-1),d=s?n-s:n;return 0!==n&&(c<=d||(a?c<=d:Math.abs(l({containerWidth:n,gap:t,index:r,numberOfSlides:i,slotWidth:o,paddingX:s}))+t>=c-d))},u=function(e){var n=e.containerWidth,t=e.currentIndex,r=e.gap,i=e.index,o=e.numberOfSlides,a=e.slotWidth,s=e.paddingX,u=a+r,c=s?n-s:n;if(u*o<=c||0===n)return!0;var d=l({containerWidth:n,gap:r,index:t,numberOfSlides:o,slotWidth:a,paddingX:s}),p=s?c+u+s:n+u;return d+u*i<p},c=function(e,n,t){return e||"".concat(n._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')," ").concat(t)};function d(e){var n,t,r,i,o,a=e.highResOnly,l=e.slot.images;return a?"".concat(null!=(i=null==l||null==(o=l["564x"])?void 0:o.url)?i:""," 1x"):[(null==l?void 0:l["474x"])&&"".concat(null!=(n=l["474x"].url)?n:""," 2x"),(null==l?void 0:l["736x"])&&"".concat(null!=(t=l["736x"].url)?t:""," 3x"),(null==l?void 0:l.orig)&&"".concat(null!=(r=l.orig.url)?r:""," 4x")].filter(Boolean).join(", ")}var p=function(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,a=o?t-o:t;if(a===n)return-(r*n*1)+(o||0);var l=Math.floor(a-n),s=n+i;return r===e-1?-1*r*s+l+(o||0):-1*r*s+(o||0)},f=function(e,n,t,r,i,o,a){if(!e||n<=0)return 0;var l=Math.floor(t*r),s=(null==e?void 0:e.clientWidth)||o*l;return Math.round(((a?n-a:n)+(a?s-a:s)-l/2)/(l+i))-1},g=function(e,n,t,r,i,o){e.current&&n&&e.current.scrollBy({left:(t-r)*(i+o),behavior:"smooth"})}},38181:function(e,n,t){t.d(n,{k:function(){return r}});var r=new(t(20256)).Ry(700)},667389:function(e,n,t){t.d(n,{O:function(){return d},Z:function(){return p}});var r=t(387784),i=t(20256),o=t(24246),a=t(247387),l=t(680811);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var u=(0,r.lazy)(function(){return t.e("38647").then(t.bind(t,541583))}),c={xs:12,sm:16,md:20,lg:24};function d(e){var n=e.children,t=(0,o.Z)();return(0,l.jsx)(i.u,{dataTestId:"verified-badge-tooltip",link:(0,l.jsx)(i.rU,{href:a.vBy,target:"blank",children:(0,l.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:n})}function p(e){var n,t=e.iconOnly,a=e.isVerifiedIdentity,p=e.isVerifiedMerchant,f=e.showText,g=e.size,m=e.inspirationalBadges,y=e.inspirationalBadgesColor,h=(0,o.Z)(),v=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return s(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=v[0],b=v[1];if(p){var x=(0,l.jsxs)(i.xu,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,l.jsx)(i.iP,{onTap:function(){return b(!0)},children:(0,l.jsx)(i.JO,{accessibilityLabel:h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"info",icon:"check-circle-fill",inline:!0,size:c[g]})}),f&&(0,l.jsx)(i.xu,{marginStart:2,children:(0,l.jsx)(i.xv,{color:"default",inline:!0,weight:"bold",children:h._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(r.Fragment,{children:[t?x:(0,l.jsx)(d,{children:x}),!a&&!t&&_&&(0,l.jsx)(r.Suspense,{children:(0,l.jsx)(u,{inspirationalBadges:m,inspirationalBadgesColor:y,setShowModal:b,showModal:_})})]})}return a&&!p?(0,l.jsx)(i.JO,{accessibilityLabel:h._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle-fill",size:c[g]}):null}},523614:function(e,n,t){t.d(n,{A:function(){return l},Z:function(){return s}});var r=t(387784),i=t(20256),o=t(680811);function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var l={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s(e){var n,t,s,u=e.backgroundColor,c=e.children,d=e.coverImage,p=e.disableTabIndex,f=e.height,g=e.id,m=e.isHovered,y=e.onClick,h=e.onMouseDown,v=e.onMouseEnter,_=e.onMouseLeave,b=e.searchBoxRenderStopwatch,x=e.url,S=e.width,P=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return a(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=P[0],I=P[1],O=function(){v?v():I(!0)},j=function(){_?_():I(!1)},A=m||w,E=A?l.hoverOverlay:l.bubbleOverlay;return(0,o.jsx)(i.Tg,{href:x,onBlur:j,onFocus:O,onMouseDown:h,onMouseEnter:O,onMouseLeave:j,onTap:function(){null==y||y(g)},rounding:4,tabIndex:p?-1:void 0,children:(0,o.jsx)(i.zd,{height:f,rounding:4,width:S||"100%",children:null!=d&&d.url?(0,o.jsxs)(i.Ee,{alt:"",color:u,fit:"cover",naturalHeight:null!=(t=d.height)?t:1,naturalWidth:null!=(s=d.width)?s:1,onLoad:function(){null==b||b.stop()},role:"presentation",src:d.url,children:[(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:E},height:"100%",width:"100%"}),"function"==typeof c?c({isHovered:A}):c]}):(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:u}},height:"100%",width:"100%"})})})}},372959:function(e,n,t){t.d(n,{Z:function(){return n1}});var r=t(387784),i=t(20256),o=t(99643),a=t(230201),l=t(24246),s=t(893957),u=t(680811);function c(e){var n=e.showCancel,t=e.viewType,c=(0,l.Z)(),d=(0,a.u)().logContextEvent,p=(0,o.m)().setIsLensModalOpen;(0,s.Z)(function(){d({component:43,element:1304,event_type:120,view_type:t})});var f=(0,r.useCallback)(function(){p(!0),d({component:43,element:1304,event_type:101})},[p,d]);return(0,u.jsxs)(i.kC,{alignItems:"center",direction:"row",height:"100%",children:[n&&(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderLeft:"2px solid #cdcdcd",borderRadius:24}},"data-test-id":"lens-vertical-line",height:20}),(0,u.jsx)(i.hU,{accessibilityLabel:c._('Lens', 'searchBox.lens.accessibilityLabel', 'Lens'),icon:"search-by-image",iconColor:"gray",onClick:f})]})}var d=t(653551),p=t(478300),f=t(661376),g=t(115366),m=t(902123);function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function h(){var e,n=(0,l.Z)(),t=(0,o.m)(),s=t.setHistoryData,c=t.setImage,p=t.setIsLensModalOpen,h=(0,d.s0)(),v=(0,a.u)().logContextEvent,_=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||function(e,n){if(e){if("string"==typeof e)return y(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=_[0],x=_[1],S=(0,f.Z)({name:"ApiResource",options:{url:"/v3/visual_search/lens/history/",data:{fields:"id,image_urls,image_sizes"}},noCache:!0}),P=S.data,w=void 0===P?[]:P,I=S.isLoaded&&w&&w.length>0;(0,r.useEffect)(function(){!b&&I&&(v({component:15075,element:14560,event_type:120,view_type:119}),x(!0))},[I,v,x,b]),(0,r.useEffect)(function(){I&&s(w)},[s,w,I]);var O=function(){c(void 0),p(!1),v({component:15075,element:14560,event_type:101,view_type:119}),h("/lens-search/history")};return w&&0!==w.length?(0,u.jsx)(m.q,{children:function(e){var t=e.hovered,r=e.onMouseEnter,o=e.onMouseLeave;return(0,u.jsx)(i.iP,{onTap:O,children:(0,u.jsxs)(i.xu,{alignContent:"between",dangerouslySetInlineStyle:{__style:{backgroundColor:t?"rgba(0, 0, 0, .1)":void 0}},direction:"row",display:"flex",height:110,onMouseEnter:r,onMouseLeave:o,position:"relative",rounding:4,width:"100%",children:[(0,u.jsx)(i.xu,{marginTop:2,position:"relative",width:112,children:w.slice(0,3).map(function(e,n){return(null==e?void 0:e.id)&&n<3&&(0,u.jsx)(g.Z,{card:{url:e.image_urls["236x236"]},fanOut:!1,index:n,rounding:4,size:"SMALL"},e.id)})}),(0,u.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingX:2,width:"calc(100% - ".concat(112,"px)"),children:[(0,u.jsxs)(i.kC,{alignItems:"stretch",direction:"column",gap:1,justifyContent:"start",children:[(0,u.jsx)(i.X6,{size:"400",children:n._('History', 'lens.history', 'header for the history count')}),(0,u.jsx)(i.xv,{size:"200",children:n._('View previous uploads', 'lens.previous.uploads', 'previously uploaded lens image history ')})]}),(0,u.jsx)(i.JO,{accessibilityLabel:n._('Lens history', 'lens.history.navigation.button', 'Clicking on the button will navigate the user to the Lens History landing page'),color:"default",icon:"arrow-forward"})]})]})})}}):null}var v=t(735815),_=t(877762),b=t(236269),x=t(465784),S=t(216975),P=t(667980),w=t(319910),I=t(832274),O=t(257026),j=t(424304),A=t(520803);function E(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function k(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){E(o,r,i,a,l,"next",e)}function l(e){E(o,r,i,a,l,"throw",e)}a(void 0)})}}function T(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||C(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,n){if(e){if("string"==typeof e)return D(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?D(e,n):void 0}}function D(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var L={border:"2px dashed #dadada",borderRadius:"16px",pointerEvents:"none"};function M(){var e,n=(0,l.Z)(),t=(0,d.s0)(),c=(0,o.m)(),f=c.historyData,g=c.image,m=c.setHeroImageUrl,y=c.setImage,E=c.setImageData,M=c.setIsLensModalOpen,R=(0,A.Z)().path,F=(0,a.u)().logContextEvent,N=T((0,r.useState)(347),2),B=N[0],z=N[1],Z=T((0,r.useState)(""),2),U=Z[0],K=Z[1],V=T((0,r.useState)(""),2),G=V[0],H=V[1],W=T((0,r.useState)(null),2),q=W[0],Y=W[1],X=T((0,r.useState)(""),2),$=X[0],Q=X[1],J=(0,r.useRef)(null),ee="/lens-search"===R,en="/lens-search/history"===R;(0,s.Z)(function(){F({component:15075,event_type:120,view_type:119})}),(0,r.useEffect)(function(){""===U?Q(""):H("")},[U]),(0,r.useEffect)(function(){(ee||en)&&q&&!g&&(M(!1),en&&t("/lens-search/"))},[M,t,ee,g,q,en]),(0,r.useEffect)(function(){g&&!ee&&(t("/lens-search/"),M(!1))},[t,ee,g,M]),(0,r.useEffect)(function(){f&&f.length>0&&347===B&&z(B+110+12)},[f,z,B]);var et=function(e){var n=new FormData;n.append("image",e),(0,_.Z)({url:"/upload-image-lens-history/",type:"PUT",data:n})},er=(0,r.useCallback)(k(regeneratorRuntime.mark(function e(){var t,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!q){e.next=14;break}return e.prev=1,e.next=4,(0,v.Z)(q,E);case 4:return t=e.sent,e.next=7,(0,j.Z)({i18n:n,ideaPinRenamingEnabled:!1,file:t,options:{allowVideo:!1}});case 7:"error"===(r=e.sent).type?H(r.message):(H(""),y(t),et(t)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),H(null!=(i=(0,b.Z)(e.t0,"message"))?i:"");case 14:case"end":return e.stop()}},e,null,[[1,11]])})),[q,H,y,n,E]),ei=function(e){var t=(0,w.Z)({url:e});F({component:15075,element:14559,event_type:15656,view_type:119}),t?Q(""):Q(n._('Invalid URL. Try using another link', 'lens.url.invalid', 'Error message for invalid URL in Lens Image Search')),y(void 0),k(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,p.Z)(e);case 2:Y(n.sent);case 4:case"end":return n.stop()}},n)}))(),e&&((0,p.Z)(e),m(e))},eo=function(){y(void 0),m(void 0)};return(0,r.useEffect)(function(){q&&er()},[er,q]),(0,u.jsx)(x.ZP,{accessibilityModalLabel:n._('Lens modal', 'lens.modal.accessibilityLabel', 'Modal for Lens Image Search'),align:"start",heading:(0,u.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,u.jsx)(i.X6,{accessibilityLevel:1,size:"600",children:n._('Upload an image to search', 'lens.modal.header', 'Header for Lens Image Search modal')}),(0,u.jsx)(i.hU,{accessibilityLabel:n._('Lens icon', 'lens.entrypoint.icon', 'Icon for lens entrypoint'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:function(){return M(!1)},size:"md"})]}),isOpen:!0,onDismiss:function(){return M(!1)},size:"sm",children:(0,u.jsx)(i.xu,{height:B,marginTop:1,paddingX:6,children:(0,u.jsxs)(i.xu,{height:311,position:"relative",children:[(0,u.jsx)(O.Z,{accept:((function(e){if(Array.isArray(e))return D(e)})(e=I.xl)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).join(","),accessibilityLabel:n._('File Upload', 'lens.upload.fileUpload', 'Input where we upload files for Lens image search'),allowMultipleFiles:!1,dropRounding:16,hasError:!!G,id:"lens-photo-upload-input",onChange:function(e){var n,t=null==(n=e.target.files)?void 0:n[0];t&&(F({component:15075,element:14558,event_type:15656,view_type:119}),Y(t)),eo()},onDrop:function(e){var t=e.dataTransfer.files;F({component:15075,event_type:3501,view_type:119}),t.length>1?H(n._('We can\u2019t search multiple images at once', 'lens.error.multipleImages', 'Error message for uploading multiple images in Lens Image Search')):(H(""),Y(e.dataTransfer.files[0])),eo()},children:function(){return(0,u.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:L},direction:"column",display:"flex",height:"100%",children:[(0,u.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:70}},direction:"column",display:"flex",children:[(0,u.jsx)(i.JO,{accessibilityLabel:n._('Upload photo', 'lens.photo.upload.icon', 'Upload indicator for lens image search'),color:G?"error":"dark",icon:G?"alert":"arrow-circle-up",size:24}),(0,u.jsx)(i.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,u.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginTop:4,children:[!!G&&(0,u.jsx)(i.xu,{marginBottom:4,width:320,children:(0,u.jsx)(i.xv,{align:"center",color:"error",children:G})}),(0,u.jsx)(i.xv,{align:"center",inline:!0,children:(0,S.nk)(n._('Drag an image here or {{ chooseFile }}', 'lens.modal.uploadTip.dragImage', 'Upload tip for Lens Image Search. chooseFile: choose a file to upload'),{chooseFile:(0,u.jsx)(i.xv,{inline:!0,underline:!0,children:n._('choose a file', 'lens.modal.uploadTip', 'Upload tip for Lens Image Search')},"lens-choose-file")})})]})})]}),(0,u.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #cdcdcd"}},paddingY:6,position:"absolute",width:"90%",children:(0,u.jsx)(P.Z,{children:(0,u.jsxs)(i.xu,{position:"relative",zIndex:new i.Ry(10),children:[(0,u.jsx)(i.nv,{ref:J,errorMessage:$,hasError:!!$,id:"scrape-view-website-link",label:n._('Upload from URL', 'lens.url.label', 'Label for url input'),onChange:function(e){K(e.value)},placeholder:n._('Paste image link', 'lens.url.textField', 'Placeholder text to enter website url'),size:"lg",type:"url",value:U}),!!U&&(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:30}},paddingX:2,position:"absolute",right:!0,top:!0,children:(0,u.jsx)(i.hU,{accessibilityLabel:n._('Submit', 'lens.url.submitButton', 'Submit button to scrape images from url'),bgColor:"lightGray",icon:"arrow-forward",iconColor:"darkGray",onClick:function(){return ei(U)},size:"sm"})})]})})})]})}}),(0,u.jsx)(i.xu,{marginTop:6,children:(0,u.jsx)(h,{})})]})})})}var R=t(433100),F=t(501010),N=t(439947),B=(0,N.Z)({name:"autocomplete_render",sampleRate:1}),z=B.Provider,Z=B.get,U=(0,N.Z)({name:"search_tab_render",sampleRate:1}),K=U.Provider,V=U.get,G=t(774838),H=t(917569),W=t(53596),q=t(935059),Y=t(59111);function X(e){var n=e.gradientPrimaryColor,t=e.gradientSecondaryColor,r=e.gradientDirection,o=e.position;return(0,u.jsx)(i.xu,{bottom:"bottom"===o,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(".concat(r,", ").concat(n,", ").concat(t,")"),pointerEvents:"none"}},height:16,position:"absolute",rounding:"pill",top:"top"===o,width:"100%",zIndex:new i.Ry(1)})}var $=function(e){var n=e.term;return(0,u.jsx)(i.xv,{color:"subtle",inline:!0,lineClamp:1,children:n})};function Q(e){var n,t,o=e.defaultPlaceholder,a=e.gradientSecondaryColor,s=void 0===a?"#FFF":a,c=e.height,d=e.suggestedSearchTerms,p=(0,l.Z)(),f=d.length<3,g=(0,r.useRef)(null);return(0,u.jsx)(i.xu,{ref:g,alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"dynamic-search-placeholder",display:"flex",height:void 0===c?48:c,overflow:"hidden",position:"relative",children:f?(0,u.jsx)(i.xv,{color:"subtle",inline:!0,children:o}):(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(X,{gradientDirection:"to top",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:s,position:"top"}),(0,u.jsx)(X,{gradientDirection:"to bottom",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:s,position:"bottom"}),(0,u.jsxs)(i.kC,{alignItems:"stretch",height:18,justifyContent:"start",children:[(0,u.jsx)(i.xv,{color:"subtle",inline:!0,overflow:"noWrap",children:p._('Search for', 'searchBar.placeholder.dynamicText', 'Placeholder in search input. This text is followed by a set of animated search phrases like "Search for aesthetic art"')}),(0,u.jsx)(Y.Z,{unsafeCSS:"\n@keyframes slide-3-terms-loop {\n  0%, 21.74% {\n    transform: translateY(0%);\n  }\n  33.33%, 55.07% {\n      transform: translateY(-25%);\n  }\n  66.66%, 88.4% {\n      transform: translateY(-50%);\n  }\n  100% {\n      transform: translateY(-75%);\n  }\n}\n@keyframes slide-4-terms-loop {\n  0%,16.3% {\n    transform: translateY(0%);\n  }\n  25%,41.3%{\n    transform: translateY(-20%);\n  }\n  50%,66.3%{\n    transform: translateY(-40%);\n  }\n  75%,91.3%{\n    transform: translateY(-60%);\n  }\n  100% {\n    transform: translateY(-80%);\n  }\n}\n@keyframes slide-5-terms-loop {\n  0%, 13.04% {\n    transform: translateY(0%);\n  }\n  20%,33.04%{\n    transform: translateY(-16.66%);\n  }\n  40%,53.04%{\n    transform: translateY(-33.33%);\n  }\n  60%,73.04%{\n    transform: translateY(-49.98%);\n  }\n  80%,93.04%{\n    transform: translateY(-66.64%);\n  }\n  100% {\n    transform: translateY(-83.3%);\n  }\n}\n"}),(0,u.jsx)(i.xu,{children:(0,u.jsxs)(i.xu,{dangerouslySetInlineStyle:(n=d.length,{__style:{animation:"slide-".concat(n,"-terms-loop ").concat(2.3*(n+1),"s ease-out infinite forwards")}}),display:"inlineBlock",marginStart:1,children:[d.map(function(e){return(0,u.jsx)(i.xu,{marginBottom:7,children:(0,u.jsx)($,{term:e})},e)}),(0,u.jsx)(i.xu,{marginBottom:7,children:(0,u.jsx)($,{term:null!=(t=d[0])?t:""})})]})})]})]})})}var J=t(137679);function ee(){var e=(0,J.$)(),n=e.displayedQuery,t=e.inlineACSuggestion,r=e.logInlineSuggestionView;return(0,s.Z)(function(){r()}),(0,u.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:[(0,u.jsx)("span",{style:{visibility:"hidden"},children:(0,u.jsx)(i.xv,{color:"disabled",inline:!0,children:n})}),(0,u.jsx)(i.xv,{color:"subtle",inline:!0,children:t.slice(n.length)})]})}var en=t(722157),et=t(219136),er=t(372164),ei=t(275894);function eo(e){var n=e.disabled,t=e.name,o=(0,l.Z)(),a=(0,r.useRef)(null),c=(0,r.useRef)(void 0),p=(0,q.Z)().isAuth,f=(0,d.TH)(),g=(0,i.JZ)(),m=(0,J.$)(),y=m.delayedSearchBoxOpen,h=m.displayedQuery,v=m.handleInputBlur,_=m.handleInputChange,b=m.handleInputClick,x=m.handleInputFocus,S=m.handleKeyDown,P=m.handleKeyUp,w=m.suggestionsFocusIndex,I=m.suggestionGroups,O=m.inlineACSuggestion,j=m.isInTypeaheadSession,A=m.handleTypedSearchSubmit,E=m.searchBoxPlaceholder,k=m.searchBoxHovered,T=m.setVoiceSearchPlaceholder,C=m.suggestedSearchTerms,D=m.voiceSearchPlaceholder,L=(0,er.zj)({suggestionsFocusIndex:w,suggestionGroups:I}),M=(0,en.b)(f).isEligiblePageTypeForDynamicSearchPlaceholder;(0,r.useEffect)(function(){D&&c.current&&(c.current.pathname!==f.pathname||c.current.search!==f.search)&&T(ei.K.NULL),c.current=f},[f,D,T]),(0,s.Z)(function(){a.current&&A&&a.current.addEventListener("searchTrigger",A)}),(0,r.useEffect)(function(){a.current&&(document.activeElement===a.current!==j?j?a.current.focus():a.current.blur():T(ei.K.NULL))},[j,T]),(0,s.Z)(function(){a.current&&new URLSearchParams(window.location.search).get("search_box_open")&&y()});var R=!g&&!p&&M&&!h,F=E||o._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box');return(0,u.jsxs)(i.xu,{flex:"grow",height:"100%",children:[(0,u.jsx)(Y.Z,{unsafeCSS:"input::placeholder{ color: #6E6E6E".concat(R?"; opacity: 0":"","}")}),(0,u.jsx)("input",{ref:a,"aria-activedescendant":L,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-expanded":j,"aria-label":o._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off","data-gestalt-valid-html":"SearchField","data-test-id":"search-box-input",disabled:void 0!==n&&n,name:t,onBlur:v,onChange:_,onClick:b,onFocus:x,onKeyDown:S,onKeyUp:P,placeholder:F,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:W.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:h}),!!O&&(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",top:13}},position:"absolute",top:!0,width:"85%",children:(0,u.jsx)(ee,{})}),R&&(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",top:!0,width:"85%",children:(0,u.jsx)(Q,{defaultPlaceholder:F,gradientSecondaryColor:k?et.wU:et.Sx,suggestedSearchTerms:C})}),(0,u.jsx)(i.xu,{display:"none",id:"searchBoxAccessibleText",children:o._('When autocomplete results are available use up and down arrows to\n                review and enter to select. Touch device users, explore by touch or\n                with swipe gestures.', 'searchBox.searchInput.accessibleText', 'Accessible text for search input')})]})}var ea=t(818282),el=t(405897),es=t(477738),eu=t(510755);function ec(e){var n=e.contentTypes,t=e.contentTypesAnchor,r=e.handleSelectFilter,o=e.onDismiss;return(0,u.jsx)(i.Lt,{anchor:t,disableMobileUI:!0,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:o,zIndex:new i.Ry(eu.fe),children:n.map(function(e,n){return(0,u.jsx)(i.Lt.Item,{dataTestId:"search-filter-"+e.dataId,onSelect:function(){return r(n)},option:{value:e.text,label:e.text},children:(0,u.jsx)(i.xv,{weight:[es.lw.PINS,es.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text)})})}var ed=t(973625),ep=t(500602);function ef(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return eg(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?eg(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eg(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var em=function(e){switch(e){case es.lw.PINS:return 220;case es.lw.PINS_MINE:return 223;case es.lw.PINS_VIDEO:return 11399;case es.lw.BOARDS:return 221;case es.lw.USERS:return 222;default:return null}},ey=function(e){var n,t,o=e.currentlySelectedFilter,s=e.currentQuery,c=e.handleContentTypeFilterHover,p=e.handleScopeChange,f=(0,a.u)().logContextEvent,g=(0,l.Z)(),m=(t=(n=[{scope:es.lw.PINS,text:g._('All Pins', 'All Pins label for content type filters on search bar', 'All Pins label for content type filters on search bar'),dataId:"all-pins"},{scope:es.lw.PINS_MINE,text:g._('Your Pins', 'Your Pins label for content type filters on search bar', 'Your Pins label for content type filters on search bar'),dataId:"your-pins"}]).findIndex(function(e){return e.scope===es.lw.PINS_MINE}),n.push(n.splice(t,1)[0]),n),y=(0,r.useRef)(null),h=(0,d.s0)(),v=(0,ed.Z)().enabled,_=ef((0,r.useState)(o||m[0].scope),2),b=_[0],x=_[1],S=ef((0,r.useState)(!1),2),P=S[0],w=S[1],I=ef((0,r.useState)(!1),2),O=I[0],j=I[1];(0,r.useEffect)(function(){x(o)},[o]);var A=function(){j(!0),c&&c(!0)},E=function(){j(!1),c&&c(!1)},k=(m[b?m.findIndex(function(e){return e.scope===b}):0]||m[0]).text,T=(0,u.jsx)(i.xu,{ref:y,dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:ea.XI}},"data-test-id":"search-filter",overflow:"hidden",children:(0,u.jsxs)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,u.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:k}),(0,u.jsx)(i.xu,{marginStart:2,children:(0,u.jsx)(i.JO,{accessibilityLabel:g._('Dropdown', ' - ', ' -- '),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,u.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:O?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:ea.XI,marginStart:2,position:"relative",rounding:v?ep.Qq:6,children:[(0,u.jsx)(i.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:function(){return A()},onMouseLeave:function(){return E()},onTap:function(e){var n=e.event;n&&(n.preventDefault(),n.stopPropagation()),w(!P),f({event_type:101,component:215,aux_data:{entered_query:s}})},rounding:6,children:T}),P&&(0,u.jsx)(ec,{contentTypes:m,contentTypesAnchor:y.current,handleSelectFilter:function(e){var n=m[e].scope;x(n),w(!1),f({event_type:101,component:215,element:em(n),aux_data:{entered_query:s}}),p(n),s&&h("/search/".concat(n,"/?q=").concat(encodeURIComponent(s),"&rs=").concat(el.i.FILTER))},onDismiss:function(){return w(!1)}})]})},eh=t(213491),ev=t(57887);function e_(e){return(e_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function ex(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?eb(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=e_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=e_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==e_(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eb(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var eS={recentSaves:[],recentViews:[]};function eP(e,n){if(e=e||eS,"FETCH_COMPLETE"!==n.type)return e;var t=n.payload,r=t.options,i=t.resource,o=n.payload.response.resource_response.data;if("ApiResource"===i&&"/v3/users/me/recent/engaged/pin/stories/"===(void 0===r?{}:r).url&&o){var a=o.find(function(e){return"user_recently_viewed_pins"===e.story_type}),l=o.find(function(e){return"user_recently_saved_pins"===e.story_type}),s=(null==a?void 0:a.objects.map(function(e,n){var t=e.description,r=e.id;return{label:t,images:e.images,resultIndex:n,type:"recent_view",url:"/pin/".concat(r)}}))||[],u=(null==l?void 0:l.objects.map(function(e,n){var t=e.description,r=e.id;return{label:t,images:e.images,resultIndex:n,type:"recent_save",url:"/pin/".concat(r)}}))||[];return ex(ex({},e),{},{recentSaves:u,recentViews:s})}return e}function ew(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var eI=(0,eh.Z)("SearchBox"),eO=eI.Provider,ej=eI.get;function eA(e){var n,t=e.children,i=function(e){if(Array.isArray(e))return e}(n=(0,r.useReducer)(eP,eS))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return ew(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ew(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1],l=(0,r.useCallback)(function(e){a({type:"FETCH_COMPLETE",payload:e})},[]);(0,ev.Z8)("ApiResource",l);var s=(0,r.useMemo)(function(){return{state:o}},[o]);return(0,u.jsx)(eO,{value:s,children:t})}var eE=t(890678),ek=t(739405);function eT(e){var n=e.autocompleteRequestSurface,t=(0,ek.HG)(),r=(0,q.Z)();return(0,eE.Z)(r.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:es.lw.PINS,autocomplete_request_surface:n},noCache:!0}:null),(0,eE.Z)(t?{name:"SearchTabResource"}:null),null}var eC=t(716769),eD=t(711072),eL=t(367683),eM=t(112658),eR=t(470205),eF=t(79271);function eN(e){return(eN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eB(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function ez(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?eB(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=eN(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=eN(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==eN(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eB(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var eZ=function(e){var n=e.children,t=e.impressionTrackerProps;return t?(0,u.jsx)(eF.Fw,ez(ez({},t),{},{children:n})):n({impressionTrackerRef:null})},eU=t(825605),eK=t(748336);function eV(e){var n=e.onLoad,t=e.suggestion,o=(0,eK.Z)({url:t.action_button_uri});return(0,r.useEffect)(function(){n()},[]),(0,u.jsxs)(i.xu,{padding:10,children:[(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"}},marginBottom:6,children:t.description}),(0,u.jsx)(i.Tg,{href:t.action_button_uri,rel:o?"nofollow":"none",rounding:"pill",children:(0,u.jsx)(i.xu,{color:"infoBase",display:"inlineBlock",padding:3,rounding:"pill",children:(0,u.jsx)(i.xv,{color:"inverse",weight:"bold",children:t.action_button_text})})})]})}var eG=t(98557),eH=t(55424),eW=t(261926);function eq(e){return(eq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var eY=(0,r.lazy)(function(){return t.e("97008").then(t.bind(t,221340))});function eX(e){var n=e.experiences,t=e.index,o=e.focusedIndex,a=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,s=e.onLoad,c=e.query,d=e.suggestion,p=(0,eH.Z)(d),f=(0,J.$)(),g=f.handleSuggestionSelect,m=f.handleInclusiveProductFilterClick,y=f.getSuggestionImpressionOptions;return(0,r.useEffect)(function(){d.image||s()},[]),(0,u.jsx)(eL.M8,{experiences:n,placementId:1000315,searchTerm:c,suggestions:[d],children:function(e){var n=e.searchDelightConfig;return(0,u.jsx)(eZ,{impressionTrackerProps:y({index:t,groupIndex:t,suggestion:d,loggingId:d.id}),children:function(e){var r,f,y,h,v,_,b=e.impressionTrackerRef;return(0,u.jsxs)(i.xu,{ref:b,marginBottom:1,marginEnd:-3,marginStart:-3,children:[(0,u.jsx)(eG.J,{id:(0,er.Gp)(0,t),isHovered:o===t,onClick:function(){g({suggestion:d,index:t})},onMouseEnter:function(){a(t)},onMouseLeave:function(){l()},url:(0,er.Ek)({suggestion:d,query:c}),children:(0,u.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(i.xu,{flex:"grow",children:(0,u.jsx)(eG.q,{highlightMatch:!0,imageUrl:d.image,label:d.label,onLoad:s,query:c,rounding:2,searchDelightConfig:n,subLabel:d.subLabel,type:d.type})})})}),!!p&&p!==eW.ti.BODY&&m&&(0,u.jsx)(i.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:(0,u.jsx)(eR.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_InclusiveFilters",children:(0,u.jsx)(eU.Z,{children:(0,u.jsx)(eY,{filters:(f={},y=p,h=null==(v=d.modified_filter_eligibility)||null==(_=v[p])?void 0:_.filter_options,(r=function(e,n){if("object"!=eq(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=eq(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(y,"string"),(y="symbol"==eq(r)?r:r+"")in f)?Object.defineProperty(f,y,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[y]=h,f),moduleType:eW.CT.SEARCH_AUTOCOMPLETE,onClickApplyFilters:function(e){return m(d,t,e)},query:c,viewParameter:103,viewType:ea.Ie})})})})]})}})}})}var e$=function(e){var n=e.index,t=e.focusedIndex,r=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,a=e.onLoad,l=e.suggestion,s=(0,J.$)(),c=s.handleSuggestionSelect,d=s.getSuggestionImpressionOptions;return(0,u.jsx)(eZ,{impressionTrackerProps:d({index:n,groupIndex:n,suggestion:l,loggingId:l.id}),children:function(e){var s=e.impressionTrackerRef;return(0,u.jsx)(i.xu,{ref:s,marginBottom:1,marginEnd:-3,marginStart:-3,children:(0,u.jsx)(eG.J,{id:(0,er.Gp)(0,n),isHovered:t===n,onClick:function(){c({suggestion:l,index:n})},onMouseEnter:function(){r(n)},onMouseLeave:function(){o()},url:l.url,children:(0,u.jsx)(eG.q,{imageUrl:l.image,isVerifiedMerchant:l.is_verified_merchant,label:l.label,onLoad:a,rounding:"circle",subLabel:l.subLabel,verified:l.verified})})},"".concat(l.type,"-").concat(l.label,"-").concat(l.subLabel||""))}})};function eQ(e){var n=e.experiences,t=e.suggestions,r=e.focusedIndex,i=e.query,o=e.onSuggestionMouseEnter,a=e.onSuggestionMouseLeave,l=Z(),s=function(e){return"image"in e&&e.image},c=t.some(s),d=function(){null==l||l.stop()};return t.map(function(e,t){var l=!c||s(e);switch(e.type){case"autocompleteupsell":return(0,u.jsx)(eV,{onLoad:l?d:function(){},suggestion:e},"search-suggestion-".concat(e.type,"-").concat(e.id));case"query":case"recent_pin_searches":return(0,u.jsx)(eX,{experiences:n,focusedIndex:r,index:t,onLoad:l?d:function(){},onSuggestionMouseEnter:o,onSuggestionMouseLeave:a,query:i,suggestion:e},"search-suggestion-".concat(e.type,"-").concat(e.id));case"user":return(0,u.jsx)(e$,{focusedIndex:r,index:t,onLoad:l?d:function(){},onSuggestionMouseEnter:o,onSuggestionMouseLeave:a,suggestion:e},"search-suggestion-".concat(e.type,"-").concat(e.id));default:return null}})}var eJ=t(535486),e0=t(681698),e1=t(997526),e2=t(806513),e3=t(574991),e6=t(523614),e5=t(609370),e4=t(720517);function e7(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function e8(e){var n,t,r,o=e.contextLogData,a=e.dominantColor,s=e.groupIndex,c=e.height,d=e.icon,p=e.images,f=e.isDarkRep,g=void 0!==f&&f,m=e.isHovered,y=e.title,h=e.onMouseEnter,v=e.onMouseLeave,_=e.onClick,b=e.searchBoxRenderStopwatch,x=e.suggestion,S=e.showRemoveButton,P=void 0!==S&&S,w=e.slotIndex,I=e.url,O=e.width,j=(0,l.Z)(),A=(0,J.$)(),E=A.autocompleteRequestSurface,k=A.getSuggestionImpressionOptions,T=A.isSyop,C=(0,e5.Z)({isSyop:T}),D=C.group,L=C.anyEnabled,M=(0,e4.Z)(E),R=D.includes("vertical"),F=c||80,N=p&&p[0]&&(null==(r=p[0]["236x"])?void 0:r.url)||"",B=!!d&&(0,e3.Z)(d),z=!!O&&O<160||!!c&&c<60,Z=z&&!L?"200":"300",U=L?void 0:"bold",K=(z||L)&&2||3,V=z&&2||L&&3||4,G=O?O-F:e2.yF-80,H=z?3:4,W=z?2:3,q=function(){null==b||b.stop()},Y=(n=regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,e0.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:n}});case 2:M();case 3:case"end":return e.stop()}},e)}),t=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){e7(o,r,i,a,l,"next",e)}function l(e){e7(o,r,i,a,l,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)});return(0,u.jsx)(eZ,{impressionTrackerProps:k({index:w,additionalAuxData:o,groupIndex:s,suggestion:x,loggingId:x.id}),children:function(e){var n=e.impressionTrackerRef;return(0,u.jsx)(i.xu,{ref:n,"data-test-id":P?"recent-query":void 0,height:F,width:O||"100%",children:(0,u.jsx)(i.zd,{rounding:H,wash:!g&&!R,children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:L?void 0:{__style:g&&{backgroundColor:m?e1.t07:e1.d9H}||m&&e6.A.lightHoverOverlay||{}},children:(0,u.jsx)(eG.J,{isHovered:m,onBlur:function(){},onClick:_,onFocus:h,onMouseEnter:h,onMouseLeave:v,rounding:H,url:I,children:(0,u.jsxs)(i.kC,{direction:"row",children:[(0,u.jsx)(i.xu,{"data-test-id":"search-suggestion-image-container",flex:"none",height:F,padding:L?1:void 0,width:F,children:(0,u.jsx)(i.zd,{height:"100%",rounding:L?W:void 0,wash:!0,width:"100%",children:(0,u.jsx)(i.Ee,{alt:"",color:a,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:q,role:"presentation",src:N})})}),(0,u.jsxs)(i.xu,{alignItems:"center",display:"flex",flex:"grow",maxHeight:F,maxWidth:L?void 0:G,padding:V,children:[B&&(0,u.jsx)(i.xu,{alignItems:"center",display:"flex",flex:"none",marginEnd:2,children:(0,u.jsx)(i.JO,{accessibilityLabel:"",icon:B,inline:!0,size:14})}),(0,u.jsx)(i.xv,{color:g?"light":void 0,dataTestId:"search-suggestion-text",lineClamp:K,size:Z,weight:U,children:y})]}),P&&(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{visibility:m?"visible":"hidden"}},"data-test-id":"clear-recent-queries",display:"flex",flex:"none",marginEnd:2,marginStart:-1,children:(0,u.jsx)(i.hU,{accessibilityLabel:j._('Remove recent search', 'Remove recent search icon in search autocomplete', 'Remove recent search icon'),bgColor:"white",focusColor:"darkBackground",icon:"cancel",iconColor:"darkGray",onClick:function(e){var n=e.event;n.stopPropagation(),n.preventDefault(),Y(y)},padding:2,size:"sm"})})]})})})})})}})}var e9=t(59355),ne=t(583875),nn=t(696749),nt=t(69841);function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ni=["board","height","isHovered","searchBoxRenderStopwatch","slotIndex","storyId","storyType","viewParameter","viewType","width"];function no(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function na(e){var n=e.board,t=e.height,r=e.isHovered,i=e.searchBoxRenderStopwatch,o=e.slotIndex,a=e.storyId,l=e.storyType,s=e.viewParameter,c=e.viewType,d=e.width,p=function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],-1===n.indexOf(t)&&({}).propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,ni),f=n.id,g=n.name,m=n.image_cover_hd_url,y=n.owner,h=n.url,v=(0,nn.Z)(g||"",{});return g&&f&&h?(0,u.jsx)(nt.u,{auxData:{grid_index:o.toString(),board_id:f,story_type:l,story_id:a},loggingId:f,objectIdStr:f,slotIndex:o,viewParameter:s||3467,viewType:c,children:function(e){var n=e.impressionTrackerRef;return(0,u.jsx)(nm,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?no(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=nr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=nr(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==nr(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):no(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({coverImage:{url:m},creator:y,formattedTitle:v,height:t,id:f,impressionTrackerRef:n,inheritedIsHovered:r,searchBoxRenderStopwatch:i,url:h,width:d},p))}}):null}var nl=t(834322);function ns(e){return(ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var nu=["component","height","isHovered","searchBoxRenderStopwatch","slotIndex","storyId","storyType","todayArticle","viewParameter","viewType","width"];function nc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nd(e){var n=e.component,t=e.height,r=e.isHovered,i=e.searchBoxRenderStopwatch,o=e.slotIndex,a=e.storyId,l=e.storyType,s=e.todayArticle,c=e.viewParameter,d=e.viewType,p=e.width,f=function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],-1===n.indexOf(t)&&({}).propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,nu),g=s.id,m=s.title,y=s.image_urls,h=s.article_creator_user,v=s.feed_source,_=s.is_product_pin_feed,b=y&&y.length>0?{url:y[0]}:void 0,x=(0,nn.Z)(m||"",{});if(!m||!g)return null;var S=(0,nl.T7)(null!=v?v:0,null!=_&&_,m,g);return(0,u.jsx)(nt.Y4,{auxData:{grid_index:o.toString(),today_article_id:g,story_type:l,story_id:a},component:n,loggingId:g,objectIdStr:g,slotIndex:o,viewParameter:c||3467,viewType:d,children:function(e){var n=e.impressionTrackerRef;return(0,u.jsx)(nm,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nc(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=ns(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=ns(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==ns(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nc(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({coverImage:b,creator:h,formattedTitle:x,height:t,id:g,impressionTrackerRef:n,inheritedIsHovered:r,searchBoxRenderStopwatch:i,url:S,width:p},f))}})}function np(e){return(np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nf(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function ng(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nf(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=np(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=np(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==np(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nf(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nm=function(e){var n=e.coverImage,t=e.creator,r=e.formattedTitle,o=e.height,a=e.id,l=e.impressionTrackerRef,s=e.inheritedIsHovered,c=e.onClick,d=e.onMouseDown,p=e.onMouseEnter,f=e.onMouseLeave,g=e.searchBoxRenderStopwatch,m=e.url,y=e.width,h=null==t?void 0:t.avatar_color_index;return(0,u.jsx)(e6.Z,{ref:l,backgroundColor:"gray",coverImage:n,disableTabIndex:!0,height:o,id:a,isHovered:s,onClick:c,onMouseDown:d,onMouseEnter:p,onMouseLeave:f,searchBoxRenderStopwatch:g,url:m,width:y,children:(0,u.jsx)(i.xu,{ref:l,alignItems:"end",display:"flex",height:o,justifyContent:"center",padding:3,position:"absolute",top:!0,width:y||"100%",children:(0,u.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[o>200?(0,u.jsx)(i.X6,{align:"center",color:"light","data-test-id":"sp-bubble-title",size:"600",children:r}):(0,u.jsx)(i.xv,{align:"center",color:"light","data-test-id":"sp-bubble-subtitle",weight:"bold",children:r}),t&&t.image_small_url&&t.full_name&&(0,u.jsxs)(i.xu,{alignItems:"center","data-test-id":"sp-bubble-creator",display:"flex",justifyContent:"center",marginTop:4,children:[(0,u.jsx)(i.xu,{marginEnd:2,children:(0,u.jsx)(ne.qE,{color:h,name:t.full_name,outline:!0,size:"xs",src:t.image_small_url})}),(0,u.jsx)(i.xv,{color:"light",size:"100",children:t.full_name})]})]})})})};function ny(e){var n=e.bubble;return"board"===n.type?(0,u.jsx)(na,ng(ng({},e),{},{board:n})):(0,u.jsx)(nd,ng(ng({},e),{},{todayArticle:n}))}function nh(e){return(nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nv(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function n_(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nb(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?n_(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=nh(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=nh(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==nh(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function nx(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function nS(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){nx(o,r,i,a,l,"next",e)}function l(e){nx(o,r,i,a,l,"throw",e)}a(void 0)})}}function nP(e){var n=e.title,t=e.action,r=e.prototypeSLP;return(0,u.jsxs)(i.xu,{alignItems:"center","data-test-id":"suggestion-group-heading",display:"flex",justifyContent:"between",marginEnd:2,children:[r?(0,u.jsx)(i.xu,{marginEnd:1,paddingX:1,children:(0,u.jsx)(i.X6,{lineClamp:1,size:"400",children:n})}):(0,u.jsx)(i.X6,{lineClamp:1,size:"300",children:n}),r&&t&&(0,u.jsx)(i.kC.Item,{flexBasis:"shrink",children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{top:2}},position:"relative",children:(0,u.jsx)(i.st,{onMouseEnter:t.onFocus,onMouseLeave:t.onBlur,children:(0,u.jsx)(i.iP,{onBlur:t.onBlur,onFocus:t.onFocus,onTap:t.onClick,children:(0,u.jsx)(i.xv,{color:"subtle",children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:1}},children:t.text})})})})})})]})}var nw=function(e){var n=e.handleRemove,t=e.id,r=e.isHovered,o=e.label,a=e.onClick,l=e.onMouseEnter,s=e.onMouseLeave,c=e.removeA11yText,d=e.url;return(0,u.jsx)(i.xu,{"aria-selected":r?"true":"false","data-test-id":"search-suggestion",id:t,marginBottom:2,marginEnd:2,role:"option",children:(0,u.jsx)(i.Tg,{accessibilityLabel:o,href:d,onMouseEnter:l,onMouseLeave:s,onTap:function(e){var n=e.event,t=e.dangerouslyDisableOnNavigation;n.metaKey||n.ctrlKey||(t(),n.preventDefault(),a())},rounding:"pill",children:(0,u.jsxs)(i.xu,{alignItems:"center",color:r?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,u.jsx)(i.xv,{align:"center",children:o}),(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,u.jsx)(i.hU,{accessibilityLabel:null!=c?c:"",icon:"cancel",iconColor:"darkGray",onClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),null==n||n(o)},size:"xs"})})]})})})},nI=function(e){var n,t,o,a,s,c=e.id,d=e.isHovered,p=e.onClick,f=e.onMouseEnter,g=e.onMouseLeave,m=e.showSeeMoreOverlay,y=e.suggestion,h=e.trackClick,v=e.url,_=(0,l.Z)();return(0,u.jsx)(i.xu,{"aria-selected":d?"true":"false","data-test-id":"search-suggestion",id:c,marginBottom:2,paddingX:1,role:"option",children:(0,u.jsx)(i.Tg,{href:v||y.url,onMouseEnter:f,onMouseLeave:g,onTap:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),h(),n.metaKey||n.ctrlKey||v||(n.preventDefault(),p())},rounding:3,tabIndex:-1,children:(0,u.jsxs)(i.zd,{height:ea.YO,rounding:3,wash:d,width:ea.Gh,children:[(null==(n=y.images["236x"])?void 0:n.url)&&(0,u.jsx)(i.Ee,{alt:y.label,fit:"cover",naturalHeight:null!=(t=null==(o=y.images["236x"])?void 0:o.height)?t:1,naturalWidth:null!=(a=null==(s=y.images["236x"])?void 0:s.width)?a:1,src:y.images["236x"].url}),m&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:ea.H2,height:ea.YO,left:!0,position:"absolute",top:!0,width:ea.Gh}),(0,u.jsx)(i.xu,{alignItems:"center",display:"flex",height:ea.YO,justifyContent:"center",padding:3,position:"absolute",top:!0,width:ea.Gh,children:(0,u.jsx)(i.xv,{align:"center",color:"inverse",dataTestId:"see-more-suggestions-overlay",weight:"bold",children:_._('See More', 'searchBox.suggestionGroups.recentPinRep.seeMoreText', 'Text inviting users to see more of the same type of Pins')})})]})]})})})},nO=function(e){var n=e.componentType,t=e.focusedIndex,r=e.groupIndex,o=e.keyPrefix,l=e.onSuggestionMouseEnter,s=e.onSuggestionMouseLeave,c=e.seeMoreUrl,d=e.suggestions,p=e.title,f=(0,a.u)().logContextEvent,g=(0,J.$)().handleSuggestionSelect;return(0,u.jsxs)(i.kC,{dataTestId:"".concat(o,"_section"),direction:"column",gap:ea.Lo,children:[(0,u.jsx)(i.kC,{width:"100%",children:(0,u.jsx)(nP,{title:p})}),(0,u.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",width:"100%",wrap:!0,children:d.map(function(e,i){var a=i===ea.TD-1&&d.length===ea.TD;return(0,u.jsx)(nI,{id:(0,er.Gp)(r,i),isHovered:t===i,onClick:function(){g({suggestion:e,index:i})},onMouseEnter:function(){l(i)},onMouseLeave:function(){s()},showSeeMoreOverlay:a,suggestion:e,trackClick:function(){f({event_type:101,component:n,element:a?179:12374,view_type:ea.Ie,view_parameter:103})},url:a?c:e.url},"".concat(o,"-").concat(i))})})]})};function nj(e){var n=e.focusedIndex,t=e.groupIndex,r=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,o=e.suggestions,a=(0,l.Z)();return(0,e9.Q)({component:13844,view_parameter:103,view_type:ea.Ie}),(0,u.jsx)(nO,{componentType:13844,focusedIndex:n,groupIndex:t,keyPrefix:"recent_save",onSuggestionMouseEnter:r,onSuggestionMouseLeave:i,seeMoreUrl:"/me/pins/",suggestions:o,title:a._('Recently saved', 'searchBox.recentSavedSuggestions.heading', 'Recently saved Pins heading in search autocomplete')})}function nA(e){var n,t=e.suggestion,r=e.groupIndex,o=e.index,a=e.focusedIndex,s=e.onSuggestionMouseEnter,c=e.onSuggestionMouseLeave,d=(0,J.$)(),p=d.handleSuggestionSelect,f=d.getSuggestionImpressionOptions,g=d.autocompleteRequestSurface,m=(0,e4.Z)(g),y=(0,l.Z)(),h=(n=nS(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,e0.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:n}});case 2:m();case 3:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),v=y._('Remove', 'Remove recent search in search typeahead suggestion', 'Remove recent search in search typeahead suggestion');return(0,u.jsx)(eZ,{impressionTrackerProps:f({index:o,groupIndex:r,suggestion:t,loggingId:t.id}),children:function(e){var n=e.impressionTrackerRef;return(0,u.jsx)(i.xu,{ref:n,"data-test-id":"recent-query",children:(0,u.jsx)(nw,{handleRemove:h,id:(0,er.Gp)(r,o),isHovered:a===o,label:t.label,onClick:function(){p({suggestion:t,index:o})},onMouseEnter:function(){s(o)},onMouseLeave:function(){c()},removeA11yText:v,url:(0,er.Ek)({suggestion:t,query:""})})},"".concat(t.type,"-").concat(t.label))}})}function nE(e){var n=e.containerWidth,t=e.focusedIndex,r=e.groupIndex,o=e.onSuggestionMouseEnter,a=e.onSuggestionMouseLeave,s=e.searchBoxRenderStopwatch,c=e.suggestions,d=(0,l.Z)(),p=(0,J.$)().isSyop,f=(0,e5.Z)({isSyop:p}).anyEnabled,g=(0,J.$)().handleSuggestionSelect,m=(0,er.vS)({containerWidth:n,prototypeSLP:f,repType:"recentSearch"}),y=m.height,h=m.width,v=(0,er.YO)({pillLabels:c.map(function(e){return e.label}),maxWidth:n});return(0,u.jsxs)(i.kC,{direction:"column",gap:ea.Lo,children:[(0,u.jsx)(nP,{prototypeSLP:f,title:d._('Recent searches', 'Recent searches heading in search autocomplete', 'Recent searches heading in search autocomplete')}),f?(0,u.jsx)(i.kC,{alignItems:"stretch",direction:"row",gap:2,justifyContent:"start",wrap:!0,children:c.map(function(e,n){var i;return(0,u.jsx)(e8,{groupIndex:r,height:y,images:null==(i=e.image_preview_pins)?void 0:i.map(function(e){return{"236x":nb(nb({},e.image_medium_size_pixels),{},{url:e.image_medium_url})}}),isHovered:t===n,onClick:function(){g({suggestion:e,index:n})},onMouseEnter:function(){o(n)},onMouseLeave:function(){a()},searchBoxRenderStopwatch:s,showRemoveButton:!0,slotIndex:n,suggestion:e,title:e.label,url:(0,er.Ek)({suggestion:e,query:""}),width:h},e.label)})}):(0,u.jsx)(i.xu,{display:"flex",overflow:"hidden",position:"relative",children:c.slice(0,v).map(function(e,n){return(0,u.jsx)(nA,{focusedIndex:t,groupIndex:r,index:n,onSuggestionMouseEnter:o,onSuggestionMouseLeave:a,suggestion:e},e.label)})})]})}function nk(e){var n=e.focusedIndex,t=e.groupIndex,r=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,o=e.suggestions,a=(0,l.Z)();return(0,e9.Q)({component:13843,view_parameter:103,view_type:ea.Ie}),(0,u.jsx)(nO,{componentType:13843,focusedIndex:n,groupIndex:t,keyPrefix:"recent_view",onSuggestionMouseEnter:r,onSuggestionMouseLeave:i,seeMoreUrl:"/recently-viewed/",suggestions:o,title:a._('Recently viewed', 'searchBox.recentSavedSuggestions.heading', 'Recently viewed Pins heading in search autocomplete')})}function nT(e){var n=e.groupIndex,t=e.focusedIndex,r=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,a=e.searchBoxRenderStopwatch,l=e.suggestions,s=ea.Ie,c=l.id,d=l.items,p=l.story_type,f=l.title.format,g=(0,J.$)(),m=g.handleSuggestionSelect,y=g.getSuggestionImpressionOptions,h=d.map(function(e){return e.type+":"+e.id}).join("|");return(0,u.jsxs)(i.kC,{direction:"column",gap:ea.Lo,children:[(0,u.jsx)(nP,{title:f}),(0,u.jsx)(eZ,{impressionTrackerProps:y({additionalAuxData:{content_ids:h,story_id:c,story_type:p},suggestion:d[0],index:n,groupIndex:n,loggingId:c}),children:function(e){var l=e.impressionTrackerRef;return(0,u.jsx)(i.xu,{ref:l,display:"flex",marginBottom:5,wrap:!0,children:d.map(function(e,l){var d=t===l;return(0,u.jsx)(i.xu,{"aria-selected":d?"true":"false","data-test-id":"search-suggestion-today-bubble",id:(0,er.Gp)(n,l),marginBottom:2,paddingX:1,role:"option",children:(0,u.jsx)(ny,{bubble:e,component:13525,height:ea.Ny,isHovered:d,onClick:function(){m({suggestion:e,index:l})},onMouseEnter:function(){r(l)},onMouseLeave:function(){o()},searchBoxRenderStopwatch:a,slotIndex:l,storyId:c,storyType:p,viewParameter:3467,viewType:s,width:ea.Ny})},"story".concat("--",n,"-").concat(l))})})}})]})}function nC(e){var n,t,o=e.containerWidth,l=e.focusedIndex,s=e.groupIndex,c=e.index,d=e.onSuggestionMouseEnter,p=e.onSuggestionMouseLeave,f=e.searchBoxRenderStopwatch,g=e.suggestions,m=(0,a.u)().logContextEvent,y=(0,J.$)().isSyop,h=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return nv(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nv(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=h[0],_=h[1],b=g.action,x=g.id,S=g.items,P=g.story_type,w=g.title.format,I=S[0]&&"explorearticle"===S[0].type&&S[0].story_category,O=(0,e5.Z)({isSyop:y}).anyEnabled,j="shopping_spotlight"===P,A=(0,er.vS)({repType:2===I?"trending":"default",prototypeSLP:O,containerWidth:o}),E=A.width,k=A.height,T=(0,J.$)(),C=T.handleSuggestionSelect,D=T.getSuggestionImpressionOptions,L=S.map(function(e){return e.type+":"+e.id}).join("|"),M=(0,e4.Z)(0),R=(t=nS(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,e0.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:n}});case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),F=b&&b.text?{text:b.text,onClick:function(){var e,n;null==(e=g.custom_properties)||null==(n=e.recent_searches)||n.forEach(function(e){return R(e)}),M()},onFocus:function(){_(!0)},onBlur:function(){_(!1)}}:void 0;return(0,u.jsxs)(i.kC,{dataTestId:"search-story-suggestions-container",direction:"column",gap:ea.Lo,children:[(0,u.jsx)(nP,{action:F,prototypeSLP:O,title:w}),(0,u.jsx)(eZ,{impressionTrackerProps:D({additionalAuxData:{content_ids:L,story_id:x,story_type:P},suggestion:S[0],index:s,groupIndex:s,loggingId:x}),children:function(e){var n=e.impressionTrackerRef;return(0,u.jsx)(i.xu,{ref:n,children:(0,u.jsx)(i.kC,{alignItems:"stretch",direction:"row",gap:2,justifyContent:"start",wrap:!0,children:S.map(function(e,n){var t=c+n;if(j){var r=e.id;return(0,u.jsx)(ny,{bubble:e,height:ea.Ny,onClick:function(){m({component:200,event_type:101,view_parameter:3467,view_type:2,aux_data:{article_id:r,autocomplete_type:"recommended_article",story_type:P}})},onMouseDown:function(e){return e.event.preventDefault()},slotIndex:t,viewParameter:3467,viewType:2,width:ea.Ny},"ss-bubble-".concat(r))}var o,a=v||l===t,g=e.cover_images,y=e.dominant_colors,h=e.id,_=e.story_category,b=e.title.format,S=e.subtitle,w=e.identifier_icon_type,I=(0,er.Ek)({suggestion:e,query:"",suggestionStoryId:x});return(0,u.jsx)(i.xu,{"aria-selected":a?"true":"false","data-test-id":"search-suggestion",id:(0,er.Gp)(s,n),role:"option",children:(0,u.jsx)(e8,{contextLogData:{story_type:P,content_ids:L,grid_index:n,story_id:x},dominantColor:null!=(o=null==y?void 0:y[0])?o:"",groupIndex:s,height:k,icon:w,images:g,isHovered:a,onClick:function(){C({suggestion:e,index:t,suggestionStoryId:x})},onMouseEnter:function(){d(t)},onMouseLeave:function(){p()},searchBoxRenderStopwatch:f,slotIndex:t,subtitle:null==S?void 0:S.format,suggestion:e,title:b,url:I,width:E})},"story-".concat(null!=_?_:"","-").concat(s,"-").concat(h))})})})}})]})}var nD=t(773919),nL=t(217616),nM=t(889162);function nR(e){return(nR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nF(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nN(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function nB(e){var n,t=e.query,o=e.searchBoxHeight,a=e.searchBoxRenderStopwatch,s=e.showSyopHeading,c=e.suggestionGroups,d=e.width,p=(0,r.useRef)(null),f=(0,l.Z)(),g=(0,eL.Ow)(1000315).experiencesMulti,m=(0,nL.Z)().enabled,y=(0,nM.Z)().enabled,h=m||y,v=(0,G.B)(),_=v.country,b=v.isAuthenticated,x=(0,J.$)(),P=x.suggestionsFocusIndex,w=x.suggestionsMaxHeight,I=x.setSuggestionsHovered,O=x.setSuggestionsFocusIndex,j=x.handleFeaturedBoardSubmit,A=x.isSyop,E=(0,e5.Z)({isSyop:A}).anyEnabled,k=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(0))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return nN(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nN(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),T=k[0],C=k[1],D=(0,eD.Z)(C,400),L=(0,nD.Cm)(b,_),M=(0,G.B)().isRTL;function R(){O(void 0)}(0,r.useLayoutEffect)(function(){if(!p.current)return function(){};C(p.current.getBoundingClientRect().width);var e=new ResizeObserver(function(){D(function(e){var n;return(null==(n=p.current)?void 0:n.getBoundingClientRect().width)||e})});return e.observe(p.current),function(){e.disconnect()}},[D]);var F=h?"0 0 ".concat(ep.kl,"px ").concat(ep.kl,"px"):"0 0 16px 16px";return(0,u.jsx)(eM.Z,{view:ea.Ie,viewParameter:103,children:c.length>0?(0,u.jsx)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nF(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=nR(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=nR(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==nR(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nF(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({borderRadius:F,top:o},h?m?M?{right:"-16px",left:"-24px"}:{left:"-16px",right:"-24px"}:{left:"-24px",right:"-12px"}:{})},id:"SuggestionsMenu",left:!0,overflow:"hidden",position:"absolute",role:"listbox",width:h?void 0:d||"100%",children:(0,u.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:function(){return I(!0)},onMouseLeave:function(){return I(!1)},style:{maxHeight:w,boxSizing:"content-box",overflowY:"auto"},children:(0,u.jsxs)(i.xu,{ref:p,color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:F,paddingBottom:"4px",paddingTop:E?"28px":"32px"}},direction:"column",display:"flex",overflow:"hidden",width:"100%",children:[s&&(0,u.jsx)(i.xu,{marginBottom:4,marginStart:8,marginTop:4,children:(0,u.jsx)(i.X6,{size:"600",children:t.length>0?(0,S.nk)(f._('Search your Pins for {{ query }}', 'searchBox.suggestionsMenu.searchYourPinsForQueryText', 'Heading for search autocomplete when searching your own Pins for specific query'),{query:t}):f._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})}),c.map(function(e,n){var r,o;return e.items.length?(0,u.jsx)(i.xu,{marginBottom:E?9:4,paddingX:ea.r5,children:function(e,n,r){var i=(0,er.cW)(c),o=null==P?void 0:P-i[n],l=function(e){O((0,er.cW)(c)[n]+e)};if("story"===e.type&&"shopping_spotlight"===e.story_type&&L)return(0,u.jsx)(eJ.Z,{handleFeaturedBoardSubmit:j});switch(e.type){case"recent_query":return(0,u.jsx)(nE,{containerWidth:r,focusedIndex:o,groupIndex:n,onSuggestionMouseEnter:l,onSuggestionMouseLeave:R,searchBoxRenderStopwatch:a,suggestions:e.items});case"recent_save":return(0,u.jsx)(nj,{focusedIndex:o,groupIndex:n,onSuggestionMouseEnter:l,onSuggestionMouseLeave:R,suggestions:e.items});case"recent_view":return(0,u.jsx)(nk,{focusedIndex:o,groupIndex:n,onSuggestionMouseEnter:l,onSuggestionMouseLeave:R,suggestions:e.items});case"story":return"shopping_spotlight"===e.story_type?(0,u.jsx)(nT,{containerWidth:r,focusedIndex:o,groupIndex:n,index:0,onSuggestionMouseEnter:l,onSuggestionMouseLeave:R,searchBoxRenderStopwatch:a,suggestions:e}):(0,u.jsx)(nC,{containerWidth:r,focusedIndex:o,groupIndex:n,index:0,onSuggestionMouseEnter:l,onSuggestionMouseLeave:R,searchBoxRenderStopwatch:a,suggestions:e});case"blended_autocomplete":return(0,u.jsx)(eQ,{experiences:g,focusedIndex:o,onSuggestionMouseEnter:l,onSuggestionMouseLeave:R,query:t,suggestions:e.items})}return null}(e,n,T)},"".concat(t,"-").concat(e.type,"-").concat(null!=(r=null==(o=e.title)?void 0:o.format)?r:"")):null})]})})}):(0,u.jsx)(i.xu,{})})}function nz(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function nZ(e){var n=e.searchBoxHeight,t=e.suggestionGroups,i=e.width,o=V(),a=Z(),l=(0,G.B)().isBot,s=(0,q.Z)(),c=(0,J.$)(),d=c.autocompleteRequestSurface,p=c.enteredScope,g=c.enteredQuery,m=c.updateSuggestionGroups,y=c.isInTypeaheadSession,h=c.isSyop;(0,r.useEffect)(function(){y&&!h&&(g?(null!=a&&a.isTiming&&(null==a||a.abort("pivoted")),null==a||a.start()):null!=o&&o.isTiming||null==o||o.start())},[y,h,g]);var v=(0,f.Z)(l?null:{name:"SearchTabResource"}).data,_=ej().state,b=_.recentSaves,x=_.recentViews,S=(0,eC.X)({autocompleteRequestSurface:d}),P=(0,eC.c)({query:g,scope:p,autocompleteRequestSurface:d});return(0,r.useEffect)(function(){var e,n=v||[],t=s.isAuth?n.filter(function(e){return"shopping_spotlight"!==e.story_type}):n;m(h?[{items:S,type:"recent_query"},{items:x,type:"recent_view"},{items:b,type:"recent_save"}]:g.length?P:[{items:S,type:"recent_query"}].concat(function(e){if(Array.isArray(e))return nz(e)}(e=t||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return nz(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nz(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[P,h,m,g,v,S,b,x,p,s]),y&&t.length>0&&(0,u.jsx)(nB,{query:g,searchBoxHeight:n,searchBoxRenderStopwatch:o,showSyopHeading:h,suggestionGroups:t,width:i})}var nU=t(148),nK=t(875417),nV={v:"4.8.0",meta:{g:"LottieFiles AE 3.6.0",a:"",k:"",d:"",tc:""},fr:25,ip:0,op:75,w:24,h:24,nm:"lottie_loop_3_sec",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Shape Layer 5",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[22.062,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.75],[-10.125,4.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:5,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-.703],[-10.125,.641]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:12,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:25,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.704],[-10.125,5.714]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:32,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3.25],[-10.125,3.194]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:39,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.544],[-10.125,4.522]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:45,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-.703],[-10.125,.641]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:52,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:67,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.451],[-10.125,5.474]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.75],[-10.125,4.688]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[17.047,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:7,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:18,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.135,-6.147],[-10.135,6.125]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:27,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.165,-1.59],[-10.165,1.514]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:38,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:46,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-4.346],[-10.154,4.304]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:53,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.151,-4.706],[-10.151,4.668]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:63,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.165,-1.59],[-10.165,1.514]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.135,-6.147],[-10.135,6.125]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[12.031,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:13,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.145,-5.963],[-10.145,5.901]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:24,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-.622],[-10.141,.622]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:33,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-6.64],[-10.154,6.587]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:42,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-.622],[-10.141,.622]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:50,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.156,-7.75],[-10.156,7.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.15,-4.91],[-10.15,4.872]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:67,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-6.64],[-10.154,6.587]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[7.016,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-6.062],[-10.109,5.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:10,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-7.688],[-10.109,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:29,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-.938],[-10.141,.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:39,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-4.734],[-10.117,4.456]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:46,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-.938],[-10.141,.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:56,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-5.148],[-10.121,5.07]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:65,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-1.818],[-10.137,1.802]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-6.062],[-10.109,5.688]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[2,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:7,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.688],[-10.125,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:17,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:26,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.438],[-10.125,5.413]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:33,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-1.062],[-10.125,1]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:40,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-6.851],[-10.125,6.734]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:50,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.688],[-10.125,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:70,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0}],markers:[{tm:75,cm:"",dr:0}]};function nG(){var e=(0,l.Z)(),n=(0,nK.Z)({animationData:nV,loop:!0,autoplay:!0}).animationContainerRef;return n?(0,u.jsx)(i.xu,{marginEnd:2,children:(0,u.jsx)(i.zd,{height:24,width:24,children:(0,u.jsx)(i.xu,{ref:n})})}):(0,u.jsx)(i.xu,{paddingX:4,children:(0,u.jsx)(i.JO,{accessibilityLabel:e._('Listening...', 'searchBox.voiceSearch.accessibilityLabel', 'Icon indicating that the microphone is listening'),color:"default",icon:"audio-bars",size:24})})}var nH=t(622900);function nW(e){var n=e.onCloseClick,t=(0,l.Z)(),r=(0,a.u)().logContextEvent;(0,s.Z)(function(){r({event_type:13,view_type:ea.Ie,component:15282})});var o=function(){r({event_type:101,view_type:ea.Ie,component:15282,element:75}),n()};return(0,u.jsx)(x.ZP,{accessibilityModalLabel:t._('Voice search permissions modal', 'voiceSearch.accessibilityLabel', 'Modal for Voice Search permissions'),align:"start",heading:(0,u.jsx)(i.X6,{accessibilityLevel:1,size:"600",children:t._('Want to use voice search?', 'voiceSearch.modal.header', 'Header for Voice Search microphone permissions')}),isOpen:!0,onDismiss:o,size:"sm",children:(0,u.jsxs)(i.xu,{direction:"column",display:"flex",paddingX:7,children:[(0,u.jsx)(i.xv,{children:t._('Go to your browser settings to let Pinterest access the microphone', 'voiceSearch.modal.message', 'Voice Search microphone permissions message')}),(0,u.jsx)(i.xu,{display:"flex",justifyContent:"end",marginBottom:6,marginTop:7,children:(0,u.jsx)(i.zx,{accessibilityLabel:t._('Close', 'voiceSearch.close.button', 'Button to close voice search permissions modal'),color:"red",onClick:o,size:"md",text:t._('Close', 'voiceSearch.close.button', 'Button to close voice search permissions modal')})})]})})}function nq(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function nY(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return nX(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nX(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nX(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function n$(){var e,n,t=(0,l.Z)(),o=(0,a.u)().logContextEvent,c=(0,J.$)(),d=c.handleTextChange,p=c.handleVoiceSearchSubmit,f=c.voiceSearchPlaceholder,g=c.setVoiceSearchPlaceholder,m=nY((0,r.useState)(!1),2),y=m[0],h=m[1],v=nY((0,r.useState)(!1),2),_=v[0],x=v[1],S=(0,r.useRef)(null);(0,r.useEffect)(function(){x((0,nH.Z)())},[]),(0,s.Z)(function(){o({event_type:120,view_type:ea.Ie,component:43,element:15977})});var P=(0,r.useCallback)(function(){S.current&&(S.current.stop(),g(ei.K.NULL))},[g]);if((0,r.useEffect)(function(){f===ei.K.CANCEL&&(o({event_type:101,view_type:ea.Ie,component:43,element:73,aux_data:{is_voice_search:!0}}),P(),g(ei.K.NULL))},[f,P,g,o]),!_)return null;var w=(e=regeneratorRuntime.mark(function e(){var n,t,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o({event_type:101,view_type:ea.Ie,component:43,element:15977}),e.prev=1,e.next=4,navigator.permissions.query({name:"microphone"});case 4:if("denied"!==(n=e.sent).state){e.next=9;break}return g(ei.K.NULL),h(!0),e.abrupt("return");case 9:S.current=t=new(window.webkitSpeechRecognition||window.SpeechRecognition),t.lang="en-US",t.interimResults=!1,r=void 0,d(""),g(ei.K.NULL),t.onstart=function(){g(ei.K.LISTENING)},t.onresult=function(e){var n,t,i,o=null==(n=e.results)||null==(t=n[0])||null==(i=t[0])?void 0:i.transcript;o&&(r=o)},t.onerror=function(e){g(null),"permission-denied"===e.error&&h(!0)},t.onend=function(){r&&f!==ei.K.CANCEL?(p(r),g(null)):"prompt"===n.state?g(null):(o({event_type:16683,view_type:ea.Ie,component:43,aux_data:{reason:"voice search miss"}}),g(ei.K.DEFAULT)),r=void 0},t.start(),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(1),i=(0,b.Z)(e.t0,"message"),o({event_type:16683,view_type:ea.Ie,component:43,aux_data:{error_message:i}});case 28:case"end":return e.stop()}},e,null,[[1,24]])}),n=function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){nq(o,r,i,a,l,"next",e)}function l(e){nq(o,r,i,a,l,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)});return(0,u.jsxs)(i.kC,{alignItems:"center",direction:"row",height:"100%",children:[f===ei.K.LISTENING?(0,u.jsx)(nG,{}):(0,u.jsx)(i.hU,{accessibilityLabel:t._('Voice search', 'searchBox.voiceSearch.accessibilityLabel', 'Icon button that initiates a voice search'),icon:"microphone",iconColor:"darkGray",onClick:w}),y&&(0,u.jsx)(nW,{onCloseClick:function(){return h(!1)}})]})}function nQ(e){return(nQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nJ(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function n0(e){var n=e.isPartner,t=void 0!==n&&n,o=e.widthType,a=void 0===o?"md":o,s=(0,l.Z)(),d=(0,G.B)().isRTL,p=(0,ed.Z)().enabled,f=(0,nL.Z)().enabled,g=(0,J.$)(),m=g.allowLens,y=g.allowVoiceSearch,h=g.appliedQuery,v=g.displayedQuery,_=g.endPadding,b=g.enteredQuery,x=g.enteredScope,S=g.handleClearSearch,P=g.handleScopeChange,w=g.handleSearchIconButtonClick,I=g.inputFocused,O=g.isContentTypeFilterHovered,j=g.isInTypeaheadSession,A=g.isLensModalOpen,E=g.searchBoxHovered,k=g.setContentTypeFilterHovered,T=g.setSearchBoxHovered,C=g.showContentTypeFilter,D=g.showIconOnly,L=g.suggestionGroups,R=g.voiceSearchPlaceholder,N=(0,F.Z)().checkExperiment,B=(0,H.Z)()();if(D&&!I&&!h&&!j)return(0,u.jsxs)(i.xu,{"data-test-id":"search-box-container",id:ea.v6,children:[(0,u.jsx)(i.hU,{accessibilityLabel:s._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'accessibility label for search icon only at narrow screen width'),icon:"search",iconColor:"gray",onClick:w,size:"lg"}),B&&(0,u.jsx)(eT,{})]});var Z="shrink"===a?"".concat(80,"vw"):void 0,U=a&&Object.keys(ea.ht).includes(a)&&"shrink"!==a?ea.ht[a]:"auto",V=N("dweb_search_clear_search").anyEnabled?v.length>0||R===ei.K.LISTENING:!!v||t&&C||j||R===ei.K.LISTENING;return(0,u.jsx)(i.xu,{"data-test-id":"search-box-container",flex:"grow",id:ea.v6,marginEnd:2*!!f,minWidth:U,paddingX:2*!f,children:(0,u.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:E?et.wU:et.Sx}},display:"flex",height:ea.XI,rounding:p?ep.Qq:6,children:[(0,u.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nJ(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=nQ(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=nQ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==nQ(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nJ(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({padding:d?"0 16px 0 ".concat(_):"0 ".concat(_," 0 16px")},j?{borderRadius:p?"".concat(ep.GC,"px"):"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{})},display:"flex",flex:"grow",height:"100%",onMouseEnter:function(){T(!0)},onMouseLeave:function(){T(!1)},position:"relative",children:[!(v||I)&&(0,u.jsx)(i.xu,{flex:"none",marginEnd:2,children:(0,u.jsx)(i.JO,{accessibilityLabel:s._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'Search icon in search box'),icon:"search",size:16})}),(0,u.jsx)(eo,{name:"searchBoxInput"}),V&&(0,u.jsx)(i.xu,{flex:"none",marginStart:3,children:(0,u.jsx)(i.xu,{"data-test-id":"search-cancel",children:(0,u.jsx)(i.hU,{accessibilityLabel:s._('Remove search input', 'searchBox.removeSearchInput.accessibilityLabel', 'Accessibility label to remove the search input'),icon:h?"cancel":"clear",iconColor:"darkGray",onClick:S,size:h?"sm":"lg"})})}),(0,u.jsx)(K,{children:(0,u.jsx)(z,{children:(0,u.jsx)(nZ,{searchBoxHeight:ea.XI+4,suggestionGroups:L,width:Z})})}),B&&(0,u.jsx)(eT,{}),m&&!b&&(0,u.jsx)(c,{showCancel:V,viewType:ea.Ie}),y&&(0,u.jsx)(n$,{})]}),C?(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,u.jsx)(ey,{currentlySelectedFilter:x,currentQuery:h,handleContentTypeFilterHover:function(){t&&k(O)},handleScopeChange:P})]}):null,A&&(0,u.jsx)(M,{})]})})}function n1(e){var n=e.handleIconOnlyChange,t=e.iconOnly,r=void 0!==t&&t,i=e.isPartner,o=void 0!==i&&i,a=e.widthType,l=void 0===a?"md":a;return(0,u.jsx)(nU.v,{children:(0,u.jsx)(R.f,{children:(0,u.jsx)(eA,{children:(0,u.jsx)(J.w,{handleIconOnlyChange:n,iconOnly:r,isPartner:o,widthType:l,children:(0,u.jsx)(n0,{handleIconOnlyChange:n,iconOnly:r,isPartner:o,widthType:l})})})})})}},137679:function(e,n,t){t.d(n,{w:function(){return N},$:function(){return F}});var r=t(213491),i=t(387784),o=t(653551),a=t(860536),l=t(99643),s=t(230201),u=t(935059),c=t(609252),d=t(514223),p=t(173874),f=t(501010),g=t(774838),m=t(735403),y=t(197601),h=t(336024),v=t(405897),_=t(477738),b=t(575820),x=t(74972),S=t(818282),P=t(372164),w=t(720517),I=t(622900),O=t(275894),j=t(576105),A=t(657476),E=t(520803);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function C(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return D(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?D(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var L=t(680811),M=(0,r.Z)("SearchBoxHandlers"),R=M.Provider,F=M.get;function N(e){var n=e.children,t=function(e){var n,t=e.handleIconOnlyChange,r=e.iconOnly,D=void 0!==r&&r,L=e.isPartner,M=void 0!==L&&L,R=e.widthType,F=void 0===R?"md":R,N=(0,s.u)().logContextEvent,B=(0,g.B)(),z=B.country,Z=B.language,U=B.isRTL,K=(0,u.Z)(),V=(0,o.s0)(),G=(0,o.TH)(),H=(0,E.Z)().path,W=(0,f.Z)().checkExperiment,q=C((0,i.useTransition)(),2)[1],Y=(0,l.m)().isLensModalOpen,X=K.isAuth&&W("web_lens").anyEnabled,$=(0,A.Z)({skipResourceCall:!(0,p.En)(G)}).auxData,Q=null==$||null==(n=$.metadata)?void 0:n.unity_search_query,J=(0,y.Z)(G),ee=J.query,en=J.scope,et=J.rs,er=W("web_search_sticky_guides_iterated_entered_query",{dangerouslySkipActivation:!0}).anyEnabled&&Q||(0,b.mB)(G.search).entered_query,ei=a.t.includes(et)?"":er||ee,eo=null!=ei?ei:"",ea=C((0,i.useState)(eo),2),el=ea[0],es=ea[1],eu=C((0,i.useState)(),2),ec=eu[0],ed=eu[1],ep=ec?(0,P.Lq)(ec):el,ef=(0,P.WY)(),eg=null!=en?en:_.lw.PINS;ef&&(eg=_.lw.PINS_MINE),eg===_.lw.PINS_BUYABLE&&(eg=_.lw.PINS);var em=C((0,i.useState)(eg),2),ey=em[0],eh=em[1],ev=K.isAuth&&ey===_.lw.PINS_MINE,e_=+!!ev;(0,P.hb)(e_);var eb=C((0,i.useState)([]),2),ex=eb[0],eS=eb[1],eP=C((0,i.useState)(),2),ew=eP[0],eI=eP[1],eO=C((0,i.useState)(!1),2),ej=eO[0],eA=eO[1],eE=C((0,i.useState)(!1),2),ek=eE[0],eT=eE[1],eC=C((0,i.useState)(!1),2),eD=eC[0],eL=eC[1],eM=C((0,i.useState)(!1),2),eR=eM[0],eF=eM[1],eN=ek||eR,eB=C((0,i.useState)(!1),2),ez=eB[0],eZ=eB[1],eU=C((0,i.useState)(0),2),eK=eU[0],eV=eU[1],eG=C((0,i.useState)(""),2),eH=eG[0],eW=eG[1],eq=C((0,i.useState)(0),2),eY=eq[0],eX=eq[1],e$=C((0,i.useState)(""),2),eQ=e$[0],eJ=e$[1],e0=C((0,i.useState)(""),2),e1=e0[0],e2=e0[1];(0,i.useEffect)(function(){e2("")},[eN]),(0,i.useEffect)(function(){if(eN&&el.trim().length>0&&eY===el.length){if(eH&&eH.startsWith(el)){var e=(0,P.Cx)(ex,ew),n=e&&["recent_pin_searches","query"].includes(e.type)&&e.query;if(!eR||!e||n===eH)return}else if(ex&&ex.length>0){var t,r=null==(t=ex[0])?void 0:t.items.find(function(e){return["recent_pin_searches","query"].includes(e.type)});if(r&&r.query.startsWith(el)){var i=W("dweb_search_autocomplete_inline_suggestions"),o=i.anyEnabled,a=i.group;if(o&&r.show_inline_query&&function(e){var n=e.enteredQuery,t=e.group,r=e.viewedInlineSuggestion;if(!t.includes("continuous")&&r)return!1;var i=t.includes("2word")&&2||t.includes("3word")&&3||1;return!!n.endsWith(" ")&&n.split(" ").filter(function(e){return!!e}).length>=i}({enteredQuery:el,group:a,viewedInlineSuggestion:eQ})){eW(r.query),eJ(r.query);return}}}}eW("")},[el,ex,W,eN,eY,eH,eR,eQ,ew]);var e3=(0,I.Z)()&&"US"===z&&Z.startsWith("en")&&K.isAuth&&W("web_voice_search").anyEnabled,e6=C((0,i.useState)(O.K.NULL),2),e5=e6[0],e4=e6[1];function e7(){eI(void 0),ed(void 0)}var e8=(0,x.G)(),e9=e8.setAppFocusState,ne=e8.toggleTypeaheadOverlay,nn=(0,w.Z)(e_),nt=(0,j.Z)(),nr=C((0,i.useState)(D),2),ni=nr[0],no=nr[1];(0,i.useEffect)(function(){no(D)},[D]);var na=C((0,i.useState)(!1),2),nl=na[0],ns=na[1],nu=C((0,i.useState)(),2),nc=nu[0],nd=nu[1];(0,P.sy)({setShouldHideGhostText:ns,setSuggestionsMaxHeight:nd,isSyop:ev});var np=K.isAuth&&"shrink"!==F&&(eo||ef),nf=["shrink","auto"].includes(F)?"8px":0;np&&(nf="4px");var ng=C((0,P.PN)({shouldHideGhostText:nl,isSyop:ev,inputFocused:ek,voiceSearchPlaceholder:e5}),3),nm=ng[0],ny=ng[1],nh=ng[2],nv=(0,i.useRef)(void 0);function n_(){eV(Date.now()),eT(!0)}function nb(e){es(e),e7()}function nx(){N({event_type:8721,view_type:S.Ie,view_parameter:103,component:15487,aux_data:{entered_query:el,inline_suggestion:eH}}),es(eH),e2(eH),eW("")}function nS(e){var n=e.index,t=e.isKeyDown,r=e.suggestion,i=e.suggestionStoryId,o=t?97:101,a=(0,P.yQ)({index:n,suggestion:r,enteredQuery:el,additionalAuxData:{user_id:"user"===r.type?r.id:void 0}});switch(r.type){case"recent_pin_searches":case"recent_query":case"query":if(r.query===eo)break;N({event_type:o,view_type:S.Ie,view_parameter:"recent_query"===r.type?3467:103,component:35,element:["recent_query","recent_pin_searches"].includes(r.type)?253:104,aux_data:a,object_id_str:r.id});var l=(0,P.Ek)({suggestion:r,query:el,lastFocusTime:eK,inlineSuggestion:e1});ev&&"recent_query"===r.type&&(l=l.replace("pins","my_pins")),nt(l),V(l);break;case"recent_save":V(r.url);break;case"explorearticle":var s=26===r.story_category?13865:200;N({event_type:101,view_type:S.Ie,view_parameter:3467,component:s,aux_data:a});var u=(0,P.Ek)({suggestion:r,query:"",suggestionStoryId:i});nt(u),V(u);break;case"todayarticle":N({event_type:101,view_type:S.Ie,view_parameter:3467,component:200,aux_data:a}),V((0,P.Ek)({suggestion:r,query:""}));break;case"board":case"user":N({event_type:o,view_type:S.Ie,view_parameter:103,component:35,element:104,aux_data:a,object_id_str:r.id}),nt(r.url),V(r.url)}e7(),eT(!1),eF(!1)}(0,i.useEffect)(function(){nv.current!==eN&&q(function(){eN?c.Z.pause():c.Z.resume(),e9(!eN),eN||(e7(),es(eo)),ne(eN),nv.current=eN})},[eo,eN,e9,ne]),(0,i.useEffect)(function(){es(eo),eh(eg),eo||nn(),eT(!1),eF(!1)},[eo,eg,nn]),(0,i.useEffect)(function(){el||nn()},[el,nn]);var nP=function(e,n){var t=(0,m.Z)({query:e,rs:n,scope:ey});nt(t),eT(!1),eF(!1),V(t)},nw=function(){if(ep!==eo||ey!==eg){var e,n=(0,h.Z)(ep);if(n.length){var t=(0,m.Z)({query:n,rs:null!=(e=v.i.TYPED)?e:"",scope:ey,inlineSuggestion:e1});nt(t),eT(!1),eF(!1),V(t)}}};return{allowLens:X,allowVoiceSearch:e3,appliedQuery:eo,autocompleteRequestSurface:e_,delayedSearchBoxOpen:function(){setTimeout(n_,500)},displayedQuery:ep,endPadding:nf,enteredQuery:el,enteredScope:ey,getSuggestionImpressionOptions:function(e){var n=e.additionalAuxData,t=e.index,r=e.groupIndex,i=e.suggestion,o=e.loggingId,a=S.Ie,l=(0,P.yQ)({index:t,suggestion:i,enteredQuery:el,additionalAuxData:n});switch(i.type){case"query":case"user":return{viewType:a,componentType:35,elementType:104,viewParameter:103,loggingId:o,objectIdStr:o,contextLogData:l,impressionType:"Search",slotIndex:r};case"recent_pin_searches":return{viewType:a,componentType:35,elementType:253,viewParameter:103,loggingId:o,objectIdStr:o,contextLogData:l,impressionType:"Search",slotIndex:r};case"recent_query":return{viewType:a,componentType:35,elementType:253,viewParameter:3467,loggingId:o,objectIdStr:o,contextLogData:l,impressionType:"Search",slotIndex:r};case"explorearticle":case"todayarticle":return{contextLogData:l,impressionType:"Article",loggingId:o,objectIdStr:o,slotIndex:t,viewParameter:3467,viewType:a};case"story":return{componentType:200,contextLogData:l,impressionType:"Story",loggingId:o,objectIdStr:o,slotIndex:r,viewParameter:3467,viewType:a};default:return null}},handleClearSearch:function(){if(W("dweb_search_clear_search").anyEnabled){es(""),e7(),n_(),e5===O.K.LISTENING&&e4(O.K.CANCEL);return}es(""),eh(_.lw.PINS),e7(),e4(O.K.CANCEL),K.isAuth&&eo?V("/"):M&&t&&t(!0)},handleInclusiveProductFilterClick:function(e,n,t){var r={};el&&(r.entered_query=el),N({event_type:101,view_type:S.Ie,view_parameter:103,component:35,element:104,aux_data:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?T(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=k(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==k(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({autocomplete_type:"query",result_index:n},r)});var i=(0,P.Ek)({suggestion:e,query:el,lastFocusTime:eK,filterSelectedTerm:t});nt(i),eF(!1),V(i)},handleInputBlur:function(e){var n=e.currentTarget;setTimeout(function(){n.contains(document.activeElement)||(eT(!1),eJ(""))},0)},handleInputChange:function(e){var n;eX((null==(n=e.currentTarget)?void 0:n.selectionStart)||0),nb(e.target.value)},handleInputClick:function(e){var n;N({event_type:101,component:43,element:227}),eX((null==(n=e.currentTarget)?void 0:n.selectionStart)||0)},handleInputFocus:function(e){var n;eX((null==(n=e.currentTarget)?void 0:n.selectionStart)||0),n_()},handleKeyDown:function(e){switch(e.keyCode){case d.Z.ENTER:var n=(0,P.Cx)(ex,ew);eN&&n&&e.preventDefault(),n&&ej?(nS({index:n.resultIndex||0,isKeyDown:!0,suggestion:n}),eA(!1)):nw();break;case d.Z.ESCAPE:eN&&e.preventDefault(),e.stopPropagation(),eT(!1),eF(!1);break;case d.Z.UP:eN&&e.preventDefault();var t=C((0,P.VE)(ex,ew),2),r=t[0],i=t[1];eI(r),eA(!0),ed(i);break;case d.Z.DOWN:eN&&e.preventDefault();var o=C((0,P.VE)(ex,ew,!0),2),a=o[0],l=o[1];eI(a),eA(!0),ed(l);break;case d.Z.RIGHT:!U&&eH&&(e.preventDefault(),e.stopPropagation(),nx());break;case d.Z.LEFT:U&&eH&&(e.preventDefault(),e.stopPropagation(),nx());break;case d.Z.TAB:ny&&!el&&eN?(e.preventDefault(),e.stopPropagation(),es(ny)):eH&&(e.preventDefault(),e.stopPropagation(),nx());break;case d.Z.BACKSPACE:eH&&eW("")}},handleKeyUp:function(e){var n;eX((null==(n=e.currentTarget)?void 0:n.selectionStart)||0)},handleScopeChange:function(e){eh(e),eT(M&&!el),e7()},handleSearchIconButtonClick:function(){eT(!0),M&&N({event_type:101,element:11809})},handleSuggestionSelect:nS,handleSyopCtaClick:function(){var e=(0,h.Z)(el);if(e.length){var n=(0,m.Z)({query:e,rs:v.i.AC,scope:_.lw.PINS_MINE});nt(n),V(n)}},handleTextChange:nb,handleTypedSearchSubmit:nw,handleVoiceSearchSubmit:function(e){return nP(e,v.i.VOICE_SEARCH)},handleFeaturedBoardSubmit:function(){e7(),eT(!1),eF(!1)},inlineACSuggestion:eH,inputFocused:ek,isContentTypeFilterHovered:ez,isCurrentlyOnLensPage:"/lens-search"===H,isInTypeaheadSession:eN,isLensModalOpen:Y,isSyop:ev,logInlineSuggestionView:function(){N({event_type:13,view_type:S.Ie,view_parameter:103,component:15487,aux_data:{entered_query:el,inline_suggestion:eH}})},searchBoxHovered:eD,searchBoxPlaceholder:nm,setContentTypeFilterHovered:eZ,setSearchBoxHovered:eL,setVoiceSearchPlaceholder:e4,setSuggestionsFocusIndex:eI,setSuggestionsHovered:eF,showContentTypeFilter:np,showIconOnly:ni,voiceSearchPlaceholder:e5,suggestedSearchTerms:nh,suggestionGroups:ex,suggestionsFocusIndex:ew,suggestionsMaxHeight:nc,updateSuggestionGroups:eS}}({handleIconOnlyChange:e.handleIconOnlyChange,iconOnly:e.iconOnly,widthType:e.widthType,isPartner:e.isPartner});return(0,L.jsx)(R,{value:t,children:n})}},535486:function(e,n,t){t.d(n,{Z:function(){return A}});var r,i=t(387784),o=t(115821),a=t(20256),l=t(24246),s=t(774838),u=t(739405),c=t(662911),d=t(501755),p=t(620766),f=t(206928),g=t(834182),m=t(773919),y=t(765381),h=t(680811);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=v(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==v(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return S(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var P=(void 0!==r||(r=t(335193)).hash&&"b847fbfd19a7af0a12504f95d075bcbd"!==r.hash&&console.error("The definition of 'SearchLandingPageFeaturedBoardsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),w=function(e){var n=e.board,t=e.isLastBoard,r=e.handleFeaturedBoardSubmit,i=(0,u.HG)();return n?(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{flex:"none",paddingRight:t?i?"36px":"16px":void 0}},marginBottom:2,paddingX:+!i,role:"option",width:t?i?268:216:i?236:200,children:(0,h.jsx)(a.iP,{onTap:function(){return r?r():void 0},children:(0,h.jsx)(c.default,{boardKey:"__fragments"in n?n:{type:"Legacy",data:n},display:"responsive",isCollaboratorsAttributionVisible:!0,isFeaturedBoardsModule:!0,isUsingMask:!0,noPaddings:!0,showFollowButton:!1,trackInteractionObjectProp:{action:"click",item:"slp-featuredboards-board",within:"slp-featuredboards-section"},type:"grid",viewParameter:3070,viewType:2})})}):null},I={backgroundColor:"default",borderStyle:"shadow",hoverColor:"default",iconColor:"default",showFab:!0,size:"sm",opacity:1},O=function(e){var n,t,r=e.handleFeaturedBoardSubmit,o=(0,l.Z)(),s=(0,u.HG)(),c=(0,u.ml)(),v=(0,m.Sm)(),_=(0,i.useRef)(null),S=(0,i.useRef)(null),P=x((0,i.useState)(0),2),O=P[0],j=P[1],A=x((0,i.useState)("0px"),2),E=A[0],k=A[1],T=x((0,i.useState)([]),2),C=T[0],D=T[1],L=null!=(n=null==_||null==(t=_.current)?void 0:t.clientWidth)?n:0;(0,i.useEffect)(function(){v.data&&v.data.filter(function(e){return"board"===e.type}).length<m.yN&&v.fetchMore()},[v]),(0,i.useEffect)(function(){v.data&&D(v.data.filter(function(e){return"board"===e.type}).slice(0,m.yN))},[v]);var M=(0,m.eK)(o);if((0,i.useEffect)(function(){C&&O===C.length-1?k("-80px"):k("0px")},[O,C]),!v.data||v.error)return null;var R=(0,g.tD)({isHorizontalScrollable:!0,slotWidth:236,containerWidth:L,gap:16,numberOfSlides:C.length,index:O});return(0,h.jsxs)(a.kC,{direction:"column",children:[(0,h.jsx)(a.xu,{alignItems:"center",display:"flex",marginStart:4*!s,children:(0,h.jsx)(y.Z,{headerMarginTopOverride:c?6:3,sectionHeader:M,smallHeader:!0})}),(0,h.jsx)(a.xu,{children:s?(0,h.jsxs)(a.xu,{ref:_,display:"flex",marginBottom:s?4:6,paddingX:3*!!c,position:"relative",children:[(0,h.jsx)(p.Z,{backNode:(0,h.jsx)(f.Z,b(b({},I),{},{iconType:"back"})),carouselData:{index:O,entityId:"",carouselSlots:C.map(function(e){return{id:e.entityId,title:null}})},carouselIndex:O,forwardNode:(0,h.jsx)(f.Z,b(b({},I),{},{iconType:"forward"})),handleCarouselSwipe:function(e){j(e),S.current&&(0,g.c3)(S,!0,e,O,236,16)},isShowingLastSlide:R,itemsPerPage:s?3:1,pinKey:null,sliderStyleOverride:{padding:"0 32px 80px 32px"}}),(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:E,transition:"margin-left 0.3s ease-out",overflowX:"hidden"}},marginStart:0,children:(0,h.jsx)(d.Z,{containerRef:_.current,gap:6,id:"featured-boards",index:O,isHorizontalScrollable:!0,paddingX:0,setSlideIndex:j,showCarouselOverflow:!0,sliderRef:S,slideWidth:236,children:C.map(function(e,n){return(0,h.jsx)(w,{board:e,handleFeaturedBoardSubmit:r},"board--".concat(n))})})})]}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",overflowX:"auto",scrollbarWidth:"none"}},display:"flex",marginBottom:s?3:6,paddingX:3*!s,children:v.data.filter(function(e){return"board"===e.type}).slice(0,m.yN).map(function(e,n){return e&&(0,h.jsx)(w,{board:e,isLastBoard:n===m.yN-1},"board--".concat(n))})})})]})},j=function(e){var n,t,r,s,c,v=e.handleFeaturedBoardSubmit,_=(0,l.Z)(),S=(0,u.HG)(),O=(0,u.ml)(),j=(0,i.useRef)(null),A=(0,i.useRef)(null),E=x((0,i.useState)(0),2),k=E[0],T=E[1],C=x((0,i.useState)("0px"),2),D=C[0],L=C[1],M=null!=(n=null==j||null==(t=j.current)?void 0:t.clientWidth)?n:0,R=(0,o.useLazyLoadQuery)(P,{}),F=(null==(r=R.v3RootPageFeaturedBoardsQuery)?void 0:r.__typename)==="V3RootPageFeaturedBoards"?R.v3RootPageFeaturedBoardsQuery.data:void 0;if((0,i.useEffect)(function(){F&&k===F.length-1?L("-80px"):L("0px")},[k,F]),null!=(s=R.v3RootPageFeaturedBoardsQuery)&&null!=(c=s.error)&&c.message||!F)return null;var N=(0,m.eK)(_),B=(0,g.tD)({isHorizontalScrollable:!0,slotWidth:236,containerWidth:M,gap:16,numberOfSlides:F.length,index:k});return(0,h.jsxs)(a.kC,{direction:"column",children:[(0,h.jsx)(a.xu,{alignItems:"center",display:"flex",marginStart:4*!S,children:(0,h.jsx)(y.Z,{headerMarginTopOverride:O?6:3,sectionHeader:N,smallHeader:!0})}),(0,h.jsx)(a.xu,{children:S?(0,h.jsxs)(a.xu,{ref:j,display:"flex",marginBottom:S?4:6,paddingX:3*!!O,position:"relative",children:[(0,h.jsx)(p.Z,{backNode:(0,h.jsx)(f.Z,b(b({},I),{},{iconType:"back"})),carouselData:{index:k,entityId:"",carouselSlots:F.map(function(e){return{id:e.entityId,title:null}})},carouselIndex:k,forwardNode:(0,h.jsx)(f.Z,b(b({},I),{},{iconType:"forward"})),handleCarouselSwipe:function(e){T(e),A.current&&(0,g.c3)(A,!0,e,k,236,16)},isShowingLastSlide:B,itemsPerPage:S?3:1,pinKey:null,sliderStyleOverride:{padding:"0 32px 80px 32px"}}),(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:D,transition:"margin-left 0.3s ease-out",overflowX:"hidden"}},marginStart:0,children:(0,h.jsx)(d.Z,{containerRef:j.current,gap:6,id:"featured-boards",index:k,isHorizontalScrollable:!0,paddingX:0,setSlideIndex:T,showCarouselOverflow:!0,sliderRef:A,slideWidth:236,children:F.map(function(e,n){return(0,h.jsx)(w,{board:e,handleFeaturedBoardSubmit:v},"board--".concat(n))})})})]}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",overflowX:"auto",scrollbarWidth:"none"}},display:"flex",marginBottom:S?3:6,paddingX:3*!S,children:F.slice(0,m.yN).map(function(e,n){return e&&(0,h.jsx)(w,{board:e,isLastBoard:n===m.yN-1},"board--".concat(n))})})})]})};function A(e){var n=e.handleFeaturedBoardSubmit,t=(0,s.B)().country;return(0,m.CE)(t)?(0,h.jsx)(j,{handleFeaturedBoardSubmit:n}):(0,h.jsx)(O,{handleFeaturedBoardSubmit:n})}},98557:function(e,n,t){t.d(n,{J:function(){return c},q:function(){return d}});var r=t(20256),i=t(24246),o=t(216975),a=t(431006),l=t(667389),s=t(680811),u=Math.floor(3.5);function c(e){var n=e.id,t=e.children,i=e.isHovered,o=e.url,a=e.onClick,l=e.onMouseEnter,u=e.onMouseLeave,c=e.onFocus,d=e.onBlur,p=e.rounding;return(0,s.jsx)(r.xu,{"aria-selected":i?"true":"false","data-test-id":"search-suggestion",id:n,role:"option",children:(0,s.jsx)(r.st,{active:i,children:(0,s.jsx)(r.Tg,{href:o,onBlur:d,onFocus:c,onMouseDown:function(e){return e.event.preventDefault()},onMouseEnter:l,onMouseLeave:u,onTap:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),n.metaKey||n.ctrlKey||(n.preventDefault(),a())},rounding:p,children:t})})})}function d(e){var n=e.highlightMatch,t=e.iconName,c=e.imageUrl,d=e.isVerifiedMerchant,p=void 0!==d&&d,f=e.label,g=e.onLoad,m=e.query,y=e.rounding,h=e.searchDelightConfig,v=e.subLabel,_=e.type,b=e.verified,x=void 0!==b&&b,S=(0,i.Z)(),P="recent_pin_searches"===_?"rs-search-suggestion":c||t?"enriched-search-suggestion":"regular-search-suggestion";return(0,s.jsx)(r.xu,{"data-test-id":P,display:"flex",paddingY:+!!c,width:"100%",children:(0,s.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},children:[c?(0,s.jsx)(r.xu,{"data-test-id":"enriched-autocomplete-image",height:40,marginStart:u,overflow:"hidden",rounding:y&&2===y?2:"circle",width:40,children:(0,s.jsx)(r.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:40,naturalWidth:40,onLoad:g,role:"presentation",src:c})}):(0,s.jsx)(r.kC,{alignItems:"center",height:40,justifyContent:"center",width:40,children:(0,s.jsx)(r.JO,{accessibilityLabel:t?(0,o.nk)(S._('{{ icon}} icon', 'SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon', 'contextual icon in typeahead (eg shopping tag icon to take users to product search)'),{icon:t}).join():"",color:"default",icon:t||"search",size:12})}),(0,s.jsxs)(r.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},justifyContent:"center",children:[(0,s.jsxs)(r.kC,{alignItems:"center",children:[void 0!==n&&n&&m?(0,s.jsx)(a.Z,{query:m,searchDelightConfig:h,text:f||m}):(0,s.jsx)(r.xv,{weight:"bold",children:f}),(x||p)&&(0,s.jsx)(r.xu,{marginStart:1,children:(0,s.jsx)(l.Z,{iconOnly:!0,isVerifiedIdentity:x,isVerifiedMerchant:p,size:"xs",surface:"SuggestionReps"})})]}),v&&(0,s.jsx)(r.xv,{size:"100",children:v})]})]})})}},818282:function(e,n,t){t.d(n,{Ag:function(){return w},Fb:function(){return s},Fj:function(){return b},Gh:function(){return k},H2:function(){return E},Ie:function(){return T},Ip:function(){return g},Lo:function(){return a},Ny:function(){return O},P$:function(){return x},R1:function(){return c},TD:function(){return j},UE:function(){return S},Ub:function(){return I},Vv:function(){return l},XG:function(){return p},XI:function(){return i},Xh:function(){return d},YO:function(){return A},a3:function(){return v},e:function(){return u},ht:function(){return y},ji:function(){return f},le:function(){return _},r5:function(){return o},sA:function(){return h},v6:function(){return m},yY:function(){return P}});var r=t(806513),i=48,o=8,a=4,l=3.9,s=2.6,u=36,c=60,d=.75*r.yF,p=1.5*r.yF,f=1.5*r.yF,g=2*r.yF,m="searchBoxContainer",y={md:407,sm:332,auto:"auto"},h=7,v=["pin.description","pin.id","pin.images[236x]"],_=360,b=76,x=5,S=10,P=7.5,w=40,I=24,O=192,j=7,A=116,E={__style:{backgroundColor:"rgba(0,0,0, .4)"}},k=90,T=2},372164:function(e,n,t){t.d(n,{Cx:function(){return k},Ek:function(){return w},Gp:function(){return A},Lq:function(){return j},PN:function(){return L},VE:function(){return T},WY:function(){return C},YO:function(){return F},cW:function(){return E},hb:function(){return R},kj:function(){return I},sy:function(){return D},vS:function(){return N},yQ:function(){return O},zj:function(){return M}});var r=t(653551),i=t(568736),o=t(935059),a=t(806513),l=t(24246),s=t(774838),u=t(917569),c=t(661376),d=t(722157),p=t(764210),f=t(336024),g=t(477738),m=t(925201),y=t(629724),h=t(893957),v=t(818282),_=t(609370),b=t(275894);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=x(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==x(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function w(e){var n=e.suggestion,t=e.query,r=e.lastFocusTime,o=void 0===r?0:r,a=e.filterSelectedTerm,l=e.suggestionStoryId,s=e.inlineSuggestion;if("explorearticle"===n.type){var u,c,d=n.aux_fields,g=n.id,y=n.query,h=n.story_category;return null!=(u=null==(c=n.action)?void 0:c.url)?u:(0,p.Z)({bubbleId:g,pinId:null==d?void 0:d.image_pin_id,query:y,referringSource:2===h?"trending":"autocomplete_bubble",storyCategory:h,storyId:l})}if("todayarticle"===n.type){var v=n.id,_=n.title;return(0,i.x)({title:_,id:v,articleType:"today"})}var b={eq:(0,f.Z)(t)};return o&&(b.etslf=String(Date.now()-o)),a&&(b.filters=a),s&&(b.inline_suggestion=s),(0,m.Z)("url"in n&&n.url?n.url:"",b)}function I(e){switch(e){case"app_upsell_autocomplete":case"autocompleteupsell":case"unauth_search_header":case"news_hub_search":case"recent_save":case"recent_view":return;case"generic_query":case"personal_query":return"query";case"recent_personal_searches":case"recent_pin_searches":return"recent_query";case"recommended_query":return"recommended";case"explorearticle":case"todayarticle":case"story":return"recommended_article";default:return e}}function O(e){var n=e.enteredQuery,t=e.suggestion,r=e.index,i=e.additionalAuxData,o=P(P({},void 0===i?{}:i),{},{entered_query:n||void 0,selected_query:t.query||t.label||void 0,autocomplete_type:I(t.type)});switch(t.type){case"board":case"user":case"recent_pin_searches":case"recent_query":case"query":return P(P({},o),{},{result_index:r,user_id:"user"===t.type?t.id:void 0,ac_suggestion_id:t.id});case"explorearticle":return 26===t.story_category?P(P({},o),{},{article_id:t.id,story_id:t.storyId,story_type:"shopping_spotlight"}):P(P({},o),{},{autocomplete_type:2===t.story_category?"trending":"recommended",result_index:r});case"todayarticle":return P(P({},o),{},{article_id:t.id,story_type:"shopping_spotlight"});default:return{}}}function j(e){switch(e.type){case"explorearticle":case"news_hub_search":return e.title.format;case"todayarticle":return e.title;case"board":case"user":case"recent_pin_searches":case"recent_query":case"query":return e.label;default:return""}}function A(e,n){return"SuggestionGroup-Option-".concat(e,"-").concat(n)}var E=function(e){var n=0;return e.map(function(e){var t,r,i=n;return n+=null!=(t=(null!=(r=e.items)?r:[]).length)?t:0,i})},k=function(e,n){if(null!=n){for(var t=E(e),r=0;r<t.length;r+=1)if(e[r].items.length&&n-t[r]<e[r].items.length)return e[r].items[n-t[r]];return null}};function T(e,n,t){var r=e.map(function(e){var n;return null!=(n=e.items.length)?n:0}).reduce(function(e,n){return e+n},0),i=t?null==n?0:n===r-1?void 0:n+1:null==n?r-1:0===n?void 0:n-1,o=k(e,i);return[i,o]}function C(){var e=(0,r.TH)(),n=(0,o.Z)(),t=(0,y.Z)(e.search),i=t.ideas_referrer,a=t.view_parameter_type;i=parseInt(i,10),a=parseInt(a,10);var l=n.isAuth&&e.pathname.startsWith("/".concat(n.username,"/")),s=n.isAuth&&e.pathname.startsWith("/recently-viewed"),u=3173===a&&(1===i||25===i);return(l||s)&&!u}function D(e){var n=e.setShouldHideGhostText,t=e.setSuggestionsMaxHeight,r=e.isSyop,i=(0,_.Z)({isSyop:r}).anyEnabled;function o(){var e,r=(null==(e=document.getElementById(v.v6))?void 0:e.offsetWidth)||0,o=i?window.innerHeight/4:0;n(r<=v.le),t(window.innerHeight-14-v.Fj-o)}(0,h.Z)(function(){return window.addEventListener("resize",o),o(),function(){window.removeEventListener("resize",o)}})}function L(e){var n=e.shouldHideGhostText,t=e.isSyop,r=e.inputFocused,i=e.voiceSearchPlaceholder,a=(0,l.Z)(),s=(0,o.Z)().isAuth,u=(0,c.Z)(s?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),p=s?a._('Search', 'searchBox.placeholder.defaultText', 'default placeholder text for search box'):a._('Search for easy dinners, fashion, etc.', ' - ', ' -- '),f="";if(i)p=i===b.K.LISTENING?a._('Listening...', 'searchBox.placeholder.search', 'default placeholder text for search box'):a._('Didn\'t get that! Try again', 'searchBox.placeholder.search', 'default placeholder text for search box');else if(!n&&u.isLoaded&&u.data&&u.data.length>0){var g=u.data[0].text;f=u.data[0].query,p=g}return t&&(p=r?a._('Try a title or description', 'searchBox.placeholder.searchYourOwnPinsFocusedText', 'default placeholder text for input focused search box when searching Your Pins'):a._('Search your Pins', 'searchBox.placeholder.searchYourOwnPinsText', 'default placeholder text for search box when searching Your Pins')),[p,f,(0,d.Z)()]}function M(e){var n,t,r=e.suggestionsFocusIndex,i=E(e.suggestionGroups);if("number"==typeof r){for(var o=i.length-1;o>=0;o-=1)if(r>=i[o]){n=o,t=r-i[o];break}}return"number"==typeof n&&"number"==typeof t?A(n,t):""}function R(e){var n=(0,o.Z)(),t=(0,s.B)().isBot,r=n.isAuth,i=n.isLimitedLogin,a=(0,u.Z)()();(0,c.Z)(!a&&r?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:g.lw.PINS,autocomplete_request_surface:e},noCache:!0}:null),(0,c.Z)(a||t?null:{name:"SearchTabResource"}),(0,c.Z)(r&&!i?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:v.a3.join(","),pin_preview_count:v.sA}}}:null)}function F(e){var n=e.pillLabels,t=e.maxWidth,r=n.length;if(!t)return r;for(var i=0,o=0;o<n.length;o+=1){var a=n[o];if(a){var l=a.length*v.yY+v.Ag+v.Ub;if(l+i<t)i+=l;else{r=o;break}}}return r}function N(e){var n,t=e.repType,r=e.prototypeSLP,i=e.containerWidth,o=4,l=function(e){return i?(i-(4*v.r5*2+8*(e-1)))/e:a.yF};for(n=l(4);n<(r?v.ji:v.Xh)&&o>1;)o-=1,n=l(o);for(;n>(r?v.Ip:v.XG);)o+=1,n=l(o);var s=r&&v.Vv||v.Fb;r&&"trending"===t&&(s+=.8);var u=Math.max(r&&"recentSearch"===t?v.e:v.R1,n/s);return{width:n,height:u}}},716769:function(e,n,t){t.d(n,{X:function(){return h},c:function(){return y}});var r=t(387784),i=t(935059),o=t(319528),a=t(24246),l=t(216975),s=t(661376),u=t(338334),c=t(477738),d=t(818282),p=t(609370);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==f(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function y(e){var n=e.query,t=e.scope,s=e.autocompleteRequestSurface,c=(0,a.Z)(),d=(0,i.Z)(),p=(0,u.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:t,autocomplete_request_surface:s},value:n});return(0,r.useMemo)(function(){var e=null==p?void 0:p.map(function(e){if("query"===e.type){var n,t=e.modified_filter_eligibility,r=e.query,i=t?(0,l.nk)(null!=t&&null!=(n=t.hair_pattern)&&n.eligible_filters?c._('{{ query }} by hair pattern', 'SearchSuggestion.HairPatternFilterSuggestion', 'Suggested search for a hair pattern filter-eligible query'):c._('{{ query }} by skin tone range', 'SearchSuggestion.SkinToneFilterSuggestion', 'Suggested search for a skin tone filter-eligible query'),{query:r}).join(""):r;return m(m({},e),{},{label:i})}return e});if(d.isAuth)return[{items:e||[],type:"blended_autocomplete"}];var n=(0,o.Z)(e||[],function(e){return e.type});return[{items:["query","user"].flatMap(function(e){return n[e]}).filter(function(e){return!!e}),type:"blended_autocomplete"}]},[p,d,c])}function h(e){var n,t,o=(e||{}).autocompleteRequestSurface,a=(0,p.Z)({isSyop:0!==o}).group,l=(n=(0,i.Z)(),t=(e||{}).autocompleteRequestSurface,(0,s.Z)(n.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:c.lw.PINS,autocomplete_request_surface:t},noCache:!0}:null)),u=l.isLoaded,f=l.data;return(0,r.useMemo)(function(){if(u&&f)return f.items.slice(0,null!=a&&a.includes("recent_search")?d.UE:d.P$).map(function(e,n){return m(m({},e),{},{resultIndex:n})});return[]},[u,f,a])}},609370:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(501010);function i(e){var n=e.isSyop,t=(0,r.Z)().checkExperiment;return n?{anyEnabled:!1,group:""}:t("web_search_autocomplete_empty_state")}},720517:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(387784),i=t(581722),o=t(233597);function a(e){var n=(0,i.I0)();return(0,r.useMemo)(function(){return function(){n((0,o.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins",autocomplete_request_surface:e}}))}},[n,e])}},148:function(e,n,t){t.d(n,{n:function(){return y},v:function(){return h}});var r=t(387784),i=t(653551),o=t(213491),a=t(477738),l=t(739405),s=t(582610),u=t(305375),c=t(680811);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==d(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var g=(0,o.Z)("SearchParams"),m=g.Provider,y=g.get,h=function(e){var n,t,o,d,p,g,y=e.children,h=e.value,v=(n=(0,l.HG)(),o=(t=(0,i.TH)()).search,d=t.pathname,g=!(p=(0,u.Z)().scope)&&d.includes("/_tools/shop"),(0,s.Z)({isDesktop:n,scope:g?a.lw.SHOP_TOOL:p,search:o})),_=(0,r.useMemo)(function(){return f(f({},v),h)},[v,h]);return(0,c.jsx)(m,{value:_,children:y})}},55424:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(261926);function i(e){var n=null==e?void 0:e.modified_filter_eligibility;return n?"hair_pattern"in n?r.ti.HAIR:"skin_tone"in n?r.ti.SKIN:null:null}},622900:function(e,n,t){t.d(n,{Z:function(){return r}});function r(){return"undefined"!=typeof window&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)}},275894:function(e,n,t){t.d(n,{K:function(){return r}});var r={LISTENING:"listening",DEFAULT:"default",CANCEL:"cancel",NULL:null}},261926:function(e,n,t){t.d(n,{CT:function(){return r},HE:function(){return i},Mq:function(){return o},ti:function(){return a}});var r={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},i={CLOSEUP:"closeup"},o={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},a={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},120100:function(e,n,t){var r=t(24246),i=t(739405),o=t(36776),a=t(229127);n.Z=function(){var e=(0,r.Z)(),n=(0,i.HG)(),t=(0,o.m)(),l=t.viewer,s=t.loginForMore,u=t.limitedLoginModalSubheader,c=t.limitedLoginModalNextLocation;return"LIMITED_LOGIN"===l.type?function(t){var r=t.modalHeader,i=t.nextLocation;return function(t){var o=null;t&&(t.nativeEvent&&t.nativeEvent instanceof Event?o=t:t.event&&(o=t.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),null==s||s.setVisible(!0),null==u||u.setText(r||(n?(0,a.hr)(e):(0,a.Wh)(e))),i&&(null==c||c.setRoute(i))}}:function(e){return e.fn}}},582610:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(477738),i=t(575820);function o(e){var n=e.isDesktop,t=e.scope,o=e.search,a=(0,i.mB)(o),l=a.auto_correction_disabled,s=a.b_id,u=a.brands,c=a.category,d=a.colors,p=a.commerce_only,f=void 0===p?"":p,g=a.cover_pin_sig,m=a.deb_d,y=a.domains,h=a.filters,v=a.guided_search_query,_=a.inline_suggestion,b=a.interest_id,x=a.journey_depth,S=a.on_sale,P=a.price_max,w=a.price_min,I=a.q,O=a.query_pin_sigs,j=a.request_params,A=a.rs,E=a.selected_one_bar_modules,k=a.source_id,T=a.source_module_id,C=a.tab,D=a.top_pin_ids,L=a.user,M="true"===f.toLowerCase()&&"shop_tool"!==t?r.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===(void 0===l?"":l).toLowerCase(),brands:u,bubbleId:s,category:c,colors:d,commerceOnly:"true"===f.toLowerCase(),coverPinSig:g,currentlyAppliedFiltersParamTerm:h,debD:m,domains:y,guidedSearchQuery:v,inlineSuggestion:_,interestId:b,journeyDepth:x?parseInt(x,10):void 0,onSale:S,personalizationPinSig:O,placementId:(0,r.Hd)(M,n),priceMax:P,priceMin:w,query:I,requestParams:j,rs:A,scope:M,selectedOneBarModules:E,sourceId:k,sourceModuleId:T,tab:C||"",topPinIds:D,user:L,viewParameter:(0,r._R)(M),viewType:M===r.lw.SHOP_TOOL?1:2}}},576105:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(387784),i=t(581722),o=t(647908),a=t(233597),l=t(42676),s=t(582610);function u(){var e=(0,i.I0)(),n=(0,r.useRef)(void 0);return function(t){t&&function(e){var n=e.appliedUnifiedFilters,t=e.dispatch,r=e.optionsKeyRef,i=e.isAuthenticated,u=e.isDesktop,c=void 0===u||u,d=e.url,p=new URL(d.startsWith("http")?d:"".concat(window.location.origin).concat(d)),f=p.pathname.split("/");if(4===f.length&&"search"===f[1]){var g=p.search,m=f[2],y=(0,s.Z)({isDesktop:c,scope:m,search:g}),h=(0,l.vW)({searchParams:y,appliedUnifiedFilters:n,isAuthenticated:void 0===i||i,isDesktop:c,sourceUrl:d}),v=(0,o.Z)(h);r.current!==v&&(r.current=v,t((0,a.U)(h.name,{options:h.options},null)))}}({dispatch:e,optionsKeyRef:n,url:t})}}},657476:function(e,n,t){t.d(n,{X:function(){return f},Z:function(){return p}});var r=t(653551),i=t(190665),o=t(501010),a=t(774838),l=t(661376),s=t(42676),u=t(477738),c=t(739405),d=t(148);function p(e){return f(e).resource}function f(e){var n=(e||{}).skipResourceCall,t=(0,o.Z)().checkExperiment,p=(0,a.B)().isAuthenticated,f=(0,r.TH)(),g=f.pathname,m=f.search,y=(0,c.HG)(),h=!p||!y,v=(0,d.n)(),_=(0,i.Z)(),b=(0,s.vW)({searchParams:v,sourceUrl:g+m,isDesktop:y,isAuthenticated:p,appliedUnifiedFilters:_}),x=h;h&&(x=!!p&&!t("unify_search_resource_auth_mweb").anyEnabled);var S=n||v.scope===u.lw.USERS&&!h||x;return{resource:(0,l.Z)(S?null:b),options:b.options}}},479297:function(e,n,t){t.d(n,{GB:function(){return g},ZP:function(){return f},q0:function(){return p}});var r=t(20256),i=t(216975),o=t(937656),a=t(696749),l=t(247387),s=t(622125),u=t(310621),c=t(542392),d=t(680811),p=function(e){return e._('Not a valid URL.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid URL was entered to create a Pin')};function f(e){var n=e.dispatchId,t=e.errorId,s=e.i18n,f=e.ideaPinRenamingEnabled,g=e.options,m=(0,u.Z)(t,s,n,g);if("GENERAL_ERROR"!==m.id)return m;switch(t){case"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:n,id:"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s._('Ooops! This description is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when description is greater than maximum character count.')};case"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT":return{dispatchId:n,id:"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",type:"error",message:s._('Ooops! Too many user mentions. Try keeping it to 5 max.', 'pinBuilder.errorMessaging.descriptionMentionLimit', 'Error message when description contains more user mentions than maximum allowed count.')};case"TITLE_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:n,id:"TITLE_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s._('Ooops! This title is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when title is greater than maximum character count.')};case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":return{dispatchId:n,id:"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO",type:"error",message:s._('This image does not have the recommended aspect ratio.', 'storyPinBuilder.errorMessaging.message', 'Signal message when uploading an image that does not have the recommended aspect ratio.')};case"TAG_SAME_PRODUCT_LINK":return{dispatchId:n,id:"TAG_SAME_PRODUCT_LINK",type:"error",message:s._('You can\'t tag from the same page twice.', 'storyPinBuilder.errorMessaging.message', 'Error message for using the same product link twice on a Pin tag'),blocking:!0};case"TAG_OVER_MAX_PRODUCTS_LIMIT":return{dispatchId:n,id:"TAG_OVER_MAX_PRODUCTS_LIMIT",type:"error",message:s._('You\'ve reached the maximum number of products for a tag.', 'storyPinBuilder.errorMessaging.message', 'Error message when user attempts to add more than 8 products to a tag'),blocking:!0};case"BOARD_MISSING":return{dispatchId:n,id:"BOARD_MISSING",type:"error",message:s._('A board is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a board is required to create a Pin'),blocking:!0};case"DATE_IN_PAST":return{dispatchId:n,id:"DATE_IN_PAST",type:"error",message:s._('A future date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the date is in the past for a scheduled Pin.'),blocking:!0};case"DATE_TOO_FAR_IN_FUTURE":return{dispatchId:n,id:"DATE_TOO_FAR_IN_FUTURE",type:"error",message:s._('Make sure you schedule a Pin less than 30 days in the future.', 'storyPinBuilder.errorMessaging.30DayMessage', 'Error message indicating the date is too far in the future for a scheduled Pin.'),blocking:!0};case"DATE_MISSING":return{dispatchId:n,id:"DATE_MISSING",type:"error",message:s._('A date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a date is required to schedule a Pin.'),blocking:!0};case"DESCRIPTION_INVALID":return{dispatchId:n,id:"DESCRIPTION_INVALID",type:"error",message:s._('The description is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid description was entered to create a Pin'),blocking:!0};case"MEDIA_MISSING":return{dispatchId:n,id:"MEDIA_MISSING",type:"error",message:s._('An image is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an image, video, or website is required to create a Pin.'),blocking:!0};case"SHOWCASE_UNSUPPORTED_FORMAT":return{dispatchId:n,id:"SHOWCASE_UNSUPPORTED_FORMAT",type:"error",message:s._('Showcase ads don\u2019t currently support video. To continue, please upload an image.', 'showcasePinBuilder.errorMessaging.message', 'Error message for uploading the wrong format for showcase ads.'),blocking:!0};case"TAG_INVALID":return{dispatchId:n,id:"TAG_INVALID",type:"error",message:s._('You can only tag images linking to your claimed website.', 'storyPinBuilder.errorMessaging.message', 'Error message for entering a link you have not claimed.'),blocking:!0};case"TAG_EMPTY":return{dispatchId:n,id:"TAG_EMPTY",type:"error",message:s._('You must tag at least one feature Pin to continue.', 'storyPinBuilder.errorMessaging.message', 'Error message for not tagging at least one product on a showcase ad.'),blocking:!0};case"TIME_MISSING":return{dispatchId:n,id:"TIME_MISSING",type:"error",message:s._('A time is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a time is required to schedule a Pin.'),blocking:!0};case"TITLE_INVALID":return{dispatchId:n,id:"TITLE_INVALID",type:"error",message:s._('The title is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid title was entered to create a Pin'),blocking:!0};case"URL_INVALID":return{dispatchId:n,id:"URL_INVALID",type:"error",message:p(s),blocking:!0};case"URL_MISSING":return{dispatchId:n,id:"URL_MISSING",type:"error",message:s._('URL is required.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL is required to create a Pin'),blocking:!0};case"URL_CONTAINS_PORN_DOMAIN":return{dispatchId:n,id:"URL_CONTAINS_PORN_DOMAIN",type:"error",message:(0,i.nk)(s._('Some nudity is okay for Pinterest, some isn\'t. Make sure you understand {{ policy_link }}', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL entered is a porn domain.'),{policy_link:(0,d.jsx)(r.rU,{display:"inlineBlock",href:l.MsG,target:"blank",underline:"hover",children:(0,d.jsx)(r.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:s._('our policies', 'Link to policy page', 'Link to policy page')})},0)}),blocking:!0};case"URL_IS_TOO_LONG":return{dispatchId:n,id:"URL_IS_TOO_LONG",type:"error",message:(0,a.Z)(s._('Please shorten the link to {{ maxLength }} characters or fewer.', 'pinbuilder.urlIsTooLong.errorMessage', 'Error message indicating a URL is too long to create a Pin. maxLength: max number of chars in the link'),{maxLength:o.cH}),blocking:!0};case"URL_IS_BLOCKED":return{dispatchId:n,id:"URL_IS_BLOCKED",type:"error",message:s._('This link is blocked because it may not meet our content policies.', 'pinbuilder.blockedUrl.errorMessage', 'Error message indicating a URL is blocked because it may not meet our content policies'),blocking:!0};case"CAROUSEL_DIFFERENT_RATIOS":return{dispatchId:n,id:"CAROUSEL_DIFFERENT_RATIOS",type:"error",message:s._('Carousel images must have the same height and width', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a carousel with different sizes'),blocking:!0};case"CAROUSEL_INVALID_FORMAT":return{dispatchId:n,id:"CAROUSEL_INVALID_FORMAT",type:"error",message:s._('Carousels can only contain images', 'storyPinBuilder.errorMessaging.message', 'Error message when attempting to add a non-image file type to a carousel'),blocking:!0};case"URL_IS_REDIRECT":return{dispatchId:n,id:"URL_IS_REDIRECT",type:"error",message:s._('URL is a redirect.  Please enter a URL without a redirect.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL with a redirect was entered'),blocking:!0};case"URL_UNREACHABLE":return{dispatchId:n,id:"URL_UNREACHABLE",type:"error",message:s._('URL is unreachable.  Please check that it is correct.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL specified is unreachable.'),blocking:!0};case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":return{dispatchId:n,id:"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",type:"error",message:s._('Edit the image on the cover page to have a 9:16 ratio', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the image on the cover page of a Story Pin does not have the correct aspect ratio.'),blocking:!0};case"STORY_PIN_COVER_PAGE_IMAGE_MISSING":return{dispatchId:n,id:"STORY_PIN_COVER_PAGE_IMAGE_MISSING",type:"error",message:f?s._('Please provide an image for the cover page of your Pin', 'storyPinBuilder.errorMessaging.storypinCoverPageImageMissing', 'Error message indicating that the cover page of a Pin is missing an image'):s._('Please provide an image for the cover page of your Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page of a Idea Pin is missing an image')};case"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING":return{dispatchId:n,blocking:!0,id:"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",type:"error",message:f?s._('Cannot save Pin without signature set on cover', 'storyPinBuilder.errorMessaging.storyPinCoverPageSignatureMissing', 'Error message indicating that the cover page is missing the signature'):s._('Cannot save Idea Pin without signature set on cover', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page is missing the signature')};case"STORY_PIN_COVER_PAGE_TITLE_MISSING":return{dispatchId:n,id:"STORY_PIN_COVER_PAGE_TITLE_MISSING",type:"error",message:f?s._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinCoverPageTittleMissing', 'Error message indicating the cover page of a Pin is missing a title.'):s._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_MEDIA_SIGNATURES_MISSING":return{dispatchId:n,blocking:!0,id:"STORY_PIN_MEDIA_SIGNATURES_MISSING",type:"error",message:f?s._('Cannot save Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.storyPinMediaSignatureMissing', 'Error message indicating that signatures are missing on media blocks/items'):s._('Cannot save Idea Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that signatures are missing on media blocks/items')};case"STORY_PIN_NOT_ENOUGH_PAGES":return{dispatchId:n,id:"STORY_PIN_NOT_ENOUGH_PAGES",type:"error",message:f?s._('Create at least 2 pages to publish a Pin', 'storyPinBuilder.errorMessaging.storyPinNotEnoughPages', 'Error message indicating the Pin is too short.'):s._('Create at least 2 pages to publish an Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is too short.'),blocking:!0};case"STORY_PIN_TOO_MANY_DRAFTS":return{dispatchId:n,id:"STORY_PIN_TOO_MANY_DRAFTS",type:"error",message:(0,i.nk)(s._('You have reached the limit of {{draftMaxCount}} drafts.', 'storyboard.errorMessaging.message.draftLimitError', 'Upload attempt error message when users reached max number of drafts allowed. draftMaxCount: max number of drafts'),{draftMaxCount:c.in}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE":return{dispatchId:n,id:"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE",type:"error",message:(0,i.nk)(s._('You can only upload {{multiUploadMaxCount}} drafts at once.', 'storyboard.errorMessaging.message.multiUploadMaxError', 'Error message when users multi upload more than the max allowed. multiUploadMaxCount: max number of multi uploaded'),{multiUploadMaxCount:c.Af}).join(""),blocking:!0};case"STORY_PIN_TITLE_MISSING":return{dispatchId:n,id:"STORY_PIN_TITLE_MISSING",type:"error",message:f?s._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinTitleMissing', 'Error message indicating the Pin is missing a title.'):s._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var y=Math.floor(o.W_);return{dispatchId:n,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,i.nk)(s.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', y, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file that is longer than the allowed duration'),{minVideoLengthSeconds:y}).join(""),blocking:!0};case"STORY_PIN_VIDEO_ON_COVER":return{dispatchId:n,id:"STORY_PIN_VIDEO_ON_COVER",type:"error",message:s._('The cover page cannot contain a video', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Story Pin contains a video.'),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var h=o.Lr/1024/1024;return{dispatchId:n,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,i.nk)(s.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', h, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file larger than required megabytes.'),{maxVideoFileSize:h}).join(""),blocking:!0};case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:n,id:"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s._('Ooops! This alt text is getting long. Try trimming it down.', 'pinBuilder.errorMessaging.message', 'Error message when alt text is greater than maximum character count.')};default:return{dispatchId:n,id:"GENERAL_ERROR",type:"error",message:s._('Hmm, something went wrong. Please try again.', 'storyPinBuilder.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}function g(e,n,t){t({event_type:7564,view_type:212,component:(0,s.Z)().includes("create")?13762:13308,aux_data:{error_message:n,error_id:e}})}},44849:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return{privacy_filter:n?"secret":"public",sort:t||"last_pinned_to",field_set_key:"profile_grid_item",username:e,isRetrievalHub:r,filter_types:i}}},158502:function(e,n,t){t.d(n,{O:function(){return u},Q:function(){return c}});var r=t(660322),i=t(830949),o=t(779686);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var s=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],u={name:"BoardsResource",key:"boardsResource",options:function(e,n){var t=e.boardOrder,r=e.filterStories,i=e.mixPublicSecret,o=e.username,s=e.privacyFilter,u=e.filterAllPins,c=e.includeArchived;return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==a(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({privacy_filter:void 0===s?"all":s,sort:t||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:r,username:o,page_size:25,group_by:i?"mix_public_private":"visibility",include_archived:void 0===c||c,redux_normalize_feed:!0,filter_all_pins:void 0!==u&&u},n?{orbac_subject_id:n}:Object.freeze({}))}},c=function(e){return s.reduce(function(n,t){var a=[(0,o.N8)("profileBoards",(0,i.Z)(e,t))];return[!0,!1].forEach(function(n){[!0,!1].forEach(function(i){a.push((0,r.jB)(u.name,u.options({username:e,boardOrder:t,mixPublicSecret:n,filterStories:i})))})}),n.concat(a)},[])}},160587:function(e,n,t){t.d(n,{Br:function(){return h},Cr:function(){return w},K8:function(){return x},L1:function(){return k},YQ:function(){return E},ZP:function(){return I},aX:function(){return O},eo:function(){return _},md:function(){return v},oG:function(){return b},oL:function(){return j},of:function(){return S},xQ:function(){return P},xR:function(){return A},yT:function(){return y}});var r=t(27399),i=t(249459),o=t(681698),a=t(233597),l=t(660322),s=t(836447),u=t(44849),c=t(158502);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function f(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){p(o,r,i,a,l,"next",e)}function l(e){p(o,r,i,a,l,"throw",e)}a(void 0)})}}function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==d(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function y(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function h(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function v(e,n){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:n}}}function _(e){return{type:"BOARD_DELETE",payload:{viewingUserId:e.viewingUserId,viewingUsername:e.viewingUsername,boardId:e.boardId,boardPinCount:e.boardPinCount}}}var b=function(e,n){return function(t){return t((0,a.U)("BoardResource",{options:{board_id:e,field_set_key:n}}))}};function x(e){return function(n){e&&(0,c.Q)(e).forEach(function(e){n(e)})}}var S=function(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}},P=function(e){return b(e,"pin_count")},w=function(e,n){return{type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:n}}},I=function(e){return{type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}}};function O(e,n,t){var o=m({name:e,privacy:i.ZP.BoardPrivacy.PUBLIC,username:n},t?{orbac_subject_id:t}:Object.freeze({}));return function(e){return r.Z.create("BoardResource",o).callCreate().then(function(t){var r=t.resource_response.data;return e(n&&(0,l.jB)("BoardsResource",(0,u.Z)(n,!1))),r})}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:n},error:t}}var A=function(e,n,t){var i;return i=f(regeneratorRuntime.mark(function i(o){var a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:n}}),i.next=3,r.Z.create("BoardInviteResource",{board_id:e,invited_user_id:n}).callDelete();case 3:return(a=i.sent).resource_response.error||t({event_type:29,object_id_str:e}),i.abrupt("return",a);case 6:case"end":return i.stop()}},i)})),function(e){return i.apply(this,arguments)}},E=function(e,n,t,i,a,l){var u;return u=f(regeneratorRuntime.mark(function u(c){var d,p,f,g,y;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(c({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:null!=(d=null==i?void 0:i.id)?d:"",viewingUser:t}}),u.prev=1,y=null!=(p=null==i?void 0:i.id)?p:"","accepted"!==n){u.next=9;break}return u.next=6,(0,o.Z)({url:null!=(f=null==(g=(0,s.Z)({boardId:e}))?void 0:g.concat("collaborators/".concat(y,"/")))?f:"",method:"DELETE",data:m({},l?{orbac_subject_id:l}:{})});case 6:u.t0=u.sent,u.next=12;break;case 9:return u.next=11,r.Z.create("BoardInviteResource",m({board_id:e,field_set_key:"boardEdit",invited_user_id:y},l?{orbac_subject_id:l}:{})).callDelete();case 11:u.t0=u.sent;case 12:u.t0.resource_response.error||a({event_type:"accepted"===n?25:29,object_id_str:e}),u.next=19;break;case 16:u.prev=16,u.t1=u.catch(1),c({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:n,collaboratingUsers:[i]}});case 19:case"end":return u.stop()}},u,null,[[1,16]])})),function(e){return u.apply(this,arguments)}},k=function(e,n,t,i){return function(o){var a=r.Z.create("BoardResource",{board_id:t}).callDelete();return o(_({viewingUserId:e,viewingUsername:n,boardId:t,boardPinCount:i})),a}}},701572:function(e,n,t){t.d(n,{Z:function(){return l},f:function(){return s}});var r=t(681698),i=t(160587);function o(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function a(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var a=e.apply(n,t);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)})}}function l(e,n){var t;return t=a(regeneratorRuntime.mark(function t(o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o((0,i.md)(e,!0)),t.prev=1,t.next=4,(0,r.Z)({url:"/v3/boards/".concat(e,"/follow/"),method:"PUT"});case 4:n({event_type:26,object_id_str:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),o((0,i.md)(e,!1));case 10:case"end":return t.stop()}},t,null,[[1,7]])})),function(e){return t.apply(this,arguments)}}function s(e,n){var t;return t=a(regeneratorRuntime.mark(function t(o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o((0,i.md)(e,!1)),t.prev=1,t.next=4,(0,r.Z)({url:"/v3/boards/".concat(e,"/follow/"),method:"DELETE"});case 4:n({event_type:27,object_id_str:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),o((0,i.md)(e,!0));case 10:case"end":return t.stop()}},t,null,[[1,7]])})),function(e){return t.apply(this,arguments)}}},779686:function(e,n,t){function r(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function i(e,n){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:n}}}t.d(n,{EX:function(){return a},N8:function(){return i},Qv:function(){return o},_f:function(){return r},vX:function(){return l}});var o=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});return{type:"APPEND_FEED_ITEMS",payload:{id:e,options:t,items:n}}};function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},72034:function(e,n,t){function r(e,n){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:n}}}function i(e,n){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:n}}}function o(e){return{type:"PIN_SAVE",payload:e}}function a(e,n){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:n}}}function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function u(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,nodeId:e.nodeId}}}function c(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!0,nodeId:e.nodeId}}}function d(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function p(e){return{type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL",payload:{id:e,value:!0}}}function f(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL"}}t.d(n,{Gb:function(){return a},I1:function(){return s},Ib:function(){return c},JU:function(){return p},Ur:function(){return o},Vw:function(){return l},au:function(){return f},i0:function(){return d},mO:function(){return i},q1:function(){return u},yR:function(){return r}})},956226:function(e,n,t){n.Z=(0,t(366503).createSelector)(function(e){return e.boards},function(e){return Object.keys(e).reduce(function(n,t){var r,i,o=e[t];n[null!=(r=o.url)?r:""]=o;var a=null==(i=o.url)?void 0:i.toLocaleLowerCase();a&&o.url!==a&&(n[a]=o);var l="oldSlugUrl"in o?o.oldSlugUrl:null;return l&&(n[l]=o),n},{})})},542392:function(e,n,t){t.d(n,{Af:function(){return c},Ei:function(){return s},II:function(){return _},Lh:function(){return m},U:function(){return f},Zy:function(){return l},dD:function(){return o},er:function(){return g},hb:function(){return h},in:function(){return u},j7:function(){return y},kX:function(){return d},mx:function(){return v},n5:function(){return a},q8:function(){return p},xH:function(){return i}});var r=t(176783),i=1048576,o=3,a=20,l=3,s=10,u=50,c=10,d=1200,p=375,f=375/r.ap,g=4096,m="#FFFFFF",y={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},h=420,v=325,_=768},512324:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(20256),i=t(924591),o=t(24246),a=t(661376),l=t(739405),s=t(680811);function u(e){var n=e.ideaPinImages,t=n.map(function(e,n){var t,i;return(0,s.jsx)(r.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:n}},height:48,overflow:"hidden",rounding:2,width:28,children:(null==e?void 0:e.url)&&(0,s.jsx)(r.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:null!=(t=null==e?void 0:e.height)?t:1,naturalWidth:null!=(i=null==e?void 0:e.width)?i:1,src:e.url})},n)});return(0,s.jsx)(r.kC,{justifyContent:"center",children:(0,s.jsx)(r.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[n.length],children:t})})}function c(e){var n=e.handleHide,t=e.text,c=e.userId,d=e.href,p=e.imageUrl,f=(0,o.Z)(),g=(0,l.HG)(),m=(0,a.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:c}}),y=Array.isArray(t)?t.join(" "):t;if(0===(m.data||[]).length)return(0,s.jsx)(i.Z,{duration:5e3,href:d,onHide:n,text:y,thumbnail:p?{image:(0,s.jsx)(r.Ee,{alt:f._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:p})}:void 0});var h=(m.data||[]).slice(0,3).map(function(e){var n;return null==(n=e.images)?void 0:n[g?"236x":"170x"]}),v=(0,s.jsx)(u,{ideaPinImages:h});return(0,s.jsx)(i.Z,{_dangerouslySetThumbnail:v,duration:5e3,href:d,onHide:n,text:y})}},773919:function(e,n,t){t.d(n,{CE:function(){return p},Cm:function(){return f},Sm:function(){return y},eK:function(){return g},fA:function(){return c},yN:function(){return l}});var r=t(387784),i=t(173874),o=t(774838),a=t(661376),l=10,s=window.location.host.startsWith("testing"),u=function(e){var n=new Date(e.getFullYear(),9,3),t=new Date(e.getFullYear(),9,31);return e>=n&&e<=t},c=["US","CA","GB","AU","DE","FR"],d=["US","CA"],p=function(e){if(s)return!1;var n=new Date;return!!u(n)&&!!u(n)&&d.includes(e)},f=function(e,n,t){return(!e||t&&(0,i.gT)(t))&&c.includes(n)},g=function(e){return e._('Explore featured boards', 'featured_boards.header', 'Explore featured boards header')},m=function(e){var n=e.username,t=e.sort;return{field_set_key:"profile_grid_item",filter_stories:!1,sort:void 0===t?"last_pinned_to":t,username:n}},y=function(){var e=(0,o.B)().country,n=(0,r.useMemo)(function(){var n;return"DE"===(n=e)?"pinterestde":"FR"===n?"pinterestfr":"AU"===n?"pinterestaustralia":"CA"===n?"pinterest_canada":"GB"===n?"pinterestuk":"pinterest"},[e]);return(0,a.Z)({name:"BoardsFeedResource",options:m({username:n})})}},765381:function(e,n,t){var r=t(20256),i=t(24246),o=t(739405),a=t(680811);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==l(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var c=function(e){var n=e.isPhone,t=e.url,o=e.handleClick,l=(0,i.Z)(),s=l._('See more arrow', 'unauth_section_header.see_more_a11y', 'See more link button accessibility label');return n?(0,a.jsx)(r.I_,{accessibilityLabel:s,bgColor:"transparent",href:t,icon:"arrow-forward",iconColor:"default",onClick:o,padding:1,size:"xs"}):(0,a.jsx)(r.ZP,{accessibilityLabel:s,color:"transparent",href:t,iconEnd:"arrow-forward",onClick:o,size:"md",text:l._('See more', 'unauth_section_header.see_more', 'See more link button for unauth section header')})},d=function(e){var n=e.children,t=e.linkProps;return t?(0,a.jsx)(r.Tg,{fullWidth:!1,href:t.url,mouseCursor:"pointer",onTap:t.handleClickHeader||t.handleClick,children:n}):(0,a.jsx)(r.xu,{children:n})};n.Z=function(e){var n=e.sectionHeader,t=e.sectionHeaderA11yLevel,i=e.pretext,l=e.pretextA11yLevel,s=e.linkProps,p=e.headerMarginTopOverride,f=e.smallHeader,g=void 0!==f&&f,m=(0,o.ml)(),y=null!=p?p:m?12:16,h=g||m?"200":"300",v=g||m?"300":"600";return(0,a.jsxs)(r.xu,{alignItems:"end",direction:"row",display:"flex",justifyContent:"between",marginBottom:4,marginTop:y,width:"100%",children:[(0,a.jsxs)(d,{linkProps:s,children:[!!i&&(0,a.jsx)(r.xu,{marginBottom:1,children:l?(0,a.jsx)(r.X6,{accessibilityLevel:l,size:h,children:(0,a.jsx)(r.xv,{size:h,children:i})}):(0,a.jsx)(r.xv,{lineClamp:2,size:h,children:i})}),(0,a.jsx)(r.X6,{accessibilityLevel:t||2,size:v,children:n})]}),!!s&&(0,a.jsx)(c,u(u({},s),{},{isPhone:m}))]})}}}]);