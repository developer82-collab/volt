"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["60994"],{160322:function(e,t){t.Z={GOOGLE_ADWORDS_ID:0x32c9c10f,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},132418:function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var o=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function")}return e=[{key:"reportGoogleConversion",value:function(e,r,n,i){if(!i){if(void 0===window.gtag_report_conversion)return void t.queuedGoogleConversions.push({id:e,label:r,url:n});window.gtag_report_conversion(e,r,n)}}},{key:"reportFacebookConversion",value:function(e,r,n){if(void 0===window.fbq)return void t.queuedFacebookConversions.push({id:e,event:r,data:n});n?window.fbq("track",r,n):window.fbq("track",r)}},{key:"reportCustomFacebookConversion",value:function(e,r,n){if(void 0===window.fbq)return void t.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:r,data:n});n?window.fbq("trackCustom",r,n):window.fbq("trackCustom",r)}},{key:"reportPinterestConversion",value:function(e,r,n){if(void 0===window.pintrk)return void t.queuedPinterestConversions.push({id:e,event:r,data:n});n?window.pintrk("track",r,n):window.pintrk("track",r)}},{key:"reportTheTradeDeskConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("height","1"),r.setAttribute("width","1"),r.setAttribute("role","presentation"),r.style.borderStyle="none",r.style.position="absolute",r.setAttribute("src","//insight.adsrvr.org/track/conv/?adv=".concat(e,"&ct=0:").concat(t,"&fmt=3")),document.body.insertBefore(r,document.body.lastChild)}},{key:"reportLinkedInConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("role","presentation"),r.setAttribute("src","https://dc.ads.linkedin.com/collect/?pid=".concat(e)+"&conversionId=".concat(t,"&fmt=gif")),r.style.display="none",document.body.insertBefore(r,document.body.lastChild)}},{key:"reportDoubleClickConversion",value:function(e,t,r){var n=1e13*Math.random(),i=document.createElement("iframe");i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("frameborder","0"),i.setAttribute("src","https://".concat(e,".fls.doubleclick.net/activityi;src=").concat(e,";\n    type=").concat(t,";cat=").concat(r,";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=").concat(n,"?")),i.style.display="none",document.body.insertBefore(i,document.body.lastChild)}},{key:"insertGoogleAdWordsTag",value:function(e,r){var n=document.createElement("script");r||(n.setAttribute("async",""),n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=AW-".concat(e)),n.onload=function(){window.dataLayer=window.dataLayer||[],window.gtag=function(){if(window.dataLayer){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];window.dataLayer.push(t)}},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,r){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){r&&window.location.assign(r)}}),!1};for(var n=t.queuedGoogleConversions,i=0;i<n.length;i+=1){var o=n[i];o.id===e&&t.reportGoogleConversion(o.id,o.label,o.url,r)}}),document.body.insertBefore(n,document.body.firstChild)}},{key:"insertFacebookPixelTag",value:function(e){r=window,n=document,r.fbq||(i=r.fbq=function(){var e;"function"==typeof i.callMethod?(e=i).callMethod.apply(e,arguments):i.queue.push(arguments)},r._fbq||(r._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],(o=n.createElement("script")).async=!0,o.src="//connect.facebook.net/en_US/fbevents.js",(a=n.getElementsByTagName("script")[0]).parentNode.insertBefore(o,a)),window.fbq&&(window.fbq("init",e),window.fbq("track","PageView"));for(var r,n,i,o,a,s=t.queuedFacebookConversions,l=0;l<s.length;l+=1){var u=s[l];u.id===e&&(u.isCustomEvent?t.reportCustomFacebookConversion(e,u.event,u.data):t.reportFacebookConversion(e,u.event,u.data))}}},{key:"insertPinterestTag",value:function(e){!function(e,t){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var r=window.pintrk;r.queue=[],r.version="3.0";var n=document.createElement("script");n.async=!0,n.src=e;var i=document.getElementsByTagName("script")[0];null==(t=i.parentNode)||t.insertBefore(n,i)}}("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");for(var r=t.queuedPinterestConversions,n=0;n<r.length;n+=1){var i=r[n];i.id===e&&t.reportPinterestConversion(e,i.event,i.data)}}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();n(o,"queuedGoogleConversions",[]),n(o,"queuedFacebookConversions",[]),n(o,"queuedPinterestConversions",[]),t.Z=o},855218:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(653551),i=r(20256),o=r(24246),a=r(739405),s=r(254889),l=r(680811);function u(e){var t=e.onContinueClick,r=e.onBackClick,u=e.showConsistentSteps,c=(0,n.s0)(),d=(0,o.Z)(),p=(0,a.HG)(),h=2*!u,f=u?"300":"200";return(0,l.jsxs)(i.xu,{marginEnd:p?0:h,marginStart:p?0:h,children:[p?null:(0,l.jsx)(i.xu,{alignItems:u?"start":"center","data-test-id":"nux-toc-container",display:"flex",height:36,width:"100%",children:(0,l.jsx)(i.xu,{children:(0,l.jsx)(s.default,{icon:"arrow-back"})})}),(0,l.jsxs)(i.xu,{marginStart:p?4:6*!u,marginTop:p?4:u?5:4,maxWidth:"366px",children:[(0,l.jsx)(i.xu,{marginBottom:u?1:4,maxWidth:"90%",children:(0,l.jsx)(i.X6,{accessibilityLevel:1,size:p?"700":u?"600":"400",children:d._('Create a business account', 'ssoCreateBusinessAccount.title', 'Title for the SSO create business account page')})}),(0,l.jsx)(i.xu,{marginBottom:3,children:(0,l.jsx)(i.xv,{size:f,children:d._('When you use your business email address, you create a Pinterest business account. This type of account gives you access to business tools like ads and analytics.', 'ssoCreateBusinessAccount.description', 'Description for the SSO create business account page')})}),(0,l.jsx)(i.xu,{marginBottom:3,children:(0,l.jsx)(i.xv,{size:f,children:d._('To create a non-business account, use your personal email address.', 'ssoCreateBusinessAccount.description2', 'Description for the SSO create business account page')})}),(0,l.jsx)(i.xv,{size:f,children:d._('With your business account, you\'ll use single sign-on (SSO) for authentication.', 'ssoCreateBusinessAccount.description3', 'Description for the SSO create business account page')})]}),(0,l.jsx)(i.xu,{marginTop:12,children:(0,l.jsxs)(i.kC,{justifyContent:"end",children:[p?(0,l.jsx)(i.xu,{marginEnd:2,children:(0,l.jsx)(i.zx,{fullWidth:!0,onClick:function(){r&&r(),c(-1)},text:d._('Back', 'ssoCreateBusinessAccount.button.done', 'Back button to go back to the previous page')})}):null,(0,l.jsx)(i.xu,{width:p?"auto":"100%",children:(0,l.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:t,size:p?"md":"lg",text:d._('Continue with SSO', 'ssoCreateBusinessAccount.button.done', 'Continue with SSO button to go to the SSO page')})})]})})]})}},616870:function(e,t,r){r.d(t,{X:function(){return c},i:function(){return u}});var n=r(387784),i=r(213491),o=r(680811);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=(0,i.Z)("Session"),l=s.Provider,u=s.get;function c(e){var t,r=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(void 0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{for(o=(r=r.call(e)).next;!(l=(n=o.call(r)).done)&&(s.push(n.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=i[0],u=i[1],c=(0,n.useMemo)(function(){return{unauthBoardInvite:s,setUnauthBoardInvite:u}},[s]);return(0,o.jsx)(l,{value:c,children:r})}},38359:function(e,t,r){r.d(t,{BT:function(){return N},Du:function(){return B},Fh:function(){return T},HY:function(){return L},HZ:function(){return I},Jw:function(){return b},Kp:function(){return M},L7:function(){return n},LT:function(){return d},Lj:function(){return U},Nw:function(){return E},Q_:function(){return P},Qc:function(){return i},R5:function(){return C},RA:function(){return A},Tt:function(){return j},UF:function(){return u},UV:function(){return a},VB:function(){return v},W1:function(){return o},Ws:function(){return p},X5:function(){return O},Yt:function(){return R},ZW:function(){return l},cK:function(){return S},cy:function(){return g},fA:function(){return D},gm:function(){return y},h7:function(){return x},k:function(){return _},mE:function(){return Z},o4:function(){return f},oL:function(){return z},qf:function(){return h},tr:function(){return c},uD:function(){return w},uO:function(){return m},vF:function(){return s},wJ:function(){return k}});var n=1,i=2,o="female",a="male",s="unspecified",l="en-US",u="US",c=3,d="Welcome",p="Gender",h="CountryLocale",f="InterestPicker",_="UseCase",m="PinPicker",g="LoadingStep",b="AppInstall",y="NUX_PIN_PICKER_STEP_STATUS",v="NUX_USE_CASE_STEP_STATUS",S={NUX_GENDER_STEP_NAME:p,NUX_COUNTRY_LOCALE_STEP_NAME:h,NUX_INTEREST_PICKER_STEP_NAME:f,NUX_USE_CASE_STEP_NAME:_,NUX_PIN_PICKER_STEP_NAME:m,NUX_LOADING_STEP_NAME:g,NUX_APP_INSTALL_STEP_NAME:b},w=2,x=3,P=6,E=112,A=160,C=60,O=1e3,j=2500,T=1900,k=2e3,I=3,R=1,N=3,L=3,B=5e3,z=250,D=1e10,U=507641,Z=300,M=200},170382:function(e,t,r){r.d(t,{Z:function(){return tO}});var n=r(387784),i=r(581722),o=r(653551),a=r(20256),s=r(966502),l=r(27399),u=r(987704),c=r(505633),d=r(219162),p=r(610269),h=r(850712),f=r(132418),_=r(160322),m=r(104999),g=r(470967),b=r(673434),y=r(236269),v=r(681698),S=r(465784),w=r(924591),x=r(935059),P=r(24246),E=r(663952),A=r(374217),C=r(134136),O=r(424868),j=r(877725),T=r(413220),k=r(444382),I=r(855218),R=r(904278),N=r(501010),L=r(615695),B=r(774838),z=r(554092),D=r(133080),U=r(865043),Z=r(577356),M=r(575820),F=r(144690),V=r(739405),W=r(893957),G=r(986523),q=r(659856),H=r(613231),Y=r(496883),K=r(616870),Q=r(550759),X=r(643874),$=r(846277),J=r(38359),ee=r(70442),et=r(440890),er=r(363146),en=r(956701),ei=r(218504),eo=r(826681),ea=r(59355),es=r(3200),el=r(680811);function eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ec(e){var t,r=e.disabled,i=e.handleChangePassword,o=e.handlePasswordReset,s=e.isReducedHeader,l=e.password,u=e.setValidState,c=e.error,d=void 0===c?"":c,p=e.showPLPBanner,h=e.viewType,f=(0,P.Z)(),_=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(d))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{for(o=(r=r.call(e)).next;!(l=(n=o.call(r)).done)&&(s.push(n.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eu(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eu(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=_[0],g=_[1];(0,ea.Q)({view_type:h,view_parameter:3207}),(0,n.useEffect)(function(){return g(d)},[d]),(0,n.useEffect)(function(){l?u(""):u("Missing password")},[l]);var b=f._('Looks like you\'re already on Pinterest', 'Heading indicating that the user is already registered on Pinterest', 'Heading indicating that the user is already registered on Pinterest');return(0,el.jsxs)(a.xu,{marginTop:3,children:[(0,el.jsx)(a.xu,{marginBottom:2,children:(0,el.jsx)(es.Z,{minHeight:60,children:(0,el.jsx)(a.X6,{overflow:"normal",size:s||void 0!==p&&p?"600":"700",children:b})})}),(0,el.jsx)(a.xu,{alignItems:"center",display:"flex",marginTop:2,children:(0,el.jsx)(a.xu,{flex:"grow",children:(0,el.jsx)(a.nv,{disabled:r,errorMessage:m,id:"password",onChange:function(e){i(e.value).then(function(){m&&g("")})},placeholder:f._('Enter your password', 'Enter password field label', 'Enter password field label'),size:"lg",type:"password",value:l})})}),(0,el.jsx)(a.xu,{"data-test-id":"reset-password",marginTop:1,children:(0,el.jsx)(a.xv,{inline:!0,size:"100",weight:"bold",children:(0,el.jsx)(a.rU,{display:"inlineBlock",href:"/password/reset",onClick:o,underline:"hover",children:f._('Forgot your password?', 'Link to the password reset page', 'Link to the password reset page')})})})]})}var ed=r(672995),ep=r(769340),eh=r(36796),ef=r(216975),e_=r(536240),em=r(113188);function eg(e){return(eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(r),!0).forEach(function(t){eE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eS(e,t){return(eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ew(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ex(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ex=function(){return!!e})()}function eP(e){return(eP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eE(e,t,r){return(t=eA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eA(e){var t=function(e,t){if("object"!=eg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eg(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eg(t)?t:t+""}var eC=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&eS(i,e);var t,r,n=(t=ex(),function(){var e,r=eP(i);return e=t?Reflect.construct(r,arguments,eP(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==eg(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ew(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return eE(ew(e=n.call.apply(n,[this].concat(r))),"state",{email:e.props.email,emailFieldElement:null,error:"",shouldShowEmailSuggestions:!1}),eE(ew(e),"onBlur",function(t){var r=t.value;e.props.emailError||e.validate(r,!0)}),eE(ew(e),"onChange",function(t){var r=t.value;if(e.props.setEmailError(null),e.props.handleChangeEmail(r).then(function(){return e.validate(r,!1)}),e.state.shouldShowEmailSuggestions)e.setState({shouldShowEmailSuggestions:!1});else if(r.endsWith("@")){var n=e.emailTextFieldInput;e.setState({shouldShowEmailSuggestions:!0,emailFieldElement:n})}e.setState({email:r})}),eE(ew(e),"showEmailDomainTypoError",function(t,r){var n,i=e.state.email,o=(function(e){if(Array.isArray(e))return e}(n=(i||"").includes("@")?i.split("@"):[])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{for(o=(r=r.call(e)).next;!(l=(n=o.call(r)).done)&&(s.push(n.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(n,2)||function(e,t){if(e){if("string"==typeof e)return ev(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ev(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];("gmail"===r?"gmail.com"===o:(o||"").startsWith("".concat(r,".")))||(e.setState({error:""}),e.props.setEmailError({type:"domainTypo",fixedEmail:"".concat(t,"@").concat(r,".com")}),e.props.setValidState("".concat(r," error")),(0,U.My)("unauth_mweb.signup.".concat(r,"_suggestion.shown")))}),eE(ew(e),"validate",function(t,r){var n=e.props,i=n.checkSignupAvailability,o=n.setValidState,a=(t||"").includes("@")?t.split("@"):[];if((0,eh.Z)(t)){var s=a[0];i(t).then(function(t){t.userExists?(e.setState({error:""}),e.props.setEmailError(null),o()):e.showEmailDomainTypoError(s,"gmail")}).catch(function(t){var r,n;O.Cx.includes(null!=(r=(0,y.Z)(t,"api_error_code"))?r:0)?e.setState({error:null!=(n=(0,y.Z)(t,"message"))?n:""}):e.showEmailDomainTypoError(s,"gmail")});return}var l=!1;["yahoo","hotmail"].forEach(function(r){if((0,eh.z)(t,r)){l=!0;var n=a[0];i(t).then(function(t){t.userExists?(e.setState({error:""}),e.props.setEmailError(null),o()):e.showEmailDomainTypoError(n,r)}).catch(function(t){var i,o;O.Cx.includes(null!=(i=(0,y.Z)(t,"api_error_code"))?i:0)?e.setState({error:null!=(o=(0,y.Z)(t,"message"))?o:""}):e.showEmailDomainTypoError(n,r)})}}),l||e.props.setEmailError(null);var u=(0,Y.a3)(t,[(0,Y.aH)({message:e.props.i18n._('You missed a spot! Don\'t forget to add your email.', 'Email validation error', 'Email validation error')}),(0,Y.GT)({message:e.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')})]);u&&r&&(0,Y.a3)(t,[(0,Y.oR)({message:"Contains non-ASCII characters"})])&&(0,U.My)("mweb_unauth.signup.error.CLIENT_ERROR.nonasciiemail"),e.setState({error:r?u:""}),o(u)}),eE(ew(e),"handleEmailSuggestionClick",function(t){(0,U.My)("mweb_unauth_email_suggestions.signup_page.tap"),e.onChange({value:t})}),eE(ew(e),"onCodeSent",function(t){t&&e.props.showToast(function(t){var r=t.hideToast;return(0,el.jsx)(w.Z,{onHide:r,text:e.props.i18n._('Sent! Check your email', 'otpStep.toast.codeResend', 'Toast text shown on code resend')})})}),eE(ew(e),"getHeadingSize",function(){var t=e.props,r=t.showModernizedNuxUI,n=t.isReducedHeader,i=t.showPLPBanner;return t.showConsistentSteps?"600":r?"400":n||i?"600":"700"}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.email,!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.disabled,n=t.emailError,i=t.hideLabel,o=t.i18n,s=t.onOtpContinue,l=t.progressToken,u=t.showConsistentSteps,c=t.showModernizedNuxUI,d=t.showPLPBanner,p=t.showOtpVerification,h=this.state,f=h.error,_=h.email,m=10;return(u?m=0:d&&(m=3),p&&l)?(0,el.jsx)(e_.Z,{onCodeSent:this.onCodeSent,onContinue:s,progressToken:l,userEmail:_}):(0,el.jsxs)(a.xu,{marginTop:u?5:3,children:[!i&&(0,el.jsx)(a.__,{htmlFor:"email",children:(0,el.jsx)(a.xu,{"data-test-id":"email-address-heading",marginBottom:m,children:(0,el.jsx)(es.Z,{center:!u&&c,minHeight:60,children:(0,el.jsx)(a.X6,{accessibilityLevel:1,align:c&&!u?"center":"start",overflow:"normal",size:this.getHeadingSize(),children:o._('What\'s your email?', 'Sign up page field label', 'Sign up page field label')})})})}),(0,el.jsxs)(a.xu,{marginTop:u?6:2,children:[(0,el.jsx)(a.nv,{ref:function(t){e.emailTextFieldInput=t},autoComplete:this.state.shouldShowEmailSuggestions?"off":"on",disabled:r,errorMessage:this.state.shouldShowEmailSuggestions?"":f,id:"email",onBlur:this.onBlur,onChange:this.onChange,placeholder:c?o._('Enter your email address', 'signup.email_step.email_input.placeholder', 'placeholder for email input'):o._('Email address', 'Field label', 'Field label'),size:"lg",type:"email",value:_}),!!n&&(0,el.jsx)(a.xu,{"data-test-id":"invalid-email-container",marginTop:1,children:"domainTypo"===n.type?(0,el.jsx)(a.iP,{onTap:function(){e.onChange({value:n.fixedEmail}),e.props.setEmailError(null),e.props.setValidState(),(0,U.My)("unauth_mweb.signup.gmail_suggestion.click")},children:(0,el.jsx)(a.xv,{color:"error",children:(0,ef.nk)(o._('Did you mean {{ emailElement }}?', 'Email suggestion when user tries to sign up with a email account that has a typo (like abc@hotmail.con)', 'Email suggestion when user tries to sign up with a email account that has a typo (like abc@hotmail.con)'),{emailElement:(0,el.jsx)(a.xv,{color:"error",inline:!0,weight:"bold",children:n.fixedEmail})})})}):(0,el.jsx)(a.xv,{color:"error",children:o._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation')})}),this.state.shouldShowEmailSuggestions?(0,el.jsx)(em.Z,{email:this.state.email,emailFieldElement:this.state.emailFieldElement,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null]})]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eA(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent);function eO(e){var t=(0,P.Z)(),r=(0,N.Z)().checkExperiment,n=(0,V.HG)();(0,ea.Q)({view_type:e.viewType,view_parameter:3146});var i=e.showModernizedNuxUI;return(0,el.jsx)(eC,ey(ey({},e),{},{checkExperiment:r,checkSignupAvailability:function(e){return(0,j.Z)({checkExperiment:r,email:e,isDesktop:n,submitValidation:!1})},i18n:t,showModernizedNuxUI:i}))}var ej=r(60833),eT=r(852872);function ek(e){return(ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(t){eD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eN(e,t){return(eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eL(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eB=function(){return!!e})()}function ez(e){return(ez=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eD(e,t,r){return(t=eU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eU(e){var t=function(e,t){if("object"!=ek(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ek(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ek(t)?t:t+""}var eZ=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&eN(i,e);var t,r,n=(t=eB(),function(){var e,r=ez(i);return e=t?Reflect.construct(r,arguments,ez(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==ek(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eL(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return eD(eL(e=n.call.apply(n,[this].concat(r))),"state",{error:""}),eD(eL(e),"onBlur",function(t){var r=t.value;e.validate(r,!0)}),eD(eL(e),"onChange",function(t){var r=t.value;e.props.handleChangeName(r).then(function(){return e.validate(r,!1)})}),eD(eL(e),"validate",function(t,r){var n=(0,Y.a3)(t,[(0,Y.aH)({message:e.props.i18n._('Required', 'Required field validation error message', 'Required field validation error message')})]);e.setState({error:r?n:""}),e.props.setValidState(n)}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.name,!1)}},{key:"render",value:function(){var e=this.props,t=e.isBusiness,r=e.disabled,n=e.name,i=this.state.error;return(0,el.jsxs)(a.xu,{"data-test-id":"business-name-heading",marginTop:3,children:[(0,el.jsx)(a.__,{htmlFor:"name",children:(0,el.jsx)(a.X6,{accessibilityLevel:1,overflow:"normal",size:"600",children:t?this.props.i18n._('What\'s your business name?', 'Sign up page field label', 'Sign up page field label'):this.props.i18n._('What\'s your name?', 'Sign up page field label', 'Sign up page field label')})}),(0,el.jsx)(a.xu,{"data-test-id":"name-field",marginTop:2,children:(0,el.jsx)(a.nv,{disabled:r,errorMessage:i,id:"name",onBlur:this.onBlur,onChange:this.onChange,placeholder:t?this.props.i18n._('Business name', 'Textfield placeholder', 'Textfield placeholder'):this.props.i18n._('Full name', 'Textfield placeholder', 'Textfield placeholder'),size:"lg",type:"text",value:n})})]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eU(n.key),n)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent);function eM(e){var t=(0,P.Z)();return(0,ea.Q)({view_type:e.viewType,view_parameter:3148}),(0,el.jsx)(eZ,eR(eR({},e),{},{i18n:t}))}var eF=r(165419);function eV(e){return(eV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(r),!0).forEach(function(t){e$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eq(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function eH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eJ(n.key),n)}}function eY(e,t){return(eY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eK(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eQ=function(){return!!e})()}function eX(e){return(eX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e$(e,t,r){return(t=eJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eJ(e){var t=function(e,t){if("object"!=eV(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eV(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eV(t)?t:t+""}var e0=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&eY(o,e);var t,r,n,i=(t=eQ(),function(){var e,r=eX(o);return e=t?Reflect.construct(r,arguments,eX(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==eV(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eK(e)}(this,e)});function o(){var e,t,r;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return e$(eK(e=i.call.apply(i,[this].concat(a))),"state",{error:e.props.externalError||""}),e$(eK(e),"onBlur",function(t){var r=t.value;e.validate(r,!0)}),e$(eK(e),"onChange",function(t){var r=t.value;e.props.handleChangePassword(r).then(function(){var t=e.props.isOnPasswordStrengthExperiment;e.validate(r,!t)})}),e$(eK(e),"validate",(t=regeneratorRuntime.mark(function t(r,n){var i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.externalError&&e.setState({error:""}),i=(0,Y.oR)({message:e.props.i18n._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'PasswordStep.password.onlyASCII', 'Only ASCII characters are allowed for password')}),t.next=4,(0,Y.U2)(r,e.props.getPasswordValidationRules({}));case 4:o=t.sent,e.setState({error:n?o:""}),e.props.setValidState(o),(0,Y.a3)(r,[i])&&n&&(0,U.My)("mweb_unauth.signup.error.CLIENT_ERROR.nonasciipwd");case 9:case"end":return t.stop()}},t)}),r=function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(e){eq(o,n,i,a,s,"next",e)}function s(e){eq(o,n,i,a,s,"throw",e)}a(void 0)})},function(e,t){return r.apply(this,arguments)})),e$(eK(e),"getHeadingSize",function(){var t=e.props,r=t.showModernizedNuxUI,n=t.isReducedHeader,i=t.showPLPBanner;return t.showConsistentSteps?"600":r?"400":n||i?"600":"700"}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.password,!1)}},{key:"render",value:function(){var e=this.props,t=e.i18n,r=e.isOnPasswordStrengthExperiment,n=e.disabled,i=e.password,o=e.showPLPBanner,s=e.showModernizedNuxUI,l=e.showConsistentSteps,u=this.state.error,c=(0,ef.Wc)(t._('Password with {{minPasswordLength}} or more characters', 'unauth.signup.password_step.password_helper_text', 'Placeholder text on the password input field on the mobile Password step page. minPasswordLength:Minimum password length determined by the new password experiment'),{minPasswordLength:"8"}),d=10;return l?d=0:o&&(d=3),(0,el.jsxs)(a.xu,{marginTop:l?5:3,children:[(0,el.jsx)(a.__,{htmlFor:"password",children:(0,el.jsx)(a.xu,{"data-test-id":"create-password-heading",marginBottom:d,children:(0,el.jsx)(es.Z,{center:!l&&s,minHeight:60,children:(0,el.jsx)(a.X6,{accessibilityLevel:1,align:s&&!l?"center":"start",overflow:"normal",size:this.getHeadingSize(),children:t._('Create a password', 'Sign up page field label', 'Sign up page field label')})})})}),(0,el.jsx)(a.xu,{"data-test-id":"password-field",marginTop:l?6:2,position:"relative",children:(0,el.jsx)(a.nv,{autoComplete:"new-password",disabled:n,errorMessage:u,helperText:r?"":c,id:"password",onBlur:this.onBlur,onChange:this.onChange,placeholder:t._('Enter your password', 'signup.email_step.password_input.placeholder', 'placeholder for password input'),size:"lg",type:"password",value:i})}),(0,el.jsx)(eF.default,{password:i})]})}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.externalError&&!t.error?{error:e.externalError}:null}}],r&&eH(o.prototype,r),n&&eH(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function e1(e){var t=(0,P.Z)(),r=(0,m.Z)(),n=(0,N.Z)(),i=(0,q.Z)(),o=n.checkExperiment("mweb_strong_password").anyEnabled,a=e.showModernizedNuxUI,s=e.viewType;return(0,ea.Q)({view_type:s,view_parameter:3147}),(0,el.jsx)(e0,eG(eG({},e),{},{getPasswordValidationRules:i,i18n:t,isOnPasswordStrengthExperiment:o,logContextEvent:r,showModernizedNuxUI:a}))}var e3=r(901303);function e2(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function e6(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e8(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e8(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e8(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e4(e){var t=e6((0,n.useState)(""),2),r=t[0],i=t[1],o=e6((0,n.useState)([]),2),s=o[0],l=o[1],u=e6((0,n.useState)(""),2),c=u[0],d=u[1],p=e6((0,n.useState)(null),2),h=p[0],f=p[1],_=e6((0,n.useState)(!0),2),m=_[0],g=_[1],b=e6((0,n.useState)(null),2),y=b[0],S=b[1],w=e3.z.array(e3.z.object({code:e3.z.string(),country:e3.z.string(),country_native:e3.z.string(),phone_code:e3.z.string(),phone_code_label:e3.z.string()})),x=(0,B.B)(),E=(0,P.Z)();(0,W.Z)(function(){var e,t;(e=regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.Z)({url:"/v3/countries/phone_codes/",method:"GET",data:{}});case 3:n=e.sent,(i=w.safeParse(null==n||null==(r=n.resource_response)?void 0:r.data)).success?(l(null==(o=t=i.data)?void 0:o.map(function(e){return{label:e.phone_code_label,value:e.code}})),void 0!==(s=null==(a=t)?void 0:a.findIndex(function(e){return e.code===x.country}))&&-1!==s&&(c=null==(u=t)?void 0:u[s])&&(d(c.phone_code_label),f({label:c.phone_code_label,value:c.code}))):(0,U.My)("mweb.phone_number_signup_step.response_parsing_error"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,U.My)("mweb.phone_number_signup_step.fetch_data_error");case 11:return e.prev=11,g(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}),t=function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){e2(o,n,i,a,s,"next",e)}function s(e){e2(o,n,i,a,s,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)})()});var A=E._('Country/Region Code', 'unauth.mobileWeb.signupPage.phoneNumberStep.countryCodeField.label', 'Country code field label'),C=E._('Select a country code', 'unauth.mobileWeb.signupPage.phoneNumberStep.countryCodeField.placeholder', 'Country code field placeholder'),O=E._('Phone', 'unauth.mobileWeb.signupPage.phoneNumberStep.phoneNumberField.label', 'Phone number field label'),j=E._('Enter your phone number', 'unauth.mobileWeb.signupPage.phoneNumberStep.phoneNumberField.placeholder', 'Phone number field placeholder'),T=E._('That doesn\'t look like a valid phone number', 'unauth.mobileWeb.signupPage.phoneNumberStep.phoneNumberField.error', 'Phone number field error'),k=(0,el.jsx)(a.X6,{accessibilityLevel:1,align:"center",overflow:"normal",children:E._('What\'s your phone number?', 'unauth.mobileWeb.signupPage.phoneNumberStep.heading', 'Phone number signup step heading')}),I=(0,el.jsx)(a.BC,{id:"combo-box-country-code",inputValue:c,label:A,onChange:function(t){var r=t.value;e.handleChangePhoneNumberCountryCode(r)},onClear:function(){d(""),f(null)},onSelect:function(e){var t=e.item;d(t.label),f(t)},options:s,placeholder:C,selectedOption:h||void 0,size:"lg"}),R=(0,el.jsx)(a.nv,{autoComplete:"tel-national",errorMessage:y||void 0,id:"phone-number",label:O,mobileInputMode:"numeric",onChange:function(t){var r=t.value;i(r),Number.isNaN(Number(r))||r.length<7||r.length>11?(S(T),e.setValidState("non-numeric phone number error")):(S(null),e.setValidState(0===r.length?"empty phone number error":""))},placeholder:j,size:"lg",type:"tel",value:r});return(0,ea.Q)({view_type:e.viewType,view_parameter:4210}),(0,el.jsx)(a.xu,{marginTop:5,children:(0,el.jsx)(a.__,{htmlFor:"email",children:(0,el.jsx)(a.xu,{marginBottom:4,children:(0,el.jsxs)(a.kC,{direction:"column",gap:2,children:[(0,el.jsx)(a.xu,{padding:6,children:k}),!m&&I,!m&&R]})})})})}var e5=r(277154),e7=r(713917),e9=r(108199),te=r(710346),tt=r(362143),tr=r(767415),tn=r(520803),ti=["passwordValidationError"],to=["userExists"];function ta(e){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ts(e){return function(e){if(Array.isArray(e))return tu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tl(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){if(e){if("string"==typeof e)return tu(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tu(e,t):void 0}}function tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tc(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function td(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){tc(o,n,i,a,s,"next",e)}function s(e){tc(o,n,i,a,s,"throw",e)}a(void 0)})}}function tp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function th(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?th(Object(r),!0).forEach(function(t){ty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):th(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t_(e,t){return(t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tm(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tg=function(){return!!e})()}function tb(e){return(tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ty(e,t,r){return(t=tv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tv(e){var t=function(e,t){if("object"!=ta(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ta(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ta(t)?t:t+""}var tS=[1,2,4],tw=[1,2,4],tx=[1,10,4],tP=[1,2,3,9,6,7,4],tE=[3,9,6,7],tA=[2,3,4],tC=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&t_(o,e);var t,r,i=(t=tg(),function(){var e,r=tb(o);return e=t?Reflect.construct(r,arguments,tb(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==ta(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tm(e)}(this,e)});function o(e){var t,r;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return ty(tm(t=i.call(this,e)),"handleBack",function(e){return t.setState({stepToRender:e})}),ty(tm(t),"incrementBusinessStep",function(e){e&&t.isCountryUS()&&(0,tr.nP)("mweb_business_create_unauth_visits_sales_steps",{sampleRate:1})}),ty(tm(t),"setAdditionalSteps",function(){t.setState(tf({steps:t.getSteps()},t.getStateAdditions(t.props)))}),ty(tm(t),"getStateAdditions",function(e){var t={},r=e.isBusiness,n=e.isLBA,i=e.isPhoneNumberSignup,o=e.location;return n&&(t=tf({isExistingUser:!0,showLoginButtons:!1,stepToRender:3},o.state)),o.state&&(t=o.state.isSignUpFromLoginError?tf({fullName:r||n?"":(0,A.Z)(o.state.email,e.country),steps:r||n?[3]:[4],stepToRender:r||n?3:4,isSignUpFromLoginError:!1},o.state):o.state.isFromSignupEmailExistError?tf(tf({steps:[5],stepToRender:5,isSignUpFromLoginError:!1},o.state),{},{email:o.state.email}):tf({},o.state)),i&&(t=tf({stepToRender:13},o.state)),t}),ty(tm(t),"getStepFromMatchParams",function(e){return parseInt(e.match.params.step||"1",10)||0}),ty(tm(t),"getSteps",function(){var e=t.props,r=e.isBusiness,n=e.isConsentStepNeeded,i=e.isGroupBoardSignup,o=e.isLBA,a=e.isPhoneNumberSignup,s=tw;return a?s=[13].concat(tw):i?s=tS:o?s=tE:r&&(s=tP),n&&s.push(11),s}),ty(tm(t),"setIsExistingUser",function(e,r){e?t.setState({isExistingUser:e,steps:[1,5]},r):t.setState({isExistingUser:e,steps:t.getSteps()},r)}),ty(tm(t),"setValidState",function(e){t.setState({isValid:!e})}),ty(tm(t),"getCurrentActionName",function(){switch(t.state.stepToRender){case 1:return"email";case 2:case 5:return"password";case 3:return"name";case 4:return"birthday";case 6:return"website";case 7:return"intent";case 8:return"sales_contact";case 9:return"business_type_step";case 11:return"consent_step";case 12:return"otp_validation_step";case 13:return"phone_number_step";default:return"undefined"}}),ty(tm(t),"getNextButtonText",function(){var e=t.state,r=e.steps,n=e.stepToRender,i=t.props,o=i.isGroupBoardSignup,a=i.i18n,s=a._('Accept invite', 'Accept the invite and move through the signup/login process', 'Accept the invite and move through the signup/login process');if(5===n)return o?s:a._('Log in', 'Button to login for existing user', 'Button to login for existing user');if(r[r.length-1]===n)if(o)return s;else return a._('Done', 'Go to next step account signup', 'Go to next step account signup');return null}),ty(tm(t),"getViewParameterType",function(){switch(t.state.stepToRender){case 1:return 3146;case 2:return 3147;case 3:return 3148;case 5:return 3207;case 4:return 3737;case 6:return 3376;case 7:return 3377;case 8:return 3378;case 9:return 3406;case 11:return 4038;case 12:return 4095;case 13:return 4210;default:return}}),ty(tm(t),"getInferredUserInfo",function(){return{connected_to_facebook:!1,connected_to_google:!1,email:t.state.email,first_name:(0,A.Z)(t.state.email,t.props.country),has_password:!1,large_image_url:"",medium_image_url:"",small_image_url:"",xlarge_image_url:""}}),ty(tm(t),"navigateToStep",function(e){t.setState(function(t){return{stepToRender:t.steps[e-1],canEditCurrentTextField:!0}},function(){var r,n,i="step".concat(e,"/"),o="/signup/".concat(i),a=t.props,s=a.navigate,l=a.isBusiness,u=a.isLBA,c=a.location,d=a.isGroupBoardSignup,p=t.state,h=(p.passwordValidationError,tp(p,ti)),f=null==(r=c.state)?void 0:r.attributionLabel,_=(0,M.mB)(c.search).next||(null==(n=c.state)?void 0:n.next);l?o="/business/signup/".concat(i):u&&(o="/linked/signup/".concat(i)),s(o,{state:d?tf(tf(tf({},c.state),h),{},{attributionLabel:f,next:_}):tf(tf(tf({},c.state),h),{},{attributionLabel:f})})})}),ty(tm(t),"shouldSkipIntentStep",function(e){var r=t.state,n=r.steps,i=r.businessType;return n.length>e+1&&7===n[e+1]&&"influencer_public_figure_or_celebrity"===i}),ty(tm(t),"handleSsoContinue",function(){var e=t.props,r=e.authenticateWithSso,n=e.country,i=e.logContextEvent,o=t.state,s=o.email,l=o.exchangeCodeToTokenUrl,u=o.ssoAuthorizationUri;i({view_parameter:4014,view_type:664,event_type:102,element:14367}),r({callbacks:{success:function(e){var r=(0,A.Z)(s||"",n),i=e.ssoEmail,o=e.ssoId,a=e.ssoIdToken;if(i&&o&&a){t.setState({ssoEmail:i,ssoId:o,ssoIdToken:a,ssoName:r,fullName:r});var l=t.getStepFromMatchParams(t.props);t.navigateToStep(l+1)}},error:function(){t.props.showToast(function(e){var r=e.hideToast;return(0,el.jsx)(a.xu,{"data-test-id":"error-sso-create-account-toast",children:(0,el.jsx)(w.Z,{onHide:r,text:t.props.i18n._('Oops! Something went wrong\u2026 Tap Done to try again.', 'signup.sso.error', 'Error during sso signup'),type:"error"})})})}},exchangeCodeToTokenUrl:l,modalUrl:null!=u?u:""})}),ty(tm(t),"handleOtpContinue",function(e){var r=e.progressToken;t.setState(function(e){var n=e.email;return{isLoading:!1,fullName:t.props.isBusiness?"":(0,A.Z)(n,t.props.country),progressToken:r,showOtpStep:!1}},function(){t.props.showToast(function(e){var r=e.hideToast;return(0,el.jsx)(w.Z,{onHide:r,text:t.props.i18n._('Email confirmed', 'otpStep.toast.emailConfirmed', 'Toast text shown on email confirmed using OTP on signup')})});var e=t.getStepFromMatchParams(t.props);t.navigateToStep(e+1)})}),ty(tm(t),"nextSignupStep",td(regeneratorRuntime.mark(function e(){var r,n,i,o,a,l,u,c,d,p,h,f,_,m,b,S,x,P,E,C,j,T,k,I,R,N,L,B,z,D,U,Z,M,F,V,W,G,q;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.props.fingerprintData)&&!n.current.submitTriggeredTime&&(n.current.submitTriggeredTime=performance.now()),o=(i=t.props).navigate,a=i.isLimitedLoginUser,l=i.location,u=i.loggedOutUserInfo,c=i.showToast,d=i.validateEmailAvailability,p=i.isGroupBoardSignup,h=i.isLBA,_=(f=t.state).email,m=f.intent,b=f.steps,S=f.stepToRender,x=t.getStepFromMatchParams(t.props),P=null==(r=l.state)?void 0:r.attributionLabel,"1"!==g.U2(s.It)){e.next=10;break}return t.setState({isLoading:!1}),c(function(e){var r=e.hideToast;return(0,el.jsx)(w.Z,{duration:3e3,onHide:r,text:t.props.i18n._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'Signup.AgeStep.underageError', 'Underage error during signup'),type:"error"})}),e.abrupt("return");case 10:if(t.shouldSkipIntentStep(x)&&(E=[].concat(ts(b.slice(0,x+1)),ts(b.slice(x+2))),t.setState({steps:E})),1!==S){e.next=30;break}return C=t.props.verifySsoUser,e.next=15,C(_);case 15:if(T=(j=e.sent).isSso,k=j.existingUser,I=j.exchangeCodeToTokenUrl,R=j.authorizationUri,!(T&&!k)){e.next=26;break}return t.props.logContextEvent({element:14367,event_type:102,view_type:10,view_parameter:t.getViewParameterType()}),t.setState({exchangeCodeToTokenUrl:null!=I?I:"",ssoAuthorizationUri:null!=R?R:"",steps:tx,isSsoFlow:!0},function(){return t.navigateToStep(x+1)}),e.abrupt("return");case 26:t.state.isSsoFlow&&t.setState({steps:t.getSteps(),isSsoFlow:!1});case 27:return d(t.state.email).then(function(){var e=td(regeneratorRuntime.mark(function e(r){var n,i,s,c,d,h,f,m,g,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.userExists,i=tp(r,to),!n){e.next=9;break}if(t.setState({isLoading:!1}),!(!u&&!a&&!p)){e.next=7;break}return o(l.pathname,{replace:!0,state:tf(tf({},l.state),{},{email:_,attributionLabel:P})}),o("/login",{state:{switch_account:null==(s=l.state)?void 0:s.switch_account,secondary_account:null==(c=l.state)?void 0:c.secondary_account,next:null==(d=l.state)?void 0:d.next,userInfo:t.getInferredUserInfo(),attributionLabel:P}}),e.abrupt("return");case 7:return t.setIsExistingUser(!0,function(){return t.navigateToStep(x+1)}),e.abrupt("return");case 9:if(h=i.fieldsValidationResponse,f=i.progressToken,!(null!=h&&h.email.isOTPRequired)){e.next=13;break}return t.setState(function(){return{isLoading:!1,progressToken:f,showOtpStep:!0}}),e.abrupt("return");case 13:if(m=function(){t.setState(function(e){var r=e.email;return{isLoading:!1,fullName:t.props.isBusiness?"":(0,A.Z)(r,t.props.country)}}),t.navigateToStep(x+1)},!(f&&null!=h&&h.email.isValid)){e.next=17;break}return m(),e.abrupt("return");case 17:return e.next=19,(0,v.Z)({url:"/v3/email/validation/",data:{email:t.state.email}});case 19:b=(g=(e.sent.resource_response||{}).data)&&g.is_valid,t.setState({isLoading:!1}),b?m():t.setState({canEditCurrentTextField:!0,isValid:!1,emailError:{type:"invalid"}});case 24:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.setState({isLoading:!1});var r,n=(0,y.Z)(e,"message");O.Cx.includes(null!=(r=(0,y.Z)(e,"api_error_code"))?r:0)&&n&&c(function(e){var t=e.hideToast;return(0,el.jsx)(w.Z,{duration:3e3,onHide:t,text:n,type:"error"})})}),t.setState({isLoading:!0}),e.abrupt("return");case 30:if(2!==S||(L=(N=t.props).logContextEvent,B=N.isOnPasswordStrengthExperiment,z=N.isOnPasswordStrengthRemoteExperiment,(B||z)&&L({event_type:16896,aux_data:{score_source:"zxcvbn",score:(0,H.tc)(t.state.password),surface:"SET_PASSWORD_ARR"}}),!z)){e.next=50;break}return D=performance.now(),e.prev=35,e.next=38,(0,v.Z)({url:"/v3/users/password_strength/",method:"POST",data:{password:t.state.password}});case 38:U=performance.now()-D,L({event_type:16897,aux_data:{score_source:"zxcvbn",score:(0,H.tc)(t.state.password),time_in_ms:U}}),e.next=50;break;case 43:return e.prev=43,e.t0=e.catch(35),Z=performance.now()-D,L({event_type:16898,aux_data:{score_source:"zxcvbn",score:(0,H.tc)(t.state.password),time_in_ms:Z,status_code:(0,y.Z)(e.t0,"httpStatus")||"-1",api_error_code:(0,y.Z)(e.t0,"api_error_code")||"-1"}}),t.setState({isLoading:!1,passwordValidationError:(0,y.Z)(e.t0,"message"),canEditCurrentTextField:!0}),e.abrupt("return");case 50:if(5!==S){e.next=53;break}return t.loginUser(),e.abrupt("return");case 53:if(!(7===S&&t.isCountryUS())){e.next=81;break}if(M=(0,eT.x)(t.props.i18n),F=!1,e.t1=m===M.NOT_SURE.value,!e.t1){e.next=61;break}return e.next=60,t.isLeadScoringEligible("mweb_not_sure_intent");case 60:e.t1=e.sent;case 61:if(!e.t1){e.next=63;break}F=!0;case 63:if(e.t2=m===M.YES.value,!e.t2){e.next=68;break}return e.next=67,t.isLeadScoringEligible("mweb_yes_intent");case 67:e.t2=e.sent;case 68:if(V=e.t2,!(-1===b.indexOf(8)&&(F||V))){e.next=76;break}return(W=tP).push(8),t.setState({steps:W},function(){t.navigateToStep(x+1)}),e.abrupt("return");case 76:if(m===M.YES.value||-1===b.indexOf(8)){e.next=81;break}return(G=tP.slice()).pop(),t.setState({steps:G},function(){t.registerUser()}),e.abrupt("return");case 81:q=b[b.length-1],S===q?h?t.updateLBA():t.registerUser():t.navigateToStep(x+1);case 83:case"end":return e.stop()}},e,null,[[35,43]])}))),ty(tm(t),"handleChangeEmail",function(e){return new Promise(function(r){return t.setState({email:e},r)})}),ty(tm(t),"handleChangePassword",function(e){return new Promise(function(r){return t.setState({password:e,passwordValidationError:""},r)})}),ty(tm(t),"handleChangeFullName",function(e){return new Promise(function(r){var n={fullName:e};t.state.isSsoFlow&&(n={fullName:e,ssoName:e}),t.setState(n,r)})}),ty(tm(t),"handleSetLocalBirthday",function(e){t.setState({localBirthday:e})}),ty(tm(t),"handleChangeWebsite",function(e){return new Promise(function(r){return t.setState({website:e},r)})}),ty(tm(t),"handleChangeIntent",function(e){return new Promise(function(r){return t.setState({intent:e},r)})}),ty(tm(t),"handleBusinessSettingsUtmsChange",function(e){return new Promise(function(r){return t.setState({businessSettingsUtmsEnabled:e},r)})}),ty(tm(t),"handleChangePhone",function(e){return new Promise(function(r){return t.setState({phone:e},r)})}),ty(tm(t),"handleChangePhoneNumberCountryCode",function(e){return new Promise(function(r){return t.setState({phoneNumberCountryCode:e},r)})}),ty(tm(t),"handleChangeSalesName",function(e){return new Promise(function(r){return t.setState({salesName:e},r)})}),ty(tm(t),"handleChangeBusinessType",function(e){return new Promise(function(r){return t.setState({businessType:e},r)})}),ty(tm(t),"handleChangeBirthday",function(e){return new Promise(function(r){return t.setState({birthdayString:e},r)})}),ty(tm(t),"loginUser",function(){var e=t.props,r=e.navigate,n=e.isAuthenticated,i=e.isLimitedLoginUser,o=e.location,a=e.login,s=e.isGroupBoardSignup,l=t.state,u=l.email,c=l.password,d="";if(s){var p=o&&o.state&&o.state.next;d=p?"".concat(p,"&").concat((0,M.XP)({accept_invite:!0,seamless:!0})):""}a({username_or_email:u,password:c},r,o.state?d||o.state.next:"",void 0,{event_type:7534,view_type:10,view_parameter:3203,aux_data:tf(tf({},n?{login_state:i?T.Z.LIMITED:T.Z.DEFAULT}:{}),{},{signup_login_method:k.Z.EMAIL})}).catch(function(e){t.setState({isLoading:!1,passwordValidationError:(0,y.Z)(e,"message"),canEditCurrentTextField:!0})}),t.setState({isLoading:!0,passwordValidationError:""})}),ty(tm(t),"registerUser",function(){var e,r,n,i,o=t.state,a=o.birthdayString,l=o.email,u=o.fullName,p=o.password,h=o.steps,m=o.gender,v=o.customGender,S=o.website,x=o.intent,P=o.phone,E=o.salesName,A=o.businessType,C=o.recaptchaV3Token,j=o.isSsoFlow,I=o.progressToken,R=o.ssoEmail,N=o.ssoId,B=o.ssoIdToken,z=o.ssoName,D=o.kr_privacy_consent_opt_in,Z=o.marketing_notifs_opt_out,F=o.businessSettingsUtmsEnabled,V=t.props,W=V.i18n,G=V.isAuthenticated,q=V.isLimitedLoginUser,H=V.isBusiness,Y=V.register,K=V.showToast,Q=V.setNumSignupSteps,X=V.location,$=V.isGroupBoardSignup,J=V.navigateAfterLoginStatusChange,ee=V.pixelBlocked,et=V.thirdPartyMarketingTrackingEnabled,er=V.saveWebsite,en=V.saveBusinessSettingsUtms,ei=V.saveBusinessType,eo=V.saveIntent,ea=V.isRedirectToNextParamAfterSignup,es=V.isAppFactoryOAuth,eu=V.userId,ec=V.fingerprintData,ed=V.isEligibleForBusinessLevelUrlParams,ep=a?(0,b.Z)(a):void 0;if(void 0===ep){t.setState({canEditCurrentTextField:!0}),K(function(e){var t=e.hideToast;return(0,el.jsx)(w.Z,{duration:3e3,onHide:t,text:W._('We need to know your age to provide you this service.', 'userRegistration.missingAgeError', 'Error message shown when age is required and it is missing'),type:"error"})});return}if(H)n=u;else{var eh,ef=function(e){if(Array.isArray(e))return e}(eh=u.trim().split(" "))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{for(o=(r=r.call(e)).next;!(l=(n=o.call(r)).done)&&(s.push(n.value),2!==s.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(eh,2)||tl(eh,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();e=ef[0],r=ef[1]}Q(h.length+1);var e_=$?tf({gender:m},"unspecified"===m?{custom_gender:v}:{}):{},em={};t.props.isConsentStepNeeded&&(em.kr_privacy_consent_opt_in=D,em.marketing_notifs_opt_out=Z);var eg=I?"emailWithOtp":"email";t.setState({isLoading:!0}),(0,U.Rp)({event:"signup_api_call_start",provider:eg});var eb=tf(tf({type:"email",business_name:n,birthday:ep,email:l,first_name:e,last_name:r,password:p,progressToken:I,recaptchaV3Token:C,fingerprintData:ec},e_),em);j&&(i={type:"sso",first_name:z,business_name:z,sso_email:R,sso_id:N,sso_id_token:B,birthday:ep,email:l}),Y(j&&i?i:eb,{signupAttemptContextEvent:{event_type:7537,view_type:10,view_parameter:3203,aux_data:tf(tf({},G?{login_state:q?T.Z.LIMITED:T.Z.DEFAULT}:{}),{},{signup_login_method:k.Z.EMAIL})}}).then(td(regeneratorRuntime.mark(function e(){var r,n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,U.NC)(j?"signup_via_sso_signup_page":"signup_via_email_signup_page"),(0,U.Rp)({event:"signup_api_call_success",provider:j?"sso":eg}),"emailWithOtp"===eg&&(0,U.My)("mWeb.otpStep.signup_success"),H&&((0,tr.nP)("mweb_business_create_unauth_register_business",{sampleRate:1}),eo(parseInt(x,10),function(){return(0,tr.nP)("mweb_business_create_unauth_save_intent_success",{sampleRate:1})},function(){return(0,tr.nP)("mweb_business_create_unauth_save_intent_fail",{sampleRate:1})},eu),er(S,function(){return(0,tr.nP)("mweb_business_create_unauth_save_website_success",{sampleRate:1})},function(){return(0,tr.nP)("mweb_business_create_unauth_save_website_fail",{sampleRate:1})},eu),ei(A,function(){return(0,tr.nP)("mweb_business_create_unauth_save_business_type_success",{sampleRate:1})},function(){return(0,tr.nP)("mweb_business_create_unauth_save_business_type_fail",{sampleRate:1})},eu),ed&&en(F,function(){return(0,tr.nP)("mweb_business.autms_to_patio.attempt",{sampleRate:1})},function(e){return(0,tr.nP)("mweb_business.autms_to_patio.failure",{sampleRate:1,tags:{reason:!1===e?"User not registered yet.":"API error"}})},eu),E&&P&&(t.setState({isSubmitting:!0}),t.reportToPropel()),et&&(f.Z.reportFacebookConversion(_.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/create"}),f.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),f.Z.reportGoogleConversion(_.Z.GOOGLE_ADWORDS_ID,_.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE,void 0,ee),f.Z.reportLinkedInConversion(_.Z.LINKEDIN_PARTNER_ID,_.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT))),es&&null!=(r=X.state)&&r.next?(0,c.Z)(X.state.next):t._shouldShowFirstAdUpsellPage()?(0,d.Z)("/business/install_app"):$?((i={}).pathname=(o=X&&X.state&&X.state.next)||"/",i.search=o?"?".concat(o[1],"&").concat((0,M.XP)({accept_invite:!0,seamless:!0})):"",t.props.setGenderStepComplete(),J(i.pathname)):ea&&null!=(n=X.state)&&n.next?J((0,M.Jx)(X.state.next)):J("/");case 5:case"end":return e.stop()}},e)}))).catch(function(e){if(t.setState({isLoading:!1,canEditCurrentTextField:!0}),!(0,y.Z)(e,"isArkoseChallengeRequired")){"emailWithOtp"===eg&&(0,U.My)("mWeb.otpStep.signup_error.other");var r,n,i=[O.tz,O.dj,O.tL,O.NF];(0,U.Rp)({event:"signup_api_call_failure",provider:eg});var o=null!=(r=(0,y.Z)(e,"api_error_code"))?r:0,a=null!=(n=(0,y.Z)(e,"message"))?n:"";if(i.includes(o)){if(o===O.tz){g.t8(s.It,"1",(0,g.kZ)(s.It)),(0,U.My)("email_register_step_show_underage_confirmation"),t.setState({isUnderageModalOpen:!0});return}if(o===O.dj)return void t.setState({birthdayErrorMessage:a});K(function(e){var t=e.hideToast;return(0,el.jsx)(w.Z,{duration:3e3,onHide:t,text:a,type:"error"})})}else K(function(e){var r=e.hideToast;return(0,el.jsx)(w.Z,{duration:3e3,onHide:r,text:o&&a?a:t.props.i18n._('Oops! Something went wrong\u2026 Tap Done to try again.', 'Error during signup', 'Error during signup'),type:"error"})});(0,L.rY)(function(e){return t.setState({recaptchaV3Token:e})},function(){},L.ys)}})}),ty(tm(t),"reportToPropel",function(){var e=t.state,r=e.email,n=e.fullName,i=e.website,o=e.phone,a=e.salesName,s=e.intent,u=t.props.country,c=a.trim().split(" ").filter(function(e){return!!e}),d=c[0],p=c.length>1?c.slice(1).join(" "):"",h="self_serve_mweb_create";s===(0,eT.x)(t.props.i18n).NOT_SURE.value&&(h+="_not_sure");var f={lead_email:r,lead_first_name:d,lead_last_name:p,lead_website:i,lead_phone:o,country:u,lead_source_detail:h,lead_source_type:"business_create",lead_company:n};(0,tr.nP)("mweb_business_create_unauth_report_to_propel_request",{sampleRate:1}),l.Z.create("PropelFormResource",f).callCreate({showError:!1}).then(function(){return(0,tr.nP)("mweb_business_create_unauth_report_to_propel_success",{sampleRate:1})}).catch(function(){return(0,tr.nP)("mweb_business_create_unauth_report_to_propel_fail",{sampleRate:1})})}),ty(tm(t),"isLeadScoringEligible",(r=td(regeneratorRuntime.mark(function e(r){var n,i,o,a,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(n=t.state).website,o=n.businessType,a=n.intent,s={key:r,email:n.email,business_name:n.fullName,is_create:!0,locale:t.props.locale,account_type:o,advertising_intent:parseInt(a,10),website:i},e.next=5,(0,v.Z)({url:"/v3/business/lead/score/above_threshold/",data:s});case 5:if("success"!==(l=e.sent).resource_response.status){e.next=11;break}return u=l.resource_response.data,e.abrupt("return",!0===u);case 11:return(0,tr.nP)("mweb_business_create_unauth_lead_score_fail",{sampleRate:1}),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})),ty(tm(t),"handleSkipStep",function(){var e=t.state,r=e.isValid,n=e.stepToRender;(0,U.My)("mweb.signup.step.".concat(t.getCurrentActionName(),".skip")),t.props.logContextEvent({element:1150,event_type:102,view_type:10,view_parameter:t.getViewParameterType()}),6!==n||r||t.setState({website:""}),t.nextSignupStep()}),ty(tm(t),"handlePasswordReset",function(){var e=t.props,r=e.navigate,n=e.logContextEvent,i=t.state.email;n({view_type:10,view_parameter:t.getViewParameterType(),element:10881,event_type:102}),n({event_type:51,view_type:10,view_parameter:t.getViewParameterType()}),(0,v.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i,type:"reset"}}).then(function(){r("/password/reset/sent/",{replace:!0,state:{destinationEmail:i}}),t.setState({isLoading:!1})}),t.setState({isLoading:!0})}),ty(tm(t),"nextSignupStepWithValidation",function(e){e&&e.preventDefault();var r=t.state,n=r.showOtpStep;1===r.stepToRender&&n||(13===t.state.stepToRender&&(0,U.My)("mweb.phone_number_signup_step.submitted.".concat(t.state.phoneNumberCountryCode)),t.setState({canEditCurrentTextField:!1},td(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.validate();case 2:if(!e.sent){e.next=19;break}(0,U.My)("mweb.signup.step.".concat(t.getCurrentActionName(),".completed")),e.t0=t.getCurrentActionName(),e.next="email"===e.t0?8:"password"===e.t0?10:"birthday"===e.t0?12:14;break;case 8:return r="submit_email",e.abrupt("break",15);case 10:return r="submit_password",e.abrupt("break",15);case 12:return r="submit_birthday",e.abrupt("break",15);case 14:return e.abrupt("break",15);case 15:r&&(0,U.Rp)({event:r,provider:"email"}),t.nextSignupStep(),e.next=21;break;case 19:(0,U.My)("mweb.signup.step.".concat(t.getCurrentActionName(),".error")),t.setState({canEditCurrentTextField:!0});case 21:case"end":return e.stop()}},e)}))))}),ty(tm(t),"trackStepViewed",function(){(0,U.My)("mweb.signup.step.".concat(t.getCurrentActionName(),".viewed"))}),ty(tm(t),"validate",td(regeneratorRuntime.mark(function e(){var r,n,i,o,a,s,l,u,c,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=(r=t.state).email,i=r.fullName,o=r.password,a=r.stepToRender,s=r.website,l=r.intent,u=r.phone,c=r.salesName,d=r.businessType,e.t0=a,e.next=1===e.t0?4:2===e.t0?5:5===e.t0?9:3===e.t0?10:4===e.t0?11:6===e.t0?12:7===e.t0?13:8===e.t0?14:9===e.t0?15:16;break;case 4:return e.abrupt("return",!(0,Y.a3)(n,[t.requiredValidator(),(0,Y.GT)({message:t.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')})]));case 5:return e.next=7,(0,Y.U2)(o,t.props.getPasswordValidationRules({}));case 7:return p=e.sent,e.abrupt("return",!p);case 9:return e.abrupt("return",!(0,Y.a3)(o,[t.requiredValidator()]));case 10:return e.abrupt("return",!(0,Y.a3)(i,[t.requiredValidator()]));case 11:return e.abrupt("return",4===t.state.stepToRender||!(0,Y.a3)(i,[t.requiredValidator(),(0,Y.Gy)({max:30,maxErrorString:t.props.i18n._('Hmm, that\'s a few characters too long. Try a nickname instead?', 'Name exceeds 30 character maximum error', 'Name exceeds 30 character maximum error')})]));case 12:return e.abrupt("return",!(0,Y.a3)(s,[(0,Y.Jx)({message:t.props.i18n._('Please use a valid URL', 'Invalid website validation error', 'Invalid website validation error')})]));case 13:return e.abrupt("return",!(0,Y.a3)(l,[t.requiredValidator(),t.numberValidator()]));case 14:return e.abrupt("return",!(0,Y.a3)(u,[(0,Y.Bh)({message:t.props.i18n._('Please use a valid phone number', 'Invalid phone number validation error', 'Invalid phone number validation error')})])&&!(0,Y.a3)(c,[t.requiredValidator()]));case 15:return e.abrupt("return",!(0,Y.a3)(d,[t.requiredValidator()]));case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}},e)}))),ty(tm(t),"numberValidator",function(){return(0,Y.qA)({message:t.props.i18n._('Not a number.', 'Number field validation error message', 'Number field validation error message')})}),ty(tm(t),"requiredValidator",function(){return(0,Y.aH)({message:t.props.i18n._('Required', 'Required field validation error message', 'Required field validation error message')})}),ty(tm(t),"_shouldShowFirstAdUpsellPage",function(){var e=t.props,r=e.country,n=e.isBusiness,i=e.isLBA;return!!((n||i)&&(0,h.Fl)(r))}),ty(tm(t),"isStepSkipable",function(){return -1!==[6,8].indexOf(t.state.stepToRender)}),ty(tm(t),"handleConsentStepSubmit",function(e){var r=e.kr_privacy_consent_opt_in,n=e.marketing_notifs_opt_out;t.setState({kr_privacy_consent_opt_in:r,marketing_notifs_opt_out:n},function(){t.nextSignupStepWithValidation()})}),ty(tm(t),"onBack",function(){var e=t.state,r=e.showOtpStep;1===e.stepToRender&&r&&t.setState({canEditCurrentTextField:!0,showOtpStep:!1})}),t.state=tf({localBirthday:"",birthdayString:"",birthdayErrorMessage:"",businessSettingsUtmsEnabled:!0,email:"",fullName:"",isExistingUser:!1,isLoading:!1,isUnderageModalOpen:!1,isValid:!1,password:"",showLoginButtons:!1,steps:t.getSteps(),stepToRender:1,isSignUpFromLoginError:!1,isSsoFlow:!1,isFromSignupEmailExistError:!1,ssoAuthorizationUri:"",ssoEmail:"",ssoId:"",ssoIdToken:"",ssoName:"",emailError:null,canEditCurrentTextField:!0,isSubmitting:!1,gender:"",customGender:"",website:"",intent:"",phone:"",salesName:"",businessType:"",recaptchaV3Token:"default",kr_privacy_consent_opt_in:void 0,marketing_notifs_opt_out:void 0},t.getStateAdditions(e)),t}return r=[{key:"componentDidMount",value:function(){var e=this;this.trackStepViewed();var t=this.props.isBusiness;this.incrementBusinessStep(t);var r=function(){(0,L.rY)(function(t){return e.setState({recaptchaV3Token:t})},function(){},L.ys)};r(),setInterval(r,L.yc)}},{key:"componentDidUpdate",value:function(e,t){var r=this.props,n=r.isBusiness,i=r.isLBA,o=r.isGroupBoardSignup,a=r.isConsentStepNeeded;(e.isBusiness!==n||e.isLBA!==i||e.isGroupBoardSignup!==o||e.isConsentStepNeeded!==a)&&(this.incrementBusinessStep(n),this.setAdditionalSteps());var s=this.getStepFromMatchParams(e),l=this.getStepFromMatchParams(this.props);this.state.isExistingUser&&e.location!==this.props.location&&2!==l&&this.setIsExistingUser(!1,void 0),s!==l&&this.handleBack(t.steps[l-1]),t.stepToRender!==this.state.stepToRender&&this.trackStepViewed()}},{key:"isCountryUS",value:function(){return"US"===this.props.country}},{key:"updateLBA",value:function(){var e=this.state,t=e.fullName,r=e.website,n=e.intent,i=e.businessType,o=this.props;(0,o.saveWebsite)(r,function(){return(0,tr.nP)("mweb_business_create_unauth_save_website_success",{sampleRate:1})},function(){return(0,tr.nP)("mweb_business_create_unauth_save_website_fail",{sampleRate:1})},o.userId),l.Z.create("UserSettingsResource",{advertising_intent:n,business_name:t,account_type:i,surface_tag:z.i.REGISTRATION}).callUpdate().then(function(){return(0,c.Z)("/me")})}},{key:"render",value:function(){var e,t=this,r=this.props,i=r.isBusiness,o=r.navigate,l=r.i18n,u=r.location,c=r.isEligibleForBusinessLevelUrlParams,d=r.inSmbSalesCopyChangeExperiment,p=r.isLBA,h=r.isAppFactoryOAuth,f=r.isGroupBoardSignup,_=r.fingerprintData,m=r.isLoadingFingerprintContext,b=this.getStepFromMatchParams(this.props);if(Number.isNaN(b)||b<1||b>14)return o("/",{replace:!0}),null;var y=this.state,v=y.birthdayString,w=y.birthdayErrorMessage,x=y.businessSettingsUtmsEnabled,P=y.canEditCurrentTextField,E=y.isSubmitting,A=y.email,O=y.fullName,j=y.businessType,T=y.website,k=y.intent,R=y.phone,N=y.salesName,L=y.emailError,B=y.isExistingUser,z=y.isLoading,U=y.isUnderageModalOpen,Z=y.isValid,M=y.password,F=y.passwordValidationError,V=y.progressToken,W=y.showLoginButtons,G=y.showOtpStep,q=y.steps,H=y.stepToRender,Y=q.length,K=J.tr,$=p?tE.length:i?tP.length:Y+K;this.state.isSsoFlow&&($=tx.length);var et=(0,X.Z)({i18n:l,location:u}),er=et.showPLPBanner,en=et.pinForBanner,ei=!(i||p||h),eo=ei&&!tA.includes(H),ea=ei&&1===H,es=i||p?void 0:"300";es&&tA.includes(H)&&(es="200");var eu=i||p?156:10,eh=this.getViewParameterType(),ef=!i&&!p,e_=!i&&!p&&!f,em=null==(e=u.state)?void 0:e.attributionLabel,eg=_&&_.current.arkoseEnforcement&&!_.current.arkoseSessionToken;return(0,el.jsxs)(C.default,{hasFixedHeader:!1,hasGutter:!er&&!this.props.showConsistentSteps,children:[!!eh&&(0,el.jsx)(te.Z,{backButtonOverrides:{disableRedirect:1===H&&G,onTouch:this.onBack},currentIndex:b-1,numSteps:$,showPLPBanner:er,viewParameter:eh,viewType:eu}),(0,el.jsx)(a.xu,{"data-test-id":"signup-page-form",marginEnd:this.props.showConsistentSteps?4:"auto",marginStart:this.props.showConsistentSteps?4:"auto",maxWidth:400,children:(0,el.jsxs)("form",{onSubmit:this.nextSignupStepWithValidation,children:[er&&en&&(0,el.jsx)(e9.Z,{pin:en}),(0,el.jsxs)(a.xu,{paddingX:er&&!this.props.showConsistentSteps?4:0,children:[1===H&&(0,el.jsx)(eO,{disabled:!P,email:A,emailError:L,handleChangeEmail:this.handleChangeEmail,isReducedHeader:ef,onOtpContinue:this.handleOtpContinue,progressToken:V,setEmailError:function(e){return t.setState({emailError:e})},setValidState:this.setValidState,showConsistentSteps:this.props.showConsistentSteps,showModernizedNuxUI:e_,showOtpVerification:G,showPLPBanner:er,showToast:this.props.showToast,viewType:eu}),2===H&&(0,el.jsx)(e1,{disabled:!P,externalError:F,handleChangePassword:this.handleChangePassword,isReducedHeader:ef,password:M,setValidState:this.setValidState,showConsistentSteps:this.props.showConsistentSteps,showModernizedNuxUI:e_,showPLPBanner:er,viewType:eu}),5===H&&(0,el.jsx)(ec,{disabled:!P,error:F,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,isReducedHeader:ef,password:M,setValidState:this.setValidState,showPLPBanner:er,viewType:eu}),10===H&&(0,el.jsx)(I.Z,{onContinueClick:this.handleSsoContinue,showConsistentSteps:this.props.showConsistentSteps}),3===H&&(0,el.jsx)(eM,{disabled:!P,handleChangeName:this.handleChangeFullName,isBusiness:i,name:O,setValidState:this.setValidState,viewType:eu}),4===H&&(0,el.jsx)(ed.Z,{birthday:this.state.localBirthday,birthdayErrorMessage:w,disabled:!P,handleChangeBirthday:this.handleChangeBirthday,handleChangeName:this.handleChangeFullName,name:O,setBirthday:this.handleSetLocalBirthday,setValidState:this.setValidState,showConsistentSteps:this.props.showConsistentSteps,viewType:eu}),9===H&&(0,el.jsx)(ep.Z,{handleChangeBusinessType:this.handleChangeBusinessType,selectedBusinessType:j,setValidState:this.setValidState,viewType:eu}),6===H&&(0,el.jsx)(e7.Z,{disabled:!P,handleChangeWebsite:this.handleChangeWebsite,setValidState:this.setValidState,viewType:eu,website:T}),7===H&&(0,el.jsx)(eT.b,{businessSettingsUtmsEnabled:x,disabled:!P,handleBusinessSettingsUtmsChange:this.handleBusinessSettingsUtmsChange,handleChangeIntent:this.handleChangeIntent,intent:k,isEligibleForBusinessLevelUrlParams:c,setValidState:this.setValidState,viewType:eu}),8===H&&(0,el.jsx)(e5.Z,{disabled:!P,handleChangeName:this.handleChangeSalesName,handleChangePhone:this.handleChangePhone,inCopyChangeExp:d,name:N,phone:R,setValidState:this.setValidState,viewType:eu}),11===H&&(0,el.jsx)(D.Z,{isBusiness:i,isRegistering:!1,onSubmitHandler:this.handleConsentStepSubmit,showConsistentSteps:this.props.showConsistentSteps,validationError:""}),13===H&&(0,el.jsx)(e4,{disabled:!P,handleChangePhoneNumberCountryCode:this.handleChangePhoneNumberCountryCode,setValidState:this.setValidState,viewType:eu}),10===H||11===H||G?null:(0,el.jsxs)(n.Fragment,{children:[(0,el.jsx)(a.xu,{marginBottom:6}),(0,el.jsx)(ej.Z,{allowSkip:this.isStepSkipable(),attributionLabel:em,handleSkipStep:this.handleSkipStep,isBusiness:i||p,location:u,loginLink:es,nextButtonText:this.getNextButtonText(),nextDisabled:!Z||E||6===H&&!T,nextPageForLogin:u.state?u.state.next:"",showBusinessSignup:ea,showSocialSignUpButtons:eo,showTextDivider:W,showTos:!0,viewParameter:this.getViewParameterType()})]})]})]})}),(0,el.jsx)(S.ZP,{accessibilityModalLabel:"",isOpen:U,mobileAccessibilityCloseIconLabel:l._('Close', 'modal.underage.close', 'Label for underage modal close button'),mobileHideCloseIcon:!0,onDismiss:function(){},children:(0,el.jsx)(tt.Z,{birthday:v,onEditBirthday:function(){g.t8(s.It,"0",(0,g.kZ)(s.It)),t.setState({isUnderageModalOpen:!1}),11===H&&t.navigateToStep(b-1)}})}),(z||m)&&(H!==q[q.length-1]||B||eg?(0,el.jsx)(Q.Z,{}):(0,el.jsx)(ee.Z,{isReducedHeader:ef,showConsistentSteps:this.props.showConsistentSteps}))]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tv(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function tO(e){var t,r,n,a,s,l,c,d,h,f,_=(0,o.s0)(),g=(0,o.TH)(),b=null==(t=g.state)?void 0:t.attributionLabel,y=(0,tn.Z)(),v=(0,P.Z)(),S=(0,i.I0)(),w=(0,N.Z)().checkExperiment,A=(0,Z.dI)().showToast,C=(0,o.TH)().pathname,O=(0,x.Z)(),T=O.isAuth&&O.isLimitedLogin,k=O.isAuth?O.id:"",I=O.isAuth?O.third_party_marketing_tracking_enabled:void 0,L=w("mweb_smb_sales_handraiser_copy_change_unauth").anyEnabled,D=(0,er.m)(),U=(0,et.f)(),M=(0,p.Z)(),H=(0,m.Z)(),Y=(0,B.B)(),X=Y.country,J=Y.isAuthenticated,ee=Y.locale,ea=(0,i.v9)(function(e){return e.session}),es=ea.loggedOutUserInfo,eu=ea.userId,ec=null!=(r=(0,i.v9)(function(e){return e.users}))?r:{},ed=(0,$.xT)(ec[eu]),ep=(0,V.HG)(),eh=(0,G.Z)(),ef=(0,F.vI)(),e_=ef.isRequirementEnabled,em=ef.state,eg=!eh&&g.pathname.startsWith("/business/"),eb=!eh&&g.pathname.startsWith("/linked/"),ey=(0,K.i)().unauthBoardInvite,ev=null!=(n=null!=(a=!eh&&(null==(s=g.state)?void 0:s.isFromGroupBoardsInvite))?a:!!ey)&&n,eS=g.state,ew=null!=(l=null==eS?void 0:eS.isFromPhoneNumberButton)&&l,ex=null!=(c=(0,E.q)())&&c,eP=null!=(d=null==(h=g.state)?void 0:h.isRedirectToNextParamAfterSignup)&&d,eE=w("ppm_p_gate").anyEnabled,eA=!eh&&e_({requirementEnum:1,viewType:10}),eC=w("ap_mweb_signup_and_nux_consistent_ui").anyEnabled,eO=w("mweb_strong_password").group,ej=w("adv_growth_business_settings_autms").anyEnabled,eT=(0,R.ZP)(),ek=eT.authenticateWithSso,eI=eT.verifySsoUser,eR=(0,q.Z)(),eN=null!=(f=(0,u.f)())?f:{isLoadingFingerprintContext:!1},eL=eN.fingerprintData,eB=eN.setupFingerprintSdks,ez=eN.isLoadingFingerprintContext;return((0,W.Z)(function(){null==eB||eB()}),C.startsWith("/business/")&&T||ep)?(0,el.jsx)(o.Fg,{replace:!0,to:"/"}):eh&&em===F.AA.LOADING?(0,el.jsx)(Q.Z,{}):(0,el.jsx)(tC,tf(tf({},e),{},{attributionLabel:b,authenticateWithSso:ek,country:X,fingerprintData:eL,getPasswordValidationRules:eR,i18n:v,inSmbSalesCopyChangeExperiment:L,isAppFactoryOAuth:ex,isAuthenticated:J,isBusiness:eg,isConsentStepNeeded:eA,isEligibleForBusinessLevelUrlParams:ej,isGroupBoardSignup:ev,isLBA:eb,isLimitedLoginUser:ed,isLoadingFingerprintContext:ez,isOnPasswordStrengthExperiment:"enabled"===eO,isOnPasswordStrengthRemoteExperiment:"enabled_remote"===eO,isPhoneNumberSignup:ew,isRedirectToNextParamAfterSignup:eP,locale:ee,location:g,logContextEvent:H,loggedOutUserInfo:es,login:U,match:y,navigate:_,navigateAfterLoginStatusChange:M,pixelBlocked:eE,register:D,saveBusinessSettingsUtms:function(e,t,r,n){return S((0,ei.Lu)({value:e,onSettingSavedHn:t,onErrorHn:r,userId:n}))},saveBusinessType:function(e,t,r,n){return S((0,ei._L)({field:"account_type",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:z.i.REGISTRATION,userId:n}))},saveIntent:function(e,t,r,n){return S((0,ei._L)({field:"advertising_intent",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:z.i.REGISTRATION,userId:n}))},saveWebsite:function(e,t,r,n){return S((0,ei._L)({field:"website_url",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:z.i.REGISTRATION,userId:n}))},setGenderStepComplete:function(){return S((0,eo.Q_)("COMPLETED_GENDER_SIGNUP",1))},setNumSignupSteps:function(e){return S((0,en.e0)(e))},showConsistentSteps:eC,showToast:A,thirdPartyMarketingTrackingEnabled:I,userId:k,validateEmailAvailability:function(e){return(0,j.Z)({checkExperiment:w,email:e,isBusiness:eg,isDesktop:ep})},verifySsoUser:eI}))}},826681:function(e,t,r){r.d(t,{Ge:function(){return p},JS:function(){return l},P_:function(){return u},Q_:function(){return _},b8:function(){return m},cg:function(){return c},h2:function(){return h},h6:function(){return f}});var n=r(27399),i=r(681698),o=r(748025);function a(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,l,"next",e)}function l(e){a(o,n,i,s,l,"throw",e)}s(void 0)})}}function l(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}var u=function(e,t){return{type:"USER_FOLLOW",payload:{id:e,value:t}}},c=function(e,t){return{type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}},d=function(e,t){return{type:"USER_BLOCK",payload:{id:e,value:t}}},p=function(e){var t,r=e.id,i=e.orbacSubjectId,o=e.blockSource,a=e.blockContext,l=e.logContextEvent;return t=s(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(d(r,!0)),e.next=3,n.Z.create("UserBlockResource",{blocked_user_id:r,orbac_subject_id:i,block_source:o,block_context:a}).callCreate().catch(function(){return t(d(r,!1))});case 3:return s=e.sent,l({event_type:54,object_id_str:r}),e.abrupt("return",s);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},h=function(e,t){var r;return r=s(regeneratorRuntime.mark(function r(i){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i(d(e,!1)),r.next=3,n.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(function(){return i(d(e,!0))});case 3:return o=r.sent,t({event_type:55,object_id_str:e}),r.abrupt("return",o);case 6:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)}};function f(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}var _=function(e,t){return function(){return n.Z.create("UserStateResource",{state:e,value:t}).callCreate()}},m=function(e,t,r){return function(n,a){(0,i.Z)({url:"/v3/users/me/",method:"POST"}).then(function(){r({event_type:48,object_id_str:a().session.userId}),e(),(0,o.Z)()},t)}}},94463:function(e,t,r){r.d(t,{Z:function(){return x}});var n=r(387784),i=r(787306),o=r(693490),a=r(20256),s=r(538985),l=r(24246),u=r(774838),c=r(554092),d=r(739405),p=r(496883),h=r(841270),f=r(807480),_=r(680811);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t,r){var n;return(n=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==m(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var w=function(e,t,r,n){var a=(0,i.Z)(e,"yyyy-MM-dd",new Date);if(!(0,o.Z)(a)){r((0,s.Tv)(t,!0,!0,!0)),n("date error");return}if(!(0,s.Cd)(e,h.kx)){var l=(0,s.Uy)(t);r(l),n(l);return}var u=(0,p.a3)(e,[(0,p.C9)({date:new Date(new Date().getFullYear(),0,1),message:t._('Invalid date', 'signup.emailpasswordstep.birthday.validator_message', 'Error message shown when user input a birthday date later than allowed')})]);r(u),n(u)};function x(e){var t=e.disabled,r=e.handleChangeBirthday,o=e.setValidState,p=e.birthdayErrorMessage,h=e.birthday,m=e.onChange,g=e.setBirthday,S=e.showConsistentSteps,x=e.hideFieldLabel,P=e.surface,E=(0,l.Z)(),A=(0,d.HG)(),C=h?(0,i.Z)(h,"yyyy-MM-dd",new Date):void 0,O=v((0,n.useState)({day:C?C.getDate():void 0,month:C?C.getMonth()+1:void 0,year:C?C.getFullYear():void 0}),2),j=O[0],T=O[1],k=v((0,n.useState)(!1),2),I=k[0],R=k[1],N=v((0,n.useState)(!1),2),L=N[0],B=N[1],z=v((0,n.useState)(!1),2),D=z[0],U=z[1],Z=v((0,n.useState)(""),2),M=Z[0],F=Z[1],V=(0,u.B)().locale,W=(0,n.useCallback)(function(e){var t=e.day,n=e.month,i=e.year;if(void 0!==i&&(i<s.nN||i>s.cO)?U(!0):U(!1),void 0!==n&&(n>s.Xf||n<s.Oh)?B(!0):B(!1),void 0!==t&&(t<s.p9||t>s.G)?R(!0):R(!1),I||L||D){var a=(0,s.Tv)(E,I,L,D,P===c.i.SETTINGS);g(""),r(h),F(a),o("error birthday fields")}else void 0!==n&&void 0!==i&&void 0!==t?(g(i.toString()+"-"+n.toString().padStart(2,"0")+"-"+t.toString().padStart(2,"0")),r(h),w(h,E,F,o)):(g(""),r(h),F(""))},[I,L,D,E,o,g,r,h,P]);(0,n.useEffect)(function(){W(j)},[j,W]);var G=function(e,t){T(b(b({},j),{},y({},e.target.name,t))),null==m||m()},q=(0,_.jsx)(a.xu,{"data-test-id":"birthday-fields",children:(0,_.jsx)(a.Ki,{disabled:t,id:"birthday-day",label:x?"":E._('Day', 'signup.birthdate.day', 'Signup birthdate textfield day label'),name:"day",onBlur:function(){return W(j)},onChange:function(e){G(e.event,e.value)},placeholder:E._('DD', 'signup.birthdate.placeholder.day', 'Signup birthdate textfield day placeholder'),value:j.day})}),H=(0,_.jsx)(a.xu,{"data-test-id":"birthday-fields",children:(0,_.jsx)(a.Ki,{disabled:t,id:"birthday-month",label:x?"":E._('Month', 'signup.birthdate.month', 'Signup birthdate textfield month label'),name:"month",onBlur:function(){return W(j)},onChange:function(e){G(e.event,e.value)},placeholder:E._('MM', 'signup.birthdate.placeholder.month', 'Signup birthdate textfield month placeholder'),value:j.month})}),Y=(0,_.jsx)(a.xu,{"data-test-id":"birthday-fields",children:(0,_.jsx)(a.Ki,{disabled:t,id:"birthday-year",label:x?"":E._('Year', 'signup.birthdate.year', 'Signup birthdate textfield year label'),name:"year",onBlur:function(){return W(j)},onChange:function(e){G(e.event,e.value)},placeholder:E._('YYYY', 'signup.birthdate.placeholder.year', 'Signup birthdate textfield year placeholder'),value:j.year})}),K=(0,f.Z)(V),Q="YYMMDD"===K?Y:"MMDDYY"===K?H:q,X="YYMMDD"===K?H:"MMDDYY"===K?q:H,$="YYMMDD"===K?q:Y;return(0,_.jsx)(a.xu,{display:"flex",marginEnd:A?-1:3,marginStart:A?2:3,paddingY:2*!S,children:(0,_.jsx)(a.pg,{errorMessage:p||M,id:"birthday-input-fields",legend:E._('birthday input fields', 'birthday legend', 'Label to birthday legend'),legendDisplay:"hidden",children:(0,_.jsxs)(a.kC,{gap:4,children:[Q,X,$]})})})}},672995:function(e,t,r){r.d(t,{Z:function(){return g}});var n=r(387784),i=r(20256),o=r(538985),a=r(104999),s=r(59355),l=r(24246),u=r(216975),c=r(865043),d=r(496883),p=r(94463),h=r(3200),f=r(680811);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function g(e){var t=e.disabled,r=e.handleChangeBirthday,m=e.handleChangeName,g=e.name,b=e.setValidState,y=e.birthdayErrorMessage,v=e.viewType,S=e.setBirthday,w=e.showConsistentSteps,x=e.birthday,P=(0,l.Z)(),E=(0,a.Z)(),A=_((0,n.useState)(!1),2),C=A[0],O=A[1],j=_((0,n.useState)(""),2),T=j[0],k=j[1];(0,s.Q)({view_type:v,view_parameter:3737}),(0,n.useEffect)(function(){x||b("error")},[x,b]),(0,n.useEffect)(function(){(0,c.My)("mweb.signup_age_step",{format:"birthday",type:"email"})});var I=function(e,t){var r=[(0,d.Gy)({max:30,maxErrorString:P._('Hmm, that\'s a few characters too long. Try a nickname instead?', 'Name exceeds 30 character maximum error', 'Name exceeds 30 character maximum error')}),(0,d.aH)({message:P._('Required', 'Required field validation error message', 'Required field validation error message')}),(0,d.vd)({pattern:/^((?!@).)*$/,message:P._('Name cannot contain @', 'Name cannot contain @', 'Name cannot contain @')})],n=(0,d.a3)(e,r);k(t?n:""),b(n)},R=(0,f.jsx)(i.hU,{accessibilityLabel:"editName",bgColor:"transparent",icon:C?"check":"edit",iconColor:"gray",onClick:function(){O(!C),E({element:136,event_type:102,view_type:10,view_parameter:3223})},size:"sm"});return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsxs)(i.xu,{alignItems:"end",display:C?"block":"flex",justifyContent:C?void 0:"center",marginStart:5*!w,marginTop:w?5:2,children:[(0,f.jsx)(i.__,{htmlFor:"name",children:(0,f.jsx)(h.Z,{center:!w,minHeight:60,children:(0,f.jsx)(i.kC,{alignItems:w?"start":"center",direction:"column",justifyContent:"start",children:(0,f.jsx)(i.xu,{"data-test-id":"enter-birthdate-heading",display:"flex",marginStart:C||w?0:8,children:(0,f.jsx)(i.X6,{accessibilityLevel:1,align:w?"start":"center",size:w?"600":"400",children:!C&&g?(0,u.nk)(P._('Enter your birthdate, {{ name }}', 'signup.birthday.question_with_name', 'Sign up birthdate step label. [name:users name]'),{name:g}):P._('Enter your birthdate,', 'signup.birthdate.question', 'Sign up birthdate step label')})})})})}),(0,f.jsxs)(i.kC,{alignItems:"baseline",justifyContent:"start",children:[C&&(0,f.jsx)(i.xu,{marginBottom:1,marginEnd:4*!!w,marginTop:3,width:"100%",children:(0,f.jsx)(i.nv,{disabled:t,errorMessage:T,id:"name",onBlur:function(e){return I(e.value,!0)},onChange:function(e){var t=e.value;m(t),I(t,!1)},placeholder:P._('Full name', 'signup.birthdate.placeholder', 'Signup birthdate textfield placeholder'),size:"lg",type:"text",value:g})}),R]})]}),(0,f.jsx)(i.xu,{marginBottom:2*!w,marginStart:3*!w,marginTop:+!!w,paddingY:2*!w,children:(0,f.jsx)(i.xv,{align:w?"start":"center",size:"300",children:P._('To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We won\'t share this information without your permission and it won\'t be visible on your profile.', 'signup.birthday.subheader', 'Sign up birthdate step subheader')})}),(0,f.jsx)(i.xu,{"data-test-id":"signup-birthdate-field",marginBottom:4,marginTop:w?6:5,children:(0,f.jsx)(p.Z,{birthday:x,birthdayErrorMessage:y,disabled:t,handleChangeBirthday:r,setBirthday:S,setValidState:b,showConsistentSteps:w})}),(0,f.jsx)(i.kC,{justifyContent:"center",children:(0,f.jsx)(i.xv,{color:"subtle",size:"100",children:(0,o.ML)(P)})})]})}},807480:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e){var t=new Intl.DateTimeFormat(e).formatToParts(new Date).map(function(e){switch(e.type){case"day":return"DD";case"month":return"MM";case"year":return"YY";default:return""}}).join("");return t.startsWith("Y")?"YYMMDD":t.startsWith("M")?"MMDDYY":"DDMMYY"}},3200:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(387784),i=r(20256),o=r(680811);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var h=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");h.prototype=Object.create(e&&e.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),e&&s(h,e);var t,r,n=(t=u(),function(){var e,r=c(h);return e=t?Reflect.construct(r,arguments,c(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function h(){var e;if(!(this instanceof h))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return d(l(e=n.call.apply(n,[this].concat(r))),"state",{textWidth:"100%"}),d(l(e),"setWidthFn",function(t){var r=e.props.minHeight;if(t&&void 0===e.state.textWidth){var n=t.offsetHeight,i=t.offsetWidth;e.setState({textWidth:n<r?i-1:"auto"})}}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.children,r=e.center,n=this.state.textWidth;return(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{wordBreak:"break-word"}},display:"flex",justifyContent:r?"center":"start",width:n,children:(0,o.jsx)(i.xu,{ref:this.setWidthFn,children:t})})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}(h.prototype,r),Object.defineProperty(h,"prototype",{writable:!1}),h}(n.PureComponent)},362143:function(e,t,r){var n=r(653551),i=r(20256),o=r(966502),a=r(538985),s=r(470967),l=r(924591),u=r(24246),c=r(865043),d=r(577356),p=r(680811);t.Z=function(e){var t=e.birthday,r=e.onEditBirthday,h=(0,u.Z)(),f=(0,d.dI)().showToast,_=(0,n.s0)();return(0,p.jsx)(i.xu,{"data-test-id":"underageconfirmation-modal",paddingX:6,paddingY:8,children:(0,p.jsxs)(i.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,p.jsx)(i.xu,{"data-test-id":"underageconfirmation-title",marginBottom:8,width:320,children:(0,p.jsx)(i.X6,{align:"center",size:"600",children:(0,a.ew)(t||"",h)})}),(0,p.jsx)(i.xu,{children:(0,p.jsxs)(i.kC,{children:[(0,p.jsx)(i.xu,{marginEnd:2,width:134,children:(0,p.jsx)(i.zx,{fullWidth:!0,onClick:function(){(0,c.My)("dweb.underageconfirmation.edit"),s.t8(o.It,"0",(0,s.kZ)(o.It)),r()},text:h._('Edit', 'signup.underageconfirmation.edit', 'Text on the edit button for birthday collection underage screen')})}),(0,p.jsx)(i.xu,{width:134,children:(0,p.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:function(){_("/"),f(function(e){var t=e.hideToast;return(0,p.jsx)(l.Z,{duration:3e3,onHide:t,text:h._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'signup.underageconfirmation.error', 'Underage error during signup'),type:"error"})}),(0,c.My)("dweb.underageconfirmation.confirm")},text:h._('Confirm', 'signup.underageconfirmation.confirm', 'Text on the confirm button for birthday collection underage screen'),type:"submit"})})]})})]})})}}}]);